<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="496px" preserveAspectRatio="none" style="width:638px;height:496px;background:#FFFFFF;" version="1.1" viewBox="0 0 638 496" width="638px" zoomAndPan="magnify"><defs/><g><!--class MemTable--><g id="elem_MemTable"><rect codeLine="4" fill="#F1F1F1" height="210" id="MemTable" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="624.4401" x="7" y="7"/><ellipse cx="278.52" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M280.4375,28.1851 Q279.9248,28.4487 279.3609,28.5806 Q278.7969,28.7124 278.1743,28.7124 Q275.9624,28.7124 274.7979,27.2549 Q273.6333,25.7974 273.6333,23.0435 Q273.6333,20.2822 274.7979,18.8247 Q275.9624,17.3672 278.1743,17.3672 Q278.7969,17.3672 279.3682,17.499 Q279.9395,17.6309 280.4375,17.8945 L280.4375,20.2969 Q279.8809,19.7842 279.3572,19.5461 Q278.8335,19.3081 278.2769,19.3081 Q277.0903,19.3081 276.4861,20.2493 Q275.8818,21.1904 275.8818,23.0435 Q275.8818,24.8892 276.4861,25.8303 Q277.0903,26.7715 278.2769,26.7715 Q278.8335,26.7715 279.3572,26.5334 Q279.8809,26.2954 280.4375,25.7827 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="72.9" x="299.02" y="28.25">MemTable</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="630.4401" y1="39" y2="39"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="15" y="50.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="205.5" x="27" y="57.25">KeyComparator comparator_;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="15" y="68.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="59.565" x="27" y="75.25">int refs_;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="15" y="86.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="94.575" x="27" y="93.25">Arena arena_;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="15" y="104.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="88.335" x="27" y="111.25">Table table_;</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="630.4401" y1="119" y2="119"/><ellipse cx="18" cy="133.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="68.865" x="27" y="137.25">void Ref()</text><ellipse cx="18" cy="151.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="83.79" x="27" y="155.25">void Unref()</text><ellipse cx="18" cy="169.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="154.62" x="27" y="173.25">Iterator* NewIterator()</text><ellipse cx="18" cy="187.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="598.4401" x="27" y="191.25">void Add(SequenceNumber seq, ValueType type, const Slice&amp; key, const Slice&amp; value)</text><ellipse cx="18" cy="205.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="421.8601" x="27" y="209.25">bool Get(const LookupKey&amp; key, std::string* value, Status* s)</text></g><!--class Arena--><g id="elem_Arena"><rect codeLine="17" fill="#F1F1F1" height="192" id="Arena" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="330.845" x="153.8" y="297"/><ellipse cx="294.82" cy="313" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M296.7375,318.1851 Q296.2248,318.4487 295.6608,318.5806 Q295.0968,318.7124 294.4743,318.7124 Q292.2624,318.7124 291.0978,317.2549 Q289.9333,315.7974 289.9333,313.0435 Q289.9333,310.2822 291.0978,308.8247 Q292.2624,307.3672 294.4743,307.3672 Q295.0968,307.3672 295.6681,307.499 Q296.2394,307.6309 296.7375,307.8945 L296.7375,310.2969 Q296.1808,309.7842 295.6571,309.5461 Q295.1335,309.3081 294.5768,309.3081 Q293.3903,309.3081 292.786,310.2493 Q292.1818,311.1904 292.1818,313.0435 Q292.1818,314.8892 292.786,315.8303 Q293.3903,316.7715 294.5768,316.7715 Q295.1335,316.7715 295.6571,316.5334 Q296.1808,316.2954 296.7375,315.7827 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="40.305" x="315.32" y="318.25">Arena</text><line style="stroke:#181818;stroke-width:0.5;" x1="154.8" x2="483.645" y1="329" y2="329"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="161.8" y="340.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="108.675" x="173.8" y="347.25">char* alloc_ptr_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="161.8" y="358.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="205.56" x="173.8" y="365.25">size_t alloc_bytes_remaining_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="161.8" y="376.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="181.77" x="173.8" y="383.25">std::vector&lt;char*&gt; blocks_</text><line style="stroke:#181818;stroke-width:0.5;" x1="154.8" x2="483.645" y1="391" y2="391"/><ellipse cx="164.8" cy="405.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="191.025" x="173.8" y="409.25">char* Allocate(size_t bytes)</text><ellipse cx="164.8" cy="423.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="243.48" x="173.8" y="427.25">char* AllocateAligned(size_t bytes)</text><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="4.2" x="173.8" y="445.25">&#160;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="161.8" y="456.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="247.71" x="173.8" y="463.25">char* AllocateFallback(size_t bytes)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="161.8" y="474.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="304.845" x="173.8" y="481.25">char* AllocateNewBlock(size_t block_bytes)</text></g><!--reverse link MemTable to Arena--><g id="link_MemTable_Arena"><path codeLine="28" d="M319.22,229.29 C319.22,255.29 319.22,271.04 319.22,296.59 " fill="#FFFFFF" fill-opacity="0.00000" id="MemTable-backto-Arena" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="319.22,217.29,315.22,223.29,319.22,229.29,323.22,223.29,319.22,217.29" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="30" x="320.22" y="262.25">&#32452;&#21512;</text></g><!--SRC=[RPB1JYCn38RlynGM1zIM8i412HM4D2214D031QwH9sCWQYOfYQTiTxKt3Xnv7vu7yHeudIc8WOkLt_xYsFzCd1etmu0Lb7IBjULZxtYC5S5QRWiA31DqSIsBlt4JyvTWUoUB6Yr1XNzWTsiB7at9zvcs62DSK7M5XHJ_PHimzwQ4IxhjzLVYseLMdZ85P1y6CAR7bVW2yxBiJUYX9gTfN5So64Hw6C8Dsfgk5ZC2bZ04xLsKaQtHj0vJMdGoyuIdfeNt5aw8UqtvtFjfFJkZHNifSZaQHGx6tGsQIqEOC78T1n3xMRO9mXxvAZaYSyeZgwFQ0v2oSGooMcnb7iWXO8fjfd65KrHxsV-izQi1ardw7iMCt5glaQaNnMh5K2oOOlz7ERVcpb7PeUIPxzWnMbkWddQuBYPVu51ENrWIgWDZWjMCWv9K2pQv9QW2LMYS6AYM-ouTdPCMY_QN3GwQjb6bvJz_ay5cQzO8tb-VtbwUFm00]--></g></svg>