<!DOCTYPE html>
<html lang="zh">
<head>

        <title>PHP之道---PHP基础知识（译）</title>
        <meta charset="utf-8" />
        <link href="http://youngsterxyf.github.io/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="数据与智能 Full Atom Feed" />
        <link href="http://youngsterxyf.github.io/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="数据与智能 Full RSS Feed" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="../../../../theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="../../../../theme/style.css" />
        <link rel="stylesheet" type="text/css" href="../../../../theme/pygment.css" />
        <link rel="stylesheet" type="text/css" href="../../../../theme/hgxs/FZZJ-HGXSJW.css" />

        <script src="../../../../theme/js/libs/jquery-1.9.1.min.js"></script>
        <script src="../../../../theme/js/libs/modernizr-2.6.2.min.js"></script>
            <script>
              var _hmt = _hmt || [];
              (function() {
                var hm = document.createElement("script");
                hm.src = "//hm.baidu.com/hm.js?5c5d8c3fe75afeff117777b9236b96ec";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
              })();
            </script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
        <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
</head>

<body id="index" class="home">
    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1 style='font-family: "FZZJ-HGXSJW";'><a href="../../../..">数据与智能 <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>

              <ul class="columns" style='font-family: "FZZJ-HGXSJW";'>
                <li><a href="../../../..">主 页</a></li>

                <li><a href="/archives.html">归 档</a></li>
                <li><a href="/pages/tech-share.html">技术分享</a></li>
                <li><a href="/pages/translation.html">技术翻译</a></li>
                <li><a href="/pages/ds.html">分布式</a></li>
                <li><a href="/pages/tools.html">工具集</a></li>
                <li><a href="/pages/links.html">链 接</a></li>
                <li><a href="/pages/aboutme.html">关于我</a></li>
                <li><a href="/feeds/rss.xml">RSS</a></li>

              </ul>
            </div>

<section id="content" class="body">
   <div class="row">
        <div class="columns">
            <header>
              <h2 class="entry-title">
                <a href="../../../../2013/03/08/php-basics/" rel="bookmark" title="Permalink to PHP之道---PHP基础知识（译）">PHP之道---PHP基础知识（译）</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2013-03-08T00:00:00+08:00">
                2013-03-08 Fri
              </abbr>
              <address class="vcard author">
                By <a class="url fn" href="../../../../author/youngsterxyf.html">youngsterxyf</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <p>原文：<a href="http://wulijun.github.com/php-the-right-way/pages/The-Basics.html">PHP: The Right Way - The Basics</a></p>
<p>译者：<a href="http://github.com/youngsterxyf">youngsterxyf</a></p>
<h2>比较操作符</h2>
<p>比较操作符往往是PHP的一个被忽视的方面，这会导致很多意想不到的结果。其中的一个问题源于严格比较（布尔值为整数的比较）。</p>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%;"><span></span><code><span style="color: #0000ff">&lt;?php</span>
$a = 5;     <span style="color: #008000">// 5为一个整数</span>

var_dump($a == 5);      <span style="color: #008000">// 比较值；返回true</span>
var_dump($a == <span style="color: #a31515">&#39;5&#39;</span>);        <span style="color: #008000">// 比较值（忽略类型）；返回true</span>
var_dump($a === 5);         <span style="color: #008000">// 比较类型/值（整数 vs. 整数）；返回true</span>
var_dump($a === <span style="color: #a31515">&#39;5&#39;</span>);       <span style="color: #008000">// 比较类型/值（整数 vs. 整数）；返回false</span>

<span style="color: #a31515">/**</span>
<span style="color: #a31515">  * 严格比较</span>
<span style="color: #a31515">  */</span>
<span style="color: #0000ff">if</span> (strpos(<span style="color: #a31515">&#39;testing&#39;</span>, <span style="color: #a31515">&#39;test&#39;</span>)) {    <span style="color: #008000">// 在位置0找到&#39;test&#39;，0被解释为布尔值&#39;false&#39;</span>
    <span style="color: #008000">// code...</span>
}

vs.

<span style="color: #0000ff">if</span> (strpos(<span style="color: #a31515">&#39;testing&#39;</span>, <span style="color: #a31515">&#39;test&#39;</span>) !== <span style="color: #0000ff">false</span>) {  <span style="color: #008000">// true，因为做了严格比较（0 !== false）</span>
    <span style="color: #008000">// code...</span>
}
<span style="color: #0000ff">?&gt;</span>
</code></pre></div>

<ul>
<li><a href="http://php.net/manual/en/language.operators.comparison.php">比较操作符</a></li>
<li><a href="http://php.net/manual/en/types.comparisons.php">比较列表</a></li>
</ul>
<h2>条件语句</h2>
<h3>If语句</h3>
<p>在函数或类中使用'if/else'之时，有个常见的误解---'else'必须一起使用以声明潜在的结果。然而，如果，结果是定义返回值，则'else'是不需要的，因为'return'会结束函数，使得'else'变得毫无意义。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #008000; font-weight: bold">function</span> <span style="color: #0000FF">test</span>(<span style="color: #19177C">$a</span>)
{
    <span style="color: #008000; font-weight: bold">if</span> (<span style="color: #19177C">$a</span>) {
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">true</span>;
    } <span style="color: #008000; font-weight: bold">else</span> {
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">false</span>;
    }
}

vs<span style="color: #666666">.</span>

<span style="color: #008000; font-weight: bold">function</span> <span style="color: #0000FF">test</span>(<span style="color: #19177C">$a</span>)
{
    <span style="color: #008000; font-weight: bold">if</span> (<span style="color: #19177C">$a</span>) {
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">true</span>;
    }
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">false</span>;       <span style="color: #408080; font-style: italic">// 不需要else分支</span>
}
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

<ul>
<li><a href="http://php.net/manual/en/control-structures.if.php">If语句</a></li>
</ul>
<h3>Switch语句</h3>
<p>Switch语句是一种避免输入无穷尽的if和elseif的绝妙方式，但需要注意几点：</p>
<ul>
<li>Switch语句仅比较值，并不关心类型（等价于'=='）</li>
<li>逐个分支地迭代直到找到一个匹配项。如果没找到匹配项，则使用缺省(default)分支（如果定义了）</li>
<li>若匹配项的代码体没有'break'语句，则会继续执行接下来的每个分支，直到遇到一个break/return语句</li>
<li>
<p>在函数内，使用'return'可以减少'break'的使用，因为'return'能够结束函数</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #19177C">$answer</span> <span style="color: #666666">=</span> test(<span style="color: #666666">2</span>);      <span style="color: #408080; font-style: italic">// &#39;case 2&#39;和&#39;case3&#39;的代码体会得到执行</span>

<span style="color: #008000; font-weight: bold">function</span> <span style="color: #0000FF">test</span>(<span style="color: #19177C">$a</span>)
{
    <span style="color: #008000; font-weight: bold">switch</span> (<span style="color: #19177C">$a</span>) {
        <span style="color: #008000; font-weight: bold">case</span> <span style="color: #666666">1:</span>
            <span style="color: #408080; font-style: italic">// code...</span>
            <span style="color: #008000; font-weight: bold">break</span>;      <span style="color: #408080; font-style: italic">// break用于结束switch语句</span>
        <span style="color: #008000; font-weight: bold">case</span> <span style="color: #666666">2:</span>
            <span style="color: #408080; font-style: italic">// code...  // 没有break，继续比较&#39;case 3&#39;</span>
        <span style="color: #008000; font-weight: bold">case</span> <span style="color: #666666">3:</span>
            <span style="color: #408080; font-style: italic">// code...</span>
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #19177C">$result</span>;     <span style="color: #408080; font-style: italic">// 当前位置在函数内，&#39;return&#39;会结束函数</span>
        <span style="color: #008000; font-weight: bold">default</span><span style="color: #666666">:</span>
            <span style="color: #408080; font-style: italic">// code...</span>
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #19177C">$error</span>;
    }
}
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

</li>
<li>
<p><a href="http://php.net/manual/en/control-structures.switch.php">Switch语句</a></p>
</li>
<li><a href="http://phpswitch.com/">PHP switch</a></li>
</ul>
<h2>全局命名空间</h2>
<p>使用命名空间之时，你可能发现内置函数被你所写的函数覆盖了。推荐在全局函数的函数名之前添加一个反斜杠来修正这个问题。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #008000; font-weight: bold">namespace</span> phptherightway;

<span style="color: #008000; font-weight: bold">function</span> <span style="color: #0000FF">fopen</span>()
{
    <span style="color: #19177C">$file</span> <span style="color: #666666">=</span> \fopen();       <span style="color: #408080; font-style: italic">// 我们的函数名与内部函数的函数名相同。</span>
                            <span style="color: #408080; font-style: italic">// 通过添加&#39;\&#39;指定从全局命名空间执行函数</span>
}

<span style="color: #008000; font-weight: bold">function</span> <span style="color: #0000FF">array</span>()
{
    <span style="color: #19177C">$iterator</span> <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> \ArrayIterator();       <span style="color: #408080; font-style: italic">// ArrayIterator是一个内置类。</span>
                                            <span style="color: #408080; font-style: italic">// 若类名之前没有一个反斜杠，解释器会试图在你的命名空间中解析它</span>
}
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

<ul>
<li><a href="http://php.net/manual/en/language.namespaces.global.php">全局命名空间</a></li>
<li><a href="http://php.net/manual/en/userlandnaming.rules.php">全局规则</a></li>
</ul>
<h2>字符串</h2>
<h3>拼接</h3>
<ul>
<li>如果代码行超过了推荐的行长度（120个字符），那么应该考虑拼接代码行</li>
<li>为了便于阅读，最好使用拼接操作符而不是拼接赋值操作符</li>
<li>
<p>在变量原本的命名空间内，当拼接使用了新行，则应该缩进</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #19177C">$a</span> <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;Multi-line example&#39;</span>;      <span style="color: #408080; font-style: italic">// 拼接赋值操作符(.=)</span>
<span style="color: #19177C">$a</span> <span style="color: #666666">.=</span> <span style="color: #BA2121">&quot;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>;
<span style="color: #19177C">$a</span> <span style="color: #666666">.=</span> <span style="color: #BA2121">&#39;of what not to do&#39;</span>;

vs<span style="color: #666666">.</span>

<span style="color: #19177C">$a</span> <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;Multi-line example&#39;</span>       <span style="color: #408080; font-style: italic">// 拼接操作符(.)</span>
    <span style="color: #666666">.</span> <span style="color: #BA2121">&quot;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>                      <span style="color: #408080; font-style: italic">// 缩进新行</span>
    <span style="color: #666666">.</span> <span style="color: #BA2121">&#39;of what to do&#39;</span>;
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

</li>
<li>
<p><a href="http://php.net/manual/en/language.operators.string.php">字符串操作符</a></p>
</li>
</ul>
<h3>字符串类型</h3>
<p>字符串类型在PHP社区内是个不变的特性，但希望本节内容能够解释清楚字符串类型之间的区别以及各自的好处/用法。</p>
<p><strong>单引号</strong></p>
<p>单引号是创建字符串最简单的方式，并且通常执行速度也是最快的，因为PHP不会解析这种字符串（不解析其中是否存在变量），所以单引号最适用于：</p>
<ul>
<li>不需要解析的字符串</li>
<li>
<p>将变量写为纯文本值（Writing of a variable into plain text）</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #008000; font-weight: bold">echo</span> <span style="color: #BA2121">&#39;This is my string, look at how pretty it is.&#39;</span>;        <span style="color: #408080; font-style: italic">//不需要解析一个简单的字符串</span>

<span style="color: #BA2121; font-style: italic">/**</span>
<span style="color: #BA2121; font-style: italic">  * 输出:</span>
<span style="color: #BA2121; font-style: italic">  *</span>
<span style="color: #BA2121; font-style: italic">  * This is my string, look at how pretty it is.</span>
<span style="color: #BA2121; font-style: italic">  */</span>
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

</li>
<li>
<p><a href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.single">单引号</a></p>
</li>
</ul>
<p><strong>双引号</strong></p>
<p>双引号是字符串处理的瑞士军刀，但执行速度比较慢，因为字符串要经过解析。双引号最适用于：</p>
<ul>
<li>转义字符串</li>
<li>内含多个变量和纯文本的字符串</li>
<li>压缩多行拼接，提高可读性<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #008000; font-weight: bold">echo</span> <span style="color: #BA2121">&#39;phptherightway is &#39;</span> <span style="color: #666666">.</span> <span style="color: #19177C">$adjective</span> <span style="color: #666666">.</span> <span style="color: #BA2121">&#39;.&#39;</span>    <span style="color: #408080; font-style: italic">// 一个单引号的使用示例，</span>
    <span style="color: #666666">.</span> <span style="color: #BA2121">&quot;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>                                      <span style="color: #408080; font-style: italic">// 为变量和转义字符串使用了多行拼接</span>
    <span style="color: #666666">.</span> <span style="color: #BA2121">&#39;I love learning &#39;</span> <span style="color: #666666">.</span> <span style="color: #19177C">$code</span> <span style="color: #666666">.</span> <span style="color: #BA2121">&#39;!&#39;</span>;

vs<span style="color: #666666">.</span>

<span style="color: #008000; font-weight: bold">echo</span> <span style="color: #BA2121">&quot;phptherightway is </span><span style="color: #BB6688; font-weight: bold">$adjective</span><span style="color: #BA2121">.</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121"> I love learning </span><span style="color: #BB6688; font-weight: bold">$code</span><span style="color: #BA2121">!&quot;</span>;      <span style="color: #408080; font-style: italic">// 没有使用多行拼接，</span>
<span style="color: #BC7A00">?&gt;</span>                                                                  // 双引号允许我们使用可解析的字符串
</code></pre></div>

</li>
</ul>
<p>使用双引号创建的字符串中包含变量时，经常出现变量名与后面另一个字符相接触的情况，从而导致PHP不解析该变量，因为它被"伪装"起来了。为了解决这个问题，可以使用一对大括号把变量包围起来。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #19177C">$juice</span> <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;plum&#39;</span>;
<span style="color: #008000; font-weight: bold">echo</span> <span style="color: #BA2121">&quot;I drank some juice made of </span><span style="color: #BB6688; font-weight: bold">$juices</span><span style="color: #BA2121">&quot;</span>;      <span style="color: #408080; font-style: italic">// $juice得不到解析</span>

vs<span style="color: #666666">.</span>

<span style="color: #19177C">$juice</span> <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;plum&#39;</span>;
<span style="color: #008000; font-weight: bold">echo</span> <span style="color: #BA2121">&quot;I drank some juice made of</span><span style="color: #BB6688; font-weight: bold">{</span><span style="color: #19177C">$juice</span><span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121">s&quot;</span>;     <span style="color: #408080; font-style: italic">// $juice得到解析</span>

<span style="color: #BA2121; font-style: italic">/**</span>
<span style="color: #BA2121; font-style: italic">  * 大括号内的复杂变量也能得到解析</span>
<span style="color: #BA2121; font-style: italic">  */</span>

<span style="color: #19177C">$juice</span> <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">array</span>(<span style="color: #BA2121">&#39;apple&#39;</span>, <span style="color: #BA2121">&#39;orange&#39;</span>, <span style="color: #BA2121">&#39;plum&#39;</span>);
<span style="color: #008000; font-weight: bold">echo</span> <span style="color: #BA2121">&quot;I drank some juice made of </span><span style="color: #BB6688; font-weight: bold">{</span><span style="color: #19177C">$juice</span>[<span style="color: #666666">1</span>]<span style="color: #BB6688; font-weight: bold">}</span><span style="color: #BA2121">s&quot;</span>;     <span style="color: #408080; font-style: italic">// $juice[1]将得到解析</span>
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

<ul>
<li><a href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.double">双引号</a></li>
</ul>
<p><strong>Nowdoc语法</strong></p>
<p>PHP 5.3引入了Nowdoc语法，其行为与单引号相同，除了她适用于多行字符串的使用，而不需要拼接。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #19177C">$str</span> <span style="color: #666666">=</span> <span style="color: #666666">&lt;&lt;&lt;</span><span style="color: #BA2121">&#39;EOD&#39;</span>         <span style="color: #408080; font-style: italic">// 通过&lt;&lt;&lt;初始化</span>
Example of string
spanning multiple lines
using nowdoc syntax<span style="color: #666666">.</span>
<span style="color: #19177C">$a</span> does <span style="color: #008000; font-weight: bold">not</span> parse<span style="color: #666666">.</span>
EOD;                    <span style="color: #408080; font-style: italic">// &#39;EOD&#39;关闭符必须单独一行，并且处于最左边</span>

<span style="color: #BA2121; font-style: italic">/**</span>
<span style="color: #BA2121; font-style: italic">  * 输出:</span>
<span style="color: #BA2121; font-style: italic">  * </span>
<span style="color: #BA2121; font-style: italic">  * Example of string</span>
<span style="color: #BA2121; font-style: italic">  * spanning multiple lines</span>
<span style="color: #BA2121; font-style: italic">  * using nowdoc syntax.</span>
<span style="color: #BA2121; font-style: italic">  * $a does not parse.</span>
<span style="color: #BA2121; font-style: italic">  */</span>
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

<ul>
<li><a href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.nowdoc">Nowdoc语法</a></li>
</ul>
<p><strong>Heredoc语法</strong></p>
<p>Heredoc语法的行为与双引号相同，除了它适用于多行字符串的使用，而不需要拼接。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #19177C">$a</span> <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;Variables&#39;</span>;

<span style="color: #19177C">$str</span> <span style="color: #666666">=</span> <span style="color: #666666">&lt;&lt;&lt;</span>EOD       <span style="color: #408080; font-style: italic">// 使用&lt;&lt;&lt;初始化</span>
Example of string
spanning multiple lines
using heredoc syntax<span style="color: #666666">.</span>
<span style="color: #19177C">$a</span> are parsed<span style="color: #666666">.</span>
EOD;                    <span style="color: #408080; font-style: italic">// &#39;EOD&#39;关闭符必须单独一行，且处于最左边位置</span>

<span style="color: #BA2121; font-style: italic">/**</span>
<span style="color: #BA2121; font-style: italic">  * 输出：</span>
<span style="color: #BA2121; font-style: italic">  *</span>
<span style="color: #BA2121; font-style: italic">  * Example of string</span>
<span style="color: #BA2121; font-style: italic">  * spanning multiple lines</span>
<span style="color: #BA2121; font-style: italic">  * using heredoc syntax.</span>
<span style="color: #BA2121; font-style: italic">  * Variables are parsed.</span>
<span style="color: #BA2121; font-style: italic">  */</span>
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

<ul>
<li><a href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc">Heredoc语法</a></li>
</ul>
<h2>三元操作符</h2>
<p>三元操作符是一种压缩代码的好方式，但经常被滥用。当需要多层或嵌套使用三元操作符时，建议一行代码仅使用一次三元操作符以提高代码可读性。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #19177C">$a</span> <span style="color: #666666">=</span> <span style="color: #666666">5</span>;
<span style="color: #008000; font-weight: bold">echo</span> (<span style="color: #19177C">$a</span> <span style="color: #666666">==</span> <span style="color: #666666">5</span>) <span style="color: #666666">?</span> <span style="color: #BA2121">&#39;yay&#39;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&#39;nay&#39;</span>;

vs<span style="color: #666666">.</span>

<span style="color: #408080; font-style: italic">// 嵌套三元操作符</span>
<span style="color: #19177C">$b</span> <span style="color: #666666">=</span> <span style="color: #666666">10</span>;
<span style="color: #008000; font-weight: bold">echo</span> (<span style="color: #19177C">$a</span>) <span style="color: #666666">?</span> (<span style="color: #19177C">$a</span> <span style="color: #666666">==</span> <span style="color: #666666">5</span>) <span style="color: #666666">?</span> <span style="color: #BA2121">&#39;yay&#39;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&#39;nay&#39;</span> <span style="color: #666666">:</span> (<span style="color: #19177C">$b</span> <span style="color: #666666">==</span> <span style="color: #666666">10</span>) <span style="color: #666666">?</span> <span style="color: #BA2121">&#39;excessive&#39;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&#39;:(&#39;</span>;    <span style="color: #408080; font-style: italic">// 过度嵌套，牺牲了可读性</span>
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

<p>使用三元操作符'返回'一个值需使用正确的语法。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #19177C">$a</span> <span style="color: #666666">=</span> <span style="color: #666666">5</span>;
<span style="color: #008000; font-weight: bold">echo</span> (<span style="color: #19177C">$a</span> <span style="color: #666666">==</span> <span style="color: #666666">5</span>) <span style="color: #666666">?</span> <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">true</span> <span style="color: #666666">:</span> <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">false</span>;        <span style="color: #408080; font-style: italic">// 这个例子会抛出错误</span>

vs<span style="color: #666666">.</span>

<span style="color: #19177C">$a</span> <span style="color: #666666">=</span> <span style="color: #666666">5</span>;
<span style="color: #008000; font-weight: bold">return</span> (<span style="color: #19177C">$a</span> <span style="color: #666666">==</span> <span style="color: #666666">5</span>) <span style="color: #666666">?</span> <span style="color: #BA2121">&#39;yay&#39;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&#39;nope&#39;</span>;          <span style="color: #408080; font-style: italic">// 这个例子会返回&#39;yay&#39;</span>
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

<ul>
<li><a href="http://php.net/manual/en/language.operators.comparison.php">三元操作符</a></li>
</ul>
<h2>变量声明</h2>
<p>有时，程序员会试图通过将预定义变量声明为一个不同的名字使得代码更加"干净"。事实上，这样会让脚本的内存消耗加倍。如下例子，我们假设一个示例文本字符串包含1MB的数据，通过拷贝这个变量，脚本执行时就会增加到2MB。</p>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #BC7A00">&lt;?php</span>
<span style="color: #19177C">$about</span> <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;A very long string of text&#39;</span>;      <span style="color: #408080; font-style: italic">// 使用了2MB内存</span>
<span style="color: #008000; font-weight: bold">echo</span> <span style="color: #19177C">$about</span>;

vs<span style="color: #666666">.</span>

<span style="color: #008000; font-weight: bold">echo</span> <span style="color: #BA2121">&#39;A very long string of text&#39;</span>;          <span style="color: #408080; font-style: italic">// 仅使用1MB内存</span>
<span style="color: #BC7A00">?&gt;</span>
</code></pre></div>

<ul>
<li><a href="https://developers.google.com/speed/articles/optimizing-php">性能技巧</a></li>
</ul>
            </div><!-- /.entry-content -->
            <div class="comments">
              <div id="gitalk-container"></div>
              <script type="text/javascript">
                const gitalk = new Gitalk({
                  clientID: '58fb3102b498bfbcb14f',
                  clientSecret: 'dd9788d7bbd9cbca1e75c9ba4db92f96dbf20180',
                  repo: 'youngsterxyf.github.com',
                  owner: 'youngsterxyf',
                  admin: ['youngsterxyf'],
                  id: location.pathname,      // Ensure uniqueness and length less than 50
                  distractionFreeMode: false  // Facebook-like distraction free mode
                });
                gitalk.render('gitalk-container');
              </script>
              <div id="disqus_thread"></div>
              <script type="text/javascript">
                var disqus_identifier = "2013/03/08/php-basics/";
                (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://xiayfblackwhite.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
              </script>
            </div>
        </div><!-- /.twelve.columns -->
 </div><!-- /.row -->
</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">


        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">

                <li><div class="btn primary"><a href="http://github.com/youngsterxyf" target="_blank">Github</a></div></li>

                <li><div class="btn twitter"><a href="https://twitter.com/youngsterxyf" target="_blank">Twitter</a></div></li>

                <li><div class="btn warning"><a href="http://weibo.com/u/1855563263" target="_blank">Weibo</a></div></li>

                <li><div class="btn douban"><a href="http://www.douban.com/people/youngster21/" target="_blank">Douban</a></div></li>



              </ul>
            </div>
          </div>
        </footer>

    </div>


<script type="text/javascript">
    var disqus_shortname = 'xiayfblackwhite';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
  <script src="../../../../theme/js/libs/gumby.min.js"></script>
  <script src="../../../../theme/js/plugins.js"></script>
  <script src="../../../../theme/js/main.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../../theme/emoji/css/basic/emojify.min.css" />
  <script src="../../../../theme/emoji/js/emojify.min.js"></script>
  <script>
    emojify.setConfig({
        img_dir : '../../../../theme/emoji/images/basic'
    });
    emojify.run();
</script>
</body>
</html>