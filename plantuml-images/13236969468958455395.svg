<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="800px" preserveAspectRatio="none" style="width:652px;height:800px;background:#FFFFFF;" version="1.1" viewBox="0 0 652 800" width="652px" zoomAndPan="magnify"><defs/><g><!--class DB--><g id="elem_DB"><rect codeLine="4" fill="#F1F1F1" height="156" id="DB" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="638.4951" x="7" y="7"/><ellipse cx="311.5801" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M308.3398,19.9692 L308.3398,18.0649 L314.8511,18.0649 L314.8511,19.9692 L312.6758,19.9692 L312.6758,27.0957 L314.8511,27.0957 L314.8511,29 L308.3398,29 L308.3398,27.0957 L310.5151,27.0957 L310.5151,19.9692 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="15" font-style="italic" lengthAdjust="spacing" textLength="20.835" x="332.0801" y="28.25">DB</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="644.4951" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="644.4951" y1="47" y2="47"/><ellipse cx="18" cy="61.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" text-decoration="underline" textLength="516.57" x="27" y="65.25">Status Open(const Options&amp; options, const std::string&amp; name, DB** dbptr)</text><ellipse cx="18" cy="79.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="612.4951" x="27" y="83.25">virtual Status Put(const WriteOptions&amp; options, const Slice&amp; key, const Slice&amp; value) = 0</text><ellipse cx="18" cy="97.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="500.6251" x="27" y="101.25">virtual Status Delete(const WriteOptions&amp; options, const Slice&amp; key) = 0</text><ellipse cx="18" cy="115.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="523.8151" x="27" y="119.25">virtual Status Write(const WriteOptions&amp; options, WriteBatch* updates) = 0</text><ellipse cx="18" cy="133.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="601.8301" x="27" y="137.25">virtual Status Get(const ReadOptions&amp; options, const Slice&amp; key, std::string* value) = 0</text><ellipse cx="18" cy="151.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="426.6151" x="27" y="155.25">virtual Iterator* NewIterator(const ReadOptions&amp; options) = 0</text></g><!--class DBImpl--><g id="elem_DBImpl"><rect codeLine="13" fill="#F1F1F1" height="570" id="DBImpl" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="619.4002" x="16.55" y="223"/><ellipse cx="296.7326" cy="239" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M298.6501,244.1851 Q298.1374,244.4487 297.5734,244.5806 Q297.0095,244.7124 296.3869,244.7124 Q294.175,244.7124 293.0104,243.2549 Q291.8459,241.7974 291.8459,239.0435 Q291.8459,236.2822 293.0104,234.8247 Q294.175,233.3672 296.3869,233.3672 Q297.0095,233.3672 297.5808,233.499 Q298.152,233.6309 298.6501,233.8945 L298.6501,236.2969 Q298.0934,235.7842 297.5698,235.5461 Q297.0461,235.3081 296.4894,235.3081 Q295.3029,235.3081 294.6987,236.2493 Q294.0944,237.1904 294.0944,239.0435 Q294.0944,240.8892 294.6987,241.8303 Q295.3029,242.7715 296.4894,242.7715 Q297.0461,242.7715 297.5698,242.5334 Q298.0934,242.2954 298.6501,241.7827 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="50.535" x="317.2326" y="244.25">DBImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="17.55" x2="634.9502" y1="255" y2="255"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="266.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="111.6" x="36.55" y="273.25">Env* const env_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="284.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="353.625" x="36.55" y="291.25">const InternalKeyComparator internal_comparator_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="302.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="321.12" x="36.55" y="309.25">const InternalFilterPolicy internal_filter_policy_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="320.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="160.05" x="36.55" y="327.25">const Options options_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="338.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="178.635" x="36.55" y="345.25">const std::string dbname_</text><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="4.2" x="36.55" y="363.25">&#160;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="374.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="227.505" x="36.55" y="381.25">TableCache* const table_cache_</text><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="4.2" x="36.55" y="399.25">&#160;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="410.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="130.665" x="36.55" y="417.25">FileLock* db_lock_</text><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="4.2" x="36.55" y="435.25">&#160;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="446.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="133.335" x="36.55" y="453.25">port::Mutex mutex_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="464.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="127.305" x="36.55" y="471.25">MemTable* mem_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="482.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="122.715" x="36.55" y="489.25">MemTable* imm_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="500.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="143.595" x="36.55" y="507.25">WritableFile* logfile_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="518.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="112.08" x="36.55" y="525.25">log::Writer* log_</text><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="4.2" x="36.55" y="543.25">&#160;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="554.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="196.125" x="36.55" y="561.25">std::deque&lt;Writer*&gt; writers_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="572.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="171.255" x="36.55" y="579.25">WriteBatch* tmp_batch_</text><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="4.2" x="36.55" y="597.25">&#160;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="608.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="169.29" x="36.55" y="615.25">SnapshotList snapshots_</text><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="4.2" x="36.55" y="633.25">&#160;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="644.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="193.14" x="36.55" y="651.25">VersionSet* const versions_</text><line style="stroke:#181818;stroke-width:0.5;" x1="17.55" x2="634.9502" y1="659" y2="659"/><ellipse cx="27.55" cy="673.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="544.1551" x="36.55" y="677.25">Status Put(const WriteOptions&amp;, const Slice&amp; key, const Slice&amp; value) override</text><ellipse cx="27.55" cy="691.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="436.485" x="36.55" y="695.25">Status Delete(const WriteOptions&amp;, const Slice&amp; key) override;</text><ellipse cx="27.55" cy="709.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="515.385" x="36.55" y="713.25">Status Write(const WriteOptions&amp; options, WriteBatch* updates) override;</text><ellipse cx="27.55" cy="727.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="593.4002" x="36.55" y="731.25">Status Get(const ReadOptions&amp; options, const Slice&amp; key, std::string* value) override;</text><ellipse cx="27.55" cy="745.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="358.275" x="36.55" y="749.25">Iterator* NewIterator(const ReadOptions&amp;) override</text><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="4.2" x="36.55" y="767.25">&#160;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="24.55" y="778.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="381.855" x="36.55" y="785.25">Status Recover(VersionEdit* edit, bool* save_manifest)</text></g><!--reverse link DB to DBImpl--><g id="link_DB_DBImpl"><path codeLine="46" d="M326.25,181.22 C326.25,199.14 326.25,201.25 326.25,222.52 " fill="#FFFFFF" fill-opacity="0.00000" id="DB-backto-DBImpl" style="stroke:#181818;stroke-width:1;"/><polygon fill="#FFFFFF" fill-opacity="0.00000" points="326.25,163.22,320.25,181.22,332.25,181.22,326.25,163.22" style="stroke:#181818;stroke-width:1;"/></g><!--SRC=[hLJRRXCn47tVhnZr8MgMH0eFI2WK9D8BYcXBrKNmk7AyayQABuizksbQ-k_OpYv9QH85nClk-8pdpENOTdEXIsQPWWAdh99qOJHTCuLmz55Eq19aJBkZn6tRbua7XDTl4iUPH53i7juE1h0G1SqIeGdjb764in4y9g_WqH4ZmPyWy__AmPSIzJ4tsf4tINYZ0sPbz625Eog6GqTMwBiEQ5zKpvEbAHIJacpNSzR2KiLaItbJKSFutGh2NRIP51mxCCVb7qZDP8LTU0-3bzndA97mx-XtKCNe_KmH7Z7YinIgic24RWVP9snxlaLM7DBonbJJxIsFlNICZ4tX6XVjOa-MLVnJad39d1_LQAnA6KNVByoXWfWQhHK5hWbtgx5DXJR-7S2QubzLs4hsVrHuJdse2XlpIVfjGRV80thy3QtpkyuBGIcW__PWOenCmR4QSyMqcAAZReWyrtNQ58gwpZsoMep3JTPCViRbgL7X4V1rW6ZGdF_6SdWHSo6aDswCRtov3fb6D2yZl4xKDDHERUtOc9M_- -4Xo4F1Nzb4uYdZCsphfe3aF41nXq-FbuRFmvEHIsz4j3IMXiEhYl0ULFY6J5Ue8byA2jLpGAW8XDCGW42QWZHtlWqC3cyEX_6is8Z79B7c0dzKUDAuFi0Y6gubQuyMgJAV13C6PfgLRcReKeJEcuMBhaRC3Abjk5uXtkrldtzeJtxs-ytz-mK0]--></g></svg>