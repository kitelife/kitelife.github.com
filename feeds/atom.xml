<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>æ•°æ®ä¸æ™ºèƒ½</title><link href="http://youngsterxyf.github.io/" rel="alternate"></link><link href="http://youngsterxyf.github.io/feeds/atom.xml" rel="self"></link><id>http://youngsterxyf.github.io/</id><updated>2022-11-16T00:00:00+08:00</updated><entry><title>ä¸ä¸€ä¸ªå‰ leader çš„äº¤æµç¬”è®°</title><link href="http://youngsterxyf.github.io/2022/11/16/talk-about-how-to-do/" rel="alternate"></link><published>2022-11-16T00:00:00+08:00</published><updated>2022-11-16T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2022-11-16:/2022/11/16/talk-about-how-to-do/</id><summary type="html">&lt;p&gt;å¦‚ä¸‹è¿™ä»½ç¬”è®°ï¼Œæ˜¯ 19 å¹´å’Œä¸€ä¸ªå‰ leader äº¤æµåè®°å½•ä¸‹æ¥çš„ã€‚è¯´æ˜¯äº¤æµï¼Œå…¶å®æ˜¯é’ˆå¯¹æˆ‘å½“æ—¶å·¥ä½œä¸­å­˜åœ¨çš„é—®é¢˜ï¼Œä»–ç»™æˆ‘æå‡ºçš„ä¸€äº› â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å¦‚ä¸‹è¿™ä»½ç¬”è®°ï¼Œæ˜¯ 19 å¹´å’Œä¸€ä¸ªå‰ leader äº¤æµåè®°å½•ä¸‹æ¥çš„ã€‚è¯´æ˜¯äº¤æµï¼Œå…¶å®æ˜¯é’ˆå¯¹æˆ‘å½“æ—¶å·¥ä½œä¸­å­˜åœ¨çš„é—®é¢˜ï¼Œä»–ç»™æˆ‘æå‡ºçš„ä¸€äº›æ”¹è¿›å»ºè®®ã€‚å¦‚ä»Šå†çœ‹çœ‹ï¼Œä»ç„¶èƒ½å¼•èµ·è‡ªå·±çš„æ€è€ƒã€‚&lt;/p&gt;
&lt;h2&gt;2019-10-27&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å¦‚ä½•è®¨è®ºéœ€æ±‚/æŠ€æœ¯æ–¹æ¡ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç³»ç»Ÿæ€§ç†è§£éœ€æ±‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…¨é¢æ¢³ç†æŠ€æœ¯æ–¹æ¡ˆï¼Œè®ºè¯æ–¹æ¡ˆçš„ä¸åˆç†ä¹‹å¤„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä½•è¯æ˜æ–¹æ¡ˆä¸åˆç†ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;èµ„æºæˆæœ¬ï¼ˆæœºå™¨ã€äººåŠ›ï¼‰ï¼Œé‡å¤å·¥ä½œä¹Ÿæ˜¯å¯¹èµ„æºçš„ä¸€ç§æµªè´¹&lt;/li&gt;
&lt;li&gt;å¯¹æ•ˆæœï¼ˆæ”¶å…¥ç­‰ï¼‰çš„å½±å“&lt;/li&gt;
&lt;li&gt;è¦ç«™åœ¨â€œå…¬æ­£â€çš„è§’åº¦æ¥è®ºè¯ï¼Œä»å¤§å®¶å…±æœ‰çš„è®¤çŸ¥(æœºå™¨ã€å¸¦å®½ã€å†…å­˜)å‡ºå‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€åæ‰æ˜¯ä»€ä¹ˆç³»ç»Ÿå¤æ‚åº¦ï¼ˆè¯´åˆ°è¿™ä¸ªç‚¹ï¼Œå¾ˆå®¹æ˜“æ‰¯æ·¡ï¼Œè°éƒ½ä¼šè¯´è‡ªå·±å¤æ‚ï¼‰&lt;/p&gt;
&lt;p&gt;è®¨è®ºé—®é¢˜çš„æ—¶å€™ï¼Œè‡ªå·±ä¸åšï¼Œä½†ä¸è¦ä»â€œç¡¬æ¨ç»™åˆ«äººçš„è§’åº¦â€å»è®¨è®ºï¼Œè€Œæ˜¯è¦ä»â€œä¸ºå•¥è‡ªå·±ä¸åº”è¯¥åšâ€çš„è§’åº¦å‡ºå‘ã€‚æ¯”å¦‚åšäº†ï¼Œå¯¼è‡´ç³»ç»Ÿè€¦åˆï¼Œå¤æ‚ï¼Œåšäº†å¯¼è‡´å¤šä½™çš„è°ƒç”¨é‡æ›´å¤šç­‰ ã€‚&lt;/p&gt;
&lt;h2&gt;2019-12-17&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è·¨å›¢é˜Ÿå·¥ä½œè®¨è®ºæ—¶ï¼Œå›´ç»•åº”è¯¥æ€ä¹ˆåšï¼ˆæ€ä¹ˆåšæœ€åˆç†ï¼‰æ¥è®¨è®ºï¼Œè€Œä¸æ˜¯å›´ç»•å¦‚æœè‡ªå·±æ¥åšä¼šæœ‰ä»€ä¹ˆå›°éš¾æ¥è®¨è®º&lt;/li&gt;
&lt;li&gt;é¡¹ç›®/ç³»ç»Ÿè¦æœ‰ ç›®æ ‡/é•¿è¿œæ¶æ„å›¾ï¼ˆæœ€ç»ˆåšæˆä»€ä¹ˆæ ·å­ï¼Œæ ¸å¿ƒ KPIï¼‰&lt;/li&gt;
&lt;li&gt;åšå¥½å‘ä¸Šæ±‡æŠ¥&lt;/li&gt;
&lt;li&gt;ä¸è¦æ‹¿â€œåšçš„è¿‡ç¨‹ä¸­çš„å›°éš¾â€æ¥æªå¡ä¸åšï¼Œè€Œæ˜¯è¦ä»å®¢è§‚äº‹å®çš„è§’åº¦æ¥é—®åº”ä¸åº”è¯¥åš&lt;/li&gt;
&lt;li&gt;ä¸è¦èšç„¦äºè§£å†³ç°å®ä¸–ç•Œçš„ä¸€ä¸ªä¸ªé—®é¢˜ï¼Œè€Œæ˜¯è¦é å…·ä½“çš„ä¸€ä¸ªä¸ªé—®é¢˜ï¼ŒæŠ½è±¡å‡ºä¸€å¼ å¤§å›¾&lt;/li&gt;
&lt;li&gt;æŠŠè‡ªå·±çš„ç³»ç»Ÿåšæˆé“¾è·¯ä¸Šæœ€æè‡´çš„é‚£ä¸ªï¼Œè€Œä¸æ˜¯ç­‰åˆ«äººåšå¥½åæ¥åæ¨è‡ªå·±å˜é©&lt;/li&gt;
&lt;li&gt;è¦åŒºåˆ†é‡è¦å’Œä¸é‡è¦çš„äº‹æƒ…ï¼Œæ ¸å¿ƒçš„äº‹æƒ…è¦ä»”ç»†æ£æ‘©ï¼Œæ²¡æœ‰äººæ˜¯å‚»å­ï¼Œé‚£äº›èµ„æ·±çš„äººè¯´å‡ºçš„è¯æ›´è¦æ£æ‘©ï¼Œç†è§£&lt;/li&gt;
&lt;li&gt;è¦æœ‰è§„åˆ’å’Œæ„¿æ™¯ï¼Œleader æ²¡æœ‰è¿™äº›ï¼Œå›¢é˜Ÿèµ°ä¸è¿œ&lt;/li&gt;
&lt;/ol&gt;</content><category term="å…¶ä»–"></category><category term="è®¨è®º"></category><category term="æ€è€ƒ"></category><category term="ç²¾è¿›"></category></entry><entry><title>è¯»æ–‡ç¬”è®°ï¼šå…³äº MMAP ä¸ SSD</title><link href="http://youngsterxyf.github.io/2022/09/14/reading-about-mmap-ssd/" rel="alternate"></link><published>2022-09-14T00:00:00+08:00</published><updated>2022-09-14T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2022-09-14:/2022/09/14/reading-about-mmap-ssd/</id><summary type="html">&lt;p&gt;è®¾è®¡ä¸€ç§å­˜å‚¨ï¼Œç¬¬ä¸€è¦æ˜ç¡®åº”ç”¨åœºæ™¯å’Œå­˜å‚¨ç³»ç»Ÿçš„å·¥ä½œè´Ÿè½½ï¼Œç¬¬äºŒè¦äº†è§£åº•å±‚ç¡¬ä»¶çš„ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;h2&gt;1ã€&lt;a href="https://db.cs.cmu.edu/mmap-cidr2022/"&gt;Are You Sure You Want to Use MMAP in Your Database Management â€¦&lt;/a&gt;&lt;/h2&gt;</summary><content type="html">&lt;p&gt;è®¾è®¡ä¸€ç§å­˜å‚¨ï¼Œç¬¬ä¸€è¦æ˜ç¡®åº”ç”¨åœºæ™¯å’Œå­˜å‚¨ç³»ç»Ÿçš„å·¥ä½œè´Ÿè½½ï¼Œç¬¬äºŒè¦äº†è§£åº•å±‚ç¡¬ä»¶çš„ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;h2&gt;1ã€&lt;a href="https://db.cs.cmu.edu/mmap-cidr2022/"&gt;Are You Sure You Want to Use MMAP in Your Database Management System? &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;MMAPï¼ˆMemory-mapped file I/Oï¼‰æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ä¸€ç§åŠŸèƒ½ç‰¹æ€§ - å°†äºŒçº§å­˜å‚¨ï¼ˆç£ç›˜ã€SSDï¼‰ä¸Šä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹æ˜ å°„åˆ°ç¨‹åº/è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œç„¶åç¨‹åºå°±å¯ä»¥ä»¥æŒ‡é’ˆè®¿é—®å†…å­˜é¡µçš„æ–¹å¼æ¥è®¿é—®æ–‡ä»¶å†…å®¹ã€‚å½“ç¨‹åºè®¿é—®åˆ°æŸä¸ªå†…å­˜é¡µæ—¶ï¼Œæ“ä½œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨å°†å¯¹åº”æ–‡ä»¶å†…å®¹åŠ è½½åˆ°è¯¥å†…å­˜é¡µä¸­ï¼Œå½“å†…å­˜ç”¨æ»¡äº†ï¼Œä¹Ÿä¼šè‡ªåŠ¨å‰”é™¤æŸäº›å†…å­˜é¡µã€‚&lt;/p&gt;
&lt;p&gt;MMAP å…¶å®å°±ä¸€ä¸ªç°æˆçš„ç¼“å†²æ± ï¼ˆbuffer poolï¼‰ï¼Œæ ¸å¿ƒç‰¹ç‚¹å°±æ˜¯ç®€å•æ˜“ç”¨ï¼Œä¸éœ€è¦é‡å¤å¼€å‘ï¼Œç¼ºç‚¹æ˜¯åœ¨éœ€è¦æ—¶æ— æ³•ç²¾ç¡®æ§åˆ¶å…¶è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ MMAP çš„ä¼˜åŠ¿æ˜¯ç”±æ“ä½œç³»ç»Ÿå°è£…äº†å¦‚ä¸‹åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»ç£ç›˜è¯»æ•°æ®&lt;/li&gt;
&lt;li&gt;ä¸åŒçº¿ç¨‹è¯»ç›¸åŒæ•°æ®çš„å¹¶å‘å¤„ç†&lt;/li&gt;
&lt;li&gt;ç¼“å­˜å’Œç¼“å†²ç®¡ç†ï¼ˆCaching and buffer managementï¼‰&lt;/li&gt;
&lt;li&gt;ä»å†…å­˜ä¸­å‰”é™¤/é©±é€å†…å­˜é¡µ&lt;/li&gt;
&lt;li&gt;åŒä¸€ä¸ªæœºå™¨ä¸Šä¸åŒè¿›ç¨‹ä¹‹é—´å¯ä»¥å‹å¥½äº¤äº’ ğŸ¤”&lt;/li&gt;
&lt;li&gt;è·Ÿè¸ªè„é¡µä»¥åŠå°†è„é¡µå†™å…¥ç£ç›˜ ğŸ¤”&lt;/li&gt;
&lt;li&gt;ç›¸æ¯” read/write ç³»ç»Ÿè°ƒç”¨ï¼Œmmap ä¸éœ€è¦å°†å†…å­˜é¡µä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ï¼Œè€Œæ˜¯ç›´æ¥ä»æ“ä½œç³»ç»Ÿçš„å†…å­˜é¡µç¼“å­˜ä¸­ç›´æ¥è®¿é—®å†…å­˜é¡µï¼Œæœ‰ä¸€å®šçš„æ€§èƒ½ä¼˜åŠ¿&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MMAP ç›¸å…³ POSIX APIï¼šmmapã€madviseã€mlockã€msyncã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/U7xMgzj36dZDGaO.jpg"&gt;&lt;/p&gt;
&lt;p&gt;â‘  A program calls mmap and receives a pointer to the memory-mapped file contents.&lt;/p&gt;
&lt;p&gt;â‘¡ The OS reserves part of the programâ€™s virtual address space but does not load any part of the file.&lt;/p&gt;
&lt;p&gt;â‘¢ The program accesses the fileâ€™s contents using the pointer.&lt;/p&gt;
&lt;p&gt;â‘£ The OS attempts to retrieve the page.&lt;/p&gt;
&lt;p&gt;â‘¤ Since no valid mapping exists for the specified virtual address, the OS triggers a page fault to load the referenced part of the file from secondary storage into a physical memory page.&lt;/p&gt;
&lt;p&gt;â‘¥ The OS adds an entry to the page table that maps the virtual address to the new physical address.&lt;/p&gt;
&lt;p&gt;â‘¦ The initiating CPU core also caches this entry in its local translation lookaside buffer (TLB) to accelerate future accesses.&lt;/p&gt;
&lt;p&gt;ä¸è¿‡è®ºæ–‡ä½œè€…è®¤ä¸º mmap å­˜åœ¨ä¸€äº›æ•°æ®å®‰å…¨æ€§å’Œç³»ç»Ÿæ€§æ€§èƒ½é—®é¢˜ï¼Œä¸ºè§£å†³è¿™äº›é—®é¢˜è€Œå¼•å…¥çš„å·¥ç¨‹æˆæœ¬ä¼šæŠµæ¶ˆæ‰ç®€å•æ€§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ã€äº‹åŠ¡å®‰å…¨æ€§ï¼ˆTransactional Safetyï¼‰&lt;/strong&gt;ï¼šç”±äºé€æ˜çš„é¡µå¼è°ƒåº¦æœºåˆ¶ï¼Œæ“ä½œç³»ç»Ÿå¯èƒ½ä¼šä»»æ„æ—¶åˆ»å°†ä¸€ä¸ªè„é¡µåˆ·åˆ°äºŒçº§å­˜å‚¨ä¸­ï¼Œä¸ç®¡å†™äº‹åŠ¡æ˜¯å¦å·²æäº¤ã€‚DBMS æ— æ³•ç»„ç»‡è¿™ç§å†…å­˜æ•°æ®åˆ·å‡ºï¼Œå¹¶ä¸”å‘ç”Ÿæ—¶ä¹Ÿä¸ä¼šæ¥æ”¶åˆ°ä»»ä½•ä¿¡å·ã€‚æ‰€ä»¥åŸºäº mmap çš„æ•°æ®åº“ç³»ç»Ÿåªèƒ½é‡‡ç”¨å¤æ‚çš„åè®®æ¥ç¡®ä¿ï¼ˆå†™/æ›´æ–°ï¼‰äº‹åŠ¡å®‰å…¨ï¼Œæ‰‹æ®µä¸Šå¤§æ¦‚åˆ†3ç§ï¼šæ“ä½œç³»ç»Ÿå†™æ—¶å¤åˆ¶ã€ç”¨æˆ·ç©ºé—´å†™æ—¶å¤åˆ¶ã€å½±å­é¡µç®¡ç†ï¼ˆshadow pagingï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€I/O åœé¡¿ï¼ˆI/O Stallsï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mmap ä¸æ”¯æŒå¼‚æ­¥è¯»ï¼›è‡ªå·±æç¼“å†²æ± çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨å¼‚æ­¥ I/Oï¼ˆæ¯”å¦‚ libaioã€io_uringï¼‰æ¥é¿å…æŸ¥è¯¢æ—¶é˜»å¡çº¿ç¨‹&lt;/li&gt;
&lt;li&gt;å¯¹äº mmapï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨/é€æ˜åœ°å‰”é™¤ä¸€äº›å†…å­˜é¡µï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´ - å¦‚æœæŸäº›åªè¯»æŸ¥è¯¢å‘½ä¸­äº†å·²è¢«å‰”é™¤çš„å†…å­˜é¡µï¼Œå°±ä¼šæ— æ³•é¢„çŸ¥åœ°è§¦å‘é˜»å¡æ€§çš„é¡µé”™è¯¯/ç¼ºé¡µå¤„ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼š1ã€ä½¿ç”¨ mlockï¼Œä¸è¿‡æ“ä½œç³»ç»Ÿå¯¹ä¸€ä¸ªè¿›ç¨‹èƒ½é”ä½çš„å†…å­˜é¡µæ•°é‡æœ‰é™åˆ¶ï¼›2ã€ä½¿ç”¨ madvise çš„ MADV_SEQUENTIAL æ ‡è®°ï¼Œä»…èƒ½é—®é¢˜çš„ä¸€éƒ¨åˆ†ï¼›3ã€ä½¿ç”¨é¢å¤–çš„çº¿ç¨‹æ¥è¿›è¡Œå†…å­˜é¡µé¢„å–ï¼Œé¿å…ä¸»çº¿ç¨‹è¢«é˜»å¡ï¼Œä¸è¿‡ä¼šå¼•å…¥è¾ƒå¤§çš„å¤æ‚æ€§&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3ã€é”™è¯¯å¤„ç†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;DBMS çš„æ ¸å¿ƒèŒè´£ä¹‹ä¸€æ˜¯ç¡®ä¿æ•°æ®å®Œæ•´æ€§ - æ¯”å¦‚ï¼šæ ¡éªŒç£ç›˜æ•°æ®æ˜¯å¦æœ‰æŸå&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ mmapï¼ŒDBMS éœ€è¦åœ¨æ¯æ¬¡å†…å­˜é¡µè®¿é—®æ—¶æ£€æŸ¥æ ¡éªŒå’Œï¼ˆchecksumï¼‰ï¼Œå› ä¸ºå†…å­˜é¡µä¸€æ¬¡è®¿é—®ä¹‹åæ“ä½œç³»ç»Ÿå¯èƒ½ä¼šå°†è¯¥é¡µé©±é€åˆ°ç£ç›˜&lt;/li&gt;
&lt;li&gt;å¦‚æœ DBMS æ˜¯ä½¿ç”¨éå†…å­˜å®‰å…¨çš„ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ï¼Œå°±æœ‰å¯èƒ½åœ¨æŒ‡é’ˆæ“ä½œæ—¶æŸåå†…å­˜é¡µå†…å®¹ï¼Œæ‰€ä»¥éœ€è¦åœ¨å†…å­˜é¡µåˆ·åˆ°äºŒçº§å­˜å‚¨ä¹‹å‰è¿›è¡Œé”™è¯¯æ£€æµ‹ï¼Œmmap ä¼šé»˜é»˜åœ°å°†æŸåçš„å†…å­˜é¡µæŒä¹…åŒ–åˆ°äºŒçº§å­˜å‚¨&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ mmap ä¹Ÿæ›´éš¾ä¼˜é›…åœ°è¿›è¡Œ I/O é”™è¯¯å¤„ç†ï¼Œå’Œ mmap å†…å­˜äº¤äº’çš„ä»»ä½•ä»£ç éƒ½å¯èƒ½æŠ›å‡º SIGBUS ä¿¡å·ï¼ŒDBMS å¿…é¡»ä½¿ç”¨ä¿¡å·å¤„ç†å™¨ï¼ˆsignal handlersï¼‰æ¥å¤„ç† â“&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;4ã€æ€§èƒ½é—®é¢˜ï¼ˆæœ€é‡å¤§ï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤§å®¶æ™®éè®¤ä¸º mmap æ€§èƒ½ä¼˜äºä¼ ç»Ÿæ–‡ä»¶ I/Oï¼ˆread/writeï¼‰ï¼Œå› ä¸ºå®ƒé¿å…ä¸¤ä¸ªå¼€é”€ï¼š(1) æ˜¾å¼è°ƒç”¨ read/write ç³»ç»Ÿè°ƒç”¨çš„å¼€é”€ (2) mmap ä¼šè¿”å›æŒ‡å‘æ“ä½œç³»ç»Ÿé¡µç¼“å­˜çš„é¡µæŒ‡é’ˆï¼Œå› æ­¤é¿å…äº†åˆ°ç”¨æˆ·å†…å­˜ç©ºé—´çš„ä¸€æ¬¡å†…å­˜æ‹·è´ï¼Œä¹Ÿå› æ­¤é™ä½äº†å†…å­˜å ç”¨ï¼›ç”±æ­¤ï¼Œå¤§å®¶ä¹Ÿè®¤ä¸ºåœ¨ SSD ä¸Š mmap çš„æ€§èƒ½ä¼˜åŠ¿ä¼šè¿›ä¸€æ­¥æ‰©å¤§ã€‚&lt;/li&gt;
&lt;li&gt;ä¸è¿‡å®éªŒæµ‹è¯•å‘ç°ï¼šå¯¹äºé«˜å¸¦å®½çš„äºŒçº§å­˜å‚¨è®¾å¤‡ï¼ˆæ¯”å¦‚ SSDï¼‰ï¼ŒDBMS ç®¡ç†çš„æ•°æ®é‡å¤§äºå†…å­˜ç©ºé—´æ—¶ï¼Œæ“ä½œç³»ç»Ÿçš„é¡µé©±é€æœºåˆ¶ï¼ˆpage eviction mechanismsï¼‰å¤šçº¿ç¨‹æ‰©å±•æ€§æ¯”è¾ƒå·®ï¼ˆå¤‡æ³¨ï¼šå› ä¸º SSD I/O å¸¦å®½å¤§ã€è®¿é—®é€Ÿåº¦å¿«ï¼Œé¡µé©±é€æœºåˆ¶å°±å¯èƒ½æˆäº†ç“¶é¢ˆï¼‰ï¼ˆwe have found that the OSâ€™s page eviction mechanisms cannot scale beyond a few threads for larger-thanmemory DBMS workloads on high-bandwidth secondary storage devices. We believe that one of the main reasons these performance issues have gone largely unnoticed is due to historically limited file I/O bandwidthï¼‰ã€‚ç“¶é¢ˆæºäº3ä¸ªå› ç´ ï¼š&lt;ul&gt;
&lt;li&gt;é¡µè¡¨äº‰ç”¨ï¼ˆpage table contentionï¼‰/ é”ï¼ˆå¤‡æ³¨ï¼šå½“å‰ linux å†…æ ¸å®ç°ä¼˜åŒ–äº†è¿™ä¸ªé—®é¢˜ï¼Œ&lt;a href="https://github.com/torvalds/linux/blob/master/Documentation/mm/split_page_table_lock.rst"&gt;linux/split_page_table_lock.rst at master Â· torvalds/linux (github.com)&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å•çº¿ç¨‹é¡µé©±é€ï¼ˆsingle-threaded page evictionï¼‰ï¼Œ&lt;a href="https://biriukov.dev/docs/page-cache/4-page-cache-eviction-and-page-reclaim/"&gt;Page Cache eviction and page reclaim | Viacheslav Biriukov&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æ—è·¯è½¬æ¢ç¼“å†²å‡»è½ï¼ˆTLB shootdownsï¼‰ï¼šTLB shootdowns occur during page eviction when a core needs to invalidate mappings in a remote TLB. Whereas flushing the local TLB is inexpensive, issuing interprocessor interrupts to synchronize remote TLBs can take thousands of cycles&lt;ul&gt;
&lt;li&gt;&lt;a href="https://juejin.cn/post/6844904084957315086"&gt;æ·±å…¥ç†è§£ Linux å†…æ ¸--jemalloc å¼•èµ·çš„ TLB shootdown åŠä¼˜åŒ– - æ˜é‡‘ (juejin.cn)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.kernel.org/doc/html/v4.18/core-api/cachetlb.html"&gt;Cache and TLB Flushing Under Linux â€” The Linux Kernel documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®éªŒåˆ†æï¼š&lt;/p&gt;
&lt;p&gt;As a baseline, we used the fio storage benchmarking tool (v3.25) with direct I/O (O_DIRECT) to bypass the OS page cache. Our analysis focused exclusively on read-only workloads, which represent the best-case scenario for mmap-based DBMSs.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/FlAJqH8E4K1UWvp.jpg"&gt;
&lt;img alt="" src="https://s2.loli.net/2022/11/16/qhz3OQHlgaZ2YMn.jpg"&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/oczkfgLw9EMR1ue.jpg"&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œåˆ°åº•è¦ä¸è¦ä½¿ç”¨ mmap å‘¢ï¼Ÿç›´æ¥ä½¿ç”¨ ssdï¼Ÿè¿˜æ˜¯è‡ªå·±æä¸€ä¸ª buffer poolï¼Ÿ&lt;/p&gt;
&lt;p&gt;è®ºæ–‡ä½œè€…ç»™å‡ºè¿™æ ·çš„ç»“è®ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»¥ä¸‹æƒ…å†µä¸è¦ä½¿ç”¨ mmapï¼š&lt;ul&gt;
&lt;li&gt;éœ€è¦ä»¥äº‹åŠ¡å®‰å…¨çš„æ–¹å¼è¿›è¡Œæ›´æ–°æ“ä½œ&lt;/li&gt;
&lt;li&gt;å¸Œæœ›å¤„ç†ç¼ºé¡µé”™è¯¯æ—¶ä¸ä¼šé˜»å¡åœ¨æ…¢ I/O ä¸Šï¼Œæˆ–è€…å¸Œæœ›æ˜ç¡®æ§åˆ¶å“ªäº›æ•°æ®åº”è¯¥åœ¨å†…å­˜ä¸­&lt;/li&gt;
&lt;li&gt;å…³å¿ƒé”™è¯¯å¤„ç†ï¼Œä¹Ÿå¸Œæœ›å§‹ç»ˆè¿”å›æ­£ç¡®çš„æ•°æ®ç»“æœ&lt;/li&gt;
&lt;li&gt;è¦æ±‚åœ¨å¿«é€ŸæŒä¹…åŒ–å­˜å‚¨è®¾å¤‡ï¼ˆæ¯”å¦‚ SSDï¼‰ä¸Šè·å¾—é«˜åå&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä»¥ä¸‹æƒ…å†µå¯èƒ½åº”è¯¥ä½¿ç”¨ mmapï¼š&lt;ul&gt;
&lt;li&gt;å†…å­˜å¯ä»¥å®¹çº³æ•´ä¸ªæ•°æ®å·¥ä½œé›†ï¼ˆæˆ–è€…è¯´æ•´ä¸ªæ•°æ®åº“ï¼‰ï¼Œå¹¶ä¸”æ˜¯åªè¯»çš„å·¥ä½œè´Ÿè½½&lt;/li&gt;
&lt;li&gt;å¸Œæœ›å°†ä¸€ä¸ªäº§å“å¿«é€Ÿæ¨å‘å¸‚åœºï¼Œä¹Ÿä¸å…³æ³¨æ•°æ®ä¸€è‡´æ€§æˆ–è€…é•¿æœŸçš„å·¥ç¨‹æŠ€æœ¯å€º&lt;/li&gt;
&lt;li&gt;Otherwise, never ğŸ¤£ğŸ™ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½©è›‹ï¼šè®ºæ–‡çš„å¥‡æ•°é¡µé¡µçœ‰  ğŸ˜‚
&lt;img alt="" src="https://s2.loli.net/2022/11/16/AIqHKTC213FYaxX.jpg"&gt;&lt;/p&gt;
&lt;h2&gt;2ã€&lt;a href="https://ayende.com/blog/196161-C/re-are-you-sure-you-want-to-use-mmap-in-your-database-management-system"&gt;re: Are You Sure You Want to Use MMAP in Your Database Management System? &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡ä½œè€…è®¤ä¸ºè‡ªå·±å®ç°ä¸€ä¸ªå†…å­˜åˆ†é¡µç®¡ç†å™¨/ç¼“å†²æ± æ¯”è¾ƒå¤æ‚ï¼Œä½¿ç”¨ mmap æ¥å®ç°å­˜å‚¨ç³»ç»Ÿä¼šå¾ˆå¿«ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡åæ§½äº†åŸè®ºæ–‡æ²¡æœ‰ç»™å‡ºå¯ä¾›é€‰æ‹©çš„æ›¿ä»£æ–¹æ¡ˆï¼ŒåŸºå‡†æµ‹è¯•å’Œç»“è®ºä¹‹é—´ä¹Ÿæ²¡å¤ªå¤šç›¸å…³æ€§ï¼ˆcompares apples to camelsï¼‰ï¼Œä¹Ÿä½ä¼°äº†è‡ªå·±å®ç°ä¸€ä¸ªæ›¿ä»£ mmap çš„ç¼“å†²æ± çš„å¤æ‚æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ç”¨ mmap çš„è¯ï¼Œè®ºæ–‡æåŠçš„é‚£äº›é—®é¢˜ï¼Œä¹Ÿæ˜¯è¦è§£å†³çš„ï¼ˆIf you arenâ€™t using mmap, on the other hand, you still need to handle all those issues. That is a key point that I believe isnâ€™t addressed in the paper. Solving those issues properly (and efficiently) is a seriously challenging task. Given that you are building a specialized solution, you can probably do better than the generic mmap, but it will absolutely have a cost. That cost is both in terms of runtime overhead as well as increased development time.ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åŸè®ºæ–‡çš„å®éªŒè¯´æ˜äº† mmap çš„æ€§èƒ½é—®é¢˜ï¼Œä½†æ˜¯æ¢ä¸ª buffer pool çš„å®ç°èƒ½ä¸èƒ½è·å¾—æ›´å¥½çš„æ€§èƒ½å‘¢ï¼Ÿè¯¥æ–‡ä½œè€…æŒæ‚²è§‚æ€åº¦ã€‚&lt;/p&gt;
&lt;p&gt;å­˜å‚¨ç³»ç»Ÿå®é™…é¢å¯¹çš„å·¥ä½œè´Ÿè½½ä¸ä¼šæ˜¯å®Œå…¨çš„éšæœºè¯»ï¼ˆå†™ï¼‰æˆ–é¡ºåºæ‰«æï¼Œé€šå¸¸éƒ½å…·æœ‰ä¸€å®šçš„çƒ­ç‚¹æ•°æ®ï¼Œè¿™æ—¶ buffer pool çš„ä¼˜åŠ¿å°±ä¼šä½“ç°å‡ºæ¥ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…³äºâ€œé—®é¢˜ 1 - äº‹åŠ¡å®‰å…¨æ€§â€ - ä¸ç”¨ mmapï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ¡ˆæ²¡ä»€ä¹ˆä¸åŒï¼ˆI donâ€™t actually care if the data is written to memory behind my back. What I care about is MVCC (a totally separate concern than buffer management). The fact that Iâ€™m copying the modified data to the side means that I Can support concurrent transactions with far greater ease.ï¼‰&lt;/li&gt;
&lt;li&gt;å…³äºâ€œé—®é¢˜ 2 - I/O åœé¡¿â€ - è¯¥æ–‡ä½œè€…è®¤ä¸ºç¡®å®ä¸ªé—®é¢˜ï¼ˆnot having control over the I/O means that you may incur a page fault at any timeï¼‰ï¼Œå¹¶ä¸”æ˜¯åŸºäº mmap çš„ç³»ç»Ÿè¦é¢å¯¹çš„æœ€å¤§é—®é¢˜ã€‚ä¸è¿‡å®é™…æƒ…å†µæ˜¯ linux ç³»ç»Ÿä¸­ io_uring ä¹‹å¤–çš„å¼‚æ­¥ I/O æ–¹æ¡ˆåœ¨æŸäº›æ—¶å€™å¼‚æ­¥æ“ä½œä¹Ÿä¼šæ˜¯é˜»å¡çš„ã€‚æ˜¯å¦ä½¿ç”¨ mmapï¼Œè¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆä¹Ÿæ²¡æœ‰æœ¬è´¨åŒºåˆ«ã€‚&lt;/li&gt;
&lt;li&gt;å…³äºâ€œé—®é¢˜ 3 - é”™è¯¯å¤„ç†â€ - è¯¥æ–‡ä½œè€…ä»¥è‡ªå·±å¼€å‘çš„ Voron ä¸ºä¾‹è¯´æ˜å³ä½¿ä½¿ç”¨ mmapï¼Œä¹Ÿå¯ä»¥è¾ƒå¥½åœ°å®ç°æ ¡éªŒå’Œæ£€æŸ¥ï¼ˆä½¿ç”¨ä¸€ä¸ª bitmap æ¥è®°å½•å“ªäº›å†…å­˜é¡µè¢«è®¿é—®è¿‡ï¼Œåœ¨ç¬¬ä¸€æ¬¡è®¿é—®æŸä¸ªå†…å­˜é¡µçš„æ—¶å€™æ£€æŸ¥æ ¡éªŒå’Œï¼‰ï¼Œå¹¶è®¤ä¸ºç¨‹åºä¸€æ¬¡è¿è¡Œè¿‡ç¨‹ä¸­å¯¹äºæŒ‡å®šçš„ä¸€ä¸ªå†…å­˜é¡µæ£€æŸ¥ä¸€æ¬¡å°±å¯ä»¥ï¼Œå…¶ä»–æƒ…å†µä¸‹çš„æ£€æŸ¥éƒ½æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚When you use read() to get data from the disk, you have no guarantees that the data wasnâ€™t fetched from a cache along the way. So you may validate the data you read is â€œcorrectâ€, while the on disk representation is broken. For that reason, we only do the check once, instead of each time. ğŸ¤” å¥½åƒä¸æ˜¯è¿™ä¸ªç†ï¼Ÿ&lt;ul&gt;
&lt;li&gt;è‡³äºå‘ç° I/O é”™è¯¯ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿè¯¥æ–‡ä½œè€…è®¤ä¸ºç­”æ¡ˆåªæœ‰ä¸€ä¸ª - è®©å®ƒå´©æºƒç„¶åé‡æ–°æ¢å¤å¹¶è¿è¡Œï¼ˆCrash and then run recovery from scratchï¼‰ï¼Œå› ä¸ºå¦‚æœ I/O ç³»ç»Ÿè¿”å›äº†ä¸€ä¸ªé”™è¯¯ï¼Œåº”ç”¨é€»è¾‘ä¹Ÿä¸ä¼šæœ‰ä»»ä½•æ–¹å¼çŸ¥é“ I/O ç³»ç»Ÿçš„å½“å‰çŠ¶æ€æ˜¯ä»€ä¹ˆï¼Œåº”è¯¥æ€ä¹ˆè§£å†³ï¼Œå”¯ä¸€çš„æ–¹å¼å°±æ˜¯åœä¸‹æ¥ï¼Œé‡æ–°åŠ è½½ä¸€åˆ‡ï¼ˆåº”ç”¨ WAL è¿›è¡Œæ¢å¤ï¼‰ï¼Œå›åˆ°ä¸€ä¸ªç¨³å®šçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…³äºâ€œé—®é¢˜ 4 - æ€§èƒ½é—®é¢˜â€ - &lt;ul&gt;
&lt;li&gt;é¡µè¡¨äº‰ç”¨ï¼ˆpage table contentionï¼‰ï¼šlinux å†…æ ¸å·²ä¼˜åŒ–è§£å†³&lt;/li&gt;
&lt;li&gt;å•çº¿ç¨‹é¡µé©±é€ï¼ˆsingle-threaded page evictionï¼‰ï¼šå¦‚æœå†™/æ›´æ–°é¢‘ç‡ä¸é«˜ï¼Œè„é¡µä¸å¤šçš„è¯ï¼Œä¹Ÿä¸ä¼šæˆä¸ºæ€§èƒ½ç“¶é¢ˆ&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/3748384/what-is-tlb-shootdown"&gt;æ—è·¯è½¬æ¢ç¼“å†²å‡»è½ï¼ˆTLB shootdownsï¼‰&lt;/a&gt;ï¼šåœ¨ä¸€å®šæ¡ä»¶ä¸‹æ‰ä¼šæˆä¸ºæ€§èƒ½ç“¶é¢ˆï¼Œå½“ä½ çœŸçš„é‡åˆ°æ—¶åº”è¯¥ä¹Ÿä¼šå¤šèŠ±é’±ä¹°å†…å­˜æ¥è§£å†³ ğŸ¤£ğŸ™ƒï¼ˆIn order to actually observe the cost of TLS Shootdown in a significant manner, you need to have: (1) really fast I/O (2)working set that significantly exceeds memory (3) no other work that needs to be done for processing a request; In practice, if you have really fast I/O, you spent money on that, youâ€™ll more likely get more RAM as well. And you typically need to do something with the data you read, which means that you wonâ€™t notice the TLB shootdown as muchï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;3ã€&lt;a href="https://www.usenix.org/system/files/conference/fast16/fast16-papers-lu.pdf"&gt;WiscKey: Separating Keys from Values in SSD-Conscious Storage&lt;/a&gt; /   &lt;a href="https://dgraph.io/blog/post/badger/"&gt;Introducing Badger: A fast key-value store written purely in Go&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;WiscKey æ˜¯ä¸€ä¸ªåŸºäº LSM (Log Structured Merge)æ ‘çš„ KV å­˜å‚¨å¼•æ“ï¼Œé’ˆå¯¹ SSD çš„éšæœºè¯»å’Œé¡ºåºè¯»æ€§èƒ½ç‰¹ç‚¹ï¼Œå°† Key å’Œ Value åˆ†å¼€å­˜å‚¨ï¼Œä»¥å°½å¯èƒ½ç¼©å° I/O æ”¾å¤§é—®é¢˜ï¼Œæå‡æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;Value å­˜æ”¾åœ¨ Log æ–‡ä»¶ä¸­ï¼ŒLSM æ ‘ä»…å­˜å‚¨ Key å’Œ Value åœ¨ Log æ–‡ä»¶çš„ä½ç½®ä»¥åŠé•¿åº¦/å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº Value æ¯”è¾ƒå¤§çš„åº”ç”¨åœºæ™¯ï¼Œæ€§èƒ½ä¼˜åŠ¿æ˜æ˜¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/y84VKqJZWMSjBu7.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å› ä¸º LSM æ ‘ä¸å­˜å‚¨ Value æœ¬èº«ï¼Œé€šå¸¸æ¯”è¾ƒå°ï¼Œå¯ä»¥å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥ä¸è€ƒè™‘è·å– Value çš„å€¼ï¼Œç‚¹æŸ¥å’ŒèŒƒå›´æŸ¥æ‰¾é€Ÿåº¦éå¸¸å¿«ã€‚&lt;/p&gt;
&lt;p&gt;LSM æ ‘æ¯”è¾ƒå°ï¼Œæ‰€ä»¥ Compaction æ¬¡æ•°å°‘ï¼Œé€Ÿåº¦å¿«ï¼ˆç‰¹åˆ«æ˜¯å¦‚æœæ•´ä¸ª LSM éƒ½æ”¾åœ¨å†…å­˜ä¸­çš„è¯ï¼‰ã€‚Compaction è¿‡ç¨‹ä¸­ä¸éœ€è¦è¯»å†™ Value çš„å€¼ï¼Œæ‰€ä»¥ I/O æ”¾å¤§å€æ•°è¦å°å¾ˆå¤šã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/2tvp5LROXG4UYrw.jpg"&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹æŸ¥è¿‡ç¨‹ï¼Œä» LSM æ ‘ä¸­è·å– Value çš„ä½ç½®å’Œå¤§å°åï¼Œéœ€è¦ä» Value Log ä¸­è·å– Value å€¼ã€‚å› ä¸º LSM æ ‘å°ï¼Œæ‰€ä»¥è¯»æ”¾å¤§å€æ•°å°ï¼Œç»¼åˆèµ·æ¥çœ‹ï¼ŒWiscKey ç‚¹æŸ¥çš„æ€§èƒ½ä¼˜åŠ¿ä¾æ—§æ˜æ˜¾ã€‚&lt;/p&gt;
&lt;p&gt;èŒƒå›´æŸ¥æ‰¾/éå†è¿‡ç¨‹ï¼Œå…ˆä» LSM æ ‘ä¸­è·å¾—ç›®æ ‡èŒƒå›´å†…çš„æ‰€æœ‰ Value çš„ä½ç½®å’Œå¤§å°ï¼Œæ”¾å…¥é˜Ÿåˆ—ï¼Œä½¿ç”¨å¤šçº¿ç¨‹è¿›è¡Œå¹¶å‘é¢„å–ï¼Œåˆ©ç”¨ SSD éšæœºè¯»çš„ååèƒ½åŠ›éšå¹¶å‘æ ‘è¿‘çº¿æ€§å¢é•¿çš„ç‰¹ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/APbQlhq3nWsf47j.jpg"&gt;
&lt;img alt="" src="https://s2.loli.net/2022/11/16/j357k6XMfYO2udm.jpg"&gt;&lt;/p&gt;
&lt;p&gt;Value Log ä¹Ÿéœ€è¦ GCï¼Œæ¸…ç†æ‰æ— ç”¨çš„ Value å€¼ã€‚LSM æ ‘çš„ Compaction ä¸»è¦æ˜¯ä¸ºäº†æå‡æŸ¥æ‰¾/æ£€ç´¢çš„æ€§èƒ½/æ•ˆç‡ï¼Œæ§åˆ¶è¯»æ”¾å¤§ï¼Œå‡å°‘å†…å­˜/ç£ç›˜ç©ºé—´å ç”¨æ˜¯æ¬¡è¦çš„ã€‚Value Log çš„ GC åˆ™ä¸»è¦æ˜¯ä¸ºäº†å‡å°‘å†…å­˜/ç£ç›˜ç©ºé—´å ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å®ç°åœ¨çº¿çš„è½»é‡çº§ GCï¼ŒValue Log ä¸­ä¹Ÿå­˜å‚¨äº† Keyï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/JMKxWiaCovyhgr8.jpg"&gt;&lt;/p&gt;
&lt;p&gt;tail æŒ‡å‘ Value Log æœ‰æ•ˆå€¼èŒƒå›´å†…æ—¶åºä¸Šæœ€å…ˆå†™å…¥çš„é‚£ä¸ª value çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;head æŒ‡å‘ Value Log ä¸­ä¸‹ä¸€ä¸ªæ–° value å†™å…¥çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;tail å’Œ head åŠå…¶å¯¹åº”çš„ä½ç½®ä¿¡æ¯å‡ä½œä¸º kv å­˜å…¥ LSM æ ‘ä¸­ï¼ˆhead çš„æŒ‡å‘ä»€ä¹ˆæ—¶å€™ä¼šæ›´æ–°ï¼Ÿï¼šæ¯æ¬¡æœ‰æ–°å€¼å†™å…¥çš„æ—¶å€™éƒ½æ›´æ–°ï¼Ÿè¿˜æ˜¯åœ¨ GC çš„è¿‡ç¨‹ä¸­æ‰ä¼šæ›´æ–°ï¼Ÿï¼‰&lt;/p&gt;
&lt;p&gt;GC çš„æµç¨‹ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;â‘  ä» tail æŒ‡å‘çš„ä½ç½®å¼€å§‹é¡ºåºæ‰«æä¸€å—æ•°æ®ï¼Œæ ¹æ®å…¶ä¸­çš„ key æ£€ç´¢ LSM æ ‘ï¼Œç¡®è®¤å½“å‰ value æ˜¯å¦æœ‰æ•ˆï¼ˆæ²¡æœ‰è¢«åˆ é™¤ä¹Ÿæ²¡æœ‰è¢«è¦†ç›–ï¼‰&lt;/p&gt;
&lt;p&gt;â‘¡ å¦‚æœæœ‰æ•ˆåˆ™æ’å…¥åˆ° head æŒ‡å‘çš„ä½ç½®ï¼Œhead æŒ‡å‘ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼›å¦‚æœæ— æ•ˆï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒ&lt;/p&gt;
&lt;p&gt;â‘¢ ä¸€å—æ•°æ®å¤„ç†å®Œæˆåï¼Œç§»åŠ¨ tail æŒ‡å‘åˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼Œé‡Šæ”¾/å›æ”¶åŸæ¥æ•°æ®å—çš„å­˜å‚¨ç©ºé—´ï¼›ç„¶åç»§ç»­å¾ªç¯å¤„ç†&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç–‘é—®&lt;/strong&gt;ï¼š1. GC è¿‡ç¨‹ä¸­æ¯æ¬¡å‘ head æ’å…¥æœ‰æ•ˆå€¼æ—¶ï¼Œæ˜¯å¦å…ˆè¦ä» LSM æ ‘ä¸­æŸ¥è¯¢æœ€æ–°æŒ‡å‘çš„ä½ç½®ï¼Ÿ2. åœ¨æ ¹æ® key ä» LSM æ ‘æŸ¥è¯¢åå°†æœ‰æ•ˆå€¼å†™å…¥ head ä½ç½®å‰ï¼Œæœ‰æ–°æ•°æ®å†™å…¥çš„è¯ï¼Œæ€ä¹ˆå¤„ç†ï¼ŸGC æœŸé—´æ˜¯å¦è¦åœæ­¢æ­£å¸¸çš„å†™æ“ä½œï¼Ÿè¿˜æ˜¯è¯´å¯¹æŸä¸ªä¸´ç•ŒåŒºåŠ é”ï¼Ÿ &lt;/p&gt;
&lt;p&gt;LSM æ ‘åŸç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/k6cHFOUluo1Ibfp.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/17WubUhqSpCjMr5.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/Tomk3VOEs7jduQl.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://zhuanlan.zhihu.com/p/181498475"&gt;LSMæ ‘è¯¦è§£ - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;4ã€&lt;a href="http://www.vldb.org/pvldb/vol14/p364-didona.pdf"&gt;Toward a Better Understanding and Evaluation of Tree Structures on Flash SSDsï¼ˆVLDBï¼‰&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;PTS - Persistent tree data structure&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ LSM æ ‘ï¼ˆRocksDBï¼‰å’Œ B+ æ ‘ï¼ˆWiredTigerï¼‰æ¥åˆ†æ SSD åŸºå‡†æµ‹è¯•ï¼ˆBenchmarkingï¼‰ä¸­å¯èƒ½è¸©åˆ°çš„ 7 ä¸ªå‘ï¼ˆpitfallï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ1ï¼‰Running short tests / æµ‹è¯•è¿‡äºçŸ­å¹³å¿«&lt;/strong&gt; âš¡ï¸&lt;/p&gt;
&lt;p&gt;éšç€ä½¿ç”¨æ—¶é—´çš„å¢åŠ ï¼ŒSSD çš„æ€§èƒ½ä¼šä¸€å®šçš„åŠ¨æ€å˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;Because both the PTS and SSD performance vary over time, short-lived tests are unable to capture how the systems will behave under a continuousï¼ˆnon-burstyï¼‰workload.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/HSuzIeC8itjndGw.jpg"&gt;&lt;/p&gt;
&lt;p&gt;WA-Aï¼ˆåº”ç”¨/å­˜å‚¨ç³»ç»Ÿçš„å†™æ”¾å¤§ï¼‰ increases over time while the levels of the LSM-Tree fills up, and its curve flattens once the layout of the LSM tree has stabilized.&lt;/p&gt;
&lt;p&gt;WA-Dï¼ˆSSD è®¾å¤‡çš„å†™æ”¾å¤§ï¼‰ increases over time because of the effect of garbage collection.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ2ï¼‰Ignoring the device write amplification (WA-D) / å¿½è§†äº† SSD è®¾å¤‡æœ¬èº«çš„å†™æ”¾å¤§&lt;/strong&gt; âš¡ï¸&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;WA-D directly affects the throughput of the device, which strongly correlates with the application-level throughput.&lt;/li&gt;
&lt;li&gt;WA-D is an essential measure of the I/O efficiency of a PTS. ç«¯åˆ°ç«¯çš„å†™æ”¾å¤§å€æ•°åº”è¯¥æ˜¯ WA-A ä¹˜ä»¥ WA-D&lt;/li&gt;
&lt;li&gt;WA-D measures the flash-friendliness of a PTS. &lt;ul&gt;
&lt;li&gt;A low WA-D indicates that a PTS generates a write access that does not incur much garbage collection overhead in the SSD. &lt;/li&gt;
&lt;li&gt;ä»¥å‰å¤§å®¶å¯èƒ½è®¤ä¸º LSM æ ‘ï¼ˆé¡ºåºå†™ï¼‰ç›¸æ¯” B+ æ ‘ï¼ˆéšæœºå†™ï¼‰å¯¹ SSD æ›´å‹å¥½ï¼Œä½†å®æµ‹ WA-D é¢ è¦†äº†è¿™ä¸ªè®¤çŸ¥ &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ3ï¼‰Ignoring the internal state of the SSD / å¿½è§†äº† SSD çš„åˆå§‹å†…éƒ¨çŠ¶æ€&lt;/strong&gt; âš¡ï¸&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/pFyqSCVZnrHB1g9.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Trim(Discard)çš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†æé«˜GCçš„æ•ˆç‡ä»¥åŠå‡å°‘å†™å…¥æ”¾å¤§çš„å‘ç”Ÿï¼Œæœ€å¤§ä½œç”¨æ˜¯æ¸…ç©ºå¾…åˆ é™¤çš„æ— æ•ˆæ•°æ®&lt;/strong&gt;ã€‚åœ¨SSDæ‰§è¡Œè¯»ã€æ“¦ã€å†™æ­¥éª¤çš„æ—¶å€™ï¼Œé¢„å…ˆæŠŠæ“¦é™¤çš„æ­¥éª¤å…ˆåšäº†ï¼Œè¿™æ ·æ‰èƒ½å‘æŒ¥å‡ºSSDçš„æ€§èƒ½ï¼Œé€šå¸¸SSDæ‰é€Ÿå¾ˆå¤§ä¸€éƒ¨åˆ†åŸå› å°±æ˜¯å¾…åˆ é™¤çš„æ— æ•ˆæ•°æ®å¤ªå¤šï¼Œæ¯æ¬¡å†™å…¥çš„æ—¶å€™ä¸»æ§éƒ½è¦å…ˆåšæ¸…ç©ºå¤„ç†ï¼Œæ‰€ä»¥æ€§èƒ½å—åˆ°äº†é™åˆ¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The steady-state performance of a PTS can greatly differ depending on the initial state of the drive, this is surprising.&lt;/p&gt;
&lt;p&gt;This phenomenon is caused by how the LBA (logic block address)  access patterns of RocksDB and WiredTiger intertwine with the SSD garbage collection mechanism as a function of the initial state the drive.&lt;/p&gt;
&lt;p&gt;WiredTiger only writes to a limited portion of the logical block address space.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ4ï¼‰Ignore the dataset size / å¿½è§†äº†æ•°æ®é›†å¤§å°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/SlVWJfP5rO7xpNQ.jpg"&gt;&lt;/p&gt;
&lt;p&gt;The amount of data stored by the SSD changes its behavior and affects overall performance.&lt;/p&gt;
&lt;p&gt;The performance degradation brought by the larger dataset is primarily due to the idiosyncrasiesï¼ˆç‰¹è´¨/ç‰¹ç‚¹ï¼‰ of the SSD: larger datasets lead to more valid pages in each flash block, which increases the amount of data being relocated upon performing garbage collection, i.e., the WA-D&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ5ï¼‰Ignoring the extra storage capacity a PTS needs to manage data and store additional meta-data / æœªè€ƒè™‘ç©ºé—´æ”¾å¤§ï¼ˆSpace amplificationï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¶‰åŠå­˜å‚¨æˆæœ¬&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ6ï¼‰Ignoring SSD over-provisioning&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆæœ¬ä¸æ€§èƒ½ä¹‹é—´çš„æƒè¡¡æŠ˜ä¸­ - å¯ä»¥é¢„ç•™ä¸€éƒ¨åˆ† SSD ç©ºé—´ç»™ SSD åš GC ä½¿ç”¨ï¼Œè¿™éƒ¨åˆ†ç©ºé—´å¯¹æ–‡ä»¶ç³»ç»Ÿä¸å¯è§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://s2.loli.net/2022/11/16/YEFp5g69mnqBe3w.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ï¼ˆ7ï¼‰Ignoring the effect of the underlying storage technology on performance&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;5ã€SSD åŸç†ç›¸å…³èµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://zhuanlan.zhihu.com/p/102089411"&gt;æµ…è°ˆåˆ†å¸ƒå¼å­˜å‚¨ä¹‹SSDåŸºæœ¬åŸç† - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://mp.weixin.qq.com/s/_uiCsFXWjepeHSdgiUABhg"&gt;èŠèŠ SSD çš„åŸºæœ¬åŸç† (qq.com)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://xiongduo.cn/posts/coding-for-ssds-part-1-introduction-and-table-of-contents.html"&gt;ä¸ºSSDç¼–ç¨‹ï¼ˆ1ï¼‰ï¼šç®€ä»‹å’Œç›®å½• (xiongduo.cn)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.ssdfans.com/?p=8077"&gt;SSDèƒŒåçš„ç§˜å¯†ï¼šSSDåŸºæœ¬å·¥ä½œåŸç† (ssdfans.com)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="è®ºæ–‡"></category><category term="SSD"></category><category term="å­¦ä¹ "></category><category term="æ€§èƒ½"></category></entry><entry><title>Disruptor ç­‰å¾…ç­–ç•¥å¼•å‘çš„ CPU è´Ÿè½½å¼‚å¸¸é—®é¢˜</title><link href="http://youngsterxyf.github.io/2020/07/14/disruptor-waitstrategy-cpu-busy/" rel="alternate"></link><published>2020-07-14T00:00:00+08:00</published><updated>2020-07-14T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2020-07-14:/2020/07/14/disruptor-waitstrategy-cpu-busy/</id><summary type="html">&lt;h2&gt;èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;å·¥ä½œä¸­ï¼Œæˆ‘è´Ÿè´£çš„ç³»ç»Ÿæ˜¯ä¸€ä¸ªæ•°æ®æµå¤„ç†æœåŠ¡ - ä»¥æµæ°´çº¿ï¼ˆpipelineï¼‰çš„å½¢å¼åˆ†å¤šçº§å¼‚æ­¥å¤„ç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/07/14/ONwUsrlhLmIq8BW.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­çš„ é˜Ÿåˆ— å®é™…ä½¿ç”¨çš„æ˜¯ &lt;a href="https://github.com/LMAX-Exchange/disruptor"&gt;Disruptor&lt;/a&gt;ï¼Œå¤šç”Ÿ â€¦&lt;/p&gt;</summary><content type="html">&lt;h2&gt;èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;å·¥ä½œä¸­ï¼Œæˆ‘è´Ÿè´£çš„ç³»ç»Ÿæ˜¯ä¸€ä¸ªæ•°æ®æµå¤„ç†æœåŠ¡ - ä»¥æµæ°´çº¿ï¼ˆpipelineï¼‰çš„å½¢å¼åˆ†å¤šçº§å¼‚æ­¥å¤„ç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/07/14/ONwUsrlhLmIq8BW.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­çš„ é˜Ÿåˆ— å®é™…ä½¿ç”¨çš„æ˜¯ &lt;a href="https://github.com/LMAX-Exchange/disruptor"&gt;Disruptor&lt;/a&gt;ï¼Œå¤šç”Ÿäº§è€…å•æ¶ˆè´¹è€…æ¨¡å¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ThreadFactory factory = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; ThreadFactoryBuilder().setNameFormat(name).setDaemon(&lt;span style="color: #0000ff"&gt;true&lt;/span&gt;).build();
Disruptor&amp;lt;Event&amp;lt;T&amp;gt;&amp;gt;  disruptor = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Disruptor&amp;lt;&amp;gt;(Event&amp;lt;T&amp;gt;::&lt;span style="color: #0000ff"&gt;new&lt;/span&gt;, bufferSize, factory, ProducerType.MULTI, &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; SleepingWaitStrategy());
disruptor.handleEventsWith((Event&amp;lt;T&amp;gt; event, &lt;span style="color: #2b91af"&gt;long&lt;/span&gt; sequence, &lt;span style="color: #2b91af"&gt;boolean&lt;/span&gt; endOfBatch) -&amp;gt; {
    consumer.accept(event.value, endOfBatch);
    event.value = &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æœåŠ¡è¿è¡Œåœ¨ k8s é›†ç¾¤ä¸Šï¼Œæ¯ä¸ªå®¹å™¨èŠ‚ç‚¹ä¸Šå¯èƒ½ä¼šè¿è¡Œå¤šä¸ª pipelineï¼Œä¹Ÿå³æ„å‘³ç€å•ä¸ªèŠ‚ç‚¹ä¸Šä¼šå­˜åœ¨å¤šä¸ª disruptor å®ä¾‹ã€‚&lt;/p&gt;
&lt;h2&gt;ç°è±¡&lt;/h2&gt;
&lt;p&gt;è¿‘æœŸçªç„¶æ”¶åˆ°æµ‹è¯•ç¯å¢ƒå¾ˆå¤šèŠ‚ç‚¹ï¼ˆç”Ÿäº§ç¯å¢ƒä¹Ÿæœ‰å°‘é‡èŠ‚ç‚¹ï¼‰çš„ CPU ä½¿ç”¨ç‡å‘Šè­¦ - CPU ä½¿ç”¨ç‡æŒç»­ 5 åˆ†é’Ÿä»¥ä¸Šè¶…è¿‡ 90%ï¼Œå¦‚ä¸‹å…¶ä¸­ä¸€ä¸ªä»»åŠ¡èŠ‚ç‚¹çš„ CPU ä½¿ç”¨ç‡ç›‘æ§å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/07/14/XJVsiMI3b9m5dlB.jpg"&gt;
&lt;img alt="" src="https://i.loli.net/2020/07/14/2YwPQAqaICr879x.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cpu.busy = cpu.system + cpu.user + è½¯/ç¡¬ä¸­æ–­&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„å…¶ä¸­ &lt;code&gt;cpu.system&lt;/code&gt; æ¯” &lt;code&gt;cpu.user&lt;/code&gt; é«˜ä¸å°‘ï¼Œ&lt;code&gt;cpu.busy&lt;/code&gt; åˆæ¯” &lt;code&gt;cpu.system&lt;/code&gt; é«˜ä¸å°‘ã€‚ä¹Ÿå³ CPU æ—¶é—´ç‰‡èµ„æºä¸»è¦æ¶ˆè€—åœ¨ å†…æ ¸æ€ å’Œä¸­æ–­é€»è¾‘ä¸Šï¼ˆå¯¹äºè¿™äº›ä»»åŠ¡è€Œè¨€ &lt;code&gt;cpu.user&lt;/code&gt; æŒ‡æ ‡ä¹Ÿæ˜¯å¼‚å¸¸çš„ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›èŠ‚ç‚¹è¿è¡Œçš„ä»»åŠ¡ï¼Œå‡ ä¹æ²¡æœ‰æ•°æ®éœ€è¦å¤„ç†ï¼Œä¹Ÿå°±æ˜¯è¯´å‡ ä¹æ˜¯ç©ºè·‘çš„ã€‚ä»çº¿ç¨‹æ•°é‡ç›‘æ§ä»¥åŠ jstack è¾“å‡ºçš„å †æ ˆè·Ÿè¸ªä¿¡æ¯ï¼Œä¹Ÿæœªå‘ç°æ˜æ˜¾å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;h2&gt;åŸå› æ’æŸ¥&lt;/h2&gt;
&lt;p&gt;å°†æµ‹è¯•ç¯å¢ƒçš„ä»»åŠ¡åœ¨æœ¬åœ°ç¯å¢ƒè¿è¡Œèµ·æ¥ï¼Œå¹¶åŸºäº &lt;a href="https://www.lightbend.com/blog/profiling-jvm-applications"&gt;How to profile JVM applications&lt;/a&gt; ä¸€æ–‡ä¸­æåˆ°çš„ç«ç„°å›¾å·¥å…·ï¼Œäº§å‡ºå¯¹åº” JVM åº”ç”¨çš„ç«ç„°å›¾ï¼š
&lt;img alt="" src="https://i.loli.net/2020/07/14/zQMWsBeKbuZLamN.jpg"&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­å¯ä»¥å¤§è‡´çœ‹å‡ºå…¶ä¸­ &lt;code&gt;com/lmax/disruptor/SleepingWaitStrategy:::waitFor&lt;/code&gt; / &lt;code&gt;jdk/internal/misc/Unsafe:::park&lt;/code&gt; æ¯”è¾ƒå¯ç–‘ï¼Œåœ¨è°ƒç”¨æ ˆä¸­è€—æ—¶æœ€é•¿ã€‚&lt;/p&gt;
&lt;p&gt;ä»é¡¹ç›®æºç å’Œ jstack è¾“å‡ºçš„å †æ ˆè·Ÿè¸ªä¿¡æ¯å¯ä»¥çœ‹åˆ°ï¼Œæµ‹è¯•ä»»åŠ¡ä¸­å¤§è‡´æ¶‰åŠ 18ä¸ª disruptor å®ä¾‹ï¼Œå‡ä½¿ç”¨ &lt;code&gt;SleepingWaitStrategy&lt;/code&gt; ç­‰å¾…ç­–ç•¥ï¼Œè¯¥ç­–ç•¥çš„ &lt;a href="https://github.com/LMAX-Exchange/disruptor/blob/master/src/main/java/com/lmax/disruptor/SleepingWaitStrategy.java#L56"&gt;waitFor&lt;/a&gt; æ–¹æ³•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;long&lt;/span&gt; waitFor(&lt;span style="color: #0000ff"&gt;final&lt;/span&gt; &lt;span style="color: #2b91af"&gt;long&lt;/span&gt; sequence, Sequence cursor, &lt;span style="color: #0000ff"&gt;final&lt;/span&gt; Sequence dependentSequence, &lt;span style="color: #0000ff"&gt;final&lt;/span&gt; SequenceBarrier barrier) &lt;span style="color: #0000ff"&gt;throws&lt;/span&gt; AlertException {
    &lt;span style="color: #2b91af"&gt;long&lt;/span&gt; availableSequence;
    &lt;span style="color: #008000"&gt;// é»˜è®¤ 200&lt;/span&gt;
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; counter = retries;

    &lt;span style="color: #0000ff"&gt;while&lt;/span&gt; ((availableSequence = dependentSequence.get()) &amp;lt; sequence) {
      counter = applyWaitMethod(barrier, counter);
    }

    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; availableSequence;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;waitFor æ–¹æ³•ä¸­æ ¸å¿ƒè°ƒç”¨äº† &lt;a href="https://github.com/LMAX-Exchange/disruptor/blob/master/src/main/java/com/lmax/disruptor/SleepingWaitStrategy.java#L76"&gt;applyWaitMethod&lt;/a&gt; ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; applyWaitMethod(&lt;span style="color: #0000ff"&gt;final&lt;/span&gt; SequenceBarrier barrier, &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; counter) &lt;span style="color: #0000ff"&gt;throws&lt;/span&gt; AlertException {
    barrier.checkAlert();

    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (counter &amp;gt; 100)
    {
        --counter;
    }
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (counter &amp;gt; 0)
    {
        --counter;
        Thread.yield();
    }
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
    {
        &lt;span style="color: #008000"&gt;// sleepTimeNs é»˜è®¤ 100&lt;/span&gt;
        &lt;span style="color: #008000"&gt;// é—´æ¥è°ƒç”¨  jdk/internal/misc/Unsafe:::park æ–¹æ³•&lt;/span&gt;
        LockSupport.parkNanos(sleepTimeNs);
    }

    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; counter;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/LockSupport.html#parkNanos-long-"&gt;LockSupport.parkNanos&lt;/a&gt; æ–¹æ³•çš„ä½œç”¨ç®€å•è€Œè¨€å³è®©å½“å‰çº¿ç¨‹ç¡çœ  sleepTimeNs çº³ç§’ã€‚&lt;/p&gt;
&lt;p&gt;Disruptor ä½œä¸ºä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œè‡ªå¸¦ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ± çš„çº¿ç¨‹å·¥å‚å³æ„é€ æ–¹æ³•ä¼ å…¥çš„ factoryï¼Œçº¿ç¨‹æ•°é‡ç­‰äº &lt;a href="https://github.com/LMAX-Exchange/disruptor/blob/master/src/main/java/com/lmax/disruptor/dsl/Disruptor.java#L165"&gt;disruptor.handleEventsWith&lt;/a&gt; è°ƒç”¨æ—¶ä¼ å…¥çš„å›è°ƒæ–¹æ³•æ•°é‡ï¼ŒhandleEventsWith çš„å‚æ•°æ•°é‡ä¸å®šï¼ˆ&lt;code&gt;public final EventHandlerGroup&amp;lt;T&amp;gt; handleEventsWith(final EventHandler&amp;lt;? super T&amp;gt;... handlers)&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;18ä¸ª Disruptor å®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ä¸æ–­æ£€æŸ¥é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰æ–°çš„ &lt;code&gt;Event&amp;lt;T&amp;gt;&lt;/code&gt; ä»»åŠ¡éœ€è¦å¤„ç†ï¼Œå¦‚æœæœ‰ï¼Œåˆ™è°ƒç”¨ EventHandler å›è°ƒæ–¹æ³•è¿›è¡Œå¤„ç†ï¼Œå¦åˆ™ç¡çœ  sleepTimeNs çº³ç§’ã€‚&lt;/p&gt;
&lt;p&gt;åˆ°æ­¤ï¼Œç»“åˆç›‘æ§æŒ‡æ ‡ï¼Œå¯ä»¥å¤§è‡´çŒœæµ‹ï¼šç”±äº sleepTimeNs è¾ƒå°ï¼Œå¯¼è‡´å¤šä¸ªçº¿ç¨‹çš„çŠ¶æ€ä¸æ–­åœ¨ &lt;code&gt;è¿è¡Œ&lt;/code&gt;ã€&lt;code&gt;ç¡çœ &lt;/code&gt;ã€&lt;code&gt;ç­‰å¾…è°ƒåº¦&lt;/code&gt; ä¹‹é—´åˆ‡æ¢ï¼Œçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢éå¸¸é¢‘ç¹ã€‚&lt;/p&gt;
&lt;p&gt;å›´ç»• LockSupport.parkNanos ç¼–å†™ä¸€ä¸ªæµ‹è¯•ç¨‹åºï¼Œæ¥å¤ç°è¿™ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; java.util.concurrent.CountDownLatch;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; java.util.concurrent.ExecutorService;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; java.util.concurrent.Executors;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; java.util.concurrent.locks.LockSupport;

&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Test&lt;/span&gt; {

  &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; main(String[] args) &lt;span style="color: #0000ff"&gt;throws&lt;/span&gt; InterruptedException {
    ExecutorService tp = Executors.newFixedThreadPool(18);
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; (&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; idx = 0; idx &amp;lt; 18; idx++) {
      tp.submit(() -&amp;gt; {
        &lt;span style="color: #0000ff"&gt;while&lt;/span&gt; (&lt;span style="color: #0000ff"&gt;true&lt;/span&gt;) {
          LockSupport.parkNanos(100);
        }
      });
    }
    CountDownLatch wg = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; CountDownLatch(1);
    wg.await();
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ 3.2 GHz 6-Core Intel Core i7 é…ç½® macOS ç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªæµ‹è¯•ç¨‹åºå¯ä»¥ç¨³å®šåœ°å°† CPU ä½¿ç”¨ç‡æ§åˆ¶åœ¨ 700%+ï¼Œå¦‚ä¸‹ &lt;code&gt;top -pid [æµ‹è¯•ç¨‹åºçš„è¿›ç¨‹ id]&lt;/code&gt; å‘½ä»¤çš„è¾“å‡ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/07/14/Z6jixvuWY1yTnL4.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ CSW ä¸ºçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶é—®é¢˜åŸå› åœ¨äºå¤šä¸ªçº¿ç¨‹é¢‘ç¹ç¡çœ å¯¼è‡´ï¼Œé‚£ä¹ˆè§£å†³æ–¹æ¡ˆä¹Ÿæ¯”è¾ƒç®€å•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨æ›´å¤§çš„å€¼æ¥æ›¿æ¢ sleepTimeNs é»˜è®¤å€¼ï¼š&lt;code&gt;new Disruptor&amp;lt;&amp;gt;(Event&amp;lt;T&amp;gt;::new, bufferSize, factory, ProducerType.MULTI, new SleepingWaitStrategy(200, 1000 * 1000 / 10)); // 0.1 ms&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å…¶ä»–ç­‰å¾…ç­–ç•¥ï¼ˆWaitStrategyï¼‰ï¼Œæ¯”å¦‚ï¼š&lt;code&gt;com.lmax.disruptor.BlockingWaitStrategy&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸è¿‡è§£å†³æ–¹æ¡ˆä¹Ÿæœ‰å¾®å°çš„è´Ÿä½œç”¨ - éƒ¨åˆ†æ–°ä»»åŠ¡/&lt;code&gt;Event&amp;lt;T&amp;gt;&lt;/code&gt;å®ä¾‹çš„å¤„ç†æ—¶å»¶ä¼šå¢å¤§ï¼Œä½†åœ¨æˆ‘ä»¬çš„æ•°æ®æµå¤„ç†åœºæ™¯ä¸‹ï¼Œè¿™ç‚¹æ—¶å»¶å¢å¤§å¯¹ä¸šåŠ¡å®Œå…¨æ²¡æœ‰å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œè¿™ä¸ªé—®é¢˜åº”è¯¥æ˜¯ä¸€ç›´å­˜åœ¨ï¼Œä¸ºä»€ä¹ˆè¿‘æœŸæ‰æ”¶åˆ°å‘Šè­¦ï¼Œä¸ºä»€ä¹ˆä»¥å‰ä»ç›‘æ§ä¸Šæœªå‘ç°ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆè¿‘æœŸæ‰æ”¶åˆ°å‘Šè­¦ï¼Ÿå› ä¸ºè¿™ä¸ªç›‘æ§å‘Šè­¦æ˜¯è¿‘æœŸå…¬å¸ç›‘æ§å¹³å°æ‰ç»Ÿä¸€é…ç½®çš„&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆä»¥å‰ä»ç›‘æ§ä¸Šæœªå‘ç°ï¼Ÿå› ä¸ºå…¬å¸åˆ‡æ¢äº†æ–°çš„ç›‘æ§å¹³å°ï¼Œè€çš„ç›‘æ§å¹³å°æ²¡æœ‰ cpu.busy è¿™ä¸ªæŒ‡æ ‡ï¼Œè€Œè¿™äº›æ²¡ä»€ä¹ˆæ•°æ®è¦å¤„ç†çš„ä»»åŠ¡é•¿æ—¶é—´ä¸éœ€è¦å¼€å‘ç»´æŠ¤ï¼Œä¹Ÿå°±æœªå¾—åˆ°åŠæ—¶å…³æ³¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;æ‰©å±•èµ„æ–™&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¸Šä¸‹æ–‡åˆ‡æ¢è€—æ—¶å¤šå°‘ï¼Ÿ&lt;a href="https://blog.tsunanet.net/2010/11/how-long-does-it-take-to-make-context.html"&gt;How long does it take to make a context switch?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LockSupport.parkNanos(100)&lt;/code&gt; çœŸçš„å°±æ˜¯ç¡çœ  100 çº³ç§’å—ï¼Ÿ&lt;a href="https://hazelcast.com/blog/locksupport-parknanos-under-the-hood-and-the-curious-case-of-parking/"&gt;LockSupport.parkNanos() Under the Hood and the Curious Case of Parking&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content><category term="å…¶ä»–"></category><category term="é—®é¢˜æ’æŸ¥"></category><category term="Java"></category><category term="Disruptor"></category></entry><entry><title>å¦‚ä½•å‰–æ JVM åº”ç”¨ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2020/07/13/how-to-profile-jvm-applications/" rel="alternate"></link><published>2020-07-13T00:00:00+08:00</published><updated>2020-07-13T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2020-07-13:/2020/07/13/how-to-profile-jvm-applications/</id><summary type="html">&lt;p&gt;åŸæ–‡é“¾æ¥ï¼š&lt;a href="https://www.lightbend.com/blog/profiling-jvm-applications"&gt;How to profile JVM applications&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Hi å¤§å®¶å¥½ã€‚å·¥å…·å›¢é˜Ÿï¼ˆtooling teamï¼‰è¿‘æœŸçš„ä¸€ä¸ªå…³æ³¨ç‚¹æ˜¯æ”¹è¿› sbt è´¡çŒ®æµç¨‹ï¼ˆ improvement of the contribution process to sbtï¼‰ã€‚æˆ‘ä»¬ä¸€ç›´åœ¨æ€è€ƒçš„ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡é“¾æ¥ï¼š&lt;a href="https://www.lightbend.com/blog/profiling-jvm-applications"&gt;How to profile JVM applications&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Hi å¤§å®¶å¥½ã€‚å·¥å…·å›¢é˜Ÿï¼ˆtooling teamï¼‰è¿‘æœŸçš„ä¸€ä¸ªå…³æ³¨ç‚¹æ˜¯æ”¹è¿› sbt è´¡çŒ®æµç¨‹ï¼ˆ improvement of the contribution process to sbtï¼‰ã€‚æˆ‘ä»¬ä¸€ç›´åœ¨æ€è€ƒçš„å¦ä¸€ä¸ªäº‹æƒ…æ˜¯ sbt çš„æ€§èƒ½ã€‚ä¸ºä¸€ä¸¾è§£å†³è¿™ä¸¤ä»¶äº‹æƒ…ï¼Œæˆ‘è°ƒç ”äº† Jason Zauggã€Johannes Rudolph è¿™äº›äººå¦‚ä½•å‰–æ JVM åº”ç”¨ï¼Œè¿™ç¯‡æ–‡ç« å³æ˜¯è°ƒç ”ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè®ºè¿°çš„æŠ€æœ¯åº”è¯¥å¯ä»¥åº”ç”¨äºJava å’Œ Scalaï¼Œä¹ŸåŸºæœ¬ä¸ä½ ä½¿ç”¨çš„å·¥å…·æ— å…³ã€‚&lt;/p&gt;
&lt;h2&gt;ç«ç„°å›¾ï¼ˆä½¿ç”¨ async-profiler ç”Ÿæˆï¼‰&lt;/h2&gt;
&lt;p&gt;å‰–æ JVM åº”ç”¨çš„æ–¹å¼æœ‰å¤šç§ï¼Œä½†æ–°æ™‹çƒ­é—¨æ˜¯Netflix é«˜çº§æ€§èƒ½æ¶æ„å¸ˆï¼ˆSenior Performance Architectï¼‰Brendan Gregg å‘æ˜çš„&lt;strong&gt;ç«ç„°å›¾&lt;/strong&gt;ã€‚å¼€å‘è€…å…ˆæ”¶é›†å †æ ˆè¸ªè¿¹æŠ½æ ·æ•°æ®ï¼ˆstack trace samplesï¼‰ï¼Œç„¶åå°†å…¶å¤„ç†æˆä¸€å¼ äº¤äº’å¼çš„ svg å›¾ã€‚è‹¥è¦å¿«é€Ÿäº†è§£ç«ç„°å›¾ï¼Œå¯é˜…è¯»å¦‚ä¸‹é“¾æ¥èµ„æ–™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=ugRrFdda_JQ"&gt;Using FlameGraphs To Illuminate The JVM by Nitsan Wakart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=D53T1Ejig1Q"&gt;USENIX ATC â€™17: Visualizing Performance with Flame Graphs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘æ¨èçš„ç¬¬ä¸€ä¸ªç«ç„°å›¾å·¥å…·æ˜¯  Andrei Pangin å‘èµ·çš„ async-profilerï¼Œåœ¨ macOS å’Œ Linux æ“ä½œç³»ç»Ÿç¯å¢ƒä¸‹å‡å¯ä½¿ç”¨ï¼Œä¸Šæ‰‹ä½¿ç”¨ä¹Ÿæ›´ç®€å•ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹è½½å®‰è£…å™¨ &lt;a href="https://github.com/jvm-profiling-tools/async-profiler/releases/tag/v1.2"&gt;async-profiler 1.2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å‡è®¾ä½ çš„ç³»ç»Ÿä¸­å­˜åœ¨ä¸€ä¸ªå‘½ä»¤æŸ¥æ‰¾è·¯å¾„ &lt;code&gt;$HOME/bin&lt;/code&gt;ï¼Œåœ¨ &lt;code&gt;$HOME/bin&lt;/code&gt; ç›®å½•ä¸‹åˆ›å»ºç¬¦å·é“¾æ¥æŒ‡å‘ &lt;code&gt;build/&lt;/code&gt; å’Œ &lt;code&gt;profiler.sh&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ln -s ~/App/async-profiler/profiler.sh $HOME/bin/profiler.sh
ln -s ~/App/async-profiler/build $HOME/bin/build
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ¥ä¸‹æ¥ï¼Œå…³é—­æ‰€æœ‰ Java åº”ç”¨ï¼Œä»¥åŠä»»ä½•å¯èƒ½å½±å“å‰–æè¿‡ç¨‹çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ Slackï¼Œç„¶ååœ¨ç»ˆç«¯ç¨‹åºï¼ˆterminalï¼‰ä¸­è¿è¡Œä½ çš„åº”ç”¨ã€‚å¯¹äºæˆ‘è€Œè¨€ï¼Œåˆ™æ˜¯å°è¯•å‰–æ &lt;code&gt;sbt&lt;/code&gt; çš„åˆå§‹åŒ–åŠ è½½è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ sbt exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­ï¼Œè¿è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ jps
92746 sbt-launch.jar
92780 Jps
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç”±æ­¤æˆ‘ä»¬çŸ¥é“åº”ç”¨çš„è¿›ç¨‹ IDã€‚å¯¹äºæˆ‘è€Œè¨€ï¼Œç›®æ ‡è¿›ç¨‹ ID æ˜¯ &lt;code&gt;92746&lt;/code&gt;ã€‚åœ¨åº”ç”¨è¿è¡Œçš„åŒæ—¶ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="border: 1px solid #FF0000"&gt;$&lt;/span&gt; profiler.sh -d 60 &amp;lt;process id&amp;gt;
Started [cpu] profiling
--- Execution profile ---
Total samples:         31602
Non-Java:              3239 (10.25%)
GC active:             46 (0.15%)
&lt;span style="color: #0000ff"&gt;Unknown&lt;/span&gt; (native)&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;      14667 (46.41%)
&lt;span style="color: #0000ff"&gt;Not&lt;/span&gt; walkable (native)&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt; 3 (0.01%)
&lt;span style="color: #0000ff"&gt;Unknown&lt;/span&gt; (Java)&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;        433 (1.37%)
&lt;span style="color: #0000ff"&gt;Not&lt;/span&gt; walkable (Java)&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;   8 (0.03%)
Thread &lt;span style="color: #0000ff"&gt;exit&lt;/span&gt;&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;           1 (0.00%)
Deopt:                 9 (0.03%)

Frame buffer &lt;span style="color: #0000ff"&gt;usage&lt;/span&gt;&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;    55.658%

Total: 1932000000 (6.11%)  samples: 1932
  [ 0] java.lang.ClassLoader&lt;span style="border: 1px solid #FF0000"&gt;$&lt;/span&gt;NativeLibrary.&lt;span style="color: #0000ff"&gt;load&lt;/span&gt;
  [ 1] java.lang.ClassLoader.loadLibrary0
  [ 2] java.lang.ClassLoader.loadLibrary
  [ 3] java.lang.Runtime.loadLibrary0
  [ 4] java.lang.&lt;span style="color: #0000ff"&gt;System&lt;/span&gt;.loadLibrary
....
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‘½ä»¤ä¼šè¾“å‡ºä¸€å¤§å †æœ‰ç”¨çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯ï¼ˆstacktracesï¼‰ï¼Œä¸ºå°†è¿™äº›ä¿¡æ¯å¯è§†åŒ–ä¸ºä¸€å¼ ç«ç„°å›¾ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;profiler.sh -d 60 -f /tmp/flamegraph.svg &amp;lt;process id&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‘½ä»¤æœ€ååº”è¯¥ä¼šäº§å‡ºæ–‡ä»¶ &lt;code&gt;/tmp/flamegraph.svg&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="flamegraph" src="https://i.loli.net/2020/07/13/dZVkB9xq2Gy6NfA.png"&gt;&lt;/p&gt;
&lt;p&gt;ä½ è‡ªå·±æ¥ä½“éªŒä¸€ä¸‹ &lt;a href="https://downloads.lightbend.com/website/blog/2019/flamegraph.svg?_ga=2.187105832.1642569835.1594378538-197429397.1594378538"&gt;flamegraph.svg&lt;/a&gt; è¾“å‡ºçš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2&gt;ç«ç„°å›¾ï¼ˆä½¿ç”¨ perf-map-agent ç”Ÿæˆï¼‰&lt;/h2&gt;
&lt;p&gt;è™½ç„¶ async-profiler ä¸Šæ‰‹ä½¿ç”¨å¾ˆç®€å•ï¼Œä½†ç«ç„°å›¾çœŸæ­£æœ‰è¶£ä¹‹å¤„åœ¨äºå¯ä»¥æ··åˆå±•ç° JVM å †æ ˆè¿½è¸ªå’ŒåŸç”Ÿä»£ç ï¼ˆnative codeï¼‰å †æ ˆè·Ÿè¸ªä¿¡æ¯ï¼Œè®©å¼€å‘è€…å¯ä»¥çœ‹åˆ° CPU å®é™…æ¶ˆè€—åœ¨ç¨‹åºçš„ä½•å¤„ã€‚Lightbend å…¬å¸çš„ Johannes Rudolph ä¸ºæ­¤å†™äº†ä¸€ä¸ªå·¥å…· - &lt;a href="https://github.com/jvm-profiling-tools/perf-map-agent"&gt;perf-map-agent&lt;/a&gt;ã€‚è¯¥å·¥å…·åœ¨ macOS ç¯å¢ƒä¸‹ä¼šä½¿ç”¨ &lt;code&gt;dtrace&lt;/code&gt;ï¼Œåœ¨ Linux ç¯å¢ƒä¸‹ä¼šä½¿ç”¨ &lt;code&gt;perf&lt;/code&gt;ã€‚å¦‚æœä½ æƒ³ç¡®è®¤ç“¶é¢ˆæ˜¯å¦å‡ºç°åœ¨åŸç”Ÿä»£ç ä¸­ï¼Œè¿™ä¸ªå·¥å…·ä¼šç‰¹åˆ«æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆè¦ç¼–è¯‘ &lt;a href="https://github.com/jvm-profiling-tools/perf-map-agent"&gt;perf-map-agent&lt;/a&gt;ã€‚å¯¹äº macOS ç¯å¢ƒï¼Œåœ¨è¿è¡Œ &lt;code&gt;cmake .&lt;/code&gt; ä¹‹å‰éœ€è¦å…ˆè®¾ç½® &lt;code&gt;JAVA_HOME&lt;/code&gt; ç¯å¢ƒå˜é‡ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ cd work
$ git clone https://github.com/brendangregg/FlameGraph.git

$ git clone https://github.com/jvm-profiling-tools/perf-map-agent.git
$ cd perf-map-agent
$ export JAVA_HOME=&lt;span style="color: #0000ff"&gt;$(&lt;/span&gt;/usr/libexec/java_home&lt;span style="color: #0000ff"&gt;)&lt;/span&gt;
$ cmake .
-- The C compiler identification is AppleClang 9.0.0.9000039
-- The CXX compiler identification is AppleClang 9.0.0.9000039
...
$ make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ä¸€ä¸ªæ–°çš„ç»ˆç«¯ä¸­ï¼Œå¸¦ &lt;code&gt;-XX:+PreserveFramePointer&lt;/code&gt; æ ‡è®°å‚æ•°è¿è¡Œ sbtï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ sbt -J-Dsbt.launcher.standby=20s -J-XX:+PreserveFramePointer exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­è¿è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ cd quicktest/
$ export JAVA_HOME=&lt;span style="color: #0000ff"&gt;$(&lt;/span&gt;/usr/libexec/java_home&lt;span style="color: #0000ff"&gt;)&lt;/span&gt;
$ export FLAMEGRAPH_DIR=$HOME/work/FlameGraph
$ jps
94592 Jps
94549 sbt-launch.jar
$ $HOME/work/perf-map-agent/bin/dtrace-java-flames 94549
dtrace: system integrity protection is on, some features will not be available

dtrace: description &lt;span style="color: #a31515"&gt;&amp;#39;profile-99 &amp;#39;&lt;/span&gt; matched 2 probes
Flame graph SVG written to DTRACE_FLAME_OUTPUT=&lt;span style="color: #a31515"&gt;&amp;#39;/Users/xxx/work/quicktest/flamegraph-94549.svg&amp;#39;&lt;/span&gt;.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç†è®ºä¸Šè¿™æ ·ä¼šäº§å‡ºæ›´å…¨é¢çš„ç«ç„°å›¾ï¼Œä¸è¿‡å¯¹äº &lt;code&gt;sbt exit&lt;/code&gt;ï¼Œäº§å‡ºçš„ç«ç„°å›¾çœ‹èµ·æ¥å¯èƒ½æœ‰ç‚¹å‡Œä¹±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="flamegraph-2" src="https://i.loli.net/2020/07/13/s9BbWAnluTPwE3J.png"&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ sbt æ“ä½œå·²ç»ç»è¿‡å³æ—¶ç¼–è¯‘å™¨ä¼˜åŒ–ï¼ˆthe operations are already JITedï¼‰ï¼Œæˆ–è€…æ“ä½œæ¯”è¾ƒç‰¹æ®Šï¼ˆthe operation is more specificï¼‰ï¼Œé‚£ä¹ˆç«ç„°å›¾çš„æ•ˆæœä¼šæ›´å¥½ã€‚ä¸ºäº†å¾—åˆ°æ•ˆæœæ›´å¥½çš„ç«ç„°å›¾ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç›¸åŒçš„æ“ä½œå¤šé‡å¤å‡ æ¬¡ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ sbt -J-Dsbt.launcher.standby=20s -J-XX:+PreserveFramePointer reload reload reload reload exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·å°±å¯ä»¥äº§å‡ºç¨‹åºçš„ç¨³å®šæ€ç«ç„°å›¾ï¼Œé€æ­¥æ”¾å¤§ç«ç„°å›¾ï¼Œå°±å¯ä»¥æ‰¾åˆ°æ‰§è¡Œçš„çƒ­ç‚¹è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="flamegraph-3" src="https://i.loli.net/2020/07/13/93YyjxR5ATS1Dnq.png"&gt;&lt;/p&gt;
&lt;h2&gt;Flamescope&lt;/h2&gt;
&lt;p&gt;Netflix å…¬å¸è¿‘æœŸå‘å¸ƒäº†ä¸€ä¸ªæ–°çš„ç«ç„°å›¾å¯è§†åŒ–å·¥å…· - &lt;a href="https://medium.com/netflix-techblog/netflix-flamescope-a57ca19d47bb"&gt;Flamescope&lt;/a&gt;ï¼Œå¯ä»¥å°†ç«ç„°å›¾è¿‡æ»¤é™åˆ¶åœ¨ä¸€ä¸ªç‰¹å®šçš„æ—¶é—´èŒƒå›´å†…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="FlameScope" src="https://i.loli.net/2020/07/13/djm2hkvC98irQu7.png"&gt;&lt;/p&gt;
&lt;p&gt;Martin Spier å’Œ Brendan Gregg ä¸ºç ”ç©¶æ‰°åŠ¨ä»¥åŠå…¶ä»–æ—¶é—´ç›¸å…³çš„é—®é¢˜ï¼ˆperturbations and other time-based issuesï¼‰è€Œå¼€å‘äº†è¿™ä¸ªå·¥å…·ã€‚å¸¸è§„çš„ç«ç„°å›¾æ˜¯èšåˆäº†æ‰€æœ‰å †æ ˆè¿½è¸ªæŠ½æ ·æ•°æ®ï¼Œå¦‚æœç³»ç»Ÿä¸­å‘ç”Ÿäº†ä¸€ä¸ªçŸ­æ—¶å°æ•…éšœï¼Œå°±ä¼šè¢«æ·±åŸ‹äºå…¶ä»–è¿½è¸ªä¿¡æ¯ä¸­ï¼Œè¿™ä¸ªå·¥å…·å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;h2&gt;JMH (sbt-jmh)&lt;/h2&gt;
&lt;p&gt;å› ä¸º JIT å­˜åœ¨é¢„çƒ­ç­‰ç‰¹ç‚¹ï¼Œå¢å¤§äº†åŸºå‡†æµ‹è¯•çš„å›°éš¾ã€‚JMH ä¼šå°†ç›¸åŒçš„æµ‹è¯•è¿è¡Œå¤šæ¬¡ï¼Œæ¶ˆé™¤ JIT é¢„çƒ­ç­‰ç‰¹ç‚¹é€ æˆçš„å½±å“ï¼Œä»è€Œæ›´å‡†ç¡®åœ°æµ‹é‡ä»£ç çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº sbt ç”¨æˆ·è€Œè¨€ï¼ŒLightbend å…¬å¸ Konrad Malawski ç¼–å†™çš„ &lt;a href="https://github.com/ktoso/sbt-jmh"&gt;sbt-jmh&lt;/a&gt; è¿›ä¸€æ­¥ç®€åŒ–äº† JMH æµ‹è¯•ã€‚å¹¶ä¸”å®ƒä¹Ÿé›†æˆäº† async-profilerã€‚&lt;/p&gt;
&lt;h2&gt;VisualVM&lt;/h2&gt;
&lt;p&gt;æˆ‘ä¹Ÿæƒ³æä¸€ä¸‹ä¼ ç»Ÿçš„ JVM å‰–æå·¥å…·ã€‚å› ä¸º &lt;a href="https://visualvm.github.io/"&gt;VisualVM&lt;/a&gt; å¼€æºäº†ï¼Œæ‰€ä»¥å°±æ¥è¯´è¯´å®ƒã€‚&lt;/p&gt;
&lt;p&gt;1ã€å…ˆæ‰“å¼€ VisualVM
2ã€åœ¨ä¸€ä¸ªç»ˆç«¯ä¸­å¯åŠ¨ sbt
3ã€ä» VisualVM ç•Œé¢çš„ Local åº”ç”¨ç›®å½•ä¸‹åº”è¯¥å¯ä»¥çœ‹åˆ° &lt;code&gt;xsbt.boot.Boot&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/07/13/EB7vsuo1HjaTtQw.jpg"&gt;&lt;/p&gt;
&lt;p&gt;4ã€æ‰“å¼€å®ƒï¼Œé€‰æ‹© æŠ½æ ·åŠŸèƒ½ï¼ˆsamplerï¼‰ æˆ– å‰–æåŠŸèƒ½ï¼ˆprofilerï¼‰ï¼Œåœ¨ä½ æƒ³è¦å¼€å§‹çš„æ—¶é—´ç‚¹ç‚¹å‡» CPU æŒ‰é’®&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/07/13/aoiIDfMKw9pjY4Z.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å¯¹ &lt;a href="https://www.yourkit.com/"&gt;YourKit&lt;/a&gt; æ¯”è¾ƒç†Ÿæ‚‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒï¼Œç”¨æ³•æ¯”è¾ƒç›¸ä¼¼ã€‚&lt;/p&gt;
&lt;h2&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;ç«ç„°å›¾å¯¹å †æ ˆè·Ÿè¸ªæŠ½æ ·æ•°æ®è¿›è¡Œå¯è§†åŒ–ï¼Œæ–¹ä¾¿è¯†åˆ«åº”ç”¨ä»£ç ä¸­çš„çƒ­ç‚¹è·¯å¾„ã€‚ä¹Ÿæœ‰åŠ©äºç¡®è®¤ä»£ç å˜æ›´æ˜¯å¦å®é™…å½±å“äº†åº”ç”¨æ€§èƒ½ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="Java"></category><category term="å·¥å…·"></category><category term="é—®é¢˜æ’æŸ¥"></category></entry><entry><title>åšå®¢æ„å»ºç¯å¢ƒå‡†å¤‡</title><link href="http://youngsterxyf.github.io/2020/06/14/blog-build-env/" rel="alternate"></link><published>2020-06-14T00:00:00+08:00</published><updated>2020-06-14T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2020-06-14:/2020/06/14/blog-build-env/</id><summary type="html">&lt;p&gt;å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ã€‚&lt;/p&gt;
&lt;p&gt;1ã€Python è™šæ‹Ÿç¯å¢ƒ&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;virtualenv -p python3 ~/.py3
source ~/.py3/bin/activate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2ã€å®‰è£… Python ä¾èµ–åŒ…&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pip install pelican[Markdown]   &lt;span style="color: #008000"&gt;# å¯èƒ½éœ€è¦å…ˆå®‰è£… pipï¼šeasy_install pip&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;3ã€å®‰è£…ä¸»é¢˜åŒ…&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git â€¦&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ã€‚&lt;/p&gt;
&lt;p&gt;1ã€Python è™šæ‹Ÿç¯å¢ƒ&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;virtualenv -p python3 ~/.py3
source ~/.py3/bin/activate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2ã€å®‰è£… Python ä¾èµ–åŒ…&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pip install pelican[Markdown]   &lt;span style="color: #008000"&gt;# å¯èƒ½éœ€è¦å…ˆå®‰è£… pipï¼šeasy_install pip&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;3ã€å®‰è£…ä¸»é¢˜åŒ…&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git clone https://github.com/youngsterxyf/my-pelican-themes.git ~/github/youngsterxyf/my-pelican-themes
pelican-themes -i ~/github/youngsterxyf/my-pelican-themes/my-gum
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;4ã€æ„å»º&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;make html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;å¦ï¼Œæ›´æ–°è‰ºæœ¯å­—ä½“æˆ–å­—é›†ï¼š&lt;/p&gt;
&lt;p&gt;(1) ä¸‹è½½ fontmin-appï¼šhttps://github.com/ecomfe/fontmin-app&lt;/p&gt;
&lt;p&gt;(2) å¯¼å…¥å­—ä½“ SentyZHAOï¼ˆæ±‰ä»ªæ–°è’‚èµµå­Ÿé «ä½“ï¼‰ï¼šhttps://github.com/youngsterxyf/blog-content/blob/master/new-blog/SentyZHAO.ttf&lt;/p&gt;
&lt;p&gt;&lt;img alt="fontmin" src="https://i.loli.net/2020/06/14/Xn8b9kZDIfWoLmp.png"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦ï¼Œåæˆˆè¡Œä¹¦å­—ä½“è§ï¼šhttp://www.foundertype.com/index.php/FontInfo/index/id/5350&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;(3) ç”Ÿæˆå­—ä½“æ ·å¼ï¼Œå¹¶æ‹·è´æ›´æ–°åˆ°ç›®æ ‡ä¸»é¢˜åŒ…ç›®å½•ä¸­ï¼šhttps://github.com/youngsterxyf/my-pelican-themes/tree/master/my-gum/static&lt;/p&gt;
&lt;p&gt;(4) æ›´æ–°ä¸»é¢˜åŒ…ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pelican-themes -r my-gum
pelican-themes -i ~/github/youngsterxyf/my-pelican-themes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;(5) é‡æ–°æ„å»ºç”Ÿæˆåšå®¢&lt;/p&gt;</content><category term="å…¶ä»–"></category></entry><entry><title>è¯»æ–‡ç¬”è®°ï¼šKafka å®˜æ–¹è®¾è®¡æ–‡æ¡£</title><link href="http://youngsterxyf.github.io/2019/10/13/reading-kafka-design/" rel="alternate"></link><published>2019-10-13T00:00:00+08:00</published><updated>2019-10-13T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2019-10-13:/2019/10/13/reading-kafka-design/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://kafka.apache.org/documentation/#design"&gt;http://kafka.apache.org/documentation/#design&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;æ•°æ®æŒä¹…åŒ–&lt;/h2&gt;
&lt;h4&gt;ä¸ç”¨æƒ§æ€•æ–‡ä»¶ç³»ç»Ÿ&lt;/h4&gt;
&lt;p&gt;ç£ç›˜çš„è¯»å†™é€Ÿåº¦ï¼Œå–å†³äºå¦‚ä½•è¯»å†™ã€‚å¯¹äºçº¿æ€§è¯»å†™æ–¹å¼ï¼Œæ“ä½œç³»ç»Ÿåšäº†å…… â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://kafka.apache.org/documentation/#design"&gt;http://kafka.apache.org/documentation/#design&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;æ•°æ®æŒä¹…åŒ–&lt;/h2&gt;
&lt;h4&gt;ä¸ç”¨æƒ§æ€•æ–‡ä»¶ç³»ç»Ÿ&lt;/h4&gt;
&lt;p&gt;ç£ç›˜çš„è¯»å†™é€Ÿåº¦ï¼Œå–å†³äºå¦‚ä½•è¯»å†™ã€‚å¯¹äºçº¿æ€§è¯»å†™æ–¹å¼ï¼Œæ“ä½œç³»ç»Ÿåšäº†å……åˆ†çš„ä¼˜åŒ–ï¼šæå‰è¯» - é¢„å–è‹¥å¹²æ•°æ®å—ï¼Œæ»åå†™ - å°†å°çš„é€»è¾‘å†™æ“ä½œåˆå¹¶æˆä¸€ä¸ªå¤§çš„ç‰©ç†å†™æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://queue.acm.org/detail.cfm?id=1563874"&gt;ç ”ç©¶&lt;/a&gt;è¡¨æ˜ï¼š&lt;a href="http://deliveryimages.acm.org/10.1145/1570000/1563874/jacobs3.jpg"&gt;é¡ºåºè¯»å†™ç£ç›˜ï¼ˆsequential disk accessï¼‰çš„é€Ÿåº¦æœ‰äº›æ—¶å€™æ¯”éšæœºè®¿é—®å†…å­˜è¿˜è¦å¿«&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç°ä»£æ“ä½œç³»ç»Ÿæ¿€è¿›åœ°å°½å¯èƒ½å°†ç©ºé—²å†…å­˜ç”¨ä½œç£ç›˜ç¼“å­˜ã€‚æ‰€æœ‰ç£ç›˜è¯»å†™éƒ½ç»è¿‡æ“ä½œç³»ç»Ÿæä¾›çš„ç»Ÿä¸€ç¼“å­˜ã€‚è¿™ä¸ªç‰¹æ€§æ²¡æ³•è½»æ˜“å…³é—­ï¼Œé™¤éç›´æ¥ I/O ï¼ˆdirect I/Oï¼‰ï¼Œå› æ­¤ï¼Œå¦‚æœç¨‹åºåœ¨ç”¨æˆ·è¿›ç¨‹ä¸­è¿›è¡Œæ•°æ®ç¼“å­˜ï¼Œç¼“å­˜çš„æ•°æ®é€šå¸¸ä¹Ÿæ˜¯å’Œæ“ä½œç³»ç»Ÿé¡µç¼“å­˜é‡å¤çš„ï¼Œç¼“å­˜ä¸¤éï¼Œæ²¡å•¥æ„ä¹‰ï¼Œä¹Ÿæµªè´¹å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;è€Œä¸”ï¼ŒKafka æ˜¯æ„å»ºåœ¨ JVM ä¹‹ä¸Šçš„ï¼Œäº†è§£ Java å†…å­˜ä½¿ç”¨æ–¹å¼çš„äººåº”è¯¥éƒ½çŸ¥é“ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹è±¡çš„å†…å­˜å¼€é”€éå¸¸é«˜ï¼Œé€šå¸¸æ˜¯å®é™…æ•°æ®å¤§å°çš„2å€ï¼ˆç”šè‡³æ›´å¤šï¼‰&lt;/li&gt;
&lt;li&gt;éšç€å †ä¸Šæ•°æ®é‡å¢å¤§ï¼ŒJava çš„ GC è¡¨ç°ä¹Ÿä¼šæ›´ç³Ÿç³•&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å› æ­¤ï¼Œä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿå¹¶ä¾èµ–äºæ“ä½œç³»ç»Ÿå†…å­˜é¡µç¼“å­˜ï¼Œä¼˜äºåœ¨ç¨‹åºä¸­ç»´æŠ¤ä¸€å—å†…å­˜ç¼“å­˜æˆ–å…¶å®ƒç»“æ„ã€‚è‡³å°‘æ“ä½œç³»ç»Ÿå†…å­˜é¡µç¼“å­˜çš„å¯ç”¨å†…å­˜ç¿»å€äº†ã€‚å¦å¤–ï¼Œå¦‚æœä½¿ç”¨ç´§å‡‘çš„å­—èŠ‚ç»“æ„æ¥ç¼“å­˜æ•°æ®ï¼Œç›¸æ¯”ä½¿ç”¨å¯¹è±¡ï¼Œå¯ç”¨å†…å­˜å¯èƒ½è¿˜ä¼šç¿»å€ã€‚åœ¨ 32GB å†…å­˜çš„æœºå™¨ä¸Šè¿™ä¹ˆæï¼Œç¼“å­˜å¯ç”¨åˆ° 20-30GBï¼Œè¿˜ä¸ä¼šå¯¹ GC é€ æˆäº†ä»€ä¹ˆåå½±å“ã€‚å¹¶ä¸”ï¼Œå³ä½¿æœåŠ¡é‡å¯ï¼Œè¿™å—ç¼“å­˜ç©ºé—´ä¹Ÿæ˜¯çƒ­çš„ï¼ˆé™¤éæœºå™¨é‡å¯ï¼‰ï¼Œç”¨æˆ·è¿›ç¨‹å†…çš„å†…å­˜ç¼“å­˜åœ¨æœåŠ¡é‡å¯åå¾—é‡å»ºï¼ˆ10GBçš„æ•°æ®ç¼“å­˜å¯èƒ½éœ€è¦10åˆ†é’Ÿå·¦å³ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ä¹Ÿå¯ä»¥ç®€åŒ–ä»£ç é€»è¾‘ï¼Œå› ä¸ºç¼“å­˜å’Œæ–‡ä»¶ç³»ç»Ÿä¹‹é—´çš„ä¸€è‡´æ€§ç”±æ“ä½œç³»ç»Ÿæ¥ä¿è¯äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ä¸€åˆ†æï¼Œè®¾è®¡å°±ç®€å•äº†ï¼šæˆ‘ä»¬åå…¶é“è€Œè¡Œä¹‹ï¼Œæ‰€æœ‰æ•°æ®éƒ½ç›´æ¥å†™åˆ°æ–‡ä»¶ç³»ç»Ÿä¸ŠæŒä¹…åŒ–æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œä¸éœ€è¦åœ¨ç¨‹åºä¸­ä½¿ç”¨å†…å­˜ç¼“å­˜ï¼Œä¹Ÿä¸å¿…ç¡®ä¿å°†æ•°æ®åˆ·åˆ°ç£ç›˜ã€‚è¿™å®é™…æ„å‘³ç€æ•°æ®è½¬ç§»åˆ°äº†å†…æ ¸çš„å†…å­˜é¡µç¼“å­˜ã€‚&lt;/p&gt;
&lt;h4&gt;å¸¸é‡æ—¶é—´å°±èƒ½æå®š&lt;/h4&gt;
&lt;p&gt;B æ ‘çš„ O(log N) æ—¶é—´å¤æ‚åº¦ï¼Œå¯¹äºç£ç›˜æ“ä½œæ¥è¯´ï¼Œå¹¶ä¸èƒ½ç­‰åŒäºå¸¸é‡æ—¶é—´å¤æ‚åº¦ã€‚&lt;/p&gt;
&lt;p&gt;Kafka é‡‡ç”¨æ—¥å¿—æ–‡ä»¶æ–¹å¼ï¼Œç¡®ä¿è¯»å†™æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚&lt;/p&gt;
&lt;p&gt;Kafka ä¸ä¼šåœ¨æ¶ˆæ¯ä¸€è¢«æ¶ˆè´¹å°±ç«‹å³åˆ é™¤ï¼Œè€Œæ˜¯ä¿ç•™ä¸€æ®µæ—¶é—´ï¼Œè¿™æ ·å¯¹äºæ¶ˆè´¹è€…æ¥è¯´ä¹Ÿæ›´çµæ´»ä¸€äº›ã€‚&lt;/p&gt;
&lt;h2&gt;æ•ˆç‡&lt;/h2&gt;
&lt;p&gt;å¯¹äº Kafka è¿™ç±»ç³»ç»Ÿè€Œè¨€ï¼Œå³ä½¿åƒå‰è¿°é‚£æ ·æ¶ˆé™¤äº†ç³Ÿç³•çš„ç£ç›˜è®¿é—®æ¨¡å¼ï¼Œä¹Ÿä¼šé‡åˆ°ä¸¤ä¸ªå¯¼è‡´æ•°æ®æ•ˆç‡ä½çš„é—®é¢˜ï¼š&lt;strong&gt;è¿‡å¤šçš„å° I/O æ“ä½œ&lt;/strong&gt;ï¼Œä»¥åŠ&lt;strong&gt;è¿‡å¤šçš„å­—èŠ‚æ‹·è´&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å° I/O é—®é¢˜åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´ï¼Œä»¥åŠæœåŠ¡ç«¯å†…éƒ¨çš„æ•°æ®æŒä¹…åŒ–æ“ä½œä¸­éƒ½ä¼šå‘ç”Ÿã€‚å¯¹æ­¤ï¼ŒKafka åè®®å»ºç«‹åœ¨ â€œæ¶ˆæ¯é›†â€ ï¼ˆå³ä¸€æ‰¹æ¶ˆæ¯ï¼‰çš„æŠ½è±¡ä¹‹ä¸Šï¼Œè¿™æ ·ç½‘ç»œè¯·æ±‚è¯»å†™çš„æ˜¯ä¸€æ‰¹ä¸€æ‰¹çš„æ¶ˆæ¯ï¼Œå‡å°‘äº†ç½‘ç»œå¾€è¿”çš„æ—¶é—´å¼€é”€ï¼ˆæ³¨ï¼šæ¶ˆæ¯å¤„ç†çš„å®æ—¶æ€§ä¼šç›¸å¯¹å·®ä¸€ç‚¹ï¼‰ã€‚æœåŠ¡ç«¯ä¹Ÿæ˜¯ä¸€æ¬¡å°†ä¸€æ‰¹æ¶ˆæ¯å†™åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæ¶ˆè´¹è€…ä¹ŸæŒ‰åºä¸€æ¬¡è·å–ä¸€æ‰¹æ¶ˆæ¯ã€‚è¿™ä¸€ç®€å•çš„ä¼˜åŒ–å¯ä»¥å°†ååèƒ½åŠ›æå‡å‡ ä¸ªæ•°é‡çº§ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè¿‡å¤šçš„å­—èŠ‚æ‹·è´é—®é¢˜ï¼Œåœ¨æ¶ˆæ¯é‡å¤§çš„æ—¶å€™ï¼Œå½±å“æ¯”è¾ƒæ˜æ˜¾ã€‚Kafka é‡‡ç”¨äº†ä¸€ç§æ ‡å‡†åŒ–çš„äºŒè¿›åˆ¶æ¶ˆæ¯æ ¼å¼ï¼Œproducerã€brokerã€consumer éƒ½ä½¿ç”¨è¿™ç§æ ¼å¼ï¼Œè¿™æ ·æ•°æ®å—åœ¨ä¼ è¾“æœŸé—´ä¸éœ€è¦å˜åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;broker ç»´æŠ¤çš„æ¶ˆæ¯æ—¥å¿—åªæ˜¯ä¸€ä¸ªç›®å½•ä¸‹çš„ä¸€å †æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹æ˜¯æŒ‰åºå†™å…¥çš„æ¶ˆæ¯é›†ï¼Œæ¶ˆæ¯é›†çš„æ•°æ®æ ¼å¼åŒäº producerã€consumer ä½¿ç”¨çš„ã€‚å…±ç”¨ä¸€ç§æ•°æ®æ ¼å¼æ–¹ä¾¿äº†ä¸€ä¸ªé‡è¦çš„æ“ä½œä¼˜åŒ–ï¼šæŒä¹…åŒ–æ—¥å¿—å—çš„ç½‘ç»œä¼ è¾“ã€‚å¯¹äºä»å†…å­˜é¡µç¼“å­˜ï¼ˆpagecacheï¼‰åˆ°ç½‘ç»œå¥—æ¥å­—ï¼ˆsocketï¼‰çš„æ•°æ®ä¼ è¾“æ“ä½œï¼Œç°ä»£ UNIX æ“ä½œç³»ç»Ÿæä¾›äº†ä¸€ç§é«˜åº¦ä¼˜åŒ–çš„ä»£ç æ‰§è¡Œè·¯å¾„ã€‚Linux ä¸­ä½¿ç”¨ &lt;a href="http://man7.org/linux/man-pages/man2/sendfile.2.html"&gt;sendfile ç³»ç»Ÿè°ƒç”¨&lt;/a&gt; å¯ä»¥åˆ©ç”¨è¿™ä¸ªä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;è¦ç†è§£ sendfile çš„æ”¶ç›Šï¼Œéœ€è¦å…ˆç†è§£ä»æ–‡ä»¶åˆ°å¥—æ¥å­—ä¼ è¾“æ•°æ®çš„å¸¸è§„ä»£ç æ‰§è¡Œè·¯å¾„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ“ä½œç³»ç»Ÿä»ç£ç›˜å°†æ•°æ®è¯»åˆ°å†…æ ¸ç©ºé—´çš„å†…å­˜é¡µç¼“å­˜ï¼ˆpagecacheï¼‰&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºä»å†…æ ¸ç©ºé—´å‡æ•°æ®è¯»åˆ°ç”¨æˆ·ç©ºé—´ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºå°†æ•°æ®ä»ç”¨æˆ·ç©ºé—´ç¼“å†²åŒºè¯»åˆ°å†…æ ¸ç©ºé—´çš„å¥—æ¥å­—ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;æ“ä½œç³»ç»Ÿå°†æ•°æ®ä»å¥—æ¥å­—ç¼“å†²åŒºè¯»åˆ° NIC ç¼“å†²åŒºï¼Œç½‘å¡ä» NIC ç¼“å†²åŒºè¯»å–æ•°æ®é€šè¿‡ç½‘ç»œå‘å‡ºå»&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸€ä»£ç æ‰§è¡Œè·¯å¾„ï¼Œæ¶‰åŠ 4 æ¬¡æ•°æ®æ‹·è´å’Œ 2 æ¬¡ç³»ç»Ÿè°ƒç”¨ï¼Œå¾ˆæ˜¾ç„¶æ˜¯ä½æ•ˆçš„ã€‚ä½¿ç”¨ sendfileï¼Œå¯ä»¥é¿å…å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´ä¹‹é—´ä¸€äº›ä¸å¿…è¦çš„æ•°æ®æ‹·è´ï¼Œæ“ä½œç³»ç»Ÿå¯ä»¥ç›´æ¥å°†æ•°æ®ä»å†…å­˜é¡µç¼“å­˜å‘é€åˆ°ç½‘ç»œã€‚&lt;/p&gt;
&lt;p&gt;è¿›ä¸€æ­¥äº†è§£ sendfile ä»¥åŠ Java å¹³å°å¦‚ä½•æ”¯æŒé›¶æ‹·è´ï¼Œå¯ä»¥é˜…è¯»&lt;a href="https://developer.ibm.com/articles/j-zerocopy/"&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2&gt;ç”Ÿäº§è€…ï¼ˆThe Producerï¼‰&lt;/h2&gt;
&lt;h4&gt;è´Ÿè½½å‡è¡¡&lt;/h4&gt;
&lt;p&gt;æ¶ˆæ¯åº”è¯¥å‘åˆ°å“ªä¸ªåˆ†åŒºï¼ˆpartitionï¼‰ç”±å®¢æˆ·ç«¯æ ¹æ®å“ˆå¸Œç®—æ³•ï¼ˆæˆ–è€…éšæœºï¼‰å†³å®šï¼Œå¹¶ä¸”æ¶ˆæ¯æ˜¯ç›´æ¥ç”± producer å‘åˆ°ç›®æ ‡åˆ†åŒºçš„ leader brokerï¼Œæ²¡æœ‰ä»»ä½•ä¸­é—´è·¯ç”±å±‚ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰ Kafka èŠ‚ç‚¹éƒ½å¯ä»¥å“åº”å…ƒæ•°æ®è¯·æ±‚ - å‘ŠçŸ¥å®¢æˆ·ç«¯ï¼ˆproducer æˆ– consumerï¼‰å“ªäº›æœåŠ¡èŠ‚ç‚¹è¿˜å­˜æ´»ä»¥åŠæŸä¸ª topic çš„å„ä¸ªåˆ†åŒº leader åˆ†åˆ«æ˜¯å“ªä¸ªèŠ‚ç‚¹ï¼ˆç–‘æƒ‘ï¼šå¦‚æœæŸä¸ªåˆ†åŒº leader èŠ‚ç‚¹æŒ‚æ‰ä¹‹åï¼Œå®¢æˆ·ç«¯å¦‚ä½•è·çŸ¥ï¼Ÿä½•æ—¶å¯ä»¥è·çŸ¥ï¼Ÿï¼‰&lt;/p&gt;
&lt;h2&gt;æ¶ˆæ¯äº¤ä»˜è¯­ä¹‰&lt;/h2&gt;
&lt;p&gt;producer å’Œ consumer ä¹‹é—´çš„æ¶ˆæ¯äº¤ä»˜è¯­ä¹‰ï¼Œåˆ† 3 ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœ€å¤šæ¶ˆè´¹ä¸€æ¬¡ - æ¶ˆæ¯å¯èƒ½ä¼šä¸¢å¤±ï¼Œä½†ä¸ä¼šè¢«é‡å¤æ¶ˆè´¹&lt;/li&gt;
&lt;li&gt;æœ€å°‘æ¶ˆè´¹ä¸€æ¬¡ - æ¶ˆæ¯ä¸ä¼šä¸¢ï¼Œä½†å¯èƒ½è¢«é‡å¤æ¶ˆè´¹&lt;/li&gt;
&lt;li&gt;ä»…æ¶ˆè´¹ä¸€æ¬¡ - æ¯ä¸ªæ¶ˆæ¯éƒ½ä¼šè¢«æ¶ˆè´¹ä¸”ä»…æ¶ˆè´¹ä¸€æ¬¡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜å¯ä»¥åˆ†æˆä¸¤ä¸ªé˜¶æ®µçš„é—®é¢˜ï¼š&lt;strong&gt;producer å‘ broker å‘å¸ƒä¸€ä¸ªæ¶ˆæ¯æ—¶çš„æŒä¹…æ€§ä¿è¯&lt;/strong&gt; ä»¥åŠ &lt;strong&gt;consumer æ¶ˆè´¹ä¸€ä¸ªæ¶ˆæ¯æ—¶çš„è¯­ä¹‰ä¿è¯&lt;/strong&gt; ï¼ˆthe durability guarantees for publishing a message and the guarantees when consuming a messageï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;producer å‘ Kafka é›†ç¾¤å‘æ¶ˆæ¯æ—¶ï¼Œä¼šæä¾›ä¸€ä¸ªè¯·æ±‚å‚æ•° &lt;code&gt;acks&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;acks=0ï¼šè¡¨ç¤º producer ä¸éœ€è¦ç­‰åˆ†åŒº leader broker è¿”å›ä»»ä½•å“åº”ï¼Œå°†æ¶ˆæ¯å­˜å…¥å¥—æ¥å­—ç¼“å†²åŒºï¼ˆsocket bufferï¼‰å°±å½“åšæ¶ˆæ¯å·²ç»å‘é€æˆåŠŸã€‚æ‰€ä»¥å¯é æ€§æ˜¯æ²¡æœ‰ä¿è¯çš„ã€‚&lt;/li&gt;
&lt;li&gt;acks=1ï¼šè¡¨ç¤º åˆ†åŒº leader broker å°†æ¶ˆæ¯å†™å…¥è‡ªå·±çš„æœ¬åœ°æ—¥å¿—æ–‡ä»¶ï¼Œå°±å‘ producer å“åº”æˆåŠŸï¼Œä¸å¿…ç­‰å¾…åˆ†åŒºå‰¯æœ¬ broker åŒæ­¥å¥½æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;acks=-1 æˆ– acks=allï¼šè¡¨ç¤º åˆ†åŒº leader broker éœ€è¦ç­‰å¾…æ‰€æœ‰åŒæ­¥å‰¯æœ¬ broker åŒæ­¥å¥½æ¶ˆæ¯å¹¶å“åº”æˆåŠŸï¼Œæ‰å‘ producer å“åº”æˆåŠŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¬¬ 2 ç§æƒ…å†µï¼Œå¦‚æœåˆ†åŒº leader broker æŒ‚æ‰/ä¸å­˜æ´»ï¼Œåˆ™å‰¯æœ¬æœªæ¥å¾—åŠåŒæ­¥çš„æ¶ˆæ¯ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ 3 ç§æƒ…å†µï¼Œåªè¦æœ‰åŒæ­¥å‰¯æœ¬æ­£å¸¸åŒæ­¥æ¶ˆæ¯ï¼Œé‚£ä¹ˆå³ä½¿ leader æŒ‚äº†ä¹Ÿä¸ä¼šä¸¢æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ leader è¢«ç³»ç»Ÿåˆ¤å®šä¸ºä¸å­˜æ´»ï¼Œåˆ™ä¼šä»ï¼ˆåŒæ­¥ï¼‰å‰¯æœ¬ä¸­é€‰ä¸¾ä¸€ä¸ªæ–°çš„ leaderï¼Œé‚£ä¹ˆ Kafka å¦‚ä½•åˆ¤å®šä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦å­˜æ´»ï¼Ÿå­˜æ´»åˆ¤å®šä¾èµ– 2 ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;èŠ‚ç‚¹å¿…é¡»ç»´æŒä¸ Zookeeper çš„ session è¿æ¥ï¼ˆé€šè¿‡ Zookeeper çš„å¿ƒè·³æœºåˆ¶ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯ä¸€ä¸ªä»èŠ‚ç‚¹ï¼ˆfollowerï¼‰ï¼Œåˆ™å¿…é¡»ä¸æ–­ä» leader èŠ‚ç‚¹åŒæ­¥æ¶ˆæ¯æ•°æ®ï¼Œä¸”åŒæ­¥è¿›åº¦æ²¡æœ‰è½åå¤ªå¤š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœ producer åœ¨å‘é€æ¶ˆæ¯çš„è¿‡ç¨‹ä¸­å‘ç”Ÿç½‘ç»œé—®é¢˜ï¼Œå®ƒæ²¡æ³•åˆ¤å®šåˆ†åŒº leader æ˜¯å¦æ”¶åˆ°æ¶ˆæ¯ã€‚0.11.0.0 ç‰ˆæœ¬ä¹‹å‰ï¼Œproducer åªèƒ½é‡å‘æ¶ˆæ¯ï¼Œåˆ«æ— ä»–æ³•ï¼Œå› æ­¤åªèƒ½æä¾›â€œæœ€å°‘æ¶ˆè´¹ä¸€æ¬¡çš„â€äº¤ä»˜è¯­ä¹‰ã€‚0.11.0.0 ç‰ˆæœ¬ä¹‹åï¼ŒKafka producer æ”¯æŒä¸€ä¸ªå¹‚ç­‰äº¤ä»˜åŠŸèƒ½é€‰é¡¹ï¼Œå¯ä»¥ç¡®ä¿æ¶ˆæ¯é‡å‘ä¸ä¼šå¯¼è‡´ Kafka çš„æ¶ˆæ¯æ—¥å¿—ä¸­å‡ºç°é‡å¤çš„æ¡ç›®ï¼šbroker ä¸ºæ¯ä¸ª producer åˆ†é…ä¸€ä¸ª IDï¼Œç„¶ååŸºäºæ¶ˆæ¯åºå·æ¥å»é‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿæ˜¯ä» 0.11.0.0 ç‰ˆæœ¬å¼€å§‹ï¼ŒProducer æ”¯æŒä»¥ç±»äº‹åŠ¡çš„è¯­ä¹‰å‘å¤šä¸ª topic åˆ†åŒºå‘é€æ¶ˆæ¯ï¼šè¦ä¹ˆæ‰€æœ‰æ¶ˆæ¯éƒ½å‘é€æˆåŠŸï¼Œè¦ä¹ˆéƒ½ä¸æˆåŠŸã€‚è¿™ä¸ªèƒ½åŠ›ä¸»è¦ç”¨äºå®ç° Kafka topic ä¹‹é—´çš„ä»…å¤„ç†ä¸€æ¬¡è¯­ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;ä» consumer è§’åº¦æ¥çœ‹ï¼ŒåŒä¸€ä¸ªåˆ†åŒºçš„æ‰€æœ‰å‰¯æœ¬ï¼Œæ—¥å¿—æ•°æ®ç›¸åŒï¼Œæ¶ˆè´¹è¿›åº¦ä¹Ÿä¸€æ ·ã€‚consumer å¯ä»¥æ§åˆ¶è‡ªå·±å¯¹åˆ†åŒºæ—¥å¿—æ•°æ®çš„æ¶ˆè´¹ä½ç½®ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœ consumer è¯»å–æ¶ˆæ¯åï¼Œå…ˆå‘ kafka æäº¤æ¶ˆè´¹ä½ç½®ï¼Œå†å¤„ç†æ¶ˆæ¯ï¼›å¦‚æœè¯¥ consumer æŒ‚æ‰æˆ–é‡å¯ï¼Œä¼šå¯èƒ½å¯¼è‡´ä¸¢æ¶ˆæ¯ï¼Œä»è€Œåªèƒ½æ»¡è¶³â€œæœ€å¤šå¤„ç†ä¸€æ¬¡â€äº¤ä»˜è¯­ä¹‰ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ consumer è¯»å–æ¶ˆæ¯åï¼Œæ˜¯å…ˆå¤„ç†ï¼Œå†æäº¤æ¶ˆè´¹ä½ç½®ï¼›å¦‚æœè¯¥ consumer æŒ‚æ‰æˆ–é‡å¯ï¼Œåˆ™å¯èƒ½å¯¼è‡´é‡å¤æ¶ˆè´¹æ¶ˆæ¯ï¼Œä»è€Œåªèƒ½æ»¡è¶³â€œæœ€å°‘å¤„ç†ä¸€æ¬¡â€äº¤ä»˜è¯­ä¹‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚ä½•å®ç°â€œä»…å¤„ç†ä¸€æ¬¡â€è¯­ä¹‰ï¼Ÿå€ŸåŠ© Producer çš„äº‹åŠ¡èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;h2&gt;å¤åˆ¶&lt;/h2&gt;
&lt;p&gt;å¤åˆ¶çš„ç²’åº¦/å•å…ƒæ˜¯ topic åˆ†åŒºã€‚Kafka é›†ç¾¤ä¸­ï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æœ‰ä¸€ä¸ª leader broker èŠ‚ç‚¹ï¼Œ0ä¸ªæˆ–å¤šä¸ªä»èŠ‚ç‚¹ï¼ˆfollowerï¼‰ã€‚åˆ†åŒºè¯»å†™éƒ½æ˜¯ç”± leader broker å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚åŒä¸€ä¸ªæ™®é€šçš„ consumerï¼Œä»èŠ‚ç‚¹ä» leader broker æ‹‰å–ï¼ˆpullï¼‰æ¶ˆæ¯ï¼Œç„¶åå†™åˆ°è‡ªå·±çš„æ¶ˆæ¯æ—¥å¿—æ–‡ä»¶ä¸­ã€‚è®©ä»èŠ‚ç‚¹ä»¥ pull çš„æ–¹å¼è·å– leader çš„æ¶ˆæ¯æ•°æ®ï¼Œå¥½å¤„åœ¨äºæ‰¹é‡è¯»å†™ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº follower èŠ‚ç‚¹è€Œè¨€ï¼Œâ€œæ˜¯å¦å­˜æ´»â€çš„å®é™…å«ä¹‰æ˜¯â€œæ˜¯å¦é¡ºåˆ©åœ°ä» leader åŒæ­¥æ¶ˆæ¯â€ï¼Œleader èŠ‚ç‚¹ä¼šè¿½è¸ªâ€œåŒæ­¥ä¸­â€èŠ‚ç‚¹é›†ï¼ˆISRsï¼‰ã€‚å¦‚æœä¸€ä¸ª follower æŒ‚æ‰äº†/å¡ä½äº†/åŒæ­¥è½åå¤ªå¤šäº†ï¼Œåˆ™å°†å…¶ä»è¿™ä¸ª ISRs ä¸­ç§»é™¤ã€‚follow æ˜¯å¦å¡ä½æˆ–è€…åŒæ­¥è½åå¤ªå¤šï¼Œä¾æ® &lt;code&gt;replica.lag.time.max.ms&lt;/code&gt; é…ç½®å‚æ•°åˆ¤å®šã€‚&lt;/p&gt;
&lt;p&gt;å°†æŸæ¶ˆæ¯å†™åˆ°æŸä¸ªåˆ†åŒºï¼Œå¦‚æœè¯¥åˆ†åŒºæ‰€æœ‰åŒæ­¥ä¸­å‰¯æœ¬éƒ½å·²ç»å°†è¯¥æ¶ˆæ¯å†™åˆ°è‡ªå·±çš„æ¶ˆæ¯æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œåˆ™å¯ä»¥è®¤ä¸ºè¯¥æ¶ˆæ¯çš„å†™æ“ä½œå·²æäº¤ï¼ˆcommittedï¼‰ï¼Œä¹Ÿå°±æ˜¯çœŸæ­£çš„å†™æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;åªæœ‰å†™æäº¤çš„æ¶ˆæ¯æ‰ä¼šåˆ†å‘ç»™ consumerã€‚&lt;/p&gt;
&lt;p&gt;producer å¯ä»¥é€‰æ‹©æ˜¯å¦ç­‰å¾…æ¶ˆæ¯å†™æ“ä½œæäº¤ï¼Œåœ¨å»¶è¿Ÿï¼ˆlatencyï¼‰å’ŒæŒä¹…æ€§ï¼ˆdurabilityï¼‰ä¹‹é—´æƒè¡¡ã€‚&lt;/p&gt;
&lt;p&gt;Kafka é›†ç¾¤åœ¨æŸåˆ†åŒºçš„ leader èŠ‚ç‚¹æŒ‚æ‰ä¹‹åï¼Œä¼šå¿«é€Ÿè¿›è¡Œå¤±è´¥è½¬ç§»ï¼ˆa short fail-over periodï¼‰ï¼Œé€‰ä¸¾å‡ºæ–°çš„åˆ†åŒº leader èŠ‚ç‚¹ï¼Œå¯ç”¨æ€§ä¸ä¼šå—åˆ°å½±å“ã€‚ä½†å¦‚æœå‘ç”Ÿç½‘ç»œåˆ†åŒºï¼ˆnetwork partitionsï¼‰é—®é¢˜ï¼Œåˆ™æ— æ³•ä¿è¯å¯ç”¨æ€§ã€‚CAP - Cï¼ˆConsistencyï¼‰ï¼šä¸€è‡´æ€§ï¼ŒAï¼ˆAvailabilityï¼‰ï¼šå¯ç”¨æ€§ï¼ŒPï¼ˆPartition Toleranceï¼‰ï¼šåˆ†åŒºå®¹é”™æ€§ - æ”¾å¼ƒäº† åˆ†åŒºå®¹é”™æ€§ã€‚&lt;/p&gt;
&lt;h4&gt;æ—¥å¿—æ•°æ®å¤åˆ¶ï¼šä»²è£æˆå‘˜é›†ï¼ˆQuorumsï¼‰ã€åŒæ­¥ä¸­å‰¯æœ¬é›†ï¼ˆISRsï¼‰å’ŒçŠ¶æ€æœº&lt;/h4&gt;
&lt;p&gt;ï¼ˆå¤‡æ³¨ï¼šè¿™ä¸€èŠ‚æˆ‘ç†è§£å¾—è¿˜ä¸å¤ªé€å½»ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;ä¸€ç±»å¸¸è§çš„åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ä¸»ä»æ¨¡å¼çš„ï¼Œç”±ä¸»èŠ‚ç‚¹å†³å®šçŠ¶æ€å˜åŒ–çš„é¡ºåºï¼ˆthe order of a series of valuesï¼‰ã€‚ä»èŠ‚ç‚¹é€šè¿‡æ—¥å¿—å¤åˆ¶ï¼ˆreplicated logï¼‰æ–¹å¼åŒæ­¥çŠ¶æ€æ•°æ®ã€‚å¯¹äºæäº¤å†³ç­–ï¼ˆcommit decisionï¼‰å’Œé€‰ä¸»ï¼ˆleader electionï¼‰ï¼Œé€šå¸¸æ˜¯åŸºäºå¤šæ•°äººæŠ•ç¥¨çš„æœºåˆ¶ã€‚å‡è®¾å‰¯æœ¬ä¸ªæ•°ï¼ˆæ³¨ï¼šä¸ªäººç†è§£åŒ…å«ä¸»èŠ‚ç‚¹ï¼‰ä¸º 2f+1ï¼Œé‚£ä¹ˆåªæœ‰å½“ f+1 ä¸ªå‰¯æœ¬å†™å…¥æˆåŠŸï¼Œä¸»èŠ‚ç‚¹æ‰ä¼šå°†è¿™ä¸ªå†™æ“ä½œæ ‡è®°ä¸ºå·²æäº¤ï¼ˆcommittedï¼‰ã€‚å½“ä¸»èŠ‚ç‚¹æŒ‚æ‰ä¹‹åï¼ŒåŸºäº f ä¸ªçŠ¶æ€æœ€æ–°çš„å‰¯æœ¬èŠ‚ç‚¹ï¼Œå¯ä»¥é€‰ä¸¾å‡ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œä¸”çŠ¶æ€ä¸ä¼šæœ‰ä»»ä½•ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;å¤šæ•°äººæŠ•ç¥¨æ–¹å¼ï¼Œæœ‰ä¸€ä¸ªä¼˜ç‚¹ï¼šå»¶è¿Ÿå–å†³äºé€Ÿåº¦å¿«çš„èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯æ…¢çš„ã€‚ç¼ºç‚¹æ˜¯ï¼šå¯¹äºå®é™…çš„ç”Ÿäº§ç³»ç»Ÿï¼ŒæŠ—é£é™©èƒ½åŠ›è¿˜ä¸å¤Ÿï¼Œè€Œä¸”ä¸å¤Ÿçµæ´»ï¼Œä¸èƒ½è®©ä½¿ç”¨è€…åšæƒè¡¡ã€‚&lt;/p&gt;
&lt;p&gt;Kafka é€‰æ‹©ä»²è£æˆå‘˜é›†ï¼ˆquorum setï¼‰çš„æ–¹å¼ä¸æ­¤ä¸åŒï¼Œè€Œä¸æ˜¯åŸºäºå¤šæ•°äººæŠ•ç¥¨ï¼Œè€Œæ˜¯åŠ¨æ€ç»´æŠ¤ä¸€ç»„åŒæ­¥ä¸­å‰¯æœ¬ï¼ˆISRï¼‰ï¼Œè¿™äº›å‰¯æœ¬ä¸ä¸»èŠ‚ç‚¹ä¿æŒåŒæ­¥ã€‚åªæœ‰è¿™ç»„å‰¯æœ¬ä¸­çš„æˆå‘˜æ‰æœ‰èµ„æ ¼å½“é€‰ä¸ºä¸»èŠ‚ç‚¹ã€‚ISR é›†å‘ç”Ÿå˜åŒ–æ—¶ä¼šæŒä¹…åŒ–åˆ° Zookeeper ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;åŸºäº ISR æ¨¡å‹ï¼Œå¦‚æœ topic åˆ†åŒºæœ‰ f+1 ä¸ªå‰¯æœ¬ï¼Œåˆ™å¯ä»¥å®¹å¿ f ä¸ªèŠ‚ç‚¹æŒ‚æ‰ï¼Œä¹Ÿä¸ä¼šä¸¢å¤±ä»»ä½•å·²æäº¤çš„æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ Kafka ISR æ¨¡å‹å®é™…å®ç°æœ€ç›¸è¿‘çš„å­¦æœ¯è®ºæ–‡æ˜¯å¾®è½¯çš„ &lt;a href="http://research.microsoft.com/apps/pubs/default.aspx?id=66814"&gt;PacificA&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h4&gt;å¯ç”¨æ€§å’ŒæŒä¹…æ€§ä¿è¯&lt;/h4&gt;
&lt;p&gt;æ³¨æ„ï¼šproducer å‘é€æ¶ˆæ¯æ—¶è®¾å®š &lt;code&gt;acks=all&lt;/code&gt; å¹¶ä¸æ˜¯è¦æ±‚æ‰€æœ‰çš„å‰¯æœ¬éƒ½ç¡®è®¤å†™å…¥æˆåŠŸï¼Œè€Œæ˜¯åœ¨å½“å‰åŒæ­¥ä¸­å‰¯æœ¬ï¼ˆISRï¼‰éƒ½ç¡®è®¤å†™å…¥æˆåŠŸæ—¶ï¼Œåˆ†åŒº leader å°±å‘ producer å“åº”æˆåŠŸã€‚ä¾‹å¦‚ï¼šæŸä¸ª topic è¢«è®¾ç½®ä¸º 2 ä¸ªå‰¯æœ¬ï¼Œç„¶åå…¶ä¸­ä¸€ä¸ªå‰¯æœ¬èŠ‚ç‚¹æŒ‚æ‰ï¼Œæ­¤æ—¶è¦æ±‚ &lt;code&gt;acks=all&lt;/code&gt; çš„å†™æ“ä½œä¹Ÿä¼šæˆåŠŸã€‚å¦‚æœå‰©ä¸‹çš„å‰¯æœ¬èŠ‚ç‚¹ä¹ŸæŒ‚äº†ï¼Œé‚£ä¹ˆå°±ä¼šä¸¢æ¶ˆæ¯å•¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·åœ¨ å¯ç”¨æ€§ å’Œ æŒä¹…æ€§ ä¹‹é—´æƒè¡¡ï¼ŒKafka æä¾›ä¸¤ä¸ª topic çº§åˆ«çš„é…ç½®ï¼Œç”¨äº æŒä¹…æ€§ æ¯” å¯ç”¨æ€§ é‡è¦çš„æƒ…å†µï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://kafka.apache.org/documentation/#design_uncleanleader"&gt;ç¦ç”¨è„ leader é€‰ä¸¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æŒ‡å®šä¸€ä¸ªæœ€å° ISR é›†å¤§å°ï¼ˆ&lt;code&gt;min.insync.replicas&lt;/code&gt; å‚æ•°è®¾ç½®ï¼‰ï¼šåªæœ‰å½“ ISR é›†å¤§å°å¤§äºè®¾å®šçš„æœ€å°å€¼ï¼Œåˆ†åŒº [leader] æ‰ä¼šæ¥å—æ¶ˆæ¯å†™å…¥ã€‚è¿™ä¸ªè®¾ç½®åªæœ‰å½“ producer ä½¿ç”¨ &lt;code&gt;acks=all&lt;/code&gt; æ—¶æ‰ä¼šç”Ÿæ•ˆã€‚ï¼ˆæ³¨ï¼šåœ¨æˆ‘ä»¬ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œåˆ†åŒºå‰¯æœ¬æ•°é€šå¸¸ç”³è¯·ä¸º 3ï¼ˆåŒ…å« leaderï¼‰ï¼Œé‚£ä¹ˆ &lt;code&gt;min.insync.replicas&lt;/code&gt; åº”è¯¥è®¾å®šä¸º 2ï¼Œä½†é»˜è®¤æ˜¯ 1ã€‚ä½¿ç”¨ 1ï¼Œé‚£ä¹ˆå½“åˆ†åŒºåªæœ‰ä¸€ä¸ªå‰¯æœ¬ï¼ˆå³ leaderï¼‰ï¼Œproducer ä¹Ÿèƒ½å†™å…¥æˆåŠŸï¼Œä½†å¦‚æœè¿™ä¸ªå‰¯æœ¬åˆæŒ‚äº†ï¼Œå°±ä¼šä¸¢æ•°æ®ã€‚ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;å‰¯æœ¬ç®¡ç†&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸ª Kafka é›†ç¾¤ä¸Šä¸€èˆ¬ä¼šæœ‰å¤šä¸ª topicï¼Œæ¯ä¸ª topic åˆæœ‰å¤šä¸ª partitionï¼Œä¸ºäº†èŠ‚ç‚¹ä¹‹é—´è´Ÿè½½å‡è¡¡ï¼Œé€šå¸¸ä»¥&lt;strong&gt;å¾ªç¯ï¼ˆround-robinï¼‰æ–¹å¼&lt;/strong&gt;åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šåˆ†å¸ƒ partition å’Œ åˆ†åŒº leader è§’è‰²ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œåœ¨åˆ†åŒº leader èŠ‚ç‚¹ä¹‹åé‡æ–°é€‰å‡º leader ä¹‹å‰ï¼Œå­˜åœ¨ä¸€æ®µä¸å¯ç”¨çš„æ—¶é—´çª—å£ï¼Œä¸ºäº†ç¼©çŸ­è¿™ä¸ªæ—¶é—´çª—å£ï¼ŒKafka ä¼šä»æ‰€æœ‰ broker ä¸­é€‰æ‹©ä¸€ä¸ªä½œä¸ºâ€œæ§åˆ¶å™¨ï¼ˆcontrollerï¼‰â€ï¼Œè¿™ä¸ªæ§åˆ¶å™¨ä¼šæ£€æµ‹ broker çº§åˆ«çš„é—®é¢˜ï¼ˆfailuresï¼‰ï¼Œåœ¨å‘ç°æŸä¸ª broker æŒ‚æ‰ä¹‹åï¼Œè´Ÿè´£ä¸ºå—å½±å“çš„åˆ†åŒºæŒ‡å®šæ–°çš„ leaderï¼Œè€Œä¸æ˜¯æ¯ä¸ªåˆ†åŒºè‡ªå·±è´Ÿè´£é‡æ–°é€‰ä¸»ï¼Œè¿™æ ·çš„é€‰ä¸»è¿‡ç¨‹æ›´è½»é‡æ›´å¿«ã€‚å¦‚æœæ§åˆ¶å™¨èŠ‚ç‚¹æŒ‚äº†ï¼Œè¿˜å­˜æ´»çš„ broker ä¸­çš„ä¸€ä¸ªä¼šæˆä¸ºæ–°çš„æ§åˆ¶å™¨ã€‚&lt;/p&gt;
&lt;h2&gt;æ¶ˆè´¹è€…æ¶ˆè´¹è¿›åº¦è·Ÿè¸ª&lt;/h2&gt;
&lt;p&gt;Kafka ä¸ºæ¯ä¸ªæ¶ˆè´¹ç»„ï¼ˆconsumer groupï¼‰æŒ‡å®šä¸€ä¸ª broker æ¥å­˜å‚¨ç›®æ ‡ topic å„ä¸ªåˆ†åŒºçš„æ¶ˆè´¹è¿›åº¦ï¼ˆoffsetsï¼‰ï¼Œè¿™ä¸ª broker ç§°ä¸º &lt;strong&gt;ç»„åè°ƒå™¨ï¼ˆgroup coordinatorï¼‰&lt;/strong&gt;ã€‚è¿™ä¸ªæ¶ˆè´¹ç»„ä¸­çš„ä»»ä¸€æ¶ˆè´¹è€…å®ä¾‹éƒ½åº”è¯¥å°†æ¶ˆè´¹è¿›åº¦æäº¤åˆ°è¿™ä¸ªç»„åè°ƒå™¨ï¼Œæˆ–è€…ä»è¿™ä¸ªç»„åè°ƒå™¨è·å–å¯åŠ¨ä¹‹å‰ä¸Šæ¬¡çš„æ¶ˆè´¹è¿›åº¦ã€‚Kafka åŸºäºæ¶ˆè´¹ç»„çš„åç§°ä¸ºæ¶ˆè´¹ç»„åˆ†é…åè°ƒå™¨ã€‚æ¶ˆè´¹è€…å¯ä»¥å‘ä»»ä¸€ broker å‘é€ FindCoordinatorRequest è¯·æ±‚æ¥æŸ¥æ‰¾è‡ªå·±çš„åè°ƒå™¨ï¼Œå¹¶ä» FindCoordinatorResponse å“åº”ä¸­è·å–åè°ƒå™¨çš„è¯¦ç»†ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç»„åè°ƒå™¨æ¥æ”¶åˆ°ä¸€ä¸ª OffsetCommitRequest è¯·æ±‚åï¼Œä¼šå°†è¯·æ±‚æ•°æ®å†™åˆ°ä¸€ä¸ªç‰¹æ®Šçš„&lt;a href="http://kafka.apache.org/documentation/#compaction"&gt;ç»å‹å®çš„ï¼ˆcompactedï¼‰&lt;/a&gt; Kafka topic - &lt;em&gt;__consumer_offsets&lt;/em&gt;ã€‚åœ¨ç›®æ ‡åˆ†åŒºçš„æ‰€æœ‰å‰¯æœ¬éƒ½ç¡®è®¤æ”¶åˆ°äº†ï¼Œåè°ƒå™¨æ‰ä¼šå‘æ¶ˆè´¹è€…å‘é€è¿›åº¦æäº¤æˆåŠŸçš„å“åº”ã€‚è¿™ä¸ª topic çš„æ¶ˆæ¯æ—¥å¿—æ•°æ®ä¼šå®šæœŸè¿›è¡Œå‹å®ï¼ˆcompactï¼‰ï¼Œå› ä¸ºåªéœ€è¦ä¸ºæ¯ä¸ªåˆ†åŒºç»´æŠ¤æœ€æ–°çš„æ¶ˆè´¹è¿›åº¦ã€‚åè°ƒå™¨ä¹Ÿä¼šåœ¨å†…å­˜ä¸­ç¼“å­˜æ¶ˆè´¹è¿›åº¦ï¼Œæ–¹ä¾¿å¿«é€Ÿå“åº”æ¶ˆè´¹è¿›åº¦æŸ¥è¯¢è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šå¦‚æœæ¶ˆè´¹è€…/æ¶ˆè´¹ç»„ç‰¹åˆ«å¤šï¼ˆä¾‹å¦‚ï¼šæˆ‘ä»¬å¹¿å‘Šå¼•æ“æœåŠ¡ï¼Œè¯»å–æ­£æ’æ¶ˆæ¯ topicï¼Œä¸€ä¸ªæœºå™¨å®ä¾‹å°±æ˜¯ä¸€ä¸ª consumer groupï¼Œæ•°é‡åœ¨å‡ ç™¾åˆ°å‡ åƒä¸ç­‰ï¼‰ï¼Œé‚£ä¹ˆç»„åè°ƒå™¨çš„å‹åŠ›ä¼šæ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆç¡®ä¿ç»„åè°ƒå™¨çš„è§’è‰²å‡åŒ€åˆ†é…åˆ°é›†ç¾¤çš„æ‰€æœ‰ brokerï¼Œæ¯”è¾ƒå…³é”®ã€‚å¦å¤–ï¼Œ&lt;em&gt;__consumer_offsets&lt;/em&gt; è¿™ä¸ª topic çš„åˆ†åŒºæ•°é‡ä¸èƒ½å¤ªå°‘ï¼Œæœ€å¥½å’Œ broker æ•°é‡ç›¸åŒæˆ–è€…æ•´æ•°å€æ•°é‡ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æ–‡ç« "></category><category term="ç¬”è®°"></category><category term="ç»å…¸"></category><category term="Kafka"></category><category term="è¿›è¡Œä¸­"></category></entry><entry><title>è¯»æ–‡ç¬”è®°ï¼šPhoton - Fault-tolerant and Scalable Joining of Continuous Data Streams</title><link href="http://youngsterxyf.github.io/2019/10/10/reading-photon/" rel="alternate"></link><published>2019-10-10T00:00:00+08:00</published><updated>2019-10-10T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2019-10-10:/2019/10/10/reading-photon/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://static.googleusercontent.com/media/research.google.com/zh-CN//pubs/archive/41318.pdf"&gt;Photon: Fault-tolerant and Scalable Joining of Continuous Data Streams&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Photon æ˜¯è°·æ­Œå¹¿å‘Šç³»ç»Ÿä¸­ç”¨äº join å¹¿å‘Šæ›å…‰æ—¥å¿—æµå’Œç‚¹å‡»æ—¥å¿—æµçš„ä¸€å¥—ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®æµ join ä¸ºä»€ä¹ˆæ²¡ç”¨ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://static.googleusercontent.com/media/research.google.com/zh-CN//pubs/archive/41318.pdf"&gt;Photon: Fault-tolerant and Scalable Joining of Continuous Data Streams&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Photon æ˜¯è°·æ­Œå¹¿å‘Šç³»ç»Ÿä¸­ç”¨äº join å¹¿å‘Šæ›å…‰æ—¥å¿—æµå’Œç‚¹å‡»æ—¥å¿—æµçš„ä¸€å¥—ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®æµ join ä¸ºä»€ä¹ˆæ²¡ç”¨ flink è¿™ç±»é€šç”¨çš„æµå¼å¤„ç†æ¡†æ¶ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ•°æ®æµ joinï¼Œç‰¹åˆ«æ˜¯å¹¿å‘Šæ•°æ®æµ joinï¼ŒæŠ€æœ¯ä¸Šéš¾åœ¨å“ªé‡Œï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä»»ä¸€æ¡æµéƒ½å¯èƒ½ä¹±åºæˆ–å»¶è¿Ÿï¼Œå¹¿å‘Šç‚¹å‡»æ¶‰åŠè®¡è´¹çš„é—®é¢˜ï¼Œè®¡è´¹ä¸èƒ½å¤šç®—å¹¿å‘Šä¸»çš„é’±ï¼Œä¹Ÿè¦å°½å¯èƒ½é¿å…æ¼è®¡è´¹ï¼Œé™ä½å¹¿å‘Šæ”¶å…¥æŸå¤±ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è¯¥ç³»ç»Ÿåœ¨è°·æ­Œç”Ÿäº§ç¯å¢ƒä¸­æ¯åˆ†é’Ÿå¤„ç†ç™¾ä¸‡çº§çš„äº‹ä»¶ï¼Œç«¯åˆ°ç«¯å»¶è¿Ÿå°äº 10 ç§’ï¼ˆæ³¨ï¼šå¯¹äºå¹¿å‘Šå®æ—¶ç«ä»·çš„å¹¿å‘Šä¸»è€Œè¨€ï¼Œè¿™ä¸ªå»¶è¿Ÿçš„é•¿çŸ­å¾ˆé‡è¦ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¹¿å‘Šæ›å…‰ã€ç‚¹å‡»æ•´ä½“æµç¨‹ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·æœç´¢æŸä¸ªå…³é”®è¯æ—¶ï¼Œè°·æ­Œçš„æœåŠ¡å™¨ä¼šè¿”å›å¹¿å‘Šå’Œæœç´¢ç»“æœã€‚å¹¿å‘ŠæœåŠ¡å™¨ä¼šå°†å¹¿å‘Š query å’Œç»“æœæ•°æ®ä½œä¸ºæ—¥å¿—å‘é€åˆ°å¤šä¸ªæ—¥å¿—æ•°æ®ä¸­å¿ƒï¼ˆmultiple logs-datacentersï¼‰ï¼Œæœ€ç»ˆæŒä¹…åŒ–å­˜å‚¨åœ¨ GFS ä¸Šã€‚æ¯æ¬¡ query éƒ½ä¼šè¢«èµ‹äºˆä¸€ä¸ªå”¯ä¸€æ€§ ID &lt;em&gt;query_id&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;å¯¹äºæœç´¢ç»“æœä¸­çš„å¹¿å‘Šï¼Œç”¨æˆ·å¯èƒ½ä¼šç‚¹å‡»ã€‚å¹¿å‘Šç‚¹å‡»ä¼šè§¦å‘ä¸€æ¬¡è¯·æ±‚ï¼Œè°·æ­Œçš„åç«¯æœåŠ¡å™¨å°†è¯·æ±‚é‡å®šå‘åˆ°å¹¿å‘Šä¸»çš„ç½‘ç«™ã€‚åœ¨é‡å®šå‘ä¹‹å‰ï¼Œè°·æ­ŒæœåŠ¡å™¨ä¼šå°†ç‚¹å‡»äº‹ä»¶è®°å½•åˆ°æ—¥å¿—ä¸­ï¼Œå‘é€åˆ°å¤šä¸ªæ—¥å¿—æ•°æ®ä¸­å¿ƒã€‚ç‚¹å‡»äº‹ä»¶æ—¥å¿—ä¸­åŒ…å«å¹¿å‘Šæ›å…‰çš„ query_idï¼Œç‚¹å‡»äº‹ä»¶ä¹Ÿä¼šè¢«èµ‹äºˆä¸€ä¸ªå”¯ä¸€æ€§ ID &lt;em&gt;click_id&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è®¡è´¹æ˜¯åœ¨ç‚¹å‡»ä¹‹åï¼Œä½†è®¡è´¹æ‰€éœ€è¦çš„å¹¿å‘Šå‡ºä»·ç­‰ä¿¡æ¯æ˜¯åœ¨æ›å…‰è¯·æ±‚ä¸­è®°å½•çš„ï¼Œå‡ºäºæ•°æ®æ•æ„Ÿæ€§ã€å¸¦å®½ã€è¯·æ±‚å¤„ç†å»¶è¿Ÿç­‰å¤šæ–¹é¢çš„è€ƒé‡ï¼Œè®¡è´¹ç›¸å…³çš„ä¿¡æ¯å¹¶ä¸ä¼šè¿”å›åˆ°ç”¨æˆ·å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯è¯´ç‚¹å‡»è¯·æ±‚ä¸­ä¸ä¼šåŒ…å«è®¡è´¹ç›´æ¥ç›¸å…³çš„ä¿¡æ¯ï¼Œéœ€è¦å°† ç‚¹å‡»æ—¥å¿— å’Œ æ›å…‰æ—¥å¿— åšä¸€æ¬¡ joinï¼Œå¾—åˆ°ä¸€æ¡å®Œæ•´çš„ä¸Šä¸‹æ–‡æ—¥å¿—ï¼Œæ‰æ–¹ä¾¿åšåç»­è®¡è´¹ç­‰å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/EDOy6VKxeJUcgAW.jpg"&gt;&lt;/p&gt;
&lt;p&gt;è®ºæ–‡ä¸­æäº†åˆ°è¯¥ç³»ç»Ÿè§£å†³äº†å‡ ä¸ªæŠ€æœ¯æŒ‘æˆ˜ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»…å¤„ç†ä¸€æ¬¡è¯­ä¹‰ï¼ˆexactly-once semanticsï¼‰ï¼šå®é™…ä¸Šè¾¾åˆ°çš„æ˜¯ æœ€å¤šå¤„ç†ä¸€æ¬¡è¯­ä¹‰ ï¼ˆAt most onceï¼‰ï¼Œä¹Ÿå°±æ˜¯ç»å¯¹ä¸èƒ½å¤šç®—é’±ï¼Œç„¶åå°½å¯èƒ½é¿å…å°‘ç®—é’±&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨åŒ–çš„è·¨æ•°æ®ä¸­å¿ƒå®¹é”™ï¼šä¹Ÿå°±æ˜¯å¤šæ•°æ®ä¸­å¿ƒéƒ¨ç½²ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ•°æ®ä¸­å¿ƒä¸å¯ç”¨ï¼ˆæ¯”å¦‚ ç½‘ç»œé—®é¢˜ï¼‰ï¼Œä¹Ÿä¸ä¼šå½±å“ç³»ç»Ÿæ­£å¸¸å¤„ç†æ•°æ®&lt;/li&gt;
&lt;li&gt;æ¨ªå‘æ‰©å±•æ€§é«˜ï¼šä¹Ÿå°±æ˜¯åŠ æœºå™¨å°±èƒ½åº”å¯¹æ¶ˆæ¯é‡å¢é•¿&lt;/li&gt;
&lt;li&gt;ä½æ—¶å»¶&lt;/li&gt;
&lt;li&gt;æµä¹±åº&lt;/li&gt;
&lt;li&gt;ä¸»æµå»¶è¿Ÿï¼ˆdelayed primary streamï¼‰ï¼šè¿™é‡Œè¯´çš„â€ä¸»æµâ€œæ˜¯æ›å…‰æ—¥å¿—æµ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨æˆ‘çœ‹æ¥ï¼Œè¯¥ç³»ç»Ÿçš„äº®ç‚¹ä¸»è¦åœ¨å‰ 3 ç‚¹ï¼Œåè¾¹ç»†è¯´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºè§£å†³ 1ã€2 æŒ‘æˆ˜ç‚¹ï¼Œç³»ç»Ÿå¼•å…¥ä¸€ä¸ªæœåŠ¡æ¨¡å—ï¼šIdRegistryï¼Œè¿™ä¸ªæœåŠ¡çš„åŠŸèƒ½ï¼šæä¾›ç‚¹å‡»äº‹ä»¶ idï¼ˆ&lt;em&gt;click_id&lt;/em&gt;ï¼‰ çš„å­˜å‚¨å’ŒæŸ¥è¯¢ï¼Œå¦‚æœæŸä¸ª click_id å¯ä»¥ä» IdRegistry ä¸­æŸ¥åˆ°ï¼Œåˆ™è¡¨ç¤ºè¯¥ç‚¹å‡»äº‹ä»¶å·²ç»å¤„ç†è¿‡äº†ï¼Œä¸è¦å†æ¬¡å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶ä¸”ï¼Œå¤šæ•°æ®ä¸­å¿ƒéƒ½éƒ¨ç½²ä¸€å¥— Photonï¼Œä½† IdRegistry å…±äº«ä¸€ä¸ªï¼Œå¤šå¥— Photon ç³»ç»Ÿçš„è¾“å…¥ç›¸åŒï¼Œé‚£ä¹ˆ IdRegistry é™¤äº†æä¾›å»é‡çš„åŠŸèƒ½ï¼Œè¿˜æä¾›äº†è´Ÿè½½å‡è¡¡çš„åŠŸèƒ½ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå‡è®¾ N ä¸ªæ•°æ®ä¸­å¿ƒï¼Œæ¯ä¸ªæ•°æ®ä¸­å¿ƒ Photon join äº§å‡ºçš„æ—¥å¿—æ•°æ®é‡ä¸ºæ€»é‡çš„ 1/Nã€‚&lt;/p&gt;
&lt;p&gt;å½“æŸä¸ªæ•°æ®ä¸­å¿ƒçš„ Photon ä¸å¯ç”¨æ—¶ï¼Œç›¸å½“äºå…¶è´Ÿè½½åŠ¨æ€åœ°é‡æ–°åˆ†é…åˆ°å…¶å®ƒæ•°æ®ä¸­å¿ƒï¼Œè™½ç„¶æ€»ä½“èƒ½åŠ›ä¸Šé™ä½äº†ï¼Œä½†åªè¦å¤„ç†èƒ½åŠ›æœ‰å†—ä½™ï¼Œå°±ä¸ä¼šå½±å“æ­£å¸¸å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå¾ˆæ˜æ˜¾ï¼ŒIdRegistry å¾ˆå¯èƒ½æˆä¸ºç³»ç»Ÿçš„çŸ­æ¿ï¼›å¦å¤–ï¼Œæ›å…‰/ç‚¹å‡»çš„å”¯ä¸€æ€§ ID å¦‚ä½•ç”Ÿæˆï¼Ÿå¦‚æœç”±ä¸€ä¸ªä¸­å¿ƒæœåŠ¡æ¥æä¾›å”¯ä¸€æ€§ ID çš„ç”Ÿæˆï¼Œé‚£ä¹ˆè¿™ä¸ªæœåŠ¡ä¹Ÿä¼šæˆä¸ºç³»ç»Ÿçš„çŸ­æ¿ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œç³»ç»Ÿæ²¡æœ‰é€‰æ‹©ä¸€ä¸ªä¸­å¿ƒæœåŠ¡æ¥ç”Ÿæˆå”¯ä¸€æ€§ idï¼Œè€Œæ˜¯å°† id è®¾è®¡ä¸ºåŒ…å«3ä¸ªéƒ¨åˆ†ï¼š&lt;em&gt;ServerIP&lt;/em&gt;ã€&lt;em&gt;ProcessID&lt;/em&gt;ã€&lt;em&gt;Timestamp&lt;/em&gt;ã€‚ç”±äºæ—¥å¿—æ–‡ä»¶ä¸­è¡Œä¹‹é—´å¤§è‡´æ˜¯æŒ‰ç…§æ—¶é—´æˆ³æœ‰åºçš„ï¼Œæ‰€ä»¥ id ä¸­åŒ…å«æ—¶é—´æˆ³çš„ä¸€ä¸ªé¢å¤–å¥½å¤„æ˜¯ï¼šæ ¹æ® id å³å¯å¤§è‡´å®šä½æ—¥å¿—å†…å®¹ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå’Œæ¨ªå‘æ‰©å±•æ€§ç›¸å…³çš„å¥½å¤„ï¼Œåè¾¹ç»†è¯´ã€‚&lt;/p&gt;
&lt;p&gt;IdRegistry çš„è§’è‰²è‡³å…³é‡è¦ï¼Œæ‰€ä»¥å°†å…¶å®ç°ä¸ºä¸€ä¸ªåŸºäº Paxos åè®®çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ ¹æ® CAP åŸåˆ™ï¼Œå¯ç”¨æ€§ï¼ˆæ­¤å¤„æ˜¯æŒ‡&lt;strong&gt;ååèƒ½åŠ›&lt;/strong&gt;ï¼‰å—é™ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;1ã€æé«˜å•æœºå¤„ç†èƒ½åŠ›ï¼šæœåŠ¡ç«¯æ”’æ‰¹å¤„ç†ï¼Œå°½å¯èƒ½å‡å°‘ç½‘ç»œå¾€è¿”æ¬¡æ•°å¯¼è‡´çš„ç­‰å¾…ï¼ˆç‰¹åˆ«æ˜¯ï¼šç”±äº IdRegistry æ˜¯è·¨åœ°åŸŸåˆ†å¸ƒå¼ï¼Œéƒ¨ç½²ä¸ŠèŠ‚ç‚¹ä¹‹é—´æœ€å¤§å»¶è¿Ÿæ˜¯ 100ms å·¦å³ï¼‰&lt;/p&gt;
&lt;p&gt;2ã€åˆ†ç‰‡ï¼ˆShardingï¼‰ï¼šæ ¹æ® click_id è¿›è¡Œåˆ†ç‰‡ï¼Œä½†å¦‚æœæ˜¯å›ºå®šåˆ†ç‰‡ï¼Œé‚£ä¹ˆéšç€ä»¥åä¸šåŠ¡é‡å¢å¤§ï¼Œä¸å¥½æ‰©å±•ã€‚Photon ä½¿ç”¨äº†ä¸€ç§åŸºäºæ—¶é—´æ®µåŠ¨æ€åˆ†ç‰‡æ–¹æ¡ˆï¼Œè¿™ä¸ªæ–¹æ¡ˆåŸºäº click_id è‡ªå¸¦æ—¶é—´æˆ³ã€‚å¤§è‡´é€»è¾‘æ˜¯ï¼šä½¿ç”¨ä¸€ä¸ªé…ç½®ï¼Œå†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/VRlgr2CoD8zw7Mm.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºæ¯ä¸ª click æ—¥å¿—ï¼Œå…ˆæ ¹æ® click_id ä¸­çš„æ—¶é—´æˆ³ï¼Œåˆ¤æ–­åˆ†ç‰‡æ•°ï¼Œå¹¶è®¡ç®—å¯¹åº”çš„åˆ†ç‰‡ idã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/JMWyQvrDZCaAEdH.jpg"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç³»ç»Ÿçš„æ¨¡å—å…³ç³»å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/zghk6oVaqZ5uEs3.jpg"&gt;&lt;/p&gt;
&lt;p&gt;Photon çš„ Dispatcher æ¨¡å—å¹¶æ²¡æœ‰ä»¥ Kafka è¿™ç§æ¶ˆæ¯é˜Ÿåˆ—ä½œä¸ºè¾“å…¥ï¼Œè€Œæ˜¯ç›´æ¥ç›‘å¬æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ—¥å¿—æ–‡ä»¶å˜æ›´ï¼Œè¿™ä¸€ç‚¹æœ‰ç‚¹å¥‡æ€ªï¼Œä¸æ˜¯ç‰¹åˆ«ç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;Joiner è´Ÿè´£å®é™…çš„ join å·¥ä½œï¼Œç”±äº 3ã€4 éƒ½æ¯”è¾ƒè€—æ—¶ï¼Œæ‰€ä»¥ä¸ºäº†å°½å¯èƒ½å‡å°‘ Joiner çš„å·¥ä½œé‡ï¼ŒDispatcher å°†ç‚¹å‡»äº‹ä»¶æ—¥å¿—å‘é€ç»™ Joinerï¼Œä¼šå…ˆåˆ° IdRegistry ä¸­æŸ¥ä¸€ä¸‹è¯¥äº‹ä»¶æ˜¯å¦å·²è¢«å¤„ç†è¿‡ï¼Œä»è€Œèµ·åˆ°è¿‡æ»¤ä½œç”¨ã€‚å› å¤šæ•°æ®ä¸­å¿ƒéƒ¨ç½²ï¼Œå®é™…è¿‡æ»¤æ¯”ä¸ºï¼š$ \frac{N-1}{N} $ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç¡®ä¿ Joiner é«˜å¯ç”¨ï¼ŒJoiner æ˜¯æ— çŠ¶æ€çš„ï¼Œå‘ Dispatcher æä¾› RPC æ¥å£ï¼ŒJoiner å†…éƒ¨æœ‰é™æµï¼Œä»¥ä¿è¯ä¸ä¼šå› ä¸ºå•ä¸ª Joiner è´Ÿè½½è¿‡å¤§ï¼Œå¯¼è‡´å¤„ç†æ—¶å»¶å¢å¤§ã€‚Dispatcher è°ƒç”¨ Joiner å¤±è´¥åä¼šé‡è¯•ï¼Œé‡è¯•ä½¿ç”¨çš„æ˜¯æŒ‡æ•°é€€é¿ç®—æ³•ã€‚ä½†å¤„ç†å¤±è´¥çš„ç‚¹å‡»äº‹ä»¶ï¼Œæ˜¯å¦å¤–å­˜å‚¨åœ¨ GFS ä¸Šï¼Œåº”è¯¥æ˜¯ç”±å¦å¤–çš„çº¿ç¨‹æ¥è´Ÿè´£é‡è¯•ï¼Œä¸ä¼šå½±å“æ­£å¸¸çš„äº‹ä»¶å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ Joiner æ”¶åˆ°ä¸€ä¸ªç‚¹å‡»äº‹ä»¶çš„å¤„ç†è¯·æ±‚æ—¶ï¼Œä¼šæ ¹æ®ç‚¹å‡»æ—¥å¿—æ•°æ®ä¸­çš„ &lt;em&gt;query_id&lt;/em&gt; ä» EventStore æŸ¥è¯¢æ›å…‰æ—¥å¿—è¯¦æƒ…ï¼Œä½†å› ä¸ºæ›å…‰æ—¥å¿—æ•°æ®æµå¯èƒ½ä¼šæœ‰å»¶è¿Ÿï¼Œæ‰€ä»¥å¯èƒ½ä¼šæŸ¥ä¸åˆ°ï¼ŒæŸ¥ä¸åˆ°ä¸”å‘ç° click_id ä¸­çš„æ—¶é—´æˆ³æ—©äºæŸä¸ªé˜ˆå€¼ï¼ˆæ¯”å¦‚æ˜¯ Nå¤©å‰çš„ä¸€ä¸ªäº‹ä»¶ï¼‰ï¼ŒJoiner ä¼šå°†è¯¥ click_id æ ‡è®°ä¸ºä¸å¯ joinï¼Œç„¶åå‘ Dispatcher è¿”å›æˆåŠŸï¼›å¦‚æœ click_id ä¸­çš„æ—¶é—´æˆ³ä¸æ—©äºé˜ˆå€¼ï¼Œåˆ™å‘ Dispatcher è¿”å›å¤±è´¥ï¼Œç”± Dispatcher æ¥é‡è¯•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç¡®ä¿ä¸ä¼šå¤šè®¡è´¹ï¼ŒJoiner åœ¨å°† join ç»“æœå†™å…¥ Joined Click Logs ä¹‹å‰ï¼Œä¼šå‘ IdRegistry æ³¨å†Œ click_idã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æ³¨å†Œå®é™…ä¸Šå·²æˆåŠŸï¼Œä½†å› ç½‘ç»œåŸå› æˆ– RPC è°ƒç”¨è¶…æ—¶ Joiner æœªæ”¶åˆ°æˆåŠŸå“åº”ï¼Œæ­¤æ—¶æ€ä¹ˆåŠï¼ŸJoiner å‘ IdRegistry æ³¨å†Œ click_id æ—¶ï¼Œä¼šé™„å¸¦ä¸€ä¸ªé¢å¤–çš„ å”¯ä¸€æ€§ tokenï¼Œä¹ŸåŒ…å«3ä¸ªéƒ¨åˆ†ï¼šJoiner æœåŠ¡å™¨åœ°å€ã€è¿›ç¨‹ IDã€æ—¶é—´æˆ³ï¼ŒIdRegistry ä¼šæŠŠè¿™ä¸ªå”¯ä¸€æ€§ token ä½œä¸ºå€¼å­˜å‚¨ä¸‹æ¥ï¼Œæ‰€ä»¥å¯¹äºè¿™ç§æƒ…å†µï¼ŒJoiner å¯ä»¥é‡å¤å‘æ³¨å†Œè¯·æ±‚ï¼Œå¦‚æœ IdRegistry æ ¹æ® token å‘ç°å·²æ³¨å†ŒæˆåŠŸçš„ click_id å’Œå½“å‰æ”¶åˆ°çš„ click_id æ¥è‡ªåŒä¸€ä¸ª Joinerï¼Œåˆ™ä¹Ÿä¼šè¿”å›æ³¨å†ŒæˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æ³¨å†ŒæˆåŠŸï¼Œåˆå¹¶ç»“æœå†™å…¥å¼‚å¸¸ï¼Œå¼‚å¸¸åˆ†ä¸º 2 ç§ï¼Œéœ€è¦è§£å†³ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å†™å…¥ä¹‹å‰ï¼ŒJoiner èŠ‚ç‚¹å®•æœºæˆ–é‡å¯&lt;/li&gt;
&lt;li&gt;åˆå¹¶ç»“æœå®é™…å†™å…¥æˆåŠŸï¼Œä½†å› ä¸ºç½‘ç»œåŸå› ï¼ŒJoiner æœªæ”¶åˆ°å“åº”&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ºå°½å¯èƒ½å‡å°‘å› æŸä¸ª Joiner èŠ‚ç‚¹ç¡¬ä»¶å¼‚å¸¸å¯¼è‡´çš„ join ç»“æœä¸¢å¤±ï¼ŒIdRegistry å¯¹äºå•ä¸ª Joiner çš„è¯·æ±‚æœ‰é™æµï¼Œè¿™ä¸ªé™æµä¼šé—´æ¥å¯¼è‡´ Joiner å¯¹ Dispatcher é™æµã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è¿›ä¸€æ­¥å‡å°‘å› ä¸ºä¸Šé¢2ç§å¼‚å¸¸æƒ…å†µä»¥åŠå…¶å®ƒå¼‚å¸¸å¯¼è‡´çš„ Join ç»“æœä¸¢å¤±ï¼ŒPhoton è¿˜æä¾›ä¸€ä¸ªæ ¡éªŒç³»ç»Ÿï¼šè·å–åŸå§‹ç‚¹å‡»äº‹ä»¶æ—¥å¿—ï¼Œå¦‚æœè¯¥æ—¥å¿— click_id åœ¨ IdRegistry ä¸­å­˜åœ¨ï¼Œä½†åˆå¹¶ç»“æœä¸­ä¸å­˜åœ¨ï¼Œåˆ™æ ¹æ® IdRegistry å­˜å‚¨çš„å¯¹åº” click_id çš„ tokenï¼Œåˆ¤æ–­å¯¹åº”çš„ Joiner æ˜¯å¦å­˜æ´»ï¼Œå¦‚æœå­˜æ´»ï¼Œåˆ™äº¤äºè¯¥ Joiner é‡æ–°å¤„ç†ï¼Œå¦‚æœå¯¹åº”çš„ Joiner å·²ä¸å­˜åœ¨ï¼Œåˆ™ä» IdRegistry ä¸­åˆ é™¤è¯¥ click_id è®°å½•ï¼Œç„¶åäº¤äºä»»ä¸€ Joiner æ¥å¤„ç†ï¼Œéƒ½ä¸€æ ·ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;EventStore è·å–åŸå§‹çš„æ›å…‰æ—¥å¿—ï¼Œå‘ Joiner æä¾›æŸ¥è¯¢æ¥å£ï¼Œè¿”å›åŸå§‹çš„æ›å…‰æ—¥å¿—å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºæ—¶é—´å±€éƒ¨æ€§ï¼ŒEventStore å†…éƒ¨åˆ† 2 å±‚ï¼Œç¬¬ä¸€å±‚ä¸º CacheEventStore - ä¸€ä¸ªç±»ä¼¼ Memcached çš„ KV å†…å­˜æ˜ å°„ï¼ŒK æ˜¯ query_idï¼ŒV æ˜¯æ›å…‰æ—¥å¿—å†…å®¹ï¼ŒåŸºäºä¸€è‡´æ€§å“ˆå¸Œç®—æ³•æ ¹æ® query_id è¿›è¡Œåˆ†ç‰‡ï¼Œç¼“å­˜å‡ åˆ†é’Ÿæœ€æ–°çš„æ›å…‰æ—¥å¿—æ•°æ®ï¼Œå¯ä»¥å‘½ä¸­ 90% å·¦å³çš„æŸ¥è¯¢è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ CacheEventStore æŸ¥è¯¢ missï¼Œåˆ™äº¤äºç¬¬äºŒå±‚ LogsEventStore æ¥å¤„ç†ã€‚LogsEventStore å¯¹ query_id å’Œ æ›å…‰æ—¥å¿—æ‰€åœ¨çš„æ—¥å¿—æ–‡ä»¶åŠç›®æ ‡èµ·å§‹è¡Œï¼ˆå› ä¸ºæ—¥å¿—æ–‡ä»¶æ•°æ®å¤§è‡´æŒ‰æ—¶é—´æˆ³æœ‰åºï¼Œæ ¹æ® query_id ä¸­çš„æ—¶é—´æˆ³å¤§è‡´å¯ä»¥çŸ¥é“æŸ¥è¯¢çš„èµ·å§‹è¡Œï¼‰å»ºç«‹ç´¢å¼•ï¼ˆå®é™…å­˜å‚¨åœ¨ BigTable ä¸­ï¼‰ï¼ŒæŸ¥è¯¢æ—¶ï¼Œå…ˆæ ¹æ® query_idï¼ŒæŸ¥åˆ°ç›®æ ‡æ—¥å¿—æ–‡ä»¶å’Œèµ·å§‹è¡Œï¼Œç„¶åä»æ—¥å¿—æ–‡ä»¶ä¸­è¯»å–åŸå§‹æ›å…‰æ—¥å¿—å†…å®¹ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="è®ºæ–‡"></category><category term="ç¬”è®°"></category></entry><entry><title>è¯»æ–‡ç¬”è®°ï¼šæ—¥å¿— - æ¯ä¸ªè½¯ä»¶å·¥ç¨‹å¸ˆéƒ½åº”è¯¥äº†è§£çš„å®æ—¶æ•°æ®ç»Ÿä¸€æŠ½è±¡</title><link href="http://youngsterxyf.github.io/2019/10/10/reading-the-log/" rel="alternate"></link><published>2019-10-10T00:00:00+08:00</published><updated>2019-10-10T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2019-10-10:/2019/10/10/reading-the-log/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying"&gt;The Log: What every software engineer should know about real-time data's unifying abstraction&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸€å¥è¯æ¦‚æ‹¬ï¼Œè¿™ç¯‡æ–‡ç« ç»†è¯´äº† Kafka çš„æœ¬è´¨åŸç†ã€è§£å†³çš„é—®é¢˜ã€é€‚ç”¨æ€§ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Kafka æœ¬è´¨ä¸Šæ˜¯æä¾›æ—¥ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying"&gt;The Log: What every software engineer should know about real-time data's unifying abstraction&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸€å¥è¯æ¦‚æ‹¬ï¼Œè¿™ç¯‡æ–‡ç« ç»†è¯´äº† Kafka çš„æœ¬è´¨åŸç†ã€è§£å†³çš„é—®é¢˜ã€é€‚ç”¨æ€§ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Kafka æœ¬è´¨ä¸Šæ˜¯æä¾›æ—¥å¿—æ•°æ®æµã€‚&lt;/p&gt;
&lt;p&gt;æ—¥å¿—æ˜¯å®¢è§‚ä¸–ç•Œçš„äº‹ä»¶è®°å½•ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A log is perhaps the simplest possible storage abstraction. It is an append-only, totally-ordered sequence of records ordered by time.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ—¥å¿—æ•°æ®çš„ç‰¹ç‚¹æ˜¯ï¼šåªå¢ä¸æ”¹ï¼Œè‡ªå¸¦æ—¶é—´æˆ³ï¼Œæ•°æ®å­˜å‚¨çš„å…ˆåé¡ºåºå³ï¼ˆå¤§è‡´ï¼‰æ˜¯å®é™…å‘ç”Ÿçš„æ—¶é—´å…ˆåé¡ºåºã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®åº“å¯ä»¥åŸºäºæ—¥å¿—æ¥è¿˜åŸå†å²æ“ä½œè¡Œä¸ºï¼Œå¹¶æœ€ç»ˆç”Ÿæˆæœ€æ–°çŠ¶æ€ï¼Œä¸»ä»åŒæ­¥å°±æ˜¯è¿™ä¹ˆå¹²çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿè€Œè¨€ï¼Œæ—¥å¿—å¯ä»¥è§£å†³ 2 ä¸ªé—®é¢˜ï¼šæŒ‰åºæ”¹å˜çŠ¶æ€å’Œåˆ†å‘æ•°æ®ï¼ˆordering changes and distributing dataï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;çŠ¶æ€æœºå¤åˆ¶åŸåˆ™ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If two identical, deterministic processes begin in the same state and get the same inputs in the same order, they will produce the same output and end in the same state.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å„ä¸ªèŠ‚ç‚¹å¯ä»¥ä¾æ®æ—¥å¿—æ¥åŒæ­¥çŠ¶æ€ï¼Œè¾¾åˆ°ï¼ˆæœ€ç»ˆï¼‰ä¸€è‡´æ€§ã€‚å¹¶ä¸”ï¼Œå¯ä»¥ä¾æ®èŠ‚ç‚¹å¤„ç†åˆ°å“ªè¡Œæ—¥å¿—å³å¯ç¡®å®š/è¡¨è¾¾è¯¥èŠ‚ç‚¹çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆæ—¥å¿—ï¼‰äº‹ä»¶æµï¼ˆeventsï¼‰å’Œæ•°æ®è¡¨ï¼ˆtablesï¼‰æ˜¯ä¸€ä½“ä¸¤é¢ï¼ˆa facinating dualityï¼‰ï¼šæ•°æ®è¡¨çš„å˜æ›´æ“ä½œå³æ˜¯ä¸€ä¸ªæ—¥å¿—äº‹ä»¶æµï¼ŒåŸºäºæ—¥å¿—äº‹ä»¶æµå¯ä»¥ç”Ÿæˆæ•°æ®è¡¨ï¼Œå¹¶å°†å…¶çŠ¶æ€ä¸æ–­æ›´æ–°åˆ°æœ€æ–°ï¼Œæ•°æ®è¡¨çš„çŠ¶æ€æ˜¯æ—¥å¿—äº‹ä»¶æµçš„åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„åˆ‡é¢ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;events -&amp;gt; table -&amp;gt; events = events &amp;lt;-&amp;gt; table&lt;/p&gt;
&lt;p&gt;The magic of the log is that if it is a complete log of changes, it holds not only the contents of the final version of the table, but also allows recreating all other versions that might have existed. It is, effectively, a sort of backup of every previous state of the table.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æºç ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆæ¯”å¦‚ gitï¼‰ä¹Ÿæ˜¯åŸºäºæ—¥å¿—å®ç°çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä¸€æ¬¡ commit ç›¸å½“äºä¸€æ¬¡æ—¥å¿—è®°å½•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¯¹äºäº’è”ç½‘/é‡‘èç­‰è¡Œä¸šçš„å…¬å¸æ¥è¯´ï¼Œæ•°æ®æ˜¯é‡è¦èµ„äº§ï¼Œå¦‚ä½•å°½å¯èƒ½å‘æŒ¥æ•°æ®çš„æ½œåœ¨ä»·å€¼ä¸ºå…¬å¸å¢æ”¶ï¼Œè‡³å…³é‡è¦ã€‚å› ä¸ºç®¡ç†ã€æŠ€æœ¯ä¸Šçš„åŸå› ï¼Œå…¬å¸é€šå¸¸åˆ†å¤šä¸ªä¸šåŠ¡éƒ¨é—¨ï¼Œå„ä¸šåŠ¡éƒ¨é—¨æä¾›è‹¥å¹²æœåŠ¡ï¼Œå„ä¸ªæœåŠ¡éƒ½ä¼šäº§å‡ºæ•°æ®ï¼Œè¿™äº›æ•°æ®å¾ˆå¯èƒ½éœ€è¦è·¨éƒ¨é—¨è·¨æœåŠ¡æµé€šï¼Œæµé€šçš„é€Ÿåº¦è¶Šå¿«ï¼Œå‘¨æœŸè¶ŠçŸ­ï¼Œæ”¶ç›Šè¶Šå¤§ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥å‰ï¼Œæ•°æ®çš„å¤„ç†æ–¹å¼ä¸»è¦æ˜¯æ‰¹å¤„ç†ï¼Œå¹¶ä¸æ˜¯å› ä¸ºæ²¡æœ‰æµå¤„ç†çš„æŠ€æœ¯ï¼Œè€Œæ˜¯æ•°æ®æµé€šçš„åŸºç¡€è®¾æ–½è·Ÿä¸ä¸Šï¼Œæ²¡åšåˆ°æŒç»­çš„æ•°æ®æµã€‚&lt;strong&gt;ï¼ˆæ³¨ï¼šè¿™ä¸ªè¯´æ³•ï¼Œæˆ‘ä¸ªäººåªéƒ¨åˆ†è®¤åŒï¼Œå¾ˆå¤šæ—¶å€™ï¼Œæ‰¹å¤„ç†çš„æ—¶å»¶å’Œæ”¶ç›Šå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ï¼Œå®æ—¶æµå¤„ç†çš„è¾¹é™…æ•ˆç›Šå¯èƒ½å¹¶ä¸æ˜æ˜¾ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æµå¼å¤„ç†æ˜¯æ‰¹å¤„ç†çš„æ³›åŒ–å½¢å¼ï¼ˆstream processing is a generalization of batch processing, and, given the prevalence of real-time data, a very important generalizationï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…å› æ•°æ®æµé€šå¯¼è‡´å„ä¸ªæœåŠ¡ä¹‹é—´çš„ç›´æ¥è€¦åˆï¼Œæ–°å¢ä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®é€šé“ä¸­é—´æœåŠ¡ï¼Œå„ä¸ªæœåŠ¡åªç®¡å¯¹æ•°æ®é€šé“è¿›è¡Œå†™å…¥æˆ–è¯»å‡ºï¼Œä¸ç”¨å…³å¿ƒæ•°æ®æ˜¯å“ªä¸ªæœåŠ¡å†™å…¥çš„ï¼Œæˆ–è€…å“ªäº›æœåŠ¡åœ¨æ¶ˆè´¹/ä½¿ç”¨è‡ªå·±äº§å‡ºçš„æ•°æ®ã€‚&lt;strong&gt;ï¼ˆè§£è€¦ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®çš„é€Ÿç‡å¯èƒ½ä¸ä¸€æ ·ï¼Œä¹Ÿå¯èƒ½ä¼šç»å†å¼‚å¸¸é‡å¯ç­‰æƒ…å†µï¼Œè®©æ¶ˆè´¹è€…æ¥æ§åˆ¶é€Ÿç‡ï¼Œå¹¶ä¸”å¤šä¸ªæ¶ˆè´¹è€…ä¹‹é—´ä¸ä¼šç›¸äº’å¹²æ‰°ï¼Œä¼šæ›´å¥½ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºæ•°æ®æµé€šçš„éœ€æ±‚å’Œæ—¥å¿—çš„ç†å¿µï¼ŒLinkedin è®¾è®¡å¼€å‘äº† Kafkaã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ—¥å¿—æ•°æ®é‡å¯èƒ½ä¼šå¾ˆå¤§ï¼Œæ—¥å¿—æ•°æ®æœ¬è´¨ä¸Šæ˜¯æœ‰åºä¸²è¡Œçš„ï¼Œå¦‚æœæ”¯æŒæ•°æ®åˆ†ç‰‡ï¼Œåˆ†ç‰‡ä¹‹é—´å¹¶è¡Œæ¶ˆè´¹ï¼Œåˆ†ç‰‡å†…æ—¥å¿—æ•°æ®å…¨å±€æœ‰åºï¼Œæ•°æ®æµé€šçš„ååèƒ½åŠ›å°±å¯ä»¥æ— é™æ‰©å±•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;åŸºäº Kafka è¿™ç±»æ•°æ®ç®¡é“ï¼ŒæœåŠ¡ä¹‹é—´å¯ä»¥å®ç°å¤šçº§ä¸²è”ã€‚ï¼ˆæ³¨ï¼šæˆ‘ä»¬ç°åœ¨åšçš„æœåŠ¡å°±æ˜¯è¿™ä¹ˆå¹²ï¼‰&lt;/p&gt;
&lt;p&gt;è¿™ç§åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„ä¸­ï¼Œè‡³å°‘æ¶‰åŠ producerï¼ˆç”Ÿäº§è€…ï¼‰ã€brokerï¼ˆä¸­é—´äººï¼‰ã€consumerï¼ˆæ¶ˆè´¹è€…ï¼‰ä¸‰ä¸ªè§’è‰²ï¼Œè§’è‰²ä¹‹é—´åœ¨æŸäº›å·¥ä½œä¸Šå¦‚ä½•åˆ†å·¥ä¹Ÿæ˜¯å€¼å¾—æ€è€ƒçš„ï¼š&lt;/p&gt;
&lt;p&gt;ç”Ÿäº§è€…äº§ç”Ÿçš„æ•°æ®åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ - ç»Ÿä¸€æ ¼å¼/ç¼–ç ã€æ–¹ä¾¿è§£æ&lt;/p&gt;
&lt;p&gt;ä¸­é—´äººï¼ˆkafkaï¼‰éœ€è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ- å¯¹äºå•ä¸ªç”Ÿäº§è€…å†™å…¥çš„æ•°æ®ï¼Œä¿è¯æŒ‰å†™å…¥é¡ºåºæœ‰åºåœ°åˆ†å‘ç»™æ¶ˆè´¹è€…ï¼›è§£å†³æ•°æ®é«˜å¯ç”¨ï¼Œé«˜ååèƒ½åŠ›ï¼›æ”¯æŒå›æº¯/é‡å¤æ¶ˆè´¹ï¼ˆå› æ­¤æ•°æ®éœ€è¦ä¿ç•™æŒ‡å®šæ—¶é—´é•¿åº¦ï¼‰ï¼Œä»è€Œæ¶ˆè´¹è€…å‡ºé—®é¢˜åå¯ä»¥ä»å¤´æ¶ˆè´¹æ•°æ®æ¢å¤çŠ¶æ€ã€‚å› ä¸ºæ”¯æŒå¾ˆå¤šæ¶ˆè´¹è€…æ¶ˆè´¹åŒä¸€ä¸ªæ•°æ®æµï¼Œæ‰€ä»¥å¹³å‡ä¸‹æ¥ï¼ŒKafka æœåŠ¡çš„æˆæœ¬ä¼šæ¯”è¾ƒä½ã€‚&lt;/p&gt;
&lt;p&gt;æ¶ˆè´¹è€…æŒ‰å„è‡ªçš„éœ€æ±‚è¿›è¡Œæ•°æ®è½¬æ¢å­˜å‚¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¯¹äºå®ç°é«˜ååèƒ½åŠ›ï¼Œé™¤äº†åˆ†ç‰‡ï¼ŒKakfa è¿˜å……åˆ†åˆ©ç”¨äº†æ”’æ‰¹å¤„ç†ï¼šç”Ÿäº§è€…å¯ä»¥æ‰¹é‡å‘é€ï¼Œä¸­é—´äººå°†æ•°æ®æ”’æ‰¹å†™å…¥ç£ç›˜æ—¥å¿—æ–‡ä»¶ ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œç”±äºæ¶‰åŠå¤§é‡çš„ç£ç›˜æ–‡ä»¶å’Œç½‘ç»œä¹‹é—´æ•°æ®è¯»å†™ï¼ŒKafka è¿˜å……åˆ†åˆ©ç”¨æ“ä½œç³»ç»Ÿå†…æ ¸çš„é›¶æ‹·è´ä¼ è¾“èƒ½åŠ›ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="è®ºæ–‡"></category><category term="ç¬”è®°"></category></entry><entry><title>Lucene æŸ¥è¯¢è§£æå™¨è¯­æ³•ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2019/09/04/lucene-query-parser-syntax/" rel="alternate"></link><published>2019-09-04T00:00:00+08:00</published><updated>2019-09-04T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2019-09-04:/2019/09/04/lucene-query-parser-syntax/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://lucene.apache.org/core/8_2_0/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#package.description"&gt;Query Parser Syntax&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;æ¦‚è§ˆ&lt;/h2&gt;
&lt;p&gt;Lucene é™¤äº†æä¾› API æ–¹ä¾¿å¼€å‘è€…åˆ›å»ºæŸ¥è¯¢è¯·æ±‚ï¼Œè¿˜é€šè¿‡ä¸€ä¸ªæŸ¥è¯¢è§£æå™¨ï¼ˆä¸€ä¸ªè¯æ³•åˆ†æå™¨ï¼Œä½¿ç”¨ JavaCC å°†ä¸€ä¸ªå­—ç¬¦ä¸² â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://lucene.apache.org/core/8_2_0/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#package.description"&gt;Query Parser Syntax&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;æ¦‚è§ˆ&lt;/h2&gt;
&lt;p&gt;Lucene é™¤äº†æä¾› API æ–¹ä¾¿å¼€å‘è€…åˆ›å»ºæŸ¥è¯¢è¯·æ±‚ï¼Œè¿˜é€šè¿‡ä¸€ä¸ªæŸ¥è¯¢è§£æå™¨ï¼ˆä¸€ä¸ªè¯æ³•åˆ†æå™¨ï¼Œä½¿ç”¨ JavaCC å°†ä¸€ä¸ªå­—ç¬¦ä¸²ç¿»è¯‘æˆä¸€ä¸ª Lucene æŸ¥è¯¢ï¼‰æä¾›ä¸€ç§åŠŸèƒ½ä¸°å¯Œçš„æŸ¥è¯¢è¯­è¨€ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼ŒæŸ¥è¯¢è§£æå™¨æ”¯æŒçš„è¯­æ³•åœ¨ä¸åŒå‘å¸ƒç‰ˆæœ¬ä¹‹é—´å¯èƒ½ä¼šæœ‰å˜åŒ–ã€‚å½“å‰è¿™ä¸ªæ–‡æ¡£é¡µé¢æè¿°çš„æ˜¯å½“å‰è¿™ä¸ªå‘å¸ƒç‰ˆæœ¬çš„è¯­æ³•ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªä¸åŒç‰ˆæœ¬çš„ Luceneï¼Œè¯·å‚è€ƒè¯¥ç‰ˆæœ¬è‡ªå¸¦çš„ docs/queryparsersyntax.html æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é€‰æ‹©ä½¿ç”¨è¿™ä¸ªæŸ¥è¯¢è§£æå™¨ä¹‹å‰ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹ 3 ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä½ å‡†å¤‡ä»¥ç¼–ç¨‹çš„æ–¹å¼ç”Ÿæˆä¸€ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨æŸ¥è¯¢è§£æå™¨æ¥è§£æå®ƒã€‚é‚£ä¹ˆï¼Œä½ åº”è¯¥è®¤çœŸè€ƒè™‘ä¸€ä¸‹æ˜¯å¦åº”è¯¥ç›´æ¥ä½¿ç”¨æŸ¥è¯¢ API æ¥æ„å»ºæŸ¥è¯¢ã€‚æ¢å¥è¯è¯´ï¼ŒæŸ¥è¯¢è§£æå™¨ä¸“é—¨ç”¨äºäººç±»è¾“å…¥çš„æ–‡æœ¬ï¼Œè€Œä¸æ˜¯ç¨‹åºç”Ÿæˆçš„æ–‡æœ¬ã€‚&lt;/li&gt;
&lt;li&gt;ä¸å¯åˆ†è¯ï¼ˆuntokenizedï¼‰çš„åŸŸï¼ˆè¯‘è€…æ³¨ï¼šæŠ±æ­‰ï¼Œæ­¤å¤„æ²¡å¤ªç†è§£ï¼‰æœ€å¥½ç›´æ¥æ·»åŠ åˆ°æŸ¥è¯¢ä¸­ï¼Œè€Œä¸æ˜¯é€šè¿‡æŸ¥è¯¢è§£æå™¨æ¥è§£æã€‚å¦‚æœä¸€ä¸ªåŸŸçš„å€¼æ˜¯é€šè¿‡åº”ç”¨è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œé‚£ä¹ˆåº”è¯¥ä¸ºè¿™ä¸ªåŸŸè‡ªåŠ¨ç”ŸæˆæŸ¥è¯¢å­å¥ã€‚åˆ†æå™¨ï¼ˆæŸ¥è¯¢è§£æå™¨æ‰€ä½¿ç”¨çš„ï¼‰æ˜¯ä¸“é—¨ç”¨äºå°†äººç±»è¾“å…¥çš„æ–‡æœ¬è½¬æ¢æˆä¸€äº›è¯ï¼ˆtermsï¼‰ï¼Œé‚£ä¹ˆç¨‹åºè‡ªåŠ¨ç”Ÿæˆçš„å€¼ï¼Œä¹Ÿåº”è¯¥ç”±ç¨‹åºè‡ªåŠ¨æ·»åŠ åˆ°æŸ¥è¯¢ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;ä»æŸ¥è¯¢å½¢å¼æ¥çœ‹ï¼Œå¦‚æœåŸŸçš„å€¼æ˜¯æ™®é€šæ–‡æœ¬ï¼Œåˆ™åº”è¯¥ä½¿ç”¨æŸ¥è¯¢è§£æå™¨ã€‚æ‰€æœ‰å…¶å®ƒå€¼ç±»å‹ï¼Œæ¯”å¦‚ï¼šæ—¥æœŸèŒƒå›´ã€å…³é”®è¯ç­‰ç­‰ï¼Œæœ€å¥½é€šè¿‡æŸ¥è¯¢ API ç›´æ¥æ·»åŠ ã€‚å¦‚æœä¸€ä¸ªåŸŸçš„å€¼ä»…é™äºä¸€ä¸ªæœ‰é™çš„é›†åˆï¼ˆå¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‹æ‹‰èœå•æŒ‡å®šï¼‰ï¼Œåˆ™ä¸åº”è¯¥æ·»åŠ åˆ°æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆåç»­ä¼šè¢«è§£æï¼‰ä¸­ï¼Œè€Œæ˜¯åº”è¯¥ä½œä¸ºä¸€ä¸ª TermQuery å­å¥æ·»åŠ åˆ°æŸ¥è¯¢ä¸­ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;è¯ï¼ˆTermsï¼‰&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªæŸ¥è¯¢è¯­å¥å¯ä»¥æ‹†è§£æˆ è¯ï¼ˆtermsï¼‰ å’Œ æ“ä½œç¬¦ï¼ˆoperatorsï¼‰ã€‚è¯åˆåˆ†ä¸ºä¸¤ç§ï¼šå•ä¸ªè¯ï¼ˆsingle Termsï¼‰å’ŒçŸ­è¯­ï¼ˆPhrasesï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å•ä¸ªè¯æ˜¯æŒ‡ â€testâ€œ æˆ– â€Helloâ€œ è¿™ç±»å•è¯ã€‚&lt;/p&gt;
&lt;p&gt;çŸ­è¯­æ˜¯æŒ‡ä»¥åŒå¼•å·åŒ…å›´èµ·æ¥çš„ä¸€ç»„å•è¯ï¼Œæ¯”å¦‚ï¼šâ€hello dollyâ€œã€‚&lt;/p&gt;
&lt;p&gt;å¤šä¸ªè¯ï¼ˆMultiple termsï¼‰å¯ä»¥ä½¿ç”¨å¸ƒå°”æ“ä½œç¬¦ç»„åˆåœ¨ä¸€èµ·ï¼Œå®ç°ä¸€ä¸ªæ›´åŠ å¤æ‚çš„æŸ¥è¯¢ï¼ˆå¦‚ä¸‹æ–‡æ‰€ç¤ºï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¤‡æ³¨ï¼šç”¨äºåˆ›å»ºç´¢å¼•çš„è§£æå™¨ä¹Ÿä¼šç”¨äºè§£ææŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„è¯å’ŒçŸ­è¯­ã€‚å› æ­¤ï¼Œé€‰æ‹©åˆé€‚çš„è§£æå™¨å¾ˆé‡è¦ï¼Œå¦åˆ™è§£æå™¨å¯èƒ½ä¼šè¢«æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„è¯å¹²æ‰°ï¼ˆè¯‘è€…æ³¨ï¼šè¿™å¥åº”è¯¥æ˜¯æŒ‡è‹±æ–‡è§£æå™¨å¯èƒ½æ— æ³•å¯¹ä¸­æ–‡è¿›è¡Œæ­£ç¡®åˆ†è¯çš„é—®é¢˜ï¼‰ã€‚&lt;/p&gt;
&lt;h2&gt;åŸŸï¼ˆFieldsï¼‰&lt;/h2&gt;
&lt;p&gt;Lucene æ”¯æŒåˆ†å¤šä¸ªå­—æ®µ/åŸŸçš„æ•°æ®ã€‚æœç´¢æ—¶ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªåŸŸï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤åŸŸã€‚åŸŸçš„åç§°ä»¥åŠé»˜è®¤åŸŸä¸å…·ä½“å®ç°ç›¸å…³ã€‚&lt;/p&gt;
&lt;p&gt;è¾“å…¥åŸŸçš„åç§°ï¼Œåè·Ÿä¸€ä¸ªå†’å·ï¼ˆ:ï¼‰ï¼Œä»¥åŠç›®æ ‡æœç´¢è¯ï¼Œå³å¯å¯¹ä»»æ„ä¸€ä¸ªåŸŸè¿›è¡Œæœç´¢ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾ä¸€ä¸ª Lucene ç´¢å¼•åŒ…å« 2 ä¸ªåŸŸï¼štitle å’Œ textï¼Œtext æ˜¯é»˜è®¤åŸŸã€‚è‹¥æƒ³æŸ¥æ‰¾æ ‡é¢˜ä¸º â€The Right Wayâ€œ ä¸”æ–‡æœ¬å†…å®¹åŒ…å« â€don't go this wayâ€œ çš„æ–‡æ¡£ï¼Œå¯ä»¥è¾“å…¥ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;title:&lt;span style="color: #a31515"&gt;&amp;quot;The Right Way&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;AND&lt;/span&gt; &lt;span style="color: #2b91af"&gt;text&lt;/span&gt;&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;&lt;span style="color: #0000ff"&gt;go&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ–è€…ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;title:&lt;span style="color: #a31515"&gt;&amp;quot;The Right Way&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;AND&lt;/span&gt; &lt;span style="color: #0000ff"&gt;go&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸º text æ˜¯é»˜è®¤åŸŸï¼Œæ‰€ä»¥åŸŸçš„æ ‡å¿—å¯ä»¥çœç•¥ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šæŒ‡å®šçš„åŸŸä»…å¯¹ç´§è·Ÿå…¶åçš„è¯ç”Ÿæ•ˆï¼Œå› æ­¤ï¼Œå¦‚ä¸‹æŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;title:The Right Way
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°†å¯¹ title åŸŸä»…æŸ¥æ‰¾ â€Theâ€œï¼Œå¹¶å¯¹é»˜è®¤åŸŸï¼ˆå½“å‰è¿™ä¸ªä¾‹å­ä¸­æ˜¯æŒ‡ text åŸŸï¼‰æŸ¥æ‰¾ â€Rightâ€œ å’Œ â€Wayâ€œã€‚&lt;/p&gt;
&lt;h2&gt;è¯ä¿®é¥°è¯­ï¼ˆTerm Modifiersï¼‰&lt;/h2&gt;
&lt;p&gt;Lucene æ”¯æŒä¿®é¥°æŸ¥è¯¢è¯ï¼ˆmodifying query termsï¼‰æ¥æä¾›å¤šç§æœç´¢æ–¹å¼ã€‚&lt;/p&gt;
&lt;h3&gt;é€šé…ç¬¦æœç´¢&lt;/h3&gt;
&lt;p&gt;Lucene æ”¯æŒå¯¹å•ä¸ªè¯(single terms)ï¼ˆä¸æ˜¯çŸ­è¯­æŸ¥è¯¢ phrase queriesï¼‰è¿›è¡Œå•ä¸ªå­—ç¬¦å’Œå¤šä¸ªå­—ç¬¦çš„é€šé…æœç´¢ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;?&lt;/code&gt; ç¬¦å·è¿›è¡Œå•ä¸ªå­—ç¬¦çš„é€šé…æœç´¢ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;*&lt;/code&gt; ç¬¦å·è¿›è¡Œå¤šä¸ªå­—ç¬¦çš„é€šé…æœç´¢ã€‚&lt;/p&gt;
&lt;p&gt;å•å­—ç¬¦é€šé…æœç´¢ç”¨äºæŸ¥æ‰¾æ›¿æ¢å•ä¸ªå­—ç¬¦å³å¯åŒ¹é…çš„è¯ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œè‹¥è¦æœç´¢ â€textâ€œ æˆ– â€testâ€œï¼Œå¯ä»¥å¦‚ä¸‹æŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;te?t
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¤šå­—ç¬¦é€šé…æœç´¢ç”¨äºæŸ¥æ‰¾æ›¿æ¢0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦å³å¯åŒ¹é…çš„è¯ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œè‹¥è¦æœç´¢ â€testâ€œã€â€testsâ€œ æˆ– â€testerâ€œï¼Œå¯ä»¥å¦‚ä¸‹æŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;test*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥å¯¹è¯çš„ä¸­é—´éƒ¨åˆ†è¿›è¡Œé€šé…æœç´¢ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;te*t
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¤‡æ³¨ï¼šä¸å¯ä»¥å°† &lt;code&gt;*&lt;/code&gt; æˆ– &lt;code&gt;?&lt;/code&gt; ç¬¦å·ç”¨ä½œä¸€æ¬¡æœç´¢çš„é¦–ä¸ªå­—ç¬¦ã€‚&lt;/p&gt;
&lt;h3&gt;æ­£åˆ™è¡¨è¾¾å¼æœç´¢&lt;/h3&gt;
&lt;p&gt;Lucene æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼æœç´¢ï¼ŒåŒ¹é…æ–œæ ï¼ˆ&lt;code&gt;/&lt;/code&gt;ï¼‰ ä¹‹é—´çš„æ¨¡å¼ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•åœ¨ä¸åŒçš„å‘å¸ƒç‰ˆæœ¬ä¹‹é—´å¯èƒ½ä¼šæœ‰å·®å¼‚ï¼Œç›®å‰æ”¯æŒçš„è¯­æ³•åœ¨ &lt;a href="http://lucene.apache.org/core/8_2_0/core/org/apache/lucene/util/automaton/RegExp.html?is-external=true"&gt;RegExp&lt;/a&gt; ç±»æ–‡æ¡£ä¸­æœ‰è¯´æ˜ã€‚ä¸¾ä¾‹æ¥è¯´ï¼ŒæŸ¥æ‰¾åŒ…å« â€moatâ€œ æˆ– â€boatâ€œ çš„æ–‡æ¡£ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/[mb]oat/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;æ¨¡ç³Šæœç´¢&lt;/h3&gt;
&lt;p&gt;Lucene æ”¯æŒåŸºäº Damerau-Levenshtein ç¼–è¾‘è·ç¦»çš„æ¨¡ç³Šæœç´¢ã€‚åœ¨å•ä¸ªè¯çš„æœ€åæ·»åŠ æ³¢æµªç¬¦ï¼ˆ~ï¼‰å³å¯è¿›è¡Œæ¨¡ç³Šæœç´¢ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½¿ç”¨æ¨¡ç³Šæœç´¢æŸ¥æ‰¾æ‹¼å†™ä¸Šè¿‘ä¼¼ â€roamâ€œ çš„è¯ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;roam~
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªæŸ¥è¯¢è¯­å¥ä¼šæ‰¾åˆ° foam å’Œ roams è¿™ç±»è¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡ç³Šæœç´¢å¯ä»¥é€šè¿‡ä¸€ä¸ªé¢å¤–ï¼ˆå¯é€‰ï¼‰çš„å‚æ•°æ¥æŒ‡å®šå…è®¸çš„æœ€å¤§ç¼–è¾‘æ¬¡æ•°ã€‚è¿™ä¸ªå‚æ•°å€¼ç•Œäº 0 å’Œ 2 ä¹‹é—´ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;roam~1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæœªæŒ‡å®šè¯¥å‚æ•°ï¼Œåˆ™é»˜è®¤ä½¿ç”¨ 2 ä¸ªç¼–è¾‘è·ç¦»ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥å‰ï¼Œè¿™é‡Œè¿˜å…è®¸ä½¿ç”¨æµ®ç‚¹æ•°ã€‚ç°åœ¨è¿™ä¸ªè¯­æ³•å·²è¢«è€ƒè™‘å¼ƒç”¨ï¼Œå°†äº Lucene 5.0 ä¸­ç§»é™¤ã€‚&lt;/p&gt;
&lt;h3&gt;é‚»è¿‘æœç´¢&lt;/h3&gt;
&lt;p&gt;Lucene æ”¯æŒæŸ¥æ‰¾æŒ‡å®šè·ç¦»çš„é‚»è¿‘è¯ã€‚åœ¨çŸ­è¯­çš„æœ€åæ·»åŠ æ‹¨æµªç¬¦ï¼ˆ~ï¼‰å³å¯è¿›è¡Œé‚»è¿‘æœç´¢ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨æ–‡æ¡£ä¸­æœç´¢ â€apacheâ€œ å’Œ â€jakartaâ€œ ç›¸è· 10 ä¸ªè¯çš„æ¨¡å¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;quot;jakarta apache&amp;quot;~10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;èŒƒå›´æœç´¢&lt;/h3&gt;
&lt;p&gt;èŒƒå›´æŸ¥è¯¢å¯ä»¥è¦æ±‚åŸŸçš„å€¼åœ¨èŒƒå›´æŸ¥è¯¢è¯­å¥æŒ‡å®šçš„ä¸Šä¸‹ç•Œä¹‹é—´ã€‚èŒƒå›´æŸ¥è¯¢å¯¹äºä¸Šä¸‹ç•Œå¯ä»¥åŒ…å«ä¹Ÿå¯ä»¥ä¸åŒ…å«ã€‚æ’åºæŒ‰ç…§å­—å…¸åºè¿›è¡Œã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;mod_date:[20020101 TO 20030101]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªæŸ¥è¯¢è¯­å¥ä¼šæŸ¥æ‰¾ mod_date åŸŸçš„å€¼åœ¨ 20020101 å’Œ 20030101 ï¼ˆåŒ…å«ä¸Šä¸‹ç•Œï¼‰ ä¹‹é—´çš„æ–‡æ¡£ã€‚æ³¨æ„ï¼šèŒƒå›´æŸ¥è¯¢å¹¶ä¸æ˜¯ä»…é€‚ç”¨äºæ—¥æœŸåŸŸï¼Œä¹Ÿå¯ä»¥å¯¹éæ—¥æœŸçš„åŸŸè¿›è¡ŒèŒƒå›´æŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;title:{Aida TO Carmen}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªæŸ¥è¯¢è¯­å¥ä¼šæŸ¥æ‰¾åˆ° title åŸŸçš„å€¼åœ¨ Aida å’Œ Carmen ï¼ˆä¸åŒ…å«ä¸Šä¸‹ç•Œï¼‰ä¹‹é—´çš„æ‰€æœ‰æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;p&gt;åŒ…å«ä¸Šä¸‹ç•Œçš„èŒƒå›´æŸ¥è¯¢ä½¿ç”¨æ–¹æ‹¬å·æ¥è¡¨ç¤ºã€‚ä¸åŒ…å«ä¸Šä¸‹ç•Œçš„èŒƒå›´æŸ¥è¯¢ä½¿ç”¨å¤§æ‹¬å·æ¥è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;h3&gt;è¯åŠ æƒï¼ˆBoosting a termï¼‰&lt;/h3&gt;
&lt;p&gt;Lucene ä¼šåŸºäºæ–‡æ¡£ä¸­æ‰¾åˆ°çš„è¯å¯¹åŒ¹é…åˆ°çš„æ–‡æ¡£æä¾›ç›¸å…³æ€§çº§åˆ«ï¼ˆè¯‘è€…ç–‘é—®ï¼šåŸºäºå‘é‡ä½™å¼¦æ¥è®¡ç®—ç›¸å…³æ€§ï¼Ÿï¼‰ã€‚å¯ä»¥åœ¨ç›®æ ‡æœç´¢è¯ä¹‹åç´§æ¥ä¸€ä¸ªè„±å­—ç¬¦ â€œ^â€ï¼Œåè·Ÿä¸€ä¸ªåŠ æƒç³»æ•°ï¼ˆä¸€ä¸ªæ•°å­—ï¼‰æ¥æå‡è¯¥æœç´¢è¯çš„ç›¸å…³æ€§æƒé‡ã€‚åŠ æƒç³»ç»Ÿè¶Šé«˜ï¼ŒæŸ¥è¯¢å‘½ä¸­çš„æ–‡æ¡£ä¸è¯¥è¯çš„ç›¸å…³æ€§è¶Šå¼ºã€‚&lt;/p&gt;
&lt;p&gt;åŠ æƒæ“ä½œå…è®¸å¯¹è¯è¿›è¡ŒåŠ æƒæ§åˆ¶æ–‡æ¡£çš„ç›¸å…³æ€§ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä½ æ­£åœ¨æœç´¢ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;jakarta apache
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åå¸Œæœ›æœç´¢ç»“æœå’Œè¯ â€jakartaâ€œ æ›´ç›¸å…³ä¸€äº›ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ â€^â€œ ç¬¦å·åè·Ÿä¸€ä¸ªåŠ æƒç³»æ•°å¯¹è¿™ä¸ªè¯è¿›è¡ŒåŠ æƒï¼Œå³å¦‚ä¸‹è¿™æ ·æŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;jakarta^4 apache
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¼šä½¿å¾—æŸ¥æ‰¾åˆ°çš„æ–‡æ¡£å’Œè¯ â€jakartaâ€œ çœ‹èµ·æ¥æ›´ç›¸å…³ä¸€äº›ã€‚ä¹Ÿå¯ä»¥å¯¹çŸ­è¯­è¿›è¡ŒåŠ æƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;quot;jakarta apache&amp;quot;^4 &amp;quot;Apache Lucene&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é»˜è®¤ï¼ŒåŠ æƒç³»æ•°æ˜¯ 1ã€‚åŠ æƒç³»ç»Ÿå¯ä»¥å°äº 1ï¼ˆæ¯”å¦‚ï¼š0.2ï¼‰ï¼Œä½†å¿…é¡»å¤§äº 0ã€‚&lt;/p&gt;
&lt;h2&gt;å¸ƒå°”æ“ä½œç¬¦&lt;/h2&gt;
&lt;p&gt;å¸ƒå°”æ“ä½œç¬¦å…è®¸ä½¿ç”¨é€»è¾‘æ“ä½œç¬¦ç»„åˆå¤šä¸ªè¯ã€‚Lucene æ”¯æŒçš„å¸ƒå°”æ“ä½œç¬¦åŒ…å« &lt;code&gt;AND&lt;/code&gt;ã€&lt;code&gt;+&lt;/code&gt;ã€&lt;code&gt;OR&lt;/code&gt;ã€&lt;code&gt;NOT&lt;/code&gt; åŠ &lt;code&gt;-&lt;/code&gt;ï¼ˆå¤‡æ³¨ï¼šå¸ƒå°”æ“ä½œç¬¦å¿…é¡»å…¨éƒ¨æ˜¯å¤§å†™å­—æ¯ï¼‰ã€‚&lt;/p&gt;
&lt;h3&gt;OR&lt;/h3&gt;
&lt;p&gt;â€œORâ€ æ“ä½œç¬¦æ˜¯é»˜è®¤çš„è¿æ¥æ“ä½œç¬¦ã€‚è¿™æ„å‘³ç€å¦‚æœä¸¤ä¸ªè¯ä¹‹é—´æ²¡æœ‰å¸ƒå°”æ“ä½œç¬¦ï¼Œåˆ™ä½¿ç”¨ â€œORâ€ æ“ä½œç¬¦ã€‚OR æ“ä½œç¬¦é“¾æ¥ä¸¤ä¸ªè¯ï¼Œå¹¶åŒ¹é…åŒ…å«å…¶ä¸­ä»»æ„ä¸€ä¸ªè¯çš„æ–‡æ¡£ã€‚è¿™ç›¸å½“äºé›†åˆçš„å¹¶é›†æ“ä½œã€‚â€œ||â€ ç¬¦åˆå¯ç”¨äºæ›¿ä»£å•è¯ â€œORâ€ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œä½¿ç”¨å¦‚ä¸‹æŸ¥è¯¢è¯­å¥æ¥æœç´¢åŒ…å« â€œjakarta apacheâ€ æˆ–ä»…æ˜¯ â€œjakartaâ€ çš„æ–‡æ¡£ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;quot;jakarta apache&amp;quot; jakarta
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ–ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;quot;jakarta apache&amp;quot; OR jakarta
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;AND&lt;/h3&gt;
&lt;p&gt;"AND" æ“ä½œç¬¦ä¼šåŒ¹é…æ–‡æœ¬å†…å®¹ä¸­åŒæ—¶å­˜åœ¨ä¸¤ä¸ªè¯ï¼ˆå› ä¸º AND æ˜¯äºŒå…ƒæ“ä½œç¬¦ï¼‰çš„æ–‡æ¡£ã€‚è¿™ç›¸å½“äºé›†åˆçš„äº¤é›†æ“ä½œã€‚â€œ&amp;amp;&amp;amp;â€ ç¬¦å·å¯ç”¨äºæ›¿ä»£å•è¯ â€œANDâ€ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œä½¿ç”¨å¦‚ä¸‹æŸ¥è¯¢è¯­å¥æ¥æœç´¢åŒ…å« â€œjakarta apacheâ€ å’Œ â€œApache Luceneâ€ çš„æ–‡æ¡£ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;quot;jakarta apache&amp;quot; AND â€œApache Luceneâ€
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;+&lt;/h3&gt;
&lt;p&gt;â€œ+â€ï¼ˆå¿…éœ€ï¼‰æ“ä½œç¬¦è¦æ±‚æ–‡æ¡£çš„æŸä¸ªåŸŸä¸­åŒ…å« â€œ+â€ ç¬¦å·ä¹‹åçš„è¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œä½¿ç”¨å¦‚ä¸‹æŸ¥è¯¢è¯­å¥æ¥æœç´¢ï¼ˆå¿…é¡»ï¼‰åŒ…å« â€œjakartaâ€ ä»¥åŠå¯èƒ½åŒ…å« â€œluceneâ€ï¼ˆåŒ…ä¸åŒ…å«éƒ½å¯ä»¥ï¼‰çš„æ–‡æ¡£ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;+jakarta lucene
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;NOT&lt;/h3&gt;
&lt;p&gt;è‹¥æ–‡æ¡£åŒ…å«â€NOTâ€œä¹‹åçš„è¯ï¼Œâ€NOTâ€œ æ“ä½œä¼šæ’æŸ¥è¯¥æ–‡æ¡£ã€‚è¿™ç›¸å½“äºé›†åˆçš„å·®é›†æ“ä½œã€‚â€!â€œ ç¬¦å·å¯ç”¨äºæ›¿ä»£å•è¯ â€NOTâ€œã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œä½¿ç”¨å¦‚ä¸‹æŸ¥è¯¢è¯­å¥æœç´¢åŒ…å« â€jakarta apacheâ€œ ä½†ä¸åŒ…å« â€Apache Luceneâ€œ çš„æ–‡æ¡£â€ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;quot;jakarta apache&amp;quot; NOT &amp;quot;Apache Lucene&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¤‡æ³¨ï¼šâ€œNOTâ€ æ“ä½œç¬¦ä¸å¯ä»¥ç”¨äºå•ä¸ªè¯ã€‚ä¾‹å¦‚ï¼Œå¦‚ä¸‹æœç´¢ä¸ä¼šè¿”å›ä»»ä½•ç»“æœï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;NOT &amp;quot;jakarta apache&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;-&lt;/h3&gt;
&lt;p&gt;å¦‚æœæ–‡æ¡£åŒ…å«â€-â€œç¬¦å·ä¹‹åçš„è¯ï¼Œé‚£ä¹ˆâ€-â€œï¼ˆç¦æ­¢ï¼‰æ“ä½œç¬¦ä¼šæ’é™¤è¿™äº›æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œä½¿ç”¨å¦‚ä¸‹æŸ¥è¯¢è¯­å¥æ¥æŸ¥è¯¢åŒ…å« â€jakarta apacheâ€œ ä½†ä¸åŒ…å« â€Apache Luceneâ€œ çš„æ–‡æ¡£ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;quot;jakarta apache&amp;quot; -&amp;quot;Apache Lucene&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;åˆ†ç»„&lt;/h2&gt;
&lt;p&gt;Lucene æ”¯æŒä½¿ç”¨åœ†æ‹¬å·å¯¹å­å¥è¿›è¡Œåˆ†ç»„ï¼Œæ„æˆå­æŸ¥è¯¢ã€‚å¦‚æœä½ æƒ³æ§åˆ¶ä¸€ä¸ªæŸ¥è¯¢è¯­å¥çš„å¸ƒå°”é€»è¾‘ï¼Œè¿™å¯¹éå¸¸æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œä½¿ç”¨å¦‚ä¸‹æŸ¥è¯¢è¯­å¥æ¥æœç´¢åŒ…å« â€œjakartaâ€ æˆ– â€œapacheâ€ï¼Œä»¥åŠ â€œwebsiteâ€ çš„æ–‡æ¡£ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;(jakarta OR apache) AND website
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æ­¤å°±æ¶ˆé™¤äº†ä»»ä½•å›°æƒ‘ï¼Œç¡®ä¿ä½ æƒ³è¡¨è¾¾æ˜¯ï¼šå¿…é¡»å­˜åœ¨ â€websiteâ€œï¼Œä»¥åŠå¯èƒ½å­˜åœ¨è¯ â€jakartaâ€œ æˆ– â€apacheâ€œã€‚&lt;/p&gt;
&lt;h2&gt;åŸŸåˆ†ç»„&lt;/h2&gt;
&lt;p&gt;Lucene æ”¯æŒä½¿ç”¨åœ†æ‹¬å·å¯¹å•ä¸ªåŸŸçš„å¤šä¸ªå­å¥è¿›è¡Œåˆ†ç»„ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œè‹¥æƒ³æœç´¢ä¸€ä¸ª title ä¸­æ—¢åŒ…å«å•è¯â€œreturnâ€ä¸”åŒ…å«çŸ­è¯­â€œpink pantherâ€ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;title:&lt;span style="color: #a31515"&gt;(&lt;/span&gt;+&lt;span style="color: #0000ff"&gt;return&lt;/span&gt; +&lt;span style="color: #a31515"&gt;&amp;quot;pink panther&amp;quot;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰&lt;/h2&gt;
&lt;p&gt;Lucene æ”¯æŒå¯¹æŸ¥è¯¢è¯­æ³•ä½¿ç”¨çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ç§»ã€‚ç›®å‰è¿™äº›ç‰¹æ®Šå­—ç¬¦å¦‚ä¸‹åˆ—è¡¨æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;+ - &amp;amp;&amp;amp; || ! ( ) { } [ ] ^ &amp;quot; ~ * ? : \ /
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ç‰¹æ®Šå­—ç¬¦ä¹‹å‰åŠ  &lt;code&gt;\&lt;/code&gt; æ¥è½¬ä¹‰ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨å¦‚ä¸‹æŸ¥è¯¢è¯­å¥æ¥æœç´¢ &lt;code&gt;(1+1):2&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;\(1\+1\)\:2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="Lucene"></category><category term="ElasticSearch"></category><category term="Kibana"></category></entry><entry><title>ä¸€ä¸ª Python å°é¡¹ç›®çš„å°ç»“</title><link href="http://youngsterxyf.github.io/2019/08/14/a-python-project-summary/" rel="alternate"></link><published>2019-08-14T00:00:00+08:00</published><updated>2019-08-14T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2019-08-14:/2019/08/14/a-python-project-summary/</id><summary type="html">&lt;p&gt;å‰æ®µæ—¶é—´ä¸´æ—¶æ¥æ‰‹ä¸€ä¸ª Python å°é¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®å®ç°çš„ç±»ä¼¼ä¸€ä¸ªç®¡æ§å¹³å°ï¼Œå…¶ä¸­æ ¸å¿ƒåŠŸèƒ½æ˜¯ä¸ºç®—æ³•åŒå­¦æä¾›æœºå™¨å­¦ä¹ æ¨¡å‹è®­ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å‰æ®µæ—¶é—´ä¸´æ—¶æ¥æ‰‹ä¸€ä¸ª Python å°é¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®å®ç°çš„ç±»ä¼¼ä¸€ä¸ªç®¡æ§å¹³å°ï¼Œå…¶ä¸­æ ¸å¿ƒåŠŸèƒ½æ˜¯ä¸ºç®—æ³•åŒå­¦æä¾›æœºå™¨å­¦ä¹ æ¨¡å‹è®­ç»ƒä»»åŠ¡çš„å…¨æµç¨‹ç®¡ç†ï¼Œå¹³å°åç«¯åŸºäº Flask æ¡†æ¶å®ç°ï¼Œå‰ç«¯åŸºäº Ant Design Pro å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç ç¨å¾®æœ‰äº›ä¹±ï¼Œæ‰€ä»¥åšäº†éƒ¨åˆ†ä»£ç çš„é‡æ„ï¼Œåœ¨æ­¤åšç‚¹ç»éªŒå°ç»“ã€‚&lt;/p&gt;
&lt;h3&gt;1ã€å¹¶è¡ŒåŒ–æˆ–å¼‚æ­¥åŒ–&lt;/h3&gt;
&lt;p&gt;éƒ¨åˆ†è¯·æ±‚å¤„ç†é€»è¾‘ï¼Œç”±äºæ¯”è¾ƒè€—æ—¶ï¼Œæ•…ä½¿ç”¨çº¿ç¨‹æ± æ¥åŠ é€Ÿï¼Œæˆ–è€…ä½¿ç”¨ç‹¬ç«‹çº¿ç¨‹å¼‚æ­¥å¤„ç†ï¼Œæˆ–è€…å…ˆå­˜å‚¨ä¸€ä¸ªä¸­é—´çŠ¶æ€ï¼Œç”±åå°å®šæ—¶ä»»åŠ¡æ¥å®Œæˆå®é™…çš„å¤„ç†å·¥ä½œã€‚å¯¹äºå¼‚æ­¥å¤„ç†ç»“æœï¼Œå‰ç«¯é€šè¿‡è½®è¯¢æ¥è·å–ã€‚&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹æ± çš„ä½¿ç”¨ï¼Œä¸»è¦ä½¿ç”¨ map æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; multiprocessing.dummy &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; Pool

input_list = [...]
pool: Pool = Pool(len(input_list))
pool.map(func, input_list)
pool.close()
pool.join()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç‹¬ç«‹çº¿ç¨‹å¼‚æ­¥å¤„ç†ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; multiprocessing

p = multiprocessing.Process(target=func, args=(...))
p.start()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å®šæ—¶ä»»åŠ¡ï¼ŒåŸºäº apscheduler åº“å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; apscheduler.schedulers.background &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; BackgroundScheduler

scheduler = BackgroundScheduler()

scheduler.add_join(func, &lt;span style="color: #a31515"&gt;&amp;#39;interval&amp;#39;&lt;/span&gt;, seconds=1)

scheduler.start()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸ºå¯¹äº Python åº”ç”¨ï¼Œé€šå¸¸ä¼šä½¿ç”¨ gunicorn è¿™ç§ WSGI HTTP æœåŠ¡å™¨ä»¥å¤šè¿›ç¨‹å¯åŠ¨å¤šä¸ªåº”ç”¨å®ä¾‹ï¼Œæå‡è¯·æ±‚ååèƒ½åŠ›ã€‚ä½†æ˜¯å¯¹äºå®šæ—¶ä»»åŠ¡æˆ‘ä»¬å¸Œæœ›åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¯¹æ­¤ï¼Œå¦‚æœä½¿ç”¨ gunicornï¼Œå¯ä»¥åŸºäºå®ƒçš„ preload æœºåˆ¶æ¥å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# wsgi.py&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; app

&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; __name__ == &lt;span style="color: #a31515"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;:
    app.run()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# æ³¨æ„å…¶ä¸­çš„ --preload å‚æ•°&lt;/span&gt;
gunicorn --workers=4 --preload --log-level=info --access-logfile=access.log -b 0.0.0.0:8080 wsgi:app
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;preload æœºåˆ¶ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ import app ç±»æ‰€åœ¨çš„æ¨¡å—åŠå…¶ä¾èµ–çš„å„ä¸ªæ¨¡å—ï¼ˆimport è¿‡ç¨‹ä¸­ä¼šæ‰§è¡Œå…¶ä¸­çš„è¯­å¥ï¼‰ï¼Œç„¶å fork å‡ºå¤šä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æ‰§è¡Œ app.run()ã€‚&lt;/p&gt;
&lt;h4&gt;2ã€å®ç°ä¸€äº›é€šç”¨æ–¹æ¡ˆå¯¹å¼‚å¸¸è¿›è¡Œæ•è·æˆ–é‡è¯•&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; exception_try(times: int = 3, sleep_then_try_seconds=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; decorator(f):
        &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; wrapper(*args, **kwargs):
            count = 0
            exception = &lt;span style="color: #0000ff"&gt;None&lt;/span&gt;
            &lt;span style="color: #0000ff"&gt;while&lt;/span&gt; count &amp;lt; times:
                &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
                    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; f(*args, **kwargs)
                &lt;span style="color: #0000ff"&gt;except&lt;/span&gt; Exception &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; e:
                    exception = e
                    count += 1
                    logging.exception(&lt;span style="color: #a31515"&gt;&amp;quot;Try {} times&amp;quot;&lt;/span&gt;.format(count))
                    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (sleep_then_try_seconds &lt;span style="color: #0000ff"&gt;is&lt;/span&gt; &lt;span style="color: #0000ff"&gt;not&lt;/span&gt; &lt;span style="color: #0000ff"&gt;None&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;and&lt;/span&gt; count &amp;lt; times:
                        time.sleep(sleep_then_try_seconds)
            &lt;span style="color: #0000ff"&gt;raise&lt;/span&gt; exception
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; wrapper
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; decorator
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;@exception_try(times=3, sleep_then_try_seconds=0.5)
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; connect(self):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; pymysql.connect(host=self.host, user=self.user, password=self.password, db=self.db, charset=self.charset)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªè£…é¥°å™¨æ–¹æ³•ç”¨äºå®ç°å¼‚å¸¸é‡è¯•ï¼Œå¹¶ä¸”å¯ä»¥æŒ‡å®šé‡è¯•çš„æ—¶é—´é—´éš”ï¼Œå®é™…ä½¿ç”¨ä¸‹æ¥æ•ˆæœè¾ƒå¥½ã€‚è€Œä¸”ä¹Ÿä¸ä¼šå› ä¸º &lt;code&gt;try...except&lt;/code&gt; å¯¼è‡´å¤§å—ä»£ç ç¼©è¿›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¡®ä¿æ•°æ®åº“è¿æ¥å…³é—­ï¼ˆå…¶å®ƒç±»ä¼¼èµ„æºä¹Ÿå¯ä»¥è¿™æ ·å®ç°ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; with_db(db: Connection, exception_callback=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; decorator(f):
        &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; db_context(*a, **kw):
            &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
                &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; f(db, *a, **kw)
            &lt;span style="color: #0000ff"&gt;except&lt;/span&gt; Exception &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; e:
                logging.exception(str(e))
                &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; exception_callback &lt;span style="color: #0000ff"&gt;is&lt;/span&gt; &lt;span style="color: #0000ff"&gt;not&lt;/span&gt; &lt;span style="color: #0000ff"&gt;None&lt;/span&gt;:
                    exception_callback(e)
            &lt;span style="color: #0000ff"&gt;finally&lt;/span&gt;:
                &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
                    db.close()
                &lt;span style="color: #0000ff"&gt;except&lt;/span&gt;:
                    &lt;span style="color: #0000ff"&gt;pass&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; db_context

    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; decorator
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# å°† conf.db.connect() å¯¹è±¡ä½œä¸º delete_task_from_job_queue çš„ç¬¬ä¸€ä¸ªå‚æ•°æ³¨å…¥ï¼Œtask_id è¿™ä¸ªå‚æ•°ä»¥ä¸å®šå‚æ•°çš„æ–¹å¼ä¼ å…¥ delete_task_from_job_queue&lt;/span&gt;
with_db(conf.db.connect())(delete_task_from_job_queue)(task_id)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªè£…é¥°å™¨æ–¹æ³•ç”¨äºç¡®ä¿æ•°æ®åº“è¿æ¥åœ¨å¼‚å¸¸å‘ç”Ÿä¹Ÿèƒ½æ­£å¸¸å…³é—­ï¼Œé˜²æ­¢èµ„æºæ³„éœ²ã€‚&lt;/p&gt;
&lt;h4&gt;3ã€å¾ªç¯ç­‰å¾…æˆ–è¶…æ—¶&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;TimeoutCondition&lt;/span&gt;(object):

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __init__(self, condition_func, timeout_seconds):
        self.condition = condition_func
        self.timeout = timeout_seconds
        self.begin = &lt;span style="color: #0000ff"&gt;None&lt;/span&gt;
        self.timeout_false = &lt;span style="color: #0000ff"&gt;True&lt;/span&gt;
        self.cond_true = &lt;span style="color: #0000ff"&gt;True&lt;/span&gt;

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __bool__(self):
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; self.begin &lt;span style="color: #0000ff"&gt;is&lt;/span&gt; &lt;span style="color: #0000ff"&gt;None&lt;/span&gt;:
            self.begin = timeit.default_timer()
        self.cond_true = self.condition()
        self.timeout_false = self.timeout &amp;lt;= 0 &lt;span style="color: #0000ff"&gt;or&lt;/span&gt; (timeit.default_timer() - self.begin) &amp;lt; self.timeout
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; self.cond_true &lt;span style="color: #0000ff"&gt;and&lt;/span&gt; self.timeout_false

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; is_timeout(self):
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; self.cond_true &lt;span style="color: #0000ff"&gt;and&lt;/span&gt; &lt;span style="color: #0000ff"&gt;not&lt;/span&gt; self.timeout_false
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cond = TimeoutCondition(&lt;span style="color: #0000ff"&gt;lambda&lt;/span&gt; : len(service_list) == 0, 5)
&lt;span style="color: #0000ff"&gt;while&lt;/span&gt; cond:
    time.sleep(1)
    service_list = get_service_list()
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; cond.is_timeout():
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;None&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;None&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;TimeoutCondition&lt;/code&gt; ç”¨äºå®ç°å¾ªç¯ç­‰å¾…æŸä¸ªæ¡ä»¶æ»¡è¶³ï¼Œä½†ä¸ºäº†é¿å…æ­»å¾ªç¯ï¼Œæ‰€ä»¥åŠ ä¸€ä¸ªè¶…æ—¶æ¡ä»¶åˆ¤æ–­ã€‚å®ä¾‹åŒ–å‚æ•°ç¬¬ä¸€ä¸ªæ˜¯åŸå§‹çš„æ¡ä»¶åˆ¤æ–­ lambda è¯­å¥ï¼Œç¬¬äºŒä¸ªæ˜¯ä¸€ä¸ªè¶…æ—¶è®¾ç½®ã€‚å¦å¤–ï¼Œå€ŸåŠ©é­”æœ¯æ–¹æ³• &lt;code&gt;__bool__&lt;/code&gt;ï¼Œè®© TimeoutCondtion çš„å®ä¾‹ç”¨èµ·æ¥åƒæ˜¯ä¸€ä¸ªå¸ƒå°”å˜é‡ï¼Œè°ƒç”¨ &lt;code&gt;is_timeout()&lt;/code&gt; æ–¹æ³•å¯ä»¥åŒºåˆ†å¾ªç¯ç­‰å¾…é€€å‡ºæ˜¯å› ä¸ºåŸå§‹æ¡ä»¶æ»¡è¶³ï¼Œè¿˜æ˜¯è¶…æ—¶é€€å‡ºçš„ã€‚&lt;/p&gt;
&lt;h4&gt;4ã€æŒ‰éƒ¨ç½²ç¯å¢ƒé…ç½®åº”ç”¨çš„è¡Œä¸º&lt;/h4&gt;
&lt;p&gt;åº”ç”¨åœ¨ä¸åŒçš„ç¯å¢ƒï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰ä¸­åº”è¯¥å…è®¸åŠ è½½ä¸åŒçš„é…ç½®ï¼Œé…ç½®ä¸åŒçš„è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;å½“å‰åº”ç”¨å¤„äºä»€ä¹ˆç¯å¢ƒï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æ¥é…ç½®ï¼Œåº”ç”¨åˆå§‹åŒ–æ—¶æœ€å…ˆæ£€æµ‹å½“å‰å¤„äºä»€ä¹ˆç¯å¢ƒï¼Œä¹‹åçš„åˆå§‹åŒ–æµç¨‹å°±å¯ä»¥ä¾æ®ç¯å¢ƒé…ç½®æ¥åŠ è½½é…ç½®ï¼Œå®šåˆ¶åº”ç”¨è¡Œä¸ºã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# conf/__init__.py&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;AppConfig&lt;/span&gt;(object):
    app_env = os.getenv(&lt;span style="color: #a31515"&gt;&amp;#39;APP_ENV&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;development&amp;#39;&lt;/span&gt;)
    is_prod = app_env == &lt;span style="color: #a31515"&gt;&amp;#39;production&amp;#39;&lt;/span&gt;
    is_dev = app_env == &lt;span style="color: #a31515"&gt;&amp;#39;development&amp;#39;&lt;/span&gt;
    is_testing = app_env == &lt;span style="color: #a31515"&gt;&amp;#39;testing&amp;#39;&lt;/span&gt;

    &lt;span style="color: #008000"&gt;# å…¶ä½™åº”ç”¨é…ç½®é¡¹&lt;/span&gt;
    ...

conf = AppConfig()


&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; _load_config_by_env(env: str):
    &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    ä¸åŒç¯å¢ƒåŠ è½½ä¸åŒçš„é…ç½®æ–‡ä»¶&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    é…ç½®ç›®å½•ç»“æ„ï¼š&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    conf/&lt;/span&gt;
&lt;span style="color: #a31515"&gt;        __init__.py&lt;/span&gt;
&lt;span style="color: #a31515"&gt;        development.py&lt;/span&gt;
&lt;span style="color: #a31515"&gt;        production.py&lt;/span&gt;
&lt;span style="color: #a31515"&gt;        testing.py&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
    module = importlib.import_module(&lt;span style="color: #a31515"&gt;&amp;#39;conf.{}&amp;#39;&lt;/span&gt;.format(env))
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; &lt;span style="color: #0000ff"&gt;not&lt;/span&gt; hasattr(module, &lt;span style="color: #a31515"&gt;&amp;#39;Config&amp;#39;&lt;/span&gt;):
        logging.warning(&lt;span style="color: #a31515"&gt;&amp;#39;Not find {} config&amp;#39;&lt;/span&gt;.format(env))
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; name, value &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; getattr(module, &lt;span style="color: #a31515"&gt;&amp;#39;Config&amp;#39;&lt;/span&gt;).__dict__.items():
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; name.startswith(&lt;span style="color: #a31515"&gt;&amp;#39;__&amp;#39;&lt;/span&gt;):
            &lt;span style="color: #0000ff"&gt;continue&lt;/span&gt;
        conf.__dict__[name] = value
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# æ ¹æ®ç¯å¢ƒé…ç½®æ—¥å¿—çº§åˆ«&lt;/span&gt;
log_level = logging.INFO &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; conf.is_prod &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; logging.DEBUG
logging.basicConfig(format=consts.LOG_FORMAT, level=log_level)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;5ã€æ–¹ä¾¿æ’æŸ¥é—®é¢˜çš„æ—¥å¿—è¾“å‡º&lt;/h4&gt;
&lt;p&gt;æ—¥å¿—æ˜¯é—®é¢˜æ’æŸ¥çš„ä¸»è¦ä¿¡æ¯æ¥æºï¼Œæ‰€ä»¥æ—¥å¿—è®°å½•å¾—å¥½ä¸å¥½ï¼Œå¾ˆå…³é”®ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# https://github.com/python/cpython/blob/3.7/Lib/logging/__init__.py#L457&lt;/span&gt;
&lt;span style="color: #008000"&gt;# æ—¥å¿—æ—¶é—´ - æ—¥å¿—çº§åˆ« - ä»£ç æ–‡ä»¶è·¯å¾„ - è¡Œå· - è¿›ç¨‹ ID - çº¿ç¨‹åç§° - æ—¥å¿—å†…å®¹&lt;/span&gt;
LOG_FORMAT = &lt;span style="color: #a31515"&gt;&amp;#39;%(asctime)-15s - %(levelname)s - %(pathname)s - %(lineno)d - %(process)d - %(threadName)s - %(message)s&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;6ã€API è§„èŒƒä¸å¼‚å¸¸æç¤º&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†ç»Ÿä¸€å‰ç«¯ API å“åº”å¤„ç†ï¼Œæœ‰å¿…è¦å¯¹ API å“åº”ä½“çš„ç»“æ„æŒ‡å®šæ ‡å‡†ã€‚ä»¥æˆ‘ä¸ªäººçš„ä¹ æƒ¯ï¼Œæ‰€æœ‰ä»åº”ç”¨ä»£ç ä¸­è¿”å›çš„å“åº”ï¼ŒHTTP çŠ¶æ€ç éƒ½åº”è¯¥æ˜¯ 200ï¼Œå…·ä½“å½“å‰ API è¯·æ±‚æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œå¦‚æœå¤±è´¥ï¼Œå¤±è´¥çš„åŸå› æ˜¯ä»€ä¹ˆéƒ½åº”è¯¥åŒ…å«åœ¨å“åº”ä½“ä¸­ï¼Œå“åº”ä½“å¤§è‡´çš„ç»“æ„ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;{
    &amp;quot;code&amp;quot;: &lt;span style="border: 1px solid #FF0000"&gt;...&lt;/span&gt;,
    &amp;quot;msg&amp;quot;: &lt;span style="color: #a31515"&gt;&amp;quot;...&amp;quot;&lt;/span&gt;,
    &amp;quot;data&amp;quot;: &lt;span style="border: 1px solid #FF0000"&gt;...&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;code è¡¨ç¤ºè¯·æ±‚å¤„ç†å¤±è´¥æ—¶ï¼Œdata å­—æ®µå¯é€‰ï¼Œcode è¡¨ç¤ºè¯·æ±‚å¤„ç†æˆåŠŸæ—¶ï¼Œmsg å­—æ®µå¯é€‰ã€‚&lt;/p&gt;
&lt;p&gt;å‰ç«¯é…åˆå¯¹å“åº”ä½“è¿›è¡Œç»Ÿä¸€æ£€æµ‹å’Œæç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; { notification } &lt;span style="color: #0000ff"&gt;from&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;antd&amp;#39;&lt;/span&gt;;

&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; defaultHTTPCodeHandler(response) {
  &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (response.status &amp;gt;= 400) {
    &lt;span style="color: #008000"&gt;// æ³¨æ„ clone&lt;/span&gt;
    response.clone().text().then(respBody =&amp;gt; {
      notification.error({message: &lt;span style="color: #a31515"&gt;&amp;#39;API å¼‚å¸¸å“åº”&amp;#39;&lt;/span&gt;, description: &lt;span style="color: #a31515"&gt;`${&lt;/span&gt;response.status&lt;span style="color: #a31515"&gt;}, ${&lt;/span&gt;respBody&lt;span style="color: #a31515"&gt;}`&lt;/span&gt;, duration: &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;});
      console.log(&lt;span style="color: #a31515"&gt;`${&lt;/span&gt;response.status&lt;span style="color: #a31515"&gt;}, ${&lt;/span&gt;respBody&lt;span style="color: #a31515"&gt;}`&lt;/span&gt;);
    });
  }
}

&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; defaultMsgCodeHandler(response) {
  &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (response.status === 200) {
    &lt;span style="color: #008000"&gt;// æ³¨æ„ clone&lt;/span&gt;
    response.clone().json().then(jsonBody =&amp;gt; {
      &lt;span style="color: #008000"&gt;// 0ã€200ã€10000 éƒ½å±äºæˆåŠŸå“åº”&lt;/span&gt;
      &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (jsonBody !== &lt;span style="color: #0000ff"&gt;undefined&lt;/span&gt; &amp;amp;&amp;amp; jsonBody.code !== &lt;span style="color: #0000ff"&gt;undefined&lt;/span&gt; &amp;amp;&amp;amp; jsonBody.code !== 0 &amp;amp;&amp;amp; jsonBody.code !== 200 &amp;amp;&amp;amp; jsonBody.code != 10000) {
        notification.error({message: &lt;span style="color: #a31515"&gt;&amp;#39;è¯·æ±‚å¤±è´¥&amp;#39;&lt;/span&gt;, description: &lt;span style="color: #a31515"&gt;`${&lt;/span&gt;jsonBody.code&lt;span style="color: #a31515"&gt;}, ${&lt;/span&gt;jsonBody.msg&lt;span style="color: #a31515"&gt;}`&lt;/span&gt;, duration: &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;});
        console.log(&lt;span style="color: #a31515"&gt;`${&lt;/span&gt;jsonBody.code&lt;span style="color: #a31515"&gt;}, ${&lt;/span&gt;jsonBody.msg&lt;span style="color: #a31515"&gt;}`&lt;/span&gt;);
      }
    });
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¹¶ä¸”ç»Ÿä¸€å°è£…å‘èµ·è¯·æ±‚çš„é€»è¾‘ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;export&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; corsFetch(url, init, httpCodeCallback, msgCodeCallback) {
  &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; host = myHost();
  &lt;span style="color: #0000ff"&gt;let&lt;/span&gt; urlPrefix = host;
  &lt;span style="color: #008000"&gt;// è‡ªå¸¦ hostï¼Œåˆ™ä¸é¢å¤–è¡¥å…… host å‰ç¼€&lt;/span&gt;
  &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (url.startsWith(&lt;span style="color: #a31515"&gt;&amp;quot;http://&amp;quot;&lt;/span&gt;) || url.startsWith(&lt;span style="color: #a31515"&gt;&amp;quot;https://&amp;quot;&lt;/span&gt;)) {
    urlPrefix = &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;;
  }
  &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; httpCodeHandler = httpCodeCallback === &lt;span style="color: #0000ff"&gt;undefined&lt;/span&gt; ? defaultHTTPCodeHandler : httpCodeCallback;
  &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; msgCodeHandler = msgCodeCallback === &lt;span style="color: #0000ff"&gt;undefined&lt;/span&gt; ? defaultMsgCodeHandler : msgCodeCallback;
  &lt;span style="color: #008000"&gt;// å¯¹äºçº¿ä¸Šç¯å¢ƒæˆ–è€…æµ‹è¯•ç¯å¢ƒï¼Œä¸è·¨åŸŸ&lt;/span&gt;
  &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (host === PROD_ENV_HOST || host === TEST_ENV_HOST) {
    &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; promise = fetch(urlPrefix + url, init);
    promise.then((response) =&amp;gt; httpCodeHandler(response));
    promise.then((response) =&amp;gt; msgCodeHandler(response));
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; promise;
  }
  &lt;span style="color: #008000"&gt;// å¯¹äºæœ¬åœ°æµ‹è¯•ç¯å¢ƒï¼Œè·¨åŸŸè®¿é—®é¢„å‘ç¯å¢ƒ API æ•°æ®ï¼Œæ–¹ä¾¿æµ‹è¯•&lt;/span&gt;
  &lt;span style="color: #0000ff"&gt;let&lt;/span&gt; corsInit = {
    credentials: &lt;span style="color: #a31515"&gt;&amp;#39;include&amp;#39;&lt;/span&gt;,
    mode: &lt;span style="color: #a31515"&gt;&amp;#39;cors&amp;#39;&lt;/span&gt;,
    redirect: &lt;span style="color: #a31515"&gt;&amp;#39;follow&amp;#39;&lt;/span&gt;,
  };
  &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (init !== &lt;span style="color: #0000ff"&gt;undefined&lt;/span&gt;) {
    corsInit = { ...corsInit, ...init };
  }
  &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (urlPrefix !== &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;) {
    urlPrefix = TEST_ENV_HOST;
  }
  &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; promise = fetch(urlPrefix + url, corsInit);
  promise.then((response) =&amp;gt; httpCodeHandler(response));
  promise.then((response) =&amp;gt; msgCodeHandler(response));
  &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; promise;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­ä¸ºäº†æ–¹ä¾¿æœ¬åœ°å¼€å‘æµ‹è¯•ï¼Œå…è®¸æœ¬åœ°å¼€å‘ç¯å¢ƒè·¨åŸŸè®¿é—®æµ‹è¯•ç¯å¢ƒï¼ˆæœ€å¥½ä¸è¦ç›´æ¥è·¨è¶Šè®¿é—®ç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œå¹¶ä¸”è‡ªåŠ¨åŒºåˆ†ï¼ŒcorsFetch è°ƒç”¨æ–¹æ— æ„ŸçŸ¥ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æ€»ç»“"></category><category term="Python"></category></entry><entry><title>Reactor å®˜æ–¹æ–‡æ¡£ç¿»è¯‘ç®€åŒ–ç‰ˆ</title><link href="http://youngsterxyf.github.io/2019/06/26/simplified-reactor-doc-zh/" rel="alternate"></link><published>2019-06-26T00:00:00+08:00</published><updated>2019-06-26T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2019-06-26:/2019/06/26/simplified-reactor-doc-zh/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://projectreactor.io/docs/core/release/reference/"&gt;Reactor 3 Reference Guide&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;1. èµ·æ­¥&lt;/h3&gt;
&lt;h4&gt;1.1 Reactor ç®€ä»‹&lt;/h4&gt;
&lt;p&gt;Reactor æ˜¯ä¸º JVM å‡†å¤‡çš„ä¸€ä¸ªå®Œå…¨éé˜»å¡çš„ååº”å¼ç¼–ç¨‹åŸºç¡€ç»„ä»¶ï¼Œæ”¯æŒé«˜æ•ˆçš„éœ€æ±‚ç®¡ç†ï¼ˆä»¥ç®¡ç† â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://projectreactor.io/docs/core/release/reference/"&gt;Reactor 3 Reference Guide&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;1. èµ·æ­¥&lt;/h3&gt;
&lt;h4&gt;1.1 Reactor ç®€ä»‹&lt;/h4&gt;
&lt;p&gt;Reactor æ˜¯ä¸º JVM å‡†å¤‡çš„ä¸€ä¸ªå®Œå…¨éé˜»å¡çš„ååº”å¼ç¼–ç¨‹åŸºç¡€ç»„ä»¶ï¼Œæ”¯æŒé«˜æ•ˆçš„éœ€æ±‚ç®¡ç†ï¼ˆä»¥ç®¡ç†â€œåå‹â€çš„å½¢å¼ï¼‰ï¼Œç›´æ¥ä¸ Java 8 çš„å‡½æ•°å¼ API é›†æˆï¼Œå°¤å…¶æ˜¯ &lt;code&gt;CompletableFuture&lt;/code&gt;ã€&lt;code&gt;Stream&lt;/code&gt; ä»¥åŠ &lt;code&gt;Duration&lt;/code&gt;ï¼Œæä¾›å¯ç»„åˆçš„å¼‚æ­¥åºåˆ— API - &lt;code&gt;Flux&lt;/code&gt;ï¼ˆé€‚ç”¨äº N ä¸ªå…ƒç´ çš„åºåˆ—ï¼‰å’Œ &lt;code&gt;Mono&lt;/code&gt;ï¼ˆé€‚ç”¨äº 0 æˆ– 1ä¸ªå…ƒç´ çš„åºåˆ—ï¼‰--- å¹¶ä¸”å…¨é¢åœ°ï¼ˆextensivelyï¼‰å®ç°äº† &lt;a href="https://www.reactive-streams.org/"&gt;ååº”å¼æµï¼ˆReative Streamsï¼‰&lt;/a&gt; è§„èŒƒã€‚&lt;/p&gt;
&lt;p&gt;å€ŸåŠ© &lt;code&gt;reactor-netty&lt;/code&gt; é¡¹ç›®ï¼ŒReactor ä¹Ÿæ”¯æŒè¿›ç¨‹é—´çš„éé˜»å¡é€šä¿¡ï¼Œé€‚ç”¨äºå¾®æœåŠ¡æ¶æ„ã€‚&lt;code&gt;reactor-netty&lt;/code&gt; ä¸º HTTPï¼ˆåŒ…æ‹¬ Websocketsï¼‰ã€TCP ä»¥åŠ UDP æä¾›æ”¯æŒåå‹çš„ç½‘ç»œå¼•æ“ï¼Œå®Œå…¨æ”¯æŒååº”å¼ç¼–ç è§£ç ã€‚&lt;/p&gt;
&lt;h4&gt;1.2 ç†è§£ BOM&lt;/h4&gt;
&lt;p&gt;Reactor 3 å¼€å§‹é‡‡ç”¨ BOM ï¼ˆBill of Materialsï¼Œç‰©æ–™æ¸…å•ï¼‰å‘å¸ƒæ¨¡å‹ï¼ˆè‡ª &lt;code&gt;reactor-core 3.0.4&lt;/code&gt; å¼€å§‹ï¼Œä½¿ç”¨ &lt;code&gt;Aluminium&lt;/code&gt;ï¼ˆé“ï¼‰ç‰ˆæœ¬åºåˆ—ï¼‰ï¼Œä¸€ä¸ªç‰ˆæœ¬åŒ…å«ä¸€ç»„ç›¸å…³ç»„ä»¶çš„ç‰ˆæœ¬ï¼Œè¿™äº›ç‰ˆæœ¬ç»„ä»¶ä¹‹é—´å…¼å®¹æ€§éå¸¸å¥½ï¼Œå…è®¸è¿™äº›ç»„ä»¶é‡‡ç”¨ä¸åŒçš„ç‰ˆæœ¬å‘½åæ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;BOM å‘å¸ƒæ¨¡å‹æœ¬èº«ä¹Ÿæ˜¯ç‰ˆæœ¬åŒ–çš„ï¼Œä»¥ä¸€ä¸ªä»£å·åæ¥ä¸€ä¸ªä¿®é¥°è¯æ¥å‘½åä¸€ä¸ªç‰ˆæœ¬åºåˆ—ã€‚å¦‚ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹åˆ—è¡¨ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Aluminium-RELEASE
Californium-BUILD-SNAPSHOT
Aluminium-SR1
Bismuth-RELEASE
Californium-SR32
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»£å·ç­‰ä»·äºå¸¸è§„çš„ &lt;code&gt;å¤§ç‰ˆæœ¬å·.å°ç‰ˆæœ¬å·&lt;/code&gt; å½¢å¼ï¼Œé€šå¸¸ä»¥å­—æ¯å‡åºæ–¹å¼å–è‡ª &lt;a href="https://en.wikipedia.org/wiki/Periodic_table#Overview"&gt;å…ƒç´ å‘¨æœŸè¡¨&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§æ—¶é—´é¡ºåºï¼Œä¿®é¥°è¯åˆ†åˆ«ä¸ºå¦‚ä¸‹å‡ ä¸ªï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BUILD-SNAPSHOTï¼šä¸ºå¼€å‘æµ‹è¯•æ„å»ºçš„ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;M1 .. Nï¼šé‡Œç¨‹ç¢‘ç‰ˆæœ¬æˆ–è€…å¼€å‘è€…é¢„è§ˆç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;RELEASEï¼šä¸€ä¸ªä»£å·ç³»åˆ—ä¸­çš„é¦–ä¸ª GAï¼ˆGeneral Availability é€šç”¨ï¼‰å‘è¡Œç‰ˆã€‚&lt;/li&gt;
&lt;li&gt;SR1 .. Nï¼šä¸€ä¸ªä»£å·ç³»åˆ—ä¸­çš„åç»­ GA å‘è¡Œç‰ˆ - ç›¸å½“äºä¸€ä¸ªè¡¥ä¸ç‰ˆæœ¬ã€‚ï¼ˆSR ä»£è¡¨ â€œService Releaseâ€ï¼ˆæœåŠ¡ç‰ˆæœ¬ï¼‰ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;1.3 å¦‚ä½•è·å– Reactor&lt;/h4&gt;
&lt;h5&gt;1.3.1 ä»¥ Maven ç®¡ç†ä¾èµ–åŒ…&lt;/h5&gt;
&lt;p&gt;Maven åŸç”Ÿæ”¯æŒ BOM æ¨¡å‹æ¦‚å¿µã€‚é¦–å…ˆï¼Œåœ¨ä½ çš„ &lt;code&gt;pom.xml&lt;/code&gt; æ–‡ä»¶æ·»åŠ å¦‚ä¸‹ä»£ç ç‰‡æ®µæ¥å¼•å…¥ BOMï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;dependencyManagement&amp;gt; 
    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;io.projectreactor&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;reactor-bom&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;Bismuth-RELEASE&amp;lt;/version&amp;gt;
            &amp;lt;type&amp;gt;pom&amp;lt;/type&amp;gt;
            &amp;lt;scope&amp;gt;import&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;
&amp;lt;/dependencyManagement&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;å¤‡æ³¨ï¼šæ³¨æ„å…¶ä¸­çš„ &lt;code&gt;dependencyManagement&lt;/code&gt; æ ‡ç­¾ï¼Œæ·»åŠ åˆ° &lt;code&gt;dependencies&lt;/code&gt; ä¸€èŠ‚ä¸­ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœé¡¶éƒ¨æ ‡ç­¾ï¼ˆ&lt;code&gt;dependencyManagement&lt;/code&gt;ï¼‰å·²ç»å­˜åœ¨ï¼Œåˆ™åªæ·»åŠ ä¸Šé¢è¯¥æ ‡ç­¾çš„å†…éƒ¨å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œå°†ä¾èµ–åŒ…æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼Œå’Œä¸€èˆ¬ä¾èµ–åŒ…ä¸€æ ·ï¼Œä¸è¿‡æ²¡æœ‰ &lt;code&gt;&amp;lt;version&amp;gt;&lt;/code&gt;ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;dependencies&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;io.projectreactor&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;reactor-core&amp;lt;/artifactId&amp;gt; 
    &amp;lt;/dependency&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;io.projectreactor&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;reactor-test&amp;lt;/artifactId&amp;gt; 
        &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
    &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;1.3.2 ä»¥ Gradle ç®¡ç†ä¾èµ–åŒ…&lt;/h5&gt;
&lt;p&gt;Gradle æ ¸å¿ƒå¹¶ä¸æ”¯æŒ Maven BOMï¼Œä¸è¿‡å¯ä»¥å€ŸåŠ© Spring çš„ &lt;a href="https://github.com/spring-gradle-plugins/dependency-management-plugin"&gt;gradle-dependency-management&lt;/a&gt; æ’ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œåº”ç”¨æ’ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;plugins {
    id &amp;quot;io.spring.dependency-management&amp;quot; version &amp;quot;1.0.6.RELEASE&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åä½¿ç”¨å®ƒæ¥å¼•å…¥ BOMï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dependencyManagement {
     imports {
          mavenBom &amp;quot;io.projectreactor:reactor-bom:Bismuth-RELEASE&amp;quot;
     }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æœ€åå°†ä¾èµ–æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼Œæ— éœ€æŒ‡å®šç‰ˆæœ¬å·ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dependencies {
     compile &amp;#39;io.projectreactor:reactor-core&amp;#39; 
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;2. ååº”å¼ç¼–ç¨‹ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;Reactor æ˜¯ååº”å¼ç¼–ç¨‹èŒƒå¼çš„ä¸€ä¸ªå®ç°ã€‚ååº”å¼ç¼–ç¨‹çš„å®šä¹‰å½’çº³èµ·æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ååº”å¼ç¼–ç¨‹æ˜¯ä¸€ä¸ªå¼‚æ­¥ç¼–ç¨‹èŒƒå¼ï¼Œå…³æ³¨æ•°æ®æµå’Œå˜åŒ–çš„ä¼ æ’­ã€‚è¿™æ„å‘³ç€é€šè¿‡è¢«é‡‡ç”¨ç¼–ç¨‹è¯­è¨€å¯ä»¥è½»æ¾åœ°è¡¨è¾¾é™æ€ï¼ˆæ¯”å¦‚ æ•°ç»„ï¼‰æˆ–åŠ¨æ€ï¼ˆæ¯”å¦‚ äº‹ä»¶å‘å°„å™¨ï¼‰æ•°æ®æµã€‚ --- https://en.wikipedia.org/wiki/Reactive_programming&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ååº”å¼ç¼–ç¨‹æ–¹å‘çš„é¦–ä¸ªé‡è¦å·¥ä½œæ˜¯ï¼šå¾®è½¯åœ¨ .NET ç”Ÿæ€ä½“ç³»ä¸­åˆ›å»ºäº†ååº”å¼æ‰©å±•ï¼ˆRxï¼‰åº“ï¼Œç„¶å RxJava åœ¨ JVM ä¸Šå®ç°äº†ååº”å¼ç¼–ç¨‹ã€‚æ—¶å…‰é£é€ï¼Œç» Reative Streams çš„å¤§åŠ›æ¨è¿›ï¼ŒJava ç¤¾åŒºç»ˆäºå‡ºç°äº†ååº”å¼ç¼–ç¨‹æ ‡å‡†ï¼Œè¯¥è§„èŒƒå®šä¹‰äº†ä¸€ç»„æ¥å£ä»¥åŠ JVM ä¸Šååº”å¼ç¼–ç¨‹åº“ä¹‹é—´çš„äº¤äº’è§„åˆ™ã€‚Java 9 æ ‡å‡†åº“å·²å°†è¿™ç»„æ¥å£é›†æˆåˆ° &lt;code&gt;Flow&lt;/code&gt; ç±»ï¼ˆè¯‘æ³¨ï¼šè§&lt;a href="https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html"&gt;https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html&lt;/a&gt;ï¼‰ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ååº”å¼ç¼–ç¨‹èŒƒå¼åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­é€šå¸¸è¡¨ç°ä¸ºä¸€ä¸ªè§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼çš„æ‰©å±•ã€‚ä½ ä¹Ÿå¯ä»¥å°†ä¸»æµçš„ååº”å¼æµæ¨¡å¼ï¼ˆreactive streams patternï¼‰å’Œå¤§å®¶ç†ŸçŸ¥çš„è¿­ä»£å™¨è®¾è®¡æ¨¡å¼åšå¯¹æ¯”ï¼Œæ‰€æœ‰è¿™äº›åº“ä¸­éƒ½å­˜åœ¨å¯¹æ ‡äº &lt;code&gt;Iterable&lt;/code&gt; - &lt;code&gt;Iterator&lt;/code&gt; çš„æ¦‚å¿µï¼ˆè¯‘æ³¨ï¼šæ¯”å¦‚ å‘å¸ƒè€…-æ¶ˆè´¹è€…ï¼‰ã€‚ä¸»è¦å·®åˆ«åœ¨äºï¼šè¿­ä»£å™¨æ˜¯åŸºäº pull æ–¹å¼ï¼Œååº”å¼æµåˆ™åŸºäº push æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨è¿­ä»£å™¨æ˜¯ä¸€ä¸ªå‘½ä»¤å¼ç¼–ç¨‹çš„æ¨¡å¼ï¼Œå³ä½¿å¦‚ä½•è®¿é—®æ•°æ®ï¼ˆaccessing valuesï¼‰å®Œå…¨æ˜¯ &lt;code&gt;Iterable&lt;/code&gt; çš„èŒè´£ï¼Œä½†å®é™…ä¸Šï¼Œä½•æ—¶è®¿é—®åºåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªï¼ˆ&lt;code&gt;next()&lt;/code&gt;ï¼‰å€¼å–å†³äºå¼€å‘è€…çš„é€‰æ‹©ã€‚åœ¨ååº”å¼æµä¸­ï¼Œä¸Šè¿° &lt;code&gt;Iterable&lt;/code&gt; - &lt;code&gt;Iterator&lt;/code&gt; å¯¹çš„ç­‰ä»·ç‰©ä¸º &lt;code&gt;Publisher&lt;/code&gt; - &lt;code&gt;Subscriber&lt;/code&gt;ã€‚ä¸è¿‡ï¼Œåœ¨å‡ºç°æ–°çš„æ•°æ®/äº‹ä»¶æ—¶ï¼Œç”± &lt;code&gt;Publisher&lt;/code&gt; é€šçŸ¥ &lt;code&gt;Subscriber&lt;/code&gt;ï¼Œè¿™ä¸ªâ€œæ¨â€ç‰¹æ€§ä¹Ÿæ˜¯å®ç°ååº”å¼çš„å…³é”®ä¹‹å¤„ã€‚å¹¶ä¸”ï¼Œåœ¨è¢«æ¨é€çš„å€¼ä¸Šåº”ç”¨å“ªäº›æ“ä½œæ˜¯å£°æ˜å¼è¡¨è¾¾è€Œä¸æ˜¯å‘½ä»¤å¼è¡¨è¾¾çš„ï¼šç¨‹åºå‘˜è¡¨è¾¾çš„æ˜¯è®¡ç®—é€»è¾‘è€Œä¸æ˜¯æè¿°ç²¾ç¡®çš„æ§åˆ¶æµã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†â€œæ¨â€çš„ç‰¹æ€§ï¼Œååº”å¼æµä¹Ÿè‰¯å¥½åœ°å®šä¹‰äº†å¦‚ä½•å¤„ç†é”™è¯¯å’Œç»“æŸæµã€‚ä¸€ä¸ª &lt;code&gt;Publisher&lt;/code&gt; å¯ä»¥å‘å®ƒçš„ &lt;code&gt;Subscriber&lt;/code&gt; æ¨é€æ–°çš„å€¼ï¼ˆé€šè¿‡è°ƒç”¨è®¢é˜…è€…çš„ &lt;code&gt;onNext&lt;/code&gt; æ–¹æ³•ï¼‰ï¼Œä¹Ÿå¯ä»¥æ¨é€é”™è¯¯ï¼ˆè°ƒç”¨ &lt;code&gt;onError&lt;/code&gt; æ–¹æ³•ï¼‰æˆ–ç»“æŸï¼ˆè°ƒç”¨ &lt;code&gt;onComplete&lt;/code&gt;æ–¹æ³•ï¼‰ä¿¡å·ã€‚é”™è¯¯å’Œç»“æŸä¿¡å·éƒ½å¯ä»¥ç»ˆç»“äº‹ä»¶åºåˆ—ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;onNext x 0..N [onError | onComplete]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªæ–¹å¼éå¸¸çµæ´»ã€‚è¿™ä¸ªæ¨¡å¼æ”¯æŒâ€œæ²¡æœ‰å€¼â€ã€â€œä¸€ä¸ªå€¼â€æˆ–â€œnä¸ªå€¼â€ï¼ˆåŒ…æ‹¬å€¼æ— é™çš„åºåˆ—ï¼Œæ¯”å¦‚æ—¶é’Ÿçš„æŒç»­æ»´ç­”äº‹ä»¶ï¼‰çš„å„ç§ä½¿ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œèµ·åˆï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·ä¸€ä¸ªå¼‚æ­¥çš„ååº”å¼çš„ç¼–ç¨‹åº“ï¼Ÿ&lt;/p&gt;
&lt;h4&gt;2.1 é˜»å¡å³æ˜¯èµ„æºæµªè´¹&lt;/h4&gt;
&lt;p&gt;ç°ä»£çš„è½¯ä»¶åº”ç”¨ï¼Œå¹¶å‘ç”¨æˆ·é‡éå¸¸å·¨å¤§ï¼Œå³ä½¿ç°ä»£ç¡¬ä»¶çš„å¤„ç†èƒ½åŠ›ä¸€ç›´åœ¨æå‡ï¼Œè½¯ä»¶çš„æ€§èƒ½ä»æ—§æ˜¯ä¸€ä¸ªå…³é”®é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å®½æ³›æ¥è®²ï¼Œæå‡ä¸€ä¸ªç¨‹åºçš„æ€§èƒ½ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¹¶è¡ŒåŒ–&lt;/strong&gt; ä½¿ç”¨æ›´å¤šçš„çº¿ç¨‹å’Œæ›´å¤šçš„ç¡¬ä»¶èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºå½“å‰çš„ç¡¬ä»¶èµ„æºï¼Œ&lt;strong&gt;å¯»æ±‚æ›´é«˜æ•ˆçš„ä½¿ç”¨æ–¹å¼&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€šå¸¸ï¼ŒJava å¼€å‘è€…ä¼šä½¿ç”¨é˜»å¡æ€§çš„ä»£ç ç¼–å†™ç¨‹åºï¼Œè¿™ç§ä»£ç ç¼–å†™æ–¹å¼å®¹æ˜“è§¦åŠæ€§èƒ½ç“¶é¢ˆï¼Œç„¶åå¼•å…¥æ›´å¤šçš„çº¿ç¨‹æ¥è¿è¡Œç›¸ä¼¼çš„é˜»å¡æ€§ä»£ç ã€‚ä½†æ˜¯ï¼Œè¿™ç§èµ„æºåˆ©ç”¨çš„æ‰©å±•æ–¹å¼å¾ˆå¿«å°±ä¼šå¼•å‘ç«æ€ï¼ˆcontentionï¼‰å’Œå¹¶å‘çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ›´ç³Ÿç³•çš„æ˜¯ï¼Œé˜»å¡å°±æ„å‘³ç€æµªè´¹èµ„æºã€‚å¦‚æœä½ ç¨åŠ åˆ†æï¼Œå°±ä¼šå‘ç°ä¸€æ—¦ç¨‹åºç‰µæ¶‰ä¸€äº›ç­‰å¾…å»¶è¿Ÿï¼ˆå°¤å…¶æ˜¯ I/0 æ“ä½œï¼Œæ¯”å¦‚ç­‰å¾…ä¸€ä¸ªæ•°æ®åº“è¯·æ±‚æˆ–è€…ä¸€ä¸ªç½‘ç»œè°ƒç”¨ï¼‰ï¼Œèµ„æºå°±ä¼šè¢«æµªè´¹ï¼Œå› ä¸ºæ­¤æ—¶çº¿ç¨‹ï¼ˆå¯èƒ½æ˜¯å¤§é‡çº¿ç¨‹ï¼‰æ˜¯ç©ºé—²çš„ï¼Œç­‰å¾…ç€æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œå¹¶è¡ŒåŒ–æ–¹å¼å¹¶éé“¶å¼¹ã€‚ä¸ºäº†å‹æ¦¨å‡ºç¡¬ä»¶çš„å…¨éƒ¨èƒ½åŠ›ï¼Œå¹¶è¡ŒåŒ–æ˜¯å¿…è¦çš„ï¼Œä½†å¹¶è¡ŒåŒ–çš„ä»£ç ç†è§£ï¼ˆreason aboutï¼‰èµ·æ¥ä¹Ÿéå¸¸å¤æ‚ï¼Œå®é™…å¨åŠ›ä¹Ÿä¼šå› ä¸ºèµ„æºæµªè´¹è€Œå¤§æ‰“æŠ˜æ‰£ã€‚&lt;/p&gt;
&lt;h4&gt;2.2 å¼‚æ­¥å¯ä»¥è§£å†³é—®é¢˜å—ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;å‰é¢æåˆ°çš„ç¬¬äºŒç§æ–¹å¼ - å¯»æ±‚æ›´é«˜æ•ˆçš„ä½¿ç”¨æ–¹å¼ - æ˜¯èµ„æºæµªè´¹é—®é¢˜çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ç¼–å†™å¼‚æ­¥éé˜»å¡çš„ä»£ç ï¼Œåœ¨å‘ç”Ÿé˜»å¡ç­‰å¾…æ—¶ï¼Œåˆ‡æ¢æ‰§è¡Œå¦ä¸€ä¸ªæ´»è·ƒä»»åŠ¡ï¼Œæ´»è·ƒä»»åŠ¡ä½¿ç”¨çš„æ˜¯ç›¸åŒçš„åº•å±‚èµ„æºï¼Œç„¶ååœ¨å¼‚æ­¥å¤„ç†è¿‡ç¨‹ç»“æŸåå†åˆ‡å›åˆ°å½“å‰è¿›ç¨‹æ¥æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æˆ‘ä»¬å¦‚ä½•ç¼–å†™åœ¨ JVM ä¸Šå¼‚æ­¥æ‰§è¡Œçš„ä»£ç ï¼Ÿ Java æä¾›äº†ä¸¤ç§å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å›è°ƒ&lt;/strong&gt;ï¼šå¼‚æ­¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œä½†æ¥å—ä¸€ä¸ªé¢å¤–çš„ &lt;code&gt;callbackï¼ˆå›è°ƒï¼‰&lt;/code&gt;å‚æ•°ï¼ˆä¸€ä¸ª lambda è¡¨è¾¾å¼æˆ–åŒ¿åç±»ï¼‰ï¼Œåœ¨å¾—åˆ°å¼‚æ­¥å¤„ç†ç»“æœæ—¶ä¼šè°ƒç”¨è¿™ä¸ªå›è°ƒã€‚ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„ä¾‹å­æ˜¯ Swing çš„ &lt;code&gt;EventListener&lt;/code&gt; æ´¾ç”Ÿç±»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Future&lt;/strong&gt;ï¼šè¿™ç§å¼‚æ­¥æ–¹æ³•åœ¨è°ƒç”¨æ—¶ä¼š&lt;em&gt;å³åˆ»&lt;/em&gt;è¿”å›ä¸€ä¸ª &lt;code&gt;Future&amp;lt;T&amp;gt;&lt;/code&gt;ã€‚è¿™ä¸ªå¼‚æ­¥è¿‡ç¨‹ä¼šè®¡ç®—å‡ºä¸€ä¸ª &lt;code&gt;T&lt;/code&gt; ç±»å‹çš„å€¼ï¼Œä¸è¿‡éœ€è¦é€šè¿‡ &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡æ¥è®¿é—®ã€‚è®¡ç®—å‡ºæ¥çš„å€¼ä¸èƒ½ç«‹å³å¯ç”¨ï¼Œå¯ä»¥å¯¹ &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡è¿›è¡Œæ¢è¯¢ç›´åˆ°å€¼è®¡ç®—å‡ºæ¥ã€‚ä¾‹å¦‚ï¼š&lt;code&gt;ExecutorService&lt;/code&gt; è¿è¡Œ &lt;code&gt;Callable&amp;lt;T&amp;gt;&lt;/code&gt; ä»»åŠ¡å°±æ˜¯æä¾› &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡æ¥è·å–å¼‚æ­¥ç»“æœã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£ä¹ˆè¿™ä¸¤ç§æŠ€æœ¯æ–¹æ¡ˆå°±è¶³å¤Ÿå¥½äº†å—ï¼Ÿåœ¨å¾ˆå¤šä½¿ç”¨åœºæ™¯ä¸‹å¹¶ä¸ç†æƒ³ï¼Œè¿™ä¸¤ç§æ–¹å¼éƒ½æœ‰å±€é™ã€‚&lt;/p&gt;
&lt;p&gt;å¤šä¸ªå›è°ƒéš¾ä»¥ç»„åˆä½¿ç”¨ï¼Œå®¹æ˜“å¯¼è‡´ä»£ç éš¾ä»¥é˜…è¯»å’Œç»´æŠ¤ï¼ˆå°±æ˜¯æ‰€è°“çš„â€œå›è°ƒåœ°ç‹±â€ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼šåœ¨ç•Œé¢ä¸Šä¸ºç”¨æˆ·æ˜¾ç¤ºä»–æœ€å–œçˆ±çš„5ä¸ªç‰©ä»¶ï¼Œå¦‚æœç”¨æˆ·è¿˜æ²¡æœ‰ä»»ä½•å–œæ¬¢çš„ç‰©ä»¶ï¼Œåˆ™ç»™å‡ºå»ºè®®ç‰©ä»¶ã€‚è¿™ä¸ªé€»è¾‘æ¶‰åŠ3ä¸ªæœåŠ¡ï¼ˆç¬¬ä¸€ä¸ªæœåŠ¡æä¾›ç‰©ä»¶ IDï¼Œç¬¬äºŒä¸ªæœåŠ¡è·å–ç‰©ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œç¬¬ä¸‰ä¸ªæœåŠ¡æä¾›å»ºè®®ç‰©ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å›è°ƒåœ°åŸŸçš„ç¤ºä¾‹&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;userService.getFavorites(userId, &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Callback&amp;lt;List&amp;lt;String&amp;gt;&amp;gt;() { &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; onSuccess(List&amp;lt;String&amp;gt; list) { &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (list.isEmpty()) { &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
            suggestionService.getSuggestions(&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Callback&amp;lt;List&amp;lt;Favorite&amp;gt;&amp;gt;() {
                &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; onSuccess(List&amp;lt;Favorite&amp;gt; list) { &lt;span style="color: #008000"&gt;// 4&lt;/span&gt;
                    UiUtils.submitOnUiThread(() -&amp;gt; { &lt;span style="color: #008000"&gt;// 5&lt;/span&gt;
                        list.stream()
                            .limit(5)
                            .forEach(uiList::show); &lt;span style="color: #008000"&gt;// 6&lt;/span&gt;
                    })
                }

                &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; onError(Throwable error) { &lt;span style="color: #008000"&gt;// 7&lt;/span&gt;
                    UiUtils.errorPopup(error);
                }
            });
        } &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; {
            list.stream() &lt;span style="color: #008000"&gt;// 8&lt;/span&gt;
                .limit(5)
                .forEach(favId -&amp;gt; favoriteService.getDetails(favId, &lt;span style="color: #008000"&gt;// 9&lt;/span&gt;
                    &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Callback&amp;lt;Favorite&amp;gt;() {
                        &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; onSuccess(Favorite details) {
                            UiUtils.submitOnUiThread(() -&amp;gt; uiList.show(details));
                        }

                        &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; onError(Throwable error) {
                            UiUtils.errorPopup(error);
                        }
                    }
                ));
        }
    }

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; onError(Throwable error) {
        UiUtils.errorPopup(error);
    }
})
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;åŸºäºå›è°ƒçš„æœåŠ¡ï¼š&lt;code&gt;Callback&lt;/code&gt; æ¥å£å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œå¼‚æ­¥å¤„ç†æˆåŠŸæ—¶è°ƒç”¨å…¶ä¸­çš„ &lt;code&gt;onSuccess&lt;/code&gt;ï¼Œå¼‚æ­¥å¤„ç†å‘ç”Ÿé”™è¯¯æ—¶è°ƒç”¨ &lt;code&gt;onError&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€ä¸ªæœåŠ¡ä»¥å…¶ç»“æœ - å–œçˆ±ç‰©ä»¶çš„ ID åˆ—è¡¨ - è°ƒç”¨å›è°ƒæ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™å¿…é¡»è½¬åˆ° &lt;code&gt;suggestionService&lt;/code&gt; æ¥å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;suggestionService&lt;/code&gt; å‘ç¬¬äºŒä¸ªå›è°ƒä¼ é€’ä¸€ä¸ª &lt;code&gt;List&amp;lt;Favorite&amp;gt;&lt;/code&gt; åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äº UI æ¸²æŸ“ï¼Œå¿…é¡»è®©æ¶ˆè´¹æ•°æ®çš„ä»£ç è¿è¡Œåœ¨ UI çš„çº¿ç¨‹ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† Java 8 çš„ &lt;code&gt;Stream&lt;/code&gt; å°†å»ºè®®ç‰©ä»¶çš„æ•°é‡é™åˆ¶ä¸º5ä¸ªï¼Œç„¶ååœ¨ UI ä¸­æ¸²æŸ“æˆä¸€ä¸ªå›¾å½¢åŒ–åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ¯ä¸ªå›è°ƒå±‚çº§ï¼Œæˆ‘ä»¬éƒ½ä»¥ç›¸åŒçš„æ–¹å¼å¤„ç†é”™è¯¯ï¼šåœ¨å¼¹å‡ºæ¡†ä¸­æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;å›åˆ° å–œçˆ±ç‰©ä»¶ ID åˆ—è¡¨çš„å±‚çº§ã€‚å¦‚æœ &lt;code&gt;userService&lt;/code&gt; æœåŠ¡è¿”å›ä¸€ä¸ªä¸ä¸ºç©ºçš„ ID åˆ—è¡¨ï¼Œåˆ™è½¬åˆ° &lt;code&gt;favoriteService&lt;/code&gt; å»è·å–å¸¦è¯¦ç»†ä¿¡æ¯çš„ &lt;code&gt;Favorite&lt;/code&gt; å¯¹è±¡ã€‚å› ä¸ºåªéœ€è¦5ä¸ªå–œçˆ±ç‰©ä»¶ï¼Œæ‰€ä»¥å…ˆä½¿ç”¨æµå¼å¤„ç†å°† ID æ•°é‡é™åˆ¶ä¸º 5 ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;å†ä¸€æ¬¡ï¼Œä½¿ç”¨ä¸€ä¸ªå›è°ƒã€‚è¿™ä¸€æ¬¡æˆ‘ä»¬è·å–åˆ°å®Œæ•´çš„ &lt;code&gt;Favorite&lt;/code&gt; å¯¹è±¡ï¼Œå¹¶åœ¨ UI çº¿ç¨‹ä¸­å°†å…¶åœ¨ UI ä¸Šæ¸²æŸ“å‡ºæ¥ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;çœ‹çœ‹æœ‰å¤šå°‘ä»£ç ï¼Œç†è§£èµ·æ¥ä¹Ÿæœ‰ç‚¹å›°éš¾ï¼Œå…¶ä¸­ä¹Ÿæœ‰ä¸€äº›é‡å¤çš„ä»£ç ç‰‡æ®µã€‚å†æ¥çœ‹çœ‹ä½¿ç”¨ Reactor å¦‚ä½•æ¥å®ç°è¿™æ®µé€»è¾‘ï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å’Œå›è°ƒå®ç°æ–¹å¼ç­‰ä»·çš„ Reactor å®ç°&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;userService.getFavorite(userId) &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;
            .flatMap(favoriteService::getDetails) &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
            .switchIfEmpty(suggestionService.getSuggestions()) &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
            .take(5) &lt;span style="color: #008000"&gt;// 4&lt;/span&gt;
            .publishOn(UiUtils.uiThreadScheduler()) &lt;span style="color: #008000"&gt;// 5&lt;/span&gt;
            .subscribe(uiList::show, UiUtils::errorPopup); &lt;span style="color: #008000"&gt;// 6&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;å¼€å¯ä¸€ä¸ªå–œçˆ±ç‰©ä»¶ ID çš„æµã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;å¼‚æ­¥åœ°&lt;/em&gt;å°† ID è½¬æ¢æˆå¸¦è¯¦ç»†ä¿¡æ¯çš„ &lt;code&gt;Favorite&lt;/code&gt; å¯¹è±¡ï¼ˆ&lt;code&gt;flatMap&lt;/code&gt;ï¼‰ã€‚è‡³æ­¤æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ª &lt;code&gt;Favorite&lt;/code&gt; å¯¹è±¡æµã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ &lt;code&gt;Favorite&lt;/code&gt; æµä¸ºç©ºï¼Œåˆ™åˆ‡æ¢åˆ°å¤‡é€‰å¤„ç†æ–¹å¼ &lt;code&gt;suggestionService&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬åªå…³æ³¨äº§å‡ºæµä¸­çš„å‰ï¼ˆæœ€å¤šï¼‰5ä¸ªå…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œåœ¨ UI çº¿ç¨‹ä¸­å¤„ç†æ¯ä»½æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;çœŸæ­£è§¦å‘æµçš„å¤„ç†ï¼šæè¿°äº†å¦‚ä½•å¤„ç†æœ€ç»ˆçš„æ•°æ®ï¼ˆæ˜¾ç¤ºä¸ºä¸€ä¸ª UI åˆ—è¡¨ï¼‰ï¼Œä»¥åŠåœ¨å‘ç”Ÿé”™è¯¯æ—¶å¦‚ä½•å¤„ç†ï¼ˆæ˜¾ç¤ºä¸€ä¸ªå¼¹å‡ºæ¡†ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœå¸Œæœ›ç¡®ä¿åœ¨ 800ms ä»¥å†…è·å–åˆ°å–œçˆ±ç‰©ä»¶ ID åˆ—è¡¨ï¼Œå¦‚æœè¶…æ—¶ï¼Œåˆ™ä»ç¼“å­˜ä¸­è·å–æ•°æ®ï¼Œå¦‚ä½•å®ç°ï¼ŸåŸºäºå›è°ƒçš„ä»£ç å®ç°ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤æ‚çš„ä»»åŠ¡ã€‚ä½¿ç”¨ Reactorï¼Œåªéœ€åœ¨æ“ä½œé“¾ä¸­æ·»åŠ ä¸€ä¸ª &lt;code&gt;timeout&lt;/code&gt; ç®—å­å°±èƒ½è½»æ¾æå®šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è¶…æ—¶å›é€€å¤„ç†çš„ Reactor ä»£ç ç¤ºä¾‹&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;userService.getFavorites(userId)
            .timeout(Duration.ofMillis(800)) &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;
            .onErrorResume(cacheService.cachedFavoritesFor(userId)) &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
            .flatMap(favoriteService::getDetails)
            .switchIfEmpty(suggestionService.getSuggestions())
            .take(5)
            .publishOn(UiUtils.uiThreadScheduler())
            .subscribe(uiList::show, UiUtils::errorPopup);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;å¦‚æœå‰ç½®å¤„ç†è¶…è¿‡ 800ms è¿˜æ²¡è¾“å‡ºä»»ä½•äº‹ä»¶ï¼Œåˆ™ä¸‹å‘ä¸€ä¸ªé”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ”¶åˆ°é”™è¯¯äº‹ä»¶æ—¶ï¼Œå›é€€åˆ°è°ƒç”¨ &lt;code&gt;cacheService&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ“ä½œé“¾çš„ä½™ä¸‹éƒ¨åˆ†å’Œå‰ä¸€ä¸ªä¾‹å­ç±»ä¼¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡ç›¸æ¯”å›è°ƒæ›´å¥½ä¸€ç‚¹ï¼Œä¸è¿‡ç»„åˆä½¿ç”¨èµ·æ¥ä¹Ÿä¸å¤ªæ–¹ä¾¿ï¼Œå°½ç®¡ Java 8 å¼•å…¥ &lt;code&gt;CompletableFuture&lt;/code&gt; æ”¹å–„äº†è¿™ä¸€é—®é¢˜ã€‚å°†å¤šä¸ª &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡ç»„ç»‡åœ¨ä¸€èµ·ï¼Œå¯è¡Œä½†å¹¶ä¸å®¹æ˜“ã€‚å¦å¤–ï¼Œ&lt;code&gt;Future&lt;/code&gt; è¿˜æœ‰å…¶å®ƒé—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¹æ˜“ç¢°åˆ°å¦ä¸€ä¸ªé˜»å¡çš„æƒ…å†µï¼šè°ƒç”¨ &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡çš„ &lt;code&gt;get()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒæƒ°æ€§è®¡ç®—ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹å¤šä¸ªå€¼çš„å¤„ç†å’Œé«˜çº§é”™è¯¯å¤„ç†ç¼ºä¹æ”¯æŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¥çœ‹çœ‹å¦ä¸€ä¸ªä¾‹å­ï¼šå…ˆè·å–ä¸€ä¸ª ID åˆ—è¡¨ï¼Œç„¶åæ ¹æ® ID è·å–ä¸€ä¸ªåå­—ä»¥åŠè·å–ä¸€ä¸ªç»Ÿè®¡æ•°å€¼ï¼Œå†å°†åå­—å’Œç»Ÿè®¡æ•°å€¼ç»„åˆèµ·æ¥ä½¿ç”¨ï¼Œè¿™å‡ ä¸ªæ­¥éª¤éƒ½å¿…é¡»æ˜¯å¼‚æ­¥çš„ã€‚å¦‚ä¸‹ç¤ºä¾‹ä»¥ä¸€ç»„ &lt;code&gt;CompletableFuture&lt;/code&gt; æ¥å®ç°è¿™ä¸ªé€»è¾‘ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;CompletableFuture&amp;lt;List&amp;lt;String&amp;gt;&amp;gt; ids = ifhIds(); &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;

CompletableFuture&amp;lt;List&amp;lt;String&amp;gt;&amp;gt; results = ids.thenComposeAsync(l -&amp;gt; { &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
    Stream&amp;lt;CompletableFuture&amp;lt;String&amp;gt;&amp;gt; zip = 
            l.stream().map(i -&amp;gt; { &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
                CompletableFuture&amp;lt;String&amp;gt; nameTask = ifhName(i); &lt;span style="color: #008000"&gt;// 4&lt;/span&gt;
                CompletableFuture&amp;lt;Integer&amp;gt; statTask = ifhStat(i); &lt;span style="color: #008000"&gt;// 5&lt;/span&gt;
                &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; nameTask.thenCombineAsync(statTask, (name, stat) -&amp;gt; &lt;span style="color: #a31515"&gt;&amp;quot;Name &amp;quot;&lt;/span&gt; + name + &lt;span style="color: #a31515"&gt;&amp;quot; has stats &amp;quot;&lt;/span&gt; + stat); &lt;span style="color: #008000"&gt;// 6&lt;/span&gt;
            });
    List&amp;lt;CompletableFuture&amp;lt;String&amp;gt;&amp;gt; combinationList = zip.collect(Collectors.toList()); &lt;span style="color: #008000"&gt;// 7&lt;/span&gt;
    CompletableFuture&amp;lt;String&amp;gt;[] combinationArray = combinationList.toArray(&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; CompletableFuture[combinationList.size()]);

    CompletableFuture&amp;lt;Void&amp;gt; allDone = CompletableFuture.allOf(combinationArray); &lt;span style="color: #008000"&gt;// 8&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; allDone.thenApply(v -&amp;gt; combinationList.stream()
                    .map(CompletableFuture::join) &lt;span style="color: #008000"&gt;// 9&lt;/span&gt;
                    .collect(Collectors.toList()));
});

List&amp;lt;String&amp;gt; results = result.join(); &lt;span style="color: #008000"&gt;// 10&lt;/span&gt;
assertThat(results).contains(
        &lt;span style="color: #a31515"&gt;&amp;quot;Name NameJoe has stats 103&amp;quot;&lt;/span&gt;,
        &lt;span style="color: #a31515"&gt;&amp;quot;Name NameBart has stats 104&amp;quot;&lt;/span&gt;,
        &lt;span style="color: #a31515"&gt;&amp;quot;Name NameHenry has stats 105&amp;quot;&lt;/span&gt;,
        &lt;span style="color: #a31515"&gt;&amp;quot;Name NameNicole has stats 106&amp;quot;&lt;/span&gt;,
        &lt;span style="color: #a31515"&gt;&amp;quot;Name NameABSLAJNFOAJNFOANFANSF has stats 121&amp;quot;&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;ä¸€å¼€å§‹è·å¾—ä¸€ä¸ª &lt;code&gt;Future&lt;/code&gt; ç»“æœ - ä¸ºåç»­å¤„ç†æä¾›ä¸€ä¸ª &lt;code&gt;id&lt;/code&gt; åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€æ—¦è·å¾— &lt;code&gt;id&lt;/code&gt; åˆ—è¡¨å°±å¯ä»¥å¼€å§‹è¿›ä¸€æ­¥çš„å¼‚æ­¥å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;é€ä¸ªå¤„ç†åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;å¼‚æ­¥è·å–å…³è”çš„åå­—ã€‚&lt;/li&gt;
&lt;li&gt;å¼‚æ­¥è·å–å…³è”çš„ç»Ÿè®¡æ•°å€¼ã€‚&lt;/li&gt;
&lt;li&gt;ç»„åˆä¸¤ä¸ªå¼‚æ­¥ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;è‡³æ­¤æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ª &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡åˆ—è¡¨ï¼Œè¡¨ç¤ºæ‰€æœ‰çš„ç»„åˆä»»åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;å°† &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡æ•°ç»„ä¼ ç»™ &lt;code&gt;CompletableFuture.allOf&lt;/code&gt; æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¾“å‡ºä¸€ä¸ª &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡ï¼Œå½“ &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡æ•°ç»„ä»£è¡¨çš„å¼‚æ­¥ä»»åŠ¡éƒ½å®Œæˆæ—¶ï¼Œè¿™ä¸ª &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡ä»£è¡¨çš„å¼‚æ­¥ä»»åŠ¡ä¹Ÿå°±å®Œæˆäº†ã€‚&lt;/li&gt;
&lt;li&gt;æ­¤å¤„çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºï¼šåœ¨ï¼ˆ&lt;code&gt;allOf&lt;/code&gt; è¿”å›çš„ï¼‰&lt;code&gt;CompletableFuture&amp;lt;Void&amp;gt;&lt;/code&gt; å¯¹è±¡è¡¨ç¤ºçš„å¼‚æ­¥ä»»åŠ¡ç»“æŸæ—¶ï¼Œéå† &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡åˆ—è¡¨ï¼ˆcombinationListï¼‰ï¼Œä½¿ç”¨ &lt;code&gt;join()&lt;/code&gt; æ–¹æ³•ï¼ˆæ­¤æ¬¡ä¸ä¼šé˜»å¡ï¼Œå› ä¸º &lt;code&gt;allOf&lt;/code&gt; ä¼šç¡®ä¿æ‰€æœ‰å¼‚æ­¥ä»»åŠ¡éƒ½å·²å®Œæˆï¼‰è·å–æ”¶é›†å¼‚æ­¥ä»»åŠ¡ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;è§¦å‘æ‰§è¡Œæ•´ä¸ªå¼‚æ­¥å¤„ç†æµæ°´çº¿ï¼ˆè°ƒç”¨ &lt;code&gt;join()&lt;/code&gt; æ–¹æ³•ï¼‰ï¼Œç„¶è€Œç­‰ç€å¼‚æ­¥å¤„ç†å®Œæˆå¹¶è¿”å›ä¸€ä¸ªç»“æœåˆ—è¡¨ï¼Œå°±å¯ä»¥è¿›è¡Œæ–­è¨€åˆ¤æ–­äº†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Reactor è‡ªå¸¦äº†å¾ˆå¤šç»„åˆç®—å­ï¼Œå¯ä»¥ç®€åŒ–è¿™ä¸ªå¤„ç†è¿‡ç¨‹çš„å®ç°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux&amp;lt;String&amp;gt; ids = ifhrIds(); &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;

Flux&amp;lt;String&amp;gt; combinations = 
        ids.flatMap(id -&amp;gt; { &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
            Mono&amp;lt;String&amp;gt; nameTask = ifhrName(id); &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
            Mono&amp;lt;Integer&amp;gt; statTask = ifhrStat(id); &lt;span style="color: #008000"&gt;// 4&lt;/span&gt;

            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; nameTask.zipWith(statTask, &lt;span style="color: #008000"&gt;// 5&lt;/span&gt;
                    (name, stat) -&amp;gt; &lt;span style="color: #a31515"&gt;&amp;quot;Name &amp;quot;&lt;/span&gt; + name + &lt;span style="color: #a31515"&gt;&amp;quot; has stats &amp;quot;&lt;/span&gt; + stat);
        });

Mono&amp;lt;List&amp;lt;String&amp;gt;&amp;gt; result = combinations.collectList(); &lt;span style="color: #008000"&gt;// 6&lt;/span&gt;

List&amp;lt;String&amp;gt; results = result.block(); &lt;span style="color: #008000"&gt;// 7&lt;/span&gt;
assertThat(results).containsExactly( &lt;span style="color: #008000"&gt;// 8&lt;/span&gt;
    &lt;span style="color: #a31515"&gt;&amp;quot;Name NameJoe has stats 103&amp;quot;&lt;/span&gt;,
    &lt;span style="color: #a31515"&gt;&amp;quot;Name NameBart has stats 104&amp;quot;&lt;/span&gt;,
    &lt;span style="color: #a31515"&gt;&amp;quot;Name NameHenry has stats 105&amp;quot;&lt;/span&gt;,
    &lt;span style="color: #a31515"&gt;&amp;quot;Name NameNicole has stats 106&amp;quot;&lt;/span&gt;,
    &lt;span style="color: #a31515"&gt;&amp;quot;Name NameABSLAJNFOAJNFOANFANSF has stats 121&amp;quot;&lt;/span&gt;
);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;è¿™æ¬¡ï¼Œä¸€å¼€å§‹æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªå¼‚æ­¥æä¾›çš„å­—ç¬¦ä¸²åºåˆ—ï¼ˆ&lt;code&gt;ids&lt;/code&gt;ï¼‰ï¼ˆä¸€ä¸ª &lt;code&gt;Flux&amp;lt;String&amp;gt;&lt;/code&gt; å¯¹è±¡ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºåºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå¼‚æ­¥å¤„ç†ä¸¤æ¬¡ï¼ˆåœ¨ &lt;code&gt;flatMap&lt;/code&gt; çš„ lambda å‚æ•°å€¼ä¸­ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è·å–å…³è”çš„åå­—ã€‚&lt;/li&gt;
&lt;li&gt;è·å–å…³è”çš„ç»Ÿè®¡å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å¼‚æ­¥ç»„åˆä¸¤ä¸ªå€¼&lt;/li&gt;
&lt;li&gt;åœ¨å¼‚æ­¥å¤„ç†çš„ç»“æœå¯ç”¨æ—¶ï¼Œå°†å®ƒä»¬èšåˆåˆ°ä¸€ä¸ª &lt;code&gt;List&lt;/code&gt; å¯¹è±¡ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šç»§ç»­å¼‚æ­¥å¤„ç† &lt;code&gt;Flux&lt;/code&gt;ï¼Œæ¯”å¦‚ï¼šå¼‚æ­¥ç»„åˆä½¿ç”¨å®ƒæˆ–è€…ç›´æ¥è®¢é˜…å®ƒã€‚æœ€å¯èƒ½çš„æ˜¯ï¼Œè¿”å›è¿™ä¸ª &lt;code&gt;Mono&lt;/code&gt; ç±»å‹çš„ &lt;code&gt;result&lt;/code&gt;ã€‚å› ä¸ºè¿™é‡Œåªæ˜¯ä¸ªæµ‹è¯•ï¼Œæ‰€ä»¥ä½¿ç”¨äº† blockï¼Œç­‰å¾…å¤„ç†ç»“æŸï¼Œç›´æ¥è¿”å›å€¼çš„èšåˆåˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹ç»“æœè¿›è¡Œæ–­è¨€åˆ¤æ–­ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨å›è°ƒå’Œ &lt;code&gt;Future&lt;/code&gt; å¯¹è±¡çš„é—®é¢˜æ˜¯ç±»ä¼¼çš„ï¼Œååº”å¼ç¼–ç¨‹ä»¥ &lt;code&gt;å‘å¸ƒè€…ï¼ˆPublisherï¼‰- è®¢é˜…è€…ï¼ˆSubscriberï¼‰&lt;/code&gt; è§£å†³äº†è¿™äº›é—®é¢˜ã€‚ &lt;/p&gt;
&lt;h4&gt;2.3 ä»å‘½ä»¤å¼åˆ°ååº”å¼ç¼–ç¨‹&lt;/h4&gt;
&lt;p&gt;ååº”å¼ç¼–ç¨‹åº“ï¼Œæ¯”å¦‚ Reactorï¼Œç›®æ ‡æ˜¯è§£å†³ JVM ä¸Šâ€œç»å…¸â€å¼‚æ­¥å¤„ç†æ–¹å¼çš„å¼Šç«¯ï¼ŒåŒæ—¶ä¹Ÿä¸“æ³¨äºæä¾›ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯ç»„åˆæ€§&lt;/strong&gt; å’Œ &lt;strong&gt;ä»£ç å¯è¯»æ€§&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å°†æ•°æ®è§†ä½œä¸€ä¸ª&lt;strong&gt;æµ&lt;/strong&gt;ï¼Œå¹¶æä¾›ä¸°å¯Œçš„&lt;strong&gt;ç®—å­&lt;/strong&gt;æ¥æ“ä½œæµ&lt;/li&gt;
&lt;li&gt;åœ¨&lt;strong&gt;è®¢é˜…ï¼ˆsubscriberï¼‰&lt;/strong&gt;ä¹‹å‰ä¸ä¼šå®é™…åšä»»ä½•äº‹æƒ…&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åå‹&lt;/strong&gt; æˆ–è€…è¯´ æ¶ˆè´¹è€…é€šçŸ¥ç”Ÿäº§è€…æµé€Ÿè¿‡é«˜çš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;ä¸å¹¶å‘æ— å…³ï¼ˆconcurrency-agnosticï¼‰çš„&lt;strong&gt;é«˜é˜¶ï¼ˆhigh levelï¼‰&lt;/strong&gt;æŠ½è±¡ï¼Œ&lt;strong&gt;é€‚ç”¨æ€§å¼ºï¼ˆhigh valueï¼‰&lt;/strong&gt;ï¼ˆè¯‘æ³¨ï¼šå¹¶å‘æ— å…³æ˜¯æŒ‡è¿™ç§æŠ½è±¡å¯¹äºå¹¶å‘éå¹¶å‘çš„åœºæ™¯éƒ½é€‚ç”¨ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3. Reactor æ ¸å¿ƒç‰¹æ€§&lt;/h3&gt;
&lt;p&gt;Reactor é¡¹ç›®çš„ä¸»è¦æˆæœæ˜¯ &lt;code&gt;reactor-core&lt;/code&gt; - ä¸€ä¸ªéµå¾ª&lt;a href="https://www.reactive-streams.org/"&gt;ååº”å¼æµ&lt;/a&gt;è§„èŒƒå¹¶æ”¯æŒ Java 8 çš„ååº”å¼ç¼–ç¨‹åº“ã€‚&lt;/p&gt;
&lt;p&gt;Reactor å¼•å…¥ 2 ä¸ªå¯ç»„åˆçš„ååº”å¼ç±»å‹ï¼ˆå®ç°äº† &lt;code&gt;Publisher&lt;/code&gt; æ¥å£å¹¶ä¸”æä¾›ä¸°å¯Œçš„ç®—å­ï¼‰ï¼š &lt;code&gt;Flux&lt;/code&gt; å’Œ &lt;code&gt;Mono&lt;/code&gt;ã€‚ä¸€ä¸ª &lt;code&gt;Flux&lt;/code&gt; å¯¹è±¡ä»£è¡¨åŒ…å« 0 åˆ° N ä¸ªå…ƒç´ çš„ååº”å¼åºåˆ—ï¼Œ&lt;code&gt;Mono&lt;/code&gt; å¯¹è±¡ä»£è¡¨å•å€¼æˆ–ç©ºï¼ˆ0æˆ–1ä¸ªå…ƒç´ ï¼‰çš„ç»“æœã€‚&lt;/p&gt;
&lt;h4&gt;3.1 Flux - 0-N ä¸ªå€¼çš„å¼‚æ­¥åºåˆ—&lt;/h4&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/oKMX4rTvUViZRHj.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;3.2 Mono - åŒ…å« 0 æˆ– 1 ä¸ªå€¼çš„å¼‚æ­¥ç»“æœ&lt;/h4&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/8WxGgH9UkcQwuX4.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;3.3 åˆ›å»ºä¸€ä¸ª Flux æˆ– Mono å¹¶è¿›è¡Œè®¢é˜…çš„ä¸€äº›ç®€å•æ–¹æ³•&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;Flux&lt;/code&gt; å’Œ &lt;code&gt;Mono&lt;/code&gt; çš„ç±»ä¸­åŒ…å«å¤§é‡çš„å·¥å‚æ–¹æ³•ï¼Œä¸Šæ‰‹ä½¿ç”¨ Reactor æœ€ç®€å•çš„æ–¹å¼æ˜¯ä»ä¸­é€‰æ‹©ä¸€ä¸ªç”¨èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ª &lt;code&gt;String&lt;/code&gt; åºåˆ—ï¼Œå¯ä»¥é€ä¸ªåˆ—ä¸¾å‡ºè¿™äº›å­—ç¬¦ä¸²ï¼Œæˆ–è€…å°†è¿™äº›å­—ç¬¦ä¸²æ”¾åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œç„¶ååŸºäºè¿™ä¸ªé›†åˆåˆ›å»ºä¸€ä¸ª Fluxï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux&amp;lt;&lt;span style="border: 1px solid #FF0000"&gt;&lt;/span&gt;String&amp;gt; seq1 = Flux.just(&lt;span style="color: #a31515"&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;foobar&amp;quot;&lt;/span&gt;);

List&amp;lt;String&amp;gt; iterable = Arrays.asList(&lt;span style="color: #a31515"&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;foobar&amp;quot;&lt;/span&gt;);
Flux&amp;lt;String&amp;gt; seq2 = Flux.fromIterable(iterable);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶å®ƒä¸€äº›å·¥å‚æ–¹æ³•çš„ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Mono&amp;lt;String&amp;gt; noData = Mono.empty();
Mono&amp;lt;String&amp;gt; data = Mono.just(&lt;span style="color: #a31515"&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;);
Flux&amp;lt;Integer&amp;gt; numbersFromFiveToSeven = Flux.range(5, 3);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºè®¢é˜…æ“ä½œï¼Œ&lt;code&gt;Flux&lt;/code&gt; å’Œ &lt;code&gt;Mono&lt;/code&gt; å€ŸåŠ©äº† Java 8 çš„ lambda è¡¨è¾¾å¼ã€‚æœ‰å¤§é‡ &lt;code&gt;.subscribe()&lt;/code&gt; çš„é‡è½½æ–¹æ³•/å˜ç§æ–¹æ³•ï¼ˆvariantsï¼‰å¯é€‰é€‰æ‹©ä½¿ç”¨ï¼Œä½¿ç”¨ lambda è¡¨è¾¾å¼æ¥å®ç°å›è°ƒçš„ä¸åŒç»„åˆï¼Œå¦‚ä¸‹æ‰€ç¤ºæ˜¯è¿™äº›æ–¹æ³•çš„ç­¾åï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Flux ä¸­åŸºäº lambda è¡¨è¾¾å¼çš„è®¢é˜…æ–¹æ³•å˜ç§&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;subscribe();

subscribe(Consumer&amp;lt;? &lt;span style="color: #0000ff"&gt;super&lt;/span&gt; T&amp;gt; consumer);

subscribe(Consumer&amp;lt;? &lt;span style="color: #0000ff"&gt;super&lt;/span&gt; T&amp;gt; consumer,
          Consumer&amp;lt;? &lt;span style="color: #0000ff"&gt;super&lt;/span&gt; Throwable&amp;gt; errorConsumer);

subscribe(Consumer&amp;lt;? &lt;span style="color: #0000ff"&gt;super&lt;/span&gt; T&amp;gt; consumer,
          Consumer&amp;lt;? &lt;span style="color: #0000ff"&gt;super&lt;/span&gt; Throwable&amp;gt; errorConsumer,
          Runnable completeConsumer);

subscribe(Consumer&amp;lt;? &lt;span style="color: #0000ff"&gt;super&lt;/span&gt; T&amp;gt; consumer,
          Consumer&amp;lt;? &lt;span style="color: #0000ff"&gt;super&lt;/span&gt; Throwable&amp;gt; errorConsumer,
          Runnable completeConsumer,
          Consumer&amp;lt;? &lt;span style="color: #0000ff"&gt;super&lt;/span&gt; Subscription&amp;gt; subscriptionConsumer);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;è¿™äº›è®¢é˜…æ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªè®¢é˜…æ“ä½œçš„å¼•ç”¨ï¼Œå½“ä¸å†éœ€è¦æ›´å¤šçš„æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå¼•ç”¨æ¥å–æ¶ˆè®¢é˜…ã€‚ä¸€æ—¦å–æ¶ˆï¼Œæ•°æ®æºå°±åº”è¯¥åœæ­¢äº§å‡ºæ•°æ®ï¼Œå¹¶æ¸…ç†ä½¿ç”¨çš„æ‰€æœ‰èµ„æºã€‚è¿™ä¸€ â€œå–æ¶ˆå¹¶æ¸…ç†â€ è¡Œä¸ºåœ¨ Reactor ä¸­ä»¥é€šç”¨çš„ &lt;code&gt;Disposable&lt;/code&gt; æ¥å£æ¥è¡¨ç°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;3.3.1 lambda è¡¨è¾¾å¼çš„æ›¿ä»£æ–¹æ¡ˆï¼šBaseSubscriber&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;Flux&lt;/code&gt; å’Œ &lt;code&gt;Mono&lt;/code&gt; æä¾›äº†ä¸€ä¸ªç›¸æ¯”ä¸Šé¢é‚£ä¹ˆè®¢é˜…æ–¹æ³•æ›´é€šç”¨çš„ &lt;code&gt;subscribe&lt;/code&gt; æ–¹æ³•ï¼Œå…¶å‚æ•°æ˜¯ä¸€ä¸ªå®Œæ•´çš„ &lt;code&gt;Subscriber&lt;/code&gt; å®ä¾‹ï¼Œè€Œä¸æ˜¯æ ¹æ®å‡ ä¸ª lambda è¡¨è¾¾å¼ç»„åˆå‡ºä¸€ä¸ª &lt;code&gt;Subscriber&lt;/code&gt; å®ä¾‹ã€‚ä¸ºäº†æ–¹ä¾¿å®ç°è¿™æ ·çš„ä¸€ä¸ª &lt;code&gt;Subscriber&lt;/code&gt;ï¼ŒReactor æä¾›äº†ä¸€ä¸ªåä¸º &lt;code&gt;BaseSubscriber&lt;/code&gt; çš„å¯æ‰©å±•çš„æŠ½è±¡ç±»ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ¥å®ç°ä¸€ä¸ªï¼Œæˆ‘ä»¬å°†å…¶å‘½åä¸º &lt;code&gt;SampleSubscriber&lt;/code&gt;ã€‚å¦‚ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•å°†å…¶åº”ç”¨åˆ°ä¸€ä¸ª &lt;code&gt;Flux&lt;/code&gt; åºåˆ—ä¸Šï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;SampleSubscriber&amp;lt;Integer&amp;gt; ss = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; SampleSubscriber&amp;lt;Integer&amp;gt;();
Flux&amp;lt;Integer&amp;gt; ints = Flux.range(1, 4);
&lt;span style="color: #008000"&gt;//&lt;/span&gt;
ints.subscribe(i -&amp;gt; System.out.println(i),
    error -&amp;gt; System.err.println(&lt;span style="color: #a31515"&gt;&amp;quot;Error &amp;quot;&lt;/span&gt; + error),
    () -&amp;gt; {System.out.println(&lt;span style="color: #a31515"&gt;&amp;quot;Done&amp;quot;&lt;/span&gt;);},
    s -&amp;gt; s.request(10));
&lt;span style="color: #008000"&gt;//&lt;/span&gt;
ints.subscribe(ss);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº† &lt;code&gt;SampleSubscriber&lt;/code&gt; ç»§æ‰¿è‡ª &lt;code&gt;BaseSubscriber&lt;/code&gt; çš„ä¸€ä¸ªæœ€ç®€åŒ–å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;package&lt;/span&gt; io.projectreactor.samples;

&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.reactivestreams.Subscription;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; reactor.core.publisher.BaseSubscriber;

&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;SampleSubscriber&lt;/span&gt;&amp;lt;T&amp;gt; &lt;span style="color: #0000ff"&gt;extends&lt;/span&gt; BaseSubscriber&amp;lt;T&amp;gt; {

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; hookOnSubscribe(Subscription subscription) {
        System.out.println(&lt;span style="color: #a31515"&gt;&amp;quot;Subscribed&amp;quot;&lt;/span&gt;);
        request(1);
    }

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; hookOnNext(T value) {
        System.out.println(value);
        request(1);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;BaseSubscriber&lt;/code&gt; è¿˜æä¾›äº†ä¸€ä¸ª &lt;code&gt;requestUnbounded()&lt;/code&gt; æ–¹æ³•æ¥åˆ‡æ¢åˆ°æ— é™æ¶ˆè´¹æ¨¡å¼ï¼ˆç›¸å½“äº &lt;code&gt;request(Long.MAX_VALUES)&lt;/code&gt;ï¼‰ï¼Œå¦å¤–ä¹Ÿæä¾›äº†ä¸€ä¸ª &lt;code&gt;cancel()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº† &lt;code&gt;hookOnSubscribe&lt;/code&gt; å’Œ &lt;code&gt;hookOnNext&lt;/code&gt;ï¼Œ&lt;code&gt;BaseSubscriber&lt;/code&gt; è¿˜æä¾›äº†å…¶ä»–é’©å­æ–¹æ³•ï¼ˆæ–¹æ³•ä½“ä¸ºç©ºï¼Œæä¾›ç»§æ‰¿é‡å†™ï¼‰ï¼š&lt;code&gt;hookOnComplete&lt;/code&gt;ã€&lt;code&gt;hookOnError&lt;/code&gt;ã€&lt;code&gt;hookOnCancel&lt;/code&gt; ä»¥åŠ &lt;code&gt;hookFinally&lt;/code&gt;ï¼ˆå½“äº‹ä»¶/æ¶ˆæ¯åºåˆ—ï¼ˆæµï¼‰ç»ˆæ­¢æ—¶ï¼Œä¸€å®šä¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œè°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸€ä¸ª &lt;code&gt;SignalType&lt;/code&gt; ç±»å‹å‚æ•°è¡¨ç¤ºç»ˆæ­¢çš„ç±»å‹ï¼‰ã€‚&lt;/p&gt;
&lt;h5&gt;3.3.2 å…³äºåå‹å’Œè°ƒæ•´è¯·æ±‚é‡çš„æ–¹å¼&lt;/h5&gt;
&lt;p&gt;åœ¨ Reactor ä¸­å®ç°åå‹ï¼Œæ˜¯é€šè¿‡å‘ä¸Šæ¸¸ç®—å­å‘é€ä¸€ä¸ª &lt;code&gt;è¯·æ±‚ï¼ˆrequestï¼‰&lt;/code&gt;æ¥é€çº§ä¼ æ’­æ¶ˆè´¹è€…çš„å‹åŠ›ï¼Œç›´åˆ°æ•°æ®æºã€‚å½“å‰è¯·æ±‚çš„æ€»é‡æœ‰æ—¶åˆç§°ä¸ºå½“å‰çš„â€œéœ€æ±‚é‡â€ æˆ–è€… â€œå¾…æ»¡è¶³ï¼ˆpendingï¼‰çš„è¯·æ±‚é‡â€ã€‚éœ€æ±‚é‡çš„ä¸Šé™æ˜¯ &lt;code&gt;Long.MAX_VALUE&lt;/code&gt;ï¼Œè¡¨ç¤ºä¸€ä¸ªæ— é™é‡çš„è¯·æ±‚ï¼ˆæ„æ€æ˜¯â€œå°½å¿«äº§å‡ºæ•°æ®â€œ - åå‹ä¹Ÿå°±å¤±æ•ˆäº†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆçš„è®¢é˜…è€…åœ¨è®¢é˜…ä¹‹å‰ä¼šå‘å‡ºé¦–ä¸ªè¯·æ±‚ï¼Œè®¢é˜…æ‰€æœ‰æ¶ˆæ¯/æ•°æ®æœ€ç›´æ¥çš„æ–¹å¼æ˜¯å³åˆ»è§¦å‘ä¸€ä¸ªæ— é™é‡ï¼ˆLong.MAX_VALUEï¼‰çš„è¯·æ±‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;subscribe()&lt;/code&gt; ä»¥åŠå¤§éƒ¨åˆ†åŸºäº lambda è¡¨è¾¾å¼çš„å˜ç§æ–¹æ³•ï¼ˆé™¤äº†é‚£ä¸ªæ¥å— &lt;code&gt;Consumer&amp;lt;Subscription&amp;gt;&lt;/code&gt; ç±»å‹å‚æ•°çš„æ–¹æ³•ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;block()&lt;/code&gt;ã€&lt;code&gt;blockFirst()&lt;/code&gt; å’Œ &lt;code&gt;blockLast()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;toIterable()&lt;/code&gt; æˆ– &lt;code&gt;toStream()&lt;/code&gt; è¿›è¡Œéå†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹é¦–ä¸ªè¯·æ±‚è¿›è¡Œå®šåˆ¶çš„æœ€ç®€å•æ–¹å¼æ˜¯ä»¥ä¸€ä¸ª &lt;code&gt;BaseSubscriber&lt;/code&gt; æ´¾ç”Ÿç±»å®ä¾‹æ¥ &lt;code&gt;subscribe&lt;/code&gt;ï¼Œæ´¾ç”Ÿç±»é‡å†™ &lt;code&gt;BaseSubscriber&lt;/code&gt; çš„ &lt;code&gt;hookOnSubscribe&lt;/code&gt; æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux.range(1, 10)
    .doOnRequest(r -&amp;gt; System.out.println(&lt;span style="color: #a31515"&gt;&amp;quot;request of &amp;quot;&lt;/span&gt; + r))
    .subscribe(&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; BaseSubscriber&amp;lt;Integer&amp;gt;() {

      @Override
      &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; hookOnSubscribe(Subscription subscription) {
        request(1);
      }

      @Override
      &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; hookOnNext(Integer integer) {
        System.out.println(&lt;span style="color: #a31515"&gt;&amp;quot;Cancelling after having received &amp;quot;&lt;/span&gt; + integer);
        cancel();
      }
    });
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢è¿™ä¸ªä»£ç ç‰‡æ®µè¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;request of 1
Cancelling after having received 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ”¹å˜ä¸‹æ¸¸éœ€æ±‚é‡çš„ç®—å­&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è°¨è®°ï¼šè®¢é˜…æ—¶æŒ‡å®šçš„éœ€æ±‚é‡ï¼Œä¸Šæ¸¸æ“ä½œé“¾ä¸­çš„æ¯ä¸ªç®—å­éƒ½å¯ä»¥å¯¹å…¶ä½œå‡ºè°ƒæ•´ã€‚ä¸€ä¸ªå…¸å‹æ¡ˆä¾‹æ˜¯ &lt;code&gt;buffer(N)&lt;/code&gt; ç®—å­ï¼šå¦‚æœå®ƒæ”¶åˆ°ä¸€ä¸ª &lt;code&gt;request(2)&lt;/code&gt; è¯·æ±‚ï¼Œå®ƒä¼šç†è§£ä¸º2ä¸ªç¼“å†²åŒºçš„è¯·æ±‚é‡ã€‚å› ä¸ºç¼“å†²åŒºéœ€è¦ N ä¸ªå…ƒç´ æ‰è®¤ä¸ºæ˜¯æ»¡çš„ï¼Œæ‰€ä»¥ &lt;code&gt;buffer&lt;/code&gt; ç®—å­å°†è¯·æ±‚é‡è°ƒæ•´æˆäº† &lt;code&gt;2 x N&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä½ ä¹Ÿè®¸ä¹Ÿæ³¨æ„åˆ°æŸäº›ç®—å­å­˜åœ¨è¿™æ ·çš„å˜ç§ - æ¥å—ä¸€ä¸ªåä¸º &lt;code&gt;prefetch&lt;/code&gt; çš„ &lt;code&gt;int&lt;/code&gt; ç±»å‹å‚æ•°ã€‚è¿™æ˜¯å¦å¤–ä¸€ç±»ä¿®æ”¹ä¸‹æ¸¸è¯·æ±‚é‡çš„ç®—å­ã€‚è¿™ç±»ç®—å­ï¼ˆæ¯”å¦‚ &lt;code&gt;flatMap&lt;/code&gt;ï¼‰é€šå¸¸æ˜¯å¤„ç†å†…éƒ¨åºåˆ—ï¼ˆinner sequencesï¼‰ï¼Œä»æ¯ä¸ªè¿›å…¥çš„å…ƒç´ æ´¾ç”Ÿå‡ºä¸€ä¸ª &lt;code&gt;Publisher&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;é¢„å–ï¼ˆprefetchï¼‰&lt;/code&gt;æ˜¯è°ƒæ•´å†…éƒ¨åºåˆ—è¯·æ±‚é‡çš„ä¸€ä¸ªæ–¹å¼ã€‚å¦‚æœæœªæŒ‡å®šï¼Œå¤šæ•°è¿™ç±»ç®—å­ä¼šä»¥ 32 ä¸ºåˆå§‹éœ€æ±‚é‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç±»ç®—å­é€šå¸¸ä¹Ÿä¼šå®ç°ä¸€ä¸ª&lt;strong&gt;å¡«è¡¥ä¼˜åŒ–æ–¹æ¡ˆ&lt;/strong&gt;ï¼šç®—å­ä¸€æ—¦çœ‹åˆ° 25% çš„é¢„å–è¯·æ±‚é‡å·²å®Œæˆï¼Œå°±ä¼šå‘ä¸Šæ¸¸å†å‘èµ· 25% çš„è¯·æ±‚é‡ã€‚è¿™æ˜¯ä¸€ä¸ªå¯å‘å¼ä¼˜åŒ–ï¼Œå¦‚æ­¤è¿™ç±»ç®—å­å°±å¯ä»¥ä¸»åŠ¨åœ°ä¸ºå³å°†åˆ°æ¥çš„è¯·æ±‚é‡åšå¥½å‡†å¤‡ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œå†ä»‹ç»ä¸€å¯¹ç›´æ¥ç”¨äºè°ƒæ•´è¯·æ±‚é‡çš„ç®—å­ï¼š&lt;code&gt;limitRate&lt;/code&gt; å’Œ &lt;code&gt;limitRequest&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;limitRate(N)&lt;/code&gt; æŠŠä¸‹æ¸¸çš„è¯·æ±‚é‡æ‹†åˆ†æˆå¤šä¸ªæ›´å°é‡çš„è¯·æ±‚å‘ä¸Šæ¸¸ä¼ æ’­ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª &lt;code&gt;100&lt;/code&gt; çš„è¯·æ±‚ä¼ åˆ°ç®—å­ &lt;code&gt;limitRate(10)&lt;/code&gt;ï¼Œåˆ™ä¼šå˜æˆ 10 æ¬¡è¯·æ±‚ï¼Œä¸€æ¬¡è¯·æ±‚ 10ï¼Œä¼ æ’­åˆ°ä¸Šæ¸¸ã€‚æ³¨æ„ï¼š&lt;code&gt;limitRate&lt;/code&gt; å®é™…ä¸Šä»¥è¿™ç§å½¢å¼å®ç°äº†å‰é¢æåˆ°çš„å¡«è¡¥ä¼˜åŒ–æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç®—å­æœ‰ä¸€ä¸ªå˜ç§ï¼Œå…è®¸å¼€å‘è€…è°ƒæ•´é¢„å–å¡«è¡¥é‡ï¼ˆå³ç®—å­å˜ç§çš„ &lt;code&gt;lowTide&lt;/code&gt; å‚æ•°ï¼‰ï¼š&lt;code&gt;limitRate(highTide, lowTide)&lt;/code&gt;ã€‚&lt;code&gt;lowTide&lt;/code&gt; å‚æ•°è®¾å®šä¸º &lt;code&gt;0&lt;/code&gt; æ—¶ï¼Œä¼šå¯¼è‡´ä¸¥æ ¼é™åˆ¶ä¸€æ¬¡è¯·æ±‚ &lt;code&gt;highTide&lt;/code&gt; ä¸ªï¼Œè€Œä¸æ˜¯ç»å¡«è¡¥ç­–ç•¥è¿›ä¸€æ­¥è°ƒæ•´è¿‡çš„ä¸€æ¬¡è¯·æ±‚é‡ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œ&lt;code&gt;limitRequest(N)&lt;/code&gt; åˆ™æ˜¯é™åˆ¶äº†ä¸‹æ¸¸æœ€å¤§çš„éœ€æ±‚æ€»é‡ã€‚å®ƒä¼šç´¯åŠ è¯·æ±‚é‡ç›´åˆ° &lt;code&gt;N&lt;/code&gt;ã€‚å¦‚æœä¸€æ¬¡è¯·æ±‚æ²¡æœ‰è®©éœ€æ±‚æ€»é‡è¶…è¿‡ &lt;code&gt;N&lt;/code&gt;ï¼Œåˆ™è¿™æ¬¡è¯·æ±‚ä¼šå®Œæ•´åœ°ä¼ æ’­åˆ°ä¸Šæ¸¸ï¼ˆè¯‘æ³¨ï¼šæ„æ€æ˜¯å¦‚æœä¸€æ¬¡è¯·æ±‚è®©éœ€æ±‚æ€»é‡è¶…è¿‡äº† &lt;code&gt;N&lt;/code&gt;ï¼Œè¿™æ¬¡è¯·æ±‚çš„è¯·æ±‚é‡ä¼šè¢«è£å‰ªï¼‰ã€‚å¦‚æœæ•°æ®æºå‘å‡ºçš„æ•°æ®æ€»é‡è¾¾åˆ°äº†é™åˆ¶çš„æ€»é‡ï¼Œ&lt;code&gt;limitRequest&lt;/code&gt; åˆ™è®¤ä¸ºè¿™ä¸ªåºåˆ—å¯ä»¥ç»“æŸäº†ï¼Œå‘ä¸‹æ¸¸å‘é€ä¸€ä¸ª &lt;code&gt;onComplete&lt;/code&gt; ä¿¡å·ï¼Œå¹¶å–æ¶ˆæ•°æ®æºã€‚&lt;/p&gt;
&lt;h4&gt;3.4 åŠ¨æ€åœ°ï¼ˆprogrammaticallyï¼‰åˆ›å»ºä¸€ä¸ªåºåˆ—&lt;/h4&gt;
&lt;h5&gt;3.4.1 åŒæ­¥çš„ generate&lt;/h5&gt;
&lt;p&gt;åŠ¨æ€åˆ›å»ºä¸€ä¸ª &lt;code&gt;Flux&lt;/code&gt; æœ€ç®€å•çš„æ–¹å¼æ˜¯å€ŸåŠ© &lt;code&gt;generate&lt;/code&gt; æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€æ–¹å¼å¯ä»¥å®ç°&lt;strong&gt;åŒæ­¥çš„&lt;/strong&gt;ä¸”&lt;strong&gt;ä¸€ä¸ªæ¥ä¸€ä¸ª&lt;/strong&gt;åœ°ä¸‹å‘æ•°æ®ï¼Œè¿™æ„å‘³ç€æ¥æ”¶æ–¹ï¼ˆsinkï¼‰æ˜¯ä¸€ä¸ª &lt;code&gt;SynchronousSink&lt;/code&gt;ï¼Œå…¶ &lt;code&gt;next()&lt;/code&gt; æ–¹æ³•åœ¨ä¸€æ¬¡å›è°ƒæ–¹æ³•è°ƒç”¨ä¸­æœ€å¤šåªèƒ½è°ƒç”¨ä¸€æ¬¡ã€‚å¯ä»¥åœ¨å…¶åå†è°ƒç”¨ &lt;code&gt;error(Throwable)&lt;/code&gt; æˆ– &lt;code&gt;complete()&lt;/code&gt;ï¼Œè§†ä½ çš„éœ€æ±‚è€Œå®šã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;generate&lt;/code&gt; æ–¹æ³•å˜ç§çš„è¿™ä¸ªåº”è¯¥æ˜¯æœ€æœ‰ç”¨çš„ï¼šå…è®¸ä¿æŒä¸€ä¸ªçŠ¶æ€ï¼Œåœ¨è°ƒç”¨æ¥æ”¶æ–¹çš„ &lt;code&gt;next&lt;/code&gt; æ–¹æ³•æ—¶å¯ä»¥åŸºäºè¿™ä¸ªçŠ¶æ€æ¥å†³å®šä¸‹å‘ä»€ä¹ˆæ•°æ®ã€‚é‚£ä¹ˆè¿™ä¸ªç”Ÿæˆå™¨å‡½æ•°å°±æˆäº†ä¸€ä¸ª &lt;code&gt;BiFunction&amp;lt;S, SynchronousSink&amp;lt;T&amp;gt;, S&amp;gt;&lt;/code&gt; å®ä¾‹ï¼Œå…¶ä¸­ &lt;code&gt;&amp;lt;S&amp;gt;&lt;/code&gt; å³æ˜¯çŠ¶æ€å¯¹è±¡çš„ç±»å‹ã€‚å¯¹äºåˆå§‹çŠ¶æ€ï¼Œå¯ä»¥æä¾›ä¸€ä¸ª &lt;code&gt;Supplier&amp;lt;S&amp;gt;&lt;/code&gt; æ¥è·å–ï¼Œè¿™æ ·ç”Ÿæˆå™¨å‡½æ•°æ¯è½®è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ª &lt;code&gt;int&lt;/code&gt; å®ä¾‹ä½œä¸ºçŠ¶æ€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;åŸºäºçŠ¶æ€çš„ &lt;code&gt;generate&lt;/code&gt; æ–¹æ³•ä½¿ç”¨ç¤ºä¾‹&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux&amp;lt;String&amp;gt; flux = Flux.generate(
    () -&amp;gt; 0, &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;
    (state, sink) -&amp;gt; {
        sink.next(&lt;span style="color: #a31515"&gt;&amp;quot;3 x &amp;quot;&lt;/span&gt; + state + &lt;span style="color: #a31515"&gt;&amp;quot; = &amp;quot;&lt;/span&gt; + 3*state); &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (state == 10) sink.complete(); &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; state + 1; &lt;span style="color: #008000"&gt;// 4&lt;/span&gt;
    });
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;ä»¥ 0 ä½œä¸ºåˆå§‹çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;åŸºäºçŠ¶æ€ï¼ˆstateï¼‰å†³å®šä¸‹å‘ä»€ä¹ˆæ¶ˆæ¯/æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;åŸºäºçŠ¶æ€å†³å®šä½•æ—¶å¯ä»¥åœæ­¢æµ/åºåˆ—ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›ä¸€ä¸ªæ–°çŠ¶æ€ï¼Œä¸‹æ¬¡è°ƒç”¨æ—¶å¯ä»¥ä½¿ç”¨ï¼ˆé™¤éåœ¨è¿™æ¬¡è°ƒç”¨æ—¶å·²ç»ç»ˆæ­¢åºåˆ—ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ª &lt;code&gt;&amp;lt;S&amp;gt;&lt;/code&gt; ç±»å‹çš„å¯å˜å¯¹è±¡ã€‚æ¯”å¦‚ï¼Œä¸Šé¢çš„ç¤ºä¾‹å¯ä»¥ä½¿ç”¨ä¸€ä¸ª &lt;code&gt;AtomicLong&lt;/code&gt; å®ä¾‹ä½œä¸ºçŠ¶æ€æ¥é‡å†™ï¼Œæ¯è½®è°ƒç”¨éƒ½ä¼šæ”¹å˜å®ƒçš„å€¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux&amp;lt;String&amp;gt; flux = Flux.generate(
    AtomicLong::&lt;span style="color: #0000ff"&gt;new&lt;/span&gt;,
    (state, sink) -&amp;gt; {
        &lt;span style="color: #2b91af"&gt;long&lt;/span&gt; i = state.getAndIncrement();
        sink.next(&lt;span style="color: #a31515"&gt;&amp;quot;3 x &amp;quot;&lt;/span&gt; + i + &lt;span style="color: #a31515"&gt;&amp;quot; = &amp;quot;&lt;/span&gt; + 3*i);
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (i == 10) sink.complete();
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; state;
    });
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;å¦‚æœçŠ¶æ€å¯¹è±¡åœ¨åºåˆ—ç»ˆæ­¢æ—¶éœ€è¦æ¸…ç†ä¸€äº›èµ„æºï¼Œåˆ™åº”è¯¥ä½¿ç”¨ &lt;code&gt;generate(Supplier&amp;lt;S&amp;gt;, BiFunction, Consumer&amp;lt;S&amp;gt;)&lt;/code&gt; å˜ç§æ–¹æ³•æ¥æ¸…ç†æœ€åçš„çŠ¶æ€å®ä¾‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚ä¸‹ç¤ºä¾‹ä½¿ç”¨çš„ &lt;code&gt;generate&lt;/code&gt; æ–¹æ³•æ¥å—ä¸€ä¸ª &lt;code&gt;Consumer&lt;/code&gt; ç±»å‹å‚æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux&amp;lt;String&amp;gt; flux = Flux.generate(
    AtomicLong::&lt;span style="color: #0000ff"&gt;new&lt;/span&gt;,
    (state, sink) -&amp;gt; {
        &lt;span style="color: #2b91af"&gt;long&lt;/span&gt; i = state.getAndIncrement();
        sink.next(&lt;span style="color: #a31515"&gt;&amp;quot;3 x &amp;quot;&lt;/span&gt; + i + &lt;span style="color: #a31515"&gt;&amp;quot; = &amp;quot;&lt;/span&gt; + 3*i);
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (i == 10) sink.complete();
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; state;
    }, (state) -&amp;gt; System.out.println(&lt;span style="color: #a31515"&gt;&amp;quot;state: &amp;quot;&lt;/span&gt; + state));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;3.4.2 å¼‚æ­¥å¤šçº¿ç¨‹çš„ create&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;create&lt;/code&gt; æ˜¯åŠ¨æ€åˆ›å»ºä¸€ä¸ª &lt;code&gt;Flux&lt;/code&gt; çš„æ›´é«˜çº§çš„æ–¹å¼ï¼Œé€‚ç”¨äºæ¯è½®ä¸‹å‘å¤šä¸ªæ•°æ®ï¼Œç”šè‡³æ˜¯ä»å¤šä¸ªçº¿ç¨‹ä¸­ä¸‹å‘æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•ä¼šå‘å›è°ƒæ–¹æ³•ä¼ å…¥ä¸€ä¸ª &lt;code&gt;FluxSink&lt;/code&gt; å®ä¾‹å‚æ•°ï¼Œåœ¨å›è°ƒæ–¹æ³•ä½“ä¸­å¯ä»¥è°ƒç”¨è¿™ä¸ªå‚æ•°çš„ &lt;code&gt;next&lt;/code&gt;ã€&lt;code&gt;error&lt;/code&gt; å’Œ &lt;code&gt;complete&lt;/code&gt; æ–¹æ³•ã€‚ä¸ &lt;code&gt;generate&lt;/code&gt; ä¸åŒï¼Œå®ƒæ²¡æœ‰åŸºäºçŠ¶æ€çš„å˜ç§æ–¹æ³•ã€‚å¦å¤–ï¼Œå›è°ƒæ–¹æ³•ä¸­ï¼Œå¯ä»¥å¤šçº¿ç¨‹åœ°è§¦å‘äº‹ä»¶ï¼ˆtrigger multi-threaded eventsï¼‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;create&lt;/code&gt; éå¸¸é€‚ç”¨äºå°†ä¸€ä¸ªå·²æœ‰çš„ API ï¼ˆæ¯”å¦‚ï¼šä¸€ä¸ªåŸºäºç›‘å¬å™¨çš„å¼‚æ­¥ APIï¼‰æ¡¥æ¥åˆ°ååº”å¼ä¸Šä¸‹æ–‡ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;create&lt;/code&gt; å¹¶ä¸ä¼šè‡ªåŠ¨å¹¶è¡ŒåŒ–æ‰§è¡Œä½ çš„ä»£ç ï¼Œä¹Ÿä¸ä¼šè®©å¤„ç†è¿‡ç¨‹è‡ªåŠ¨å˜æˆå¼‚æ­¥çš„ï¼Œå³ä½¿å®ƒå¯ä»¥é…åˆå¼‚æ­¥ API ä½¿ç”¨ã€‚å¦‚æœåœ¨ &lt;code&gt;create&lt;/code&gt; çš„ lambda è¡¨è¾¾å¼ä¸­å‘ç”Ÿé˜»å¡ï¼Œå°±ä¼šå­˜åœ¨æ­»é”æˆ–è€…å…¶å®ƒå‰¯ä½œç”¨çš„é£é™©ã€‚å³ä½¿å€ŸåŠ© &lt;code&gt;subscribeOn&lt;/code&gt;ï¼Œä¹Ÿè¦å½“å¿ƒ &lt;code&gt;create&lt;/code&gt; lambda è¡¨è¾¾å¼ä¸­é•¿æ—¶é—´çš„é˜»å¡ï¼ˆæ¯”å¦‚æ— é™å¾ªç¯è°ƒç”¨ &lt;code&gt;sink.next(t)&lt;/code&gt;ï¼‰é”ä½æµæ°´çº¿å¤„ç†ï¼š ï¼ˆè¯‘æ³¨ï¼šå¼‚æ­¥çš„ï¼‰æ•°æ®è¯·æ±‚å¯èƒ½æ ¹æœ¬å¾—ä¸åˆ°æ‰§è¡Œï¼Œå› ä¸ºï¼ˆè¯‘æ³¨ï¼šçº¿ç¨‹æ± åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼‰åŒä¸€ä¸ªçº¿ç¨‹ä¸€ç›´è¢«æ— é™å¾ªç¯å ç”¨ç€ã€‚ä½¿ç”¨ &lt;code&gt;subscribeOn(Scheduler, false)&lt;/code&gt; å˜ç§æ–¹æ³•ï¼š&lt;code&gt;requestOnSeparateThread = false&lt;/code&gt; å°†ä½¿ç”¨ &lt;code&gt;Scheduler&lt;/code&gt; çš„çº¿ç¨‹æ¥æ‰§è¡Œ &lt;code&gt;create&lt;/code&gt; æ–¹æ³•çš„å›è°ƒï¼Œåœ¨åŸå§‹çš„çº¿ç¨‹ä¸­æ‰§è¡Œ &lt;code&gt;request&lt;/code&gt;ï¼Œä»è€Œè®©æ•°æ®ä»ç„¶å¯ä»¥æµåŠ¨èµ·æ¥ã€‚ï¼ˆè¯‘æ³¨ï¼šæ­¤å¤„é€»è¾‘æœ‰ç‚¹ç»•ï¼Œä¹Ÿå¯èƒ½æ˜¯å› ä¸º subscribeOn æ–¹æ³•æœ¬èº«è¯­ä¹‰å°±ä¸å¤ªç›´è§‚ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬è¦ä½¿ç”¨ä¸€ä¸ªåŸºäºç›‘å¬å™¨çš„ APIï¼Œå®ƒæŒ‰å—å¤„ç†æ•°æ®ï¼Œæä¾›ä¸¤ç±»äº‹ä»¶ï¼šï¼ˆ1ï¼‰æ¥äº†ä¸€å—æ•°æ®ï¼Œï¼ˆ2ï¼‰å¤„ç†å¯ä»¥ç»“æŸäº†ï¼ˆç»ˆæ­¢äº‹ä»¶ï¼‰ï¼Œå¦‚ä¸‹ &lt;code&gt;MyEventListener&lt;/code&gt; æ¥å£å®šä¹‰æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;interface&lt;/span&gt; &lt;span style="color: #2b91af"&gt;MyEventListener&lt;/span&gt;&amp;lt;T&amp;gt; {
    &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; onDataChunk(List&amp;lt;T&amp;gt; chunk);
    &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; processComplete();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;create&lt;/code&gt; å°†è¿™ä¸ª API æ¡¥æ¥åˆ°ä¸€ä¸ª &lt;code&gt;Flux&amp;lt;T&amp;gt;&lt;/code&gt; å®ä¾‹ä¸Šï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux&amp;lt;String&amp;gt; bridge = Flux.create(sink -&amp;gt; {
    myEventProcessor.register(  &lt;span style="color: #008000"&gt;// 4&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; MyEventListener&amp;lt;String&amp;gt;() { &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;
            &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; onDataChunk(List&amp;lt;String&amp;gt; chunk) {
                &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(String s : chunk) {
                    sink.next(s); &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
                }
            }

            &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; processComplete() {
                sink.complete(); &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
            }
        }
    );
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;æ¡¥æ¥åˆ° &lt;code&gt;MyEventListener&lt;/code&gt; API&lt;/li&gt;
&lt;li&gt;æ•°æ®å—ä¸­æ¯ä¸ªå…ƒç´ éƒ½æˆäº† &lt;code&gt;Flux&lt;/code&gt; ä¸­çš„å…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;processComplete&lt;/code&gt; äº‹ä»¶è½¬æ¢æˆäº† &lt;code&gt;onComplete&lt;/code&gt; äº‹ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰è¿™äº›é€»è¾‘éƒ½æ˜¯åœ¨ &lt;code&gt;myEventProcessor&lt;/code&gt; æ‰§è¡Œæ—¶å¼‚æ­¥å®Œæˆçš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ­¤å¤–ï¼Œå› ä¸º &lt;code&gt;create&lt;/code&gt; å¯ä»¥æ¡¥æ¥å¼‚æ­¥ APIï¼Œå¹¶ç®¡ç†åå‹ï¼Œé€šè¿‡æŒ‡å®šä¸€ä¸ª &lt;code&gt;OverflowStrategy&lt;/code&gt; ç­–ç•¥ï¼Œå¯ä»¥è°ƒæ•´å¦‚ä½•æ™ºèƒ½åœ°å¤„ç†åå‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;IGNORE&lt;/code&gt; å®Œå…¨å¿½ç•¥ä¸‹æ¸¸çš„åå‹è¯·æ±‚ã€‚è¿™ä¸€ç­–ç•¥åœ¨ä¸‹æ¸¸çš„é˜Ÿåˆ—æ»¡æ—¶ï¼ˆwhen queues get full downstreamï¼‰ä¼šå¯¼è‡´ &lt;code&gt;IllegalStateException&lt;/code&gt; å¼‚å¸¸æŠ›å‡ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ERROR&lt;/code&gt; åœ¨ä¸‹æ¸¸å¤„ç†ä¸è¿‡æ¥æ—¶ä¼šä¸‹å‘ï¼ˆonErrorï¼‰ä¸€ä¸ª &lt;code&gt;IllegalStateException&lt;/code&gt; å¼‚å¸¸æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DROP&lt;/code&gt; å¦‚æœä¸‹æ¸¸è¿˜æ²¡å‡†å¤‡å¥½æ¥æ”¶å½“å‰äº‹ä»¶ï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BUFFER&lt;/code&gt; ï¼ˆé»˜è®¤ç­–ç•¥ï¼‰å¦‚æœä¸‹æ¸¸å¤„ç†ä¸è¿‡æ¥ï¼Œåˆ™å°†æ‰€æœ‰äº‹ä»¶æ”¾å…¥ç¼“å†²åŒºã€‚ï¼ˆç¼“å†²åŒºå¤§å°æ— é™åˆ¶ï¼Œæ‰€ä»¥å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æº¢å‡º&lt;code&gt;OutOfMemoryError&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;Mono&lt;/code&gt; ä¹Ÿæœ‰ä¸€ä¸ª &lt;code&gt;create&lt;/code&gt; ç”Ÿæˆå™¨æ–¹æ³•ã€‚Mono çš„ create æ–¹æ³•ä¼ å…¥å›è°ƒçš„ &lt;code&gt;MonoSink&lt;/code&gt; å‚æ•°ä¸å…è®¸ä¸‹å‘å¤šä¸ªæ¶ˆæ¯ï¼Œåœ¨ç¬¬ä¸€ä¸ªæ¶ˆæ¯ä¹‹åå®ƒä¼šä¸¢å¼ƒæ‰€æœ‰çš„æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5&gt;3.4.3 å¼‚æ­¥å•çº¿ç¨‹çš„ push&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;push&lt;/code&gt; çš„åŠŸèƒ½ä»‹äº &lt;code&gt;generate&lt;/code&gt; å’Œ &lt;code&gt;create&lt;/code&gt; ä¹‹é—´ï¼Œé€‚ç”¨äºå¤„ç†æ¥è‡ªå•ä¸ªç”Ÿäº§è€…çš„äº‹ä»¶ã€‚&lt;code&gt;push&lt;/code&gt; ä¹Ÿå¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code&gt;create&lt;/code&gt; æ”¯æŒçš„è¶…é™ç­–ç•¥æ¥ç®¡ç†åå‹ï¼Œç„¶è€Œï¼ŒåŒæ—¶ï¼ˆat a timeï¼‰åªèƒ½æœ‰ä¸€ä¸ªç”Ÿäº§çº¿ç¨‹è°ƒç”¨ &lt;code&gt;next&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux&amp;lt;String&amp;gt; bridge = Flux.push(sink -&amp;gt; {
    myEventProcessor.register(
        &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; SingleThreadEventListener&amp;lt;String&amp;gt;() { &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;

            &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; onDataChunk(List&amp;lt;String&amp;gt; chunk) {
                &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; (String s: chunk) {
                    sink.next(&lt;span style="border: 1px solid #FF0000"&gt;&lt;/span&gt;s); &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
                }
            }

            &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; processComplete() {
                sink.complete(); &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
            }

            &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; processError(Throwable e) {
                sink.error(e); &lt;span style="color: #008000"&gt;// 4&lt;/span&gt;
            }
        }
    );
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;æ¡¥æ¥åˆ° &lt;code&gt;SingleThreadEventListener&lt;/code&gt; çš„ APIã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å•ä¸ªç›‘å¬å™¨çº¿ç¨‹ä¸­ä½¿ç”¨ &lt;code&gt;next&lt;/code&gt; å‘ä¸‹æ¸¸ï¼ˆsink - æ¥æ”¶æ–¹ï¼‰æ¨é€äº‹ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;complete&lt;/code&gt; äº‹ä»¶ä¹Ÿæ˜¯ç”±åŒä¸€ä¸ªç›‘å¬å™¨çº¿ç¨‹å‘å‡ºçš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;error&lt;/code&gt; äº‹ä»¶ä¹Ÿæ˜¯ç”±åŒä¸€ä¸ªç›‘å¬å™¨çº¿ç¨‹å‘å‡ºçš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ¨/æ‹‰ æ··åˆæ¨¡å‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¤šæ•° Reactor ç®—å­ï¼Œæ¯”å¦‚ &lt;code&gt;create&lt;/code&gt;ï¼Œéƒ½éµä» &lt;strong&gt;æ¨/æ‹‰ï¼ˆpush/pullï¼‰&lt;/strong&gt; æ··åˆæ¨¡å‹ã€‚è¿™æ„å‘³ç€å°½ç®¡å¤§éƒ¨åˆ†çš„å¤„ç†è¿‡ç¨‹éƒ½æ˜¯å¼‚æ­¥çš„ï¼ˆæš—æŒ‡â€œæ¨â€çš„æ–¹å¼ï¼‰ï¼Œä¹Ÿå­˜åœ¨å°éƒ¨åˆ†é€»è¾‘æ˜¯ &lt;em&gt;æ‹‰ï¼ˆpullï¼‰&lt;/em&gt;æ–¹å¼ï¼šæ•°æ®è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;æ¶ˆè´¹è€…ä»æ•°æ®æº&lt;em&gt;æ‹‰å–&lt;/em&gt;æ•°æ®ï¼Œæ„æŒ‡ï¼šæ•°æ®æºåœ¨æ¶ˆè´¹è€…é¦–æ¬¡è¯·æ±‚åæ‰ä¼šå‘å‡ºæ•°æ®ï¼Œç„¶ååªæœ‰è¦æ•°æ®å°±ä¼šæ¨é€ç»™æ¶ˆè´¹è€…ï¼Œä¸è¿‡æ•°æ®é‡ä¸ä¼šè¶…è¿‡æ¶ˆè´¹è€…è¯·æ±‚çš„é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;push()&lt;/code&gt; å’Œ &lt;code&gt;create()&lt;/code&gt; éƒ½å¯ä»¥é…ç½®ï¼ˆset upï¼‰ä¸€ä¸ª &lt;code&gt;onRequest&lt;/code&gt; äº‹ä»¶æ¶ˆè´¹è€…æ¥ç®¡ç†è¯·æ±‚é‡ï¼Œå¹¶ä¸”ç¡®ä¿ä»…å½“å­˜åœ¨å·²å‘èµ·çš„è¯·æ±‚ï¼Œæ•°æ®æ‰ä¼šæ¨é€ç»™ä¸‹æ¸¸ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux&amp;lt;String&amp;gt; bridge = Flux.create(sink -&amp;gt; {
    myMessageProcessor.register(
        &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; MyMessageListener&amp;lt;String&amp;gt;() {

            &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; onMessage(List&amp;lt;String&amp;gt; messages) {
                &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; (String s: messages) {
                    sink.next(s); &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
                }
            }
        }
    );
    sink.onRequest(n -&amp;gt; {
        List&amp;lt;String&amp;gt; messages = myMessageProcessor.getHistory(n); &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; (String s: messages) {
            sink.next(s); &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
        }
    });    
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;è¯‘è€…æ³¨ï¼šä¸Šé¢è¿™ä¸ªç¤ºä¾‹æœ‰ç‚¹é—®é¢˜ï¼Œå®é™…å¹¶ä¸å­˜åœ¨è¿™æ ·ä¸€ä¸ª create æ–¹æ³•ï¼Œå¹¶ä¸” sink.onRequest å®é™…ä»£è¡¨ä¸€ä¸ªæ— é™é‡ï¼ˆn = Long.MAX_VALUEï¼‰çš„è¯·æ±‚ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨è¯·æ±‚å‘èµ·åï¼Œæ‹‰å–æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå³åˆ»æœ‰æ¶ˆæ¯äº†ï¼Œåˆ™æ¨é€ç»™ä¸‹æ¸¸ã€‚&lt;/li&gt;
&lt;li&gt;åç»­å¼‚æ­¥åˆ°è¾¾çš„æ¶ˆæ¯ä¹Ÿä¼šæ¨é€ç»™ä¸‹æ¸¸ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;3.5 å¤šçº¿ç¨‹ å’Œ è°ƒåº¦å™¨ ï¼ˆThreading and Schedulersï¼‰&lt;/h4&gt;
&lt;p&gt;Reactorï¼Œä¸ RxJava ç±»ä¼¼ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯&lt;strong&gt;å¹¶å‘æ— å…³çš„&lt;/strong&gt;ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒReactor å¹¶ä¸å¼ºåˆ¶ä½¿ç”¨å¹¶å‘ï¼ˆa concurrency
 modelï¼‰ï¼Œè€Œæ˜¯ï¼Œè®©å¼€å‘è€…æŒ‰éœ€å†³å®šæ˜¯å¦ä½¿ç”¨å¹¶å‘ã€‚ç„¶è€Œï¼ŒReactor ä¹Ÿæä¾›ä¸€äº›åŠŸèƒ½æ–¹ä¾¿å¼€å¯å¹¶å‘ã€‚&lt;/p&gt;
&lt;p&gt;è·å–åˆ°ä¸€ä¸ª &lt;code&gt;Flux&lt;/code&gt; æˆ– &lt;code&gt;Mono&lt;/code&gt; å¤„ç†æµï¼Œå¹¶ä¸æ„å‘³ç€å®ƒåœ¨ä¸€ä¸ªä¸“ç”¨ï¼ˆdedicatedï¼‰çš„çº¿ç¨‹ï¼ˆ&lt;code&gt;Thread&lt;/code&gt;ï¼‰ ä¸­è¿è¡Œã€‚ç›¸åï¼Œå¤šæ•°ç®—å­ä¹Ÿæ˜¯è¿è¡Œåœ¨å‰ä¸€ä¸ªç®—å­è¿è¡Œçš„çº¿ç¨‹ä¸­ã€‚é™¤éç‰¹æ„æŒ‡å®šï¼Œé¦–ä¸ªï¼ˆtopmostï¼‰ç®—å­ï¼ˆæ•°æ®æºï¼‰å°±è¿è¡Œåœ¨æ‰§è¡Œ &lt;code&gt;subscribe()&lt;/code&gt; æ–¹æ³•è°ƒç”¨çš„çº¿ç¨‹ä¸­ã€‚å¦‚ä¸‹ç¤ºä¾‹åœ¨ä¸€ä¸ªæ–°å»ºçº¿ç¨‹ä¸­è¿è¡Œä¸€ä¸ª &lt;code&gt;Mono&lt;/code&gt; å¤„ç†æµã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; main(String[] args) {
    &lt;span style="color: #0000ff"&gt;final&lt;/span&gt; Mono&amp;lt;String&amp;gt; mono = Mono.just(&lt;span style="color: #a31515"&gt;&amp;quot;Hello &amp;quot;&lt;/span&gt;); &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;

    &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Thread(() -&amp;gt; mono
        .map(msg -&amp;gt; msg + &lt;span style="color: #a31515"&gt;&amp;quot;thread &amp;quot;&lt;/span&gt;)
        .subscribe(v -&amp;gt; &lt;span style="color: #008000"&gt;// 2 &lt;/span&gt;
            System.out.println(v + Thread.currentThread().getName()) &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
        )
    ).join();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Mono&amp;lt;String&amp;gt;&lt;/code&gt; æ˜¯åœ¨ä¸»ï¼ˆ&lt;code&gt;main&lt;/code&gt;ï¼‰çº¿ç¨‹ä¸­è£…é…çš„ï¼ˆassembledï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶è€Œï¼Œ è®¢é˜…æ“ä½œå‘ç”Ÿåœ¨ &lt;code&gt;Thread-0&lt;/code&gt; çº¿ç¨‹ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;å› è€Œï¼Œ&lt;code&gt;map&lt;/code&gt; å’Œ &lt;code&gt;onNext&lt;/code&gt; çš„å›è°ƒï¼ˆè¯‘æ³¨ï¼š&lt;code&gt;onNext&lt;/code&gt; çš„å›è°ƒå³ subscribe æ–¹æ³•ä¼ å…¥çš„ lambda è¡¨è¾¾å¼ï¼‰å®é™…ä¸Šä¹Ÿæ˜¯åœ¨ &lt;code&gt;Thread-0&lt;/code&gt; ä¸Šæ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸Šè¿°çš„ä»£ç ä¼šè¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;hello thread Thread-0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Reactor ä¸­ï¼Œè¿è¡Œæ¨¡å‹ä»¥åŠå®é™…çš„è¿è¡Œè¿‡ç¨‹å‘ç”Ÿåœ¨ä»€ä¹ˆåœ°æ–¹ç”±ä½¿ç”¨ä»€ä¹ˆ &lt;code&gt;Scheduler&lt;/code&gt; å†³å®šã€‚&lt;a href="https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Scheduler.html"&gt;&lt;code&gt;Scheduler&lt;/code&gt;&lt;/a&gt; ç±»ä¼¼äº &lt;code&gt;ExecutorService&lt;/code&gt;ï¼Œè´Ÿæœ‰è°ƒåº¦èŒè´£ï¼Œä½†å…·å¤‡ä¸€ä¸ªä¸“ç”¨çš„æŠ½è±¡ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ï¼Œå……å½“ä¸€ä¸ªæ—¶é’Ÿçš„è§’è‰²ï¼Œå¯ç”¨çš„å®ç°æ›´å¤šã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html"&gt;&lt;code&gt;Schedulers&lt;/code&gt;&lt;/a&gt; ç±»æä¾›äº†ä¸€äº›é™æ€æ–¹æ³•æ¥è®¿é—®è¿™äº›è¿è¡Œä¸Šä¸‹æ–‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“å‰çº¿ç¨‹ï¼ˆ&lt;code&gt;Schedulers.immediate()&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å•ä¸ªå¯å¤ç”¨çš„çº¿ç¨‹ï¼ˆ&lt;code&gt;Schedulers.single()&lt;/code&gt;ï¼‰ã€‚æ³¨æ„ï¼šè¿™ä¸ªæ–¹æ³•ä¼šä¸ºæ‰€æœ‰è°ƒç”¨æ–¹ï¼ˆè¯‘æ³¨ï¼šè°ƒç”¨ Schedulers.single()ï¼‰å¤ç”¨åŒä¸€ä¸ªçº¿ç¨‹ï¼ŒæŒ‡å¯¼ &lt;code&gt;Scheduler&lt;/code&gt; é”€æ¯ï¼ˆdisposedï¼‰ã€‚å¦‚æœæœŸæœ›æ¯æ¬¡è°ƒç”¨è¿”å›ä¸€ä¸ªä¸“ç”¨çº¿ç¨‹ï¼Œåˆ™åº”è¯¥ä½¿ç”¨ &lt;code&gt;Schedulers.newSingle()&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªå¼¹æ€§çš„çº¿ç¨‹æ± ï¼ˆ&lt;code&gt;Schedulers.elastic()&lt;/code&gt;ï¼‰ã€‚è¿™ä¸ª Scheduler ä¼šæŒ‰éœ€åˆ›å»ºæ–°çš„å·¥ä½œè€…çº¿ç¨‹æ± ï¼ˆworker poolï¼‰ï¼Œå¹¶å¤ç”¨ç©ºé—²çš„å·¥ä½œè€…çº¿ç¨‹æ± ã€‚å¦‚æœå·¥ä½œè€…çº¿ç¨‹æ± ç©ºé—²æ—¶é—´å¤ªé•¿ï¼ˆé»˜è®¤ 60sï¼‰åˆ™ä¼šè¢«é”€æ¯ã€‚å¯¹äº I/O é˜»å¡å·¥ä½œè€Œè¨€è¿™æ˜¯ä¸€ä¸ªå¥½é€‰æ‹©ã€‚&lt;code&gt;Schedulers.elastic()&lt;/code&gt; å¯ä»¥ç®€ä¾¿åœ°ä¸ºé˜»å¡å¤„ç†è¿‡ç¨‹æä¾›ç‹¬ç«‹çš„çº¿ç¨‹ï¼ˆits own threadï¼‰ï¼Œè¿™æ ·é˜»å¡æ“ä½œå°±ä¸ä¼šå ç”¨ï¼ˆtie upï¼‰å…¶ä»–èµ„æºã€‚è¯¦æƒ…è¯·å‚è€ƒ &lt;a href="https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking"&gt;å¦‚ä½•åŒ…è£…ä¸€ä¸ªåŒæ­¥é˜»å¡çš„è°ƒç”¨ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å›ºå®šæ•°é‡å·¥ä½œè€…çš„ï¼ˆè¯‘æ³¨ï¼šæˆ‘æš‚æ—¶çš„ç†è§£ - å·¥ä½œè€…ï¼ˆworkerï¼‰ä¹Ÿæ˜¯ä¸€ä¸ªçº¿ç¨‹æ± ï¼‰ä¸€ä¸ªæ± ï¼Œä¸“é—¨ä¸ºå¹¶è¡Œå¤„ç†å·¥ä½œåšè¿‡è°ƒä¼˜ï¼ˆSchedulers.parallel()ï¼‰ã€‚å®ƒä¼šåˆ›å»ºå’Œ CPU æ ¸å¿ƒæ•°é‡ç›¸åŒçš„å·¥ä½œè€…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code&gt;Schedulers.fromExecutorService(ExecutorService)&lt;/code&gt; åŸºäºå·²æœ‰çš„ ExecutorService åˆ›å»ºä¸€ä¸ª Schedulerã€‚ï¼ˆä¹Ÿå¯ä»¥åŸºäºä¸€ä¸ª Executor æ¥åˆ›å»ºï¼Œä½†ä¸å»ºè®®è¿™ä¹ˆå¹²ï¼ˆè¯‘æ³¨ï¼šå› ä¸º Executor ä¸èƒ½é”€æ¯é‡Šæ”¾ï¼‰ï¼‰&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;strong&gt;newXXX&lt;/strong&gt; è¿™ç±»æ–¹æ³•åˆ›å»ºå„ç§è°ƒåº¦å™¨ï¼ˆschedulerï¼‰ç±»å‹çš„å…¨æ–°å®ä¾‹ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ &lt;code&gt;Schedulers.newElastic(yourScheduleName)&lt;/code&gt; åˆ›å»ºä¸€ä¸ªåä¸º &lt;code&gt;yourScheduleName&lt;/code&gt; çš„å…¨æ–°çš„å¼¹æ€§è°ƒåº¦å™¨ï¼ˆelastic schedulerï¼‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;elastic&lt;/code&gt; è°ƒåº¦å™¨ç”¨äºå…¼å®¹å¤„ç†ä¸å¯é¿å…çš„å†å²é—ç•™çš„é˜»å¡æ€§ä»£ç ï¼Œä½† &lt;code&gt;single&lt;/code&gt; å’Œ &lt;code&gt;parallel&lt;/code&gt; è°ƒåº¦å™¨ä¸è¡Œï¼Œå› è€Œï¼Œå¦‚æœåœ¨ &lt;code&gt;single&lt;/code&gt; æˆ– &lt;code&gt;parallel&lt;/code&gt; è°ƒåº¦å™¨ä¸Šä½¿ç”¨ Reactor çš„é˜»å¡æ€§ APIï¼ˆ&lt;code&gt;block()&lt;/code&gt;ã€&lt;code&gt;blockFirst()&lt;/code&gt;ã€&lt;code&gt;blockLast()&lt;/code&gt;ï¼Œæˆ–è€…è¿›è¡Œ &lt;code&gt;toIterable()&lt;/code&gt; æˆ– &lt;code&gt;toStream()&lt;/code&gt; è¿­ä»£ï¼‰ï¼Œä¼šå¯¼è‡´æŠ›å‡º &lt;code&gt;IllegalStateException&lt;/code&gt; å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè‡ªå®šä¹‰è°ƒåº¦å™¨æ‰€åˆ›å»ºçš„çº¿ç¨‹å®ä¾‹å®ç°äº† &lt;code&gt;NonBlocking&lt;/code&gt; æ ‡è®°æ€§æ¥å£ï¼ˆmarker interfaceï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªè°ƒåº¦å™¨ä¹Ÿå¯ä»¥è¢«æ ‡è®°ä¸ºâ€ä»…é€‚ç”¨äºéé˜»å¡æ€§ä½¿ç”¨ï¼ˆnon blocking onlyï¼‰â€œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æŸäº›ç®—å­é»˜è®¤ä¼šä» &lt;code&gt;Schedulers&lt;/code&gt; é€‰æ‹©ä¸€ä¸ªç‰¹å®šçš„è°ƒåº¦å™¨æ¥ä½¿ç”¨ï¼ˆé€šå¸¸ä¹Ÿæ”¯æŒé€‰æ‹©å…¶ä»–çš„ï¼‰ã€‚ä¾‹å¦‚ï¼Œè°ƒç”¨å·¥å‚æ–¹æ³• &lt;code&gt;Flux.interval(Duration.ofMills(300))&lt;/code&gt; ä¼šç”Ÿæˆä¸€ä¸ª &lt;code&gt;Flux&amp;lt;Long&amp;gt;&lt;/code&gt; å®ä¾‹ - æ¯ 300 ms è¾“å‡ºä¸€ä¸ªæ»´ç­”äº‹ä»¶ã€‚è¿™ä¸ªæ–¹æ³•åº•å±‚å®ç°é»˜è®¤ä½¿ç”¨ &lt;code&gt;Schedulers.parallel()&lt;/code&gt;ã€‚å¦‚ä¸‹ä»£ç è¡Œæ¼”ç¤ºäº†å¦‚ä½•å°†è°ƒåº¦å™¨ä¿®æ”¹æˆç±»ä¼¼äº &lt;code&gt;Schedulers.single()&lt;/code&gt; çš„è°ƒåº¦å™¨æ–°å®ä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux.interval(Duration.ofMillis(300), Schedulers.newSingle(&lt;span style="color: #a31515"&gt;&amp;quot;test&amp;quot;&lt;/span&gt;));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Reactor æä¾›äº†ä¸¤ç§æ–¹å¼æ¥åˆ‡æ¢ååº”å¼é“¾ä¸­çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆæˆ–è€…è¯´ &lt;code&gt;è°ƒåº¦å™¨&lt;/code&gt;ï¼‰ï¼š&lt;code&gt;publishOn&lt;/code&gt; å’Œ &lt;code&gt;subscribeOn&lt;/code&gt;ã€‚ä¸¤è€…éƒ½æ˜¯æ¥å—ä¸€ä¸ª &lt;code&gt;Scheduler&lt;/code&gt; ç±»å‹å‚æ•°å¹¶å°†æ‰§è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢åˆ°è¿™ä¸ªè°ƒåº¦å™¨ã€‚ä¸è¿‡ï¼Œé“¾ä¸­ &lt;code&gt;publishOn&lt;/code&gt; æ‰€å¤„çš„ä½ç½®å¾ˆå…³é”®ï¼Œè€Œ &lt;code&gt;subscribeOn&lt;/code&gt; å¤„äºå“ªä¸ªä½ç½®éƒ½æ— æ‰€è°“ã€‚è¦ç†è§£è¿™ä¸ªå·®åˆ«çš„åŸå› ï¼Œå¾—å…ˆç†è§£ &lt;a href="https://projectreactor.io/docs/core/release/reference/#reactive.subscribe"&gt;è®¢é˜…ä¹‹å‰å®é™…ä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Reactorï¼Œä¸²æ¥ç®—å­ï¼Œå°±æ˜¯å°†å¾ˆå¤š &lt;code&gt;Flux&lt;/code&gt; å’Œ &lt;code&gt;Mono&lt;/code&gt; çš„å®ç°ä¸€ä¸ªå¥—ä¸€ä¸ªï¼Œé€å±‚å°è£…ã€‚ä¸€æ—¦è®¢é˜…ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ª &lt;code&gt;Subscriber&lt;/code&gt; å¯¹è±¡é“¾ï¼Œæ²¿é“¾å›æº¯å³å¯æ‰¾åˆ°ç¬¬ä¸€ä¸ªå‘å¸ƒè€…ã€‚è¿™äº›å®ç°ç»†èŠ‚æ˜¯éšè—åœ¨æ¥å£èƒŒåï¼Œå¼€å‘è€…å¯è§çš„æ˜¯æœ€å¤–å±‚çš„é‚£ä¸ª &lt;code&gt;Flux&lt;/code&gt;ï¼ˆæˆ– &lt;code&gt;Mono&lt;/code&gt;ï¼‰ä»¥åŠ &lt;code&gt;Subscription&lt;/code&gt;ï¼ˆè¯‘æ³¨ï¼šReactor ä¸­ Subscription æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œæ˜¯ &lt;code&gt;Subscriber&lt;/code&gt; æ¥å£ä¸­ &lt;code&gt;onSubscribe&lt;/code&gt; æ–¹æ³•å‚æ•°çš„ç±»å‹ - &lt;code&gt;public void onSubscribe(Subscription s)&lt;/code&gt;ï¼Œç”¨äºå‘ç”Ÿäº§è€…è¯·æ±‚æ•°æ® æˆ–è€… å–æ¶ˆè®¢é˜…ï¼‰ï¼Œä½†è¿™äº›ç®—å­ç‰¹å®šçš„é“¾ä¸­æ¶ˆè´¹è€…æ˜¯å¹•ååŠŸè‡£ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äº†ä¸Šé¢è¿™äº›è®¤çŸ¥ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥äº†è§£ &lt;code&gt;publishOn&lt;/code&gt; å’Œ &lt;code&gt;subscribeOn&lt;/code&gt; è¿™ä¸¤ä¸ªç®—å­ï¼š&lt;/p&gt;
&lt;h5&gt;3.5.1 publishOn æ–¹æ³•&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;publishOn&lt;/code&gt; å’Œå…¶ä»–ç®—å­çš„ç”¨æ³•ä¸€æ ·ï¼Œç”¨åœ¨è®¢é˜…é“¾çš„ä¸­é—´ç¯èŠ‚ï¼Œæ¥æ”¶æ¥è‡ªä¸Šæ¸¸çš„ä¿¡å·ï¼Œç„¶åå‘ä¸‹æ¸¸é‡æ”¾è¿™äº›ä¿¡å·ï¼Œä¸è¿‡ä¸‹å‘äº‹ä»¶å›è°ƒï¼ˆ&lt;code&gt;onEvent&lt;/code&gt;ã€&lt;code&gt;onError&lt;/code&gt;ã€&lt;code&gt;onComplete&lt;/code&gt;ï¼‰æ˜¯åœ¨å…³è” &lt;code&gt;Scheduler&lt;/code&gt; çš„ä¸€ä¸ªå·¥ä½œè€…ä¸Šæ‰§è¡Œçš„ã€‚å› æ­¤ï¼Œè¿™ä¸ªç®—å­ä¼šå½±å“åç»­ç®—å­åœ¨å“ªæ‰§è¡Œï¼ˆç›´åˆ°è®¢é˜…é“¾ä¸Šåˆä¸²æ¥äº†å¦ä¸€ä¸ª &lt;code&gt;publishOn&lt;/code&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†æ‰§è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢åˆ° &lt;code&gt;Scheduler&lt;/code&gt; é€‰æ‹©çš„ä¸€ä¸ªçº¿ç¨‹ä¸Š&lt;/li&gt;
&lt;li&gt;æ ¹æ®è§„èŒƒï¼ˆas per the specificationï¼‰ï¼Œ&lt;code&gt;onNext&lt;/code&gt; æ˜¯æŒ‰æ—¶åºä¾æ¬¡è°ƒç”¨ä¸‹å‘äº‹ä»¶çš„ï¼Œæ‰€ä»¥æ˜¯å ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼ˆè¯‘æ³¨ï¼šè¿™å¥ä¸å¤ªç†è§£ï¼ŒonNext happen in sequence, so this uses up a single threadï¼‰&lt;/li&gt;
&lt;li&gt;é™¤éç®—å­å·¥ä½œåœ¨ä¸€ä¸ªç‰¹å®šçš„ &lt;code&gt;Scheduler&lt;/code&gt; ä¸Šï¼ˆè¯‘æ³¨ï¼šæŸäº›ç®—å­çš„å†…éƒ¨å®ç°å†³å®šäº†è¿™ä¸€ç‚¹ï¼‰ï¼Œ&lt;code&gt;publishOn&lt;/code&gt; ä¹‹åçš„ç®—å­éƒ½æ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Scheduler s = Schedulers.newParallel(&lt;span style="color: #a31515"&gt;&amp;quot;parallel-scheduler&amp;quot;&lt;/span&gt;, 4); &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;final&lt;/span&gt; Flux&amp;lt;String&amp;gt; flux = Flux
    .range(1, 2)
    .map(i -&amp;gt; 10 + i) &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
    .publishOn(s) &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
    .map(i -&amp;gt; &lt;span style="color: #a31515"&gt;&amp;quot;value &amp;quot;&lt;/span&gt; + i); &lt;span style="color: #008000"&gt;// 4&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Thread(() -&amp;gt; flux.subscribe(System.out::println));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªæ–°çš„ &lt;code&gt;Scheduler&lt;/code&gt;ï¼Œå†…å« 4 ä¸ªçº¿ç¨‹&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€ä¸ª &lt;code&gt;map&lt;/code&gt; è¿è¡Œåœ¨ &amp;lt;ç¬¬5æ­¥&amp;gt; çš„åŒ¿åçº¿ç¨‹ä¸Š&lt;/li&gt;
&lt;li&gt;&lt;code&gt;publishOn&lt;/code&gt; å°†æ•´ä¸ªåºåˆ—çš„åç»­å¤„ç†åˆ‡æ¢åˆ°ä» &amp;lt;ç¬¬1æ­¥&amp;gt; é€‰å‡ºçš„çº¿ç¨‹ä¸Š&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒä¸ª &lt;code&gt;map&lt;/code&gt; è¿è¡Œåœ¨ä¸Šé¢è¯´çš„ä» &amp;lt;ç¬¬1æ­¥&amp;gt; é€‰å‡ºçš„çº¿ç¨‹ä¸Š&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªåŒ¿åçº¿ç¨‹æ˜¯ &lt;em&gt;è®¢é˜…&lt;/em&gt; æ“ä½œå‘ç”Ÿçš„åœ°æ–¹ã€‚æ‰“å°è¯­å¥å‘ç”Ÿåœ¨ &lt;code&gt;publishOn&lt;/code&gt; åˆ‡æ¢çš„æœ€æ–°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸Š&lt;/li&gt;
&lt;/ol&gt;
&lt;h5&gt;3.5.2 subscribeOn æ–¹æ³•&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;subscribeOn&lt;/code&gt; åœ¨æ„é€ åå‘é“¾æ—¶åº”ç”¨äºè®¢é˜…å¤„ç†è¿‡ç¨‹ï¼ˆè¯‘æ³¨ï¼šæ‰€è°“æ„é€ åå‘é“¾æ—¶ï¼Œæ˜¯æŒ‡è°ƒç”¨ subscribe æ–¹æ³•æ—¶ï¼‰ã€‚å› æ­¤ï¼Œæ— è®ºä½ å°† &lt;code&gt;subscribeOn&lt;/code&gt; æ”¾åœ¨ç®—å­é“¾çš„ä½•å¤„ï¼Œ&lt;strong&gt;å®ƒå§‹ç»ˆä¼šå½±å“æºå¤´ä¸‹å‘æ•°æ®çš„æ‰§è¡Œä¸Šä¸‹æ–‡&lt;/strong&gt;ã€‚ç„¶è€Œï¼Œè¿™å¹¶ä¸ä¼šå½±å“ &lt;code&gt;publishOn&lt;/code&gt; ä¹‹åç®—å­è°ƒç”¨çš„è¡Œä¸ºï¼Œå®ƒä»¬ä»ç„¶ä¼šåˆ‡æ¢åˆ° &lt;code&gt;publishOn&lt;/code&gt; æŒ‡å®šçš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»è®¢é˜…æ“ä½œå‘ç”Ÿæ—¶æ•´ä¸ªç®—å­é“¾æ‰€åœ¨çš„çº¿ç¨‹åˆ‡æ¢åˆ°æ–°çš„çº¿ç¨‹&lt;/li&gt;
&lt;li&gt;ä»æŒ‡å®š &lt;code&gt;Scheduler&lt;/code&gt; ä¸­é€‰æ‹©ä¸€ä¸ªçº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;åªæœ‰é“¾ä¸­æœ€æ—©çš„ &lt;code&gt;subscribeOn&lt;/code&gt; è°ƒç”¨ä¼šå‘ç”Ÿå®é™…ä½œç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Scheduler s = Schedulers.newParallel(&lt;span style="color: #a31515"&gt;&amp;quot;parallel-scheduler&amp;quot;&lt;/span&gt;, 4); &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;final&lt;/span&gt; Flux&amp;lt;String&amp;gt; flux = Flux
    .range(1, 2)
    .map(i -&amp;gt; 10 + i) &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
    .subscribeOn(s) &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
    .map(i -&amp;gt; &lt;span style="color: #a31515"&gt;&amp;quot;value &amp;quot;&lt;/span&gt; + i); &lt;span style="color: #008000"&gt;// 4&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Thread(() -&amp;gt; flux.subscribe(System.out::println)); &lt;span style="color: #008000"&gt;// 5 &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªæ–°çš„ &lt;code&gt;Scheduler&lt;/code&gt;ï¼Œå†…å« 4 ä¸ªçº¿ç¨‹&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€ä¸ª &lt;code&gt;map&lt;/code&gt; è¿è¡Œåœ¨è¿™ 4 ä¸ªçº¿ç¨‹ä¸­çš„æŸä¸ªçº¿ç¨‹ä¸Š&lt;/li&gt;
&lt;li&gt;...å› ä¸º &lt;code&gt;subscribeOn&lt;/code&gt; å°†æ•´ä¸ªåºåˆ—å¤„ç†é“¾ä»è®¢é˜…æ“ä½œå‘ç”Ÿæ—¶çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆç¬¬5æ­¥ï¼‰åˆ‡æ¢åˆ°äº†æ–°çš„ä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒä¸ª &lt;code&gt;map&lt;/code&gt; å’Œç¬¬ä¸€ä¸ª &lt;code&gt;map&lt;/code&gt; è¿è¡Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸Š&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªåŒ¿åçº¿ç¨‹æ˜¯ &lt;em&gt;è®¢é˜…æ“ä½œ&lt;/em&gt; ä¸€å¼€å§‹å‘ç”Ÿçš„åœ°æ–¹çš„ï¼Œä½†æ˜¯ &lt;code&gt;subscribeOn&lt;/code&gt; å³åˆ»å°†ä¸Šä¸‹æ–‡åˆ‡æ¢åˆ°è°ƒåº¦å™¨4ä¸ªçº¿ç¨‹ä¸­çš„ä¸€ä¸ªä¸Š&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4. é«˜çº§ç‰¹æ€§å’Œæ¦‚å¿µ&lt;/h3&gt;
&lt;h4&gt;4.1 ä½¿ç”¨ ConnectableFlux å°†æ¶ˆæ¯å¹¿æ’­åˆ°å¤šä¸ªè®¢é˜…è€…&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;ä»¥åæœ‰ç©ºå†ç¿»è¯‘&lt;/em&gt;&lt;/p&gt;
&lt;h4&gt;4.2 3ç§åˆ†æ‰¹å¤„ç†æ–¹å¼&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;ä»¥åæœ‰ç©ºå†ç¿»è¯‘&lt;/em&gt;&lt;/p&gt;
&lt;h4&gt;4.3 ä½¿ç”¨ ParallelFlux å¹¶è¡ŒåŒ–å¤„ç†&lt;/h4&gt;
&lt;p&gt;å¦‚ä»Šå¤šæ ¸æ¶æ„å·²æ˜¯ä¸‹é‡Œå·´äººï¼Œç›¸åº”åœ°ï¼Œè½»æ¾å®ç°å¹¶è¡ŒåŒ–å·¥ä½œçš„å·¥å…·æ‰‹æ®µå¾ˆå…³é”®ã€‚Reactor æä¾›äº†ä¸€ä¸ªç‰¹æ®Šç±»å‹ - &lt;code&gt;ParallelFlux&lt;/code&gt; - å¸®åŠ©å®ç°å¹¶è¡ŒåŒ–å¤„ç†ã€‚&lt;code&gt;ParallelFlux&lt;/code&gt; æä¾›çš„ç®—å­æ˜¯ä¸ºå¹¶è¡ŒåŒ–å·¥ä½œä¼˜åŒ–è¿‡çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹ä»»æ„ &lt;code&gt;Flux&lt;/code&gt; å®ä¾‹è°ƒç”¨ &lt;code&gt;parallel()&lt;/code&gt;ç®—å­å°±èƒ½å¾—åˆ°ä¸€ä¸ª &lt;code&gt;ParallelFlux&lt;/code&gt; å®ä¾‹ã€‚è¿™ä¸ªæ–¹æ³•æœ¬èº«å¹¶ä¸èƒ½å®ç°å¹¶è¡ŒåŒ–å·¥ä½œï¼Œè€Œæ˜¯å°†å·¥ä½œè´Ÿè½½æ‹†åˆ†åˆ°å¤šä¸ªâ€œè½¨é“â€ï¼ˆé»˜è®¤â€œè½¨é“â€æ•°é‡ç­‰äº CPU æ ¸æ•°ï¼‰&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å‘ŠçŸ¥äº§å‡ºçš„ ParallelFlux å®ä¾‹æ¯ä¸ªâ€œè½¨é“â€åœ¨å“ªæ‰§è¡Œï¼ˆä»¥åŠå¦‚ä½•å¹¶è¡Œæ‰§è¡Œâ€œè½¨é“â€ï¼‰ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ &lt;code&gt;runOn(Scheduler)&lt;/code&gt;ã€‚æ³¨æ„ï¼šå¯¹äºå¹¶è¡Œå·¥ä½œï¼Œæ¨èä½¿ç”¨ä¸€ä¸ªä¸“ç”¨è°ƒåº¦å™¨ - &lt;code&gt;Schedulers.parallel()&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹æ¯”å¦‚ä¸‹ä¸¤ä¸ªç¤ºä¾‹ï¼Œç¬¬ä¸€ä¸ªç¤ºä¾‹çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux.range(1, 10)
    .parallel(2) &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;
    .subscribe(i -&amp;gt; System.out.println(Thread.currentThread().getName() + &lt;span style="color: #a31515"&gt;&amp;quot; -&amp;gt; &amp;quot;&lt;/span&gt; + i));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;è¿™é‡Œå¼ºåˆ¶æŒ‡å®šäº†â€œè½¨é“â€æ•°é‡ï¼Œè€Œä¸ä¾èµ–äº CPU æ ¸æ•°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¬¬äºŒä¸ªç¤ºä¾‹çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Flux.range(1, 10)
    .parallel(2)
    .runOn(Schedulers.parallel())
    .subscribe(i -&amp;gt; System.out.println(Thread.currentThread().getName() + &lt;span style="color: #a31515"&gt;&amp;quot; -&amp;gt; &amp;quot;&lt;/span&gt; + i));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç¬¬ä¸€ä¸ªç¤ºä¾‹è¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;main -&amp;gt; 1
main -&amp;gt; 2
main -&amp;gt; 3
main -&amp;gt; 4
main -&amp;gt; 5
main -&amp;gt; 6
main -&amp;gt; 7
main -&amp;gt; 8
main -&amp;gt; 9
main -&amp;gt; 10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç¬¬äºŒä¸ªç¤ºä¾‹æ­£ç¡®åœ°åœ¨ä¸¤ä¸ªçº¿ç¨‹ä¸Šå®ç°äº†å¹¶è¡ŒåŒ–ï¼Œè¾“å…¥å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;parallel&lt;/span&gt;-1 -&amp;gt; 1
&lt;span style="color: #0000ff"&gt;parallel&lt;/span&gt;-2 -&amp;gt; 2
&lt;span style="color: #0000ff"&gt;parallel&lt;/span&gt;-1 -&amp;gt; 3
&lt;span style="color: #0000ff"&gt;parallel&lt;/span&gt;-2 -&amp;gt; 4
&lt;span style="color: #0000ff"&gt;parallel&lt;/span&gt;-1 -&amp;gt; 5
&lt;span style="color: #0000ff"&gt;parallel&lt;/span&gt;-2 -&amp;gt; 6
&lt;span style="color: #0000ff"&gt;parallel&lt;/span&gt;-1 -&amp;gt; 7
&lt;span style="color: #0000ff"&gt;parallel&lt;/span&gt;-1 -&amp;gt; 9
&lt;span style="color: #0000ff"&gt;parallel&lt;/span&gt;-2 -&amp;gt; 8
&lt;span style="color: #0000ff"&gt;parallel&lt;/span&gt;-2 -&amp;gt; 10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæ•°æ®åºåˆ—&lt;sup id="fnref:2"&gt;&lt;a class="footnote-ref" href="#fn:2"&gt;2&lt;/a&gt;&lt;/sup&gt;å·²ç»åœ¨å¹¶è¡ŒåŒ–å¤„ç†ï¼Œè€Œä½ åˆæƒ³å°†å…¶è½¬å›ä¸€ä¸ª â€œå¸¸è§„çš„â€ &lt;code&gt;Flux&lt;/code&gt; å®ä¾‹ï¼Œç„¶åä¸²è¡Œæ‰§è¡Œç®—å­é“¾ä½™ä¸‹çš„éƒ¨åˆ†ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ &lt;code&gt;ParallelFlux&lt;/code&gt; çš„ &lt;code&gt;sequential()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šå¦‚æœç›´æ¥ä½¿ç”¨ä¸€ä¸ª &lt;code&gt;Subscriber&lt;/code&gt; ç±»å‹å‚æ•°è€Œä¸æ˜¯ lambda è¡¨è¾¾å¼æ¥è°ƒç”¨ &lt;code&gt;subscribe&lt;/code&gt; æ–¹æ³•ï¼Œé‚£ä¹ˆå†…éƒ¨å®ç°ä¼šéšå¼åœ°è°ƒç”¨ &lt;code&gt;sequential()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ç”±æ­¤ä¹Ÿè¦æ³¨æ„ï¼š&lt;code&gt;subscribe(Subscriber&amp;lt;T&amp;gt;)&lt;/code&gt; ä¼šåˆå¹¶æ‰€æœ‰æ•°æ®â€œè½¨é“â€ï¼Œè€Œ &lt;code&gt;subscribe(Consumer&amp;lt;T&amp;gt;)&lt;/code&gt; æ˜¯è¿è¡Œæ‰€æœ‰çš„æ•°æ®â€œè½¨é“â€ã€‚å¦‚æœä»¥ lambda è¡¨è¾¾å¼è°ƒç”¨ &lt;code&gt;subscribe&lt;/code&gt; æ–¹æ³•ï¼Œé‚£ä¹ˆæ¯ä¸ª lambda è¡¨è¾¾å¼éƒ½ä¼šè¢«å¤åˆ¶æˆå¤šä¸ªå®ä¾‹ï¼ˆæ•°é‡ç­‰äºâ€œè½¨é“â€æ•°é‡ï¼‰å»æ‰§è¡Œ&lt;sup id="fnref:3"&gt;&lt;a class="footnote-ref" href="#fn:3"&gt;3&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;è¯‘æ³¨ï¼šè¿™é‡Œçš„â€œè½¨é“â€å…¶å®ä¸å¤ªç›´ç™½ã€‚åœ¨å®ç°ä¸Šï¼Œ&lt;code&gt;ParallelFlux&lt;/code&gt; ä¼šå°†æœ€å &lt;code&gt;subscribe&lt;/code&gt; çš„ onNext å›è°ƒæŒ‰å¹¶è¡Œåº¦ï¼ˆé»˜è®¤ç­‰äº CPU æ ¸æ•° Nï¼‰å¤åˆ¶æˆ N ä¸ªï¼Œé‚£ä¹ˆæœ€ç»ˆè°ƒç”¨ ParallelFlux çš„ N ä¸ª Subscriberï¼Œä» ParallelFlux å®ä¾‹åˆ°ä¸€ä¸ª Subscriber çš„æ•°æ®æµè·¯å¾„å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªâ€œè½¨é“â€ï¼ŒParallelFlux åœ¨æ¥æ”¶åˆ°ä¸Šæ¸¸æ¶ˆæ¯åæŒ‰ç…§ round-robin æ–¹å¼é€‰æ‹©ä¸€ä¸ª Subscriber è°ƒç”¨å…¶ &lt;code&gt;onNext&lt;/code&gt; ä¸‹å‘æ¶ˆæ¯ï¼Œä½† &lt;code&gt;onNext&lt;/code&gt; æ˜¯è¿è¡Œåœ¨ä»€ä¹ˆçº¿ç¨‹ä¸Šï¼Œæ˜¯ç”± runOn ç®—å­å†³å®šçš„ï¼Œå¦‚æœä¸ä½¿ç”¨ runOn ç®—å­ï¼Œé‚£ä¹ˆæ‰€æœ‰ Subscriber çš„ &lt;code&gt;onNext&lt;/code&gt; æ–¹æ³•è°ƒç”¨éƒ½æ˜¯åŒæ­¥è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸Šçš„ã€‚&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;è¯‘æ³¨ï¼šåŸæ–‡ä¸­ç”¨äº†å¤šä¸ªè¯æ¥è¡¨è¾¾ç›¸è¿‘çš„æ„æ€ï¼šsequenceï¼ˆåºåˆ—ï¼‰ã€streamï¼ˆæµï¼‰ã€flowï¼ˆæµï¼‰ï¼Œé˜…è¯»æ—¶å¯ä»¥ç›¸äº’æ›¿ä»£ç†è§£ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ eventï¼ˆäº‹ä»¶ï¼‰ã€dataï¼ˆæ•°æ®ï¼‰ã€messageï¼ˆæ¶ˆæ¯ï¼‰ï¼Œåœ¨å½“å‰ä¸Šä¸‹æ–‡ä¸­ï¼Œå¯ä»¥çœ‹æˆæ˜¯ç­‰ä»·çš„ã€‚&amp;#160;&lt;a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:3"&gt;
&lt;p&gt;è¯‘æ³¨ï¼šè¿™è¯å†™å¾—çœŸè ¢ã€‚è¯¦ç»†è§£é‡Šè§è„šæ³¨ 1ã€‚&amp;#160;&lt;a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="Reactor"></category><category term="Reactive"></category></entry><entry><title>Java System.getProperty VS. System.getenvï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2019/06/25/java-prop-env/" rel="alternate"></link><published>2019-06-25T00:00:00+08:00</published><updated>2019-06-25T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2019-06-25:/2019/06/25/java-prop-env/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://www.baeldung.com/java-system-get-property-vs-system-getenv"&gt;Java System.getProperty vs System.getenv&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;1ã€ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;Java åº”ç”¨ä»£ç ä¸­ä¼šè‡ªåŠ¨å¼•å…¥ &lt;code&gt;java.lang&lt;/code&gt; åŒ…ã€‚è¿™ä¸ªåŒ…åŒ…å«å¾ˆå¤šå¸¸ç”¨çš„ç±»ï¼ŒåŒ…æ‹¬ &lt;code&gt;NullPointerException&lt;/code&gt;ã€&lt;code&gt;Object&lt;/code&gt;ã€&lt;code&gt;Math&lt;/code&gt;ã€&lt;code&gt;String&lt;/code&gt; ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ &lt;code&gt;java.lang.System&lt;/code&gt; ç±» â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://www.baeldung.com/java-system-get-property-vs-system-getenv"&gt;Java System.getProperty vs System.getenv&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;1ã€ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;Java åº”ç”¨ä»£ç ä¸­ä¼šè‡ªåŠ¨å¼•å…¥ &lt;code&gt;java.lang&lt;/code&gt; åŒ…ã€‚è¿™ä¸ªåŒ…åŒ…å«å¾ˆå¤šå¸¸ç”¨çš„ç±»ï¼ŒåŒ…æ‹¬ &lt;code&gt;NullPointerException&lt;/code&gt;ã€&lt;code&gt;Object&lt;/code&gt;ã€&lt;code&gt;Math&lt;/code&gt;ã€&lt;code&gt;String&lt;/code&gt; ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ &lt;code&gt;java.lang.System&lt;/code&gt; ç±»æ˜¯ä¸€ä¸ª final ç±»ï¼Œè¿™æ„å‘³ç€å¼€å‘è€…æ— æ³•ç»§æ‰¿å®ƒï¼Œå…¶æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼ˆstaticï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;System ç±»ä¸­æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ¥&lt;strong&gt;è¯»å–ç³»ç»Ÿå±æ€§ï¼ˆsystem propertiesï¼‰å’Œç¯å¢ƒå˜é‡ï¼ˆenvironment variablesï¼‰&lt;/strong&gt;ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸¤è€…çš„åŒºåˆ«ã€‚&lt;/p&gt;
&lt;h2&gt;2ã€ä½¿ç”¨ System.getProperty()&lt;/h2&gt;
&lt;p&gt;Java å¹³å°ä½¿ç”¨ä¸€ä¸ª &lt;code&gt;Properties&lt;/code&gt; å¯¹è±¡æ¥æä¾›&lt;strong&gt;æœ¬åœ°ç³»ç»Ÿç›¸å…³çš„ä¿¡æ¯å’Œé…ç½®&lt;/strong&gt;ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º &lt;strong&gt;ç³»ç»Ÿå±æ€§&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿå±æ€§åŒ…æ‹¬å½“å‰ç”¨æˆ·ã€å½“å‰ Java è¿è¡Œæ—¶ç‰ˆæœ¬ ä»¥åŠ æ–‡ä»¶è·¯å¾„åˆ†éš”ç¬¦è¯¸å¦‚æ­¤ç±»çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;System.getProperty("log_dir")&lt;/code&gt; æ¥è¯»å– &lt;em&gt;log_dir&lt;/em&gt; å±æ€§å€¼ã€‚æˆ‘ä»¬ä¹Ÿä¼šä½¿ç”¨é»˜è®¤å€¼å‚æ•°ï¼Œè¿™æ ·å¦‚æœå±æ€§ä¸å­˜åœ¨ï¼Œ&lt;code&gt;getProperty&lt;/code&gt; åˆ™è¿”å› &lt;em&gt;/tmp/log&lt;/em&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;String log_dir = System.getProperty(&lt;span style="color: #a31515"&gt;&amp;quot;log_dir&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;/tmp/log&amp;quot;&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœå¸Œæœ›åœ¨è¿è¡Œæ—¶å˜æ›´ç³»ç»Ÿå±æ€§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ &lt;code&gt;System.setProperty&lt;/code&gt; æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;System.setProperty(&lt;span style="color: #a31515"&gt;&amp;quot;log_dir&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;/tmp/log&amp;quot;&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä»¥å¦‚ä¸‹æ ¼å¼ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°å‘åº”ç”¨ä¼ é€’æŒ‡å®šå±æ€§æˆ–é…ç½®å€¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;java -jar jarName -DpropertyName=value
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ¯”å¦‚ å°† app.jar çš„ foo å±æ€§å€¼è®¾ç½®ä¸º barï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;java -jar app -Dfoo=&amp;quot;bar&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;System.getProperty è¿”å›çš„ä¸€å®šæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;h2&gt;3ã€ä½¿ç”¨ System.getenv()&lt;/h2&gt;
&lt;p&gt;ç¯å¢ƒå˜é‡æ˜¯ç±»ä¼¼ Properties çš„ä¸€äº› é”®/å€¼ å¯¹ã€‚è®¸å¤šæ“ä½œç³»ç»Ÿéƒ½æä¾›ç¯å¢ƒå˜é‡çš„æ–¹å¼å‘åº”ç”¨ä¼ é€’é…ç½®ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;è®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œå„æ“ä½œç³»ç»Ÿä¹‹é—´æœ‰æ‰€ä¸åŒã€‚ä¾‹å¦‚ï¼ŒWindows ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ§åˆ¶é¢æ¿ä¸­çš„ç³»ç»Ÿå·¥å…·ï¼ˆSystem Utilityï¼‰åº”ç”¨æ¥è®¾ç½®ï¼Œè€Œ Unix ç³»ç»Ÿåˆ™ä½¿ç”¨ shell è„šæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æ—¶ï¼Œè¯¥è¿›ç¨‹é»˜è®¤ä¼šä»å…¶çˆ¶è¿›ç¨‹ç»§æ‰¿ä¸€ä¸ªå…‹éš†çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹ä»£ç ç‰‡æ®µæ¼”ç¤ºï¼šä½¿ç”¨ä¸€ä¸ª lambda è¡¨è¾¾å¼æ¥è¾“å‡ºæ‰€æœ‰ç¯å¢ƒå˜é‡ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;System.getenv().forEach((k, v) -&amp;gt; {
    System.out.println(k + &lt;span style="color: #a31515"&gt;&amp;quot;:&amp;quot;&lt;/span&gt; + v);
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;getenv() è¿”å›ä¸€ä¸ªåªè¯»çš„ &lt;code&gt;Map&lt;/code&gt;&lt;/strong&gt;ã€‚å°è¯•å‘è¯¥æ˜ å°„ä¸­æ·»åŠ å€¼ï¼Œä¼šæŠ›å‡º &lt;code&gt;UnsupportedOperationException&lt;/code&gt; å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨å˜é‡åç§°ä½œä¸ºå‚æ•°è°ƒç”¨ &lt;code&gt;getenv&lt;/code&gt; æ¥è·å–å•ä¸ªå˜é‡å€¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;String log_dir = System.getenv(&lt;span style="color: #a31515"&gt;&amp;quot;log_dir&amp;quot;&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åº”ç”¨ä¸­åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹ï¼Œå¹¶å‘å…¶ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­æ·»åŠ æ–°çš„ç¯å¢ƒå˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;Java ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;ProcessBuilder&lt;/code&gt; ç±»æ¥åˆ›å»ºæ–°è¿›ç¨‹ï¼Œè¯¥ç±»æœ‰ä¸€ä¸ªåä¸º &lt;code&gt;environment&lt;/code&gt; çš„æ–¹æ³•ï¼Œæ­¤æ–¹æ³•è¿”å›ä¸€ä¸ª &lt;code&gt;Map&lt;/code&gt;ï¼Œä¸è¿‡è¿™ä¸ªæ˜ å°„ä¸æ˜¯åªè¯»çš„ï¼Œè¿™æ ·å°±å¯ä»¥å‘å…¶æ·»åŠ æ–°å…ƒç´ ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ProcessBuilder pb = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; ProcessBuilder(args);
Map&amp;lt;String, String&amp;gt; env = pb.environment();
env.put(&lt;span style="color: #a31515"&gt;&amp;quot;log_dir&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;/tmp/log&amp;quot;&lt;/span&gt;);
Process process = pb.start();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;4ã€åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;è¿™ä¸¤è€…æœ¬è´¨ä¸Šéƒ½æ˜¯æä¾› å­—ç¬¦ä¸²ç±»å‹ é”®å€¼ ä¿¡æ¯çš„æ˜ å°„ï¼ŒåŒºåˆ«åœ¨äºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶å˜æ›´ ç³»ç»Ÿå±æ€§ï¼ˆPropertiesï¼‰ï¼Œä½†æ˜¯ ç¯å¢ƒå˜é‡ï¼ˆEnvironment Variablesï¼‰ä»…æ˜¯æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡çš„ä¸€ä¸ªä¸å¯å˜æ‹·è´ã€‚&lt;/li&gt;
&lt;li&gt;ä»… Java å¹³å°åŒ…å«è¿™ä¸ª ç³»ç»Ÿå±æ€§ ç‰¹æ€§ï¼Œè€Œ ç¯å¢ƒå˜é‡ åˆ™æ˜¯æ“ä½œç³»ç»Ÿå±‚é¢æä¾›ï¼Œå…¨å±€å¯ç”¨çš„ - è¿è¡Œåœ¨åŒä¸€ä¸ªæœºå™¨ä¸Šçš„æ‰€æœ‰åº”ç”¨éƒ½å¯ä»¥è®¿é—®ã€‚&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿå±æ€§ åœ¨æ‰“åŒ…åº”ç”¨æ—¶å°±å¿…é¡»å­˜åœ¨&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt;ï¼Œè€Œ ç¯å¢ƒå˜é‡ åˆ™ä»»æ„æ—¶åˆ»éƒ½å¯ä»¥åœ¨æ“ä½œç³»ç»Ÿä¸­åˆ›å»ºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;5ã€æ€»ç»“ä¸€ä¸‹&lt;/h2&gt;
&lt;p&gt;è™½ç„¶è¿™ä¸¤è€…åœ¨æ¦‚å¿µä¸Šæ¯”è¾ƒç›¸ä¼¼ï¼Œä½†æ˜¯ ç³»ç»Ÿå±æ€§ å’Œ ç¯å¢ƒå˜é‡ çš„åº”ç”¨æ–¹å¼å·®åˆ«å¾ˆå¤§ã€‚&lt;/p&gt;
&lt;p&gt;äºŒé€‰ä¸€é€šå¸¸è€ƒé‡çš„æ˜¯ç”Ÿæ•ˆèŒƒå›´ã€‚ä½¿ç”¨ ç¯å¢ƒå˜é‡ï¼ŒåŒä¸€ä¸ªåº”ç”¨å¯ä»¥éƒ¨ç½²åˆ°å¤šä¸ªæœºå™¨ä¸Šè¿è¡Œä¸åŒçš„å®ä¾‹ï¼Œå¹¶åœ¨æ“ä½œç³»ç»Ÿçº§åˆ«æˆ–è€…åœ¨ AWS / Azure äº‘å¹³å°æ§åˆ¶å°ä¸­è¿›è¡Œé…ç½®ï¼Œä»¥å…æ›´æ–°é…ç½®æ—¶è¿˜å¾—é‡æ–°æ„å»ºåº”ç”¨ï¼ˆ&lt;strong&gt;è¯‘æ³¨ï¼šå…¶å®ä½¿ç”¨ ç³»ç»Ÿå±æ€§ ä¹Ÿå¯ä»¥å®ç°è¿™ä¸ªæ•ˆæœï¼Œæ¯”å¦‚åœ¨ shell è„šæœ¬ä¸­è·å–ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œç„¶åä½œä¸ºç³»ç»Ÿå±æ€§é€šè¿‡ Java å‘½ä»¤è¡Œå‚æ•°ä¼ é€’ç»™åº”ç”¨&lt;/strong&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;getProperty&lt;/code&gt; æ–¹æ³•åç§°æ˜¯é©¼å³°é£æ ¼ï¼Œä½† &lt;code&gt;getenv&lt;/code&gt; ä¸æ˜¯ï¼Œè°¨è®°ï¼&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;åŸæ–‡æ˜¯è¿™ä¹ˆå†™çš„ï¼Œä½†æˆ‘è®¤ä¸ºè¿™å¥è¯æœ‰é—®é¢˜ã€‚ç³»ç»Ÿå±æ€§æ˜æ˜å¯ä»¥åœ¨åº”ç”¨è¿è¡Œæ—¶é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šï¼Œä¹Ÿå¯ä»¥å°†å±æ€§æ–‡ä»¶æ‰“åŒ…åˆ°åº”ç”¨åŒ…ä¸­ï¼Œåœ¨è¿è¡Œæ—¶åŠ è½½ï¼ˆé€šè¿‡ &lt;code&gt;System.getProperties().load&lt;/code&gt; æ–¹æ³•ï¼‰ã€‚&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="Java"></category></entry><entry><title>Java å•æµ‹ä¼´ä¾£ - mockito</title><link href="http://youngsterxyf.github.io/2019/06/17/mockito/" rel="alternate"></link><published>2019-06-17T00:00:00+08:00</published><updated>2019-06-17T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2019-06-17:/2019/06/17/mockito/</id><summary type="html">&lt;p&gt;å…¶å®å·¥ä½œä»¥æ¥ï¼Œæˆ‘å¾ˆå°‘å†™æµ‹è¯•/å•æµ‹ä»£ç ï¼Œä¸€æ–¹é¢æ˜¯å¤§éƒ¨åˆ†äº’è”ç½‘å…¬å¸å›¢é˜Ÿå¯¹æµ‹è¯•çš„è¦æ±‚ä¸é«˜ï¼Œå¦ä¸€æ–¹é¢æ˜¯æƒ³å†™å¥½æµ‹è¯•ä»£ç  â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å…¶å®å·¥ä½œä»¥æ¥ï¼Œæˆ‘å¾ˆå°‘å†™æµ‹è¯•/å•æµ‹ä»£ç ï¼Œä¸€æ–¹é¢æ˜¯å¤§éƒ¨åˆ†äº’è”ç½‘å…¬å¸å›¢é˜Ÿå¯¹æµ‹è¯•çš„è¦æ±‚ä¸é«˜ï¼Œå¦ä¸€æ–¹é¢æ˜¯æƒ³å†™å¥½æµ‹è¯•ä»£ç è¿˜æŒºéš¾çš„ï¼ŒæŒºèŠ±æ—¶é—´ï¼Œå…¶ä¸­æœ€éº»çƒ¦çš„æ˜¯å¾…æµ‹ä»£ç å¯èƒ½ä¼šè®¿é—®å¤–éƒ¨èµ„æºï¼ˆæ¯”å¦‚æ•°æ®åº“ã€HTTP APIï¼‰ï¼Œå¦‚æœä¸èƒ½æ–¹ä¾¿åœ°è¿›æ¨¡æ‹Ÿè®¿é—®è¿™äº›å¤–éƒ¨èµ„æºï¼Œé‚£ä¹ˆæµ‹è¯•èµ·æ¥ä¼šéå¸¸éº»çƒ¦ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ï¼Œå¯¹äºå¤æ‚é€»è¾‘ï¼Œå¦‚æœä¸ç»è¿‡ä¸¥æ ¼æµ‹è¯•ï¼Œå‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒï¼Œåˆæœ‰äº›ä¸æ”¾å¿ƒï¼Œæ²¡åº•æ°”ï¼Œæˆ–è€…åœ¨ä»£ç é‡æ„æ—¶ï¼Œå¦‚æœæ²¡æœ‰è¦†ç›–å…¨é¢çš„æµ‹è¯•ï¼Œå¾ˆéš¾è¯„ä¼°ä»£ç å˜åŠ¨å¸¦æ¥çš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;ç›´åˆ°é‡åˆ° &lt;a href="https://site.mockito.org/"&gt;mockito&lt;/a&gt;ï¼Œæˆ‘æ‰è§‰å¾—æ˜¯æ—¶å€™è®¤çœŸå†™å†™æµ‹è¯•ä»£ç äº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href="https://site.mockito.org/"&gt;mockito&lt;/a&gt; æä¾›ä¸¤ç§å¯¹è±¡æ¨¡æ‹Ÿæ–¹å¼ï¼š&lt;strong&gt;mock&lt;/strong&gt; å’Œ &lt;strong&gt;spy&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œmock æ¨¡æ‹Ÿçš„å¯¹è±¡æ˜¯ä¸€ä¸ªå®Œå…¨å‡çš„å¯¹è±¡ï¼Œåªæ˜¯å…·å¤‡æŒ‡å®šç±»å‹çš„æ¥å£ï¼Œä»¥ &lt;code&gt;java.util.List&lt;/code&gt; ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.mock;

List mockedList = mock(List.class);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è™½ç„¶ List æ˜¯ä¸€ä¸ª interfaceï¼Œä¹Ÿå¯ä»¥æ¨¡æ‹Ÿå‡ºä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œè¿™ä¸ª mockedList å¯¹è±¡å…·å¤‡ List æ¥å£å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ï¼Œä½†æ‰€æœ‰æ–¹æ³•éƒ½ä¸å…·å¤‡å®é™…çš„è¡Œä¸ºæ“ä½œï¼Œå¯¹äºæœ‰è¿”å›å€¼çš„æ–¹æ³•ï¼Œåˆ™é»˜è®¤è¿”å›æ–¹æ³•è¿”å›ç±»å‹çš„é»˜è®¤å€¼ï¼Œæ²¡æœ‰è¿”å›å€¼çš„æ–¹æ³•ï¼Œåˆ™çº¯ç²¹æ˜¯ä¸€ä¸ªç©ºæ–¹æ³•ã€‚æ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;// mockedList å¹¶ä¸ä¼šçœŸçš„æŠŠ 1 å­˜ä¸‹æ¥&lt;/span&gt;
mockedList.add(1);
&lt;span style="color: #008000"&gt;// æ‰€ä»¥ï¼Œsize() è¿”å›é»˜è®¤å€¼ï¼Œè¾“å‡º 0&lt;/span&gt;
System.out.println(mockedList.size());
&lt;span style="color: #008000"&gt;// è¾“å‡º null&lt;/span&gt;
System.out.println(mockedList.get(0));
&lt;span style="color: #008000"&gt;// è¾“å‡º null&lt;/span&gt;
System.out.println(mockedList.get(1));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºæ¨¡æ‹Ÿå‡ºæ¥çš„å¯¹è±¡ï¼Œå¯ä»¥ä»»æ„æŒ‡å®šå…¶æ–¹æ³•çš„è¿”å›å€¼ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.when;

&lt;span style="color: #008000"&gt;// è°ƒç”¨ size() æ–¹æ³•æ—¶ï¼Œè¿”å› 10&lt;/span&gt;
when(mockedList.size()).willReturn(10);
when(mockedList.get(0)).willReturn(&lt;span style="color: #a31515"&gt;&amp;quot;Hello World!&amp;quot;&lt;/span&gt;);
when(mockedList.get(1)).thenReturn(&lt;span style="color: #a31515"&gt;&amp;quot;æ‚¨å¥½ï¼&amp;quot;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// è¾“å‡º 10&lt;/span&gt;
System.out.println(mockedList.size());
&lt;span style="color: #008000"&gt;// è¾“å‡º Hello World!&lt;/span&gt;
System.out.println(mockedList.get(0));
&lt;span style="color: #008000"&gt;// è¾“å‡º æ‚¨å¥½ï¼&lt;/span&gt;
System.out.println(mockedList.get(1));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å½“ç„¶æˆ‘ä»¬å†™æµ‹è¯•ä»£ç æ—¶ï¼Œå¹¶ä¸ä¼šä½¿ç”¨ System.out.printlnï¼Œç„¶åçœ‹è¾“å‡ºï¼Œè€Œæ˜¯ä½¿ç”¨&lt;strong&gt;æ–­è¨€&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.junit.Assert.assertEquals;

assertEquals(10, mockedList.size());
assertEquals(&lt;span style="color: #a31515"&gt;&amp;quot;Hello World!&amp;quot;&lt;/span&gt;, mockedList.get(0));
assertEquals(&lt;span style="color: #a31515"&gt;&amp;quot;æ‚¨å¥½ï¼&amp;quot;&lt;/span&gt;, mockedList.get(1));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ–­è¨€æ–¹æ³•éå¸¸å¤šï¼Œä¸ä»…ä»…åªæ˜¯ assertEqualsã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºåŒä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ¨¡æ‹Ÿå¤šæ¬¡è°ƒç”¨è¿”å›ä¸åŒçš„å€¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;// ä¼šè¦†ç›–ä¹‹å‰ mock çš„è¡Œä¸ºï¼šwhen(mockedList.size()).willReturn(10);&lt;/span&gt;
&lt;span style="color: #008000"&gt;// æˆ–è€…è¿™ä¹ˆå†™ï¼šwhen(mockedList.size()).willReturn(0, -1, 10);&lt;/span&gt;
when(mockedList.size()).thenReturn(0).thenReturn(-1).thenReturn(10);
assertEquals(0, mockedList.size());
assertEquals(-1, mockedList.size());
assertEquals(10, mockedList.size());
&lt;span style="color: #008000"&gt;// ç¬¬ 3 æ¬¡ä¹‹åçš„ mockedList.size() è°ƒç”¨éƒ½è¿”å› 10&lt;/span&gt;
assertEquals(10, mockedList.size());

Iterator iterator = mock(Iterator.class);
&lt;span style="color: #008000"&gt;// æˆ–è€…è¿™ä¹ˆå†™ï¼šwhen(iterator.next()).thenReturn(0, 1, 10, 1000);&lt;/span&gt;
when(iterator.next()).thenReturn(0).thenReturn(1).thenReturn(10).thenReturn(1000);
assertEquals(0, iterator.next());
assertEquals(1, iterator.next());
assertEquals(10, iterator.next());
assertEquals(1000, iterator.next());
&lt;span style="color: #008000"&gt;// ç¬¬ 4 æ¬¡ä¹‹åçš„ iterator.next() è°ƒç”¨éƒ½è¿”å› 1000&lt;/span&gt;
assertEquals(1000, iterator.next());
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿˜å¯ä»¥æ¨¡æ‹Ÿå¼‚å¸¸æŠ›å‡ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;List mockedList = mock(List.class);

when(mockedList.get(-1000)).thenThrow(&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; RuntimeException(&lt;span style="color: #a31515"&gt;&amp;quot;å‚æ•°å¼‚å¸¸ï¼&amp;quot;&lt;/span&gt;));
&lt;span style="color: #0000ff"&gt;try&lt;/span&gt; {
    mockedList.get(-1000);
} &lt;span style="color: #0000ff"&gt;catch&lt;/span&gt; (Exception e) {
    assertTrue(e &lt;span style="color: #0000ff"&gt;instanceof&lt;/span&gt; RuntimeException);
    assertEquals(&lt;span style="color: #a31515"&gt;&amp;quot;å‚æ•°å¼‚å¸¸ï¼&amp;quot;&lt;/span&gt;, e.getMessage());
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥åŸºäºå¤æ‚çš„é€»è¾‘æ¥æ„é€ è¿”å›å€¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.mockito.invocation.InvocationOnMock;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.mockito.stubbing.Answer;

List&amp;lt;Integer&amp;gt; mockedList = mock(List.class);
when(mockedList.get(anyInt())).thenAnswer(&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; EchoAnswer());

assertTrue(1 == mockedList.get(1));
assertTrue(10 == mockedList.get(10));

&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;EchoAnswer&lt;/span&gt; &lt;span style="color: #0000ff"&gt;implements&lt;/span&gt; Answer&amp;lt;Integer&amp;gt; {

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; Integer answer(InvocationOnMock var) {
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; var.getArgument(0);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é™¤äº† &lt;code&gt;when(...).thenReturn(...)&lt;/code&gt; é£æ ¼çš„æµ‹è¯•æ¨¡æ‹Ÿæ–¹å¼ï¼Œè¿˜æœ‰ BDDï¼ˆBehavior Driven Development è¡Œä¸ºé©±åŠ¨å¼€å‘ï¼‰é£æ ¼çš„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.BDDMockito.given;

&lt;span style="color: #008000"&gt;// given&lt;/span&gt;
given(mockedList.get(0)).willReturn(100);
&lt;span style="color: #008000"&gt;// when&lt;/span&gt;
&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; v = (&lt;span style="color: #2b91af"&gt;int&lt;/span&gt;) mockedList.get(0);
&lt;span style="color: #008000"&gt;// then&lt;/span&gt;
assertEquals(100, v);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œæˆ–è€…å…¶å®ƒå¥‡è‘©çš„éœ€æ±‚ï¼Œåˆ™æ²¡æ³•ä½¿ç”¨ when.thenReturn / willReturn è¿™æ ·çš„æ¨¡æ‹Ÿæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;doReturn(...).when(...)...&lt;/code&gt;ï¼š
&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.doThrow;
&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.doReturn;

ArrayList mockedList = mock(ArrayList.class);
&lt;span style="color: #008000"&gt;// clear æ–¹æ³•æ— è¿”å›å€¼&lt;/span&gt;
doThrow(&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; RuntimeException(&lt;span style="color: #a31515"&gt;&amp;quot;æ¸…é™¤å¤±è´¥&amp;quot;&lt;/span&gt;)).when(mockedList).clear();

&lt;span style="color: #0000ff"&gt;try&lt;/span&gt; {
    mockedList.clear();
} &lt;span style="color: #0000ff"&gt;catch&lt;/span&gt; (Exception e) {
    assertTrue(e &lt;span style="color: #0000ff"&gt;instanceof&lt;/span&gt; RuntimeException);
    assertEquals(&lt;span style="color: #a31515"&gt;&amp;quot;æ¸…é™¤å¤±è´¥&amp;quot;&lt;/span&gt;, e.getMessage());
}

&lt;span style="color: #008000"&gt;// æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºæ²¡æ³•ä½¿ç”¨ æ–­è¨€ æ¥éªŒè¯ï¼Œå®é™…è¿è¡Œæ—¶ä¼šæŠ›å¼‚å¸¸&lt;/span&gt;
doReturn(10).when(mockedList).clear();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ç¤ºä¾‹ä»£ç å¯ä»¥çœ‹å‡ºï¼Œ&lt;code&gt;doReturn(...).when(...)....&lt;/code&gt; ä¸ä¼šåšç±»å‹æ ¡éªŒï¼ŒmockedList.clear() è¿”å›å€¼ç±»å‹ä¸º voidï¼Œä½†æˆ‘ä»¬æ¨¡æ‹Ÿè®©å…¶è¿”å› 10ï¼›æ‰€ä»¥ï¼Œæ­£å¸¸æƒ…å†µåº”è¯¥å°½å¯èƒ½ä½¿ç”¨ &lt;code&gt;when(...).thenReturn(...)&lt;/code&gt; æˆ– &lt;code&gt;given(...).willReturn(...)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å‰è¿°ä»£ç ç¤ºä¾‹ä¸­ï¼Œæ¨¡æ‹Ÿæ–¹æ³•çš„å‚æ•°éƒ½åšäº†ç¡¬ç¼–ç ï¼Œå®é™…æƒ…å†µé€šå¸¸éƒ½ä¸æ˜¯è¿™ä¹ˆæµ‹è¯•ï¼Œè€Œæ˜¯æ¨¡æ‹Ÿæ–¹æ³•çš„å‚æ•°ç¬¦åˆä¸€å®šçš„è¦æ±‚å³å¯ï¼Œæ¯”å¦‚ï¼šåœ¨æŸä¸ªèŒƒå›´ä¹‹å†…ã€ç¬¦åˆç±»å‹çš„ä»»ä½•å€¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.anyInt;

&lt;span style="color: #008000"&gt;/*&lt;/span&gt;
&lt;span style="color: #008000"&gt;ä»¥ä»»ä½• int ç±»å‹çš„å‚æ•°è°ƒç”¨ mockedList.get æ–¹æ³•ï¼Œéƒ½è¿”å› 100&lt;/span&gt;

&lt;span style="color: #008000"&gt;å¦‚æœå†™æˆ when(mockedList.get(0)).thenReturn(100)ï¼Œåˆ™åªæœ‰ä»¥ 0 ä¸ºå‚æ•°è°ƒç”¨ mockedList.get æ–¹æ³•ï¼Œæ‰ä¼šè¿”å›100ï¼Œå…¶ä»–å‚æ•°å€¼ï¼Œè¿”å›çš„éƒ½æ˜¯é»˜è®¤å€¼ 0&lt;/span&gt;
&lt;span style="color: #008000"&gt;*/&lt;/span&gt;
when(mockedList.get(anyInt())).thenReturn(100);

assertEquals(100, mockedList.get(0));
assertEquals(100, mockedList.get(1000));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯ç”¨çš„å‚æ•°åŒ¹é…å™¨ï¼Œè§ org.mockito.ArgumentMatchers ç±»çš„é™æ€æ–¹æ³•åˆ—è¡¨ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å®ç° ArgumentMatcher æ¥å£ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;package&lt;/span&gt; org.mockito;

&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt; &lt;span style="color: #2b91af"&gt;ArgumentMatcher&lt;/span&gt;&amp;lt;T&amp;gt; {
    &lt;span style="color: #2b91af"&gt;boolean&lt;/span&gt; matches(T var1);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.mockito.ArgumentMatcher;
&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.intThat;

when(mockedList.get(intThat(&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; LimitedInt()))).thenReturn(10);

assertEquals(&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;, mockedList.get(-1));
assertEquals(10, mockedList.get(1));
assertEquals(10, mockedList.get(99));
assertEquals(&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;, mockedList.get(100));

&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;LimitedInt&lt;/span&gt; &lt;span style="color: #0000ff"&gt;implements&lt;/span&gt; ArgumentMatcher&amp;lt;Integer&amp;gt; {

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;boolean&lt;/span&gt; matches(Integer var) {
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; &lt;span style="border: 1px solid #FF0000"&gt;&amp;gt; 0 &amp;amp;&amp;amp; &lt;/span&gt;var &amp;lt; 100;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœè¢«æ¨¡æ‹Ÿçš„æ–¹æ³•åŒ…å«å¤šä¸ªå‚æ•°ï¼Œé‚£ä¹ˆè¿™äº›å‚æ•°è¦ä¹ˆå…¨éƒ¨ä½¿ç”¨åŒ¹é…å™¨ï¼Œè¦ä¹ˆå…¨éƒ¨ä¸ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ¨¡æ‹ŸæŸäº›ç±»ï¼ˆAï¼‰çš„æ–¹æ³•ï¼Œé€šå¸¸ä¼šå°† mock å‡ºæ¥çš„å¯¹è±¡æ³¨å…¥åˆ°ä¾èµ–è¯¥ç±»å®ä¾‹çš„å…¶ä»–ç±»ï¼ˆBï¼‰ä¸­ï¼Œæ¥æ›¿ä»£çœŸå®çš„ä¾èµ–ï¼Œè¿™ç§æ–¹å¼çš„ç›®çš„æ˜¯ä¸ºäº†æµ‹è¯•ç±» B çš„è¡Œä¸ºæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸ªæµ‹è¯•éœ€æ±‚æ˜¯ï¼Œæµ‹è¯•æŸä¸ªç±» A' åœ¨æŸä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒä¸­çš„è¡Œä¸ºæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œæ¯”å¦‚ï¼š A' çš„æŸä¸ªæ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨è¿‡ã€è°ƒç”¨è¿‡å‡ æ¬¡ã€è°ƒç”¨å‚æ•°æ˜¯å¦ç¬¦åˆé¢„æœŸã€å‡ ä¸ªæ–¹æ³•ä¹‹é—´çš„è°ƒç”¨æ¬¡åºæ˜¯å¦ç¬¦åˆé¢„æœŸã€æ–¹æ³•è°ƒç”¨è€—æ—¶æ˜¯å¦ç¬¦åˆé¢„æœŸç­‰ç­‰ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.verify;
&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.times;
&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.never;
&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.verifyZeroInteractions;

List mocked = mock(List.class);

Caller caller = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Caller();
caller.setList(mocked);

&lt;span style="color: #008000"&gt;// è°ƒç”¨ 0 æ¬¡&lt;/span&gt;
caller.run(0);
&lt;span style="color: #008000"&gt;// éªŒè¯æ˜¯å¦ä»æ¥æ²¡è°ƒç”¨è¿‡ mocked.size()&lt;/span&gt;
verify(mocked, never()).size();
&lt;span style="color: #008000"&gt;// éªŒè¯ æ²¡æœ‰å’Œ mocked äº§ç”Ÿè¿‡ä»»ä½•äº¤äº’&lt;/span&gt;
&lt;span style="color: #008000"&gt;// å› ä¸º Caller.run ä¸­è°ƒç”¨äº† list.isEmpty()ï¼Œå®é™…äº§ç”Ÿäº†äº¤äº’ï¼Œæ‰€ä»¥è¿™è¡Œæµ‹è¯•ä¼šå¤±è´¥&lt;/span&gt;
verifyZeroInteractions(mocked);

&lt;span style="color: #008000"&gt;// è°ƒç”¨ 10 æ¬¡&lt;/span&gt;
caller.run(10);
&lt;span style="color: #008000"&gt;// éªŒè¯æ˜¯å¦è°ƒç”¨ mocked.size() 10 æ¬¡&lt;/span&gt;
verify(mocked, times(10)).size();

&lt;span style="color: #008000"&gt;// å†è°ƒç”¨ä¸€æ¬¡&lt;/span&gt;
caller.run(1);
&lt;span style="color: #008000"&gt;// æ‰€ä»¥æ˜¯ 11 æ¬¡äº†&lt;/span&gt;
verify(mocked, times(11)).size();

@Data
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Caller&lt;/span&gt; {
    List list;

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; run(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; count) {
        &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; (&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; idx=0; idx &amp;lt; count; idx++) {
            list.size();
        }
        &lt;span style="color: #008000"&gt;//&lt;/span&gt;
        list.isEmpty();
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;List mocked = mock(List.class);

mocked.add(1);
mocked.add(2);

verify(mocked).add(1);

&lt;span style="color: #008000"&gt;// æ˜¯å¦æœ‰å…¶ä»–äº¤äº’æ²¡æœ‰éªŒè¯è¿‡ï¼Ÿå› ä¸º mocked è¿˜è°ƒç”¨è¿‡ mocked.add(2)ï¼Œæ‰€ä»¥è¿™å¥æµ‹è¯•ä¼šå¤±è´¥&lt;/span&gt;
verifyNoMoreInteractions(mocked);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.mockito.InOrder;

&lt;span style="color: #008000"&gt;// ä¹Ÿå¯ä»¥éªŒè¯è°ƒç”¨æ¬¡åº&lt;/span&gt;
List mocked1 = mock(List.class);
List mocked2 = mock(List.class);

mocked1.size();
mocked1.isEmpty();
mocked2.isEmpty();

&lt;span style="color: #008000"&gt;// ä¼šè®°å½• mocked1ã€mocked2 ä¸­æ–¹æ³•çš„è°ƒç”¨/äº¤äº’æ¬¡åºï¼Œè¦æ±‚ï¼šä¸ mocked1 çš„äº¤äº’å…ˆäº mocked2&lt;/span&gt;
InOrder inOrder = inOrder(mocked1, mocked2);
&lt;span style="color: #008000"&gt;// mocked1ã€mocked2 çš„äº¤äº’é¡ºåºå¿…é¡»å’Œ inOrder.verify ä¹‹é—´çš„é¡ºåºä¸€è‡´&lt;/span&gt;
inOrder.verify(mocked1).size();
inOrder.verify(mocked1).isEmpty();
inOrder.verify(mocked2).isEmpty();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥éªŒè¯æŸä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶æ‰€ä½¿ç”¨çš„å‚æ•°æ˜¯å¦ç¬¦åˆé¢„æœŸï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.mockito.ArgumentCaptor;

List mockedlist = mock(List.class);

Caller caller = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Caller();
caller.setList(mockedlist);
caller.run();

&lt;span style="color: #008000"&gt;// æ•è· mockedList.add çš„è°ƒç”¨å‚æ•°&lt;/span&gt;
ArgumentCaptor&amp;lt;Integer&amp;gt; argumentCaptor = ArgumentCaptor.forClass(Integer.class);
verify(mockedlist).add(argumentCaptor.capture());
assertTrue(100 == argumentCaptor.getValue());

@Data
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Caller&lt;/span&gt; {
    List list;

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; run() {
        list.add(100);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;å‰é¢çš„å†…å®¹éƒ½æ˜¯ä»¥ mock ä¸ºä¾‹ï¼Œæˆ‘ä»¬å†æ¥è¯´è¯´ spyï¼Œä¸ mock çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;p&gt;mock å‡ºæ¥çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå®Œå…¨å‡çš„å¯¹è±¡ï¼Œä½† spy é€šå¸¸æ˜¯åŸºäºä¸€ä¸ªå…·ä½“çš„ç±»æˆ–ç±»å®ä¾‹ï¼Œå¯¹å…¶ç¯¡æ”¹æŸäº›æ–¹æ³•ï¼Œå¯¹äºè¢«ç¯¡æ”¹æ–¹æ³•ä¹‹å¤–çš„æ–¹æ³•ï¼Œå…¶è¡Œä¸ºéƒ½å’Œè°ƒç”¨çœŸå®å¯¹è±¡çš„æ–¹æ³•ä¸€æ ·ï¼Œä¸è¿‡å¹¶æ²¡æœ‰è°ƒç”¨çœŸå®å¯¹è±¡çš„æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šå¯¹çœŸå®å¯¹è±¡äº§ç”Ÿå½±å“ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;// åŸºäºä¸€ä¸ªå®é™…çš„ç±»å®ä¾‹&lt;/span&gt;
List&amp;lt;Integer&amp;gt; realList = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;(10);
List&amp;lt;Integer&amp;gt; spy = spy(realList);

spy.add(1);

&lt;span style="color: #008000"&gt;// è¢«çªƒå¬çš„å¯¹è±¡å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–&lt;/span&gt;
assertEquals(0, realList.size());
&lt;span style="color: #008000"&gt;// é—´è°å¯¹è±¡ç¡®å®å°† 1 å­˜äº†ä¸‹æ¥&lt;/span&gt;
assertEquals(1, spy.size());
&lt;span style="color: #008000"&gt;// è¿™å¥ä¼šæŠ›å‡º java.lang.IndexOutOfBoundsExceptionï¼Œå› ä¸º realList è¿˜æ˜¯ä¸ºç©º&lt;/span&gt;
assertTrue(1 == realList.get(0));
assertTrue(1 == spy.get(0));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥åŸºäºä¸€ä¸ªå…·ä½“çš„ç±»æ¥æ„é€  spyï¼Œä½†è¿™æ ·æ— æ³•ä½¿ç”¨å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œä¹Ÿæ— æ³•æŒ‡å®šç±»å‹å‚æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;List&amp;lt;Integer&amp;gt; = spy(ArrayList.class);
assertEquals(0, spy.size());
spy.add(100);
assertEquals(1, spy.size());
assertTrue(100 == spy.get(0));

&lt;span style="color: #008000"&gt;// ç¯¡æ”¹æ–¹æ³•&lt;/span&gt;
when(spy.size()).thenReturn(-1);
assertEquals(-1, spy.size());
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å®é™…ä¸Šï¼Œmock ä¹Ÿå¯ä»¥åŸºäºå…·ä½“çš„ç±»æ¥æ„é€ ï¼Œè¿™æ—¶å¯ä»¥æŒ‡å®šæŸäº›æ–¹æ³•å®é™…è°ƒç”¨å…·ä½“ç±»çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é™¤äº†ä½¿ç”¨ mockã€spy æ–¹æ³•æ¥æ„é€ æ¨¡æ‹Ÿå¯¹è±¡ï¼Œè¿˜å¯ä»¥é€šè¿‡æ³¨è§£æ¥æ„é€ ï¼Œä½†è¿™æ ·çš„è¯å¾—æŒ‡å®š JUnit çš„ Runner ä¸º &lt;code&gt;org.mockito.junit.MockitoJUnitRunner&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.junit.Test;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.junit.runner.RunWith;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.mockito.Mock;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.mockito.Spy;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; org.mockito.junit.MockitoJUnitRunner;

&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; java.util.ArrayList;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; java.util.List;

&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.mockito.Mockito.when;
&lt;span style="color: #0000ff"&gt;import static&lt;/span&gt; org.junit.Assert.assertTrue;

@RunWith(MockitoJUnitRunner.class)
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;testTester&lt;/span&gt; {

    @Mock
    &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; List&amp;lt;Integer&amp;gt; mocked;

    @Spy
    &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; ArrayList&amp;lt;Integer&amp;gt; spyed;

    @Test
    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; test() {
        when(mocked.isEmpty()).thenReturn(&lt;span style="color: #0000ff"&gt;false&lt;/span&gt;);
        when(spyed.isEmpty()).thenReturn(&lt;span style="color: #0000ff"&gt;false&lt;/span&gt;);

        assertTrue(!mocked.isEmpty());
        assertTrue(!spyed.isEmpty());

        mocked.add(0);
        spyed.add(0);

        assertTrue(0 == mocked.size());
        assertTrue(1 == spyed.size());
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Java"></category><category term="mockito"></category><category term="å•æµ‹"></category></entry><entry><title>ç¼–å†™æ¼‚äº®çš„ shell ä»£ç </title><link href="http://youngsterxyf.github.io/2018/05/16/beautiful-shell-code/" rel="alternate"></link><published>2018-05-16T00:00:00+08:00</published><updated>2018-05-16T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2018-05-16:/2018/05/16/beautiful-shell-code/</id><summary type="html">&lt;p&gt;ä½¿ç”¨ä¸‘é™‹çš„ç¼–ç¨‹è¯­è¨€ä¹Ÿèƒ½å†™å‡ºæ¼‚äº®çš„ä»£ç ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;true_then_run() {
    condition=$1
    action=$2

    (&lt;span style="color: #a31515"&gt;${&lt;/span&gt;condition&lt;span style="color: #a31515"&gt;}&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [ $? -eq 0 ]
    &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
        (&lt;span style="color: #a31515"&gt;${&lt;/span&gt;action&lt;span style="color: #a31515"&gt;}&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
        echo &lt;span style="color: #a31515"&gt;&amp;quot;&amp;#39;&lt;/span&gt;$1&lt;span style="color: #a31515"&gt;&amp;#39; is false, don&amp;#39;t run &amp;#39;&lt;/span&gt;$2&lt;span style="color: #a31515"&gt;&amp;#39;&amp;quot;&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
}

false_then_run() {
    condition=$1
    action=$2

    (&lt;span style="color: #a31515"&gt;${&lt;/span&gt;condition&lt;span style="color: #a31515"&gt;}&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [ $? -ne 0 ]
    &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
        (&lt;span style="color: #a31515"&gt;${&lt;/span&gt;action â€¦&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;ä½¿ç”¨ä¸‘é™‹çš„ç¼–ç¨‹è¯­è¨€ä¹Ÿèƒ½å†™å‡ºæ¼‚äº®çš„ä»£ç ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;true_then_run() {
    condition=$1
    action=$2

    (&lt;span style="color: #a31515"&gt;${&lt;/span&gt;condition&lt;span style="color: #a31515"&gt;}&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [ $? -eq 0 ]
    &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
        (&lt;span style="color: #a31515"&gt;${&lt;/span&gt;action&lt;span style="color: #a31515"&gt;}&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
        echo &lt;span style="color: #a31515"&gt;&amp;quot;&amp;#39;&lt;/span&gt;$1&lt;span style="color: #a31515"&gt;&amp;#39; is false, don&amp;#39;t run &amp;#39;&lt;/span&gt;$2&lt;span style="color: #a31515"&gt;&amp;#39;&amp;quot;&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
}

false_then_run() {
    condition=$1
    action=$2

    (&lt;span style="color: #a31515"&gt;${&lt;/span&gt;condition&lt;span style="color: #a31515"&gt;}&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [ $? -ne 0 ]
    &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
        (&lt;span style="color: #a31515"&gt;${&lt;/span&gt;action&lt;span style="color: #a31515"&gt;}&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
        echo &lt;span style="color: #a31515"&gt;&amp;quot;&amp;#39;&lt;/span&gt;$1&lt;span style="color: #a31515"&gt;&amp;#39; is true, don&amp;#39;t run &amp;#39;&lt;/span&gt;$2&lt;span style="color: #a31515"&gt;&amp;#39;&amp;quot;&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
}

map() {
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; item &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; $2
    &lt;span style="color: #0000ff"&gt;do&lt;/span&gt;
        ($1 &lt;span style="color: #a31515"&gt;${&lt;/span&gt;item&lt;span style="color: #a31515"&gt;}&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;done&lt;/span&gt;
}

reduce() {
    operator=$1
    &lt;span style="color: #008000"&gt;#&lt;/span&gt;
    list=($2)
    list_len=&lt;span style="color: #a31515"&gt;${#&lt;/span&gt;list[@]&lt;span style="color: #a31515"&gt;}&lt;/span&gt;
    &lt;span style="color: #008000"&gt;#&lt;/span&gt;
    result=&lt;span style="color: #a31515"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [ &lt;span style="color: #a31515"&gt;${&lt;/span&gt;list_len&lt;span style="color: #a31515"&gt;}&lt;/span&gt; -gt 0 ]
    &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
        result=&lt;span style="color: #a31515"&gt;${&lt;/span&gt;list[0]&lt;span style="color: #a31515"&gt;}&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
    &lt;span style="color: #008000"&gt;#&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [ &lt;span style="color: #a31515"&gt;${&lt;/span&gt;list_len&lt;span style="color: #a31515"&gt;}&lt;/span&gt; -gt 1 ]
    &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; item &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; &lt;span style="color: #a31515"&gt;${&lt;/span&gt;list[@]:1&lt;span style="color: #a31515"&gt;}&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;do&lt;/span&gt;
            result=&lt;span style="color: #0000ff"&gt;$(&lt;/span&gt;&lt;span style="color: #a31515"&gt;${&lt;/span&gt;operator&lt;span style="color: #a31515"&gt;}&lt;/span&gt; &lt;span style="color: #a31515"&gt;${&lt;/span&gt;result&lt;span style="color: #a31515"&gt;}&lt;/span&gt; &lt;span style="color: #a31515"&gt;${&lt;/span&gt;item&lt;span style="color: #a31515"&gt;}&lt;/span&gt;&lt;span style="color: #0000ff"&gt;)&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;done&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
    echo &lt;span style="color: #a31515"&gt;${&lt;/span&gt;result&lt;span style="color: #a31515"&gt;}&lt;/span&gt;
}

filter() {
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; item &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; $2
    &lt;span style="color: #0000ff"&gt;do&lt;/span&gt;
        ($1 &lt;span style="color: #a31515"&gt;${&lt;/span&gt;item&lt;span style="color: #a31515"&gt;}&lt;/span&gt;)
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [ $? -eq 0 ]
        &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
            echo &lt;span style="color: #a31515"&gt;${&lt;/span&gt;item&lt;span style="color: #a31515"&gt;}&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;done&lt;/span&gt;
}

sum() {
    v=0
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; arg &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;&lt;/span&gt;$@&lt;span style="color: #a31515"&gt;&amp;quot;&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;do&lt;/span&gt;
        v=&lt;span style="color: #0000ff"&gt;$((&lt;/span&gt;$v+&lt;span style="color: #a31515"&gt;${&lt;/span&gt;arg&lt;span style="color: #a31515"&gt;}&lt;/span&gt;&lt;span style="color: #0000ff"&gt;))&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;done&lt;/span&gt;
    echo $v
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Bash"></category></entry><entry><title>é…ç½® Maven è‡ªåŠ¨åŒ–æ„å»º protobuf ä»£ç ä¾èµ–</title><link href="http://youngsterxyf.github.io/2018/05/14/maven-protobuf/" rel="alternate"></link><published>2018-05-14T00:00:00+08:00</published><updated>2018-05-14T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2018-05-14:/2018/05/14/maven-protobuf/</id><summary type="html">&lt;p&gt;1.pom.xml ä¸­æ·»åŠ å¦‚ä¸‹å±æ€§é…ç½®ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;properties&amp;gt;
    &lt;span style="color: #008000"&gt;&amp;lt;!-- protobuf paths --&amp;gt;&lt;/span&gt;
    &amp;lt;protobuf.input.directory&amp;gt;${project.basedir}/src/main/protobuf&amp;lt;/protobuf.input.directory&amp;gt;
    &amp;lt;protobuf.output.directory&amp;gt;${project.build.directory}/generated-sources&amp;lt;/protobuf.output.directory&amp;gt;
    &lt;span style="color: #008000"&gt;&amp;lt;!-- library versions --&amp;gt;&lt;/span&gt;
    &amp;lt;build-helper-maven-plugin.version&amp;gt;3.0.0&amp;lt;/build-helper-maven-plugin.version&amp;gt;
    &amp;lt;maven-antrun-plugin.version&amp;gt;1.8&amp;lt;/maven-antrun-plugin â€¦&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;1.pom.xml ä¸­æ·»åŠ å¦‚ä¸‹å±æ€§é…ç½®ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;properties&amp;gt;
    &lt;span style="color: #008000"&gt;&amp;lt;!-- protobuf paths --&amp;gt;&lt;/span&gt;
    &amp;lt;protobuf.input.directory&amp;gt;${project.basedir}/src/main/protobuf&amp;lt;/protobuf.input.directory&amp;gt;
    &amp;lt;protobuf.output.directory&amp;gt;${project.build.directory}/generated-sources&amp;lt;/protobuf.output.directory&amp;gt;
    &lt;span style="color: #008000"&gt;&amp;lt;!-- library versions --&amp;gt;&lt;/span&gt;
    &amp;lt;build-helper-maven-plugin.version&amp;gt;3.0.0&amp;lt;/build-helper-maven-plugin.version&amp;gt;
    &amp;lt;maven-antrun-plugin.version&amp;gt;1.8&amp;lt;/maven-antrun-plugin.version&amp;gt;
    &amp;lt;maven-dependency-plugin.version&amp;gt;3.0.2&amp;lt;/maven-dependency-plugin.version&amp;gt;
    &amp;lt;os-maven-plugin.version&amp;gt;1.5.0.Final&amp;lt;/os-maven-plugin.version&amp;gt;
    &amp;lt;protobuf.version&amp;gt;2.5.0&amp;lt;/protobuf.version&amp;gt;
&amp;lt;/properties&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.æ·»åŠ  protobuf-java åº“ä¾èµ–&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;dependencies&amp;gt;
    &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;com.google.protobuf&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;protobuf-java&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${protobuf.version}&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;3.æ·»åŠ  maven æ‰©å±•ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;build&amp;gt;
    &amp;lt;extensions&amp;gt;
        &lt;span style="color: #008000"&gt;&amp;lt;!-- provides os.detected.classifier (i.e. linux-x86_64, osx-x86_64) property --&amp;gt;&lt;/span&gt;
        &amp;lt;extension&amp;gt;
            &amp;lt;groupId&amp;gt;kr.motd.maven&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;os-maven-plugin&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${os-maven-plugin.version}&amp;lt;/version&amp;gt;
        &amp;lt;/extension&amp;gt;
    &amp;lt;/extensions&amp;gt;
&amp;lt;/build&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;4.é…ç½®æ„å»ºæ’ä»¶ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;build&amp;gt;
    &amp;lt;plugins&amp;gt;
        &lt;span style="color: #008000"&gt;&amp;lt;!-- copy protoc binary into build directory --&amp;gt;&lt;/span&gt;
        &amp;lt;plugin&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;maven-dependency-plugin&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${maven-dependency-plugin.version}&amp;lt;/version&amp;gt;
            &amp;lt;executions&amp;gt;
                &amp;lt;execution&amp;gt;
                    &amp;lt;id&amp;gt;copy-protoc&amp;lt;/id&amp;gt;
                    &amp;lt;phase&amp;gt;generate-sources&amp;lt;/phase&amp;gt;
                    &amp;lt;goals&amp;gt;
                        &amp;lt;goal&amp;gt;copy&amp;lt;/goal&amp;gt;
                    &amp;lt;/goals&amp;gt;
                    &amp;lt;configuration&amp;gt;
                        &amp;lt;artifactItems&amp;gt;
                            &amp;lt;artifactItem&amp;gt;
                                &amp;lt;groupId&amp;gt;com.google.protobuf&amp;lt;/groupId&amp;gt;
                                &amp;lt;artifactId&amp;gt;protoc&amp;lt;/artifactId&amp;gt;
                                &amp;lt;version&amp;gt;${protobuf.version}&amp;lt;/version&amp;gt;
                                &amp;lt;classifier&amp;gt;${os.detected.classifier}&amp;lt;/classifier&amp;gt;
                                &amp;lt;type&amp;gt;exe&amp;lt;/type&amp;gt;
                                &amp;lt;overWrite&amp;gt;true&amp;lt;/overWrite&amp;gt;
                                &amp;lt;outputDirectory&amp;gt;${project.build.directory}&amp;lt;/outputDirectory&amp;gt;
                            &amp;lt;/artifactItem&amp;gt;
                        &amp;lt;/artifactItems&amp;gt;
                    &amp;lt;/configuration&amp;gt;
                &amp;lt;/execution&amp;gt;
            &amp;lt;/executions&amp;gt;
        &amp;lt;/plugin&amp;gt;
        &lt;span style="color: #008000"&gt;&amp;lt;!-- compile proto buffer files using copied protoc binary --&amp;gt;&lt;/span&gt;
        &amp;lt;plugin&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;maven-antrun-plugin&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${maven-antrun-plugin.version}&amp;lt;/version&amp;gt;
            &amp;lt;executions&amp;gt;
                &amp;lt;execution&amp;gt;
                    &amp;lt;id&amp;gt;exec-protoc&amp;lt;/id&amp;gt;
                    &amp;lt;phase&amp;gt;generate-sources&amp;lt;/phase&amp;gt;
                    &amp;lt;configuration&amp;gt;
                        &amp;lt;target&amp;gt;
                            &amp;lt;property name=&lt;span style="color: #a31515"&gt;&amp;quot;protoc.filename&amp;quot;&lt;/span&gt; value=&lt;span style="color: #a31515"&gt;&amp;quot;protoc-${protobuf.version}-${os.detected.classifier}.exe&amp;quot;&lt;/span&gt;/&amp;gt;
                            &amp;lt;property name=&lt;span style="color: #a31515"&gt;&amp;quot;protoc.filepath&amp;quot;&lt;/span&gt; value=&lt;span style="color: #a31515"&gt;&amp;quot;${project.build.directory}/${protoc.filename}&amp;quot;&lt;/span&gt;/&amp;gt;
                            &amp;lt;chmod file=&lt;span style="color: #a31515"&gt;&amp;quot;${protoc.filepath}&amp;quot;&lt;/span&gt; perm=&lt;span style="color: #a31515"&gt;&amp;quot;ugo+rx&amp;quot;&lt;/span&gt;/&amp;gt;
                            &amp;lt;mkdir dir=&lt;span style="color: #a31515"&gt;&amp;quot;${protobuf.output.directory}&amp;quot;&lt;/span&gt; /&amp;gt;
                            &amp;lt;path id=&lt;span style="color: #a31515"&gt;&amp;quot;protobuf.input.filepaths.path&amp;quot;&lt;/span&gt;&amp;gt;
                                &amp;lt;fileset dir=&lt;span style="color: #a31515"&gt;&amp;quot;${protobuf.input.directory}&amp;quot;&lt;/span&gt;&amp;gt;
                                    &amp;lt;include name=&lt;span style="color: #a31515"&gt;&amp;quot;**/*.proto&amp;quot;&lt;/span&gt;/&amp;gt;
                                &amp;lt;/fileset&amp;gt;
                            &amp;lt;/path&amp;gt;
                            &amp;lt;pathconvert pathsep=&lt;span style="color: #a31515"&gt;&amp;quot; &amp;quot;&lt;/span&gt; property=&lt;span style="color: #a31515"&gt;&amp;quot;protobuf.input.filepaths&amp;quot;&lt;/span&gt; refid=&lt;span style="color: #a31515"&gt;&amp;quot;protobuf.input.filepaths.path&amp;quot;&lt;/span&gt;/&amp;gt;
                            &amp;lt;exec executable=&lt;span style="color: #a31515"&gt;&amp;quot;${protoc.filepath}&amp;quot;&lt;/span&gt; failonerror=&lt;span style="color: #a31515"&gt;&amp;quot;true&amp;quot;&lt;/span&gt;&amp;gt;
                                &amp;lt;arg value=&lt;span style="color: #a31515"&gt;&amp;quot;-I&amp;quot;&lt;/span&gt;/&amp;gt;
                                &amp;lt;arg value=&lt;span style="color: #a31515"&gt;&amp;quot;${protobuf.input.directory}&amp;quot;&lt;/span&gt;/&amp;gt;
                                &amp;lt;arg value=&lt;span style="color: #a31515"&gt;&amp;quot;--java_out&amp;quot;&lt;/span&gt;/&amp;gt;
                                &amp;lt;arg value=&lt;span style="color: #a31515"&gt;&amp;quot;${protobuf.output.directory}&amp;quot;&lt;/span&gt;/&amp;gt;
                                &amp;lt;arg line=&lt;span style="color: #a31515"&gt;&amp;quot;${protobuf.input.filepaths}&amp;quot;&lt;/span&gt;/&amp;gt;
                            &amp;lt;/exec&amp;gt;
                        &amp;lt;/target&amp;gt;
                    &amp;lt;/configuration&amp;gt;
                    &amp;lt;goals&amp;gt;
                        &amp;lt;goal&amp;gt;run&amp;lt;/goal&amp;gt;
                    &amp;lt;/goals&amp;gt;
                &amp;lt;/execution&amp;gt;
            &amp;lt;/executions&amp;gt;
        &amp;lt;/plugin&amp;gt;
        &lt;span style="color: #008000"&gt;&amp;lt;!-- add generated proto buffer classes into the package --&amp;gt;&lt;/span&gt;
        &amp;lt;plugin&amp;gt;
            &amp;lt;groupId&amp;gt;org.codehaus.mojo&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;build-helper-maven-plugin&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;${build-helper-maven-plugin.version}&amp;lt;/version&amp;gt;
            &amp;lt;executions&amp;gt;
                &amp;lt;execution&amp;gt;
                    &amp;lt;id&amp;gt;add-classes&amp;lt;/id&amp;gt;
                    &amp;lt;phase&amp;gt;generate-sources&amp;lt;/phase&amp;gt;
                    &amp;lt;goals&amp;gt;
                        &amp;lt;goal&amp;gt;add-source&amp;lt;/goal&amp;gt;
                    &amp;lt;/goals&amp;gt;
                    &amp;lt;configuration&amp;gt;
                        &amp;lt;sources&amp;gt;
                            &amp;lt;source&amp;gt;${protobuf.output.directory}&amp;lt;/source&amp;gt;
                        &amp;lt;/sources&amp;gt;
                    &amp;lt;/configuration&amp;gt;
                &amp;lt;/execution&amp;gt;
            &amp;lt;/executions&amp;gt;
        &amp;lt;/plugin&amp;gt;
    &amp;lt;/plugins&amp;gt;
&amp;lt;/build&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å‚è€ƒèµ„æ–™&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;http://vlkan.com/blog/post/2015/11/27/maven-protobuf/&lt;/p&gt;
&lt;p&gt;http://www.chendan.me/2017/07/02/maven-protobuf/&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="java"></category><category term="maven"></category><category term="protobuf"></category></entry><entry><title>ã€ŠPython ç¼–ç¨‹ä¹‹ç¾ã€‹è¯‘è€…åº</title><link href="http://youngsterxyf.github.io/2018/04/01/the-python-guide/" rel="alternate"></link><published>2018-04-01T00:00:00+08:00</published><updated>2018-04-01T00:00:00+08:00</updated><author><name>xiayf</name></author><id>tag:youngsterxyf.github.io,2018-04-01:/2018/04/01/the-python-guide/</id><summary type="html">&lt;p&gt;ä»æ¯•ä¸šè‡³ä»Šï¼Œåœ¨äº’è”ç½‘è¡Œä¸šä»äº‹è½¯ä»¶ç ”å‘å·¥ä½œï¼Œå°†è¿‘äº”å¹´ã€‚è¿™äº”å¹´é—´ï¼Œåšè¿‡åç«¯å¼€å‘ã€å‰ç«¯å¼€å‘ã€å¤§æ•°æ®å¤„ç†ç­‰ï¼Œä½¿ç”¨è¿‡çš„ç¼–ç¨‹è¯­ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä»æ¯•ä¸šè‡³ä»Šï¼Œåœ¨äº’è”ç½‘è¡Œä¸šä»äº‹è½¯ä»¶ç ”å‘å·¥ä½œï¼Œå°†è¿‘äº”å¹´ã€‚è¿™äº”å¹´é—´ï¼Œåšè¿‡åç«¯å¼€å‘ã€å‰ç«¯å¼€å‘ã€å¤§æ•°æ®å¤„ç†ç­‰ï¼Œä½¿ç”¨è¿‡çš„ç¼–ç¨‹è¯­è¨€åŒ…æ‹¬ï¼šPythonã€PHPã€Goã€Javaã€JavaScript ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;è™½è¯´ç¼–ç¨‹è¯­è¨€å„å¼‚ï¼Œä½†æˆ‘ä½¿ç”¨å®ƒä»¬æ¥å†™å„ç§é¡¹ç›®çš„ä»£ç å´ä¸€ç›´åšæŒä¸¤ç‚¹ï¼šä»£ç å¯è¯»æ€§å’Œè‡ªè§£é‡Šæ€§/è‡ªæ–‡æ¡£æ€§ï¼ˆself-documentationï¼‰ã€‚è¿™å¾ˆå¤§ç¨‹åº¦ä¸Šåº”è¯¥æ˜¯å—åˆ° Python è¯­è¨€è®¾è®¡å“²å­¦çš„å½±å“ - è¿½æ±‚ç®€å•æ˜“è¯»æ˜“æ‡‚çš„ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šäººå¯èƒ½ä¼šè®¤ä¸ºè¿™ä¸¤ç‚¹å…¶å®æ˜¯ä¸€ç‚¹ - ä»£ç å¯è¯»æ€§ï¼Œä½†æˆ‘æƒ³åšç‚¹åŒºåˆ†ï¼šä»£ç å¯è¯»æ€§çªå‡ºå¯¹ä»£ç é˜…è¯»è€…è§†è§‰ä¸Šçš„å½±å“ï¼Œæ˜¯å¦å­˜åœ¨ä¸å¿…è¦çš„ç†è§£å¹²æ‰°ï¼Œæ¯”å¦‚ï¼šå¿…è¦çš„ç©ºè¡Œã€å˜é‡å®šä¹‰ä¸ä½¿ç”¨ä¹‹é—´çš„è·ç¦»ã€å‡½æ•°ä½“/é€»è¾‘åˆ†æ”¯æ˜¯å¦è¿‡é•¿ã€é€»è¾‘è¡¨è¾¾æ˜¯å¦ç›´è§‚ç­‰ç­‰ã€‚å¯è¯»æ€§é«˜çš„ä»£ç é€šå¸¸éƒ½éå¸¸æ¼‚äº®ã€èµå¿ƒæ‚¦ç›®ã€‚è‡ªè§£é‡Šæ€§ä»£ç åˆ™æ›´çªå‡ºè¯­ä¹‰å±‚é¢ï¼Œæ¯”å¦‚ï¼šå˜é‡åç§°/å‡½æ•°åç§°/ç±»åæ˜¯å¦æ°å½“ã€å‡½æ•°/æ–¹æ³•/API æ˜¯å¦å•ä¸€èŒè´£ã€å·¥ç¨‹ç›®å½•ç»“æ„/åŒ…/æ¨¡å—æ‹†åˆ†æ˜¯å¦ç¬¦åˆâ€œé«˜å†…èšä½è€¦åˆâ€åŸåˆ™ç­‰ç­‰ã€‚é•¿æœŸè¿½æ±‚è¿™ä¸¤ç‚¹ï¼Œå¯ä»¥æå¤§åœ°æå‡ä¸ªäººï¼Œç‰¹åˆ«æ˜¯å›¢é˜Ÿçš„å·¥ä½œæ•ˆç‡å’Œå·¥ä½œè´¨é‡ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ä¹¦ä½œè€… Kenneth Reitz äº 2011 å¹´å‘å¸ƒ Requests è¿™ä¸ª HTTP è¯·æ±‚å·¥å…·åº“ï¼Œæå‡ºâ€œfor humansâ€çš„ç†å¿µï¼Œå¼ºè°ƒè½¯ä»¶/å·¥å…·åº“åº”è¯¥å¯¹äººç±»å‹å¥½æ˜“ç”¨ï¼Œè¿™ä¸€ç†å¿µæœ¬è´¨ä¸Šæ˜¯å¯¹ Python å“²å­¦ï¼ˆç‰¹åˆ«æ˜¯ä¸Šè¿°ä¸¤ç‚¹ï¼‰çš„ä¸€ç§å¼•ç”³å’Œå‘æ‰¬ã€‚ä¹‹å Reitz åœ¨ä¸€äº› Pythonå¤§ä¼šä¸ŠåšæŠ€æœ¯åˆ†äº«ï¼Œå®£æ‰¬â€œfor humansâ€ç†å¿µï¼Œå¯¹ Python ç¤¾åŒºäº§ç”Ÿå·¨å¤§å½±å“ã€‚æˆ‘åœ¨ç¬¬ä¸€æ¬¡ç”¨è¿‡ Requests åº“ä¹‹åï¼Œä¾¿å¾ˆå°‘ä½¿ç”¨ Python æ ‡å‡†åº“ä¸­çš„ urllib å’Œ urllib2ï¼Œç°åœ¨æ ‡å‡†åº“æ–‡æ¡£ä¸­ä¹Ÿç‰¹åˆ«å»ºè®®å¼€å‘è€…ä½¿ç”¨ Requestsã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºå¯¹â€œfor humansâ€ç†å¿µçš„è®¤åŒï¼Œä¹Ÿå› ä¸ºç»å¸¸ä½¿ç”¨ Requestsï¼Œæ‰€ä»¥å½“ Reitz åœ¨ Github ä¸Šé‚€è¯·æˆ‘ç¿»è¯‘ Requests æ–‡æ¡£ä¸­æ–‡ç‰ˆæ—¶ï¼Œæˆ‘æ¬£ç„¶æ¥å—ï¼Œå’Œå¦ä¸€ä¸ª Python å¼€å‘è€…å…±åŒç¿»è¯‘äº† Requests æ–‡æ¡£çš„é¦–ä¸ªå®˜æ–¹ä¸­æ–‡ç¿»è¯‘ç‰ˆã€‚è¿™â€œå¦ä¸€ä¸ª Python å¼€å‘è€…â€ä¹Ÿå°±æ˜¯æœ¬ä¹¦çš„å¦ä¸€ä¸ªè¯‘è€…ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Reitz å‘èµ· â€œThe Hitchhiker's Guide to Python!â€ é¡¹ç›®ï¼ˆä¹Ÿå°±æ˜¯æœ¬ä¹¦çš„ç¤¾åŒºå¼€æºç‰ˆï¼‰åï¼Œæˆ‘ä¸€ç›´æŒç»­è·Ÿè¿›é˜…è¯»ï¼Œæ”¶è·å·¨å¤§ã€‚åæ¥å¾—çŸ¥è¿™æœ¬å¼€æºä¹¦ç±æ­£å¼å‡ºç‰ˆï¼Œæ¬£å–œè‹¥ç‹‚ï¼Œè¾—è½¬å’¨è¯¢å¤šäººï¼Œè”ç³»åˆ°åˆ˜çšè€å¸ˆ ï¼Œç”³è¯·äº†æœ¬ä¹¦çš„ç¿»è¯‘å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œåæ¥å‘ç°ç¿»è¯‘çš„å·¥ä½œé‡è¿œè¿œè¶…å‡ºé¢„ä¼°ï¼Œé™¤äº†ä¸ªäººçš„ä¸€äº›ä¸»è§‚åŸå› ï¼Œä¸»è¦å› ä¸ºæœ¬ä¹¦å†…å®¹çš„å¹¿åº¦å’Œæ·±åº¦ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¹¿åº¦ï¼šæœ¬ä¹¦ç”± Python ç¤¾åŒºæ•°ç™¾äººå…±åŒåˆ›ä½œè€Œæˆï¼Œå¯ä»¥è§†ä½œ Python å°ç™¾ç§‘å…¨ä¹¦ã€‚1-3ç« æŒ‡å¯¼è¯»è€…æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚é€‰æ‹©å®‰è£…é…ç½® Python ç‰ˆæœ¬/å‘è¡Œç‰ˆã€å¼€å‘ç¯å¢ƒç­‰ã€‚7-11ç« åˆ™é’ˆå¯¹ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œä»å¤šä¸ªç»´åº¦ç”„é€‰å¯¹æ¯”äº†å¤§é‡çš„ Python åº“ï¼Œè¯»è€…å¯ä»¥â€œæŒ‰å›¾ç´¢éª¥â€åœ°åšå‡ºè‡ªå·±çš„é€‰æ‹©ï¼Œä»è€ŒèŠ‚çº¦å¤§é‡çš„æ—¶é—´ç²¾åŠ›ã€‚å› ä¸ºè¯‘è€…çš„ Python å¼€å‘ç»éªŒä¸»è¦é›†ä¸­åœ¨ Web å¼€å‘å’Œæ•°æ®å¤„ç†ï¼Œå¯¹äºå¾ˆå¤šåº”ç”¨åœºæ™¯ä¸‹çš„ Python åº“ä¸å¤ªç†Ÿæ‚‰ï¼Œæ‰€ä»¥ç¿»è¯‘ä¹‹å‰èŠ±è´¹äº†å¤§é‡æ—¶é—´æ¥å­¦ä¹ ç†è§£ã€‚&lt;/li&gt;
&lt;li&gt;æ·±åº¦ï¼šé’ˆå¯¹ Python ä¸­æ‰‹çš„æ ¸å¿ƒéœ€æ±‚ï¼Œæœ¬ä¹¦æ¢è®¨äº†å¤§é‡çš„æœ€ä½³å®è·µã€‚å…¶ä¸­4-5ç« é€šè¿‡å¤§é‡ç¤ºä¾‹å…·ä½“åœ°é˜é‡Šäº†â€œPython ä¹‹ç¦…â€çš„å¥å¥ç®´è¨€ï¼Œå¦‚ä½•ç¼–å†™é«˜è´¨é‡çš„ Python ä»£ç ï¼Œå¹¶ç²¾é€‰è‹¥å¹²é«˜è´¨é‡çš„çŸ¥å Python å¼€æºé¡¹ç›®ï¼Œè¯¦ç»†ä»‹ç»å¦‚ä½•é€šè¿‡é˜…è¯»æºç æ¥æå‡ç¼–ç¨‹æŠ€æœ¯æ°´å¹³ã€‚è™½è¯´ Python ç¤¾åŒºå‡ ä¹äººäººçš†çŸ¥â€œPython ä¹‹ç¦…â€ï¼Œä½†å¦‚ä½•è½åœ°åˆ°å¼€å‘å®è·µä¼°è®¡æå°‘æœ‰äººè¯´å¾—æ¸…æ¥šã€‚å¯¹ç…§ä¹¦ä¸­çš„å®ä¾‹é˜é‡Šï¼Œè¯‘è€…å‡ ç»è°ƒæ•´æ¨æ•²â€œPython ä¹‹ç¦…â€çš„è¯‘æ–‡ï¼Œæœ€ç»ˆæ•²å®šçš„è¯‘æ–‡ä¹Ÿä¸æ˜¯ç‰¹åˆ«ä»¤è‡ªå·±æ»¡æ„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç›¸æ¯”åŸè®¡åˆ’ï¼Œæœ¬ä¹¦æœ€ç»ˆå»¶æœŸè¿‘ä¸€å¹´æ‰å¾—ä»¥ç¿»è¯‘å®Œæˆã€‚é™¤äº†æ­‰æ„ï¼Œæˆ‘å†…å¿ƒæ»¡æ˜¯æ„Ÿè°¢ï¼šæ„Ÿè°¢é‚¦æ°ä¸­é€”å‹æƒ…åŠ å…¥ï¼Œå¸®å¿™ç¿»è¯‘äº†4-6ç« åˆç¨¿ï¼Œè¿™ä¸‰ç« çš„éš¾åº¦å’Œé•¿åº¦éƒ½éå¸¸å¤§ï¼›æ„Ÿè°¢ç¼–è¾‘è€å¸ˆåˆ˜çšå¯¹æˆ‘æ‹–ç¨¿çš„æ¬¡æ¬¡å®¹å¿å’Œè€å¿ƒç­‰å¾…ï¼›æ„Ÿè°¢å¦»å„¿çš„ç†è§£ï¼Œæˆ‘å¯¹ä½ ä»¬ç¼ºå°‘äº†å¤ªå¤šçš„é™ªä¼´ã€‚&lt;/p&gt;
&lt;p&gt;è™½è¯´æˆ‘å·²å°½è‡ªå·±æ‰€èƒ½åœ°ä¿è¯è¯‘æ–‡è´¨é‡ï¼Œä½†é”™è¯¯ç‘•ç–µéš¾å…ï¼Œåœ¨æ­¤ä¹Ÿè¯·è¯»è€…åŸè°…ã€‚å¸Œæœ›ä½ ä»¬é˜…è¯»æ„‰å¿«ï¼&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæˆ‘å¦‚é‡Šé‡è´Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å¤æ°¸é”‹&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å†™äºä¸Šæµ·&lt;/em&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="ä¹¦ç±"></category></entry><entry><title>ã€Šç²¾é€šPythonè®¾è®¡æ¨¡å¼ã€‹è¯‘è€…åº</title><link href="http://youngsterxyf.github.io/2016/07/01/mpdp/" rel="alternate"></link><published>2016-07-01T00:00:00+08:00</published><updated>2016-07-01T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2016-07-01:/2016/07/01/mpdp/</id><summary type="html">&lt;p&gt;åœ¨æˆ‘è¯»å¤§å­¦é‚£å‡ å¹´ï¼Œè®¾è®¡æ¨¡å¼å¯è°“ç«æä¸€æ—¶ï¼Œå„å¤§å…¬å¸æ ¡æ‹›é¢è¯•ä¹Ÿå‡ ä¹éƒ½ä¼šè€ƒè®¾è®¡æ¨¡å¼ï¼Œåè§‚ç°åœ¨ï¼Œåˆ™ä¼¼ä¹å¾ˆå°‘æœ‰äººèŠè®¾è®¡ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åœ¨æˆ‘è¯»å¤§å­¦é‚£å‡ å¹´ï¼Œè®¾è®¡æ¨¡å¼å¯è°“ç«æä¸€æ—¶ï¼Œå„å¤§å…¬å¸æ ¡æ‹›é¢è¯•ä¹Ÿå‡ ä¹éƒ½ä¼šè€ƒè®¾è®¡æ¨¡å¼ï¼Œåè§‚ç°åœ¨ï¼Œåˆ™ä¼¼ä¹å¾ˆå°‘æœ‰äººèŠè®¾è®¡æ¨¡å¼çš„è¯é¢˜ã€‚æ˜¯å› ä¸ºè®¾è®¡æ¨¡å¼è¿‡æ—¶äº†å—ï¼Ÿè¿˜æ˜¯åªæ˜¯ä¸€ä¸ªé”™è¯¯çš„æ¦‚å¿µï¼Ÿä»ä¸ªäººè¿™å‡ å¹´çš„å¼€å‘ç»éªŒæ¥çœ‹ï¼Œç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œè®¾è®¡æ¨¡å¼å¹¶æœªè¿‡æ—¶ï¼Œæ›´ä¸æ˜¯ä¸€ä¸ªé”™è¯¯çš„æ¦‚å¿µã€‚ä»æ›¾ç»çš„â€œçº¢æä¸€æ—¶â€åˆ°å¦‚ä»Šçš„â€œé—¨å¯ç½—é›€â€ï¼Œåªæ˜¯è¯´æ˜è½¯ä»¶å¼€å‘è¡Œä¸šä»¥æ›´åŠ å®¢è§‚ç†æ€§çš„æ€åº¦æ¥çœ‹å¾…è®¾è®¡æ¨¡å¼ã€‚è½¯ä»¶å¼€å‘é¢†åŸŸçš„æŠ€æœ¯æ¦‚å¿µä¹Ÿä¼¼ä¹æ€»æ˜¯éµå¾ªè¿™æ ·çš„æµè¡Œåº¦å˜è¿ï¼Œæœ€ç»ˆä¸€æ¬¡åˆä¸€æ¬¡åœ°è¯æ˜ä¸å­˜åœ¨â€œé“¶å¼¹â€ã€‚&lt;/p&gt;
&lt;p&gt;æ­£ç¡®çœ‹å¾…è®¾è®¡æ¨¡å¼çš„å‰ææ˜¯æ˜ç™½ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ã€‚æ­£å¦‚æœ¬ä¹¦ä¸€å¼€å§‹å°±å¼ºè°ƒçš„ï¼šâ€œè®¾è®¡æ¨¡å¼çš„æœ¬è´¨æ˜¯åœ¨å·²æœ‰çš„æ–¹æ¡ˆä¹‹ä¸Šå‘ç°æ›´å¥½çš„æ–¹æ¡ˆï¼ˆè€Œä¸æ˜¯å…¨æ–°å‘æ˜ï¼‰â€ï¼Œè¿™æ˜¯ä¸€ç§åŠ¡å®çš„æ€åº¦ï¼Œè®¾è®¡æ¨¡å¼å¹¶éæ˜¯ä¸€ç§é«˜å¤§ä¸Šæˆ–è€…ç¥ç§˜çš„ä¸œè¥¿ï¼Œè€Œæ˜¯ä¸€äº›å¸¸è§çš„è½¯ä»¶å·¥ç¨‹è®¾è®¡é—®é¢˜çš„æœ€ä½³å®è·µæ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆåº”è¯¥å¦‚ä½•å­¦ä¹ è®¾è®¡æ¨¡å¼ï¼Ÿä¸ªäººè®¤ä¸ºè½¯ä»¶å¼€å‘æŠ€æœ¯çš„å­¦ä¹ éƒ½åº”è¯¥ä»¥å®è·µä¸ºå‰æï¼Œåªæœ‰ç†è§£å®è·µè¿‡ç¨‹ä¸­é‡åˆ°çš„ç§ç§é—®é¢˜ï¼Œæ‰èƒ½æ˜ç™½é‚£äº›æŠ€æœ¯çš„æœ¬è´¨å’Œç›®çš„æ˜¯ä»€ä¹ˆï¼Œæ¯ç§æ–°æŠ€æœ¯éƒ½æ˜¯å› æŸä¸ª/æŸäº›é—®é¢˜è€Œå‡ºç°çš„ï¼Œè½¯ä»¶å¼€å‘é«˜æ‰‹ä¸€èˆ¬éƒ½åå¯¹æ–°æ‰‹ä¸€å¼€å§‹å°±ä¸€è‚¡è„‘åœ°å­¦ä¹ è®¾è®¡æ¨¡å¼ã€‚æœ‰äº›æ–°æ‰‹å­¦äº†ç‚¹è®¾è®¡æ¨¡å¼çš„ç†è®ºåï¼Œç”šè‡³åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ç”Ÿæ¬ç¡¬å¥—ï¼Œç»“æœæ˜¯é€‚å¾—å…¶åã€‚å› æ­¤ï¼Œè½¯ä»¶å¼€å‘äººå‘˜åº”è¯¥åœ¨ç§¯ç´¯äº†ä¸€å®šçš„å¼€å‘ç»éªŒï¼Œå†ç³»ç»Ÿåœ°å­¦ä¹ è®¾è®¡æ¨¡å¼ï¼Œæ•ˆæœå¾€å¾€ä¹Ÿèƒ½äº‹åŠåŠŸå€ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æœ‰äº›ç§¯ç´¯ä¸€å®šå¼€å‘ç»éªŒçš„è½¯ä»¶å¼€å‘äººå‘˜ï¼Œåœ¨è°ˆèµ·è®¾è®¡æ¨¡å¼æ—¶ï¼Œä¸€è„¸é„™å¤·ã€‚æˆ‘æƒ³è¿™ä¹Ÿä¸æ˜¯ä¸€ç§å®¢è§‚åŠ¡å®çš„æ€åº¦ã€‚è½¯ä»¶å¼€å‘ä¸æ˜¯ç®€å•çš„ç´¯ç§¯ä»£ç ï¼Œåœ¨å®ç°ä¸šåŠ¡åŠŸèƒ½çš„åŒæ—¶åº”è¯¥ä»”ç»†è€ƒè™‘å¦‚ä½•æ§åˆ¶è½¯ä»¶çš„å¤æ‚åº¦ã€‚è½¯ä»¶çš„å¤æ‚åº¦åˆ†ä¸ºä¸¤ä¸ªå±‚é¢ï¼šä¸šåŠ¡é€»è¾‘å¤æ‚åº¦å’Œä»£ç å®ç°å¤æ‚åº¦ã€‚å¯¹åŒä¸€ä¸ªä¸šåŠ¡ç³»ç»Ÿï¼Œä¸åŒçš„è½¯ä»¶å¼€å‘äººå‘˜ä¼šæœ‰ä¸åŒçš„å®ç°ï¼Œå¤æ‚åº¦ä¹Ÿä¸åŒï¼Œç›¸åº”åœ°å®ç°çš„æ˜“ç†è§£æ€§ã€å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§ä¹Ÿä¸åŒã€‚è½¯ä»¶å¼€å‘äººå‘˜åº”è¯¥ä¸æ–­å­¦ä¹ å¦‚ä½•æ§åˆ¶è½¯ä»¶çš„å¤æ‚åº¦ï¼Œå­¦ä¹ å¹¶æ°å½“åœ°ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯åº”å¯¹è½¯ä»¶å¤æ‚åº¦çš„æœ‰æ•ˆæ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œè®¾è®¡æ¨¡å¼å¹¶éæ˜¯å›ºå®šä¸å˜çš„ï¼ˆå¦‚ï¼Œã€Šè®¾è®¡æ¨¡å¼-å¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹ä¸€ä¹¦æ€»ç»“çš„23ç§æ¨¡å¼ï¼‰ï¼Œä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€æ¥ç¼–å†™ä»£ç ï¼Œéœ€è¦å­¦ä¹ çš„è®¾è®¡æ¨¡å¼ä¹Ÿä¸ä¸€æ ·ã€‚ä¸€æ–¹é¢å› ä¸ºè½¯ä»¶å¼€å‘é¢†åŸŸè¿…çŒ›å‘å±•ï¼Œä¸€äº›æ–°çš„è½¯ä»¶å·¥ç¨‹é—®é¢˜ä¹Ÿéšä¹‹å‡ºç°ï¼Œå¦ä¸€æ–¹é¢åˆ™æ˜¯æ–°çš„è¯­è¨€æ–°çš„å¹³å°ä¼šæŠŠä¸€äº›å¸¸è§è®¾è®¡æ¨¡å¼å¸æ”¶ä¸ºå†…ç½®ç‰¹æ€§ã€‚æ‰€ä»¥ï¼Œè½¯ä»¶å¼€å‘äººå‘˜å› ä»¥å®é™…é—®é¢˜ä¸ºé©±åŠ¨ï¼Œä¸æ–­æ›´æ–°è®¾è®¡æ¨¡å¼æ–¹é¢çš„çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ä¹¦ä»¥Pythonç¼–ç¨‹è¯­è¨€ä¸ºä¾‹ï¼Œé’ˆå¯¹ç›®å‰çš„è½¯ä»¶å¼€å‘é¢†åŸŸï¼Œåˆ†ä¸‰å¤§ç±»è®²è§£äº†16ç§å¸¸ç”¨è®¾è®¡æ¨¡å¼ã€‚ä½¿ç”¨Pythonè¯­è¨€ç¼–å†™ç¤ºä¾‹ä»£ç ï¼Œæˆ‘è®¤ä¸ºä½œè€…ä¸»è¦æ˜¯è€ƒè™‘åˆ°Pythonçš„æŠ½è±¡å±‚æ¬¡é«˜ã€åº”ç”¨èŒƒå›´å¹¿ï¼Œè¯»è€…ä¸ä¼šè¢«ä¸€äº›å®ç°ç»†èŠ‚çš„å¹²æ‰°ï¼Œä»è€Œèƒ½å¿«é€Ÿç›´æ¥åœ°æŒæ¡æ¨¡å¼çš„è¦é¢†ã€‚&lt;/p&gt;
&lt;p&gt;å…¨ä¹¦å§‹ç»ˆä¿æŒåŠ¡å®çš„æ€åº¦ï¼Œåˆ—ä¸¾äº†å¤§é‡ç°å®ç”Ÿæ´»çš„ä¾‹å­å’Œè½¯ä»¶å¼€å‘çš„ä¾‹å­ï¼Œå¹¶ä¸ºæ¯ä¸ªæ¨¡å¼æä¾›å®Œæ•´å¯è¿è¡Œçš„ç¤ºä¾‹ä»£ç ã€‚è™½ç„¶çœ‹èµ·æ¥åœ¨ä¹¦ä¸­å®Œæ•´åœ°ç»™å‡ºæ‰€æœ‰ç¤ºä¾‹ä»£ç ï¼Œä¼¼ä¹æ²¡ä»€ä¹ˆå¿…è¦ï¼Œä½†ä¸ªäººè®¤ä¸ºä½œè€…çš„ç”¨æ„æ˜¯å¸Œæœ›è¯»è€…èƒ½åŠ¨æ‰‹ç…§ç¤ºä¾‹ä»£ç å†™ä¸€éå¹¶è¿è¡Œèµ·æ¥çœ‹ç»“æœï¼Œå®è·µä¸ºç‹ï¼ŒåŠ å¼ºå­¦ä¹ çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶æ˜¯ç¤ºä¾‹ï¼Œä½œè€…è¿˜æ˜¯åšæŒä»¥åœ°é“çš„Pythoné£æ ¼ç¼–å†™ä»£ç ï¼Œä»¥æ­¤è¯´æ˜ä¸åŒè¯­è¨€ä¸åŒå¹³å°è¦æ±‚è½¯ä»¶å¼€å‘äººå‘˜å­¦ä¹ çš„è®¾è®¡æ¨¡å¼ä¹Ÿæœ‰æ‰€ä¸åŒã€‚å¦å¤–ï¼Œå¼€å‘äººå‘˜ä¹Ÿèƒ½ä»ç¤ºä¾‹ä»£ç ä¸­å­¦ä¹ åˆ°ä¸€äº›Pythonè¯­è¨€çš„é«˜çº§ç‰¹æ€§ï¼Œæ‰€ä»¥æŠŠæœ¬ä¹¦å½“åšPythonå¼€å‘è¿›é˜¶ä¹¦ç±ä¹Ÿæ— ä¸å¯ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ä¹¦æ˜¯ä¸ªäººæ­£å¼ç¿»è¯‘çš„ç¬¬ä¸€æœ¬ä¹¦ã€‚è™½ç„¶ä»¥å‰ç¿»è¯‘è¿‡å¾ˆå¤šæ–‡ç« ï¼Œæœ‰äº›è¯‘æ–‡è¿˜æœ‰ç‚¹å½±å“ï¼Œä½†æ¯•ç«Ÿä¸æ­£å¼å‡ºç‰ˆçš„æœ‰äº›ä¸åŒï¼Œæ‰€ä»¥æ¥æ‰‹æœ¬ä¹¦çš„ç¿»è¯‘å·¥ä½œï¼Œæˆ‘å†…å¿ƒæ˜¯æœ‰äº›å¿å¿‘çš„ã€‚æˆ‘æŠŠç¿»è¯‘è¿‡ç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µè¿›è¡Œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤§è‡´åœ°é¢„è¯»ä¸€éå…¨ä¹¦ï¼Œæ•´ä½“ä¸ŠæŠŠæ¡åŸä¹¦å†…å®¹&lt;/li&gt;
&lt;li&gt;å°†åŸä¹¦ç¿»è¯‘æˆåˆç¨¿ï¼Œæ­¤é˜¶æ®µåŸºæœ¬ä¿è¯è¯‘æ–‡çš„æ­£ç¡®æ€§&lt;/li&gt;
&lt;li&gt;é€šè¯»å®¡æ ¡åˆç¨¿ï¼Œæ­¤é˜¶æ®µç¡®ä¿è¯‘æ–‡çš„æµç•…æ€§ï¼Œä»¥åŠç”¨è¯å’Œé€»è¾‘çš„ä¸€è‡´æ€§&lt;/li&gt;
&lt;li&gt;å¯¹ç€è¯‘ç¨¿ï¼Œç¿»è¯‘ç›¸å…³å›¾è¡¨ä¸­çš„å•è¯ï¼›æ•´ç†ç¤ºä¾‹ä»£ç ï¼Œå¹¶ç¡®ä¿è¿è¡Œæ— è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¸Œæœ›é€šè¿‡è¿™ç§æ–¹å¼åŸºæœ¬ä¿è¯è¯‘ç¨¿çš„è´¨é‡ã€‚ä½†å› ä¸ºä¸ªäººç²¾åŠ›æœ‰é™èƒ½åŠ›ä¸è¶³ï¼Œè¯‘ç¨¿ä¸­å¯èƒ½è¿˜æ˜¯æœ‰äº›ç–æ¼ç”šè‡³é”™è¯¯ä¹‹å¤„ï¼Œæ•¬è¯·åŸè°…ï¼Œä¹Ÿè¯·å°†é—®é¢˜åé¦ˆç»™å‡ºç‰ˆç¤¾ï¼Œä»¥ä¾¿åœ¨ä¸‹ä¸€ç‰ˆæœ¬ä¸­æ›´æ­£ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œæœ¬ä¹¦çš„ç¤ºä¾‹ä»£ç å·²ç»å­˜åˆ°Githubçš„ä¸€ä¸ªä»£ç åº“ï¼ˆè§&lt;a href="https://github.com/youngsterxyf/mpdp-code"&gt;https://github.com/youngsterxyf/mpdp-code&lt;/a&gt;ï¼‰ä¸­ï¼Œå¦‚æœ‰éœ€è¦ï¼Œå¯ä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ªäººç§äº‹ï¼Œæœ¬ä¹¦æ¨å»¶äº†ä¸€æ®µæ—¶é—´æ‰å¾—ä»¥ç¿»è¯‘å®Œæˆï¼Œæ„Ÿè°¢å›¾çµæœ±å·è€å¸ˆçš„ä½“è°…ã€‚è¯‘ä¹¦æ˜¯ä»¶è´¹æ—¶è´¹åŠ›çš„äº‹æƒ…ï¼Œæ„Ÿè°¢å¦»å­éƒ‘è£çš„ä½“è°…å’Œæ”¯æŒï¼Œä¹Ÿæ„Ÿè°¢å…¬å¸é¢†å¯¼è´¾ç£Šå’ŒåŒäº‹çš„æ”¯æŒï¼Œè°¢è°¢ï¼&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å¤æ°¸é”‹&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;äºä¸Šæµ·ç™¾åº¦ç ”å‘ä¸­å¿ƒ&lt;/em&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="ä¹¦ç±"></category></entry><entry><title>åº”ç”¨MySQL InnoDBå…¨æ–‡ç´¢å¼•</title><link href="http://youngsterxyf.github.io/2016/06/11/mysql-fulltext-application/" rel="alternate"></link><published>2016-06-11T00:00:00+08:00</published><updated>2016-06-11T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2016-06-11:/2016/06/11/mysql-fulltext-application/</id><summary type="html">&lt;h2&gt;é—®é¢˜&lt;/h2&gt;
&lt;p&gt;ä¹‹å‰æ¶‰åŠçš„ä¸€é¡¹å·¥ä½œè¦æ±‚å¯¹æŸäº›æ•°æ®åšå…¨æ–‡ç´¢å¼•ï¼Œå¹¶ä»¥APIå‘å…¶ä»–å†…éƒ¨ç³»ç»Ÿæä¾›æœç´¢æŸ¥è¯¢æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºéœ€è¦å»ºå…¨æ–‡ç´¢å¼•çš„æ•°æ®é‡å¹¶ä¸å¤§ï¼Œä¸”å·²æœ‰çš„æ•°æ®éƒ½ä»¥ â€¦&lt;/p&gt;</summary><content type="html">&lt;h2&gt;é—®é¢˜&lt;/h2&gt;
&lt;p&gt;ä¹‹å‰æ¶‰åŠçš„ä¸€é¡¹å·¥ä½œè¦æ±‚å¯¹æŸäº›æ•°æ®åšå…¨æ–‡ç´¢å¼•ï¼Œå¹¶ä»¥APIå‘å…¶ä»–å†…éƒ¨ç³»ç»Ÿæä¾›æœç´¢æŸ¥è¯¢æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºéœ€è¦å»ºå…¨æ–‡ç´¢å¼•çš„æ•°æ®é‡å¹¶ä¸å¤§ï¼Œä¸”å·²æœ‰çš„æ•°æ®éƒ½ä»¥InnoDBå¼•æ“å­˜å‚¨ï¼Œç®€å•èµ·è§ï¼Œæˆ‘ä»¬é€‰æ‹©MySQL InnoDBå¼•æ“çš„å…¨æ–‡ç´¢å¼•ç‰¹æ€§æ¥å®ç°ã€‚MySQLä»ç‰ˆæœ¬5.6å¼€å§‹æ”¯æŒInnoDBå¼•æ“çš„å…¨æ–‡ç´¢å¼•ï¼Œä¸è¿‡â€œä»5.7.6ç‰ˆæœ¬å¼€å§‹æ‰æä¾›ä¸€ç§å†…å»ºçš„å…¨æ–‡ç´¢å¼•ngram parserï¼Œæ”¯æŒCJKå­—ç¬¦é›†ï¼ˆä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ï¼ŒCJKæœ‰ä¸ªå…±åŒç‚¹å°±æ˜¯å•è¯ä¸åƒè‹±è¯­ä¹ æƒ¯é‚£æ ·æ ¹æ®ç©ºæ ¼è¿›è¡Œåˆ†è§£çš„ï¼Œå› æ­¤ä¼ ç»Ÿçš„å†…å»ºåˆ†è¯æ–¹å¼æ— æ³•å‡†ç¡®çš„å¯¹ç±»ä¼¼ä¸­æ–‡è¿›è¡Œåˆ†è¯ï¼‰â€ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„MySQLç‰ˆæœ¬ä¸º5.6.28ï¼Œå¹¶ä¸”éœ€è¦å»ºå…¨æ–‡ç´¢å¼•çš„æ•°æ®éƒ¨åˆ†æ˜¯ä¸­æ–‡ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;h2&gt;æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæŠŠè¿™é¡¹å·¥ä½œæŒ‰â€œåˆ†æ²»â€çš„æ€æƒ³æ‹†åˆ†æˆå‡ ä¸ªå°é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”±äºç‰ˆæœ¬5.6.28çš„MySQLä¸æ”¯æŒä¸­æ–‡çš„å…¨æ–‡ç´¢å¼•ï¼Œé‚£ä¹ˆå¯ä»¥å¯¹éœ€è¦å»ºå…¨æ–‡ç´¢å¼•çš„æ•°æ®è¿›è¡Œé¢„å¤„ç† - åˆ†è¯ï¼Œå¹¶ä»¥ç©ºæ ¼ä¸ºé—´éš”å°†åˆ†è¯ç»“æœæ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚&lt;/li&gt;
&lt;li&gt;ä½†ç»è¿‡ç¬¬1æ­¥ä»æ˜¯ä¸å¤Ÿçš„ - MySQLçš„ç³»ç»Ÿå˜é‡&lt;code&gt;ft_min_word_len&lt;/code&gt;ã€&lt;code&gt;ft_max_word_len&lt;/code&gt;åˆ†åˆ«è§„å®šäº†å…¨æ–‡æ£€ç´¢è¢«ç¼–å…¥ç´¢å¼•å•è¯çš„æœ€å°é•¿åº¦å’Œæœ€å¤§é•¿åº¦ï¼Œé»˜è®¤çš„æœ€å°å€¼ä¸º4ä¸ªå­—ç¬¦ï¼Œé»˜è®¤çš„æœ€å¤§å€¼å–å†³äºä½¿ç”¨çš„MySQLç‰ˆæœ¬ã€‚ä¸ºäº†ä¸æ”¹å˜è¿™ä¸ªé»˜è®¤å€¼åŒæ—¶ä¹Ÿæ˜¯å…¼è€ƒè™‘è¿™ä¸ªå€¼å¯¹äºè‹±æ–‡çš„æ„ä¹‰ï¼Œåˆ™éœ€è¦é€šè¿‡ç¼–ç ï¼ˆ&lt;code&gt;urlencode&lt;/code&gt;ã€&lt;code&gt;base64&lt;/code&gt;ã€&lt;code&gt;æ±‰å­—è½¬æ‹¼éŸ³&lt;/code&gt;ç­‰ï¼‰å°†ä¸­æ–‡è¯å˜é•¿ã€‚å°†ç»è¿‡ç¼–ç åçš„åˆ†è¯ç»“æœå­˜å…¥å»ºå…¨æ–‡ç´¢å¼•çš„æ•°æ®è¡¨å­—æ®µã€‚&lt;/li&gt;
&lt;li&gt;APIè°ƒç”¨æ—¶ï¼Œä¹Ÿå¯¹æœç´¢å…³é”®è¯åš1ã€2æ­¥å¤„ç†ï¼Œç„¶åä½¿ç”¨SQLçš„å…¨æ–‡ç´¢å¼•åŒ¹é…è¯­æ³•è¿›è¡ŒæŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹äºç¬¬1æ­¥ï¼Œæˆ‘ä»¬é€‰æ‹©å…¬å¸å†…éƒ¨çš„åˆ†è¯æœåŠ¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©ä¸€äº›å¼€æºçš„åˆ†è¯æ–¹æ¡ˆï¼Œå¦‚ï¼šç»“å·´ä¸­æ–‡åˆ†è¯ã€SCWSåˆ†è¯ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç¬¬2æ­¥ï¼Œæˆ‘ä»¬é€‰æ‹©urlencodeç¼–ç ï¼Œå¹¶è¿‡æ»¤æ‰ç¼–ç åçš„&lt;code&gt;%&lt;/code&gt;ï¼Œå› ä¸ºå®ƒä¹Ÿæ˜¯åˆ†ç•Œç¬¦ã€‚&lt;/p&gt;
&lt;h2&gt;ä¸¾ä¸ªæ —å­&lt;/h2&gt;
&lt;p&gt;å‡è®¾å·²æœ‰ä¸€ä¸ªæ•°æ®è¡¨&lt;code&gt;apps&lt;/code&gt;ï¼Œå…¶æœ‰ä¸ªå­—æ®µ&lt;code&gt;name&lt;/code&gt;ï¼Œéœ€è¦å¯¹è¿™ä¸ªå­—æ®µåšåŸºäºå…¨æ–‡ç´¢å¼•çš„æŸ¥è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä¸å˜æ›´å·²æœ‰æ•°æ®ï¼Œæˆ‘ä»¬å¯¹è¯¥æ•°æ®è¡¨æ–°å¢ä¸€ä¸ªå­—æ®µ&lt;code&gt;seg_name&lt;/code&gt;ï¼Œä½¿ç”¨è„šæœ¬æ‰¹é‡åœ°å¯¹&lt;code&gt;name&lt;/code&gt;å­—æ®µè¿›è¡Œåˆ†è¯ç¼–ç ï¼Œå°†ç»“æœå­˜å…¥è¯¥å­—æ®µã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;ALTER&lt;/span&gt; &lt;span style="color: #0000ff"&gt;TABLE&lt;/span&gt; `apps` &lt;span style="color: #0000ff"&gt;ADD&lt;/span&gt; &lt;span style="color: #0000ff"&gt;COLUMN&lt;/span&gt; `seg_name` VARCHAR(1024) &lt;span style="color: #0000ff"&gt;DEFAULT&lt;/span&gt; &lt;span style="color: #0000ff"&gt;NULL&lt;/span&gt; &lt;span style="color: #0000ff"&gt;COMMENT&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;nameå­—æ®µåˆ†è¯ç¼–ç åçš„ç»“æœ&amp;#39;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;ALTER&lt;/span&gt; &lt;span style="color: #0000ff"&gt;TABLE&lt;/span&gt; `apps` &lt;span style="color: #0000ff"&gt;ADD&lt;/span&gt; FULLTEXT &lt;span style="color: #0000ff"&gt;INDEX&lt;/span&gt; (`seg_name`);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;APIä¸­å¯¹æœç´¢å…³é”®è¯ä¹Ÿè¿›è¡Œåˆ†è¯å¹¶ç»ç¼–ç ï¼Œä»¥ä¸‹é¢çš„SQLæ¥æŸ¥è¯¢å³å¯ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# &lt;span style="border: 1px solid #FF0000"&gt;å…¶ä¸­&lt;/span&gt;%sç”¨æœç´¢å…³é”®è¯åˆ†è¯ç¼–ç åçš„ç»“æœè¿›è¡Œæ›¿æ¢
&lt;span style="color: #0000ff"&gt;SELECT&lt;/span&gt; * &lt;span style="color: #0000ff"&gt;FROM&lt;/span&gt; `apps` &lt;span style="color: #0000ff"&gt;WHERE&lt;/span&gt; &lt;span style="color: #0000ff"&gt;MATCH&lt;/span&gt; (seg_name) AGAINST (&lt;span style="color: #a31515"&gt;&amp;#39;%s&amp;#39;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;IN&lt;/span&gt; &lt;span style="color: #0000ff"&gt;NATURAL&lt;/span&gt; &lt;span style="color: #0000ff"&gt;LANGUAGE&lt;/span&gt; &lt;span style="color: #0000ff"&gt;MODE&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°æˆ‘ä»¬é€‰æ‹©äº†â€œ  è‡ªç„¶è¯­è¨€æ¨¡å¼ï¼ˆIN NATURAL LANGUAGE MODEï¼‰ï¼Œå³é€šè¿‡MATCH AGAINSTä¼ é€’æŸä¸ªç‰¹å®šçš„å­—ç¬¦ä¸²æ¥è¿›è¡Œæ£€ç´¢â€ã€‚&lt;/p&gt;
&lt;h2&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://mysql.taobao.org/monthly/2015/10/01/"&gt;MySQL Â· å¼•æ“ç‰¹æ€§ Â· InnoDB å…¨æ–‡ç´¢å¼•ç®€ä»‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.cnblogs.com/martinzhang/p/3220345.html"&gt;MySQLä¸­æ–‡å…¨æ–‡æ£€ç´¢demoSQL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="MySQL"></category><category term="ç¬”è®°"></category></entry><entry><title>å…³äºå¹¶å‘çš„ä¸€ä¸ªå°æŠ€å·§</title><link href="http://youngsterxyf.github.io/2016/06/10/a-simple-concurrency-trick/" rel="alternate"></link><published>2016-06-10T00:00:00+08:00</published><updated>2016-06-10T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2016-06-10:/2016/06/10/a-simple-concurrency-trick/</id><summary type="html">&lt;p&gt;å‰æ®µæ—¶é—´åœ¨å‚ä¸å®ç°ä¸€ä¸ªæ–°ä¸šåŠ¡ç³»ç»Ÿçš„Demoã€‚è¯¥ç³»ç»Ÿé›†æˆäº†å¤šä¸ªå·²æœ‰ç³»ç»Ÿçš„æ•°æ®ï¼Œæ¶‰åŠçš„æ•°æ®é‡è¾ƒå¤§ï¼Œä½†ç”±äºäººåŠ›å°‘ï¼Œæ—¶é—´çŸ­ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å‰æ®µæ—¶é—´åœ¨å‚ä¸å®ç°ä¸€ä¸ªæ–°ä¸šåŠ¡ç³»ç»Ÿçš„Demoã€‚è¯¥ç³»ç»Ÿé›†æˆäº†å¤šä¸ªå·²æœ‰ç³»ç»Ÿçš„æ•°æ®ï¼Œæ¶‰åŠçš„æ•°æ®é‡è¾ƒå¤§ï¼Œä½†ç”±äºäººåŠ›å°‘ï¼Œæ—¶é—´çŸ­ï¼Œæ²¡æ³•ä¸“é—¨åšä¸€ä¸ªæ•°æ®å¤„ç†å­ç³»ç»Ÿï¼Œæ‰€ä»¥åªèƒ½å†™äº†å¾ˆå¤šæ•°æ®å¤„ç†çš„è„šæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="a-simple-concurrency-trick" src="https://i.loli.net/2020/06/14/9Q1r52Cq3ZTOXt6.png"&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å¤ç”¨ä¸€äº›ä»£ç ï¼Œè¿™äº›æ•°æ®å¤„ç†è„šæœ¬å’Œä¸šåŠ¡ç³»ç»Ÿä¸€æ ·éƒ½æ˜¯ä½¿ç”¨PHPå®ç°ã€‚åœ¨æŸäº›æ•°æ®ä¸ŠæŠ¥APIå†™å…¥çš„æ•°æ®è¾ƒå¿«è¾ƒå¤šæ—¶ï¼Œè„šæœ¬å¤„ç†ä¸è¿‡æ¥ï¼ˆç‰¹åˆ«åœ¨è„šæœ¬æ¶‰åŠä¸€äº›ç½‘ç»œè¯·æ±‚æ—¶ï¼‰ï¼Œåªèƒ½æèµ·å¹¶å‘å¤„ç† - åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œæœ€ç®€å•çš„å¹¶å‘æ–¹å¼å°±æ˜¯å¤šè¿è¡Œå‡ ä¸ªè„šæœ¬å®ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ä¸€åˆ‡æ²¡é‚£ä¹ˆç®€å•ï¼šè„šæœ¬ä»æ•°æ®åº“ä¸­å–å‡ºæœªç»å¤„ç†çš„å¤šè¡Œæ•°æ®ï¼Œé€è¡Œå¤„ç†æ•°æ®ï¼Œå¹¶å°†å¤„ç†åçš„æ•°æ®æ›´æ–°åˆ°åŸæ¥çš„æ•°æ®è¡Œä¸­ï¼Œè¿è¡Œå¤šä¸ªè„šæœ¬å®ä¾‹æ—¶ï¼Œä¸ºäº†é¿å…æ›´æ–°å†²çªï¼Œåªå¥½åŠ äº‹åŠ¡ï¼Œä½†åŠ äº‹åŠ¡åå°±ä¼šé¢‘ç¹å‘ç”Ÿäº‹åŠ¡å›æ»šï¼Œæ•°æ®å¤„ç†é€Ÿåº¦è¿˜æ˜¯ä¸Šä¸å»ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å‚è€ƒå“ˆå¸Œçš„æ€è·¯ï¼Œæˆ‘å¯¹è„šæœ¬åšäº†ä¸€ç‚¹è°ƒæ•´ï¼Œä¸‹é¢ä¸¾ä¾‹è¯´æ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡è®¾å¯¹åŒä¸€è„šæœ¬è¿è¡Œ&lt;code&gt;5&lt;/code&gt;ä¸ªå®ä¾‹ï¼Œä¸ºæ¯ä¸ªå®ä¾‹è¿›ç¨‹åˆ†é…ä¸€ä¸ªIDï¼Œä¾æ¬¡ä¸ºï¼š0ã€1ã€2ã€3ã€4&lt;/li&gt;
&lt;li&gt;å¯¹è„šæœ¬å®ä¾‹è·å–æ•°æ®çš„SQLï¼Œå¢åŠ é€‰æ‹©æ¡ä»¶ï¼š&lt;code&gt;MOD(id, 5)=SID&lt;/code&gt;ï¼ˆSIDä¸ºå½“å‰è„šæœ¬å®ä¾‹çš„IDï¼‰ - å³ä½¿ç”¨æ•°æ®è¡Œçš„&lt;code&gt;id&lt;/code&gt;å¯¹å®ä¾‹æ•°å–æ¨¡ï¼Œå¦‚æœç»“æœç­‰äºå®ä¾‹çš„IDï¼Œåˆ™å–å‡ºæ¥ã€‚è¿™æ ·å¤šä¸ªå®ä¾‹ä¹‹é—´ä¸ä¼šå–åˆ°ç›¸åŒçš„æ•°æ®è¡Œï¼Œä¹Ÿå°±ä¸ä¼šå‘ç”Ÿå†²çªå›æ»šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å†™ä¸ªSHELLè„šæœ¬æ¥å¯åŠ¨è„šæœ¬çš„å¤šä¸ªå®ä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;#!/usr/bin/env bash&lt;/span&gt;

pn=5
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt; id &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; 0 1 2 3 4
&lt;span style="color: #0000ff"&gt;do&lt;/span&gt;
/path/to/bin/php /path/to/script.php $pn $id &amp;gt; script-$id.log 2&amp;gt;&amp;amp;1 &amp;amp;
&lt;span style="color: #0000ff"&gt;done&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;å—¯ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå°æŠ€å·§ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="SQL"></category></entry><entry><title>å…³äºAPIè®¿é—®é¢‘ç‡é™åˆ¶çš„ä¸€ä¸ªé—®é¢˜</title><link href="http://youngsterxyf.github.io/2016/06/05/frequency-limitation/" rel="alternate"></link><published>2016-06-05T00:00:00+08:00</published><updated>2016-06-05T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2016-06-05:/2016/06/05/frequency-limitation/</id><summary type="html">&lt;p&gt;å·¥ä½œä¸­æ¶‰åŠä¸€äº›å¯¹å¤–å¼€æ”¾çš„æ— éœ€ç‰¹æ®Šæƒé™çš„APIï¼Œç”¨æˆ·ä¼šå› ä¸ºæŸäº›éœ€æ±‚è€Œé€šè¿‡ç¨‹åºæ¥é¢‘ç¹è®¿é—®è¿™äº›APIï¼Œå¯¼è‡´ç³»ç»Ÿçš„è´Ÿè½½é™¡ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å·¥ä½œä¸­æ¶‰åŠä¸€äº›å¯¹å¤–å¼€æ”¾çš„æ— éœ€ç‰¹æ®Šæƒé™çš„APIï¼Œç”¨æˆ·ä¼šå› ä¸ºæŸäº›éœ€æ±‚è€Œé€šè¿‡ç¨‹åºæ¥é¢‘ç¹è®¿é—®è¿™äº›APIï¼Œå¯¼è‡´ç³»ç»Ÿçš„è´Ÿè½½é™¡å¢ï¼Œå¯èƒ½å½±å“ç³»ç»Ÿå…¶å®ƒåŠŸèƒ½çš„æ­£å¸¸ä½¿ç”¨ã€‚è™½ç„¶åšäº†ä¸€äº›ä¼˜åŒ–è®©è¿™ç§APIå°½å¯èƒ½åœ°è½»é‡ï¼Œä½†ä»ç„¶ä¸å¤Ÿï¼Œå› æ­¤éœ€è¦è¿›è¡Œè®¿é—®é¢‘ç‡çš„é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºè¿™æ ·çš„APIå¹¶ä¸å¤šï¼Œæ‰€ä»¥æˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨Nginxè¿™æ ·çš„åå‘ä»£ç†æ¥å…¥å±‚ä¸­å®ç°é¢‘ç‡é™åˆ¶ï¼Œè€Œæ˜¯APIè‡ªå·±å»å®ç°ï¼Œè€Œä¸”å®ç°æ–¹æ¡ˆæ¯”è¾ƒç²—ç³™ - åŸºäºMemcachedçš„ç¼“å­˜è‡ªåŠ¨è¿‡æœŸç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ¡ˆçš„PHPç¤ºä¾‹å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;// æ¯ä¸ªIPä¸€åˆ†é’Ÿ10æ¬¡
$limit = 10;

$cache = new Memcached();
$cache-&amp;gt;addServer(&amp;#39;127.0.0.1&amp;#39;, 11211);

$key = __FUNCTION__.$_SERVER[&amp;#39;REMOTE_ADDR&amp;#39;];
$requestNum = $cache-&amp;gt;get($key);

if ($requestNum !== FALSE &amp;amp;&amp;amp; $requestNum &amp;gt; 10) {
    echo json_encode(array(
        &amp;#39;code&amp;#39; =&amp;gt; 403,
        &amp;#39;message&amp;#39; =&amp;gt; &amp;#39;è¯·æ±‚å¤ªé¢‘ç¹ï¼Œè¯·ä¸€åˆ†é’Ÿåå†è¯•&amp;#39;,
    ));
    return;
}

$cache-&amp;gt;add($key, 0, time()+60);
$cache-&amp;gt;increment($key, 1);

// ...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¾ˆæ˜æ˜¾è¿™ç§æ–¹æ¡ˆæœ‰ä¸å°‘é—®é¢˜ --- é«˜å¹¶å‘æ—¶é™åˆ¶ä¸ä¸¥æ ¼ï¼Œæˆ–è€…æœåŠ¡å™¨å†…å­˜ä¸è¶³æ—¶è®¿é—®æ¬¡æ•°å€¼å°šæœªè¿‡æœŸå°±å·²è¢«å‰”é™¤ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æœ¬æ–‡æƒ³è¯¦è¿°çš„æ˜¯å¦ä¸€ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ ¹æ®è®¿é—®æ¥æºIPè¿›è¡Œé¢‘ç‡é™åˆ¶ï¼Œå¦‚æœAPIä¸­å–åˆ°çš„æ¥æºIPæ˜¯é”™è¯¯çš„ï¼Œé‚£ä¹ˆå°±çé™åˆ¶äº†ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆæ¥çœ‹çœ‹ä¸€å¼ æ¶æ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="api-request-limitation" src="https://i.loli.net/2020/06/14/KgHvYRDF7smy61h.png"&gt;&lt;/p&gt;
&lt;p&gt;ä¸€çœ¼å°±èƒ½çœ‹å‡ºå›¾ä¸­â€œæœåŠ¡å™¨Câ€çš„ç‰¹åˆ«ä¹‹å¤„ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºä¸€äº›ç‰¹æ®Šçš„é—®é¢˜ï¼Œæˆ‘ä»¬æŠŠåˆ°æœåŠ¡å™¨Cçš„è¯·æ±‚é€šè¿‡Nginxåå‘ä»£ç†åˆ°å¦å¤–ä¸¤å°æœåŠ¡å™¨çš„Nginxè¿›è¡Œå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;å¯èƒ½æœ‰äººä¼šç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥æŠŠæœåŠ¡å™¨Cä»è´Ÿè½½å‡è¡¡ä¸­ä¸‹çº¿ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åŸå› æ˜¯ï¼šè€ƒè™‘åˆ°è·¨ç½‘ç»œè¿è¥å•†çš„é—®é¢˜ï¼Œæˆ‘ä»¬é…ç½®è´Ÿè½½å‡è¡¡å™¨æŠŠæ¥è‡ªä¸åŒè¿è¥å•†ç½‘ç»œçš„è¯·æ±‚è½¬å‘åˆ°ä¸è¯·æ±‚æ¥æºçš„è¿è¥å•†ç›¸åŒçš„æœåŠ¡å™¨ã€‚Cä¸Aã€Bä¸åŒå±äºä¸€ä¸ªç½‘ç»œè¿è¥å•†ï¼Œæ¯”å¦‚Cå±äºâ€œåŒ—è”é€šâ€ï¼Œå¦‚æœæŠŠCä¸‹çº¿ï¼Œå°±æ„å‘³ç€åŒ—æ–¹è”é€šçš„ç½‘ç»œç”¨æˆ·æ— æ³•è®¿é—®æˆ‘ä»¬çš„æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬ä¸´æ—¶æ€§åœ°æŠŠåˆ°Cçš„æœåŠ¡è¯·æ±‚è½¬å‘åˆ°Aã€Bã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é‚£ä¹ˆé—®é¢˜æ¥äº† - æœ‰ç”¨æˆ·åé¦ˆè®¿é—®æŸä¸ªAPIæ—¶å§‹ç»ˆæç¤ºâ€œè¯·æ±‚å¤ªé¢‘ç¹ï¼Œè¯·ä¸€åˆ†é’Ÿåå†è¯•â€ï¼Œä½†è‡ªå·±å¹¶æœªé¢‘ç¹è®¿é—®è¿™ä¸ªAPIã€‚é‚£ä¹ˆæ˜¯ç”¨æˆ·æ’’è°è¿˜æ˜¯ç³»ç»Ÿçš„é—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç»è¿‡ä»”ç»†æ’æŸ¥ï¼Œæœ€ç»ˆç¡®å®šé—®é¢˜å°±å‡ºåœ¨Nginxé…ç½®Cçš„è¯·æ±‚è¢«è½¬å‘åˆ°Aã€Bã€‚å¯¹äºç”¨æˆ·å®¢æˆ·ç«¯æ¥è¯´ï¼ŒCæ˜¯æœåŠ¡å™¨ï¼Œå¯¹äºAã€Bæ¥è¯´ï¼ŒCåˆ™æ˜¯å®¢æˆ·ç«¯ã€‚å¦‚æœä¸åšç‰¹æ®Šé…ç½®ï¼Œä»Cè½¬å‘åˆ°Aã€Bçš„è¯·æ±‚åœ¨å¤„ç†æ—¶ï¼ŒAã€Bæ‹¿åˆ°çš„è¯·æ±‚æ¥æºIPæ˜¯Cçš„IPï¼Œä¹Ÿå°±æ„å‘³ç€åˆ°Cçš„APIè®¿é—®è¯·æ±‚ï¼Œéƒ½è¢«Aã€BåŸºäºCçš„IPè¿›è¡Œè®¿é—®é¢‘ç‡é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥Nginxä¸ºä¾‹ï¼Œå¯¹äºä»Cè½¬å‘åˆ°Aã€Bçš„è¯·æ±‚ï¼Œå¦‚æœAã€Bè¦æ‹¿åˆ°è¯·æ±‚çš„çœŸå®æ¥æºIPï¼Œåˆ™éœ€è¦å¯¹Aã€BåŠCçš„Nginxåšç‰¹æ®Šé…ç½®ã€‚ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒNginxæä¾›äº†ä¸€ä¸ªé¢å¤–çš„æ¨¡å—&lt;code&gt;ngx_http_realip_module&lt;/code&gt;ï¼Œè¿™ä¸ªæ¨¡å—é»˜è®¤æ²¡æœ‰ç¼–è¯‘åœ¨Nginxä¸­ï¼Œéœ€ä»¥é¢å¤–å‚æ•°&lt;code&gt;--with-http_realip_module&lt;/code&gt;è¿›è¡Œç¼–è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶å¯¹Cçš„Nginxåå‘ä»£ç†é…ç½®ï¼ˆlocationå—ï¼‰æ·»åŠ ä¸€è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# æŠŠè¯·æ±‚æ¥æºæ”¾åœ¨X-Real-IPè¯·æ±‚å¤´ä¸­
proxy_set_header  X-Real-IP $remote_addr;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯¹Aã€Bçš„Nginxï¼ˆserverå—ï¼‰æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# è¯´æ˜éœ€è¦è¿›è¡ŒçœŸå®è¯·æ±‚æ¥æºIPæ›¿æ¢çš„è¯·æ±‚æ¥æºï¼Œå³Cæ‰€å±çš„IPæ®µæˆ–è€…Cçš„IP
set_real_ip_from 10.0.0.0/8;
# è¯´æ˜ä»å“ªè·å–çœŸå®æ¥æºIP
real_ip_header X-Real-IP;
real_ip_recursive on;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¯¦ç»†çš„è¯´æ˜è§Nginxæ–‡æ¡£ï¼šhttp://nginx.org/en/docs/http/ngx_http_realip_module.html&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Nginx"></category><category term="ç¬”è®°"></category><category term="å·¥ä½œ"></category></entry><entry><title>ä¸ºä»€ä¹ˆæˆ‘è¦é€æ‰çº¸è´¨ä¹¦ï¼Ÿ</title><link href="http://youngsterxyf.github.io/2016/02/28/why-preseting-book/" rel="alternate"></link><published>2016-02-28T00:00:00+08:00</published><updated>2016-02-28T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2016-02-28:/2016/02/28/why-preseting-book/</id><summary type="html">&lt;p&gt;å°æ—¶å€™ï¼Œä¸çŸ¥ä¸ºä½•å–œæ¬¢è¯»ä¹¦ï¼Œè€Œåˆæ²¡é’±ä¹°ï¼Œæ‰€ä»¥åœ¨å®¶éƒ½æ˜¯ç¿»ä¸¤ä¸ªå“¥å“¥çš„è¯¾æœ¬ - è¯­æ–‡ã€å†å²ã€åœ°ç†ç­‰ï¼Œéƒ½ç¿»ä¸ªéã€‚æ›´æœ‰ç”šè€…ï¼Œç«Ÿç„¶è¿˜ä»é‚» â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å°æ—¶å€™ï¼Œä¸çŸ¥ä¸ºä½•å–œæ¬¢è¯»ä¹¦ï¼Œè€Œåˆæ²¡é’±ä¹°ï¼Œæ‰€ä»¥åœ¨å®¶éƒ½æ˜¯ç¿»ä¸¤ä¸ªå“¥å“¥çš„è¯¾æœ¬ - è¯­æ–‡ã€å†å²ã€åœ°ç†ç­‰ï¼Œéƒ½ç¿»ä¸ªéã€‚æ›´æœ‰ç”šè€…ï¼Œç«Ÿç„¶è¿˜ä»é‚»å±…å®¶å·å·åœ°æ‹¿äº†æœ¬ä¹¦å›æ¥ï¼Œè¿™åº”è¯¥ç®—æ˜¯æˆ‘å“è¡Œä¸Šçš„æ±¡ç‚¹ï¼Œè¿™äº‹åœ¨æ­¤è¯´èµ·ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºä¹¦å°‘ï¼Œæ‰€ä»¥è‡³ä»Šè¿˜è®°å¾—çˆ¸çˆ¸ç¬¬ä¸€æ¬¡é€ç»™æˆ‘çš„ä¹¦ - ã€Šä¸€ä¸ªå˜ä¸¤ä¸ªã€‹ - è¿ä¹¦é‡Œçš„æƒ…èŠ‚éƒ½æ²¡å¿˜è¿‡ã€‚&lt;/p&gt;
&lt;p&gt;è¯»åˆä¸­æ—¶ï¼Œå› ä¸ºè¯»ä¹¦ï¼Œè¿˜å’Œå¥½æœ‹å‹é—¹è¿‡ä¸€ç‚¹ä¸æ„‰å¿«ï¼šæœ‹å‹ä¹°äº†ä¸€äº›å¥½ä¹¦ï¼Œæˆ‘æƒ³å€Ÿæ¥çœ‹ï¼Œä»–ä¸è‚¯ï¼Œæˆ‘å°±æ¯å¤©æ¯”å¤§å®¶æ—©èµ·ä¸€äº›ï¼Œå·å·ä»ä»–æŠ½å±‰é‡Œæ‹¿æ¥çœ‹å‡ é¡µï¼Œåœ¨ä»–åˆ°æ•™å®¤ä¹‹å‰å†æ”¾å›å»ï¼Œåæ¥â€œäº‹å‘â€ï¼Œã€‚ã€‚ã€‚å½“ç„¶è¿™ä¸€åˆ‡éƒ½å·²è¿‡å»ï¼Œæœ‹å‹è¿˜æ˜¯æœ‹å‹ã€‚&lt;/p&gt;
&lt;p&gt;é«˜ä¸­åï¼Œå¼€å§‹æœ‰ä¸€äº›é›¶èŠ±é’±/é¥­é’±ï¼Œä»å…¶ä¸­æŒ¤å‡ºéƒ¨åˆ†é’±æ¥ä¹°ä¹¦æˆäº†æˆ‘çš„ä¸€ä¸ªä¹ æƒ¯ï¼Œä¹¦ä¹Ÿç”±æ­¤è¶Šæ¥è¶Šå¤šã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®æˆ‘æ ¹æœ¬çœ‹ä¸äº†é‚£ä¹ˆå¤šä¹¦ï¼Œæœ€ç»ˆç´¯ç§¯äº†å¤§é‡çš„ä¹¦æ²¡è®¤çœŸè¯»è¿‡ã€‚æœ‰æ—¶è§‰å¾—å¯æƒœäº†ï¼Œå°±ä¼šä¸ºè¯»ä¹¦è€Œè¯»ä¹¦ï¼Œç²¾ç¥ä¸ºè¯»ä¹¦æ‰€ç´¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›å¹´ï¼Œå‡ æ¬¡æ¬å®¶ - ä»æœ¬ç§‘å­¦æ ¡åˆ°ç ”ç©¶ç”Ÿå­¦æ ¡ã€è¯»ç ”æœŸé—´æ¢å®¿èˆã€æ¯•ä¸šå·¥ä½œ - æ¯æ¬¡æœ€å¤šæœ€é‡çš„éƒ½æ˜¯ä¹¦ï¼Œâ€œä¹¦ç”Ÿæ¬å®¶ - å°½æ˜¯ä¹¦ï¼â€ã€‚&lt;/p&gt;
&lt;p&gt;å·¥ä½œåç§Ÿçš„æˆ¿å­æ²¡é‚£ä¹ˆå®½æ•ï¼Œå¯¼è‡´åˆ°å¤„å¡çš„éƒ½æ˜¯ä¹¦ã€‚ç»“å©šåï¼Œä¸œè¥¿æ›´å¤šï¼Œä¸œè¥¿ä¸€å¤šå°±å®¹æ˜“ä¹±ï¼Œéœ€è¦ç»å¸¸æ•´ç†ï¼Œç”Ÿæ´»åˆæœ‰äº›ä¸ºä¹¦æ‰€ç´¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¯•ä¸šåï¼Œæˆ‘ä¸€ç›´æƒ³ä»ä¸€ä¸ªå­¦ç”Ÿâ€œå­¦â€çš„çŠ¶æ€è½¬å˜ä¸ºâ€œåšâ€çš„çŠ¶æ€ - è§£å†³é—®é¢˜ã€åˆ›é€ ä»·å€¼ï¼Œæ‰æ˜¯ä¸€ä¸ªäººåœ¨ç¤¾ä¼šä¸Šçš„ä»·å€¼ä½“ç°ã€‚è®¡ç®—æœºä¸“ä¸šå·¥ä½œå¼ºâ€œå®è·µâ€çš„ç‰¹ç‚¹ï¼Œä¹Ÿè®©æˆ‘æŠŠä¹¦çœ‹å¾—æ·¡äº†äº›ã€‚&lt;/p&gt;
&lt;p&gt;å·¥ä½œç»“å©šåï¼Œè‡ªå·±çš„æ—¶é—´æ›´åŠ é›¶ç¢ï¼Œè¦æƒ³åˆ©ç”¨é›¶ç¢æ—¶é—´é˜…è¯»ï¼Œå°±è¦æ±‚ä¹¦æ›´â€œä¾¿æºâ€ï¼Œéšæ—¶å¯ç”¨ï¼Œè¿™ä¸€ç‚¹çº¸è´¨ä¹¦æ˜¯å¾ˆéš¾æ»¡è¶³çš„ï¼Œæ…¢æ…¢åœ°æ›´å¤šçš„æ˜¯é˜…è¯»ç”µå­ä¹¦ï¼Œä¹°äº†kindleï¼Œæ‰‹æœºé‡Œä¹Ÿè£…äº†é˜…è¯»è½¯ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="kindle" src="https://i.loli.net/2020/06/14/4YgU8AeIWBaQyfu.png"&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ç°åœ¨çœ‹æ¥ï¼Œä»å°å¯¹äºä¹¦ç±çš„æ¸´æ±‚ï¼Œä¹‹åå½¢æˆè—ä¹¦çš„ä¹ æƒ¯ï¼Œè¯´å¾—ä¸å¥½å¬æ˜¯ä¸€ç§â€œç—…â€ï¼Œå¾—æ²»ï¼Œè¯´å¾—å¥½å¬ç‚¹ï¼Œæ˜¯ä¸€ç§â€œæƒ…æ€€â€ï¼Œå¾—é€‚å½“ä¿ç•™ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ä¹°ä¹¦æ—¶ä¸€èˆ¬éƒ½æœ‰å„ç§æƒ³æ³•ã€å„ç§è®¡åˆ’ï¼Œä½†è¿™äº›æƒ³æ³•è®¡åˆ’æœ‰å¾ˆå¤šéƒ½ä¼šææµ…ï¼ˆå½“ç„¶æœ‰äº›äººæ‰§è¡ŒåŠ›å¼ºï¼Œä¹°ä¸€æœ¬çœ‹ä¸€æœ¬ï¼‰ã€‚äººç”Ÿä¸èƒ½ç¼ºå°‘è®¡åˆ’ï¼Œä½†è®¡åˆ’ä¸æ˜¯äººç”Ÿï¼Œæ‰€ä»¥è¿‡æ—¥å­å°±åƒå†™ä»£ç ä¸€æ ·ï¼Œéœ€è¦é€‚æ—¶åœ°è¿›è¡Œé‡æ„ï¼Œå»é™¤é‚£äº›å½“ä¸‹æˆ–å¯è§æœªæ¥ä¸éœ€è¦çš„ä¸œè¥¿ï¼Œè®©ä½ æ‰€æŒæœ‰çš„æ›´é€‚åˆä½ çš„ç”Ÿæ´»ï¼Œè€Œä¸è¢«ä½ æ— ç”¨çš„æ‹¥æœ‰æ‰€ç´¯ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ç¬¬ä¸€æ¬¡æœ‰äº†æ¸…ç†çº¸è´¨ä¹¦çš„æƒ³æ³•ï¼Œä½†ä¹°çš„æ¯æœ¬ä¹¦éƒ½åŒ…å«ç€ä¸€æ®µè®°å¿†ã€ä¸€ä¸ªæƒ³æ³•ã€ä¸€ä¸ªæˆ‘ï¼Œå› æ­¤ä¸æ„¿æ„æŠŠè¿™äº›ä¹¦å½“åºŸçº¸å–æ‰ã€‚è™½ç„¶æˆ‘é¢„è®¡å¯è§çš„æœªæ¥ä¸ä¼šé˜…è¯»å®ƒä»¬ï¼Œä½†å®ƒä»¬è‡ªæœ‰å…¶ä»·å€¼ï¼Œä¹Ÿè®¸åœ¨å…¶ä»–äººé‚£èƒ½å®ç°å…¶ä»·å€¼ï¼Œæ‰€ä»¥ä½ä»·å–æ‰/é€æ‰/ææ‰æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;ç¨³å¦¥èµ·è§ï¼Œæˆ‘ç°åœ¨åªå¯¹è®¡ç®—æœºä¸“ä¸šä¹¦ç±ä¸‹æ‰‹ã€‚åŸå› å…¶ä¸€å®¶é‡Œåªæœ‰æˆ‘æ˜¯ç¨‹åºå‘˜ï¼Œå¦‚æœæˆ‘ä¸è¯»ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å…¶ä»–äººä¼šå»è¯»è¿™äº›è®¡ç®—æœºä¸“ä¸šä¹¦ç±ï¼›å…¶äºŒç¼–ç¨‹æ˜¯ä¸ªå®è·µçš„æ´»ï¼Œå·¥ä½œä¸€å®šæ—¶é—´ä¹‹åï¼Œå¤šæ•°ä¸“ä¸šä¹¦ç±çš„ä»·å€¼æ²¡é‚£ä¹ˆå¤§ï¼›å…¶ä¸‰å·¥ä½œä¹‹åå‘ç°ä¸€ä¸ªäººçš„ç²¾åŠ›æ˜¯æœ‰é™çš„ï¼Œè¦æƒ³ç§¯ç´¯å¿«å‡ºæˆæœï¼Œæœ€å¥½å°½å¯èƒ½èšç„¦è‡ªå·±çš„ç²¾åŠ›åœ¨ä¸€ä¸¤ä¸ªç‚¹ä¸Šï¼›å…¶å››éœ€è¦ä¸ºè‡ªå·±å¤šç•™ä¸€äº›æ€è€ƒçš„æ—¶é—´ï¼Œè€Œä¸æ˜¯ä¸€å‘³åœ°å­¦ä¹ ï¼›ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="book-list" src="https://i.loli.net/2020/06/14/8Y97s42XBzVuZMj.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å½“æˆ‘å‘Šè¯‰å¤§å®¶å‡†å¤‡æ¸…ç†æ‰éƒ¨åˆ†ä¸“ä¸šä¹¦ç±æ—¶ï¼Œéƒ¨åˆ†æœ‹å‹æ¯”è¾ƒæƒŠè®¶ï¼Œå‡ºäºå…³å¿ƒæˆ–æç¬‘ï¼Œå°±åŸå› ç»™å‡ºäº†è‡ªå·±çš„çŒœæµ‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½ æ˜¯è¦æŒªçªæ¢æˆ¿å­äº†å—ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ²¡é’±è¿‡æ—¥å­äº†å—ï¼Ÿå…»å¨ƒä¸å®¹æ˜“å•Š&lt;/li&gt;
&lt;li&gt;ä½ è¿™æ˜¯è¦è½¬è¡Œäº†å—ï¼Ÿä¸å†å†™ä»£ç äº†å—ï¼Ÿ&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤ï¼Œæœ‰äº†è¿™ç¯‡æ–‡ç« ï¼Œè§£é‡Šä¸€ä¸‹ï¼Œä¹Ÿè°ˆè°ˆæˆ‘çš„ä¸€ç‚¹æ€è€ƒã€‚&lt;/p&gt;
&lt;p&gt;æ¸…ç†å‡ºæ¥çš„ä¹¦ç±ï¼Œå‡ºæ‰‹å¾—éƒ½æ¯”è¾ƒå¿«ï¼Œè™½ç„¶éƒ¨åˆ†ä¹¦ç±æ ‡ä»·å‡ºå”®ï¼Œä½†æœ€ç»ˆç»å¤§å¤šæ•°éƒ½æ˜¯èµ é€çš„ã€‚å–ä¹¦çš„æœ¬æ„ä¸åœ¨äºé’±ï¼Œè€Œåœ¨äºä¹¦çš„å»å¤„ã€‚&lt;/p&gt;
&lt;p&gt;è°¢è°¢æœ‹å‹ä»¬çš„æ”¯æŒï¼&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="ç”Ÿæ´»"></category><category term="æ„Ÿæ‚Ÿ"></category></entry><entry><title>å¦‚ä½•æ€æ­»defunctè¿›ç¨‹ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2016/02/18/kill-defunct/" rel="alternate"></link><published>2016-02-18T00:00:00+08:00</published><updated>2016-02-18T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2016-02-18:/2016/02/18/kill-defunct/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://kenno.wordpress.com/2007/04/04/how-to-kill-defunct-process/"&gt;How to kill defunct process&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;defunctè¿›ç¨‹æ˜¯æŒ‡å‡ºé”™æŸåçš„è¿›ç¨‹ï¼Œçˆ¶å­è¿›ç¨‹ä¹‹é—´ä¸ä¼šå†é€šä¿¡ã€‚æœ‰æ—¶ï¼Œå®ƒä»¬ä¼šæ¼”å˜æˆâ€œåƒµå°¸è¿›ç¨‹â€ï¼Œå­˜ç•™åœ¨ä½ çš„ç³»ç»Ÿä¸­ï¼Œç›´åˆ°ç³»ç»Ÿé‡å¯ã€‚å¯ä»¥ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://kenno.wordpress.com/2007/04/04/how-to-kill-defunct-process/"&gt;How to kill defunct process&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;defunctè¿›ç¨‹æ˜¯æŒ‡å‡ºé”™æŸåçš„è¿›ç¨‹ï¼Œçˆ¶å­è¿›ç¨‹ä¹‹é—´ä¸ä¼šå†é€šä¿¡ã€‚æœ‰æ—¶ï¼Œå®ƒä»¬ä¼šæ¼”å˜æˆâ€œåƒµå°¸è¿›ç¨‹â€ï¼Œå­˜ç•™åœ¨ä½ çš„ç³»ç»Ÿä¸­ï¼Œç›´åˆ°ç³»ç»Ÿé‡å¯ã€‚å¯ä»¥å°è¯• â€œkill -9â€ å‘½ä»¤æ¥æ¸…é™¤ï¼Œä½†å¤šæ•°æ—¶å€™ä¸ç®¡ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ€æ­»è¿™äº›defunctè¿›ç¨‹ï¼Œä½ æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é‡å¯ä½ çš„è®¡ç®—æœº&lt;/li&gt;
&lt;li&gt;ç»§ç»­å¾€ä¸‹è¯»...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆçœ‹çœ‹ç³»ç»Ÿä¸­æ˜¯å¦å­˜åœ¨defunctè¿›ç¨‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ps -A | grep defunct
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‡è®¾å¾—åˆ°çš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;8328 &lt;span style="border: 1px solid #FF0000"&gt;?&lt;/span&gt; 00:00:00 mono &amp;lt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt;unct&amp;gt;
8522 &lt;span style="border: 1px solid #FF0000"&gt;?&lt;/span&gt; 00:00:01 mono &amp;lt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt;unct&amp;gt;
13132 &lt;span style="border: 1px solid #FF0000"&gt;?&lt;/span&gt; 00:00:00 mono &amp;lt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt;unct&amp;gt;
25822 &lt;span style="border: 1px solid #FF0000"&gt;?&lt;/span&gt; 00:00:00 ruby &amp;lt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt;unct&amp;gt;
28383 &lt;span style="border: 1px solid #FF0000"&gt;?&lt;/span&gt; 00:00:00 ruby &amp;lt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt;unct&amp;gt;
18803 &lt;span style="border: 1px solid #FF0000"&gt;?&lt;/span&gt; 00:00:00 ruby &amp;lt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt;unct&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ„å‘³ç€å­˜åœ¨6ä¸ªdefunctè¿›ç¨‹ï¼š3ä¸ªmonoè¿›ç¨‹ï¼Œä»¥åŠ3ä¸ªrubyè¿›ç¨‹ã€‚è¿™äº›è¿›ç¨‹ä¹‹æ‰€ä»¥å­˜åœ¨ï¼Œå¯èƒ½æ˜¯å› ä¸ºåº”ç”¨ç¨‹åºå†™å¾—å¾ˆçƒ‚æˆ–è€…ç”¨æˆ·åšäº†ä¸å¸¸è§çš„æ“ä½œï¼Œåœ¨æˆ‘è¿™ï¼Œä¸€å®šæ˜¯æˆ‘å†™çš„mono C#ç¨‹åºå­˜åœ¨ä¸¥é‡é—®é¢˜ :smile: ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™äº›è¿›ç¨‹çš„IDåŠå…¶çˆ¶è¿›ç¨‹IDï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ps -ef | grep defunct | more
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä¸Šå‘½ä»¤çš„è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;UID PID PPID ...
---------------------------------------------------------------

kenno 8328 6757 0 Mar22 ? 00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00 [mono] &amp;lt;defunct&amp;gt;
kenno 8522 6757 0 Mar22 ? 00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;01 [mono] &amp;lt;defunct&amp;gt;
kenno 13132 6757 0 Mar23 ? 00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00 [mono] &amp;lt;defunct&amp;gt;
kenno 25822 25808 0 Mar27 ? 00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00 [ruby] &amp;lt;defunct&amp;gt;
kenno 28383 28366 0 Mar27 ? 00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00 [ruby] &amp;lt;defunct&amp;gt;
kenno 18803 18320 0 Apr02 ? 00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;00 [ruby] &amp;lt;defunct&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;UIDï¼šç”¨æˆ·ID&lt;/li&gt;
&lt;li&gt;PIDï¼šè¿›ç¨‹ID&lt;/li&gt;
&lt;li&gt;PPIDï¼šçˆ¶è¿›ç¨‹ID&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä½ ä½¿ç”¨å‘½ä»¤ â€œkill -9 8328â€ å°è¯•æ€æ­»IDä¸º8328çš„è¿›ç¨‹ï¼Œå¯èƒ½ä¼šæ²¡æ•ˆæœã€‚è¦æƒ³æˆåŠŸæ€æ­»è¯¥è¿›ç¨‹ï¼Œéœ€è¦å¯¹å…¶çˆ¶è¿›ç¨‹ï¼ˆIDä¸º6757ï¼‰æ‰§è¡Œkillå‘½ä»¤ï¼ˆ&lt;code&gt;$ kill -9 6757&lt;/code&gt;ï¼‰ã€‚å¯¹æ‰€æœ‰è¿™äº›è¿›ç¨‹çš„çˆ¶è¿›ç¨‹IDåº”ç”¨killå‘½ä»¤ï¼Œå¹¶éªŒè¯ç»“æœï¼ˆ&lt;strong&gt;$ ps -A | grep defunct&lt;/strong&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå‰ä¸€ä¸ªå‘½ä»¤æ˜¾ç¤ºæ— ç»“æœï¼Œé‚£ä¹ˆæå®šï¼å¦åˆ™ï¼Œå¯èƒ½ä½ éœ€è¦é‡å¯ä¸€ä¸‹ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h2&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://wagoneers.com/UNIX/KILL/Kill.html"&gt;http://wagoneers.com/UNIX/KILL/Kill.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.cts.wustl.edu/~allen/kill-defunct-process.html"&gt;http://www.cts.wustl.edu/~allen/kill-defunct-process.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;è¯‘æ³¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œå‘½ä»¤ &lt;code&gt;ps aux | grep defunct&lt;/code&gt;ï¼Œå¦‚æœè¿›ç¨‹ä¸ºdefunctï¼Œåˆ™å…¶ç¬¬8åˆ—ä¸º &lt;code&gt;Z&lt;/code&gt; ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13391  0.1  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;23 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13393  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;15 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13394  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;15 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13395  0.1  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;28 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13396  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;15 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13397  0.1  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;23 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13398  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;15 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13399  0.1  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;22 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13400  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;15 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13401  0.1  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;22 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13402  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;16 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13403  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;14 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13404  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;15 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13405  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;15 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13406  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;16 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13407  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;02 [python] &amp;lt;defunct&amp;gt;
&lt;span style="color: #0000ff"&gt;work&lt;/span&gt;     13408  0.0  0.0      0     0 pts/0    Z    10&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;50   0&lt;span style="border: 1px solid #FF0000"&gt;:&lt;/span&gt;14 [python] &amp;lt;defunct&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category></entry><entry><title>Base64ç¼–ç åŸç†ä¸åº”ç”¨</title><link href="http://youngsterxyf.github.io/2016/01/24/base64-encoding/" rel="alternate"></link><published>2016-01-24T00:00:00+08:00</published><updated>2016-01-24T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2016-01-24:/2016/01/24/base64-encoding/</id><summary type="html">&lt;p&gt;2015å¹´ï¼Œæˆ‘ä»¬åœ¨é’äº‘å¹³å°ä¸Šå®ç°äº†â€œç™¾åº¦äº‘è§‚æµ‹â€åº”ç”¨ã€‚é’äº‘åº”ç”¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªiframeï¼Œåœ¨å‘iframeæœåŠ¡æ–¹å‘é€çš„è¯·æ±‚ä¸­ä¼šæºå¸¦ä¸€äº›æ•°æ®ï¼Œé’äº‘å¹³å°ä¼šä½¿ç”¨&lt;code&gt;Base64 URL&lt;/code&gt;å¯¹è¿™äº›æ•°æ®è¿›è¡Œç¼– â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;2015å¹´ï¼Œæˆ‘ä»¬åœ¨é’äº‘å¹³å°ä¸Šå®ç°äº†â€œç™¾åº¦äº‘è§‚æµ‹â€åº”ç”¨ã€‚é’äº‘åº”ç”¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªiframeï¼Œåœ¨å‘iframeæœåŠ¡æ–¹å‘é€çš„è¯·æ±‚ä¸­ä¼šæºå¸¦ä¸€äº›æ•°æ®ï¼Œé’äº‘å¹³å°ä¼šä½¿ç”¨&lt;code&gt;Base64 URL&lt;/code&gt;å¯¹è¿™äº›æ•°æ®è¿›è¡Œç¼–ç ï¼Œå…¶æä¾›çš„ç¼–ç è§£ç ç®—æ³•ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;// phpç‰ˆæœ¬
function base64_URL_encode($data) {
  return rtrim(strtr(base64_encode($data), &amp;#39;+/&amp;#39;, &amp;#39;-_&amp;#39;), &amp;#39;=&amp;#39;);
}
function base64_URL_decode($data) {
  return base64_decode(str_pad(strtr($data, &amp;#39;-_&amp;#39;, &amp;#39;+/&amp;#39;), 
                            strlen($data) % 4, &amp;#39;=&amp;#39;, STR_PAD_RIGHT));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥çœ‹å‡ºï¼Œ&lt;code&gt;Base64 URL&lt;/code&gt; æ˜¯æ ‡å‡†Base64ç¼–ç çš„ä¸€ä¸ªå˜ç§ï¼Œåˆ†åˆ«ç”¨ &lt;code&gt;-&lt;/code&gt;ã€&lt;code&gt;_&lt;/code&gt; æ›¿æ¢æ ‡å‡†Base64ç¼–ç ç»“æœä¸­çš„ &lt;code&gt;+&lt;/code&gt; ã€ &lt;code&gt;/&lt;/code&gt; ï¼Œå¹¶åˆ é™¤ç»“æœæœ€åçš„ &lt;code&gt;=&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®ç° â€œç™¾åº¦äº‘è§‚æµ‹â€ é’äº‘åº”ç”¨æ—¶ï¼Œæˆ‘åœ¨æƒ³ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Base64ç¼–ç ï¼Ÿ&lt;/li&gt;
&lt;li&gt;Base64ç¼–ç ç®—æ³•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ–‡æ˜¯å›´ç»•è¿™ä¸¤ä¸ªé—®é¢˜æ€è€ƒå’Œå®è·µçš„ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è®¤ä¸ºï¼Œç†è§£Base64æˆ–å…¶ä»–ç±»ä¼¼ç¼–ç çš„å…³é”®æœ‰ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¡ç®—æœºæœ€ç»ˆå­˜å‚¨å’Œæ‰§è¡Œçš„æ˜¯01äºŒè¿›åˆ¶åºåˆ—ï¼Œè¿™ä¸ªäºŒè¿›åˆ¶åºåˆ—çš„å«ä¹‰åˆ™ç”±è§£ç ç¨‹åº/è§£é‡Šç¨‹åºå†³å®š&lt;/li&gt;
&lt;li&gt;å¾ˆå¤šåœºæ™¯ä¸‹çš„æ•°æ®ä¼ è¾“è¦æ±‚æ•°æ®åªèƒ½ç”±ç®€å•é€šç”¨çš„å­—ç¬¦ç»„æˆï¼Œæ¯”å¦‚HTTPåè®®è¦æ±‚è¯·æ±‚çš„é¦–è¡Œå’Œè¯·æ±‚å¤´éƒ½å¿…é¡»æ˜¯ASCIIç¼–ç &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥é’äº‘åº”ç”¨ä¸ºä¾‹ï¼Œç®€å•è§£é‡Šè¿™ä¸¤ç‚¹ã€‚é’äº‘å¹³å°é€šè¿‡POSTä¸€ä¸ªè¡¨å•æ¥è·å–iframeï¼Œè¡¨å•æœ‰ &lt;code&gt;payload&lt;/code&gt; å’Œ &lt;code&gt;signature&lt;/code&gt; ä¸¤é¡¹ï¼Œ &lt;code&gt;payload&lt;/code&gt; åŸæœ¬æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œå…¶ä¸­çš„é”®å€¼å¯èƒ½åŒ…å«ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚ &lt;code&gt;&amp;amp;&lt;/code&gt;ã€&lt;code&gt;/&lt;/code&gt; ç­‰ï¼Œç”±äºé’äº‘è®¾è®¡çš„ä¸€ç§é€šç”¨çš„è¯·æ±‚äº¤äº’æ–¹æ¡ˆï¼Œéœ€è¦è€ƒè™‘iframeæœåŠ¡æ–¹æœåŠ¡å™¨ç«¯çš„å„ç§å¯èƒ½å®ç°ï¼Œæœ‰äº›æœåŠ¡å™¨ç«¯å®ç°æ²¡æœ‰è€ƒè™‘è¡¨å•å€¼æœ‰è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œæˆ–è€…POSTè¯·æ±‚è¢«ä¸­é—´æœåŠ¡å™¨è½¬æ¢æˆGETè¯·æ±‚å†æ¬¡å‘å‡ºï¼Œå¯¹äºURLæ¥è¯´ï¼Œ&lt;code&gt;&amp;amp;&lt;/code&gt;ã€&lt;code&gt;/&lt;/code&gt;éƒ½æ˜¯å…·æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¯·æ±‚æ•°æ®è¿›è¡Œç‰¹æ®Šç¼–ç é¿å…è¿™äº›å­—ç¬¦å‡ºç° - æ•°æ®å‘é€æ–¹å¯¹æ•°æ®æŒ‰è§„åˆ™è¿›è¡Œç¼–ç ï¼Œæ¥æ”¶æ–¹å¯¹åº”åœ°æŒ‰è§„åˆ™è§£ç æ•°æ®ã€‚&lt;/p&gt;
&lt;h2&gt;Base64ç¼–ç åŸç†&lt;/h2&gt;
&lt;p&gt;Base64ç¼–ç ä¹‹æ‰€ä»¥ç§°ä¸ºBase64ï¼Œæ˜¯å› ä¸ºå…¶ä½¿ç”¨64ä¸ªå­—ç¬¦æ¥å¯¹ä»»æ„æ•°æ®è¿›è¡Œç¼–ç ï¼ŒåŒç†æœ‰Base32ã€Base16ç¼–ç ã€‚æ ‡å‡†Base64ç¼–ç ä½¿ç”¨çš„64ä¸ªå­—ç¬¦ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/XHFMRvxfez4OVtr.jpg"&gt;&lt;/p&gt;
&lt;p&gt;è¿™64ä¸ªå­—ç¬¦æ˜¯å„ç§å­—ç¬¦ç¼–ç ï¼ˆæ¯”å¦‚ASCIIç¼–ç ï¼‰æ‰€ä½¿ç”¨å­—ç¬¦çš„å­é›†ï¼ŒåŸºæœ¬ï¼Œå¹¶ä¸”å¯æ‰“å°ã€‚å”¯ä¸€æœ‰ç‚¹ç‰¹æ®Šçš„æ˜¯æœ€åä¸¤ä¸ªå­—ç¬¦ï¼Œå› å¯¹æœ€åä¸¤ä¸ªå­—ç¬¦çš„é€‰æ‹©ä¸åŒï¼ŒBase64ç¼–ç åˆæœ‰å¾ˆå¤šå˜ç§ï¼Œæ¯”å¦‚Base64 URLç¼–ç ã€‚&lt;/p&gt;
&lt;p&gt;Base64ç¼–ç æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å°†äºŒè¿›åˆ¶æ•°æ®è½¬æˆæ–‡æœ¬æ•°æ®çš„æ–¹æ¡ˆã€‚å¯¹äºéäºŒè¿›åˆ¶æ•°æ®ï¼Œæ˜¯å…ˆå°†å…¶è½¬æ¢æˆäºŒè¿›åˆ¶å½¢å¼ï¼Œç„¶åæ¯è¿ç»­6æ¯”ç‰¹ï¼ˆ2çš„6æ¬¡æ–¹=64ï¼‰è®¡ç®—å…¶åè¿›åˆ¶å€¼ï¼Œæ ¹æ®è¯¥å€¼åœ¨ä¸Šé¢çš„ç´¢å¼•è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬è¦å¯¹ &lt;code&gt;Hello!&lt;/code&gt; è¿›è¡ŒBase64ç¼–ç ï¼ŒæŒ‰ç…§ASCIIè¡¨ï¼Œå…¶è½¬æ¢è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/tJnClQsjc4WMGhB.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å¯çŸ¥ &lt;code&gt;Hello!&lt;/code&gt; çš„Base64ç¼–ç ç»“æœä¸º &lt;code&gt;SGVsbG8h&lt;/code&gt; ï¼ŒåŸå§‹å­—ç¬¦ä¸²é•¿åº¦ä¸º6ä¸ªå­—ç¬¦ï¼Œç¼–ç åé•¿åº¦ä¸º8ä¸ªå­—ç¬¦ï¼Œæ¯3ä¸ªåŸå§‹å­—ç¬¦ç»Base64ç¼–ç æˆ4ä¸ªå­—ç¬¦ï¼Œç¼–ç å‰åé•¿åº¦æ¯”4/3ï¼Œè¿™ä¸ªé•¿åº¦æ¯”å¾ˆé‡è¦ - æ¯”åŸå§‹å­—ç¬¦ä¸²é•¿åº¦çŸ­ï¼Œåˆ™éœ€è¦ä½¿ç”¨æ›´å¤§çš„ç¼–ç å­—ç¬¦é›†ï¼Œè¿™å¹¶ä¸æˆ‘ä»¬æƒ³è¦çš„ï¼›é•¿åº¦æ¯”è¶Šå¤§ï¼Œåˆ™éœ€è¦ä¼ è¾“è¶Šå¤šçš„å­—ç¬¦ï¼Œä¼ è¾“æ—¶é—´è¶Šé•¿ã€‚Base64åº”ç”¨å¹¿æ³›çš„åŸå› æ˜¯åœ¨å­—ç¬¦é›†å¤§å°ä¸é•¿åº¦æ¯”ä¹‹é—´å–å¾—ä¸€ä¸ªè¾ƒå¥½çš„å¹³è¡¡ï¼Œé€‚ç”¨äºå„ç§åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯è§‰å¾—Base64ç¼–ç åŸç†å¾ˆç®€å•ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä½†è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸ªç‚¹ï¼šBase64ç¼–ç æ˜¯æ¯3ä¸ªåŸå§‹å­—ç¬¦ç¼–ç æˆ4ä¸ªå­—ç¬¦ï¼Œå¦‚æœåŸå§‹å­—ç¬¦ä¸²é•¿åº¦ä¸èƒ½è¢«3æ•´é™¤ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿä½¿ç”¨0å€¼æ¥è¡¥å……åŸå§‹å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ &lt;code&gt;Hello!!&lt;/code&gt; ä¸ºä¾‹ï¼Œå…¶è½¬æ¢è¿‡ç¨‹ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/5URB8nVis9ljwYe.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æ³¨ï¼šå›¾è¡¨ä¸­è“è‰²èƒŒæ™¯çš„äºŒè¿›åˆ¶0å€¼æ˜¯é¢å¤–è¡¥å……çš„ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Hello!!&lt;/code&gt; Base64ç¼–ç çš„ç»“æœä¸º &lt;code&gt;SGVsbG8hIQAA&lt;/code&gt; ã€‚æœ€å2ä¸ªé›¶å€¼åªæ˜¯ä¸ºäº†Base64ç¼–ç è€Œè¡¥å……çš„ï¼Œåœ¨åŸå§‹å­—ç¬¦ä¸­å¹¶æ²¡æœ‰å¯¹åº”çš„å­—ç¬¦ï¼Œé‚£ä¹ˆBase64ç¼–ç ç»“æœä¸­çš„æœ€åä¸¤ä¸ªå­—ç¬¦ &lt;code&gt;AA&lt;/code&gt; å®é™…ä¸å¸¦æœ‰æ•ˆä¿¡æ¯ï¼Œæ‰€ä»¥éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œä»¥å…è§£ç é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;æ ‡å‡†Base64ç¼–ç é€šå¸¸ç”¨ &lt;code&gt;=&lt;/code&gt; å­—ç¬¦æ¥æ›¿æ¢æœ€åçš„ &lt;code&gt;A&lt;/code&gt;ï¼Œå³ç¼–ç ç»“æœä¸º &lt;code&gt;SGVsbG8hIQ==&lt;/code&gt;ã€‚å› ä¸º &lt;code&gt;=&lt;/code&gt; å­—ç¬¦å¹¶ä¸åœ¨Base64ç¼–ç ç´¢å¼•è¡¨ä¸­ï¼Œå…¶æ„ä¹‰åœ¨äºç»“æŸç¬¦å·ï¼Œåœ¨Base64è§£ç æ—¶é‡åˆ° &lt;code&gt;=&lt;/code&gt; æ—¶å³å¯çŸ¥é“ä¸€ä¸ªBase64ç¼–ç å­—ç¬¦ä¸²ç»“æŸã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœBase64ç¼–ç å­—ç¬¦ä¸²ä¸ä¼šç›¸äº’æ‹¼æ¥å†ä¼ è¾“ï¼Œé‚£ä¹ˆæœ€åçš„ &lt;code&gt;=&lt;/code&gt; ä¹Ÿå¯ä»¥çœç•¥ï¼Œè§£ç æ—¶å¦‚æœå‘ç°Base64ç¼–ç å­—ç¬¦ä¸²é•¿åº¦ä¸èƒ½è¢«4æ•´é™¤ï¼Œåˆ™å…ˆè¡¥å…… &lt;code&gt;=&lt;/code&gt; å­—ç¬¦ï¼Œå†è§£ç å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;è§£ç æ˜¯å¯¹ç¼–ç çš„é€†å‘æ“ä½œï¼Œä½†æ³¨æ„ä¸€ç‚¹ï¼š&lt;strong&gt;å¯¹äºæœ€åçš„ä¸¤ä¸ª &lt;code&gt;=&lt;/code&gt; å­—ç¬¦ï¼Œè½¬æ¢æˆä¸¤ä¸ª &lt;code&gt;A&lt;/code&gt; å­—ç¬¦ï¼Œå†è½¬æˆå¯¹åº”çš„ä¸¤ä¸ª6æ¯”ç‰¹äºŒè¿›åˆ¶0å€¼ï¼Œæ¥ç€è½¬æˆåŸå§‹å­—ç¬¦ä¹‹å‰ï¼Œéœ€è¦å°†æœ€åçš„ä¸¤ä¸ª6æ¯”ç‰¹äºŒè¿›åˆ¶0å€¼ä¸¢å¼ƒï¼Œå› ä¸ºå®ƒä»¬å®é™…ä¸Šä¸æºå¸¦æœ‰æ•ˆä¿¡æ¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç†è§£Base64ç¼–ç è§£ç è¿‡ç¨‹ï¼Œä¸ªäººå®ç°äº†ä¸€ä¸ªéå¸¸ç®€é™‹çš„Base64ç¼–ç è§£ç ç¨‹åºï¼Œè§ï¼š&lt;a href="https://github.com/youngsterxyf/xiaBase64"&gt;youngsterxyf/xiaBase64&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºBase64åº”ç”¨å¹¿æ³›ï¼Œæ‰€ä»¥å¾ˆå¤šç¼–ç¨‹è¯­è¨€çš„æ ‡å‡†åº“éƒ½å†…ç½®Base64ç¼–ç è§£ç åŒ…ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PHPï¼š&lt;a href="http://php.net/manual/en/function.base64-encode.php"&gt;base64_encode&lt;/a&gt;ã€&lt;a href="http://php.net/manual/en/function.base64-decode.php"&gt;base64_decode&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;Pythonï¼š&lt;a href="https://docs.python.org/2/library/base64.html"&gt;base64åŒ…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Goï¼š&lt;a href="https://golang.org/pkg/encoding/base64/"&gt;encoding/base64&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Base64ç¼–ç åº”ç”¨&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡å¼€å§‹æåˆ°çš„é’äº‘åº”ç”¨ä¾‹å­åªæ˜¯Base64ç¼–ç çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€ã€‚ç”±äºBase64ç¼–ç åœ¨å­—ç¬¦é›†å¤§å°ä¸ç¼–ç åæ•°æ®é•¿åº¦ä¹‹é—´åšäº†è¾ƒå¥½çš„å¹³è¡¡ï¼Œä»¥åŠBase64ç¼–ç å˜ç§å½¢å¼çš„å¤šæ ·ï¼Œä½¿å¾—Base64ç¼–ç çš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ã€‚ä¸‹é¢ä¸¾2ä¸ªå¸¸ç”¨å¸¸è§çš„ä¾‹å­ã€‚&lt;/p&gt;
&lt;h3&gt;HTMLå†…åµŒBase64ç¼–ç å›¾ç‰‡&lt;/h3&gt;
&lt;p&gt;å‰ç«¯åœ¨å®ç°é¡µé¢æ—¶ï¼Œå¯¹äºä¸€äº›ç®€å•å›¾ç‰‡ï¼Œé€šå¸¸ä¼šé€‰æ‹©å°†å›¾ç‰‡å†…å®¹ç›´æ¥å†…åµŒåœ¨é¡µé¢ä¸­ï¼Œé¿å…ä¸å¿…è¦çš„å¤–éƒ¨èµ„æºåŠ è½½ï¼Œå¢å¤§é¡µé¢åŠ è½½æ—¶é—´ï¼Œä½†æ˜¯å›¾ç‰‡æ•°æ®æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œè¯¥æ€ä¹ˆåµŒå…¥å‘¢ï¼Ÿ&lt;a href="http://caniuse.com/#search=Data%20URI"&gt;ç»å¤§å¤šæ•°ç°ä»£æµè§ˆå™¨&lt;/a&gt;éƒ½æ”¯æŒä¸€ç§åä¸º &lt;code&gt;Data URLs&lt;/code&gt; çš„ç‰¹æ€§ï¼Œå…è®¸ä½¿ç”¨Base64å¯¹å›¾ç‰‡æˆ–å…¶ä»–æ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œç¼–ç ï¼Œå°†å…¶ä½œä¸ºæ–‡æœ¬å­—ç¬¦ä¸²åµŒå…¥ç½‘é¡µä¸­ã€‚ä»¥ç™¾åº¦æœç´¢é¦–é¡µä¸ºä¾‹ï¼Œå…¶ä¸­è¯­éŸ³æœç´¢çš„å›¾æ ‡æ˜¯ä¸ªèƒŒæ™¯å›¾ç‰‡ï¼Œå…¶å†…å®¹ä»¥ &lt;code&gt;Data URLs&lt;/code&gt; å½¢å¼ç›´æ¥å†™åœ¨cssä¸­ï¼Œè¿™ä¸ªcsså†…å®¹åˆç›´æ¥åµŒåœ¨HTMLé¡µé¢ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/oa6rsPSwgMzv87l.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Data URLs&lt;/code&gt; æ ¼å¼ä¸ºï¼š&lt;code&gt;url(data:æ–‡ä»¶ç±»å‹;ç¼–ç æ–¹å¼,ç¼–ç åçš„æ–‡ä»¶å†…å®¹)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åŸºäºimageæ ‡ç­¾åµŒå…¥å›¾ç‰‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;img alt=&lt;span style="color: #a31515"&gt;&amp;quot;Embedded Image&amp;quot;&lt;/span&gt; src=&lt;span style="color: #a31515"&gt;&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIA...&amp;quot;&lt;/span&gt; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½†è¯·æ³¨æ„ï¼šå¦‚æœå›¾ç‰‡è¾ƒå¤§ï¼Œå›¾ç‰‡çš„è‰²å½©å±‚æ¬¡æ¯”è¾ƒä¸°å¯Œï¼Œåˆ™ä¸é€‚åˆä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå› ä¸ºå…¶Base64ç¼–ç åçš„å­—ç¬¦ä¸²éå¸¸å¤§ï¼Œä¼šæ˜æ˜¾å¢å¤§HTMLé¡µé¢ï¼Œå½±å“åŠ è½½é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;h3&gt;MIMEï¼ˆå¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ï¼‰&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬çš„ç”µå­é‚®ä»¶ç³»ç»Ÿï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨SMTPï¼ˆç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼‰å°†é‚®ä»¶ä»å®¢æˆ·ç«¯å‘å¾€æœåŠ¡å™¨ç«¯ï¼Œé‚®ä»¶å®¢æˆ·ç«¯ä½¿ç”¨POP3ï¼ˆé‚®å±€åè®®ï¼Œç¬¬3ç‰ˆæœ¬ï¼‰æˆ–IMAPï¼ˆäº¤äº’é‚®ä»¶è®¿é—®åè®®ï¼‰ä»æœåŠ¡å™¨ç«¯è·å–é‚®ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;SMTPåè®®ä¸€å¼€å§‹æ˜¯åŸºäºçº¯ASCIIæ–‡æœ¬çš„ï¼Œå¯¹äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæ¯”å¦‚é‚®ä»¶é™„ä»¶ä¸­çš„å›¾åƒã€å£°éŸ³ç­‰ï¼‰çš„å¤„ç†å¹¶ä¸å¥½ï¼Œæ‰€ä»¥åæ¥æ–°å¢MIMEæ ‡å‡†æ¥ç¼–ç äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿé€šè¿‡SMTPåè®®ä¼ è¾“ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ç»™è‡ªå·±å‘å°é‚®ä»¶ï¼Œæ­£æ–‡ä¸ºç©ºï¼Œå¸¦ä¸€ä¸ªåä¸ºhello.txtçš„é™„ä»¶ï¼Œå†…å®¹ä¸º &lt;code&gt;æ‚¨å¥½ï¼ä¸–ç•Œï¼&lt;/code&gt;ã€‚å¯¼å‡ºé‚®ä»¶æºç ï¼Œå…¶å…³é”®éƒ¨åˆ†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://i.loli.net/2020/06/14/c8wIeoij9HWt4Ph.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;MIME-Version: 1.0&lt;/code&gt;ï¼šè¡¨ç¤ºå½“å‰ä½¿ç”¨MIMEæ ‡å‡†1.0ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Content-Type: text/plain; name="hello.txt"&lt;/code&gt;ï¼šè¡¨ç¤ºé™„ä»¶æ–‡ä»¶åä¸º &lt;code&gt;hello.txt&lt;/code&gt; ï¼Œæ ¼å¼ä¸ºçº¯æ–‡æœ¬ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Content-Transfer-Encoding: base64&lt;/code&gt;ï¼šè¡¨ç¤ºé™„ä»¶æ–‡ä»¶å†…å®¹ä½¿ç”¨base64ç¼–ç åä¼ è¾“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;5oKo5aW977yM5LiW55WM77yB&lt;/code&gt;ï¼šåˆ™æ˜¯æ–‡ä»¶å†…å®¹ &lt;code&gt;æ‚¨å¥½ï¼Œä¸–ç•Œï¼&lt;/code&gt; Base64ç¼–ç åçš„ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼ŒMIMEä½¿ç”¨çš„ä¸æ˜¯æ ‡å‡†Base64ç¼–ç ã€‚&lt;/p&gt;
&lt;h2&gt;åˆ‡å¿Œè¯¯ç”¨&lt;/h2&gt;
&lt;p&gt;å¯èƒ½ä¼šæœ‰äººåœ¨ä¸ç†è§£Base64ç¼–ç çš„æƒ…å†µä¸‹ï¼Œå°†å…¶è¯¯ç”¨äºæ•°æ®åŠ å¯†æˆ–æ•°æ®æ ¡éªŒã€‚&lt;/p&gt;
&lt;p&gt;Base64æ˜¯ä¸€ç§æ•°æ®ç¼–ç æ–¹å¼ï¼Œç›®çš„æ˜¯è®©æ•°æ®ç¬¦åˆä¼ è¾“åè®®çš„è¦æ±‚ã€‚æ ‡å‡†Base64ç¼–ç è§£ç æ— éœ€é¢å¤–ä¿¡æ¯å³å®Œå…¨å¯é€†ï¼Œå³ä½¿ä½ è‡ªå·±è‡ªå®šä¹‰å­—ç¬¦é›†è®¾è®¡ä¸€ç§ç±»Base64çš„ç¼–ç æ–¹å¼ç”¨äºæ•°æ®åŠ å¯†ï¼Œåœ¨å¤šæ•°åœºæ™¯ä¸‹ä¹Ÿè¾ƒå®¹æ˜“ç ´è§£ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ•°æ®åŠ å¯†åº”è¯¥ä½¿ç”¨ä¸“é—¨çš„&lt;strong&gt;ç›®å‰è¿˜æ²¡æœ‰æœ‰æ•ˆæ–¹å¼å¿«é€Ÿç ´è§£çš„&lt;/strong&gt;åŠ å¯†ç®—æ³•ã€‚æ¯”å¦‚ï¼šå¯¹ç§°åŠ å¯†ç®—æ³•&lt;code&gt;AES-128-CBC&lt;/code&gt;ï¼Œå¯¹ç§°åŠ å¯†éœ€è¦å¯†é’¥ï¼Œåªè¦å¯†é’¥æ²¡æœ‰æ³„éœ²ï¼Œé€šå¸¸éš¾ä»¥ç ´è§£ï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå¦‚ &lt;code&gt;RSA&lt;/code&gt;ï¼Œåˆ©ç”¨æå¤§æ•´æ•°å› æ•°åˆ†è§£çš„è®¡ç®—é‡æå¤§è¿™ä¸€ç‰¹ç‚¹ï¼Œä½¿å¾—ä½¿ç”¨å…¬é’¥åŠ å¯†çš„æ•°æ®ï¼Œåªæœ‰ä½¿ç”¨ç§é’¥æ‰èƒ½å¿«é€Ÿè§£å¯†ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ•°æ®æ ¡éªŒï¼Œä¹Ÿåº”è¯¥ä½¿ç”¨ä¸“é—¨çš„æ¶ˆæ¯è®¤è¯ç ç”Ÿæˆç®—æ³•ï¼Œå¦‚ &lt;code&gt;HMAC&lt;/code&gt; - ä¸€ç§ä½¿ç”¨å•å‘æ•£åˆ—å‡½æ•°æ„é€ æ¶ˆæ¯è®¤è¯ç çš„æ–¹æ³•ï¼Œå…¶è¿‡ç¨‹æ˜¯ä¸å¯é€†çš„ã€å”¯ä¸€ç¡®å®šçš„ï¼Œå¹¶ä¸”ä½¿ç”¨å¯†é’¥æ¥ç”Ÿæˆè®¤è¯ç ï¼Œå…¶ç›®çš„æ˜¯é˜²æ­¢æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«ç¯¡æ”¹æˆ–ä¼ªé€ ã€‚å°†åŸå§‹æ•°æ®ä¸è®¤è¯ç ä¸€èµ·ä¼ è¾“ï¼Œæ•°æ®æ¥æ”¶ç«¯å°†åŸå§‹æ•°æ®ä½¿ç”¨ç›¸åŒå¯†é’¥å’Œç›¸åŒç®—æ³•å†æ¬¡ç”Ÿæˆè®¤è¯ç ï¼Œä¸åŸæœ‰è®¤è¯ç è¿›è¡Œæ¯”å¯¹ï¼Œæ ¡éªŒæ•°æ®çš„åˆæ³•æ€§ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆé’ˆå¯¹å„å¤§ç½‘ç«™è¢«è„±åº“çš„é—®é¢˜ï¼Œè¯·é—®åº”è¯¥æ€ä¹ˆå­˜å‚¨ç”¨æˆ·çš„ç™»å½•å¯†ç ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯ï¼šåœ¨æ³¨å†Œæ—¶ï¼Œæ ¹æ®ç”¨æˆ·è®¾ç½®çš„ç™»å½•å¯†ç ï¼Œç”Ÿæˆå…¶æ¶ˆæ¯è®¤è¯ç ï¼Œç„¶åå­˜å‚¨ç”¨æˆ·åå’Œæ¶ˆæ¯è®¤è¯ç ï¼Œä¸å­˜å‚¨åŸå§‹å¯†ç ã€‚æ¯æ¬¡ç”¨æˆ·ç™»å½•æ—¶ï¼Œæ ¹æ®ç™»å½•å¯†ç ï¼Œç”Ÿæˆæ¶ˆæ¯è®¤è¯ç ï¼Œä¸æ•°æ®åº“ä¸­å­˜å‚¨çš„æ¶ˆæ¯è®¤è¯ç è¿›è¡Œæ¯”å¯¹ï¼Œä»¥ç¡®è®¤æ˜¯å¦ä¸ºæœ‰æ•ˆç”¨æˆ·ï¼Œè¿™æ ·å³ä½¿ç½‘ç«™è¢«è„±åº“ï¼Œç”¨æˆ·çš„åŸå§‹å¯†ç ä¹Ÿä¸ä¼šæ³„éœ²ï¼Œä¸ä¼šä¸ºç”¨æˆ·ä½¿ç”¨çš„å…¶ä»–ç½‘ç«™å¸¦æ¥è´¦å·é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä½¿ç”¨çš„æ¶ˆæ¯è®¤è¯ç ç®—æ³•å…¶å“ˆå¸Œç¢°æ’çš„æ¦‚ç‡åº”è¯¥æä½æ‰è¡Œï¼Œç›®å‰ä¸€èˆ¬åœ¨HMACç®—æ³•ä¸­ä½¿ç”¨SHA256ã€‚å¯¹äºè¿™ç§æ–¹å¼éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼šé˜²æ­¢ç”¨æˆ·ä½¿ç”¨å¼±å¯†ç ï¼Œå¦åˆ™ä¹Ÿå¯èƒ½ä¼šè¢«æš´åŠ›ç ´è§£ã€‚ç°åœ¨çš„ç½‘ç«™ä¸€èˆ¬è¦æ±‚ç”¨æˆ·å¯†ç 6ä¸ªå­—ç¬¦ä»¥ä¸Šï¼Œå¹¶ä¸”åŒæ—¶æœ‰æ•°å­—å’Œå¤§å°å†™å­—æ¯ï¼Œç”šè‡³è¦æ±‚æœ‰ç‰¹æ®Šå­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŠ å…¥éšæœºsaltçš„å“ˆå¸Œç®—æ³•æ¥å­˜å‚¨æ ¡éªŒç”¨æˆ·å¯†ç ã€‚è¿™é‡Œæš‚ä¸ç»†è¿°ã€‚&lt;/p&gt;
&lt;h2&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;Base64å…¼é¡¾å­—ç¬¦é›†å¤§å°å’Œç¼–ç åæ•°æ®é•¿åº¦ï¼Œå¹¶ä¸”å¯ä»¥çµæ´»æ›¿æ¢å­—ç¬¦é›†çš„æœ€åä¸¤ä¸ªå­—ç¬¦ï¼Œä»¥åº”å¯¹å¤šæ ·çš„éœ€æ±‚ï¼Œä½¿å…¶é€‚ç”¨åœºæ™¯éå¸¸å¹¿æ³›ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¾ˆå¤šåœºæ™¯ä¸‹æœ‰å¤šç§ç¼–ç æ–¹å¼å¯é€‰æ‹©ï¼Œå¹¶éBase64ç¼–ç ä¸å¯ï¼Œè§†éœ€æ±‚ï¼Œæƒè¡¡åˆ©å¼Šè€Œå®šã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="ç¼–ç "></category></entry><entry><title>åŸºäºGithubçš„pull requestæµç¨‹åšå¼€æºè´¡çŒ®</title><link href="http://youngsterxyf.github.io/2016/01/18/github-fork-pull-request/" rel="alternate"></link><published>2016-01-18T00:00:00+08:00</published><updated>2016-01-18T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2016-01-18:/2016/01/18/github-fork-pull-request/</id><summary type="html">&lt;p&gt;æœ€è¿‘ç»™ &lt;a href="https://github.com/astaxie/beego"&gt;beego&lt;/a&gt; æäº†å‡ ä¸ª pull request ï¼ˆç®€ç§°PRï¼‰ï¼Œéƒ½å·²è¢«æ¥å—ã€‚åœ¨ä½¿ç”¨pull requestçš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä¸€ç‚¹å°é—®é¢˜ï¼Œæ‰çŸ¥ä»¥å‰å¹¶éçœŸçš„ç†è§£è¿™ä¸ªæµç¨‹ï¼Œæ•…åœ¨æ­¤åšç‚¹ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;æœ€è¿‘ç»™ &lt;a href="https://github.com/astaxie/beego"&gt;beego&lt;/a&gt; æäº†å‡ ä¸ª pull request ï¼ˆç®€ç§°PRï¼‰ï¼Œéƒ½å·²è¢«æ¥å—ã€‚åœ¨ä½¿ç”¨pull requestçš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ä¸€ç‚¹å°é—®é¢˜ï¼Œæ‰çŸ¥ä»¥å‰å¹¶éçœŸçš„ç†è§£è¿™ä¸ªæµç¨‹ï¼Œæ•…åœ¨æ­¤åšç‚¹è®°å½•æ•´ç†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¥ &lt;a href="https://github.com/astaxie/beego"&gt;beego&lt;/a&gt; ä¸ºä¾‹ï¼Œå°†pull requestçš„æ•´ä½“ä½¿ç”¨æµç¨‹ç»˜å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="fork-pull-request" src="https://i.loli.net/2020/06/14/yFkLXVAHKxmwjq9.jpg"&gt;&lt;/p&gt;
&lt;p&gt;beegoä»£ç åº“æœ‰ä¸¤ä¸ªé•¿æœŸåˆ†æ”¯ &lt;code&gt;master&lt;/code&gt; å’Œ &lt;code&gt;develop&lt;/code&gt;ï¼Œ&lt;code&gt;master&lt;/code&gt;ä¸ºç¨³å®šåˆ†æ”¯ï¼Œ&lt;code&gt;develop&lt;/code&gt;ä¸ºå¼€å‘åˆ†æ”¯ï¼Œæ‰€æœ‰PRéƒ½è¦æ±‚æäº¤åˆ° &lt;code&gt;develop&lt;/code&gt; åˆ†æ”¯ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆå°† &lt;a href="https://github.com/astaxie/beego"&gt;astaxie/beego&lt;/a&gt; ä»£ç åº“ fork ä¸€ä»½åˆ°è‡ªå·±çš„åä¸‹ï¼ˆå¦‚æˆ‘çš„ &lt;a href="https://github.com/youngsterxyf/beego"&gt;youngsterxyf/beego&lt;/a&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æŠŠ &lt;a href="https://github.com/youngsterxyf/beego"&gt;youngsterxyf/beego&lt;/a&gt; clone åˆ°æœ¬åœ°æœºå™¨ä¸Šåšå¼€å‘ã€‚å› ä¸ºPRè¦æåˆ° &lt;a href="https://github.com/astaxie/beego"&gt;astaxie/beego&lt;/a&gt; çš„ develop åˆ†æ”¯ï¼Œæ‰€ä»¥æœ€å¥½å¯¹åº”åœ°åœ¨ä½ forkçš„ä»£ç åº“çš„ develop åˆ†æ”¯åšå¼€å‘ã€‚åœ¨æœ¬åœ°å¼€å‘æµ‹è¯•å®Œæˆåï¼Œå°†commit pushåˆ° &lt;a href="https://github.com/youngsterxyf/beego"&gt;youngsterxyf/beego&lt;/a&gt; ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;a href="https://github.com/youngsterxyf/beego"&gt;youngsterxyf/beego&lt;/a&gt; é¡µé¢ç‚¹å‡» â€œNew pull requestâ€ï¼Œä¼šè·³è½¬åˆ° &lt;a href="https://github.com/astaxie/beego"&gt;astaxie/beego&lt;/a&gt; åˆ›å»ºä¸€ä¸ªæ–°çš„PRï¼Œåœ¨é¡µé¢ä¸­éœ€è¦é€‰æ‹©&lt;code&gt;base fork&lt;/code&gt;çš„ç›®æ ‡åˆ†æ”¯ï¼ˆè¿™é‡Œä¸º &lt;a href="https://github.com/astaxie/beego"&gt;astaxie/beego&lt;/a&gt; çš„ develop åˆ†æ”¯ï¼‰å’Œ&lt;code&gt;head fork&lt;/code&gt;çš„ç›®æ ‡åˆ†æ”¯ï¼ˆè¿™é‡Œä¸º &lt;a href="https://github.com/youngsterxyf/beego"&gt;youngsterxyf/beego&lt;/a&gt; çš„ develop åˆ†æ”¯ï¼‰ã€‚PRæäº¤åï¼Œç­‰å¾… &lt;a href="https://github.com/astaxie/beego"&gt;astaxie/beego&lt;/a&gt; ä»£ç åº“çš„åä½œè€…æ¥reviewæˆ‘çš„PRã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå…¶ä»–äººä¹Ÿç»™ &lt;a href="https://github.com/astaxie/beego"&gt;astaxie/beego&lt;/a&gt; æäº†PRï¼ˆæˆ–è€…ç›´æ¥åœ¨ develop ä¸Šåšäº†å˜æ›´ï¼‰ï¼Œæˆ‘ä¼šæŠŠ &lt;a href="https://github.com/youngsterxyf/beego"&gt;youngsterxyf/beego&lt;/a&gt; çš„ develop åˆ†æ”¯åŒæ­¥åˆ°æœ€æ–°çŠ¶æ€ï¼Œä¾¿äºæˆ‘è¿›è¡Œæ–°çš„å¼€å‘ï¼ŒåŒæ­¥çš„æµç¨‹ä¸ºï¼š&lt;ol&gt;
&lt;li&gt;åœ¨æœ¬åœ°ä»£ç åº“æ·»åŠ ä¸€ä¸ªæ–°çš„remoteï¼Œåä¸º &lt;code&gt;beego&lt;/code&gt; ï¼š &lt;code&gt;git remote add beego https://github.com/astaxie/beego.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code&gt;develop&lt;/code&gt; åˆ†æ”¯ä¸Šæ‰§è¡Œ &lt;code&gt;git pull beego develop&lt;/code&gt;ï¼Œè¿™ä¼šè·å– &lt;a href="https://github.com/astaxie/beego"&gt;astaxie/beego&lt;/a&gt; develop åˆ†æ”¯æœ€æ–°çš„çŠ¶æ€ï¼Œå¹¶ merge åˆ°æœ¬åœ°ä»£ç åº“çš„ develop åˆ†æ”¯&lt;/li&gt;
&lt;li&gt;å°†æœ¬åœ°ä»£ç åº“çš„ develop åˆ†æ”¯ push åˆ° &lt;a href="https://github.com/youngsterxyf/beego"&gt;youngsterxyf/beego&lt;/a&gt; ï¼š&lt;code&gt;git push origin develop&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨å‘å¸ƒæ–°çš„ç‰ˆæœ¬æ—¶, &lt;a href="https://github.com/astaxie/beego"&gt;astaxie/beego&lt;/a&gt; çš„ &lt;code&gt;develop&lt;/code&gt; åˆ†æ”¯ä¼šå…ˆ merge åˆ°å…¶ master åˆ†æ”¯ï¼Œç„¶åæ‰“ä¸Šæ–°çš„ tag ã€‚è¿™æ—¶æˆ‘ä¹Ÿä¼šæŠŠ &lt;a href="https://github.com/youngsterxyf/beego"&gt;youngsterxyf/beego&lt;/a&gt; çš„ master åˆ†æ”¯åŒæ­¥åˆ°æœ€æ–°çŠ¶æ€ï¼Œæµç¨‹ä¸ develop åˆ†æ”¯ç›¸åŒã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;åœ¨ç¬¬3æ­¥ä¸­ï¼Œå¦‚æœå‘ç°&lt;code&gt;base fork&lt;/code&gt;çš„ç›®æ ‡åˆ†æ”¯å’Œ&lt;code&gt;head fork&lt;/code&gt;çš„ç›®æ ‡åˆ†æ”¯ä¹‹é—´æœ‰ä»£ç å†²çªï¼Œåˆ™éœ€è¦å…ˆåœ¨æœ¬åœ°ä»£ç åº“å¯¹åº”çš„åˆ†æ”¯ä¸Šè§£å†³è¿™ä¸ªå†²çªï¼Œç„¶å push åˆ° &lt;a href="https://github.com/youngsterxyf/beego"&gt;youngsterxyf/beego&lt;/a&gt; ï¼Œå†æPRã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="github"></category><category term="ç¬”è®°"></category><category term="git"></category><category term="å¼€æº"></category></entry><entry><title>å…³äºRedisä¸Memcachedçš„ä¸€ç‚¹æ¾„æ¸…ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2015/12/01/redis-vs-memcached/" rel="alternate"></link><published>2015-12-01T00:00:00+08:00</published><updated>2015-12-01T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-12-01:/2015/12/01/redis-vs-memcached/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://antirez.com/news/94"&gt;Clarifications about Redis and Memcached&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è¯‘æ³¨ï¼šæœ¬æ–‡ä¸ºRedisçš„ä½œè€…æ‰€å†™&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ äº†è§£æˆ‘ï¼Œå°±ä¼šçŸ¥é“æˆ‘å¹¶ä¸æ˜¯é‚£ç§è®¤ä¸ºç«å“æ˜¯ä¸€ä»¶åäº‹çš„äººã€‚å®é™…ä¸Šæˆ‘å–œæ¬¢ç”¨ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://antirez.com/news/94"&gt;Clarifications about Redis and Memcached&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è¯‘æ³¨ï¼šæœ¬æ–‡ä¸ºRedisçš„ä½œè€…æ‰€å†™&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ äº†è§£æˆ‘ï¼Œå°±ä¼šçŸ¥é“æˆ‘å¹¶ä¸æ˜¯é‚£ç§è®¤ä¸ºç«å“æ˜¯ä¸€ä»¶åäº‹çš„äººã€‚å®é™…ä¸Šæˆ‘å–œæ¬¢ç”¨æˆ·æœ‰é€‰æ‹©çš„ç©ºé—´ï¼Œå› æ­¤æˆ‘å¾ˆå°‘åšå°†Redisä¸å…¶ä»–æŠ€æœ¯åšå¯¹æ¯”è¿™ç±»äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œä¸ºäº†é€‰æ‹©æ­£ç¡®çš„æ–¹æ¡ˆï¼Œç”¨æˆ·å¿…é¡»è·å–æ­£ç¡®çš„çŸ¥è¯†ï¼Œè¿™ä¸€ç‚¹ä¹Ÿæ˜¯ç†æ‰€åº”å½“çš„ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡çš„èµ·å› æ˜¯è¯»äº†Mike Perhamå†™çš„ä¸€ç¯‡åšæ–‡ï¼Œä½ ä¹Ÿè®¸çŸ¥é“ä»–æ˜¯Sidekiqè¿™ä¸€æµè¡Œç¨‹åºåº“çš„ä½œè€…ï¼ŒSidekiqåˆæ°å¥½ä½¿ç”¨Redisåšåç«¯ã€‚å› æ­¤æˆ‘æ¯«ä¸è®¤ä¸ºMikeæ˜¯ä¸€ä¸ªâ€œåå¯¹â€Redisçš„äººã€‚ä½†åœ¨åšæ–‡ï¼ˆä½ å¯ä»¥åœ¨ &lt;a href="http://www.mikeperham.com/2015/09/24/storing-data-with-redis/"&gt;http://www.mikeperham.com/2015/09/24/storing-data-with-redis/&lt;/a&gt; æ‰¾åˆ°è¿™ç¯‡åšæ–‡ï¼‰ä¸­ï¼Œä»–é™ˆè¿°åˆ°ï¼šè¦ç”¨ç¼“å­˜ï¼Œâ€œä½ å¯èƒ½åº”è¯¥é€‰æ‹©Memcachedï¼ˆè€Œä¸æ˜¯Redisï¼‰â€ã€‚è¿™æ ·çœ‹æ¥ï¼ŒMikeç¡®å®ç®€å•åœ°ç›¸ä¿¡Redisä¸é€‚åˆç”¨åšç¼“å­˜ï¼Œåœ¨æ–‡ç« ä¸­ä»–æ˜¯è¿™æ ·è®ºè¿°çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1) Memcachedä¸“ä¸ºç¼“å­˜è€Œè®¾è®¡&lt;/li&gt;
&lt;li&gt;2) å®ƒæ ¹æœ¬ä¸ä¼šæœ‰ç£ç›˜I/Oæ“ä½œ&lt;/li&gt;
&lt;li&gt;3) å®ƒæ˜¯å¤šçº¿ç¨‹çš„ï¼Œåœ¨å¤šæ ¸ä¸Šèƒ½çº¿æ€§æ‰©å±•åˆ°æ¯ç§’å¤„ç†100,000ä¸ªè¯·æ±‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä¼šä¸€ä¸€è¾©é©³ä»¥ä¸Šé™ˆè¿°ï¼Œä¹‹åä¼šæä¾›è¿›ä¸€æ­¥çš„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯åœ¨ä¸Šé¢çš„å¥å­ä¸­å¹¶æ²¡æœ‰å¾—åˆ°è¡¨è¾¾ï¼Œä½†åœ¨æˆ‘çœ‹æ¥ä¸ç¼“å­˜ç”¨æˆ·åŠç”¨ä¾‹æ›´åŠ ç›¸å…³ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Memcachedä¸“ä¸ºç¼“å­˜è€Œè®¾è®¡&lt;/strong&gt;ï¼šæˆ‘ä¼šè·³è¿‡è¿™ä¸ªï¼Œå› ä¸ºè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªè®ºç‚¹ã€‚æˆ‘åŒæ ·å¯ä»¥è¯´â€œRedisä¸“ä¸ºç¼“å­˜è€Œè®¾è®¡â€ã€‚å› æ­¤ï¼Œå°±è¿™ä¸€ç‚¹è€Œè¨€ï¼Œå®ƒä»¬æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹ä¸‹ä¸€ä¸ªè®ºç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®ƒæ ¹æœ¬ä¸ä¼šæœ‰ç£ç›˜I/Oæ“ä½œ&lt;/strong&gt;ï¼šä½¿ç”¨Redisæ—¶ï¼Œä½ å¯ä»¥æŒ‰éœ€æ±‚ç¦ç”¨ç£ç›˜I/Oï¼Œæ‰€æœ‰æ“ä½œå°±æ˜¯çº¯å†…å­˜çš„äº†ã€‚æ­¤å¤–ï¼Œè‹¥ä½ ç¡®å®éœ€è¦ï¼Œå¯ä»¥åªåœ¨é‡å¯Redisä¹‹æ—¶æŒä¹…åŒ–æ•°æ®åº“ï¼Œä¾‹å¦‚ï¼šä½¿ç”¨â€œSHUTDOWN SAVEâ€å‘½ä»¤ã€‚å†æ€ä¹ˆè¯´ï¼Œå³ä½¿ä½ æ ¹æœ¬ä¸ä½¿ç”¨RedisæŒä¹…åŒ–åŠŸèƒ½ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªé™„åŠ å€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®ƒæ˜¯å¤šçº¿ç¨‹çš„&lt;/strong&gt;ï¼šç¡®å®å¦‚æ­¤ã€‚æˆ‘çš„ç›®æ ‡æ˜¯æŠŠRedisçš„I/Oçº¿ç¨‹åŒ–ï¼ˆåƒMemcachedé‚£æ ·ï¼Œä»æ ¹æœ¬ä¸Šè¯´æ•°æ®è®¿é—®æœ¬èº«ä¸æ˜¯çº¿ç¨‹åŒ–çš„ï¼‰ã€‚ç„¶è€Œï¼ŒRedisï¼Œç‰¹åˆ«æ˜¯ä½¿ç”¨æµæ°´çº¿ï¼ˆpipelingï¼‰æ¨¡å¼åï¼Œæ¯ä¸ªçº¿ç¨‹æ¯ç§’èƒ½å¤„ç†è¶…å¤§é‡çš„è¯·æ±‚ï¼ˆä½¿ç”¨å¯†é›†çš„æµæ°´çº¿ï¼Œé€šå¸¸èƒ½è¾¾åˆ°æ¯ç§’50ä¸‡å·¦å³ï¼›ä¸ä½¿ç”¨æµæ°´çº¿ï¼Œä¹Ÿèƒ½è¾¾åˆ°æ¯ç§’10ä¸‡å·¦å³ï¼‰ã€‚åœ¨æ™®é€šçš„ç¼“å­˜åœºæ™¯ä¸­ - æ¯ä¸ªRediså®ä¾‹æ˜¯ä¸€æ ·çš„ã€è§’è‰²ä¸ºä¸»ã€ç¦ç”¨ç£ç›˜æ“ä½œã€åˆ†åŒºç”±å®¢æˆ·ç«¯å†³å®šï¼ˆåƒâ€œMemcachedåˆ†åŒºæ¨¡å‹â€é‚£æ ·ï¼‰ - æ¯ä¸ªç³»ç»Ÿä¸Šè¿è¡Œå¤šä¸ªRedisè¿›ç¨‹å¹¶ä¸å¯æ€•ã€‚ä¸€æ—¦ä½ è¿™æ ·åšï¼Œå¾—åˆ°çš„å°±æ˜¯ä¸€å¥—æ— å…±äº«å¤šçº¿ç¨‹çš„è®¾ç½®ï¼Œé‚£ä¹ˆå…³é”®çœ‹çš„æ˜¯å•ä¸ªçº¿ç¨‹èƒ½å¤Ÿå¤„ç†çš„æ“ä½œé‡äº†ã€‚ä¸Šä¸€æ¬¡æˆ‘æ£€éªŒRedisæ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹è‡³å°‘æ˜¯å’ŒMemachedä¸€æ ·å¿«çš„ã€‚å†…éƒ¨å®ç°éšç€æ—¶é—´åœ¨æ”¹å˜ï¼Œå› æ­¤å¦‚ä»Šæœ€æ–°ç‰ˆå¯èƒ½æœ‰æ‰€å‡ºå…¥ï¼Œä½†æˆ‘æ•¢æ‰“èµŒä¸¤è€…çš„æ€§èƒ½æ˜¯ç›¸è¿‘çš„ï¼Œå› ä¸ºå®ƒä»¬éƒ½ç«­å°½æ‰€èƒ½åˆ©ç”¨äº†èƒ½å¤Ÿä½¿ç”¨çš„èµ„æºã€‚Memcachedçš„å¤šçº¿ç¨‹ä»ç„¶æ˜¯ä¸ªä¼˜åŠ¿ï¼Œå› ä¸ºå®ƒè®©ä¸€åˆ‡æ›´æ˜“äºä½¿ç”¨å’Œç®¡ç†ï¼Œä½†æˆ‘è®¤ä¸ºè¿™ä¸æ˜¯å…³é”®æ€§çš„éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;å†è¯´ä¸€ç‚¹ã€‚Mikeåœ¨è°ˆåŠæ¯ç§’æ‰§è¡Œçš„æ“ä½œæ—¶ï¼Œå¹¶æœªè¯´æ˜æ“ä½œçš„ *è´¨é‡*ã€‚åœ¨Redisä¸Memachedè¿™ç±»ç³»ç»Ÿä¸­ï¼Œç›¸æ¯”çœŸæ­£åœ°è·å–å†…å­˜æ•°æ®ç»“æ„ä¸­çš„æ•°æ®ï¼Œå‘½ä»¤åˆ†å‘å’ŒI/Oçš„ä»£ä»·æ˜¯ä¸»è¦çš„ã€‚å› æ­¤æœ¬è´¨ä¸Šåœ¨Redisä¸­æ‰§è¡Œä¸€ä¸ªç®€å•çš„GETã€SETæˆ–ä¸€ä¸ªå¤æ‚æ“ä½œå¦‚ZRANKæ“ä½œï¼Œå…¶ä»£ä»·åŸºæœ¬æ˜¯ç›¸åŒçš„ã€‚ä½†æ˜¯ä»åº”ç”¨å±‚çš„è§’åº¦æ¥çœ‹ï¼Œé€šè¿‡å¤æ‚æ“ä½œèƒ½èŠ‚çœå¾ˆå¤šå·¥ä½œã€‚ä¹Ÿè®¸æ— éœ€åˆ†5æ¬¡è·å–ç¼“å­˜æ•°æ®ï¼Œä½ åªè¦å‘é€ä¸€ä¸ªç®€çŸ­çš„Luaè„šæœ¬å°±èƒ½æå®šã€‚å› æ­¤è¿™ä¸¤ä¸ªç³»ç»Ÿå®é™…çš„â€œå¯æ‰©å±•æ€§â€æœ‰è®¸å¤šç»´åº¦ï¼Œä½ èƒ½å¾—åˆ°æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;p&gt;Mikeå…³æ³¨çš„å‡ ç‚¹é—®é¢˜ï¼Œæˆ‘è®¤ä¸ºå”¯ä¸€æœ‰æ ¹æ®çš„æ˜¯å¤šçº¿ç¨‹é‚£ä¸ªï¼Œå¦‚æœæˆ‘ä»¬å°†ç‰¹æ®Šç”¨ä¾‹ä¸‹çš„Redisçœ‹åšæ˜¯Memcachedçš„æ›¿ä»£å“ï¼Œæ‰§è¡Œå¤šä¸ªRedisè¿›ç¨‹ä¹Ÿèƒ½åé©³â€œMemcachedå¤šçº¿ç¨‹æ›´å¥½â€è¿™ä¸ªè§‚ç‚¹ï¼Œæˆ–è€…ç®€å•åœ°æ‰§è¡Œä¸€ä¸ªRedisè¿›ç¨‹ä¹Ÿè¡Œï¼Œå› ä¸ºåšMemcachedé‚£æ ·çš„æ“ä½œè¦æƒ³æ‰“æ»¡ä¸€ä¸ªçº¿ç¨‹æ˜¯éå¸¸éå¸¸éš¾çš„ã€‚&lt;/p&gt;
&lt;h2&gt;çœŸæ­£çš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;ç°åœ¨æ˜¯æ—¶å€™è°ˆè®ºä¸¤ä¸ªç³»ç»Ÿä¹‹é—´çš„çœŸæ­£åŒºåˆ«äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†…å­˜æ•ˆç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸€ç‚¹Memcachedæ›¾æ¯”Redisåšå¾—å¥½ã€‚åœ¨ä¸€ä¸ªè¢«è®¾è®¡ä¸ºç”¨å­—å…¸åŒ–å­—ç¬¦ä¸²å­˜å‚¨æ™®é€šå­—ç¬¦ä¸²çš„ç³»ç»Ÿä¸­ï¼Œæ›´å¥½åœ°åˆ©ç”¨å†…å­˜ç›¸å¯¹ä¼šæ›´ç®€å•ã€‚è¿™ä¸€åŒºåˆ«å¹¶ä¸æ˜¾è‘—ï¼Œè€Œä¸”å¤§çº¦æœ‰5å¹´æˆ‘æ²¡å»æ£€éªŒè¿™ä¸€ç‚¹äº†ï¼Œä½†æ›¾ç»æ˜¯å€¼å¾—æ³¨æ„çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„è¿›ç¨‹çš„å†…å­˜æ•ˆç‡ï¼Œäº‹æƒ…å°±æœ‰äº›ä¸åŒäº†ã€‚å…·ä½“ç»†èŠ‚è¯·è¯»ä¸‹ä¸€èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯åœ¨çœŸæ­£è¯„ä¼°å†…å­˜æ•ˆç‡æ—¶ï¼Œä½ åº”è¯¥è®°å¾—è€ƒè™‘ï¼šRedisä¸­ç‰¹æ®Šç¼–ç çš„å°å‹èšåˆå€¼å†…å­˜æ•ˆç‡éå¸¸é«˜ã€‚ä¾‹å¦‚ï¼šå°æ•´æ•°é›†åˆåœ¨å†…å­˜å­˜å‚¨ä¸ºä¸€ä¸ª8ã€16ã€32æˆ–64ä½æ•´æ•°çš„æ•°ç»„ï¼Œå½“éœ€è¦æ£€æŸ¥æŸäº›æ•´æ•°æ˜¯å¦å­˜åœ¨æ—¶ï¼Œå¯¹æ•°çº§æ—¶é—´å°±èƒ½è®¿é—®åˆ°ï¼Œå› ä¸ºè¿™ä¸ªæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œå› ä¸ºå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½ ä½¿ç”¨å“ˆå¸Œæ¥å­˜å‚¨å¯¹è±¡è€Œä¸æ˜¯å€ŸåŠ©JSONæ—¶ï¼ŒåŒæ ·å¦‚æ­¤ã€‚å› æ­¤ï¼ŒçœŸæ­£çš„å†…å­˜æ•ˆç‡å¿…é¡»åŸºäºæ‰‹å¤´çš„åº”ç”¨æ¡ˆä¾‹æ¥è¯„ä¼°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis LRU vs Slabå†…å­˜åˆ†é…å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»å†…å­˜åˆ©ç”¨çš„è§’åº¦æ¥çœ‹ï¼ŒMemcachedå¹¶ä¸å®Œç¾ã€‚å¦‚æœä½ æ°å¥½æœ‰ä¸ªåº”ç”¨éšç€æ—¶é—´ä¼šæ”¹å˜ç¼“å­˜æ•°æ®çš„å°ºå¯¸å¤§å°ï¼Œå¾ˆå¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„å†…å­˜ç¢ç‰‡é—®é¢˜ï¼Œè€Œå”¯ä¸€çš„è§£å†³æ–¹æ³•å°±æ˜¯é‡å¯åº”ç”¨ã€‚ä»è¿™ä¸€è§†è§’æ¥çœ‹ï¼ŒRediså¯¹å†…å­˜çš„åˆ©ç”¨ä¸ä¼šå˜åŒ–è«æµ‹ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼ŒRedisçš„LRUæœ€è¿‘ä¼˜åŒ–äº†å¾ˆå¤šï¼Œç°åœ¨éå¸¸æ¥è¿‘çœŸæ­£çš„LRUã€‚è¿›ä¸€æ­¥çš„ä¿¡æ¯å¯é˜…è¯»ï¼š&lt;a href="http://redis.io/topics/lru-cache"&gt;http://redis.io/topics/lru-cache&lt;/a&gt;ã€‚å¦‚æœæˆ‘æ²¡ç†è§£é”™çš„è¯ï¼ŒMemcachedçš„LRUä¾æ—§æ˜¯æ ¹æ®å®ƒçš„slabåˆ†é…å™¨æ¥åˆ¤æ–­æ•°æ®è¿‡æœŸçš„ï¼Œå› æ­¤æœ‰æ—¶å…¶è¡Œä¸ºä¸çœŸæ­£çš„LRUç›¸å·®ç”šè¿œï¼Œä½†æˆ‘å¸Œæœ›è¿™æ–¹é¢çš„ä¸“å®¶èƒ½å¤Ÿé’ˆå¯¹è¿™ä¸ªé—®é¢˜è¯´ç‚¹ä»€ä¹ˆã€‚å¦‚æœä½ æƒ³æµ‹è¯•Redisçš„LRUï¼Œåœ¨æœ€è¿‘å‡ ä¸ªç‰ˆæœ¬çš„Redisä¸­å¯ä»¥ä½¿ç”¨redis-cliçš„LRUæµ‹è¯•æ¨¡å¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ™ºèƒ½ç¼“å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä½ æƒ³æŠŠRedisç”¨ä½œç¼“å­˜ï¼Œå¹¶ä¸”åƒMemcachedé‚£æ ·ä½¿ç”¨ï¼Œé‚£ä½ å°±çœŸçš„è¦é”™å¤±ä¸€äº›ä¸œè¥¿äº†ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™æ˜¯Mikeé‚£ç¯‡åšæ–‡ä¸­çš„æœ€å¤§é”™è¯¯ã€‚è¶Šæ¥è¶Šå¤šçš„äººä»Memcachedåˆ‡æ¢åˆ°Redisï¼Œæ˜¯å› ä¸ºä»–ä»¬å‘ç°å¯ä»¥ä»¥æ›´æœ‰ç”¨çš„æ–¹å¼æ¥è¡¨ç°ç¼“å­˜æ•°æ®ã€‚å¦‚ä½•ä¿æŒåªç¼“å­˜æŸä¸ªä¸œè¥¿çš„æœ€æ–°Né¡¹æ•°æ®ï¼Ÿä½¿ç”¨â€œè„±å¸½â€åˆ—è¡¨ï¼ˆåŸæ–‡ä¸ºï¼šcapped listï¼‰ã€‚æƒ³è·å–ä¸€ä¸ªç¼“å­˜çš„æµè¡ŒæŒ‡æ•°ï¼Ÿä½¿ç”¨ä¸€ä¸ªæœ‰åºé›†åˆï¼Œç­‰ç­‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒä¹…åŒ–å’Œå¤åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è‹¥ä½ éœ€è¦ï¼Œé‚£å®ƒä»¬å°±æ˜¯é‡è¦çš„ä¼˜åŠ¿ã€‚ä¾‹å¦‚ï¼šä½¿ç”¨è¿™ä¸€æ¨¡å‹æ‰©å±•é«˜è´Ÿè½½çš„ç¼“å­˜è¯»æ“ä½œå°±éå¸¸ç®€å•ï¼›åŸºäºæŒä¹…åŒ– - æŒ‰æœŸå¿«ç…§ç¼“å­˜æ•°æ® - é‡å¯æœåŠ¡è€Œä¸ä¸¢ç¼“å­˜æ•°æ®ä¹Ÿå¾ˆç®€å•ï¼›è¯¸å¦‚æ­¤ç±»ç­‰ç­‰ã€‚ä½†æ˜¯å¯¹æœ‰äº›ç”¨æ³•æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªç‰¹æ€§ç¡®å®æ— å…³ç´§è¦ã€‚è¿™é‡Œæˆ‘æƒ³è¡¨è¾¾çš„æ˜¯å­˜åœ¨ä¸€äº›â€œçº¯ç¼“å­˜â€çš„åº”ç”¨æ¡ˆä¾‹ï¼Œå…¶ä¸­æŒä¹…åŒ–å’Œå¤åˆ¶ä¹Ÿå¾ˆé‡è¦ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯è§‚æµ‹æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Redisæä¾›äº†å¾ˆå¤šæ–¹å¼ä»¥ä¾¿äºè§‚æµ‹Redisè¿è¡Œæ—¶çš„è¡Œä¸ºçŠ¶æ€ã€‚å®ƒæä¾›å¤§é‡å†…éƒ¨åº¦é‡çš„è¯¦ç»†æŠ¥å‘Šï¼Œä½ å¯ä»¥æ‰«ææ•°æ®é›†ï¼Œè§‚å¯Ÿå¯¹è±¡çš„æœ‰æ•ˆæœŸã€‚å¯ä»¥è°ƒä¼˜LRUç®—æ³•ã€‚å¯ä»¥ä¸ºå®¢æˆ·ç«¯è¿æ¥å‘½åå¹¶ä½¿ç”¨&lt;code&gt;CLIENT LIST&lt;/code&gt;æ¥æŸ¥çœ‹å…³äºå®ƒä»¬çš„æŠ¥å‘Šã€‚å¯ä»¥ä½¿ç”¨&lt;code&gt;MONITOR&lt;/code&gt;å‘½ä»¤æ¥è°ƒè¯•ä½ çš„åº”ç”¨ï¼Œä»¥åŠå…¶ä»–é«˜çº§äº‹é¡¹ã€‚æˆ‘ç›¸ä¿¡è¿™æ˜¯ä¸€å¤§ä¼˜åŠ¿ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Luaè„šæœ¬ç¼–ç¨‹èƒ½åŠ›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ç›¸ä¿¡åœ¨å¾ˆå¤šç¼“å­˜åº”ç”¨æ¡ˆä¾‹ä¸­ï¼ŒLuaè„šæœ¬ç¼–ç¨‹èƒ½åŠ›éƒ½æ˜¯ä¸€å¤§åŠ©åŠ›ã€‚ä¾‹å¦‚ï¼šå¦‚æœä½ æœ‰ä¸€ä¸ªJSONç¼“å­˜æ•°æ®å—ï¼Œä½¿ç”¨ä¸€ä¸ªLuaå‘½ä»¤å¯ä»¥æŠ½å–å…¶ä¸­æŸä¸ªå­—æ®µå¹¶å°†å…¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè€Œä¸éœ€è¦ä¼ è¾“æ‰€æœ‰ä¸œè¥¿ï¼ˆä»æ¦‚å¿µä¸Šæ¥è¯´ï¼Œç›´æ¥ä½¿ç”¨Rediså“ˆå¸Œæ¥è¡¨ç°å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥åšåˆ°ï¼‰ã€‚&lt;/p&gt;
&lt;h2&gt;ç»“è®º&lt;/h2&gt;
&lt;p&gt;Memcachedæ˜¯ä¸€ä¸ªä¼Ÿå¤§çš„è½¯ä»¶ï¼Œæˆ‘å¤šæ¬¡é˜…è¯»å…¶æºç ï¼Œå¯¹äºæˆ‘ä»¬äº§ä¸šæ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªé©å‘½ï¼Œä½ åº”è¯¥è‡ªå·±æŸ¥æ˜å¯¹ä½ æ¥è¯´ï¼Œç›¸æ¯”Redisï¼ŒMemcachedæ˜¯å¦æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ç„¶è€Œï¼Œä¸€åˆ‡äº‹ç‰©éƒ½å¿…é¡»å¦‚å®è¯„ä¼°ã€‚è¯»åˆ°Mikeçš„æŠ¥å‘Šæˆ–è¿™äº›å¹´æ¥è¯»åˆ°çš„ç±»ä¼¼æŠ¥å‘Šéƒ½è®©æˆ‘æœ‰äº›æ¼æ€’äº†ï¼Œæ‰€ä»¥æˆ‘å†³å®šäº®ä¸€äº®è‡ªå·±çš„è§‚ç‚¹ã€‚å¦‚æœä½ å‘ç°æœ‰äº›äº‹æƒ…äº‹å®ä¸Šæˆ‘è¯´å¾—ä¸å¯¹ï¼Œè¯·è”ç³»æˆ‘ï¼Œæˆ‘ä¼šä»¥â€œæ ¡è®¢â€ä¸€èŠ‚æ¥æ›´æ–°è¿™ç¯‡åšæ–‡ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="Redis"></category><category term="Memcached"></category></entry><entry><title>é’äº‘ iframe åº”ç”¨å¼€å‘</title><link href="http://youngsterxyf.github.io/2015/11/20/qingcloud-iframe-app/" rel="alternate"></link><published>2015-11-20T00:00:00+08:00</published><updated>2015-11-20T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-11-20:/2015/11/20/qingcloud-iframe-app/</id><summary type="html">&lt;p&gt;ä¸Šå‘¨çš„ä¸»è¦å·¥ä½œæ˜¯å°†äº§å“çš„åŠŸèƒ½é›†æˆåˆ°é’äº‘ã€‚é’äº‘æä¾› iframe çš„æ–¹å¼æ¥é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œè¿™æ˜¯ä¸€ç§äº’åˆ©çš„åšæ³•ï¼Œè€Œä¸”å¯¹äºé’äº‘ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä¸Šå‘¨çš„ä¸»è¦å·¥ä½œæ˜¯å°†äº§å“çš„åŠŸèƒ½é›†æˆåˆ°é’äº‘ã€‚é’äº‘æä¾› iframe çš„æ–¹å¼æ¥é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œè¿™æ˜¯ä¸€ç§äº’åˆ©çš„åšæ³•ï¼Œè€Œä¸”å¯¹äºé’äº‘æ¥è¯´ï¼Œå®ç°çš„ä»£ä»·ä¹Ÿéå¸¸å°ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆä¸Šå›¾ï¼Œçœ‹çœ‹é›†æˆçš„æ•ˆæœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="ygc-in-qingcloud" src="https://i.loli.net/2020/06/14/qA1UVlSXrx2iJHo.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¯¹äºé’äº‘æ¥è¯´ï¼Œä¸€ä¸ªiframeåº”ç”¨å°±æ˜¯ä¸€ä¸ªURLï¼Œç”±åº”ç”¨å¼€å‘è€…æä¾›è¿™ä¸ªURLï¼Œå½“é’äº‘ç”¨æˆ·è®¿é—®åº”ç”¨æ‰€åœ¨çš„é¡µé¢æ—¶ï¼Œé¡µé¢å…ˆè‡ªåŠ¨å‘åº”ç”¨æœåŠ¡å™¨çš„URLå‘é€æ•°æ®è¯·æ±‚ï¼Œè¯·æ±‚ä¼šæºå¸¦è®¤è¯ä¿¡æ¯ï¼Œåº”ç”¨æœåŠ¡ç«¯éœ€è¦å…ˆæ ¡éªŒè¯·æ±‚ç¡®å®æ¥è‡ªé’äº‘ï¼Œå¹¶è·å–è¯·æ±‚ä¸­çš„ç”¨æˆ·ä¿¡æ¯ï¼Œæœ€ç»ˆå“åº”ä¸€ä¸ªHTMLé¡µé¢å†…å®¹ï¼Œé’äº‘åº”ç”¨é¡µé¢æ”¶åˆ°å“åº”æ•°æ®åå°†å…¶ç½®äºä¸€ä¸ªiframeæ ‡ç­¾ä¸­ï¼Œä¹‹åé’äº‘ç”¨æˆ·åœ¨iframeé¡µé¢ä¸­çš„æ“ä½œéƒ½æ˜¯ç›´æ¥ä¸åº”ç”¨æœåŠ¡å™¨äº¤äº’ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="qingcloud-iframe-interaction" src="https://i.loli.net/2020/06/14/r4AVfQZnlw3YH1C.png"&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾äº¤äº’æµç¨‹çš„ç¬¬&lt;strong&gt;2&lt;/strong&gt;æ­¥ä¸­ï¼Œé’äº‘æœåŠ¡å™¨å‘ç”¨æˆ·å“åº”çš„å†…å®¹æœ€ç»ˆä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„é¡µé¢ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;form method=&lt;span style="color: #a31515"&gt;&amp;quot;POST&amp;quot;&lt;/span&gt; action=&lt;span style="color: #a31515"&gt;&amp;quot;URL&amp;quot;&lt;/span&gt; target=&lt;span style="color: #a31515"&gt;&amp;quot;appframe&amp;quot;&lt;/span&gt;&amp;gt;
    &amp;lt;input type=&lt;span style="color: #a31515"&gt;&amp;quot;hidden&amp;quot;&lt;/span&gt; name=&lt;span style="color: #a31515"&gt;&amp;quot;payload&amp;quot;&lt;/span&gt; value=&lt;span style="color: #a31515"&gt;&amp;quot;...&amp;quot;&lt;/span&gt;&amp;gt;
    &amp;lt;input type=&lt;span style="color: #a31515"&gt;&amp;quot;hidden&amp;quot;&lt;/span&gt; name=&lt;span style="color: #a31515"&gt;&amp;quot;signature&amp;quot;&lt;/span&gt; value=&lt;span style="color: #a31515"&gt;&amp;quot;...&amp;quot;&lt;/span&gt;&amp;gt;
&amp;lt;/form&amp;gt;
&amp;lt;iframe id=&lt;span style="color: #a31515"&gt;&amp;quot;...&amp;quot;&lt;/span&gt; name=&lt;span style="color: #a31515"&gt;&amp;quot;appframe&amp;quot;&lt;/span&gt; width=&lt;span style="color: #a31515"&gt;&amp;quot;100%&amp;quot;&lt;/span&gt; height=&lt;span style="color: #a31515"&gt;&amp;quot;100%&amp;quot;&lt;/span&gt; frameborder=&lt;span style="color: #a31515"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&amp;gt;
&amp;lt;/iframe&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­&lt;code&gt;form&lt;/code&gt;çš„&lt;code&gt;target&lt;/code&gt;å±æ€§æŒ‡å®šåœ¨ä½•å¤„æ‰“å¼€&lt;code&gt;action&lt;/code&gt;å±æ€§å€¼URLã€‚&lt;code&gt;form&lt;/code&gt;è¡¨å•ä¼šè¢«è‡ªåŠ¨æäº¤åˆ°åº”ç”¨æœåŠ¡å™¨çš„URLï¼Œåº”ç”¨æœåŠ¡å™¨å“åº”çš„é¡µé¢å†…å®¹ä¼šè¢«ç½®äº&lt;code&gt;target&lt;/code&gt;å±æ€§æ‰€æŒ‡å®šçš„iframeä¸­å±•ç¤ºç»™ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šè¿™é‡Œformçš„targetå±æ€§å€¼ä¸iframeçš„nameå±æ€§å€¼åº”ä¸€è‡´ï¼›&lt;code&gt;action&lt;/code&gt;å±æ€§å€¼å³åº”ç”¨å¼€å‘è€…æäº¤ç»™é’äº‘çš„URLã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;form&lt;/code&gt;è¡¨å•åŒ…å«ä¸¤ä¸ªæ•°æ®é¡¹ï¼š&lt;code&gt;payload&lt;/code&gt; å’Œ &lt;code&gt;signature&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;payload&lt;/code&gt; æ˜¯ä¸€ä¸ªJSONå­—ç¬¦ä¸²ç»è¿‡base64 URLç¼–ç åçš„ç»“æœï¼ŒJSONå­—ç¬¦ä¸²åŒ…å«user_idã€access_tokenã€actionç­‰å­—æ®µï¼Œå…¶ä¸­&lt;code&gt;user_id&lt;/code&gt;æ˜¯ç”¨æˆ·åœ¨é’äº‘çš„å”¯ä¸€æ€§IDï¼Œè€Œ &lt;code&gt;access_token&lt;/code&gt; åˆ™æ˜¯è°ƒç”¨é’äº‘APIè·å–ç”¨æˆ·ç›¸å…³è¯¦ç»†ä¿¡æ¯æ—¶éœ€è¦çš„æˆæƒç ï¼Œå› ä¸º&lt;code&gt;payload&lt;/code&gt;å¹¶æ²¡æœ‰åŒ…å«ç”¨æˆ·ç›¸å…³çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ‰€ä»¥åº”ç”¨æœåŠ¡å™¨åœ¨å¤„ç†URLè¯·æ±‚æ—¶ï¼Œå¦‚æœéœ€è¦ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œåˆ™éœ€è¦ç»ç¬¬&lt;strong&gt;4&lt;/strong&gt;æ­¥æ¥è·å–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;signature&lt;/code&gt; æ˜¯ç”±base64 URLç¼–ç åçš„payloadæŒ‰HmacSHA256ç­¾åï¼Œå¹¶base64 URLç¼–ç å¾—åˆ°ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä¸ºäº†å¢å¼ºæ•´ä¸ªäº¤äº’è¿‡ç¨‹ä¸­çš„æ•°æ®å®‰å…¨æ€§ï¼Œé’äº‘æœ¬èº«ä½¿ç”¨HTTPSåè®®ï¼Œå¹¶ä¸”è¦æ±‚åº”ç”¨çš„URLä¹Ÿå¿…é¡»ä½¿ç”¨HTTPSåè®®ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œä¸ºäº†é˜²æ­¢è¯·æ±‚ä¼ªé€ ï¼Œformè¡¨å•åŒ…å«ä¸€ä¸ªç­¾åæ•°æ®é¡¹&lt;code&gt;signature&lt;/code&gt;ï¼Œåº”ç”¨æœåŠ¡å™¨åœ¨å¤„ç†URLè¯·æ±‚æ—¶åº”å…ˆæ ¡éªŒç­¾åï¼Œç¡®è®¤è¯·æ±‚æ¥è‡ªé’äº‘é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;formè¡¨å•ä½¿ç”¨çš„ç¼–ç ç®—æ³•å’Œç­¾åç”Ÿæˆç®—æ³•ï¼Œè§&lt;a href="https://docs.qingcloud.com/app/common/tutorial.html"&gt;é’äº‘æ–‡æ¡£&lt;/a&gt;ï¼Œå…¶PHPã€Pythonå®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;// base64 URLç¼–ç 
function base64_URL_encode($data) {
  return rtrim(strtr(base64_encode($data), &amp;#39;+/&amp;#39;, &amp;#39;-_&amp;#39;), &amp;#39;=&amp;#39;);
}

// HmacSHA256ç­¾å
hash_hmac(&amp;#39;sha256&amp;#39;, $payload, $secret_app_key, true)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Python&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# base64 URLç¼–ç &lt;/span&gt;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; base64

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; base64_URL_encode(data):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; base64.urlsafe_b64encode(str(data)).rstrip(&lt;span style="color: #a31515"&gt;&amp;#39;=&amp;#39;&lt;/span&gt;)

&lt;span style="color: #008000"&gt;# HmacSHA256ç­¾å&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; hmac
&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; hashlib &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; sha256

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; hmac_sha256(data, secret_app_key):
    hmac_256 = hmac.new(secret_app_key, digestmod=sha256)
    hmac_256.update(data)
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; hmac_256.digest()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­HmacSHA256ç­¾åç®—æ³•éœ€è¦å‚æ•° &lt;code&gt;secret_app_key&lt;/code&gt; ï¼Œè¿™ä¸ªå‚æ•°å€¼åº”ä¸ºé’äº‘ä¸ºä½ çš„iframeåº”ç”¨åˆ†é…çš„å¯†é’¥&lt;code&gt;secret_app_key&lt;/code&gt;ï¼ŒåŒæ—¶ï¼Œé’äº‘ä¼šä¸ºæ¯ä¸ªiframeåº”ç”¨åˆ†é…ä¸€ä¸ªå”¯ä¸€æ€§IDã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ çš„åº”ç”¨éœ€è¦ç»ç¬¬&lt;strong&gt;4&lt;/strong&gt;æ­¥è·å–ç”¨æˆ·ç›¸å…³è¯¦ç»†ä¿¡æ¯ï¼Œåˆ™è¿˜éœ€ä»é’äº‘åå°è·å–APIå¯†é’¥ï¼ˆåŒ…å«&lt;code&gt;qy_access_key_id&lt;/code&gt; å’Œ &lt;code&gt;qy_secret_access_key&lt;/code&gt; ä¸¤é¡¹ï¼‰ï¼ŒAPIè¯·æ±‚æ•°æ®ä¹Ÿä½¿ç”¨äº†ç­¾åç®—æ³•ï¼Œå¹¶ä¸”ç®—æ³•ä¸ä¸Šè¿°formè¡¨å•æ•°æ®æ‰€ä½¿ç”¨çš„ç­¾åç®—æ³•ç›¸åŒï¼Œé’äº‘å®˜æ–¹æ–‡æ¡£å¯¹äºè¿™ä¸€ç‚¹è²Œä¼¼å™è¿°æœ‰è¯¯ã€‚è¯¦ç»†ä¿¡æ¯è§ &lt;a href="https://docs.qingcloud.com/app/common/tutorial.html#api"&gt;é’äº‘æ–‡æ¡£&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;åœ¨å¼€å‘é’äº‘ iframe åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·å¯èƒ½ä¼šåœ¨æµè§ˆå™¨ä¸­åªåˆ·æ–°iframeå†…å®¹ï¼Œæ¯”å¦‚chromeæµè§ˆå™¨ä¸­ï¼Œåœ¨iframeå†…å®¹åŒºåŸŸå³å‡»é¼ æ ‡é€‰æ‹©â€œé‡æ–°åŠ è½½æ¡†æ¶â€ã€‚ä¹‹å‰è¯´è¿‡ç”¨æˆ·åœ¨iframeä¸­çš„æ“ä½œéƒ½æ˜¯ç›´æ¥ä¸åº”ç”¨æœåŠ¡å™¨äº¤äº’çš„ï¼Œåˆ·æ–°iframeå…¶å®æ˜¯ç›´æ¥å‘iframeåº”ç”¨URLå‘é€HTTPè¯·æ±‚ï¼Œè€Œä¸æ˜¯æäº¤formè¡¨å•åˆ°åº”ç”¨URLï¼Œæ‰€ä»¥è¯·æ±‚ä¸­æ²¡æœ‰æºå¸¦æ ¡éªŒä¿¡æ¯ï¼Œæ— æ³•åˆ¤æ–­è¯·æ±‚æ˜¯å¦æ¥è‡ªé’äº‘ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºæˆ‘ä»¬çš„åº”ç”¨æœåŠ¡å™¨æœ‰å¤šå°ï¼Œå¹¶ä¸”æœªä½¿ç”¨é›†ä¸­å¼sessionç®¡ç†ï¼Œé‚£ä¹ˆå¦‚æœä½¿ç”¨ä¼ ç»Ÿçš„sessionä¸­è®°å½•ç”¨æˆ·IDçš„æ–¹å¼ï¼Œå½“é¦–æ¬¡iframeè¯·æ±‚ä¹‹åçš„è¯·æ±‚ç”±ä¸åŒçš„æœåŠ¡å™¨æ¥å¤„ç†ï¼Œå°±æ— æ³•è¯†åˆ«å‡ºç”¨æˆ·ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªé—®é¢˜æˆ‘ä»¬éƒ½ä½¿ç”¨äº†cookieæ¥è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç¬¬1ä¸ªé—®é¢˜ï¼Œåœ¨å¤„ç†formè¡¨å•è¯·æ±‚å“åº”ç»“æœä¹‹å‰ï¼Œå°†è¡¨å•çš„payloadå’Œsignatureå†™å…¥cookieï¼Œcookieçš„è·¯å¾„ä¸ºåº”ç”¨çš„ç›¸å¯¹URLï¼Œè¿™æ ·æ¯æ¬¡ç”¨æˆ·åˆ·æ–°iframeï¼Œè¿™ä¸ªcookieä¼šè‡ªåŠ¨è¢«å‘é€åˆ°åº”ç”¨æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç«¯å¤„ç†è¯·æ±‚æ—¶ï¼Œå…ˆæ ¡éªŒæ˜¯å¦å­˜åœ¨åˆæ³•çš„è¡¨å•å­—æ®µpayloadå’Œsignatureï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™æ£€æŸ¥cookieä¸­æ˜¯å¦å­˜åœ¨è¿™ä¸¤ä¸ªå­—æ®µå€¼ï¼Œä»è€Œå®ç°å…¼å®¹ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç¬¬2ä¸ªé—®é¢˜ï¼Œåœ¨formè¡¨å•è¯·æ±‚æˆåŠŸå¤„ç†ï¼Œè¯†åˆ«å‡ºå½“å‰ç”¨æˆ·åï¼Œå°†ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ç»è¿‡å¯¹ç§°åŠ å¯†åå­˜å…¥cookieï¼Œcookieçš„è·¯å¾„ä¸º&lt;code&gt;/&lt;/code&gt;ï¼Œç”¨æˆ·åœ¨iframeä¸­æ“ä½œæ—¶äº§ç”Ÿçš„æ‰€æœ‰AJAXè¯·æ±‚ï¼Œåº”ç”¨æœåŠ¡å™¨å¤„ç†è¯·æ±‚æ—¶éƒ½ä¼šå…ˆè§£å¯†è¯¥cookieå€¼è¯†åˆ«å‡ºå½“å‰ç”¨æˆ·ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­æ¶‰åŠçš„åŠ å¯†æ–¹å’Œè§£å¯†æ–¹éƒ½æ˜¯åº”ç”¨æœåŠ¡å™¨ï¼Œæ‰€ä»¥è™½ç„¶ä½¿ç”¨äº†å¯¹ç§°åŠ å¯†ï¼Œä½†å¹¶ä¸éœ€è¦ç½‘ç»œä¼ è¾“å¯†é’¥ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é’äº‘ç”¨æˆ·åœ¨é¦–æ¬¡ä½¿ç”¨æˆ‘ä»¬äº§å“çš„iframeåº”ç”¨æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºé’äº‘ç”¨æˆ·åˆ›å»ºä¸€ä¸ªç‰¹å®šç±»å‹çš„è´¦å·Xï¼Œç”¨æˆ·åœ¨iframeä¸­æ“ä½œäº§ç”Ÿçš„æ•°æ®éƒ½ä¼šè¢«ç»‘åˆ°è¯¥è´¦å·Xä¸‹ã€‚å¯èƒ½å­˜åœ¨æŸäº›é’äº‘ç”¨æˆ·åŒæ—¶å·²æœ‰æˆ‘ä»¬äº§å“çš„è´¦å·Yï¼Œä¸ºäº†æ–¹ä¾¿è¿™ç§ç”¨æˆ·ï¼Œæˆ‘ä»¬çš„iframeåº”ç”¨å…è®¸ç”¨æˆ·å°†è´¦å·Xç»‘å®šåˆ°è´¦å·Yï¼Œç»‘å®šçš„è¿‡ç¨‹åªéœ€è¦åœ¨iframeåº”ç”¨ä¸­ç™»å½•ä¸€æ¬¡æˆ‘ä»¬äº§å“çš„è´¦å·Yï¼Œè€Œè¿™èƒŒåçš„å®ç°æ˜¯è¯†åˆ«å‡ºXå’ŒYï¼Œå°†Xä¸‹çš„æ•°æ®ç»‘å®šåˆ°Yï¼Œè´¦å·ç»‘å®šä¹‹åï¼Œç”¨æˆ·åœ¨iframeä¸­æ“ä½œäº§ç”Ÿçš„æ•°æ®éƒ½æ˜¯ç»‘å®šåˆ°è´¦å·Yçš„ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è½¯ä»¶åº”ç”¨è‚¯å®šéœ€è¦ç»è¿‡æµ‹è¯•æ‰èƒ½å‘å¸ƒä¸Šçº¿ï¼ˆæ€»ä¸èƒ½è®©ç”¨æˆ·å¸®ä½ æµ‹è¯•å§ï¼Œå“ˆå“ˆï¼‰ï¼Œé‚£ä¹ˆé’äº‘iframeåº”ç”¨è¯¥å¦‚ä½•æµ‹è¯•å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é’äº‘iframeåº”ç”¨åœ¨åˆ›å»ºä¹‹åï¼Œéœ€è¦ç»è¿‡é’äº‘å®˜ç½‘å®¡æ ¸æ‰ä¼šä¸Šçº¿ï¼Œä¸Šçº¿ä¹‹åç”¨æˆ·æ‰å¯è§ã€‚åœ¨åˆ›å»ºä¹‹åã€æäº¤å®¡æ ¸ä¹‹å‰ï¼Œä½ å¯ä»¥ä¿®æ”¹åº”ç”¨çš„é…ç½®ä¿¡æ¯ï¼ˆæ¯”å¦‚URLï¼‰ï¼Œè¿™ä¸€é˜¶æ®µåº”ç”¨åªå¯¹ä½ è‡ªå·±å¯è§å¯ç”¨ï¼Œæ‰€ä»¥ä½ å¯ä»¥å°†è¿™ä¸ªé˜¶æ®µä½œä¸ºæµ‹è¯•é˜¶æ®µã€‚æ›´é‡è¦çš„æ˜¯ï¼Œåœ¨é’äº‘åå°åˆ›å»ºåº”ç”¨æ—¶ï¼Œé’äº‘æœåŠ¡å™¨å¹¶ä¸ä¼šæ£€æµ‹iframeçš„URLæ˜¯å¦å¯è®¿é—®ï¼Œè€Œä¸”å¯¹è¯¥URLçš„è¯·æ±‚ä¹Ÿæ˜¯ç”±ç”¨æˆ·æµè§ˆå™¨å‘èµ·çš„ï¼Œè¿™æ ·åœ¨æµ‹è¯•é˜¶æ®µå®Œå…¨å¯ä»¥é…ç½®ä¸€ä¸ªå±€åŸŸç½‘å†…å¯è®¿é—®çš„URLï¼Œæµ‹è¯•å®Œæˆåœ¨åº”ç”¨æäº¤å®¡æ ¸ä¹‹å‰å†å°†URLæ”¹æˆæ­£å¼çš„å¤–ç½‘å¯è®¿é—®çš„URLå³å¯ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="å·¥ä½œ"></category><category term="æ€»ç»“"></category></entry><entry><title>åˆä¸€æ¬¡ç³»ç»Ÿæ•…éšœ</title><link href="http://youngsterxyf.github.io/2015/11/16/another-system-fault/" rel="alternate"></link><published>2015-11-16T00:00:00+08:00</published><updated>2015-11-16T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-11-16:/2015/11/16/another-system-fault/</id><summary type="html">&lt;p&gt;ä¸Šå‘¨äº”æ—©ä¸Š9ç‚¹å¤šï¼Œæˆ‘è¿˜åœ¨ä¸Šç­çš„è·¯ä¸Šï¼Œæ¥åˆ°æŠ€æœ¯leaderçš„ç”µè¯ï¼šçº¿ä¸Šçªç„¶å‡ºæ•…éšœäº†ï¼›æ¥ç€å‘æ¥ä¸€å¼ æ•…éšœä¿¡æ¯é¡µé¢æˆªå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="system-fault-err-page" src="https://i.loli.net/2020/06/14/L4fVgPGAb3Whznr.png"&gt;&lt;/p&gt;
&lt;p&gt;æˆªå›¾åŒ…å«çš„ä¿¡æ¯æ˜¯ï¼šæ•° â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä¸Šå‘¨äº”æ—©ä¸Š9ç‚¹å¤šï¼Œæˆ‘è¿˜åœ¨ä¸Šç­çš„è·¯ä¸Šï¼Œæ¥åˆ°æŠ€æœ¯leaderçš„ç”µè¯ï¼šçº¿ä¸Šçªç„¶å‡ºæ•…éšœäº†ï¼›æ¥ç€å‘æ¥ä¸€å¼ æ•…éšœä¿¡æ¯é¡µé¢æˆªå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="system-fault-err-page" src="https://i.loli.net/2020/06/14/L4fVgPGAb3Whznr.png"&gt;&lt;/p&gt;
&lt;p&gt;æˆªå›¾åŒ…å«çš„ä¿¡æ¯æ˜¯ï¼šæ•°æ®åº“ä¸­æ²¡æ‰¾åˆ°æ•°æ®è¡¨&lt;code&gt;Users&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä½†åŒäº‹æ£€æŸ¥è¿‡æ•°æ®åº“ï¼ŒUsersæ•°æ®è¡¨æ˜¯å­˜åœ¨çš„ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æˆ‘å¿«é€Ÿåœ°å›å¿†äº†ä¸€ä¸‹æœ€è¿‘çš„ä»£ç å‘å¸ƒå’Œç¯å¢ƒå˜æ›´ - å‰ä¸€å¤©æœ‰ä¸ªåŒäº‹å¯¹çº¿ä¸Šæœºå™¨åšäº†ç‚¹æ”¹åŠ¨ã€‚å› æ­¤ï¼Œè®©åŒäº‹èµ¶ç´§æ£€æŸ¥ä¸€ä¸‹ä¹‹å‰çš„æ”¹åŠ¨æ˜¯å¦æœ‰é—®é¢˜ï¼Œç»æ£€æŸ¥ç¡®è®¤æ”¹åŠ¨æ²¡æœ‰é—®é¢˜ï¼Œè€Œä¸”ç¨å¾®æ€è€ƒä¸€ä¸‹å°±åº”è¯¥æ˜ç™½ä¸æ˜¯é…ç½®çš„é—®é¢˜ï¼Œå¦‚æœæ˜¯é…ç½®çš„é—®é¢˜ï¼Œé‚£ä¹ˆé—®é¢˜åº”è¯¥æ—©å°±å‡ºç°äº†ï¼Œè€Œä¸æ˜¯åœ¨æ—©ä¸Š9ç‚¹å¤šæ—¶å€™æ‰å‘ç”Ÿã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æˆ‘ç¿»äº†ç¿»æ‰‹æœºä¸­æœ€è¿‘æ”¶åˆ°çš„å‡ æ¡å‘Šè­¦çŸ­ä¿¡ï¼Œå»é™¤é‡å¤å‘Šè­¦çŸ­ä¿¡ï¼Œåªæœ‰ä¸¤æ¡å‘Šè­¦ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŸå°WebæœåŠ¡å™¨ä¸Šå‡ºç°å¤§é‡çš„500é”™è¯¯&lt;/li&gt;
&lt;li&gt;æŸå°æ•°æ®åº“æœåŠ¡å™¨çš„ç£ç›˜ä½¿ç”¨ç‡ä¸º98.99%&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”±æ­¤å¯ä»¥æ¨æµ‹ä¸¤ä¸ªæ•…éšœåŸå› ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é‚£å°WebæœåŠ¡å™¨ä¸Šåº”ç”¨çš„æ•°æ®åº“é…ç½®æœ‰é—®é¢˜ - ä½†æ£€æŸ¥ä¹‹åç¡®è®¤æ²¡æœ‰é—®é¢˜&lt;/li&gt;
&lt;li&gt;ç”±äºé‚£å°æ•°æ®åº“æœåŠ¡å™¨ç£ç›˜æ»¡å¯¼è‡´çš„é—®é¢˜ï¼Œè™½ç„¶ä¸€æ—¶è¿˜æƒ³ä¸åˆ°å…¶ä¸­çš„å…³è” - åŒäº‹åœ¨æ£€æŸ¥ä¹‹åï¼Œç¡®è®¤é‚£å°æœºå™¨çš„ç£ç›˜ç¡®å®å·²æ»¡ï¼Œä½†é€šè¿‡å†…ç½‘çš„æ•°æ®åº“ç®¡ç†åå°ï¼Œå¯ä»¥æ­£å¸¸è®¿é—®æ•°æ®åº“ï¼Œæ‰€ä»¥è®¤ä¸ºåº”è¯¥ä¸æ˜¯ç£ç›˜æ»¡å¯¼è‡´çš„é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æ­¤ï¼Œä¸€æ—¶æˆ‘ä¹Ÿæ²¡æƒ³æ˜ç™½æ•…éšœçš„åŸå› ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ¥ç€ï¼ŒåŒäº‹å‘æ¥æ¶ˆæ¯ï¼šåªæœ‰ç™»å½•ç”¨æˆ·æ‰ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼&lt;/p&gt;
&lt;p&gt;è¿™æ—¶ï¼ŒåŸºäºä¹‹å‰çš„çº¿ç´¢ï¼ŒåŸºæœ¬èƒ½æ–­å®šæ•…éšœåŸå› æ˜¯ - æ•°æ®åº“æœåŠ¡å™¨ç£ç›˜æ»¡ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ•°æ®åº“ç®¡ç†åå°é»˜è®¤æ˜¯&lt;strong&gt;åªè¯»&lt;/strong&gt;ï¼šè¯»æ•°æ®è¡¨åˆ—è¡¨ã€æ•°æ®è¡¨ç»“æ„ã€å•ä¸ªè¡¨çš„è‹¥å¹²æ¡æ•°æ®&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬åº”ç”¨åœ¨å®ç°ä¸Šæœ‰è¿™æ ·çš„é€»è¾‘ï¼šç™»å½•ç”¨æˆ·çš„æ¯æ¬¡è®¿é—®éœ€è¦ç™»å½•æƒé™çš„é¡µé¢éƒ½ä¼šè‡ªåŠ¨æ›´æ–°ç”¨æˆ·çš„æœ€æ–°çš„è®¿é—®æ—¶é—´ï¼Œå³Usersæ•°æ®è¡¨çš„updated_timeå­—æ®µï¼Œä¹Ÿå³ä¼šå†™Usersæ•°æ®è¡¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”±äºç£ç›˜å·²æ»¡ï¼Œæ‰€ä»¥å†™ä¼šå¤±è´¥ï¼Œæ•…éšœä¿¡æ¯æç¤ºâ€œæ•°æ®åº“ä¸­æ‰¾ä¸åˆ°Usersæ•°æ®è¡¨â€ï¼Œä¼°è®¡å’ŒMySQLçš„å†™å®ç°æœ‰å…³ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹åæ¸…ç†äº†ç£ç›˜ï¼Œæ•…éšœç«‹å³æ¢å¤ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æˆ‘ä¸€ç›´è®¤ä¸ºï¼šæ’é™¤æ•…éšœ/è§£å†³é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬å°±åƒä¾¦æ¢ä¸€æ · - æ”¶é›†ä¿¡æ¯ã€æ€è€ƒä¿¡æ¯ä¹‹é—´çš„å…³è”ã€é€è¿‡ç°è±¡çœ‹æœ¬è´¨ã€‚æ•…éšœç°è±¡å¾ˆå¤šæ—¶å€™ä¼šå¯¼è‡´è¿·æƒ‘ï¼Œå¦‚ä½•èƒ½ç ´é™¤è¿·æƒ‘ï¼Ÿ- å…¨é¢åœ°æŒæ¡ç³»ç»Ÿçš„ä¿¡æ¯å¹¶ä½œå‡ºæ€è€ƒã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæ•…éšœå‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆè¦è€ƒè™‘çš„æ˜¯æ¢å¤æ•…éšœï¼Œå°½å¯èƒ½å‡å°å¯¹SLAçš„å½±å“ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½æš‚æ—¶æ— æ³•æ‰¾åˆ°æ•…éšœåŸå› ï¼Œè€Œä¸”â€œæ‰¾åˆ°æ•…éšœåŸå› â€å¹¶éæ˜¯â€œæ•…éšœæ¢å¤â€çš„å¿…è¦æ¡ä»¶ï¼Œæ‰€ä»¥æ•…éšœå‘ç”Ÿæ—¶ï¼Œä¸è¦åªé¡¾ç€æŸ¥æ‰¾åŸå› ï¼Œå…ˆçœ‹çœ‹å¦‚ä½•æ¢å¤æ•…éšœã€‚æ¯”å¦‚ï¼šæœ¬æ–‡æ‰€è¿°çš„è¿™ä¸ªæ•…éšœï¼Œå¦‚æœæ²¡æœ‰æƒ³æ˜ç™½åŸå› ï¼Œå¯ä»¥å…ˆæŠŠæ’æŸ¥è¿‡ç¨‹ä¸­å‘ç°çš„æ‰€æœ‰å¼‚å¸¸ - ç£ç›˜æ»¡ - éƒ½è§£å†³äº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å†æ¥è¯´è¯´è¿™ä¸ªæ•…éšœçš„åŸå›  - ç£ç›˜æ»¡ã€‚ä¸ªäººè®¤ä¸ºè¿™ä¸ªæ•…éšœåŸå› æ˜¯æ¯”è¾ƒä½çº§çš„ï¼Œå¯è§æˆ‘ä»¬ç›‘æ§è¿ç»´çš„ç¼ºå¤±ã€‚ä¸ºä»€ä¹ˆç£ç›˜ä½¿ç”¨ç‡åˆ°äº†98.88%æ‰å‘Šè­¦ï¼Ÿå¤§é‡å ç”¨ç£ç›˜çš„æ—¥å¿—æ–‡ä»¶æ˜¯å¦å¯ä»¥å®šæœŸè‡ªåŠ¨æ¸…ç†ï¼Ÿåæ¥ï¼Œæˆ‘ä»¬&lt;strong&gt;å°†ç£ç›˜å‘Šè­¦çš„é˜ˆå€¼ä¿®æ”¹ä¸º85%ï¼Œå¹¶ä¸”å®šæœŸåˆ é™¤ä¸€æ®µæ—¶é—´ä¹‹å‰çš„æ—¥å¿—æ–‡ä»¶&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ•…éšœè§£å†³ä¹‹åï¼Œæˆ‘äº†è§£åˆ°æ•°æ®åº“æœåŠ¡å™¨ä¸Šå ç”¨ç£ç›˜æœ€å¤šçš„ç«Ÿç„¶æ˜¯&lt;strong&gt;æ•°æ®åº“ä»£ç†æœåŠ¡çš„æ—¥å¿—&lt;/strong&gt;ã€‚æ•°æ®åº“ä»£ç†æœåŠ¡ä¼šå°†æ¯ä¸ªç½‘ç»œè¯·æ±‚çš„ä¿¡æ¯è®°å½•åœ¨æ—¥å¿—ä¸­ï¼Œåœ¨ç½‘ç»œè¯·æ±‚é‡å¤§æ—¶ï¼Œæ—¥å¿—ä¼šå¿«é€Ÿå¢é•¿ &lt;em&gt;ï¼ˆè¿™æ ·çš„æ—¥å¿—ä¿¡æ¯é™¤äº†åœ¨æ•…éšœå‘ç”Ÿæ—¶å¸®åŠ©æ’æŸ¥æ•…éšœï¼Œæ²¡æœ‰å…¶ä»–ç”¨å¤„ï¼Œå®Œå…¨å¯ä»¥å®šæœŸæ¸…é™¤ï¼‰&lt;/em&gt; ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ•°æ®åº“æœåŠ¡ã€æ•°æ®åº“ä»£ç†æœåŠ¡æ˜¯å¦‚ä½•éƒ¨ç½²çš„å‘¢ï¼Ÿå‰ä¸€ç¯‡æ–‡ç« ç»™å‡ºäº†ä¸€å¼ ç³»ç»Ÿæ¶æ„å›¾ï¼Œå…¶ä¸­æ•°æ®åº“ä»£ç†æœåŠ¡å’Œæ•°æ®åº“æœåŠ¡æˆ‘ä»¬è¿ç»´çš„åŒå­¦å®é™…ä¸Šæ˜¯è¿™æ ·éƒ¨ç½²çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="db-proxy-deployment" src="https://i.loli.net/2020/06/14/H1MhZn6Nj52moiR.png"&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„éƒ¨ç½²å¾’å¢åˆ«äººçš„è¿·æƒ‘ï¼Œå¢å¤§æ•…éšœæ’é™¤çš„éš¾åº¦ï¼Œè€Œä¸”ä¸»MySQLä¸æ•°æ®åº“ä»£ç†æœåŠ¡ä¹‹é—´ä¼šå­˜åœ¨èµ„æºç«äº‰ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°æ®é‡è®¿é—®é‡å¤§çš„æ—¶å€™ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¯¼è‡´è¿™ç§ä½çº§æ•…éšœå’Œéƒ¨ç½²æ··ä¹±çš„åŸå› åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ- åœ¨æˆ‘ä»¬å›¢é˜Ÿä¸­ï¼Œè¿ç»´åŒäº‹æ˜¯ä¸å¦ä¸€ä¸ªä¸šåŠ¡éƒ¨é—¨å…±äº«çš„ï¼Œç”±äºå¦ä¸€ä¸ªä¸šåŠ¡éƒ¨é—¨åšçš„æ˜¯å…¬å¸çš„é‡ç‚¹ä¸šåŠ¡ï¼Œè¿ç»´åŒäº‹çš„KPIæ˜¯æ ¹æ®å®ƒä»¬ä¸šåŠ¡æ¥å®šï¼Œä¹Ÿå°±æ˜¯è¯´è¿ç»´åŒäº‹åœ¨æˆ‘ä»¬è¿™å®Œå…¨æ˜¯å‹æƒ…æ”¯æŒï¼Œåˆèƒ½èŠ±å¤šå°‘æ—¶é—´æ¥å¸®æˆ‘ä»¬åšè¿ç»´å‘¢ï¼Ÿ&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ï¼ˆå®Œï¼‰&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="æ•…éšœ"></category></entry><entry><title>è®°ä¸€æ¬¡ç³»ç»Ÿæ•…éšœ</title><link href="http://youngsterxyf.github.io/2015/10/02/note-of-a-system-fault/" rel="alternate"></link><published>2015-10-02T00:00:00+08:00</published><updated>2015-10-02T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-10-02:/2015/10/02/note-of-a-system-fault/</id><summary type="html">&lt;p&gt;å‰æ®µæ—¶é—´ï¼Œå·¥ä½œä¸­é­é‡ä¸€æ¬¡æ•…éšœï¼Œè™½ç„¶ä¸ç®—ä»€ä¹ˆâ€œç–‘éš¾æ‚ç—‡â€ï¼Œå€’ä¹ŸèŠ±äº†ä¸å°‘æ—¶é—´æ‰çœŸæ­£æ‰¾åˆ°æ•…éšœçš„åŸå› ï¼Œæ•…ä¹Ÿå€¼å¾—è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸º â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å‰æ®µæ—¶é—´ï¼Œå·¥ä½œä¸­é­é‡ä¸€æ¬¡æ•…éšœï¼Œè™½ç„¶ä¸ç®—ä»€ä¹ˆâ€œç–‘éš¾æ‚ç—‡â€ï¼Œå€’ä¹ŸèŠ±äº†ä¸å°‘æ—¶é—´æ‰çœŸæ­£æ‰¾åˆ°æ•…éšœçš„åŸå› ï¼Œæ•…ä¹Ÿå€¼å¾—è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºæ–¹ä¾¿è¯»è€…å¿«é€Ÿç†è§£æ•…éšœï¼Œå…ˆç»™å‡ºç³»ç»Ÿå¤§è‡´çš„æ¶æ„å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="gxt-tech-arch" src="https://i.loli.net/2020/06/14/2ZBQgfPqMUnhVzY.png"&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¯å°WebæœåŠ¡å™¨ä¸Šå¼€å¯12ä¸ªPHP-FPMå®ä¾‹ï¼Œå¹¶é…ç½®åˆ°Nginxçš„upstreamï¼Œæ¯ä¸ªå®ä¾‹æœ€å¤šå¯ä»¥å¼€å¯10ä¸ªå­è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;â€œDatabase Proxyâ€çš„ä»£ç†è§„åˆ™ä¸ºï¼šå†™æ“ä½œåŠäº‹åŠ¡ä¸­çš„æ‰€æœ‰SQLæ“ä½œéƒ½äº¤ç»™ä¸»MySQLå¤„ç†ï¼Œå…¶ä½™çš„è¯»æ“ä½œéƒ½äº¤ç»™ä»»æ„ä¸€å°ä»MySQLå¤„ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;æ•…éšœæ‰€è¡¨ç°çš„ç°è±¡åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;p&gt;1.å¤§é‡è¯·æ±‚å“åº”ä¸º502ï¼Œä½†æ¯æ¬¡æ•…éšœå‘ç”Ÿæ—¶ï¼Œé”™è¯¯å“åº”ä¸€èˆ¬é›†ä¸­åœ¨ä¸€å°WebæœåŠ¡å™¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="nginx-502-error" src="https://i.loli.net/2020/06/14/cPmFMn8gKZdzVoB.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="nginx-server-502-count" src="https://i.loli.net/2020/06/14/CSRj4ILYVlU21Es.jpg"&gt;&lt;/p&gt;
&lt;p&gt;2.ï¼ˆä¸€å°æˆ–å¤šå°ï¼‰MySQLæ•°æ®åº“æœåŠ¡å™¨CPUä½¿ç”¨ç‡é£™å‡ï¼ˆä½†å¹¶éæ€»æ˜¯ä¸€èµ·è¡¨ç°æ•…éšœï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="mysql-slave-server-idle" src="https://i.loli.net/2020/06/14/H5gqL8BeQpKXOla.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ•…éšœåˆšå¼€å§‹å‡ºç°æ—¶ï¼Œé‡å¯/å…³é—­å‡ºç°æ•…éšœç°è±¡çš„MySQLæœåŠ¡ï¼Œæˆ–å°†å‡ºç°æ•…éšœçš„WebæœåŠ¡å™¨ä¸Šæ‰€æœ‰PHP-FPMé‡å¯ï¼Œä¹Ÿèƒ½è§£ä¸€æ—¶çš„é—®é¢˜ï¼Œä½†æ²»ä¸äº†æœ¬ï¼Œæ•…éšœè¿˜æ˜¯é¢‘ç¹å‡ºç°ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ•…éšœå‘ç”Ÿæ—¶ï¼Œä»ç›¸å…³æœåŠ¡å™¨ä¸Šæ”¶é›†åˆ°çš„ä¿¡æ¯å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;1.å‡ºç°æ•…éšœç°è±¡çš„WebæœåŠ¡å™¨ - CPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ç­‰ç³»ç»ŸæŒ‡æ ‡å‡æ­£å¸¸ï¼Œä½†PHP-FPMå­è¿›ç¨‹æ•°è¾¾åˆ°ä¸Šé™ï¼ˆ12 x 10 = 120ï¼‰ï¼Œå¹¶ä¸”PHP-FPMè¿›ç¨‹ä¸æ•°æ®åº“ä»£ç†æœåŠ¡å™¨ä¹‹é—´çš„ç½‘ç»œè¿æ¥æ•°é‡è¾ƒå¤šï¼ˆä¸PHP-FPMå­è¿›ç¨‹æ•°å¤§è‡´ç›¸å½“ï¼‰&lt;/p&gt;
&lt;p&gt;2.å‡ºç°æ•…éšœç°è±¡çš„MySQLæœåŠ¡å™¨ - CPUä½¿ç”¨ç‡é£™å‡ï¼Œä¸»è¦ä¸ºMySQLè¿›ç¨‹å ç”¨ï¼›MySQLè¿›ç¨‹ä¸æ•°æ®åº“ä»£ç†æœåŠ¡å™¨ä¹‹é—´çš„ç½‘ç»œè¿æ¥è¾ƒå¤š&lt;/p&gt;
&lt;p&gt;3.ç»§è€Œï¼Œå¯¹å‡ºç°æ•…éšœç°è±¡çš„MySQLæœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æ‰§è¡Œå‘½ä»¤&lt;code&gt;SHOW PROCESSLIST&lt;/code&gt;ï¼ˆæŸ¥çœ‹å½“å‰MySQLå®ä¾‹è¿è¡Œç€å“ªäº›çº¿ç¨‹ï¼‰ï¼Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼ˆæˆªå›¾åªæ˜¯ä¸€éƒ¨åˆ†ç»“æœï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="mysql-show-processlist" src="https://i.loli.net/2020/06/14/jLbvVOZEKlCdkgI.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å…ˆæ¥åˆ†æä¸€ä¸‹&lt;code&gt;SHOW PROCESSLIST&lt;/code&gt;çš„æ‰§è¡Œç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Command&lt;/strong&gt;å­—æ®µï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ç±»å‹&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;db&lt;/strong&gt;å­—æ®µï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œä»»åŠ¡æ¶‰åŠçš„æ•°æ®åº“æ˜¯å“ªä¸ª&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;State&lt;/strong&gt;å­—æ®µï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹æ‰€å¤„çš„çŠ¶æ€&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Time&lt;/strong&gt;å­—æ®µï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹å¤„äºStateå­—æ®µæŒç»­çš„æ—¶é—´ï¼Œå•ä½ä¸ºç§’&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Info&lt;/strong&gt;å­—æ®µï¼Œè¡¨ç¤ºå¦‚æœå½“å‰çº¿ç¨‹æ˜¯åœ¨æ‰§è¡ŒæŸ¥è¯¢æ“ä½œï¼ˆQueryï¼‰ï¼Œé‚£ä¹ˆæŸ¥è¯¢çš„è¯­å¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå¦‚éæŸ¥è¯¢æ“ä½œï¼Œåˆ™è¯¥å­—æ®µä¸ºNULL&lt;/p&gt;
&lt;p&gt;ç»“æœä¸­ï¼Œæœ‰ä¸¤ç§ä»»åŠ¡çº¿ç¨‹ï¼šâ€œBinlog Dumpâ€å’Œâ€œQueryâ€ï¼Œå…¶ä¸­â€œQueryâ€æ•°é‡å ç»å¤§å¤šæ•°ï¼ˆå’ŒMySQLè¿›ç¨‹ä¸æ•°æ®åº“ä»£ç†æœåŠ¡å™¨ä¹‹é—´çš„ç½‘ç»œè¿æ¥æ•°å¤§è‡´ç›¸å½“ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Binlog Dumpï¼šè¯¥ä»»åŠ¡çº¿ç¨‹è¡¨æ˜å½“å‰MySQLå®ä¾‹ä¸ºä¸»MySQLï¼Œå¹¶ä¸”å…¶çŠ¶æ€è¡¨æ˜ä¸»ä»åŒæ­¥å·²é¡ºåˆ©å®Œæˆ&lt;/li&gt;
&lt;li&gt;Queryï¼šè¡¨æ˜å½“å‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œä¸€æ¬¡SQLæŸ¥è¯¢æ“ä½œã€‚è¯¥SQLä¸º&lt;code&gt;SELECT h.host, p.result, p.update_time FROM PIXIU p join Host h using(host_id) WHERE ...&lt;/code&gt;ï¼Œçº¿ç¨‹æ‰€å¤„çŠ¶æ€ä¸ºâ€œSorting resultâ€ï¼ˆæ­£åœ¨åˆ›å»ºæ’åºç´¢å¼•ï¼‰ï¼ŒæŒç»­æ—¶é—´ä¸º86-99ç§’å·¦å³ã€‚å¾ˆæ˜æ˜¾ï¼Œè¿™å¥SQLè¯­å¥èŠ±è´¹çš„æ—¶é—´è¿‡é•¿ï¼Œå­˜åœ¨é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼åˆä¸Šé¢æ‰€è¿°ï¼Œå¯ä»¥å¼•å‡ºä¸€ä¸ªçŒœæµ‹ï¼šç”±äºè¿™æ¡SQLæŸ¥è¯¢éœ€è€—è´¹è¾ƒé•¿æ—¶é—´ï¼Œå¹¶ä¸”è¢«é¢‘ç¹æ‰§è¡Œï¼Œæ¶‰åŠè¯¥SQLçš„è¯·æ±‚éœ€è¦è¾ƒé•¿æ—¶é—´å®Œæˆï¼Œå¤§é‡SQLçº¿ç¨‹æ’é˜Ÿæ— å“åº”ï¼Œé˜»å¡äº†å¤§é‡PHP-FPMè¿›ç¨‹ï¼Œåœ¨æŸäº›æ—¶å€™ä¼šè¾¾åˆ°PHP-FPMå¹¶å‘å­è¿›ç¨‹æ•°ä¸Šé™ï¼ˆæ›´ä½•å†µæŸä¸ªä¼šè¢«é¢‘ç¹è®¿é—®çš„é¡µé¢è¯·æ±‚æ¶‰åŠè¯¥SQLï¼Œå¯¼è‡´æƒ…å†µæ›´ç³Ÿï¼‰ï¼ŒPHP-FPMæ— æ³•å¤„ç†æ–°çš„è¯·æ±‚ï¼Œå¯¹äºå·²æœ‰çš„è¯·æ±‚ä¹Ÿä¼šå› ä¸ºè¶…æ—¶å¯¼è‡´Nginxå“åº”502ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆé’ˆå¯¹è¯¥çŒœæµ‹ï¼Œå¯ä»¥åšä¸¤ä¸ªä¼˜åŒ–æ¥è§£å†³æ•…éšœï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜åŒ–è¿™æ¡SQL&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ç¼“å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ¡SQLçš„å®Œæ•´è¯­å¥ä¸ºï¼š &lt;code&gt;SELECT h.host,p.result,p.update_time FROM Pixiu p join Host h using(host_id) WHERE result!='[]' order by update_time desc&lt;/code&gt; ï¼Œå…¶ä¸­å­—æ®µp.resultçš„ç±»å‹ä¸º &lt;code&gt;mediumtext NOT NULL&lt;/code&gt; ï¼Œå­—æ®µp.update_timeçš„ç±»å‹ä¸º &lt;code&gt;timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºä¸šåŠ¡é€»è¾‘å¹¶ä¸è¦æ±‚è¯¥SQLçš„ç»“æœæ˜¯æ’åºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†è¯¥SQLä¸­çš„æ’åºæ¡ä»¶&lt;code&gt;order by update_time desc&lt;/code&gt;åˆ é™¤ï¼Œç»æµ‹è¯•å‘ç°æŸ¥è¯¢æ—¶é—´å¤§å¹…åº¦é™ä½åˆ°9mså·¦å³ï¼ˆåŸæ¥çš„å¹³å‡æŸ¥è¯¢æ—¶é—´ä¸º600å¤š-700mså·¦å³ï¼‰ï¼Œå¦å¤–ï¼Œç”±äºä¸šåŠ¡é€»è¾‘å¯¹äºè¯¥æ¡SQLæ¶‰åŠçš„æ•°æ®çš„å®æ—¶æ€§è¦æ±‚ä¸é«˜ï¼Œæˆ‘ä»¬ä½¿ç”¨Memcachedç¼“å­˜äº†è¯¥SQLçš„æŸ¥è¯¢ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;é‡æ–°éƒ¨ç½²ï¼Œå‹æµ‹ï¼Œå¹¶çº¿ä¸Šè¿è¡Œè§‚å¯Ÿï¼Œä¹‹åæ•…éšœå†æœªå‘ç”Ÿã€‚äº‹åå›æƒ³ï¼Œæ•…éšœä¹Ÿç¡®å®æ˜¯åœ¨æ¶‰åŠè¯¥SQLçš„åŠŸèƒ½æ¨¡å—ä¸Šçº¿ä¹‹åæ‰å‘ç”Ÿçš„ã€‚&lt;/p&gt;
&lt;h3&gt;å‚è€ƒèµ„æ–™&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://dev.mysql.com/doc/refman/5.6/en/show-processlist.html"&gt;MySQLå®˜æ–¹æ–‡æ¡£ - SHOW PROCESSLIST Syntax&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dev.mysql.com/doc/refman/5.6/en/thread-commands.html"&gt;MySQLå®˜æ–¹æ–‡æ¡£ - Thread Command Values&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dev.mysql.com/doc/refman/5.6/en/master-thread-states.html"&gt;MySQLå®˜æ–¹æ–‡æ¡£ - Replication Master Thread States&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dev.mysql.com/doc/refman/5.6/en/general-thread-states.html"&gt;MySQLå®˜æ–¹æ–‡æ¡£ - General Thread States&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.nginx.cn/102.html"&gt;nginx+php-fpmå‡ºç°502 bad gatewayé”™è¯¯è§£å†³æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="æ•…éšœ"></category></entry><entry><title>Xhprofå®‰è£…ä¸ä½¿ç”¨</title><link href="http://youngsterxyf.github.io/2015/09/15/xhprof-installation-and-usage/" rel="alternate"></link><published>2015-09-15T00:00:00+08:00</published><updated>2015-09-15T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-09-15:/2015/09/15/xhprof-installation-and-usage/</id><summary type="html">&lt;p&gt;å‰ä¸¤å¤©é‡åˆ°ä¸€ä¸ªPHPä»£ç çš„bugï¼Œåˆ†æçš„ç»“æœæ˜¯ï¼šå› ä¸ºè¦å¤„ç†çš„æ•°æ®é‡è¿‡å¤§ï¼Œå†…å­˜åˆ†é…è¶…å‡ºäº†é™åˆ¶ï¼ˆ&lt;code&gt;php.ini&lt;/code&gt;ä¸­é…ç½®é¡¹&lt;code&gt;memory_limit&lt;/code&gt;ï¼Œé»˜è®¤æ˜¯128Mï¼‰ã€‚é•¿æœŸä½¿ç”¨Python â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å‰ä¸¤å¤©é‡åˆ°ä¸€ä¸ªPHPä»£ç çš„bugï¼Œåˆ†æçš„ç»“æœæ˜¯ï¼šå› ä¸ºè¦å¤„ç†çš„æ•°æ®é‡è¿‡å¤§ï¼Œå†…å­˜åˆ†é…è¶…å‡ºäº†é™åˆ¶ï¼ˆ&lt;code&gt;php.ini&lt;/code&gt;ä¸­é…ç½®é¡¹&lt;code&gt;memory_limit&lt;/code&gt;ï¼Œé»˜è®¤æ˜¯128Mï¼‰ã€‚é•¿æœŸä½¿ç”¨Python/PHPåšWebå¼€å‘ï¼Œå¯¹äºå†…å­˜ä½¿ç”¨å…³æ³¨è¾ƒå°‘ï¼Œè¿™ä¸ªäº‹æƒ…è®©æˆ‘é‡æ–°å…³æ³¨èµ·ä»£ç çš„å†…å­˜å ç”¨é—®é¢˜ï¼Œæ‰€ä»¥ä¸ºå·¥ä½œä¸­ä½¿ç”¨çš„æµ‹è¯•å¼€å‘ç¯å¢ƒé…ç½®Xhprofï¼Œè¿›è¡Œæ€§èƒ½æ•°æ®æ”¶é›†åˆ†æï¼ˆæ³¨ï¼šæˆ‘ä»¬é¡¹ç›®æ˜¯ç”¨PHPå¼€å‘çš„ï¼‰ã€‚ä¹‹æ‰€ä»¥é€‰æ‹©Xhprofï¼Œæ˜¯å› ä¸ºæ¯”è¾ƒè½»é‡ï¼Œå¯¹æ€§èƒ½å½±å“è¾ƒå°ï¼Œç”šè‡³å¯ä»¥ä¸€å®šæ–¹å¼ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå®‰è£…ä½¿ç”¨ä¹Ÿæ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;h3&gt;å®‰è£…&lt;/h3&gt;
&lt;p&gt;Xhprofæ˜¯ä¸€ä¸ªPHPæ‰©å±•ï¼Œå®‰è£…æ–¹å¼ä¸ä¸€èˆ¬PHPæ‰©å±•ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;1.ä»&lt;a href="https://pecl.php.net/package/xhprof"&gt;è¿™é‡Œ&lt;/a&gt;ä¸‹è½½æœ€æ–°çš„æºç åŒ…ã€‚å‡è®¾è§£å‹ç¼©åçš„æ–‡ä»¶å¤¹ä¸ºxhprof&lt;/p&gt;
&lt;p&gt;2.ç¼–è¯‘å®‰è£…&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cd xhprof/extension
/path/to/php/bin/phpize
./configure --with-php-config=/path/to/php/bin/php-config
make
make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;3.é…ç½®php.iniï¼Œæ·»åŠ ä»¥ä¸‹å‡ è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;[xhprof]&lt;/span&gt;
extension=&lt;span style="color: #a31515"&gt;xhprof.so&lt;/span&gt;
xhprof.output_dir=&lt;span style="color: #a31515"&gt;&amp;quot;/path/to/output/dir&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;4.æ‰§è¡Œ&lt;code&gt;/path/to/php/bin/php -i | grep "xhprof"&lt;/code&gt;ï¼Œç¡®è®¤xhprofæ‰©å±•èƒ½æˆåŠŸåŠ è½½&lt;/p&gt;
&lt;p&gt;5.xhprofä¼šå°†æ”¶é›†åˆ°çš„æ€§èƒ½æ•°æ®æŒ‰æ–‡ä»¶ï¼ˆä¸€æ¬¡æ•°æ®æ”¶é›†å­˜æ”¾ä¸€ä¸ªæ–‡ä»¶ï¼‰å­˜æ”¾åœ¨&lt;code&gt;xhprof.output_dir&lt;/code&gt;æŒ‡å®šçš„ç›®å½•ï¼ˆæ³¨æ„æ·»åŠ å†™æƒé™ï¼‰ä¸‹ï¼Œå¹¶é€šè¿‡&lt;code&gt;xhprof/xhprof_html&lt;/code&gt;ç›®å½•ä¸‹çš„PHPè„šæœ¬ç¨‹åºæä¾›ç½‘é¡µå½¢å¼çš„å±•ç¤ºï¼Œæ‰€ä»¥è¿˜éœ€é…ç½®webæœåŠ¡æä¾›å¯¹è¯¥è„šæœ¬ç¨‹åºçš„è®¿é—®ï¼Œä»¥Nginxä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;server {
    listen 8080;
    server_name localhost;

    root /path/to/xhprof/xhprof_html;
    location / {
        index index.html index.php;
        try_files $uri /index.php&lt;span style="border: 1px solid #FF0000"&gt;?&lt;/span&gt;$query_string;
    }
    location ~ \.php$ {
        fastcgi_split_path_info ^(.+.php)(/.+)$;
        fastcgi_pass unix:/&lt;span style="color: #0000ff"&gt;var&lt;/span&gt;/run/php5-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_index index.php;
        include fastcgi_params;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;6.é‡å¯PHP-FPMä¸Nginx&lt;/p&gt;
&lt;p&gt;7.xhprof_htmlæä¾›çš„Webå±•ç¤ºåŠŸèƒ½å¯ä»¥æä¾›ä»£ç è°ƒç”¨é€»è¾‘å›¾ï¼Œä½†ä¾èµ–äºå·¥å…·dotï¼ˆå³è¯¥é€»è¾‘å›¾æ˜¯ä½¿ç”¨dotè¯­è¨€å†™çš„ï¼‰ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–å®‰è£…ä¾èµ–graphvizï¼Œä¾‹å¦‚åœ¨CentOSä¸Šï¼š&lt;code&gt;yum install graphviz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;8.è¦å¯¹ç›®æ ‡PHPç¨‹åºè¿›è¡Œæ€§èƒ½åˆ†æï¼Œéœ€è¦åœ¨ç¨‹åºä¸­æ³¨å…¥xhprofæä¾›çš„æ–¹æ³•è°ƒç”¨ï¼Œæ¥æ”¶é›†æ€§èƒ½æ•°æ®ï¼Œç„¶åé€šè¿‡å‘½ä»¤è¡Œæ‰§è¡Œæˆ–HTTPè¯·æ±‚æ¥è§¦å‘&lt;/p&gt;
&lt;h3&gt;ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;ä»¥Yiiåº”ç”¨ä¸ºä¾‹ï¼Œxhprofæ–¹æ³•è°ƒç”¨æ³¨å…¥ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// å¯åŠ¨xhprofæ€§èƒ½æ•°æ®æ”¶é›†&lt;/span&gt;
xhprof_enable(XHPROF_FLAGS_CPU + XHPROF_FLAGS_MEMORY);


&lt;span style="color: #008000"&gt;// åŠ è½½Yiiåº”ç”¨ä»£ç ï¼Œå¤„ç†è¯·æ±‚&lt;/span&gt;
defined(&lt;span style="color: #a31515"&gt;&amp;#39;YII_DEBUG&amp;#39;&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;or&lt;/span&gt; define(&lt;span style="color: #a31515"&gt;&amp;#39;YII_DEBUG&amp;#39;&lt;/span&gt;,&lt;span style="color: #0000ff"&gt;true&lt;/span&gt;);
&lt;span style="color: #0000ff"&gt;require_once&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;path/to/yii/framework/yii.php&amp;#39;&lt;/span&gt;);
$configFile=&lt;span style="color: #a31515"&gt;&amp;#39;path/to/config/file.php&amp;#39;&lt;/span&gt;;
Yii::createWebApplication($configFile)-&amp;gt;run();


&lt;span style="color: #008000"&gt;// ç»“æŸæ”¶é›†&lt;/span&gt;
$xhprof_data = xhprof_disable();

$XHPROF_ROOT = &lt;span style="color: #a31515"&gt;&amp;quot;/path/to/xhprof/&amp;quot;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;include_once&lt;/span&gt; $XHPROF_ROOT . &lt;span style="color: #a31515"&gt;&amp;quot;/xhprof_lib/utils/xhprof_lib.php&amp;quot;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;include_once&lt;/span&gt; $XHPROF_ROOT . &lt;span style="color: #a31515"&gt;&amp;quot;/xhprof_lib/utils/xhprof_runs.php&amp;quot;&lt;/span&gt;;

$xhprof_runs = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; XHProfRuns_Default();
&lt;span style="color: #008000"&gt;// å°†æ­¤æ¬¡æ”¶é›†çš„æ€§èƒ½æ•°æ®å­˜æ”¾åˆ°xhprof.output_dirç›®å½•&lt;/span&gt;
$run_id = $xhprof_runs-&amp;gt;save_run($xhprof_data, &lt;span style="color: #a31515"&gt;&amp;quot;xhprof_yii&amp;quot;&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­å‡½æ•°&lt;code&gt;xhprof_enable&lt;/code&gt;æœ‰ä¸¤ä¸ªå¯é€‰å‚æ•°&lt;code&gt;$flags&lt;/code&gt;å’Œ&lt;code&gt;$options&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$flags&lt;/code&gt;æœ‰3ä¸ªå¯é€‰å€¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;XHPROF_FLAGS_NO_BUILTINS&lt;/strong&gt;ï¼šä½¿å¾—è·³è¿‡æ‰€æœ‰å†…ç½®ï¼ˆå†…éƒ¨ï¼‰å‡½æ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;XHPROF_FLAGS_CPU&lt;/strong&gt;ï¼šä½¿è¾“å‡ºçš„æ€§èƒ½æ•°æ®ä¸­æ·»åŠ Â CPUÂ æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;XHPROF_FLAGS_MEMORY&lt;/strong&gt;ï¼šä½¿è¾“å‡ºçš„æ€§èƒ½æ•°æ®ä¸­æ·»åŠ å†…å­˜æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯ä»¥ç»„åˆä½¿ç”¨ä¸‰ä¸ªå¯é€‰å€¼ï¼š&lt;code&gt;xhprof_enable(XHPROF_FLAGS_NO_BUILTINSÂ |Â XHPROF_FLAGS_CPUÂ |Â XHPROF_FLAGS_MEMORY);&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$options&lt;/code&gt;æ˜¯æ•°ç»„ç±»å‹ï¼Œå¯ä¼ å…¥é”®ä¸º&lt;code&gt;ignored_functions&lt;/code&gt;çš„å€¼ï¼Œè¡¨ç¤ºå¿½ç•¥æ€§èƒ½åˆ†æä¸­çš„æŸäº›å‡½æ•°ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;xhprof_enable(0, array(
    &amp;#39;ignored_functions&amp;#39; =&amp;gt;  array(
                                &amp;#39;call_user_func&amp;#39;,
                                &amp;#39;call_user_func_array&amp;#39;
                            )
    )
);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é™¤äº†&lt;code&gt;xhprof_enable&lt;/code&gt;å’Œ&lt;code&gt;xhprof_disable&lt;/code&gt;ï¼Œè¿˜æœ‰å¦ä¸€å¯¹å‡½æ•°&lt;code&gt;xhprof_sample_enable&lt;/code&gt;å’Œ&lt;code&gt;xhprof_sample_disable&lt;/code&gt;ï¼Œç›¸æ¯”å‰ä¸€å¯¹ï¼Œåè€…æ˜¯ä»¥é‡‡æ ·æ¨¡å¼å¯åŠ¨xhprofæ€§èƒ½åˆ†æï¼Œæ›´é€‚åˆç”Ÿäº§ç¯å¢ƒã€‚&lt;/p&gt;
&lt;h3&gt;é—®é¢˜&lt;/h3&gt;
&lt;p&gt;â€œåŸç”Ÿâ€ xhprof æœ‰ä¸¤ä¸ªå°é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸­æ³¨å…¥xhprofçš„å‡½æ•°è°ƒç”¨ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™å¹¶ä¸å¤ªåˆé€‚&lt;/li&gt;
&lt;li&gt;æ¯æ¬¡æ”¶é›†åˆ°çš„æ€§èƒ½æ•°æ®æ˜¯ä»¥å•ä¸ªæ–‡ä»¶çš„æ–¹å¼å­˜å‚¨ï¼Œxhprof_htmlæä¾›çš„Webå±•ç¤ºåŠŸèƒ½æ¯æ¬¡åªèƒ½åˆ†æå±•ç¤ºå•ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæ— æ³•å…³è”å¤šæ¬¡æ”¶é›†çš„æ€§èƒ½æ•°æ®è¿›è¡Œåˆ†æ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰€ä»¥å¼€æºç¤¾åŒºæœ‰ä¸€äº›xhprofçš„è¡ç”Ÿç‰ˆæœ¬ï¼Œç›¸æ¯”â€åŸç”Ÿâ€xhprofï¼ŒåŒºåˆ«ä¸»è¦åœ¨æ•°æ®å­˜å‚¨ä¸åˆ†æã€‚&lt;/p&gt;
&lt;h3&gt;XHProf UI&lt;/h3&gt;
&lt;p&gt;é’ˆå¯¹ä¸Šè¿°çš„ä¸¤ç‚¹é—®é¢˜ï¼Œæˆ‘é€‰æ‹© &lt;a href="https://github.com/preinheimer/xhprof"&gt;XHProf UI&lt;/a&gt; è¿›è¡Œé¢å¤–éƒ¨ç½²ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;1.ä» GitHub ä¸Šå…‹éš†ä»£ç åº“ï¼š&lt;code&gt;git clone https://github.com/preinheimer/xhprof.git xhprof-ui&lt;/code&gt;ï¼ˆæ³¨ï¼šè¿™é‡ŒæŒ‡å®šäº†å…‹éš†çš„ç›®æ ‡ç›®å½•ä¸ºxhprof-uiï¼Œä»¥åŒºåˆ†åŸæ¥éƒ¨ç½²çš„åŸç”Ÿxhprofï¼‰&lt;/p&gt;
&lt;p&gt;2.ä¾ç…§åŸç”ŸXHprofå®‰è£…æ­¥éª¤çš„2-7æ“ä½œ&lt;/p&gt;
&lt;p&gt;3.å› ä¸ºXHProf UIé»˜è®¤ä½¿ç”¨MySQLæ¥å­˜å‚¨æ€§èƒ½æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œæ•°æ®åº“é…ç½®ã€‚å°†æ–‡ä»¶&lt;code&gt;/path/to/xhprof-ui/xhprof_lib/&lt;/code&gt;ç›®å½•ä¸‹çš„&lt;code&gt;config.sample.php&lt;/code&gt;é‡å‘½åä¸º&lt;code&gt;config.php&lt;/code&gt;ï¼Œç„¶åä¿®æ”¹å¦‚ä¸‹é…ç½®é¡¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;// Change these:
$_xhprof&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;dbtype&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;#39;mysql&amp;#39;&lt;/span&gt;; // Only relevant for PDO
$_xhprof&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;dbhost&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;;
$_xhprof&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;dbuser&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;#39;root&amp;#39;&lt;/span&gt;;
$_xhprof&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;dbpass&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;#39;password&amp;#39;&lt;/span&gt;;
$_xhprof&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;dbname&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;#39;xhprof&amp;#39;&lt;/span&gt;;
$_xhprof&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;dbadapter&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;#39;Pdo&amp;#39;&lt;/span&gt;;
// æ³¨æ„&lt;span style="border: 1px solid #FF0000"&gt;ï¼š&lt;/span&gt;è¿™é‡Œæœ‰ä¸ªå‘&lt;span style="border: 1px solid #FF0000"&gt;ï¼Œ&lt;/span&gt;$_xhprof&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;servername&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt;çš„å€¼ä¸èƒ½è¶…è¿‡ä¸‰ä¸ªå­—ç¬¦&lt;span style="border: 1px solid #FF0000"&gt;ï¼Œ&lt;/span&gt;è¿™ä¸ªé…ç½®é¡¹å³å¯¹åº”æ•°æ®è¡¨detailsçš„server_idå­—æ®µ
$_xhprof&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;servername&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;#39;myserver&amp;#39;&lt;/span&gt;;
$_xhprof&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;namespace&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;#39;myapp&amp;#39;&lt;/span&gt;;
$_xhprof&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;url&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;#39;http://url/to/xhprof/xhprof_html&amp;#39;&lt;/span&gt;;

//These are good for linux and its derivatives.
&lt;span style="color: #008000"&gt;/*&lt;/span&gt;
&lt;span style="color: #008000"&gt;$_xhprof&lt;/span&gt;&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;dot_binary&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt;&lt;span style="color: #008000"&gt;  = &amp;#39;/usr/bin/dot&amp;#39;;&lt;/span&gt;
&lt;span style="color: #008000"&gt;$_xhprof&lt;/span&gt;&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;dot_tempdir&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt;&lt;span style="color: #008000"&gt; = &amp;#39;/tmp&amp;#39;;&lt;/span&gt;
&lt;span style="color: #008000"&gt;$_xhprof&lt;/span&gt;&lt;span style="color: #0000ff"&gt;[&lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;#39;dot_errfile&amp;#39;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;]&lt;/span&gt;&lt;span style="color: #008000"&gt; = &amp;#39;/tmp/xh_dot.err&amp;#39;;&lt;/span&gt;
&lt;span style="color: #008000"&gt;*/&lt;/span&gt;

// $controlIPs = false; //Disables access controlls completely. 
$controlIPs = array();
$controlIPs&lt;span style="color: #0000ff"&gt;[]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;quot;127.0.0.1&amp;quot;&lt;/span&gt;;   // localhost, you&lt;span style="border: 1px solid #FF0000"&gt;&amp;#39;&lt;/span&gt;ll want to add your own ip here
$controlIPs&lt;span style="color: #0000ff"&gt;[]&lt;/span&gt; = &lt;span style="color: #a31515"&gt;&amp;quot;::1&amp;quot;&lt;/span&gt;;         // localhost IP v6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¹¶åˆ›å»ºç›¸åº”çš„æ•°æ®åº“&lt;code&gt;xhprof&lt;/code&gt;å’Œæ•°æ®è¡¨&lt;code&gt;details&lt;/code&gt;ï¼Œå…¶ä¸­åˆ›å»ºæ•°æ®è¡¨&lt;code&gt;details&lt;/code&gt;çš„SQLè¯­å¥è§æ–‡ä»¶&lt;code&gt;/path/to/xhprof-ui/xhprof_lib/utils/xhprof_runs.php&lt;/code&gt;ï¼Œä¹Ÿå¯è§ &lt;a href="https://github.com/toomasr/xhprof/blob/master/xhprof_lib/utils/xhprof_runs.php#L109"&gt;è¿™é‡Œ&lt;/a&gt; ï¼Œ&lt;a href="https://github.com/preinheimer/xhprof"&gt;XHProf UI&lt;/a&gt; ä»£ç çš„&lt;code&gt;README.markdown&lt;/code&gt;æœ‰æ–‡æ¡£è¯´æ˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å‰é¢è¯´è¿‡â€œåŸç”Ÿâ€xhprofçš„é—®é¢˜ä¹‹ä¸€æ˜¯ï¼šâ€œéœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸­æ³¨å…¥xhprofçš„å‡½æ•°è°ƒç”¨ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™å¹¶ä¸å¤ªåˆé€‚â€ã€‚é‚£ä¹ˆXHProf UIæ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶php.iniä¸­æœ‰å¯¹é…ç½®é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;auto_prepend_file&lt;/code&gt;ï¼šæŒ‡å®šçš„è„šæœ¬æ–‡ä»¶ä¼šåœ¨ç›®æ ‡è„šæœ¬æ‰§è¡Œ&lt;strong&gt;ä¹‹å‰&lt;/strong&gt;è‡ªåŠ¨è§£ææ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;auto_append_file&lt;/code&gt;ï¼šæŒ‡å®šçš„è„šæœ¬æ–‡ä»¶ä¼šåœ¨ç›®æ ‡è„šæœ¬æ‰§è¡Œ&lt;strong&gt;ä¹‹å&lt;/strong&gt;è‡ªåŠ¨è§£ææ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;XHProf UIæä¾›è„šæœ¬&lt;code&gt;/path/to/xhprof-ui/external/header.php&lt;/code&gt;ç”¨äºé…ç½®&lt;code&gt;auto_prepend_file&lt;/code&gt;ï¼Œå³åœ¨æ‰€æœ‰ç›®æ ‡PHPç¨‹åºè¿è¡Œä¹‹å‰è‡ªåŠ¨æ³¨å…¥xhprofæ€§èƒ½æ•°æ®æ”¶é›†èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;é…ç½®&lt;code&gt;auto_prepend_file&lt;/code&gt;çš„æ–¹å¼æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯ç›´æ¥ä¿®æ”¹php.iniçš„&lt;code&gt;auto_prepend_file&lt;/code&gt;é…ç½®é¡¹ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡Nginx/Apacheç­‰HTTPæœåŠ¡å™¨ä¼ é€é…ç½®æŒ‡ä»¤ç»™PHP-FPMè¿›ç¨‹ï¼Œå¦‚åœ¨Nginxçš„ç›®æ ‡serveré…ç½®å—ä¸­æ·»åŠ ä¸€è¡Œï¼š&lt;code&gt;fastcgi_param PHP_VALUE "auto_prepend_file=/path/to/xhprof-ui/external/header.php";&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤XHProf UIä¸ä¼šå¯¹PHP Webåº”ç”¨æ”¶é›†æ€§èƒ½åˆ†ææ•°æ®ï¼Œå¯ä»¥åœ¨è¯·æ±‚Webåº”ç”¨çš„ä»»æ„URLæ—¶ï¼Œæ·»åŠ GETå‚æ•°&lt;code&gt;_profile=1&lt;/code&gt;æ¥å¯ç”¨ï¼Œ&lt;code&gt;/path/to/xhprof-ui/external/header.php&lt;/code&gt;è„šæœ¬ä¼šæ£€æŸ¥&lt;code&gt;_profile&lt;/code&gt;å‚æ•°ï¼Œå¹¶å°†å‚æ•°å€¼å†™åˆ°cookieä¸­&lt;code&gt;setcookie('_profile', $_GET['_profile']);&lt;/code&gt;ï¼ˆè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡è¯·æ±‚éƒ½å¸¦GETå‚æ•°&lt;code&gt;_profile=1&lt;/code&gt;ï¼Œå¹¶ä¸”cookieæ˜¯é’ˆå¯¹åŸŸåçš„ï¼Œè¿™æ ·ä¹Ÿå°±åŒåŸŸåä¸‹çš„å…¶ä»–URLè¯·æ±‚å¯ç”¨äº†æ€§èƒ½åˆ†æï¼‰ï¼Œç„¶åå¯¹ç›®æ ‡URLå»æ‰å‚æ•°&lt;code&gt;_profile&lt;/code&gt;åå‘èµ·é‡å®šå‘ï¼›å¯¹äºä¸å¸¦GETå‚æ•°&lt;code&gt;_profile&lt;/code&gt;çš„URLè¯·æ±‚ï¼Œ&lt;code&gt;header.php&lt;/code&gt;ä¼šç»§ç»­æ£€æŸ¥æ˜¯å¦å­˜åœ¨åä¸º&lt;code&gt;_profile&lt;/code&gt;çš„cookieï¼Œå¦‚æœå­˜åœ¨ä¸”å€¼ä¸ºå¸ƒå°”çœŸï¼Œåˆ™è®¾ç½®æ¡ä»¶å˜é‡å¯ç”¨æ€§èƒ½åˆ†æï¼Œå¦åˆ™ä¸å¯ç”¨ã€‚è‹¥æƒ³è¦å¯¹å·²å¯ç”¨æ€§èƒ½åˆ†æçš„åŸŸåç¦ç”¨æ€§èƒ½åˆ†æï¼Œåˆ™å¯ä»¥é€šè¿‡å¯¹URLè¯·æ±‚æ·»åŠ GETå‚æ•°&lt;code&gt;_profile=0&lt;/code&gt;æ¥ç¦ç”¨ï¼Œå› ä¸º&lt;code&gt;header.php&lt;/code&gt;åœ¨æ£€æŸ¥cookieæ—¶å‘ç°&lt;code&gt;_profile&lt;/code&gt;å€¼ä¸ºå¸ƒå°”å‡ï¼ˆ0ï¼‰ï¼Œæ‰€ä»¥ä¸ä¼šå¯ç”¨æ€§èƒ½åˆ†æã€‚&lt;/p&gt;
&lt;h3&gt;æœ¯è¯­&lt;/h3&gt;
&lt;p&gt;åœ¨æŸ¥çœ‹ Xhprof æˆ– XHProf UI å±•ç¤ºçš„æ€§èƒ½æ•°æ®æ—¶ï¼Œä¼šé‡åˆ°ä»¥ä¸‹å‡ ä¸ªæœ¯è¯­ï¼Œå…¶å«ä¹‰å¯¹åº”å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Calls / Call Countï¼šå‡½æ•°/æ–¹æ³•è¢«è°ƒç”¨çš„æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;Incl. Wall Time / Wall Timeï¼šæ‰§è¡Œè¯¥å‡½æ•°/æ–¹æ³•å®é™…è€—è´¹çš„æ—¶é—´&lt;/li&gt;
&lt;li&gt;Incl. MemUse / Memory Usageï¼šè¯¥å‡½æ•°/æ–¹æ³•å½“å‰å ç”¨çš„å†…å­˜&lt;/li&gt;
&lt;li&gt;Incl. PeakMemUse / Peak Memory Usageï¼šå‡½æ•°/æ–¹æ³•å ç”¨å†…å­˜çš„å³°å€¼ï¼ˆæ³¨ï¼šæˆ‘ä¹Ÿä¸çŸ¥é“è¿™ä¸ªå³°å€¼æ˜¯æ€ä¹ˆç®—çš„ï¼‰&lt;/li&gt;
&lt;li&gt;Incl. CPU / CPUï¼šæ‰§è¡Œè¯¥å‡½æ•°/æ–¹æ³•ï¼ŒèŠ±è´¹çš„CPUæ—¶é—´&lt;/li&gt;
&lt;li&gt;Excl. Wall Time / Exclusive Wall Time&lt;/li&gt;
&lt;li&gt;Excl. MemUse / Exclusive Memory Usage&lt;/li&gt;
&lt;li&gt;Excl. PeakMemUse / Exclusive Peak Memory Usage&lt;/li&gt;
&lt;li&gt;Exclusive CPU&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ¯è¯­ä¸­çš„&lt;code&gt;Incl&lt;/code&gt;è¡¨ç¤º&lt;code&gt;Inclusive&lt;/code&gt;ï¼Œ&lt;code&gt;Excl&lt;/code&gt;è¡¨ç¤º&lt;code&gt;Exclusive&lt;/code&gt;ã€‚&lt;code&gt;Inclusive&lt;/code&gt;è¡¨ç¤ºæµ‹é‡åˆ°çš„æ•°æ®æ˜¯&lt;strong&gt;å‡½æ•°/æ–¹æ³•æœ¬èº«åŠæ‰€æœ‰è°ƒç”¨çš„å­å‡½æ•°/æ–¹æ³•æ€»å…±è€—è´¹å ç”¨çš„èµ„æº&lt;/strong&gt;ï¼Œ&lt;code&gt;Exclusive&lt;/code&gt;åˆ™è¡¨ç¤º&lt;strong&gt;ä¸åŒ…å«è°ƒç”¨çš„å­å‡½æ•°/æ–¹æ³•è€—è´¹å ç”¨çš„èµ„æº&lt;/strong&gt;ã€‚å¦å¤–ï¼Œæ‰€æœ‰æµ‹é‡å€¼éƒ½æ˜¯æ¯ä¸ªå‡½æ•°/æ–¹æ³•è°ƒç”¨åœ¨æ¬¡æ•°ä¸Šçš„å åŠ ã€‚&lt;/p&gt;
&lt;h3&gt;å‚è€ƒèµ„æ–™&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/zh/book.xhprof.php"&gt;PHPæ‰‹å†Œ-å±‚æ¬¡å¼æ€§èƒ½åˆ†æå™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.engineyard.com/2014/profiling-with-xhprof-xhgui-part-1"&gt;Profiling PHP Part 1: Intro to Xhprof &amp;amp; Xhgui&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.engineyard.com/2014/profiling-with-xhprof-xhgui-part-2"&gt;Profiling PHP Part 2: Xhgui In-Depth&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="ç¬”è®°"></category><category term="Xhprof"></category></entry><entry><title>Yiiæºç é˜…è¯»ç¬”è®° - é”™è¯¯/å¼‚å¸¸å¤„ç†</title><link href="http://youngsterxyf.github.io/2015/09/14/read-yii-code-10/" rel="alternate"></link><published>2015-09-14T00:00:00+08:00</published><updated>2015-09-14T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-09-14:/2015/09/14/read-yii-code-10/</id><summary type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;PHPåŒºåˆ†â€œé”™è¯¯â€ï¼ˆErrorï¼‰å’Œâ€œå¼‚å¸¸â€ï¼ˆExceptionï¼‰ã€‚â€œé”™è¯¯â€é€šå¸¸æ˜¯ç”±PHPå†…éƒ¨å‡½æ•°æŠ›å‡ºï¼Œè¡¨ç¤ºè¿è¡Œæ—¶é—®é¢˜ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°&lt;code&gt;trigger_error&lt;/code&gt;æˆ–&lt;code&gt;user_error&lt;/code&gt;æŠ›å‡ºä¸€ä¸ªç”¨æˆ·çº§åˆ«çš„error/warning/noticeä¿¡æ¯ã€‚ä½†åœ¨ â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;PHPåŒºåˆ†â€œé”™è¯¯â€ï¼ˆErrorï¼‰å’Œâ€œå¼‚å¸¸â€ï¼ˆExceptionï¼‰ã€‚â€œé”™è¯¯â€é€šå¸¸æ˜¯ç”±PHPå†…éƒ¨å‡½æ•°æŠ›å‡ºï¼Œè¡¨ç¤ºè¿è¡Œæ—¶é—®é¢˜ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°&lt;code&gt;trigger_error&lt;/code&gt;æˆ–&lt;code&gt;user_error&lt;/code&gt;æŠ›å‡ºä¸€ä¸ªç”¨æˆ·çº§åˆ«çš„error/warning/noticeä¿¡æ¯ã€‚ä½†åœ¨å¼•å…¥é¢å‘å¯¹è±¡ä¹‹åï¼Œç›¸æ¯”ä½¿ç”¨&lt;code&gt;trigger_error&lt;/code&gt;æŠ›å‡ºé”™è¯¯ï¼Œä½¿ç”¨throwæŠ›å‡ºå¼‚å¸¸æ›´å¸¸ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºâ€œé”™è¯¯â€ï¼ŒPHPå…è®¸é…ç½®æŠ¥å‘Šå“ªäº›çº§åˆ«/ç±»å‹é”™è¯¯ã€æ˜¯å¦ï¼ˆå‘ç”¨æˆ·ï¼‰å±•ç¤ºé”™è¯¯ã€æ˜¯å¦å¯¹é”™è¯¯è®°å½•æ—¥å¿—ã€é”™è¯¯æ—¥å¿—è®°åˆ°å“ªï¼Œåˆ†åˆ«å¯¹åº”php.iniä¸­çš„é…ç½®é¡¹ï¼š&lt;code&gt;error_reporting&lt;/code&gt;ã€&lt;code&gt;display_errors&lt;/code&gt;ã€&lt;code&gt;log_errors&lt;/code&gt;ã€&lt;code&gt;error_log&lt;/code&gt;ã€‚è¯¦ç»†ä¿¡æ¯è§&lt;a href="http://php.net/manual/zh/language.errors.basics.php"&gt;è¿™é‡Œ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºåº”ç”¨ç¨‹åºå†…å±‚è°ƒç”¨æŠ›å‡ºçš„â€œå¼‚å¸¸â€ï¼Œä¸€èˆ¬å¯ä»¥åœ¨å¤–å±‚ä¸­ä½¿ç”¨try...catchæ¥æ•è·å¹¶è‡ªå®šä¹‰å¤„ç†è¿‡ç¨‹ã€‚ä½†å¯¹äºâ€œé”™è¯¯â€ï¼ˆPHPè¿è¡Œæ—¶æŠ›å‡ºæˆ–è€…åº”ç”¨ç¨‹åºä½¿ç”¨trigger_erroræŠ›å‡ºçš„ï¼‰æˆ–è€…å¯¹äº-æ— æ³•ä½¿ç”¨try...catchæ¥æ•è·å¯èƒ½çš„å¼‚å¸¸/ä¸ºäº†åšåˆ°å³ä½¿å¿˜è®°æ•è·çš„å¼‚å¸¸ä¹Ÿèƒ½å¾—åˆ°è‡ªå®šä¹‰å¤„ç†-çš„æƒ…å†µï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿå¯¹æ­¤ï¼ŒPHPæä¾›äº†å‡½æ•°&lt;code&gt;set_error_handler&lt;/code&gt;å’Œ&lt;code&gt;set_exception_handler&lt;/code&gt;æ¥æ³¨å†Œé”™è¯¯/å¼‚å¸¸è‡ªå®šä¹‰å¤„ç†è¿‡ç¨‹ã€‚å¦‚æœåœ¨ç¨‹åºçš„æ‰§è¡Œæµä¸­å…ˆåå¤šæ¬¡è°ƒç”¨äº†&lt;code&gt;set_error_handler&lt;/code&gt;æˆ–&lt;code&gt;set_exception_handler&lt;/code&gt;ï¼Œåä¸€æ¬¡æ³¨å†Œçš„å¤„ç†è¿‡ç¨‹ä¼šè¦†ç›–å‰ä¸€æ¬¡çš„ï¼Œä½†å¯ä»¥é€šè¿‡å‡½æ•°&lt;code&gt;restore_error_handler&lt;/code&gt;æˆ–&lt;code&gt;restore_exception_handler&lt;/code&gt;æ¥æ¢å¤å‰ä¸€æ¬¡æ³¨å†Œçš„å¼‚å¸¸å¤„ç†è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ä¹‹æ‰€ä»¥å†™è¿™ç¯‡æ–‡ç« ï¼Œæ˜¯å› ä¸ºæœ€è¿‘åœ¨å·¥ä½œä¸­çŠ¯äº†ä¸€ä¸ªä½çº§é”™è¯¯ï¼šåº”ç”¨ç¨‹åºä¸­æœ‰ä¸ªAPIå¯¹äºä¸åˆæ³•çš„è¯·æ±‚å‚æ•°ç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼ˆ&lt;code&gt;throw new Exception("xxx")&lt;/code&gt;ï¼‰ï¼Œå´å¿˜äº†try...catchæ•æ‰ï¼Œå¯¼è‡´å¼‚å¸¸è¢«Yiiæ¡†æ¶ï¼ˆæˆ‘ä»¬çš„åº”ç”¨åŸºäºYiiå¼€å‘ï¼‰é€šè¿‡set_exception_handleræ³¨å†Œçš„æ–¹æ³•å¤„ç† - å“åº”500ï¼Œä¹‹åè¿™ä¸ªAPIè¢«ä¸€ä¸ªæ‰«æå™¨æ‹¼å‘½æ‰«ï¼Œå¯¼è‡´å‡ºç°å¾ˆå¤š500å“åº”ï¼Œè§¦å‘äº†å‘Šè­¦ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;åˆ†æ&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹çœ‹Yiiæ¡†æ¶åœ¨å“ªä¸ªåœ°æ–¹æ³¨å†Œé”™è¯¯/å¼‚å¸¸å¤„ç†è¿‡ç¨‹ï¼Ÿå¤„ç†è¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;Yiiæ¡†æ¶åœ¨è¯·æ±‚å¤„ç†åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œåœ¨&lt;code&gt;CApplication&lt;/code&gt;ç±»ï¼ˆè§æ–‡ä»¶&lt;code&gt;base/CApplication.php&lt;/code&gt;ï¼‰çš„æ„é€ æ–¹æ³•ä¸­è°ƒç”¨äº†ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$this-&amp;gt;initSystemHandlers();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;initSystemHandlers&lt;/code&gt;çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #a31515"&gt;/**&lt;/span&gt;
&lt;span style="color: #a31515"&gt; * Initializes the class autoloader and error handlers.&lt;/span&gt;
&lt;span style="color: #a31515"&gt; */&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;protected&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; initSystemHandlers()
{
    &lt;span style="color: #008000"&gt;// æ³¨ï¼šå¦‚æœä¸æƒ³ä½¿ç”¨Yiiæ¡†æ¶æ³¨å†Œçš„handleExceptionï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–åº”ç”¨å®ä¾‹ä¹‹å‰ï¼Œå®šä¹‰å¸¸é‡YII_ENABLE_EXCEPTION_HANDLERå€¼ä¸ºfalse&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(YII_ENABLE_EXCEPTION_HANDLER)
        set_exception_handler(&lt;span style="color: #0000ff"&gt;array&lt;/span&gt;($this,&lt;span style="color: #a31515"&gt;&amp;#39;handleException&amp;#39;&lt;/span&gt;));
    &lt;span style="color: #008000"&gt;// æ³¨ï¼šYII_ENABLE_ERROR_HANDLERä¹Ÿæ˜¯å¦‚æ­¤&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(YII_ENABLE_ERROR_HANDLER)
        set_error_handler(&lt;span style="color: #0000ff"&gt;array&lt;/span&gt;($this,&lt;span style="color: #a31515"&gt;&amp;#39;handleError&amp;#39;&lt;/span&gt;),error_reporting());
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ³¨å†Œçš„æ–¹æ³•&lt;code&gt;handleException&lt;/code&gt;å’Œ&lt;code&gt;handleError&lt;/code&gt;å®ç°åˆ†åˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; handleException($exception)
{
    &lt;span style="color: #008000"&gt;// disable error capturing to avoid recursive errors&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// è¿™å¥æ³¨é‡Šæ˜¯å•¥æ„æ€ï¼Ÿ&lt;/span&gt;
    restore_error_handler();
    restore_exception_handler();

    &lt;span style="color: #008000"&gt;// ç”Ÿæˆå¹¶è®°å½•æ—¥å¿—ä¿¡æ¯&lt;/span&gt;
    $category=&lt;span style="color: #a31515"&gt;&amp;#39;exception.&amp;#39;&lt;/span&gt;.get_class($exception);
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($exception instanceof CHttpException)
        $category.=&lt;span style="color: #a31515"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;.$exception-&amp;gt;statusCode;
    &lt;span style="color: #008000"&gt;// php &amp;lt;5.2 doesn&amp;#39;t support string conversion auto-magically&lt;/span&gt;
    $message=$exception-&amp;gt;__toString();
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(isset($_SERVER[&lt;span style="color: #a31515"&gt;&amp;#39;REQUEST_URI&amp;#39;&lt;/span&gt;]))
        $message.=&lt;span style="color: #a31515"&gt;&amp;quot;\nREQUEST_URI=&amp;quot;&lt;/span&gt;.$_SERVER[&lt;span style="color: #a31515"&gt;&amp;#39;REQUEST_URI&amp;#39;&lt;/span&gt;];
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(isset($_SERVER[&lt;span style="color: #a31515"&gt;&amp;#39;HTTP_REFERER&amp;#39;&lt;/span&gt;]))
        $message.=&lt;span style="color: #a31515"&gt;&amp;quot;\nHTTP_REFERER=&amp;quot;&lt;/span&gt;.$_SERVER[&lt;span style="color: #a31515"&gt;&amp;#39;HTTP_REFERER&amp;#39;&lt;/span&gt;];
    $message.=&lt;span style="color: #a31515"&gt;&amp;quot;\n---&amp;quot;&lt;/span&gt;;
    Yii::log($message,CLogger::LEVEL_ERROR,$category);

    &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;
    {
        &lt;span style="color: #008000"&gt;// å°†å¼‚å¸¸å°è£…æˆäº‹ä»¶ï¼Œå¹¶è§¦å‘äº‹ä»¶ï¼Œä»è€Œè§¦å‘ç›‘å¬è¯¥äº‹ä»¶çš„å¤„ç†è¿‡ç¨‹&lt;/span&gt;
        $event=&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; CExceptionEvent($this,$exception);
        $this-&amp;gt;onException($event);
        &lt;span style="color: #008000"&gt;// å¦‚æœäº‹ä»¶å¹¶æ²¡æœ‰è¢«å¤„ç†ï¼ˆå³æ²¡æœ‰ç›‘å¬è¯¥äº‹ä»¶çš„å¤„ç†è¿‡ç¨‹ï¼‰æˆ–è€…æ‰€æœ‰å¤„ç†è¿‡ç¨‹éƒ½æ²¡æœ‰å°†äº‹ä»¶çš„handledå±æ€§ç½®ä¸ºtrueï¼Œåˆ™è¿˜å¾—è‡ªå·±å¤„ç†ä¸€ä¸‹&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!$event-&amp;gt;handled)
        {
            &lt;span style="color: #008000"&gt;// try an error handler&lt;/span&gt;
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(($handler=$this-&amp;gt;getErrorHandler())!==&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)
                $handler-&amp;gt;handle($event);
            &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
                $this-&amp;gt;displayException($exception);
        }
    }
    &lt;span style="color: #0000ff"&gt;catch&lt;/span&gt;(Exception $e)
    {
        $this-&amp;gt;displayException($e);
    }

    &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;
    {
        &lt;span style="color: #008000"&gt;// å°è¯•è§¦å‘onEndRequestäº‹ä»¶&lt;/span&gt;
        $this-&amp;gt;end(1);
    }
    &lt;span style="color: #0000ff"&gt;catch&lt;/span&gt;(Exception $e)
    {
        &lt;span style="color: #008000"&gt;// use the most primitive way to log error&lt;/span&gt;
        $msg = get_class($e).&lt;span style="color: #a31515"&gt;&amp;#39;: &amp;#39;&lt;/span&gt;.$e-&amp;gt;getMessage().&lt;span style="color: #a31515"&gt;&amp;#39; (&amp;#39;&lt;/span&gt;.$e-&amp;gt;getFile().&lt;span style="color: #a31515"&gt;&amp;#39;:&amp;#39;&lt;/span&gt;.$e-&amp;gt;getLine().&lt;span style="color: #a31515"&gt;&amp;quot;)\n&amp;quot;&lt;/span&gt;;
        $msg .= $e-&amp;gt;getTraceAsString().&lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;;
        $msg .= &lt;span style="color: #a31515"&gt;&amp;quot;Previous exception:\n&amp;quot;&lt;/span&gt;;
        $msg .= get_class($exception).&lt;span style="color: #a31515"&gt;&amp;#39;: &amp;#39;&lt;/span&gt;.$exception-&amp;gt;getMessage().&lt;span style="color: #a31515"&gt;&amp;#39; (&amp;#39;&lt;/span&gt;.$exception-&amp;gt;getFile().&lt;span style="color: #a31515"&gt;&amp;#39;:&amp;#39;&lt;/span&gt;.$exception-&amp;gt;getLine().&lt;span style="color: #a31515"&gt;&amp;quot;)\n&amp;quot;&lt;/span&gt;;
        $msg .= $exception-&amp;gt;getTraceAsString().&lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;;
        $msg .= &lt;span style="color: #a31515"&gt;&amp;#39;$_SERVER=&amp;#39;&lt;/span&gt;.var_export($_SERVER,&lt;span style="color: #0000ff"&gt;true&lt;/span&gt;);
        error_log($msg);
        &lt;span style="color: #0000ff"&gt;exit&lt;/span&gt;(1);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; handleError($code,$message,$file,$line)
{
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($code &amp;amp; error_reporting())
    {
        &lt;span style="color: #008000"&gt;// disable error capturing to avoid recursive errors&lt;/span&gt;
        restore_error_handler();
        restore_exception_handler();

        &lt;span style="color: #008000"&gt;// ç”Ÿæˆå¹¶è®°å½•æ—¥å¿—ä¿¡æ¯&lt;/span&gt;
        $log=&lt;span style="color: #a31515"&gt;&amp;quot;$message ($file:$line)\nStack trace:\n&amp;quot;&lt;/span&gt;;

        &lt;span style="color: #008000"&gt;// debug_backtrace() äº§ç”Ÿä¸€æ¡ PHP çš„å›æº¯è·Ÿè¸ª&lt;/span&gt;
        $trace=debug_backtrace();
        &lt;span style="color: #008000"&gt;// skip the first 3 stacks as they do not tell the error position&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(count($trace)&amp;gt;3)
            $trace=array_slice($trace,3);
        &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;($trace &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; $i=&amp;gt;$t)
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]))
                $t[&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]=&lt;span style="color: #a31515"&gt;&amp;#39;unknown&amp;#39;&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]))
                $t[&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]=0;
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]))
                $t[&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]=&lt;span style="color: #a31515"&gt;&amp;#39;unknown&amp;#39;&lt;/span&gt;;
            $log.=&lt;span style="color: #a31515"&gt;&amp;quot;#$i {&lt;/span&gt;$t[&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]&lt;span style="color: #a31515"&gt;}({&lt;/span&gt;$t[&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]&lt;span style="color: #a31515"&gt;}): &amp;quot;&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]) &amp;amp;&amp;amp; is_object($t[&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]))
                $log.=get_class($t[&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]).&lt;span style="color: #a31515"&gt;&amp;#39;-&amp;gt;&amp;#39;&lt;/span&gt;;
            $log.=&lt;span style="color: #a31515"&gt;&amp;quot;{&lt;/span&gt;$t[&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]&lt;span style="color: #a31515"&gt;}()\n&amp;quot;&lt;/span&gt;;
        }
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(isset($_SERVER[&lt;span style="color: #a31515"&gt;&amp;#39;REQUEST_URI&amp;#39;&lt;/span&gt;]))
            $log.=&lt;span style="color: #a31515"&gt;&amp;#39;REQUEST_URI=&amp;#39;&lt;/span&gt;.$_SERVER[&lt;span style="color: #a31515"&gt;&amp;#39;REQUEST_URI&amp;#39;&lt;/span&gt;];
        Yii::log($log,CLogger::LEVEL_ERROR,&lt;span style="color: #a31515"&gt;&amp;#39;php&amp;#39;&lt;/span&gt;);

        &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;
        {
            &lt;span style="color: #008000"&gt;// å°†é”™è¯¯å°è£…æˆäº‹ä»¶ï¼Œå¹¶è§¦å‘&lt;/span&gt;
            Yii::import(&lt;span style="color: #a31515"&gt;&amp;#39;CErrorEvent&amp;#39;&lt;/span&gt;,&lt;span style="color: #0000ff"&gt;true&lt;/span&gt;);
            $event=&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; CErrorEvent($this,$code,$message,$file,$line);
            $this-&amp;gt;onError($event);
            &lt;span style="color: #008000"&gt;// å¦‚æœé”™è¯¯äº‹ä»¶æœªè¢«å¤„ç†&lt;/span&gt;
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!$event-&amp;gt;handled)
            {
                &lt;span style="color: #008000"&gt;// try an error handler&lt;/span&gt;
                &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(($handler=$this-&amp;gt;getErrorHandler())!==&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)
                    $handler-&amp;gt;handle($event);
                &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
                    $this-&amp;gt;displayError($code,$message,$file,$line);
            }
        }
        &lt;span style="color: #0000ff"&gt;catch&lt;/span&gt;(Exception $e)
        {
            $this-&amp;gt;displayException($e);
        }

        &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;
        {
            &lt;span style="color: #008000"&gt;// å°è¯•è§¦å‘onEndRequestäº‹ä»¶&lt;/span&gt;
            $this-&amp;gt;end(1);
        }
        &lt;span style="color: #0000ff"&gt;catch&lt;/span&gt;(Exception $e)
        {
            &lt;span style="color: #008000"&gt;// use the most primitive way to log error&lt;/span&gt;
            $msg = get_class($e).&lt;span style="color: #a31515"&gt;&amp;#39;: &amp;#39;&lt;/span&gt;.$e-&amp;gt;getMessage().&lt;span style="color: #a31515"&gt;&amp;#39; (&amp;#39;&lt;/span&gt;.$e-&amp;gt;getFile().&lt;span style="color: #a31515"&gt;&amp;#39;:&amp;#39;&lt;/span&gt;.$e-&amp;gt;getLine().&lt;span style="color: #a31515"&gt;&amp;quot;)\n&amp;quot;&lt;/span&gt;;
            $msg .= $e-&amp;gt;getTraceAsString().&lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;;
            $msg .= &lt;span style="color: #a31515"&gt;&amp;quot;Previous error:\n&amp;quot;&lt;/span&gt;;
            $msg .= $log.&lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;;
            $msg .= &lt;span style="color: #a31515"&gt;&amp;#39;$_SERVER=&amp;#39;&lt;/span&gt;.var_export($_SERVER,&lt;span style="color: #0000ff"&gt;true&lt;/span&gt;);
            error_log($msg);
            &lt;span style="color: #0000ff"&gt;exit&lt;/span&gt;(1);
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œæ–¹æ³•&lt;code&gt;handleException&lt;/code&gt;çš„å…³é”®éƒ¨åˆ†ï¼ˆ&lt;code&gt;handleError&lt;/code&gt;ç±»ä¼¼ï¼‰ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// å°†å¼‚å¸¸å°è£…æˆäº‹ä»¶ï¼Œå¹¶è§¦å‘äº‹ä»¶ï¼Œä»è€Œè§¦å‘ç›‘å¬è¯¥äº‹ä»¶çš„å¤„ç†è¿‡ç¨‹&lt;/span&gt;
$event=&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; CExceptionEvent($this,$exception);
$this-&amp;gt;onException($event);
&lt;span style="color: #008000"&gt;// å¦‚æœäº‹ä»¶å¹¶æ²¡æœ‰è¢«å¤„ç†ï¼ˆå³æ²¡æœ‰ç›‘å¬è¯¥äº‹ä»¶çš„å¤„ç†è¿‡ç¨‹ï¼‰æˆ–è€…æ‰€æœ‰å¤„ç†è¿‡ç¨‹éƒ½æ²¡æœ‰å°†äº‹ä»¶çš„handledå±æ€§ç½®ä¸ºtrueï¼Œåˆ™è¿˜å¾—è‡ªå·±å¤„ç†ä¸€ä¸‹&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!$event-&amp;gt;handled)
{
    &lt;span style="color: #008000"&gt;// try an error handler&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(($handler=$this-&amp;gt;getErrorHandler())!==&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)
        $handler-&amp;gt;handle($event);
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
        $this-&amp;gt;displayException($exception);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ–¹æ³•&lt;code&gt;onException&lt;/code&gt;çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; onException($event)
{
    $this-&amp;gt;raiseEvent(&lt;span style="color: #a31515"&gt;&amp;#39;onException&amp;#39;&lt;/span&gt;,$event);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;raiseEvent&lt;/code&gt;æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; raiseEvent($name,$event)
{
    &lt;span style="color: #008000"&gt;// æ ¹æ®äº‹ä»¶åç§°ï¼Œå¦‚onExceptionï¼Œæ‰¾åˆ°æ³¨å†Œåˆ°è¯¥äº‹ä»¶çš„å¤„ç†è¿‡ç¨‹ï¼Œé€ä¸ªè§¦å‘è°ƒç”¨ã€‚&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// æ‰€æœ‰è¯¥äº‹ä»¶æ³¨å†Œçš„å¤„ç†è¿‡ç¨‹å­˜æ”¾åœ¨$this-&amp;gt;_e[$name]ä¸­&lt;/span&gt;
    $name=strtolower($name);
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(isset($this-&amp;gt;_e[$name]))
    {
        &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;($this-&amp;gt;_e[$name] &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; $handler)
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(is_string($handler))
                call_user_func($handler,$event);
            &lt;span style="color: #0000ff"&gt;elseif&lt;/span&gt;(is_callable($handler,&lt;span style="color: #0000ff"&gt;true&lt;/span&gt;))
            {
                &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(is_array($handler))
                {
                    &lt;span style="color: #008000"&gt;// an array: 0 - object, 1 - method name&lt;/span&gt;
                    &lt;span style="color: #0000ff"&gt;list&lt;/span&gt;($object,$method)=$handler;
                    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(is_string($object))  &lt;span style="color: #008000"&gt;// static method call&lt;/span&gt;
                        call_user_func($handler,$event);
                    &lt;span style="color: #0000ff"&gt;elseif&lt;/span&gt;(method_exists($object,$method))
                        $object-&amp;gt;$method($event);
                    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
                        &lt;span style="color: #0000ff"&gt;throw&lt;/span&gt; &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; CException(Yii::t(&lt;span style="color: #a31515"&gt;&amp;#39;yii&amp;#39;&lt;/span&gt;,&lt;span style="color: #a31515"&gt;&amp;#39;Event &amp;quot;{class}.{event}&amp;quot; is attached with an invalid handler &amp;quot;{handler}&amp;quot;.&amp;#39;&lt;/span&gt;,
                            &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;{class}&amp;#39;&lt;/span&gt;=&amp;gt;get_class($this), &lt;span style="color: #a31515"&gt;&amp;#39;{event}&amp;#39;&lt;/span&gt;=&amp;gt;$name, &lt;span style="color: #a31515"&gt;&amp;#39;{handler}&amp;#39;&lt;/span&gt;=&amp;gt;$handler[1])));
                }
                &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; &lt;span style="color: #008000"&gt;// PHP 5.3: anonymous function&lt;/span&gt;
                    call_user_func($handler,$event);
            }
            &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
                &lt;span style="color: #0000ff"&gt;throw&lt;/span&gt; &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; CException(Yii::t(&lt;span style="color: #a31515"&gt;&amp;#39;yii&amp;#39;&lt;/span&gt;,&lt;span style="color: #a31515"&gt;&amp;#39;Event &amp;quot;{class}.{event}&amp;quot; is attached with an invalid handler &amp;quot;{handler}&amp;quot;.&amp;#39;&lt;/span&gt;,
                    &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;{class}&amp;#39;&lt;/span&gt;=&amp;gt;get_class($this), &lt;span style="color: #a31515"&gt;&amp;#39;{event}&amp;#39;&lt;/span&gt;=&amp;gt;$name, &lt;span style="color: #a31515"&gt;&amp;#39;{handler}&amp;#39;&lt;/span&gt;=&amp;gt;gettype($handler))));
            &lt;span style="color: #008000"&gt;// stop further handling if param.handled is set true&lt;/span&gt;
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(($event instanceof CEvent) &amp;amp;&amp;amp; $event-&amp;gt;handled)
                &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;;
        }
    }
    &lt;span style="color: #0000ff"&gt;elseif&lt;/span&gt;(YII_DEBUG &amp;amp;&amp;amp; !$this-&amp;gt;hasEvent($name))
        &lt;span style="color: #0000ff"&gt;throw&lt;/span&gt; &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; CException(Yii::t(&lt;span style="color: #a31515"&gt;&amp;#39;yii&amp;#39;&lt;/span&gt;,&lt;span style="color: #a31515"&gt;&amp;#39;Event &amp;quot;{class}.{event}&amp;quot; is not defined.&amp;#39;&lt;/span&gt;,
            &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;{class}&amp;#39;&lt;/span&gt;=&amp;gt;get_class($this), &lt;span style="color: #a31515"&gt;&amp;#39;{event}&amp;#39;&lt;/span&gt;=&amp;gt;$name)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é‚£ä¹ˆæ˜¯å¦‚ä½•æ³¨å†Œäº‹ä»¶çš„å¤„ç†è¿‡ç¨‹çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åœ¨ç±»&lt;code&gt;CComponent&lt;/code&gt;ï¼ˆè§æ–‡ä»¶&lt;code&gt;base/CComponent.php&lt;/code&gt;ï¼Œ&lt;code&gt;CApplication&lt;/code&gt;ç±»é—´æ¥ç»§æ‰¿è‡ªè¯¥ç±»ï¼‰ä¸­å®šä¹‰äº†ä¸€å¯¹æ–¹æ³•ï¼š&lt;code&gt;attachEventHandler&lt;/code&gt;ï¼ˆå°†å¤„ç†è¿‡ç¨‹ç»‘å®šåˆ°æŸäº‹ä»¶ï¼‰å’Œ&lt;code&gt;detachEventHandler&lt;/code&gt;ï¼ˆå°†å¤„ç†è¿‡ç¨‹ä»äº‹ä»¶è§£ç»‘ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•&lt;code&gt;attachEventHandler&lt;/code&gt;çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; attachEventHandler($name,$handler)
{
    $this-&amp;gt;getEventHandlers($name)-&amp;gt;add($handler);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­&lt;code&gt;getEventHandlers&lt;/code&gt;å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; getEventHandlers($name)
{
    &lt;span style="color: #008000"&gt;// å¯ä»¥å…³æ³¨ä¸€ä¸‹æ–¹æ³•hasEvent&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// æ£€æŸ¥æ˜¯å¦å­˜åœ¨$nameå¯¹åº”çš„äº‹ä»¶&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($this-&amp;gt;hasEvent($name))
    {
        $name=strtolower($name);
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($this-&amp;gt;_e[$name]))
            $this-&amp;gt;_e[$name]=&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; CList;
        &lt;span style="color: #008000"&gt;// è¿”å›å¯¹åº”äº‹ä»¶çš„å¤„ç†è¿‡ç¨‹åˆ—è¡¨&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; $this-&amp;gt;_e[$name];
    }
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;throw&lt;/span&gt; &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; CException(Yii::t(&lt;span style="color: #a31515"&gt;&amp;#39;yii&amp;#39;&lt;/span&gt;,&lt;span style="color: #a31515"&gt;&amp;#39;Event &amp;quot;{class}.{event}&amp;quot; is not defined.&amp;#39;&lt;/span&gt;,
            &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;{class}&amp;#39;&lt;/span&gt;=&amp;gt;get_class($this), &lt;span style="color: #a31515"&gt;&amp;#39;{event}&amp;#39;&lt;/span&gt;=&amp;gt;$name)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å›åˆ°â€œæ–¹æ³•&lt;code&gt;handleException&lt;/code&gt;çš„å…³é”®éƒ¨åˆ†â€ï¼Œåœ¨äº‹ä»¶çš„handledå±æ€§æ²¡æœ‰ç½®ä¸ºtrueçš„æƒ…å†µä¸‹ï¼Œä¼šè°ƒç”¨æ–¹æ³•&lt;code&gt;getErrorHandler&lt;/code&gt;å–åˆ°å†…ç½®çš„ä¸€ä¸ªå¤„ç†è¿‡ç¨‹ï¼Œè¯¥æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; getErrorHandler()
{
    &lt;span style="color: #008000"&gt;// è·å–åä¸ºerrorHandlerçš„ç»„ä»¶ï¼Œè¯¥ç»„ä»¶é»˜è®¤ä¼šåœ¨CApplicationç±»çš„registerCoreComponentsæ–¹æ³•ä¸­æ³¨å†Œï¼Œ&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// è§http://blog.xiayf.cn/2014/11/13/read-yii-code-3/ä¸€æ–‡çš„è¯´æ˜&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; $this-&amp;gt;getComponent(&lt;span style="color: #a31515"&gt;&amp;#39;errorHandler&amp;#39;&lt;/span&gt;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åä¸ºerrorHandlerçš„ç»„ä»¶é»˜è®¤ä¸ºç±»&lt;code&gt;CErrorHandler&lt;/code&gt;ï¼ˆè§æ–‡ä»¶&lt;code&gt;base/CErrorHandler.php&lt;/code&gt;ï¼‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é…ç½®è¦†ç›–é»˜è®¤è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;CErrorHandler&lt;/code&gt;ç±»çš„&lt;code&gt;handle&lt;/code&gt;æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; handle($event)
{
    &lt;span style="color: #008000"&gt;// set event as handled to prevent it from being handled by other event handlers&lt;/span&gt;
    $event-&amp;gt;handled=&lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;

    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($this-&amp;gt;discardOutput)
    {
        $gzHandler=&lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;
        &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;(ob_list_handlers() &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; $h)
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(strpos($h,&lt;span style="color: #a31515"&gt;&amp;#39;gzhandler&amp;#39;&lt;/span&gt;)!==&lt;span style="color: #0000ff"&gt;false&lt;/span&gt;)
                $gzHandler=&lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
        }
        &lt;span style="color: #008000"&gt;// the following manual level counting is to deal with zlib.output_compression set to On&lt;/span&gt;
        &lt;span style="color: #008000"&gt;// for an output buffer created by zlib.output_compression set to On ob_end_clean will fail&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;($level=ob_get_level();$level&amp;gt;0;--$level)
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!@ob_end_clean())
                ob_clean();
        }
        &lt;span style="color: #008000"&gt;// reset headers in case there was an ob_start(&amp;quot;ob_gzhandler&amp;quot;) before&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($gzHandler &amp;amp;&amp;amp; !headers_sent() &amp;amp;&amp;amp; ob_list_handlers()===&lt;span style="color: #0000ff"&gt;array&lt;/span&gt;())
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(function_exists(&lt;span style="color: #a31515"&gt;&amp;#39;header_remove&amp;#39;&lt;/span&gt;)) &lt;span style="color: #008000"&gt;// php &amp;gt;= 5.3&lt;/span&gt;
            {
                header_remove(&lt;span style="color: #a31515"&gt;&amp;#39;Vary&amp;#39;&lt;/span&gt;);
                header_remove(&lt;span style="color: #a31515"&gt;&amp;#39;Content-Encoding&amp;#39;&lt;/span&gt;);
            }
            &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
            {
                header(&lt;span style="color: #a31515"&gt;&amp;#39;Vary:&amp;#39;&lt;/span&gt;);
                header(&lt;span style="color: #a31515"&gt;&amp;#39;Content-Encoding:&amp;#39;&lt;/span&gt;);
            }
        }
    }

    &lt;span style="color: #008000"&gt;// å¼‚å¸¸å’Œé”™è¯¯éƒ½å¯ä»¥è°ƒç”¨handleæ–¹æ³•&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($event instanceof CExceptionEvent)
        $this-&amp;gt;handleException($event-&amp;gt;exception);
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; &lt;span style="color: #008000"&gt;// CErrorEvent&lt;/span&gt;
        $this-&amp;gt;handleError($event);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ–¹æ³•&lt;code&gt;handleException&lt;/code&gt;å’Œ&lt;code&gt;handleError&lt;/code&gt;å®ç°åˆ†åˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;protected&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; handleException($exception)
{
    $app=Yii::app();
    &lt;span style="color: #008000"&gt;// å¦‚æœæ˜¯Webåº”ç”¨&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($app instanceof CWebApplication)
    {
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(($trace=$this-&amp;gt;getExactTrace($exception))===&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)
        {
            $fileName=$exception-&amp;gt;getFile();
            $errorLine=$exception-&amp;gt;getLine();
        }
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
        {
            $fileName=$trace[&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;];
            $errorLine=$trace[&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;];
        }

        $trace = $exception-&amp;gt;getTrace();

        &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;($trace &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; $i=&amp;gt;$t)
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]))
                $trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]=&lt;span style="color: #a31515"&gt;&amp;#39;unknown&amp;#39;&lt;/span&gt;;

            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]))
                $trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]=0;

            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]))
                $trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]=&lt;span style="color: #a31515"&gt;&amp;#39;unknown&amp;#39;&lt;/span&gt;;

            unset($trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]);
        }

        $this-&amp;gt;_error=$data=&lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(
            &lt;span style="color: #008000"&gt;// å¦‚æœæŠ›å‡ºçš„å¼‚å¸¸æ˜¯CHttpExceptionç±»å‹ï¼Œä½¿ç”¨è¯¥å¼‚å¸¸è‡ªèº«çš„statusCodeä½œä¸ºHTTPå“åº”ç ï¼Œå¦åˆ™HTTPå“åº”ç ä¸º500&lt;/span&gt;
            &lt;span style="color: #008000"&gt;// æ‰€ä»¥åœ¨æœ‰æ„è®©Yiiæ¡†æ¶æ¥å¤„ç†æŠ›å‡ºçš„å¼‚å¸¸æ—¶ï¼Œéœ€è¦æ˜ç¡®æŒ‡å®šå¼‚å¸¸çš„ç±»å‹ï¼&lt;/span&gt;
            &lt;span style="color: #a31515"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;=&amp;gt;($exception instanceof CHttpException)?$exception-&amp;gt;statusCode:500,
            &lt;span style="color: #a31515"&gt;&amp;#39;type&amp;#39;&lt;/span&gt;=&amp;gt;get_class($exception),
            &lt;span style="color: #a31515"&gt;&amp;#39;errorCode&amp;#39;&lt;/span&gt;=&amp;gt;$exception-&amp;gt;getCode(),
            &lt;span style="color: #a31515"&gt;&amp;#39;message&amp;#39;&lt;/span&gt;=&amp;gt;$exception-&amp;gt;getMessage(),
            &lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;=&amp;gt;$fileName,
            &lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;=&amp;gt;$errorLine,
            &lt;span style="color: #a31515"&gt;&amp;#39;trace&amp;#39;&lt;/span&gt;=&amp;gt;$exception-&amp;gt;getTraceAsString(),
            &lt;span style="color: #a31515"&gt;&amp;#39;traces&amp;#39;&lt;/span&gt;=&amp;gt;$trace,
        );

        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!headers_sent())
            header(&lt;span style="color: #a31515"&gt;&amp;quot;HTTP/1.0 {&lt;/span&gt;$data[&lt;span style="color: #a31515"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;]&lt;span style="color: #a31515"&gt;} &amp;quot;&lt;/span&gt;.$this-&amp;gt;getHttpHeader($data[&lt;span style="color: #a31515"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;], get_class($exception)));

        &lt;span style="color: #008000"&gt;// åˆ¤æ–­å¼‚å¸¸ç±»å‹&lt;/span&gt;
        &lt;span style="color: #008000"&gt;// å¯¹äºCHttpExceptionï¼Œä¹ŸæŒ‰ç…§erroræ¥å¤„ç†&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($exception instanceof CHttpException || !YII_DEBUG)
            $this-&amp;gt;render(&lt;span style="color: #a31515"&gt;&amp;#39;error&amp;#39;&lt;/span&gt;,$data);
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($this-&amp;gt;isAjaxRequest())
                $app-&amp;gt;displayException($exception);
            &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
                $this-&amp;gt;render(&lt;span style="color: #a31515"&gt;&amp;#39;exception&amp;#39;&lt;/span&gt;,$data);
        }
    }
    &lt;span style="color: #008000"&gt;// å¦‚æœæ˜¯ç»ˆç«¯åº”ç”¨ï¼ˆconsole applicationï¼‰ï¼Œåˆ™ç›´æ¥å±•ç¤ºå¼‚å¸¸&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
        $app-&amp;gt;displayException($exception);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;protected&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; handleError($event)
{
    $trace=debug_backtrace();
    &lt;span style="color: #008000"&gt;// skip the first 3 stacks as they do not tell the error position&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(count($trace)&amp;gt;3)
        $trace=array_slice($trace,3);
    $traceString=&lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;;
    &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;($trace &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; $i=&amp;gt;$t)
    {
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]))
            $trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]=&lt;span style="color: #a31515"&gt;&amp;#39;unknown&amp;#39;&lt;/span&gt;;

        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]))
            $trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]=0;

        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]))
            $trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]=&lt;span style="color: #a31515"&gt;&amp;#39;unknown&amp;#39;&lt;/span&gt;;

        $traceString.=&lt;span style="color: #a31515"&gt;&amp;quot;#$i {&lt;/span&gt;$trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]&lt;span style="color: #a31515"&gt;}({&lt;/span&gt;$trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]&lt;span style="color: #a31515"&gt;}): &amp;quot;&lt;/span&gt;;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]) &amp;amp;&amp;amp; is_object($t[&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]))
            $traceString.=get_class($t[&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]).&lt;span style="color: #a31515"&gt;&amp;#39;-&amp;gt;&amp;#39;&lt;/span&gt;;
        $traceString.=&lt;span style="color: #a31515"&gt;&amp;quot;{&lt;/span&gt;$trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]&lt;span style="color: #a31515"&gt;}()\n&amp;quot;&lt;/span&gt;;

        unset($trace[$i][&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]);
    }

    $app=Yii::app();
    &lt;span style="color: #008000"&gt;// å¦‚æœæ˜¯Webåº”ç”¨&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($app instanceof CWebApplication)
    {
        &lt;span style="color: #008000"&gt;// åˆ¤æ–­é”™è¯¯ç±»å‹&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;switch&lt;/span&gt;($event-&amp;gt;code)
        {
            &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; &lt;span style="color: #0000ff"&gt;E_WARNING&lt;/span&gt;:
                $type = &lt;span style="color: #a31515"&gt;&amp;#39;PHP warning&amp;#39;&lt;/span&gt;;
                &lt;span style="color: #0000ff"&gt;break&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; E_NOTICE:
                $type = &lt;span style="color: #a31515"&gt;&amp;#39;PHP notice&amp;#39;&lt;/span&gt;;
                &lt;span style="color: #0000ff"&gt;break&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; E_USER_ERROR:
                $type = &lt;span style="color: #a31515"&gt;&amp;#39;User error&amp;#39;&lt;/span&gt;;
                &lt;span style="color: #0000ff"&gt;break&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; E_USER_WARNING:
                $type = &lt;span style="color: #a31515"&gt;&amp;#39;User warning&amp;#39;&lt;/span&gt;;
                &lt;span style="color: #0000ff"&gt;break&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; E_USER_NOTICE:
                $type = &lt;span style="color: #a31515"&gt;&amp;#39;User notice&amp;#39;&lt;/span&gt;;
                &lt;span style="color: #0000ff"&gt;break&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; E_RECOVERABLE_ERROR:
                $type = &lt;span style="color: #a31515"&gt;&amp;#39;Recoverable error&amp;#39;&lt;/span&gt;;
                &lt;span style="color: #0000ff"&gt;break&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;default&lt;/span&gt;:
                $type = &lt;span style="color: #a31515"&gt;&amp;#39;PHP error&amp;#39;&lt;/span&gt;;
        }
        &lt;span style="color: #008000"&gt;// HTTPå“åº”ç ä¸º500&lt;/span&gt;
        $this-&amp;gt;_error=$data=&lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(
            &lt;span style="color: #a31515"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;=&amp;gt;500,
            &lt;span style="color: #a31515"&gt;&amp;#39;type&amp;#39;&lt;/span&gt;=&amp;gt;$type,
            &lt;span style="color: #a31515"&gt;&amp;#39;message&amp;#39;&lt;/span&gt;=&amp;gt;$event-&amp;gt;message,
            &lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;=&amp;gt;$event-&amp;gt;file,
            &lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;=&amp;gt;$event-&amp;gt;line,
            &lt;span style="color: #a31515"&gt;&amp;#39;trace&amp;#39;&lt;/span&gt;=&amp;gt;$traceString,
            &lt;span style="color: #a31515"&gt;&amp;#39;traces&amp;#39;&lt;/span&gt;=&amp;gt;$trace,
        );
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!headers_sent())
            header(&lt;span style="color: #a31515"&gt;&amp;quot;HTTP/1.0 500 Internal Server Error&amp;quot;&lt;/span&gt;);
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($this-&amp;gt;isAjaxRequest())
            $app-&amp;gt;displayError($event-&amp;gt;code,$event-&amp;gt;message,$event-&amp;gt;file,$event-&amp;gt;line);
        &lt;span style="color: #0000ff"&gt;elseif&lt;/span&gt;(YII_DEBUG)
            &lt;span style="color: #008000"&gt;// å¼€äº†debugï¼Œåˆ™ä½œä¸ºexceptionæ¥å¤„ç†&lt;/span&gt;
            $this-&amp;gt;render(&lt;span style="color: #a31515"&gt;&amp;#39;exception&amp;#39;&lt;/span&gt;,$data);
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
            $this-&amp;gt;render(&lt;span style="color: #a31515"&gt;&amp;#39;error&amp;#39;&lt;/span&gt;,$data);
    }
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
        $app-&amp;gt;displayError($event-&amp;gt;code,$event-&amp;gt;message,$event-&amp;gt;file,$event-&amp;gt;line);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç æœ€ç»ˆæ˜¾ç¤ºå¼‚å¸¸/é”™è¯¯ä¿¡æ¯ï¼Œæ˜¯é€šè¿‡æ–¹æ³•&lt;code&gt;render&lt;/code&gt;ã€ä»¥åŠåº”ç”¨å®ä¾‹çš„&lt;code&gt;displayError&lt;/code&gt;å’Œ&lt;code&gt;displayException&lt;/code&gt;æ–¹æ³•æ¥å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;render&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;protected&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; render($view,$data)
{
    &lt;span style="color: #008000"&gt;// æ³¨æ„è¿™ä¸ªåœ°æ–¹ï¼Œå¦‚æœé…ç½®äº†errorActionï¼Œåˆ™å¯ä»¥æŒ‡å®šç›®æ ‡controllerçš„æŸä¸ªactionæ¥å¤„ç†é”™è¯¯&lt;/span&gt;
    &lt;span style="color: #008000"&gt;/*&lt;/span&gt;
&lt;span style="color: #008000"&gt;     * é…ç½®æ–¹å¼ï¼š&lt;/span&gt;
&lt;span style="color: #008000"&gt;     * &amp;#39;components&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span style="color: #008000"&gt;     *      &amp;#39;errorHandler&amp;#39; =&amp;gt; array(&lt;/span&gt;
&lt;span style="color: #008000"&gt;     *          &amp;#39;errorAction&amp;#39;=&amp;gt;&amp;#39;api/index/error&amp;#39;,&lt;/span&gt;
&lt;span style="color: #008000"&gt;     *     ),&lt;/span&gt;
&lt;span style="color: #008000"&gt;     *     ...&lt;/span&gt;
&lt;span style="color: #008000"&gt;     */&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($view===&lt;span style="color: #a31515"&gt;&amp;#39;error&amp;#39;&lt;/span&gt; &amp;amp;&amp;amp; $this-&amp;gt;errorAction!==&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)
        Yii::app()-&amp;gt;runController($this-&amp;gt;errorAction);
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
    {
        &lt;span style="color: #008000"&gt;// additional information to be passed to view&lt;/span&gt;
        $data[&lt;span style="color: #a31515"&gt;&amp;#39;version&amp;#39;&lt;/span&gt;]=$this-&amp;gt;getVersionInfo();
        $data[&lt;span style="color: #a31515"&gt;&amp;#39;time&amp;#39;&lt;/span&gt;]=time();
        $data[&lt;span style="color: #a31515"&gt;&amp;#39;admin&amp;#39;&lt;/span&gt;]=$this-&amp;gt;adminInfo;

        &lt;span style="color: #008000"&gt;// çœ‹çœ‹ä¸‹é¢getViewFileçš„å®ç°&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;include&lt;/span&gt;($this-&amp;gt;getViewFile($view,$data[&lt;span style="color: #a31515"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;]));
    }
}

&lt;span style="color: #0000ff"&gt;protected&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; getViewFile($view,$code)
{
    $viewPaths=&lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(
        Yii::app()-&amp;gt;getTheme()===&lt;span style="color: #0000ff"&gt;null&lt;/span&gt; ? &lt;span style="color: #0000ff"&gt;null&lt;/span&gt; :  Yii::app()-&amp;gt;getTheme()-&amp;gt;getSystemViewPath(),
        Yii::app() instanceof CWebApplication ? Yii::app()-&amp;gt;getSystemViewPath() : &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;,
        YII_PATH.DIRECTORY_SEPARATOR.&lt;span style="color: #a31515"&gt;&amp;#39;views&amp;#39;&lt;/span&gt;,
    );

    &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;($viewPaths &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; $i=&amp;gt;$viewPath)
    {
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($viewPath!==&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)
        {
             &lt;span style="color: #008000"&gt;// çœ‹çœ‹ä¸‹é¢getViewFileInternalçš„å®ç°&lt;/span&gt;
             $viewFile=$this-&amp;gt;getViewFileInternal($viewPath,$view,$code,$i===2?&lt;span style="color: #a31515"&gt;&amp;#39;en_us&amp;#39;&lt;/span&gt;:&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;);
             &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(is_file($viewFile))
                 &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; $viewFile;
        }
    }
}

&lt;span style="color: #0000ff"&gt;protected&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; getViewFileInternal($viewPath,$view,$code,$srcLanguage=&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)
{
    $app=Yii::app();
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($view===&lt;span style="color: #a31515"&gt;&amp;#39;error&amp;#39;&lt;/span&gt;)
    {
        $viewFile=$app-&amp;gt;findLocalizedFile($viewPath.DIRECTORY_SEPARATOR.&lt;span style="color: #a31515"&gt;&amp;quot;error{&lt;/span&gt;$code&lt;span style="color: #a31515"&gt;}.php&amp;quot;&lt;/span&gt;,$srcLanguage);
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!is_file($viewFile))
            $viewFile=$app-&amp;gt;findLocalizedFile($viewPath.DIRECTORY_SEPARATOR.&lt;span style="color: #a31515"&gt;&amp;#39;error.php&amp;#39;&lt;/span&gt;,$srcLanguage);
    }
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
        $viewFile=$viewPath.DIRECTORY_SEPARATOR.&lt;span style="color: #a31515"&gt;&amp;quot;exception.php&amp;quot;&lt;/span&gt;;
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; $viewFile;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢ä»£ç çš„é€»è¾‘æ˜¯ - å¯¹äºerrorç±»å‹çš„ä¿¡æ¯ï¼ŒYiiä¼šä¾æ¬¡åœ¨ä»¥ä¸‹ç›®å½•ä¸­å¯»æ‰¾åä¸º&lt;code&gt;error{$code}.php&lt;/code&gt;æ–‡ä»¶æ¥å±•ç¤ºé”™è¯¯/å¼‚å¸¸ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;WebRoot/themes/ThemeName/views/system&lt;/li&gt;
&lt;li&gt;WebRoot/protected/views/system&lt;/li&gt;
&lt;li&gt;yii/framework/views&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä»¥ç›¸åŒçš„æ¬¡åºåœ¨è¿™äº›ç›®å½•ä¸­æŸ¥æ‰¾&lt;code&gt;error.php&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºexceptionç±»å‹ä¿¡æ¯ï¼Œåˆ™æ˜¯æŸ¥æ‰¾&lt;code&gt;exception.php&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¦‚æœåº”ç”¨å¼€å‘è¿‡ç¨‹éœ€è¦å®šåˆ¶4xxã€5xxçš„é”™è¯¯é¡µé¢ï¼Œå¯ä»¥åœ¨&lt;code&gt;WebRoot/protected/views/system&lt;/code&gt;æˆ–&lt;code&gt;WebRoot/themes/ThemeName/views/system&lt;/code&gt;æ”¾ç½®å¯¹åº”çš„é”™è¯¯æ¨¡æ¿é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;displayError&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; displayError($code,$message,$file,$line)
{
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(YII_DEBUG)
    {
        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;&amp;lt;h1&amp;gt;PHP Error [$code]&amp;lt;/h1&amp;gt;\n&amp;quot;&lt;/span&gt;;
        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;&amp;lt;p&amp;gt;$message ($file:$line)&amp;lt;/p&amp;gt;\n&amp;quot;&lt;/span&gt;;
        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;pre&amp;gt;&amp;#39;&lt;/span&gt;;

        $trace=debug_backtrace();
        &lt;span style="color: #008000"&gt;// skip the first 3 stacks as they do not tell the error position&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(count($trace)&amp;gt;3)
            $trace=array_slice($trace,3);
        &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;($trace &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; $i=&amp;gt;$t)
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]))
                $t[&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]=&lt;span style="color: #a31515"&gt;&amp;#39;unknown&amp;#39;&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]))
                $t[&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]=0;
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(!isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]))
                $t[&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]=&lt;span style="color: #a31515"&gt;&amp;#39;unknown&amp;#39;&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;#$i {&lt;/span&gt;$t[&lt;span style="color: #a31515"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;]&lt;span style="color: #a31515"&gt;}({&lt;/span&gt;$t[&lt;span style="color: #a31515"&gt;&amp;#39;line&amp;#39;&lt;/span&gt;]&lt;span style="color: #a31515"&gt;}): &amp;quot;&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(isset($t[&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]) &amp;amp;&amp;amp; is_object($t[&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]))
                &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; get_class($t[&lt;span style="color: #a31515"&gt;&amp;#39;object&amp;#39;&lt;/span&gt;]).&lt;span style="color: #a31515"&gt;&amp;#39;-&amp;gt;&amp;#39;&lt;/span&gt;;
            &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;{&lt;/span&gt;$t[&lt;span style="color: #a31515"&gt;&amp;#39;function&amp;#39;&lt;/span&gt;]&lt;span style="color: #a31515"&gt;}()\n&amp;quot;&lt;/span&gt;;
        }

        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;/pre&amp;gt;&amp;#39;&lt;/span&gt;;
    }
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
    {
        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;&amp;lt;h1&amp;gt;PHP Error [$code]&amp;lt;/h1&amp;gt;\n&amp;quot;&lt;/span&gt;;
        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;&amp;lt;p&amp;gt;$message&amp;lt;/p&amp;gt;\n&amp;quot;&lt;/span&gt;;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;displayException&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; displayException($exception)
{
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(YII_DEBUG)
    {
        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;h1&amp;gt;&amp;#39;&lt;/span&gt;.get_class($exception).&lt;span style="color: #a31515"&gt;&amp;quot;&amp;lt;/h1&amp;gt;\n&amp;quot;&lt;/span&gt;;
        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;p&amp;gt;&amp;#39;&lt;/span&gt;.$exception-&amp;gt;getMessage().&lt;span style="color: #a31515"&gt;&amp;#39; (&amp;#39;&lt;/span&gt;.$exception-&amp;gt;getFile().&lt;span style="color: #a31515"&gt;&amp;#39;:&amp;#39;&lt;/span&gt;.$exception-&amp;gt;getLine().&lt;span style="color: #a31515"&gt;&amp;#39;)&amp;lt;/p&amp;gt;&amp;#39;&lt;/span&gt;;
        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;pre&amp;gt;&amp;#39;&lt;/span&gt;.$exception-&amp;gt;getTraceAsString().&lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;/pre&amp;gt;&amp;#39;&lt;/span&gt;;
    }
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
    {
        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;h1&amp;gt;&amp;#39;&lt;/span&gt;.get_class($exception).&lt;span style="color: #a31515"&gt;&amp;quot;&amp;lt;/h1&amp;gt;\n&amp;quot;&lt;/span&gt;;
        &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;p&amp;gt;&amp;#39;&lt;/span&gt;.$exception-&amp;gt;getMessage().&lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;/p&amp;gt;&amp;#39;&lt;/span&gt;;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;ç”±ä¸Šè¿°åˆ†æå¯çŸ¥ï¼ŒåŸºäºYiiæ¡†æ¶å¼€å‘åº”ç”¨æ—¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹æ³¨æ„äº‹é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥é€šè¿‡é…ç½®ç»„ä»¶&lt;code&gt;errorHandler&lt;/code&gt;çš„&lt;code&gt;errorAction&lt;/code&gt;å±æ€§æ¥å®šåˆ¶å¼‚å¸¸/é”™è¯¯å¤„ç†è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;å¯ä»¥é€šè¿‡åœ¨&lt;code&gt;WebRoot/themes/ThemeName/views/system&lt;/code&gt;æˆ–&lt;code&gt;WebRoot/protected/views/system&lt;/code&gt;æ”¾ç½®æ¨¡æ¿ï¼ˆåä¸º&lt;code&gt;error{$code}.php&lt;/code&gt;ï¼‰æ¥å®šåˆ¶é”™è¯¯/å¼‚å¸¸å±•ç¤ºæ–¹å¼&lt;/li&gt;
&lt;li&gt;åœ¨æœ‰æ„æŠ›å‡ºå¼‚å¸¸ç”±Yiiæ¡†æ¶æ•è·æ—¶ï¼Œéœ€æ˜ç¡®å¼‚å¸¸çš„ç±»å‹æ˜¯å¦åº”ä¸º&lt;code&gt;CHttpException&lt;/code&gt;ï¼Œåªæœ‰&lt;code&gt;CHttpException&lt;/code&gt;å®ä¾‹åˆå§‹åŒ–æ—¶æŒ‡å®šçš„codeæ‰èƒ½æˆä¸ºHTTPå“åº”ç &lt;/li&gt;
&lt;li&gt;å¯ä»¥å¯¹äº‹ä»¶&lt;code&gt;onError&lt;/code&gt;ã€&lt;code&gt;onException&lt;/code&gt;ç»‘å®šäº‹ä»¶å¤„ç†è¿‡ç¨‹ï¼Œè¿›è¡Œé¢å¤–çš„å¤„ç†ï¼Œæ¯”å¦‚è®°å½•é”™è¯¯/å¼‚å¸¸ã€è§¦å‘å‘Šè­¦ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;å‚è€ƒèµ„æ–™&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/zh/book.errorfunc.php"&gt;PHPæ‰‹å†Œ - é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.yiiframework.com/doc/guide/1.1/en/topics.error"&gt;Error Handling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/assets/uploads/files/PHP-Debug-Manual-public.pdf"&gt;PHPè°ƒè¯•æŠ€æœ¯æ‰‹å†Œ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="Yii"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>ä¸€è¡Œå¼å¹¶è¡Œæ–¹æ¡ˆï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2015/09/11/parallelism-in-one-line/" rel="alternate"></link><published>2015-09-11T00:00:00+08:00</published><updated>2015-09-11T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-09-11:/2015/09/11/parallelism-in-one-line/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://chriskiehl.com/article/parallelism-in-one-line/"&gt;Parallelism in one line&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å¹¶è¡Œå¤„ç†èƒ½åŠ›æ–¹é¢ï¼ŒPythonçš„å£°åå¹¶ä¸å¤ªå¥½ã€‚ä¸è€ƒè™‘å…³äºçº¿ç¨‹å’ŒGILï¼ˆå¤šæ•°æƒ…å†µä¸‹æ˜¯åˆç†çš„ï¼‰çš„æ ‡å‡†è®ºæ®ï¼Œæˆ‘è®¤ä¸ºPythonä¸­å…³äºå¹¶è¡Œçš„çœŸæ­£é—®é¢˜å¹¶ä¸æ˜¯ä¸€ä¸ªæŠ€æœ¯é—®é¢˜ï¼Œè€Œæ˜¯æ•™å­¦ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://chriskiehl.com/article/parallelism-in-one-line/"&gt;Parallelism in one line&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å¹¶è¡Œå¤„ç†èƒ½åŠ›æ–¹é¢ï¼ŒPythonçš„å£°åå¹¶ä¸å¤ªå¥½ã€‚ä¸è€ƒè™‘å…³äºçº¿ç¨‹å’ŒGILï¼ˆå¤šæ•°æƒ…å†µä¸‹æ˜¯åˆç†çš„ï¼‰çš„æ ‡å‡†è®ºæ®ï¼Œæˆ‘è®¤ä¸ºPythonä¸­å…³äºå¹¶è¡Œçš„çœŸæ­£é—®é¢˜å¹¶ä¸æ˜¯ä¸€ä¸ªæŠ€æœ¯é—®é¢˜ï¼Œè€Œæ˜¯æ•™å­¦é—®é¢˜ã€‚å›´ç»•Pythonçº¿ç¨‹å’Œå¤šè¿›ç¨‹çš„å¸¸è§æ•™ç¨‹ï¼Œä¸€èˆ¬éƒ½å†™å¾—ä¸é”™ï¼Œä½†ä¹Ÿä»¤äººä¹å‘³ - æ¿€çƒˆéå‡¡ï¼Œå¯¹æ—¥å¸¸çœŸæ­£æœ‰ç”¨çš„ä¸œè¥¿å´å¾ˆå°‘æ¶‰åŠã€‚&lt;/p&gt;
&lt;h4&gt;æ²¿è¢­çš„ä¾‹å­&lt;/h4&gt;
&lt;p&gt;åœ¨DuckDuckGoï¼ˆDDGï¼‰ä¸­æœç´¢â€œPythonå¤šçº¿ç¨‹æ•™ç¨‹â€ï¼Œç®€å•è°ƒæŸ¥ä¸€ä¸‹æ’åœ¨å‰é¢çš„ç»“æœï¼Œå°±ä¼šå‘ç°å®ƒä»¬ç»™å‡ºçš„éƒ½æ˜¯åŒæ ·åŸºäºClass + Queueçš„ç¤ºä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ä»‹ç»threading/multiprocessingã€ç”Ÿäº§è€…/æ¶ˆè´¹è€…çš„çœŸå®ç¤ºä¾‹ä»£ç ï¼š&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# coding: utf-8&lt;/span&gt;
&lt;span style="color: #008000"&gt;# Example.py&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span style="color: #a31515"&gt;æ ‡å‡†çš„å¤šçº¿ç¨‹ç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å¼&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; time 
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; threading 
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; Queue 

&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Consumer&lt;/span&gt;(threading.Thread): 
  &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __init__(self, queue): 
    threading.Thread.__init__(self)
    self._queue = queue 

  &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; run(self):
    &lt;span style="color: #0000ff"&gt;while&lt;/span&gt; &lt;span style="color: #0000ff"&gt;True&lt;/span&gt;: 
      &lt;span style="color: #008000"&gt;# queue.get() ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°è·å–åˆ°ä¸€ä¸ªæ•°æ®é¡¹&lt;/span&gt;
      msg = self._queue.get() 
      &lt;span style="color: #008000"&gt;# æ£€æŸ¥å½“å‰æ¶ˆæ¯æ˜¯å¦æ˜¯ä¸ªâ€œæ¯’è¯ä¸¸â€&lt;/span&gt;
      &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; isinstance(msg, str) &lt;span style="color: #0000ff"&gt;and&lt;/span&gt; msg == &lt;span style="color: #a31515"&gt;&amp;#39;quit&amp;#39;&lt;/span&gt;:
        &lt;span style="color: #008000"&gt;# å¦‚æœæ˜¯ï¼Œåˆ™é€€å‡ºå¾ªç¯&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;break&lt;/span&gt;
      &lt;span style="color: #008000"&gt;# â€œå¤„ç†â€ (è¿™é‡Œæ˜¯æ‰“å°)ä»é˜Ÿåˆ—ä¸­å–å‡ºçš„æ•°æ®é¡¹&lt;/span&gt;
      print &lt;span style="color: #a31515"&gt;&amp;quot;I&amp;#39;m a thread, and I received %s!!&amp;quot;&lt;/span&gt; % msg
    &lt;span style="color: #008000"&gt;# æˆ‘å§‹ç»ˆæ˜¯è¿™ä¹ˆçš„å‹å¥½&lt;/span&gt;
    print &lt;span style="color: #a31515"&gt;&amp;#39;Bye byes!&amp;#39;&lt;/span&gt;


&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; Producer():
  &lt;span style="color: #008000"&gt;# Queueç”¨äºåœ¨çº¿ç¨‹ä¹‹é—´å…±äº«æ•°æ®é¡¹&lt;/span&gt;
  queue = Queue.Queue()

  &lt;span style="color: #008000"&gt;# åˆ›å»ºä¸€ä¸ªå·¥ä½œå®ä¾‹&lt;/span&gt;
  worker = Consumer(queue)
  &lt;span style="color: #008000"&gt;# startæ–¹æ³•ä¼šè°ƒç”¨å†…éƒ¨çš„run()æ–¹æ³•æ¥å¼€å¯çº¿ç¨‹&lt;/span&gt;
  worker.start() 

  &lt;span style="color: #008000"&gt;# å˜é‡ï¼Œç”¨äºè¿½è¸ªå¼€å§‹çš„æ—¶é—´&lt;/span&gt;
  start_time = time.time() 
  &lt;span style="color: #008000"&gt;# åœ¨5ç§’ä¹‹å†…&lt;/span&gt;
  &lt;span style="color: #0000ff"&gt;while&lt;/span&gt; time.time() - start_time &amp;lt; 5: 
    &lt;span style="color: #008000"&gt;# â€œç”Ÿäº§â€ä¸€å—å·¥ä½œï¼Œæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œç”±æ¶ˆè´¹è€…æ¥å¤„ç†&lt;/span&gt;
    queue.put(&lt;span style="color: #a31515"&gt;&amp;#39;something at %s&amp;#39;&lt;/span&gt; % time.time())
    &lt;span style="color: #008000"&gt;# ç¡çœ ä¸€ä¼šå„¿ï¼Œä»¥é¿å…è¿‡å¤šçš„æ¶ˆæ¯&lt;/span&gt;
    time.sleep(1)

  &lt;span style="color: #008000"&gt;# è¿™æ˜¯æ€æ­»çº¿ç¨‹çš„â€œæ¯’è¯ä¸¸â€æ–¹å¼&lt;/span&gt;
  queue.put(&lt;span style="color: #a31515"&gt;&amp;#39;quit&amp;#39;&lt;/span&gt;)
  &lt;span style="color: #008000"&gt;# ç­‰å¾…çº¿ç¨‹å…³é—­&lt;/span&gt;
  worker.join()


&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; __name__ == &lt;span style="color: #a31515"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;:
  Producer()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å—¯...é—»é—»ï¼Œä»£ç ä¸­ä¸€è‚¡å­Javaçš„æ°”æ¯ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¸æƒ³è®©å¤§å®¶è§‰å¾—å¥½åƒæˆ‘è®¤ä¸ºç”Ÿäº§è€…/æ¶ˆè´¹è€…æ˜¯å¤„ç†çº¿ç¨‹/å¤šè¿›ç¨‹çš„é”™è¯¯æ–¹å¼ - å› ä¸ºç¡®å®ä¸æ˜¯ã€‚å®é™…ä¸Šï¼Œå¯¹å¤šç§é—®é¢˜æ¥è¯´ï¼Œè¿™ç§æ–¹å¼éå¸¸é€‚åˆã€‚ç„¶è€Œï¼Œæˆ‘è®¤ä¸ºï¼šå¯¹äºæ—¥å¸¸çš„è„šæœ¬ç¨‹åºæ¥è¯´ï¼Œè¿™ç§æ–¹å¼å¹¶éæ˜¯æœ€æœ‰ç”¨çš„ã€‚&lt;/p&gt;
&lt;h4&gt;é—®é¢˜ï¼ˆæˆ‘è®¤ä¸ºçš„ï¼‰&lt;/h4&gt;
&lt;p&gt;å…¶ä¸€ï¼Œä¸ºäº†åšç‚¹æœ‰ç”¨çš„äº‹æƒ…ï¼Œä½ å¾—æä¸€ä¸ªå…¬å¼åŒ–çš„ç±»ï¼›å…¶äºŒï¼Œä½ å¾—ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼Œç”¨äºä¼ é€å¯¹è±¡ï¼›è¿™äº›é½å¤‡ä¹‹åï¼Œåœ¨é˜Ÿåˆ—ç®¡é“çš„ä¸¤ç«¯è¿˜å¾—å‡†å¤‡æ–¹æ³•æ¥åšçœŸæ­£çš„å·¥ä½œï¼ˆå¦‚æœå¸Œæœ›æœ‰ä¸¤ç§æ–¹å¼æ¥é€šä¿¡æˆ–è€…å‡†å¤‡å­˜å‚¨ç»“æœï¼Œå¯èƒ½è¿˜å¾—å¼•å…¥å¦ä¸€ä¸ªé˜Ÿåˆ—ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ›´å¤šçš„å·¥ä½œè€…ï¼Œæ›´å¤šçš„é—®é¢˜&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŸºäºæ­¤ï¼Œä¸‹ä¸€ä»¶ä½ æƒ³è¦åšçš„äº‹æƒ…å°±æ˜¯æä¸€ä¸ªå·¥ä½œè€…ç±»çš„æ± ï¼Œæ¥åŠ é€Ÿä½ çš„Pythonç¨‹åºã€‚åœ¨å…³äºçº¿ç¨‹çš„IBMæ•™ç¨‹ä¸­ï¼Œç»™å‡ºäº†ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œä»¥ä¸‹æ˜¯å…¶å˜ç§ã€‚è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„åº”ç”¨åœºæ™¯ - åœ¨å¤šä¸ªçº¿ç¨‹ä¸Šåˆ†é…è·å–ç½‘é¡µçš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# coding: utf-8&lt;/span&gt;
&lt;span style="color: #008000"&gt;# Example2.py&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span style="color: #a31515"&gt;ä¸€ä¸ªæ›´åŠ å®é™…çš„çº¿ç¨‹æ± ç¤ºä¾‹&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; time 
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; threading 
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; Queue 
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; urllib2 

&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Consumer&lt;/span&gt;(threading.Thread): 
  &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __init__(self, queue): 
    threading.Thread.__init__(self)
    self._queue = queue 

  &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; run(self):
    &lt;span style="color: #0000ff"&gt;while&lt;/span&gt; &lt;span style="color: #0000ff"&gt;True&lt;/span&gt;: 
      content = self._queue.get() 
      &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; isinstance(content, str) &lt;span style="color: #0000ff"&gt;and&lt;/span&gt; content == &lt;span style="color: #a31515"&gt;&amp;#39;quit&amp;#39;&lt;/span&gt;:
        &lt;span style="color: #0000ff"&gt;break&lt;/span&gt;
      response = urllib2.urlopen(content)
    print &lt;span style="color: #a31515"&gt;&amp;#39;Bye byes!&amp;#39;&lt;/span&gt;


&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; Producer():
  urls = [
    &lt;span style="color: #a31515"&gt;&amp;#39;http://www.python.org&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;http://www.yahoo.com&amp;#39;&lt;/span&gt;
    &lt;span style="color: #a31515"&gt;&amp;#39;http://www.scala.org&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;http://www.google.com&amp;#39;&lt;/span&gt;
    &lt;span style="color: #008000"&gt;# ç­‰ç­‰... &lt;/span&gt;
  ]
  queue = Queue.Queue()
  worker_threads = build_worker_pool(queue, 4)
  start_time = time.time()

  &lt;span style="color: #008000"&gt;# åŠ å…¥å¾…å¤„ç†çš„URL&lt;/span&gt;
  &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; url &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; urls: 
    queue.put(url)
  &lt;span style="color: #008000"&gt;# åŠ å…¥æ¯’è¯ä¸¸&lt;/span&gt;
  &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; worker &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; worker_threads:
    queue.put(&lt;span style="color: #a31515"&gt;&amp;#39;quit&amp;#39;&lt;/span&gt;)
  &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; worker &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; worker_threads:
    worker.join()

  print &lt;span style="color: #a31515"&gt;&amp;#39;Done! Time taken: {}&amp;#39;&lt;/span&gt;.format(time.time() - start_time)

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; build_worker_pool(queue, size):
  workers = []
  &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; _ &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; range(size):
    worker = Consumer(queue)
    worker.start() 
    workers.append(worker)
  &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; workers

&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; __name__ == &lt;span style="color: #a31515"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;:
  Producer()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¥æ•ˆäº†ï¼Œä½†æ˜¯ä½ çœ‹çœ‹è¿™äº›ä»£ç ï¼å‡†å¤‡ï¼ˆsetupï¼‰æ–¹æ³•ã€ä¸€ç»„è¦è¿½è¸ªçš„çº¿ç¨‹ï¼Œæœ€ç³Ÿç³•çš„æ˜¯ï¼Œè‹¥æœ‰ä»»ä½•åœ°æ–¹æ˜“å‘ç”Ÿæ­»é”ï¼Œå°±ä¼šäº§ç”Ÿä¸€å †çš„joinçŠ¶æ€è¯´æ˜ã€‚è‡ªæ­¤ï¼Œä¸€åˆ‡åªä¼šæ›´å¤æ‚ï¼&lt;/p&gt;
&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå®Œæˆäº†äº›ä»€ä¹ˆï¼Ÿå•¥éƒ½æ²¡æœ‰ã€‚ä¸Šé¢çš„ä»£ç çº¯ç²¹åªæ˜¯æŠŠæ‰€æœ‰ä¸œè¥¿åƒç”¨çº¸ç³Šèµ·æ¥ä¸€æ ·ï¼ˆJust about everything in the above code is pure plumbingï¼Œå¦‚ä½•ç¿»è¯‘ï¼Ÿï¼‰ã€‚è¿™æ˜¯å¦ä¸€ç§å…¬å¼åŒ–çš„å†™æ³•ï¼Œä¹Ÿæ˜“å‘ç”Ÿé”™è¯¯ï¼ˆå˜¿ï¼Œåœ¨å†™è¿™ä¸ªä»£ç æ—¶ï¼Œæˆ‘ç”šè‡³å¿˜äº†åœ¨é˜Ÿåˆ—å¯¹è±¡ä¸Šè°ƒç”¨task_done()ï¼ˆæˆ‘æ‡’å¾—å»è§£å†³è¿™ä¸ªé—®é¢˜ç„¶åå†æä¸ªæˆªå›¾ï¼‰ï¼‰ï¼Œä»˜å‡ºå¾ˆå¤šï¼Œå¾—åˆ°çš„å´å¾ˆå°‘ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬æœ‰æ›´å¥½çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;h2&gt;å¼•å…¥ï¼šMap&lt;/h2&gt;
&lt;p&gt;Mapæ˜¯ä¸€ä¸ªé…·é…·çš„å°ä¸œè¥¿ï¼Œä¹Ÿæ˜¯åœ¨Pythonä»£ç è½»æ¾å¼•å…¥å¹¶è¡Œçš„å…³é”®ã€‚å¯¹æ­¤ä¸ç†Ÿæ‚‰çš„äººä¼šè®¤ä¸ºmapæ˜¯ä»å‡½æ•°å¼è¯­è¨€ï¼ˆå¦‚Lispï¼‰å€Ÿé‰´æ¥çš„ä¸œè¥¿ã€‚mapæ˜¯ä¸€ä¸ªå‡½æ•° - å°†å¦ä¸€ä¸ªå‡½æ•°æ˜ å°„åˆ°ä¸€ä¸ªåºåˆ—ä¸Šã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;urls = [&lt;span style="color: #a31515"&gt;&amp;#39;http://www.yahoo.com&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;http://www.reddit.com&amp;#39;&lt;/span&gt;]
results = map(urllib2.urlopen, urls)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ®µä»£ç åœ¨ä¼ å…¥åºåˆ—çš„æ¯ä¸ªå…ƒç´ ä¸Šåº”ç”¨æ–¹æ³•&lt;em&gt;urlopen&lt;/em&gt;ï¼Œå¹¶å°†æ‰€æœ‰ç»“æœå­˜å…¥ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚å¤§è‡´ä¸ä¸‹é¢è¿™æ®µä»£ç çš„é€»è¾‘ç›¸å½“ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;results = []
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt; url &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; urls: 
    results.append(urllib2.urlopen(url))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Mapä¼šä¸ºæˆ‘ä»¬å¤„ç†åœ¨åºåˆ—ä¸Šçš„è¿­ä»£ï¼Œåº”ç”¨å‡½æ•°ï¼Œæœ€åå°†ç»“æœå­˜å…¥ä¸€ä¸ªæ–¹ä¾¿ä½¿ç”¨çš„åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ºä»€ä¹ˆé‡è¦å‘¢ï¼Ÿå› ä¸ºåˆ©ç”¨æ°å½“çš„åº“ï¼Œmapè®©å¹¶è¡Œå¤„ç†æˆä¸ºå°äº‹ä¸€æ¡©ï¼&lt;/p&gt;
&lt;p&gt;&lt;img alt="map-function" src="https://i.loli.net/2020/06/14/kqumnip3B7M2dcQ.png"&gt;&lt;/p&gt;
&lt;p&gt;Pythonæ ‡å‡†åº“ä¸­&lt;em&gt;multiprocessing&lt;/em&gt;æ¨¡å—ï¼Œä»¥åŠæå°‘äººçŸ¥ä½†åŒæ ·å‡ºè‰²çš„å­æ¨¡å—&lt;em&gt;multiprocessing.dummy&lt;/em&gt;ï¼Œæä¾›äº†mapå‡½æ•°çš„å¹¶è¡Œç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;é¢˜å¤–è¯ï¼šè¿™æ˜¯å•¥ï¼Ÿä½ ä»æœªå¬è¯´è¿‡è¿™åä¸ºdummyçš„mulprocessingæ¨¡å—çš„çº¿ç¨‹å…‹éš†ç‰ˆæœ¬ï¼Ÿæˆ‘ä¹Ÿæ˜¯æœ€è¿‘æ‰çŸ¥é“çš„ã€‚åœ¨multiprocessingæ–‡æ¡£é¡µä¸­ä»…æœ‰ä¸€å¥æåˆ°è¿™ä¸ªå­æ¨¡å—ï¼Œè€Œè¿™å¥è¯åŸºæœ¬å¯ä»¥å½’ç»“ä¸ºâ€œå“¦ï¼Œæ˜¯çš„ï¼Œå­˜åœ¨è¿™æ ·ä¸€ä¸ªä¸œè¥¿â€ã€‚å®Œå…¨ä½ä¼°äº†è¿™ä¸ªæ¨¡å—çš„ä»·å€¼ï¼&lt;/p&gt;
&lt;p&gt;Dummyæ˜¯multiprocessingæ¨¡å—çš„ç²¾ç¡®å…‹éš†ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼šmultiprocessingåŸºäºè¿›ç¨‹å·¥ä½œï¼Œè€Œdummyæ¨¡å—ä½¿ç”¨çº¿ç¨‹ï¼ˆä¹Ÿå°±å¸¦æ¥äº†å¸¸è§çš„Pythoné™åˆ¶ï¼‰ã€‚å› æ­¤ï¼Œä»»ä½•ä¸œè¥¿å¯å¥—ç”¨åˆ°ä¸€ä¸ªæ¨¡å—ï¼Œä¹Ÿå°±å¯ä»¥å¥—ç”¨åˆ°å¦ä¸€ä¸ªæ¨¡å—ã€‚åœ¨ä¸¤ä¸ªæ¨¡å—ä¹‹é—´æ¥å›åˆ‡æ¢ä¹Ÿå°±ç›¸å½“å®¹æ˜“ï¼Œå½“ä½ ä¸å¤ªç¡®å®šä¸€äº›æ¡†æ¶è°ƒç”¨æ˜¯IOå¯†é›†å‹è¿˜æ˜¯CPUå¯†é›†å‹æ—¶ï¼Œæƒ³åšæ¢ç´¢æ€§è´¨çš„ç¼–ç¨‹ï¼Œè¿™ä¸€ç‚¹ä¼šè®©ä½ è§‰å¾—éå¸¸èµï¼&lt;/p&gt;
&lt;h4&gt;å¼€å§‹&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†è®¿é—®mapå‡½æ•°çš„å¹¶è¡Œç‰ˆæœ¬ï¼Œé¦–å…ˆéœ€è¦å¯¼å…¥åŒ…å«å®ƒçš„æ¨¡å—ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# ä»¥ä¸‹ä¸¤è¡Œå¼•å…¥å…¶ä¸€å³å¯&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; multiprocessing &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; Pool
&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; multiprocessing.dummy &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; Pool &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; ThreadPool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¹¶å®ä¾‹åŒ–æ± å¯¹è±¡ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# è¯‘æ³¨ï¼šè¿™é‡Œå…¶å®æ˜¯ä»¥dummyæ¨¡å—ä¸ºä¾‹&lt;/span&gt;
pool = ThreadPool()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸€å¥ä»£ç å¤„ç†äº†example2.pyä¸­7è¡Œçš„&lt;em&gt;build_worker_pool&lt;/em&gt;å‡½æ•°å®Œæˆçš„æ‰€æœ‰äº‹æƒ…ã€‚å¦‚åæ‰€ç¤ºï¼Œè¿™å¥ä»£ç ä¼šåˆ›å»ºä¸€ç»„å¯ç”¨çš„å·¥ä½œè€…ï¼Œå¯åŠ¨å®ƒä»¬æ¥å‡†å¤‡å·¥ä½œï¼Œå¹¶å°†å®ƒä»¬å­˜å…¥å˜é‡ä¸­ï¼Œæ–¹ä¾¿è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;poolå¯¹è±¡å¯ä»¥æœ‰è‹¥å¹²å‚æ•°ï¼Œä½†ç›®å‰ï¼Œåªéœ€å…³æ³¨ç¬¬ä¸€ä¸ªï¼šè¿›ç¨‹/çº¿ç¨‹æ•°é‡ã€‚è¿™ä¸ªå‚æ•°ç”¨äºè®¾ç½®æ± ä¸­çš„å·¥ä½œè€…æ•°ç›®ã€‚å¦‚æœç•™ç©ºï¼Œé»˜è®¤ä¸ºæœºå™¨çš„CPUæ ¸æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä¸ºCPUå¯†é›†å‹ä»»åŠ¡ä½¿ç”¨è¿›ç¨‹æ± ï¼ˆmultiprocessing poolï¼‰ï¼Œæ›´å¤šçš„æ ¸ç­‰äºæ›´å¿«çš„é€Ÿåº¦ï¼ˆä½†æœ‰ä¸€äº›æ³¨æ„äº‹é¡¹ï¼‰ã€‚ç„¶è€Œï¼Œå½“ä½¿ç”¨çº¿ç¨‹æ± ï¼ˆthreadingï¼‰å¤„ç†ç½‘ç»œå¯†é›†å‹ä»»åŠ¡æ—¶ï¼Œæƒ…å†µå°±å¾ˆä¸ä¸€æ ·äº†ï¼Œå› æ­¤æœ€å¥½è¯•éªŒä¸€ä¸‹æ± çš„æœ€ä½³å¤§å°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pool = ThreadPool(4) &lt;span style="color: #008000"&gt;# å°†æ± çš„å¤§å°è®¾ç½®ä¸º4&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœè¿è¡Œäº†è¿‡å¤šçš„çº¿ç¨‹ï¼Œå°±ä¼šæµªè´¹æ—¶é—´åœ¨çº¿ç¨‹åˆ‡æ¢ä¸Šï¼Œè€Œä¸æ˜¯åšæœ‰ç”¨çš„äº‹æƒ…ï¼Œæ‰€ä»¥å¯ä»¥æŠŠç©æŠŠç©ç›´åˆ°æ‰¾åˆ°æœ€é€‚åˆä»»åŠ¡çš„çº¿ç¨‹æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æ± å¯¹è±¡åˆ›å»ºå¥½äº†ï¼Œç®€å•çš„å¹¶è¡Œä¹Ÿæ˜¯å¼¹æŒ‡ä¹‹é—´çš„äº‹æƒ…äº†ï¼Œé‚£æ¥é‡å†™example2.pyå§ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; urllib2 
&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; multiprocessing.dummy &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; Pool &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; ThreadPool 

urls = [
  &lt;span style="color: #a31515"&gt;&amp;#39;http://www.python.org&amp;#39;&lt;/span&gt;, 
  &lt;span style="color: #a31515"&gt;&amp;#39;http://www.python.org/about/&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;http://www.onlamp.com/pub/a/python/2003/04/17/metaclasses.html&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;http://www.python.org/doc/&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;http://www.python.org/download/&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;http://www.python.org/getit/&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;http://www.python.org/community/&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;https://wiki.python.org/moin/&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;http://planet.python.org/&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;https://wiki.python.org/moin/LocalUserGroups&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;http://www.python.org/psf/&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;http://docs.python.org/devguide/&amp;#39;&lt;/span&gt;,
  &lt;span style="color: #a31515"&gt;&amp;#39;http://www.python.org/community/awards/&amp;#39;&lt;/span&gt;
  &lt;span style="color: #008000"&gt;# ç­‰ç­‰...&lt;/span&gt;
  ]

&lt;span style="color: #008000"&gt;# åˆ›å»ºä¸€ä¸ªå·¥ä½œè€…çº¿ç¨‹æ± &lt;/span&gt;
pool = ThreadPool(4) 
&lt;span style="color: #008000"&gt;# åœ¨å„ä¸ªçº¿ç¨‹ä¸­æ‰“å¼€urlï¼Œå¹¶è¿”å›ç»“æœ&lt;/span&gt;
results = pool.map(urllib2.urlopen, urls)
&lt;span style="color: #008000"&gt;#close the pool and wait for the work to finish&lt;/span&gt;
&lt;span style="color: #008000"&gt;# å…³é—­çº¿ç¨‹æ± ï¼Œç­‰å¾…å·¥ä½œç»“æŸ&lt;/span&gt;
pool.close() 
pool.join()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;çœ‹çœ‹ï¼çœŸæ­£åšäº‹æƒ…çš„ä»£ç ä»…æœ‰4è¡Œï¼Œå…¶ä¸­3è¡Œåªæ˜¯ç®€å•çš„è¾…åŠ©åŠŸèƒ½ã€‚&lt;em&gt;map&lt;/em&gt;è°ƒç”¨è½»æ¾æå®šäº†ä¹‹å‰ç¤ºä¾‹40è¡Œä»£ç åšçš„äº‹æƒ…ï¼è§‰å¾—å¥½ç©ï¼Œæˆ‘å¯¹ä¸¤ç§æ–¹å¼è¿›è¡Œäº†æ—¶é—´æµ‹é‡ï¼Œå¹¶ä½¿ç”¨äº†ä¸åŒçš„æ± å¤§å°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# è¯‘æ³¨ï¼šæˆ‘è§‰å¾—ä¸ä¸²è¡Œå¤„ç†æ–¹å¼å¯¹æ¯”æ„ä¹‰ä¸å¤§ï¼Œåº”è¯¥å’Œé˜Ÿåˆ—çš„æ–¹å¼è¿›è¡Œæ€§èƒ½å¯¹æ¯”&lt;/span&gt;
results = [] 
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt; url &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; urls:
  result = urllib2.urlopen(url)
  results.append(result)

&lt;span style="color: #008000"&gt;# # ------- å¯¹æ¯” ------- # &lt;/span&gt;


&lt;span style="color: #008000"&gt;# # ------- æ± çš„å¤§å°ä¸º4 ------- # &lt;/span&gt;
pool = ThreadPool(4) 
results = pool.map(urllib2.urlopen, urls)

&lt;span style="color: #008000"&gt;# # ------- æ± çš„å¤§å°ä¸º8 ------- # &lt;/span&gt;

pool = ThreadPool(8) 
results = pool.map(urllib2.urlopen, urls)

&lt;span style="color: #008000"&gt;# # ------- æ± çš„å¤§å°ä¸º13 ------- # &lt;/span&gt;

pool = ThreadPool(13) 
results = pool.map(urllib2.urlopen, urls)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="border: 1px solid #FF0000"&gt;å•çº¿ç¨‹&lt;/span&gt;: 14.4 &lt;span style="border: 1px solid #FF0000"&gt;ç§’&lt;/span&gt;
&lt;span style="border: 1px solid #FF0000"&gt;æ± å¤§å°ä¸º&lt;/span&gt;4&lt;span style="border: 1px solid #FF0000"&gt;æ—¶ï¼š&lt;/span&gt;3.1 &lt;span style="border: 1px solid #FF0000"&gt;ç§’&lt;/span&gt;
&lt;span style="border: 1px solid #FF0000"&gt;æ± å¤§å°ä¸º&lt;/span&gt;8&lt;span style="border: 1px solid #FF0000"&gt;æ—¶ï¼š&lt;/span&gt;1.4 &lt;span style="border: 1px solid #FF0000"&gt;ç§’&lt;/span&gt;
&lt;span style="border: 1px solid #FF0000"&gt;æ± å¤§å°ä¸º&lt;/span&gt;13&lt;span style="border: 1px solid #FF0000"&gt;æ—¶ï¼š&lt;/span&gt;1.3&lt;span style="border: 1px solid #FF0000"&gt;ç§’&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;çœŸæ˜¯å‘±å‘±å«å•Šï¼ä¹Ÿè¯´æ˜äº†è¯•éªŒä¸åŒçš„æ± å¤§å°æ˜¯æœ‰å¿…è¦çš„ã€‚åœ¨æˆ‘çš„æœºå™¨ä¸Šï¼Œæ± çš„å¤§å°å¤§äº9åä¼šå¯¼è‡´æ€§èƒ½é€€åŒ–ï¼ˆè¯‘æ³¨ï¼šå’¦ï¼Œç»“æœä¸æ˜¯æ˜¾ç¤º13æ¯”8çš„æ€§èƒ½è¦å¥½ä¹ˆï¼Ÿï¼‰ã€‚&lt;/p&gt;
&lt;h2&gt;ç°å®ä¸­çš„Example 2&lt;/h2&gt;
&lt;p&gt;ä¸ºåƒå¼ å›¾ç‰‡åˆ›å»ºç¼©ç•¥å›¾ã€‚&lt;/p&gt;
&lt;p&gt;æ¥åšç‚¹CPUå¯†é›†å‹çš„äº‹æƒ…ï¼å¯¹äºæˆ‘ï¼Œåœ¨å·¥ä½œä¸­å¸¸è§çš„ä»»åŠ¡æ˜¯æ“ä½œå¤§é‡çš„å›¾ç‰‡ç›®å½•ã€‚å…¶ä¸­ä¸€ç§å›¾ç‰‡è½¬æ¢æ˜¯åˆ›å»ºç¼©ç•¥å›¾ã€‚è¿™é¡¹å·¥ä½œé€‚äºå¹¶è¡Œå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŸºæœ¬çš„å•è¿›ç¨‹è®¾ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; multiprocessing &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; Pool 
&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; PIL &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; Image

SIZE = (75,75)
SAVE_DIRECTORY = &lt;span style="color: #a31515"&gt;&amp;#39;thumbs&amp;#39;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; get_image_paths(folder):
  &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; (os.path.join(folder, f) 
      &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; f &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; os.listdir(folder) 
      &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;jpeg&amp;#39;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; f)

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; create_thumbnail(filename): 
  im = Image.open(filename)
  im.thumbnail(SIZE, Image.ANTIALIAS)
  base, fname = os.path.split(filename) 
  save_path = os.path.join(base, SAVE_DIRECTORY, fname)
  im.save(save_path)

&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; __name__ == &lt;span style="color: #a31515"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;:
  folder = os.path.abspath(
    &lt;span style="color: #a31515"&gt;&amp;#39;11_18_2013_R000_IQM_Big_Sur_Mon__e10d1958e7b766c3e840&amp;#39;&lt;/span&gt;)
  os.mkdir(os.path.join(folder, SAVE_DIRECTORY))

  images = get_image_paths(folder)

  &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; image &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; images: 
    create_thumbnail(image)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç¤ºä¾‹ä»£ç ä¸­ç”¨äº†ä¸€äº›æŠ€å·§ï¼Œä½†å¤§ä½“ä¸Šæ˜¯ï¼šå‘ç¨‹åºä¼ å…¥ä¸€ä¸ªç›®å½•ï¼Œä»ç›®å½•ä¸­è·å–æ‰€æœ‰å›¾ç‰‡ï¼Œç„¶ååˆ›å»ºç¼©ç•¥å›¾ï¼Œå¹¶å°†ç¼©ç•¥å›¾å­˜æ”¾åˆ°å„è‡ªçš„ç›®å½•ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘çš„æœºå™¨ä¸Šï¼Œè¿™ä¸ªç¨‹åºå¤„ç†å¤§çº¦6000å¼ å›¾ç‰‡ï¼ŒèŠ±è´¹27.9ç§’ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨ä¸€ä¸ªå¹¶è¡Œçš„mapè°ƒç”¨æ¥æ›¿æ¢&lt;em&gt;for&lt;/em&gt;å¾ªç¯ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; multiprocessing &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; Pool 
&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; PIL &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; Image

SIZE = (75,75)
SAVE_DIRECTORY = &lt;span style="color: #a31515"&gt;&amp;#39;thumbs&amp;#39;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; get_image_paths(folder):
  &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; (os.path.join(folder, f) 
      &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; f &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; os.listdir(folder) 
      &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;jpeg&amp;#39;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; f)

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; create_thumbnail(filename): 
  im = Image.open(filename)
  im.thumbnail(SIZE, Image.ANTIALIAS)
  base, fname = os.path.split(filename) 
  save_path = os.path.join(base, SAVE_DIRECTORY, fname)
  im.save(save_path)

&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; __name__ == &lt;span style="color: #a31515"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;:
  folder = os.path.abspath(
    &lt;span style="color: #a31515"&gt;&amp;#39;11_18_2013_R000_IQM_Big_Sur_Mon__e10d1958e7b766c3e840&amp;#39;&lt;/span&gt;)
  os.mkdir(os.path.join(folder, SAVE_DIRECTORY))

  images = get_image_paths(folder)

  pool = Pool()
  pool.map(create_thumbnail, images)
  pool.close() 
  pool.join()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;5.6ç§’ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»…ä¿®æ”¹å‡ è¡Œä»£ç å°±èƒ½å¾—åˆ°å·¨å¤§çš„é€Ÿåº¦æå‡ã€‚è¿™ä¸ªç¨‹åºçš„ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬é€šè¿‡åˆ‡åˆ†CPUå¯†é›†å‹å·¥ä½œå’ŒIOå¯†é›†å‹å·¥ä½œå¹¶åˆ†é…åˆ°å„è‡ªçš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé€šå¸¸æ˜¯æ­»é”ä»£ç çš„ä¸€ä¸ªå› ç´ ï¼‰ï¼Œè·å¾—æ›´å¿«çš„é€Ÿåº¦ã€‚ç„¶è€Œï¼Œç”±äºmapæ€§è´¨æ¸…æ™°æ˜ç¡®ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†çº¿ç¨‹ï¼Œä»¥å¹²å‡€ã€å¯é ã€æ˜“äºè°ƒè¯•çš„æ–¹å¼æ··åˆåŒ¹é…ä¸¤è€…ï¼ˆè¯‘æ³¨ï¼šè¿™é‡Œçš„â€œä¸¤è€…â€æ˜¯æŒ‡ä»€ä¹ˆï¼ŸCPUå¯†é›†å‹å·¥ä½œå’ŒIOå¯†é›†å‹å·¥ä½œï¼Ÿï¼‰ï¼Œä¹Ÿæ˜¯ç›¸å½“å®¹æ˜“çš„ã€‚&lt;/p&gt;
&lt;p&gt;å°±æ˜¯è¿™æ ·äº†ã€‚ï¼ˆå‡ ä¹ï¼‰ä¸€è¡Œå¼å¹¶è¡Œè§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="ç¿»è¯‘"></category><category term="å¹¶è¡Œ"></category></entry><entry><title>é‚£äº›Pythonå…šè¸©è¿‡çš„PHPå‘</title><link href="http://youngsterxyf.github.io/2015/09/05/php-trap-and-tip/" rel="alternate"></link><published>2015-09-05T00:00:00+08:00</published><updated>2015-09-05T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-09-05:/2015/09/05/php-trap-and-tip/</id><summary type="html">&lt;p&gt;ä¸€çœ‹é¢˜ç›®è²Œä¼¼æœ¬æ–‡è¦å‡†å¤‡åæ§½PHPï¼Œä½†é‡åˆ°â€œå‘â€ä¸»è¦æ˜¯å› ä¸ºä¸ªäººç»éªŒä¸è¶³ã€‚&lt;/p&gt;
&lt;h4&gt;JSONååºåˆ—åŒ– json_decode&lt;/h4&gt;
&lt;p&gt;å‡½æ•° &lt;code&gt;json_decode&lt;/code&gt; é»˜è®¤ååºåˆ—åŒ–çš„ç»“æœæ˜¯å¯¹è±¡ã€‚Pythonå…šåœ¨åšPHPå¼€å‘ç”¨åˆ°è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå¾ˆå¯èƒ½ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä¸€çœ‹é¢˜ç›®è²Œä¼¼æœ¬æ–‡è¦å‡†å¤‡åæ§½PHPï¼Œä½†é‡åˆ°â€œå‘â€ä¸»è¦æ˜¯å› ä¸ºä¸ªäººç»éªŒä¸è¶³ã€‚&lt;/p&gt;
&lt;h4&gt;JSONååºåˆ—åŒ– json_decode&lt;/h4&gt;
&lt;p&gt;å‡½æ•° &lt;code&gt;json_decode&lt;/code&gt; é»˜è®¤ååºåˆ—åŒ–çš„ç»“æœæ˜¯å¯¹è±¡ã€‚Pythonå…šåœ¨åšPHPå¼€å‘ç”¨åˆ°è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå¾ˆå¯èƒ½ä¼šè·³è¿›è¿™ä¸ªå‘ï¼Œè®¤ä¸ºç»“æœåº”è¯¥æ˜¯ä¸ªæ•°ç»„ï¼Œå› ä¸ºPythonä¸­json.loadsè¿”å›çš„æ˜¯ä¸€ä¸ªå­—å…¸ã€‚ &lt;code&gt;json_decode&lt;/code&gt; çš„ç¬¬äºŒä¸ªå‚æ•° $assoc å¯ç”¨æ¥æŒ‡å®šååºåˆ—åŒ–çš„ç»“æœä¸ºæ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡æ¡£ï¼š&lt;a href="http://php.net/manual/zh/function.json-decode.php"&gt;http://php.net/manual/zh/function.json-decode.php&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;æ•°ç»„åºåˆ—åŒ–&lt;/h4&gt;
&lt;p&gt;Pythonå…šåˆå­¦PHPï¼Œå¯èƒ½ç±»æ¯”äºPythonçš„åˆ—è¡¨å’Œå­—å…¸ï¼Œè®¤ä¸ºPHPä¸­æ˜ç¡®åŒºåˆ†ç´¢å¼•æ•°ç»„å’Œå…³è”æ•°ç»„ã€‚ä½†ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;PHP å®é™…å¹¶ä¸åŒºåˆ†ç´¢å¼•æ•°ç»„å’Œå…³è”æ•°ç»„ï¼Œéƒ½æ˜¯ä¸€ç§æœ‰åºæ˜ å°„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è™½ç„¶å¾ˆå¤šæ—¶å€™ç´¢å¼•æ•°ç»„å’Œå…³è”æ•°ç»„åœ¨è¡¨ç°ä¸Šæ˜¯ä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚å¯¹ä»¥ä¸‹ä¸¤ä¸ªæ•°ç»„è¿›è¡Œåºåˆ—åŒ–ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$arrA = &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;c&amp;#39;&lt;/span&gt;);
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; json_encode($arrA) . &lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;;

$arrB = &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;a&amp;#39;&lt;/span&gt; =&amp;gt; 1, &lt;span style="color: #a31515"&gt;&amp;#39;b&amp;#39;&lt;/span&gt; =&amp;gt; 2, &lt;span style="color: #a31515"&gt;&amp;#39;c&amp;#39;&lt;/span&gt; =&amp;gt; 3);
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; json_encode($arrB) . &lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç»“æœä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;[&amp;quot;a&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;c&amp;quot;]&lt;/span&gt;
{&amp;quot;a&amp;quot;:1,&amp;quot;b&amp;quot;:2,&amp;quot;c&amp;quot;:3}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæŠŠåºåˆ—åŒ–çš„ç»“æœä½œä¸ºJSONè¾“å‡ºåˆ°å‰ç«¯ï¼Œå¯¹äºJSæ¥è¯´ï¼Œæ˜¯ä¸¤ç§ä¸åŒçš„æ•°æ®ç»“æ„ï¼šæ•°ç»„å’Œå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ &lt;code&gt;$arrA&lt;/code&gt; çš„åˆå§‹åŒ–å€¼æ˜¯ &lt;code&gt;array(0 =&amp;gt; 'a', 1 =&amp;gt; 'b', 2 =&amp;gt; 'c')&lt;/code&gt; çš„ç®€å†™æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹å¦ä¸€æ®µç¨‹åºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$arrA = array(&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;);
echo json_encode($arrA) . &amp;quot;\n&amp;quot;;

$arrA = array(0 =&amp;gt; &amp;#39;a&amp;#39;, 1 =&amp;gt; &amp;#39;b&amp;#39;, 2 =&amp;gt; &amp;#39;c&amp;#39;);
echo json_encode($arrA) . &amp;quot;\n&amp;quot;;

$arrA = array(1 =&amp;gt; &amp;#39;a&amp;#39;, 2 =&amp;gt; &amp;#39;b&amp;#39;, 3 =&amp;gt; &amp;#39;c&amp;#39;);
echo json_encode($arrA) . &amp;quot;\n&amp;quot;;

$arrA = array(0 =&amp;gt; &amp;#39;a&amp;#39;, 2 =&amp;gt; &amp;#39;b&amp;#39;, 3 =&amp;gt; &amp;#39;c&amp;#39;);
echo json_encode($arrA) . &amp;quot;\n&amp;quot;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¾“å‡ºä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;[&amp;quot;a&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;c&amp;quot;]&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;[&amp;quot;a&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;c&amp;quot;]&lt;/span&gt;
{&amp;quot;1&amp;quot;:&amp;quot;a&amp;quot;,&amp;quot;2&amp;quot;:&amp;quot;b&amp;quot;,&amp;quot;3&amp;quot;:&amp;quot;c&amp;quot;}
{&amp;quot;0&amp;quot;:&amp;quot;a&amp;quot;,&amp;quot;2&amp;quot;:&amp;quot;b&amp;quot;,&amp;quot;3&amp;quot;:&amp;quot;c&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»è¾“å‡ºå¯ä»¥çŸ¥é“ï¼šä»…å½“æ•°ç»„çš„keyæ˜¯ä»0å¼€å§‹çš„æ•´æ•°ï¼Œå¹¶ä¸”keyè¿ç»­ä¸é—´æ–­ï¼Œå¯¹å…¶åºåˆ—åŒ–çš„ç»“æœæ‰æ˜¯JSä¸­çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸è®¤ä¸ºçš„PHPç´¢å¼•æ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå‘å¯èƒ½åœ¨æŸäº›æ—¶å€™ä¸å°å¿ƒå°±æ‰è¿›å»äº†ï¼Œæ¯”å¦‚æˆ‘æ›¾å¯¹ä¸€ä¸ªç´¢å¼•æ•°ç»„åº”ç”¨array_filterå‡½æ•°æ“ä½œï¼Œç„¶åjson_encodeåºåˆ—åŒ–è¾“å‡ºåˆ°å‰ç«¯ï¼Œè®¤ä¸ºå‰ç«¯ååºåˆ—åŒ–å‡ºæ¥çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ²¡æƒ³åˆ°å´æ˜¯ä¸ªå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;å‡½æ•°&lt;code&gt;array_filter&lt;/code&gt;çš„æ–‡æ¡£è¯´æ˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;array array_filter ( array $input [, callable $callback = "" ] )&lt;/p&gt;
&lt;p&gt;ä¾æ¬¡å°† input æ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ä¼ é€’åˆ° callback å‡½æ•°ã€‚å¦‚æœ callback å‡½æ•°è¿”å› TRUEï¼Œåˆ™ input æ•°ç»„çš„å½“å‰å€¼ä¼šè¢«åŒ…å«åœ¨è¿”å›çš„ç»“æœæ•°ç»„ä¸­ã€‚æ•°ç»„çš„é”®åä¿ç•™ä¸å˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ³¨æ„æ˜¯å¯¹å€¼è¿›è¡Œfilterï¼Œç»“æœä¸­å€¼åŸæœ¬å¯¹åº”çš„keyä¸å˜ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ–°çš„keyã€‚&lt;/p&gt;
&lt;p&gt;æ–‡æ¡£ï¼š&lt;a href="http://php.net/manual/zh/language.types.array.php"&gt;http://php.net/manual/zh/language.types.array.php&lt;/a&gt;ï¼Œ&lt;a href="http://php.net/manual/zh/function.array-filter.php"&gt;http://php.net/manual/zh/function.array-filter.php&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;å¼•ç”¨ä¼ é€’&lt;/h4&gt;
&lt;p&gt;å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;CommonUtils&lt;/span&gt; {
    &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; $TASK_INTERVAL_SEMANTIC_INT_MAPPER = &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(
        &lt;span style="color: #a31515"&gt;&amp;#39;PER_DAY&amp;#39;&lt;/span&gt; =&amp;gt; 86400,
        &lt;span style="color: #a31515"&gt;&amp;#39;TWO_DAY&amp;#39;&lt;/span&gt; =&amp;gt; 172800,
        &lt;span style="color: #a31515"&gt;&amp;#39;PER_WEEK&amp;#39;&lt;/span&gt; =&amp;gt; 604800,
        &lt;span style="color: #a31515"&gt;&amp;#39;TWO_WEEK&amp;#39;&lt;/span&gt; =&amp;gt; 1209600,
        &lt;span style="color: #a31515"&gt;&amp;#39;PER_MONTH&amp;#39;&lt;/span&gt; =&amp;gt; 2592000,
    );
}
$ha = array_pop(array_keys(CommonUtils::$TASK_INTERVAL_SEMANTIC_INT_MAPPER));
var_dump($ha);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ &lt;code&gt;error_reporting = E_ALL&lt;/code&gt; æ—¶ï¼Œä¸Šé¢çš„ä»£ç ä¼šæŠ›å‡ºä¸€ä¸ªä¸¥æ ¼æ¨¡å¼é”™è¯¯ï¼š&lt;code&gt;Only variables should be passed by reference&lt;/code&gt; ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;a href="http://php.net/manual/zh/language.references.pass.php"&gt;PHPæ–‡æ¡£&lt;/a&gt;ä¸­è¯´æ˜åªæœ‰ä¸‰ç§å†…å®¹å¯ä»¥é€šè¿‡å¼•ç”¨ä¼ é€’ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å˜é‡ï¼Œä¾‹å¦‚ foo($a)&lt;/li&gt;
&lt;li&gt;New è¯­å¥ï¼Œä¾‹å¦‚ foo(new foobar())&lt;/li&gt;
&lt;li&gt;ä»å‡½æ•°ä¸­è¿”å›çš„å¼•ç”¨ï¼Œä¾‹å¦‚ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; &amp;amp;bar()
{
    $a = 5;
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; $a;
}
foo(bar());
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ä»»ä½•å…¶å®ƒè¡¨è¾¾å¼éƒ½ä¸èƒ½é€šè¿‡å¼•ç”¨ä¼ é€’ï¼Œç»“æœæœªå®šä¹‰ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢ä»£ç ä¸­ &lt;code&gt;$ha = array_pop(array_keys(CommonUtils::$TASK_INTERVAL_SEMANTIC_INT_MAPPER));&lt;/code&gt; ä¸€è¡Œï¼Œè°ƒç”¨äº† &lt;code&gt;array_pop&lt;/code&gt; å’Œ &lt;code&gt;array_keys&lt;/code&gt;ï¼Œ&lt;code&gt;array_pop&lt;/code&gt; çš„å‡½æ•°ç­¾åä¸ºï¼š&lt;code&gt;mixed array_pop ( array &amp;amp;$array )&lt;/code&gt; ï¼Œä½† &lt;code&gt;array_keys&lt;/code&gt; å‡½æ•°è°ƒç”¨è¿”å›çš„æ˜¯ä¸€ä¸ªarrayå€¼ï¼Œä¸å±äºä¸Šé¢åˆ—å‡ºä¸‰ç§å†…å®¹ï¼Œæ‰€ä»¥ä¼šæŠ›é”™ã€‚ä½† &lt;strong&gt;è¿™ä¸ªæƒ…å†µä¸‹è¿™ç§é”™è¯¯&lt;/strong&gt; çš„çº§åˆ«ä¸åŒç‰ˆæœ¬çš„PHPä¹Ÿä¸ä¸€æ ·ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ª PHP 5.0.5 èµ·å¯¼è‡´è‡´å‘½é”™è¯¯&lt;/li&gt;
&lt;li&gt;è‡ª PHP 5.1.1 èµ·å¯¼è‡´ä¸¥æ ¼æ¨¡å¼é”™è¯¯&lt;/li&gt;
&lt;li&gt;è‡ª PHP 7.0 èµ·å¯¼è‡´ notice ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†å¦‚æœç›´æ¥ç»™ &lt;code&gt;array_pop&lt;/code&gt; ä¼ é€’ä¸€ä¸ªæ•°ç»„å€¼ï¼Œåˆ™ä¼šå¯¼è‡´è‡´å‘½é”™è¯¯ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
array_pop(&lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(1, 2, 3, 4));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¼šæŠ›å‡ºé”™è¯¯ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;PHP Fatal error:  Only variables can be passed by reference &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; /Users/xiayf/test.php on line 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ–‡æ¡£ï¼š&lt;a href="http://php.net/manual/zh/language.references.php"&gt;http://php.net/manual/zh/language.references.php&lt;/a&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="ç¬”è®°"></category></entry><entry><title>ç¼–ç¨‹åè¨€é›†é”¦ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2015/06/02/programming-quotes/" rel="alternate"></link><published>2015-06-02T00:00:00+08:00</published><updated>2015-06-02T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-06-02:/2015/06/02/programming-quotes/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://quotes.cat-v.org/programming/"&gt;Programming Quotes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;C.A.R. Hoare, The 1980 ACM Turing Award Lecture&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;There are two ways of constructing a software design: One way is to make it so simple that there are obviously no deficiencies and the other way is to make it so complicated â€¦&lt;/p&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://quotes.cat-v.org/programming/"&gt;Programming Quotes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;C.A.R. Hoare, The 1980 ACM Turing Award Lecture&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;There are two ways of constructing a software design: One way is to make it so simple that there are obviously no deficiencies and the other way is to make it so complicated that there are no obvious deficiencies.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ‰ä¸¤ç§è½¯ä»¶è®¾è®¡çš„æ–¹å¼ï¼šä¸€ç§æ˜¯ä½¿å®ƒè¶³å¤Ÿç®€å•ä»¥è‡´äºæ˜æ˜¾æ²¡æœ‰ç¼ºé™·ï¼Œå¦ä¸€ç§åˆ™æ˜¯ä½¿å®ƒè¶³å¤Ÿå¤æ‚ä»¥è‡´äºæ²¡æœ‰æ˜æ˜¾çš„ç¼ºé™·ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;E.W.Dijkstra&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The computing scientist's main challenge is not to get confused by the complexities of his own making.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è®¡ç®—ç§‘å­¦å®¶çš„ä¸»è¦æŒ‘æˆ˜æ˜¯ä¸è¦è¢«ä»–è‡ªå·±é€ æˆçš„å¤æ‚æ€§æç³Šæ¶‚äº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Gordon Bell&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The cheapest, fastest, and most reliable components are those that aren't there.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ€å»‰ä»·ï¼Œæœ€å¿«é€Ÿï¼Œå¹¶ä¸”æœ€å¯é çš„éƒ¨ä»¶æ˜¯é‚£äº›è¿˜æ²¡è¢«ä½¿ç”¨çš„ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="http://genius.cat-v.org/ken-thompson/"&gt;Ken Thompson&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;One of my most productive days was throwing away 1000 lines of code.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘æœ€å¤šäº§çš„ä¸€å¤©æŠ›å¼ƒäº†1000è¡Œä»£ç ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="http://genius.cat-v.org/ken-thompson/"&gt;Ken Thompson&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;When in doubt, use brute force.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è‹¥æ— æŠŠæ¡ï¼Œæš´åŠ›ç ´è§£ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Jeff Sickel&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Deleted code is debugged code.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;éœ€è¦è°ƒè¯•çš„ä»£ç éƒ½åº”è¯¥åˆ é™¤ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Brian W. Kernighan, P. J. Plauger&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Debugging is twice as hard as writing the code in the first place. Therefore, if you write the code as cleverly as possible, you are, by definition, not smart enough to debug it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è°ƒè¯•çš„éš¾åº¦ä¸¤å€äºä¸€å¼€å§‹çš„å†™ä»£ç ã€‚å› æ­¤ï¼Œå¦‚æœä½ å°½å¯èƒ½å·§å¦™åœ°ç¼–å†™ä»£ç ï¼Œæ ¹æ®å®šä¹‰ï¼Œè¯´æ˜ä½ è¿˜ä¸å…·å¤‡è¶³å¤Ÿçš„æ™ºå•†æ¥è°ƒè¯•å®ƒã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Brian W. Kernighan&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The most effective debugging tool is still careful thought, coupled with judiciously placed print statements.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ€æœ‰æ•ˆçš„è°ƒè¯•å·¥å…·æ˜¯é™ä¸‹å¿ƒæ¥ä»”ç»†æ€è€ƒï¼Œè¾…ä¹‹å®¡æ…åœ°æ”¾ç½®æ‰“å°è¯­å¥ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Brian W. Kernighan&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Controlling complexity is the essence of computer programming. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è®¡ç®—æœºç¼–ç¨‹çš„æœ¬è´¨æ˜¯æ§åˆ¶å¤æ‚åº¦ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;David Gelernter&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Beauty is more important in computing than anywhere else in technology because software is so complicated. Beauty is the ultimate defence against complexity.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç›¸æ¯”å…¶ä»–æŠ€æœ¯é¢†åŸŸï¼Œç¾å¯¹äºè®¡ç®—æ¥è¯´æ›´ä¸ºé‡è¦ï¼Œå› ä¸ºè½¯ä»¶è¶…ä¹å¯»å¸¸çš„å¤æ‚ï¼Œè€Œç¾æ˜¯å¯¹å¤æ‚æ€§çš„ä¸€ç§ç»ˆæé˜²å¾¡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Doug Gwyn&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;UNIX was not designed to stop its users from doing stupid things, as that would also stop them from doing clever things.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;UNIXå¹¶ä¸ä¼šé˜»æ­¢ç”¨æˆ·å¹²è ¢äº‹ï¼Œå› ä¸ºé‚£æ ·ä¹Ÿä¼šé˜»ç¢ç”¨æˆ·åšäº›èªæ˜çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;John Carmack&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;If you're willing to restrict the flexibility of your approach, you can almost always do something better. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é™åˆ¶æ–¹æ³•çš„çµæ´»æ€§å‡ ä¹æ€»ä¼šè®©ä½ æŠŠäº‹æƒ…åšå¾—æ›´å¥½ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;John Osterhout&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;A program that produces incorrect result twice as fast is infinitely slower.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç»“æœä¸å¯¹ï¼Œç¨‹åºå†å¿«éƒ½é¡¶ä¸ªå±ç”¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Geer et al.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The central enemy of reliability is complexity.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯é çš„æœ€å¤§æ•Œäººæ˜¯å¤æ‚ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Edsger W. Dijkstra&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Simplicity is prerequisite for reliability.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç®€å•æ˜¯å¯é çš„å…ˆå†³æ¡ä»¶ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Peter Deutsch&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The Eight Fallacies of Distributed Computing&lt;/p&gt;
&lt;p&gt;Essentially everyone, when they first build a distributed application, makes the following eight assumptions. All prove to be false in the long run and all cause big trouble and painful learning experiences.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The network is reliable&lt;/li&gt;
&lt;li&gt;Latency is zero&lt;/li&gt;
&lt;li&gt;Bandwidth is infinite&lt;/li&gt;
&lt;li&gt;The network is secure&lt;/li&gt;
&lt;li&gt;Topology doesn't change&lt;/li&gt;
&lt;li&gt;There is one administrator&lt;/li&gt;
&lt;li&gt;Transport cost is zero&lt;/li&gt;
&lt;li&gt;The network is homogeneous&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;åˆ†å¸ƒå¼è®¡ç®—çš„å…«å¤§è°¬è¯¯&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œæ¯ä¸ªäººï¼Œå½“ä»–ç¬¬ä¸€æ¬¡æ„å»ºåˆ†å¸ƒå¼åº”ç”¨æ—¶ï¼Œéƒ½ä¼šä½œå‡ºå¦‚ä¸‹å…«ä¸ªå‡è®¾ã€‚é•¿è¿œæ¥çœ‹ï¼Œè¿™äº›å‡è®¾éƒ½è¢«è¯æ˜æ˜¯é”™è¯¯çš„ï¼Œå¹¶ä¸”éƒ½é€ æˆäº†å·¨å¤§çš„éº»çƒ¦å’Œæ²‰ç—›çš„ç»éªŒæ•™è®­ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œå¯é &lt;/li&gt;
&lt;li&gt;é›¶å»¶è¿Ÿ&lt;/li&gt;
&lt;li&gt;å¸¦å®½æ— é™&lt;/li&gt;
&lt;li&gt;å®‰å…¨ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;æ‹“æ‰‘ä¸å˜&lt;/li&gt;
&lt;li&gt;æœ‰ä¸ªç®¡ç†è€…&lt;/li&gt;
&lt;li&gt;ä¼ è¾“ä»£ä»·ä¸ºé›¶&lt;/li&gt;
&lt;li&gt;ç½‘ç»œåŒæ„&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Jon Bentley, Doug Mcllroy&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The key to performance is elegance, not battalions of special cases.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ€§èƒ½çš„å…³é”®æ˜¯ä¼˜é›…ï¼Œè€Œä¸æ˜¯å¤§å †çš„ç‰¹æ®Šæƒ…å†µã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Bill Gates&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Measuring programming progress by lines of code is like measuring aircraft building progress by weight.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»¥ä»£ç è¡Œæ•°æ¥è¡¡é‡ç¨‹åºè®¾è®¡çš„è¿›åº¦ï¼Œå°±å¥½æ¯”ä»¥é‡é‡æ¥è¡¡é‡é£æœºçš„åˆ¶é€ è¿›åº¦ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;John Johnson&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;First, solve the problem. Then, write the code.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¦–å…ˆï¼Œè§£å†³é—®é¢˜ã€‚è€Œåï¼Œç¼–å†™ä»£ç ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Ken Thompson&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;You can't trust code that you did not totally create yourself.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½ ä¸èƒ½ä¿¡ä»»éä½ å®Œå…¨è‡ªå·±å†™çš„ä»£ç ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Sean Parent&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Good code is short, simple, and symmetrical - the challenge is figuring out how to get there.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¥½çš„ä»£ç ï¼ŒçŸ­å°ã€ç®€æ´ï¼Œå¹¶ä¸”åŒ€ç§° - è€ŒçœŸæ­£çš„æŒ‘æˆ˜åœ¨äºå¼„æ¸…å¦‚ä½•è¾¾åˆ°è¿™äº›ç›®æ ‡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Voltaire&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The best is the enemy of the good.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿½æ±‚å®Œç¾æ˜¯ä¼˜ç§€è½¯ä»¶çš„æ•Œäººã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Dr. Pamela Zave&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The purpose of software engineering is to control complexity, not to create it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è½¯ä»¶å·¥ç¨‹çš„ç›®æ ‡æ˜¯æ§åˆ¶å¤æ‚åº¦ï¼Œè€Œä¸æ˜¯å¢åŠ å¤æ‚æ€§ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Olin Shivers&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;I object to doing things that computers can do.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘åå¯¹å»åšé‚£äº›è®¡ç®—æœºå¯ä»¥åšçš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;merb motto&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;No code is faster than no code.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ²¡æœ‰ä»€ä¹ˆä»£ç ä¼šæ¯”æ²¡æœ‰ä»£ç é€Ÿåº¦æ›´å¿«ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Dave Parnas&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;As a rule, software systems do not work well until they have been used, and have failed repeatedly, in real applications.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸€èˆ¬è¯´æ¥ï¼Œè½¯ä»¶ç³»ç»Ÿåªæœ‰å¾—åˆ°å®é™…åº”ç”¨ï¼Œå¹¶ä¸”ç»å†å¤šæ¬¡å¤±è´¥ï¼Œæ‰èƒ½å·¥ä½œå¾—å¾ˆå¥½ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;RnRS&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Programming languages should be designed not by piling feature on top of feature, but by removing the weaknesses and restrictions that make additional features appear necessary.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¨‹åºè¯­è¨€çš„è®¾è®¡ä¸åº”è¯¥æ˜¯ç‰¹æ€§çš„å †å ï¼Œè€Œåº”è¯¥å»é™¤é‚£äº›ä½¿å¾—é¢å¤–çš„ç‰¹æ€§æ˜¾å¾—å¿…è¦çš„å¼±ç‚¹å’Œå±€é™ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Ryan Singer&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;So much complexity in software comes from trying to make one thing do two things.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è½¯ä»¶ä¸­å¦‚æ­¤å¤šçš„å¤æ‚æ€§çš†æ¥è‡ªäºæƒ³åœ¨åšä¸€ä»¶äº‹çš„åŒæ—¶å¤šåšå‡ ä»¶äº‹ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;æœªå®Œå¾…ç»­&lt;/em&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="æ„Ÿæ‚Ÿ"></category></entry><entry><title>Goå¹¶å‘ç¼–ç¨‹åŸºç¡€ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2015/05/20/fundamentals-of-concurrent-programming/" rel="alternate"></link><published>2015-05-20T00:00:00+08:00</published><updated>2015-05-20T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-05-20:/2015/05/20/fundamentals-of-concurrent-programming/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/"&gt;Fundamentals of concurrent programming&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ˜¯ä¸€ç¯‡å¹¶å‘ç¼–ç¨‹æ–¹é¢çš„å…¥é—¨æ–‡ç« ï¼Œä»¥&lt;a href="http://golang.org/"&gt;Goè¯­è¨€&lt;/a&gt;ç¼–å†™ç¤ºä¾‹ä»£ç ï¼Œå†…å®¹æ¶µç›–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿è¡ŒæœŸå¹¶å‘çº¿ç¨‹ï¼ˆgoroutinesï¼‰&lt;/li&gt;
&lt;li&gt;åŸºæœ¬çš„åŒæ­¥ â€¦&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/"&gt;Fundamentals of concurrent programming&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ˜¯ä¸€ç¯‡å¹¶å‘ç¼–ç¨‹æ–¹é¢çš„å…¥é—¨æ–‡ç« ï¼Œä»¥&lt;a href="http://golang.org/"&gt;Goè¯­è¨€&lt;/a&gt;ç¼–å†™ç¤ºä¾‹ä»£ç ï¼Œå†…å®¹æ¶µç›–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿è¡ŒæœŸå¹¶å‘çº¿ç¨‹ï¼ˆgoroutinesï¼‰&lt;/li&gt;
&lt;li&gt;åŸºæœ¬çš„åŒæ­¥æŠ€æœ¯ï¼ˆç®¡é“å’Œé”ï¼‰&lt;/li&gt;
&lt;li&gt;Goè¯­è¨€ä¸­åŸºæœ¬çš„å¹¶å‘æ¨¡å¼&lt;/li&gt;
&lt;li&gt;æ­»é”å’Œæ•°æ®ç«äº‰&lt;/li&gt;
&lt;li&gt;å¹¶è¡Œè®¡ç®—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨å¼€å§‹é˜…è¯»æœ¬æ–‡ä¹‹å‰ï¼Œä½ åº”è¯¥çŸ¥é“å¦‚ä½•ç¼–å†™ç®€å•çš„Goç¨‹åºã€‚å¦‚æœä½ ç†Ÿæ‚‰çš„æ˜¯C/C++ã€Javaæˆ–Pythonä¹‹ç±»çš„è¯­è¨€ï¼Œé‚£ä¹ˆ &lt;a href="http://tour.golang.org/welcome/1"&gt;Goè¯­è¨€ä¹‹æ—…&lt;/a&gt; èƒ½æä¾›æ‰€æœ‰å¿…è¦çš„èƒŒæ™¯çŸ¥è¯†ã€‚ä¹Ÿè®¸ä½ è¿˜æœ‰å…´è¶£è¯»ä¸€è¯» &lt;a href="http://code.google.com/p/go-wiki/wiki/GoForCPPProgrammers"&gt;ä¸ºC++ç¨‹åºå‘˜å‡†å¤‡çš„Goè¯­è¨€æ•™ç¨‹&lt;/a&gt; æˆ– &lt;a href="http://www.nada.kth.se/~snilsson/go_for_java_programmers/"&gt;ä¸ºJavaç¨‹åºå‘˜å‡†å¤‡çš„Goè¯­è¨€æ•™ç¨‹&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h4&gt;1. è¿è¡ŒæœŸçº¿ç¨‹&lt;/h4&gt;
&lt;p&gt;Goå…è®¸ä½¿ç”¨&lt;code&gt;go&lt;/code&gt;è¯­å¥å¼€å¯ä¸€ä¸ªæ–°çš„è¿è¡ŒæœŸçº¿ç¨‹ï¼Œå³ &lt;a href="http://golang.org/ref/spec#Go_statements"&gt;goroutine&lt;/a&gt;ï¼Œä»¥ä¸€ä¸ªä¸åŒçš„ã€æ–°åˆ›å»ºçš„goroutineæ¥æ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚åŒä¸€ä¸ªç¨‹åºä¸­çš„æ‰€æœ‰goroutineå…±äº«åŒä¸€ä¸ªåœ°å€ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;Goroutineéå¸¸è½»é‡ï¼Œé™¤äº†ä¸ºä¹‹åˆ†é…çš„æ ˆç©ºé—´ï¼Œå…¶æ‰€å ç”¨çš„å†…å­˜ç©ºé—´å¾®ä¹å…¶å¾®ã€‚å¹¶ä¸”å…¶æ ˆç©ºé—´åœ¨å¼€å§‹æ—¶éå¸¸å°ï¼Œä¹‹åéšç€å †å­˜å‚¨ç©ºé—´çš„æŒ‰éœ€åˆ†é…æˆ–é‡Šæ”¾è€Œå˜åŒ–ã€‚å†…éƒ¨å®ç°ä¸Šï¼Œgoroutineä¼šåœ¨å¤šä¸ªæ“ä½œç³»ç»Ÿçº¿ç¨‹ä¸Šå¤šè·¯å¤ç”¨ã€‚å¦‚æœä¸€ä¸ªgoroutineé˜»å¡äº†ä¸€ä¸ªæ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼Œä¾‹å¦‚ï¼šç­‰å¾…è¾“å…¥ï¼Œè¿™ä¸ªçº¿ç¨‹ä¸Šçš„å…¶ä»–goroutineå°±ä¼šè¿ç§»åˆ°å…¶ä»–çº¿ç¨‹ï¼Œè¿™æ ·èƒ½ç»§ç»­è¿è¡Œã€‚å¼€å‘è€…å¹¶ä¸éœ€è¦å…³å¿ƒ/æ‹…å¿ƒè¿™äº›ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ‰€ç¤ºç¨‹åºä¼šè¾“å‡ºâ€œHello from main goroutineâ€ã€‚ä¹Ÿå¯èƒ½ä¼šè¾“å‡ºâ€œHello from another goroutineâ€ï¼Œå…·ä½“ä¾èµ–äºä¸¤ä¸ªgoroutineå“ªä¸ªå…ˆç»“æŸã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; main() {
    &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;Hello from another goroutine&amp;quot;&lt;/span&gt;)
    fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;Hello from main goroutine&amp;quot;&lt;/span&gt;)

    &lt;span style="color: #008000"&gt;// è‡³æ­¤ï¼Œç¨‹åºè¿è¡Œç»“æŸï¼Œ&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// æ‰€æœ‰æ´»è·ƒçš„goroutineè¢«æ€æ­»&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/goroutine1.go"&gt;goroutine1.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥çš„è¿™ä¸ªç¨‹åºï¼Œå¤šæ•°æƒ…å†µä¸‹ï¼Œä¼šè¾“å‡ºâ€œHello from main goroutineâ€å’Œâ€œHello from another goroutineâ€ï¼Œè¾“å‡ºçš„é¡ºåºä¸ç¡®å®šã€‚ä½†è¿˜æœ‰å¦ä¸€ä¸ªå¯èƒ½æ€§æ˜¯ï¼šç¬¬äºŒä¸ªgoroutineè¿è¡Œå¾—æå…¶æ…¢ï¼Œåœ¨ç¨‹åºç»“æŸä¹‹å‰éƒ½æ²¡æ¥å¾—åŠè¾“å‡ºç›¸åº”çš„æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; main() {
    &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;Hello from another goroutine&amp;quot;&lt;/span&gt;)
    fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;Hello from main goroutine&amp;quot;&lt;/span&gt;)

    time.Sleep(time.Second)        &lt;span style="color: #008000"&gt;// ç­‰å¾…1ç§’ï¼Œç­‰å¦ä¸€ä¸ªgoroutineç»“æŸ&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/goroutine2.go"&gt;goroutine2.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢åˆ™æ˜¯ä¸€ä¸ªç›¸å¯¹æ›´åŠ å®é™…çš„ç¤ºä¾‹ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ä½¿ç”¨å¹¶å‘æ¥æ¨è¿Ÿè§¦å‘ä¸€ä¸ªäº‹ä»¶ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;// å‡½æ•°Publishåœ¨ç»™å®šæ—¶é—´è¿‡æœŸåæ‰“å°textå­—ç¬¦ä¸²åˆ°æ ‡å‡†è¾“å‡º&lt;/span&gt;
   &lt;span style="color: #008000"&gt;// è¯¥å‡½æ•°å¹¶ä¸ä¼šé˜»å¡è€Œæ˜¯ç«‹å³è¿”å›&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; Publish(text &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;, delay time.Duration) {
    &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;() {
        time.Sleep(delay)
        fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;BREAKING NEWS:&amp;quot;&lt;/span&gt;, text)
    }()    &lt;span style="color: #008000"&gt;// æ³¨æ„è¿™é‡Œçš„æ‹¬å·ã€‚å¿…é¡»è°ƒç”¨åŒ¿åå‡½æ•°&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/publish1.go"&gt;publish1.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯èƒ½ä¼šè¿™æ ·ä½¿ç”¨&lt;code&gt;Publish&lt;/code&gt;å‡½æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; main() {
    Publish(&lt;span style="color: #a31515"&gt;&amp;quot;A goroutine starts a new thread of execution.&amp;quot;&lt;/span&gt;, 5*time.Second)
    fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;Letâ€™s hope the news will published before I leave.&amp;quot;&lt;/span&gt;)

    &lt;span style="color: #008000"&gt;// ç­‰å¾…å‘å¸ƒæ–°é—»&lt;/span&gt;
    time.Sleep(10 * time.Second)

    fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;Ten seconds later: Iâ€™m leaving now.&amp;quot;&lt;/span&gt;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/publish1.go"&gt;publish1.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç¨‹åºï¼Œç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¼šè¾“å‡ºä»¥ä¸‹ä¸‰è¡Œï¼Œé¡ºåºå›ºå®šï¼Œæ¯è¡Œè¾“å‡ºä¹‹é—´ç›¸éš”5ç§’ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ go run publish1.go
Letâ€™s hope the news will published before I leave.
BREAKING NEWS: A goroutine starts a new thread of execution.
Ten seconds later: Iâ€™m leaving now.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œé€šè¿‡ç¡çœ çš„æ–¹å¼æ¥ç¼–æ’çº¿ç¨‹ä¹‹é—´ç›¸äº’ç­‰å¾…æ˜¯ä¸å¤ªå¯èƒ½çš„ã€‚ä¸‹ä¸€ç« èŠ‚ä¼šä»‹ç»Goè¯­è¨€ä¸­çš„ä¸€ç§åŒæ­¥æœºåˆ¶ - ç®¡é“ï¼Œå¹¶æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ç®¡é“è®©ä¸€ä¸ªgoroutineç­‰å¾…å¦ä¸€ä¸ªgoroutineã€‚&lt;/p&gt;
&lt;h4&gt;2. ç®¡é“ï¼ˆchannelï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;img alt="Sushi conveyor belt" src="http://www.nada.kth.se/~snilsson/concurrency/sushi-conveyor-belt.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://golang.org/ref/spec#Channel_types"&gt;ç®¡é“&lt;/a&gt;æ˜¯Goè¯­è¨€çš„ä¸€ä¸ªæ„ä»¶ï¼Œæä¾›ä¸€ç§æœºåˆ¶ç”¨äºä¸¤ä¸ªgoroutineä¹‹é—´é€šè¿‡ä¼ é€’ä¸€ä¸ªæŒ‡å®šç±»å‹çš„å€¼æ¥åŒæ­¥è¿è¡Œå’Œé€šè®¯ã€‚æ“ä½œç¬¦&lt;code&gt;&amp;lt;-&lt;/code&gt;ç”¨äºæŒ‡å®šç®¡é“çš„æ–¹å‘ï¼Œå‘é€æˆ–æ¥æ”¶ã€‚å¦‚æœæœªæŒ‡å®šæ–¹å‘ï¼Œåˆ™ä¸ºåŒå‘ç®¡é“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; Sushi        &lt;span style="color: #008000"&gt;// å¯ç”¨æ¥å‘é€å’Œæ¥æ”¶Sushiç±»å‹çš„å€¼&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt;&amp;lt;- &lt;span style="color: #2b91af"&gt;float64&lt;/span&gt;    &lt;span style="color: #008000"&gt;// ä»…å¯ç”¨æ¥å‘é€float64ç±»å‹çš„å€¼&lt;/span&gt;
&amp;lt;-&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;        &lt;span style="color: #008000"&gt;// ä»…å¯ç”¨æ¥æ¥æ”¶intç±»å‹çš„å€¼&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç®¡é“æ˜¯å¼•ç”¨ç±»å‹ï¼ŒåŸºäºmakeå‡½æ•°æ¥åˆ†é…ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ic := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;)    &lt;span style="color: #008000"&gt;// ä¸å¸¦ç¼“å†²çš„intç±»å‹ç®¡é“&lt;/span&gt;
wc := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; *Work, 10)    &lt;span style="color: #008000"&gt;// å¸¦ç¼“å†²çš„Workç±»å‹æŒ‡é’ˆç®¡é“&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœé€šè¿‡ç®¡é“å‘é€ä¸€ä¸ªå€¼ï¼Œåˆ™å°†&lt;code&gt;&amp;lt;-&lt;/code&gt;ä½œä¸ºäºŒå…ƒæ“ä½œç¬¦ä½¿ç”¨ã€‚é€šè¿‡ç®¡é“æ¥æ”¶ä¸€ä¸ªå€¼ï¼Œåˆ™å°†å…¶ä½œä¸ºä¸€å…ƒæ“ä½œç¬¦ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ic &amp;lt;- 3        &lt;span style="color: #008000"&gt;// å¾€ç®¡é“å‘é€3&lt;/span&gt;
work := &amp;lt;-wc    &lt;span style="color: #008000"&gt;// ä»ç®¡é“æ¥æ”¶ä¸€ä¸ªæŒ‡å‘Workç±»å‹å€¼çš„æŒ‡é’ˆ&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœç®¡é“ä¸å¸¦ç¼“å†²ï¼Œå‘é€æ–¹ä¼šé˜»å¡ç›´åˆ°æ¥æ”¶æ–¹ä»ç®¡é“ä¸­æ¥æ”¶äº†å€¼ã€‚å¦‚æœç®¡é“å¸¦ç¼“å†²ï¼Œå‘é€æ–¹åˆ™ä¼šé˜»å¡ç›´åˆ°å‘é€çš„å€¼è¢«æ‹·è´åˆ°ç¼“å†²åŒºå†…ï¼›å¦‚æœç¼“å†²åŒºå·²æ»¡ï¼Œåˆ™æ„å‘³ç€éœ€è¦ç­‰å¾…ç›´åˆ°æŸä¸ªæ¥æ”¶æ–¹è·å–åˆ°ä¸€ä¸ªå€¼ã€‚æ¥æ”¶æ–¹åœ¨æœ‰å€¼å¯ä»¥æ¥æ”¶ä¹‹å‰ä¼šä¸€ç›´é˜»å¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…³é—­ç®¡é“ï¼ˆCloseï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://golang.org/ref/spec#Close"&gt;close&lt;/a&gt; å‡½æ•°æ ‡å¿—ç€ä¸ä¼šå†å¾€æŸä¸ªç®¡é“å‘é€å€¼ã€‚åœ¨è°ƒç”¨&lt;code&gt;close&lt;/code&gt;ä¹‹åï¼Œå¹¶ä¸”åœ¨ä¹‹å‰å‘é€çš„å€¼éƒ½è¢«æ¥æ”¶åï¼Œæ¥æ”¶æ“ä½œä¼šè¿”å›ä¸€ä¸ªé›¶å€¼ï¼Œä¸ä¼šé˜»å¡ã€‚ä¸€ä¸ªå¤šè¿”å›å€¼çš„æ¥æ”¶æ“ä½œä¼šé¢å¤–è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ç”¨æ¥æŒ‡ç¤ºè¿”å›çš„å€¼æ˜¯å¦å‘é€æ“ä½œä¼ é€’çš„ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ch := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;)
&lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;() {
    ch &amp;lt;- &lt;span style="color: #a31515"&gt;&amp;quot;Hello!&amp;quot;&lt;/span&gt;
    close(ch)
}()
fmt.Println(&amp;lt;-ch)    &lt;span style="color: #008000"&gt;// è¾“å‡ºå­—ç¬¦ä¸²&amp;quot;Hello!&amp;quot;&lt;/span&gt;
fmt.Println(&amp;lt;-ch)    &lt;span style="color: #008000"&gt;// è¾“å‡ºé›¶å€¼ - ç©ºå­—ç¬¦ä¸²&amp;quot;&amp;quot;ï¼Œä¸ä¼šé˜»å¡&lt;/span&gt;
fmt.Println(&amp;lt;-ch)    &lt;span style="color: #008000"&gt;// å†æ¬¡æ‰“å°è¾“å‡ºç©ºå­—ç¬¦ä¸²&amp;quot;&amp;quot;&lt;/span&gt;
v, ok := &amp;lt;-ch        &lt;span style="color: #008000"&gt;// å˜é‡vçš„å€¼ä¸ºç©ºå­—ç¬¦ä¸²&amp;quot;&amp;quot;ï¼Œå˜é‡okçš„å€¼ä¸ºfalse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸€ä¸ªå¸¦æœ‰&lt;code&gt;range&lt;/code&gt;å­å¥çš„&lt;code&gt;for&lt;/code&gt;è¯­å¥ä¼šä¾æ¬¡è¯»å–å‘å¾€ç®¡é“çš„å€¼ï¼Œç›´åˆ°è¯¥ç®¡é“å…³é—­ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; main() {
    &lt;span style="color: #008000"&gt;// è¯‘æ³¨ï¼šè¦æƒ³è¿è¡Œè¯¥ç¤ºä¾‹ï¼Œéœ€è¦å…ˆå®šä¹‰ç±»å‹Sushiï¼Œå¦‚type Sushi string&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; ch &amp;lt;-&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; Sushi = Producer()
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; s := &lt;span style="color: #0000ff"&gt;range&lt;/span&gt; ch {
        fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;Consumed&amp;quot;&lt;/span&gt;, s)
    }
}

&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; Producer() &amp;lt;-&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; Sushi {
    ch := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; Sushi)
    &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;(){
        ch &amp;lt;- Sushi(&lt;span style="color: #a31515"&gt;&amp;quot;æµ·è€æ¡ã‚Š&amp;quot;&lt;/span&gt;)    &lt;span style="color: #008000"&gt;// Ebi nigiri&lt;/span&gt;
        ch &amp;lt;- Sushi(&lt;span style="color: #a31515"&gt;&amp;quot;é®ªã¨ã‚æ¡ã‚Š&amp;quot;&lt;/span&gt;) &lt;span style="color: #008000"&gt;// Toro nigiri&lt;/span&gt;
        close(ch)
    }()
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; ch
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/sushi.go"&gt;sushi.go&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;3. åŒæ­¥&lt;/h4&gt;
&lt;p&gt;ä¸‹ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è®©&lt;code&gt;Publish&lt;/code&gt;å‡½æ•°è¿”å›ä¸€ä¸ªç®¡é“ - ç”¨äºåœ¨å‘å¸ƒtextå˜é‡å€¼æ—¶å¹¿æ’­ä¸€æ¡æ¶ˆæ¯ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;// åœ¨ç»™å®šæ—¶é—´è¿‡æœŸæ—¶ï¼ŒPublishå‡½æ•°ä¼šæ‰“å°textå˜é‡å€¼åˆ°æ ‡å‡†è¾“å‡º&lt;/span&gt;
&lt;span style="color: #008000"&gt;// åœ¨textå˜é‡å€¼å‘å¸ƒåï¼Œè¯¥å‡½æ•°ä¼šå…³é—­ç®¡é“wait&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; Publish(text &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;, delay time.Duration) (wait &amp;lt;-&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #0000ff"&gt;struct&lt;/span&gt;{}) {
    ch := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #0000ff"&gt;struct&lt;/span&gt;{})
    &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;() {
        time.Sleep(delay)
        fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;BREAKING NEWS:&amp;quot;&lt;/span&gt;, text)
        close(ch)    &lt;span style="color: #008000"&gt;// å¹¿æ’­ - ä¸€ä¸ªå…³é—­çš„ç®¡é“éƒ½ä¼šå‘é€ä¸€ä¸ªé›¶å€¼&lt;/span&gt;
    }()
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; ch
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/publish2.go"&gt;publish2.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªç©ºç»“æ„ä½“çš„ç®¡é“ï¼š&lt;code&gt;struct{}&lt;/code&gt;ã€‚è¿™æ˜ç¡®åœ°æŒ‡æ˜è¯¥ç®¡é“ä»…ç”¨äºå‘ä¿¡å·ï¼Œè€Œä¸æ˜¯ä¼ é€’æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯èƒ½ä¼šè¿™æ ·ä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; main() {
    wait := Publish(&lt;span style="color: #a31515"&gt;&amp;quot;Channels let goroutines communicate.&amp;quot;&lt;/span&gt;, 5*time.Second)
    fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;Waiting for the news...&amp;quot;&lt;/span&gt;)
    &amp;lt;-wait
    fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;The news is out, time to leave.&amp;quot;&lt;/span&gt;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/publish2.go"&gt;publish2.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç¨‹åºä¼šæŒ‰æŒ‡å®šçš„é¡ºåºè¾“å‡ºä»¥ä¸‹ä¸‰è¡Œå†…å®¹ã€‚æœ€åä¸€è¡Œåœ¨æ–°é—»ï¼ˆnewsï¼‰ä¸€å‡ºå°±ä¼šç«‹å³è¾“å‡ºã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ go run publish2.go
Waiting for the news...
BREAKING NEWS: Channels let goroutines communicate.
The news is out, time to leave.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;4. æ­»é”&lt;/h4&gt;
&lt;p&gt;&lt;img alt="traffic jam" src="http://www.nada.kth.se/~snilsson/concurrency/traffic-jam.jpg"&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬åœ¨&lt;code&gt;Publish&lt;/code&gt;å‡½æ•°ä¸­å¼•å…¥ä¸€ä¸ªbugï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; Publish(text &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;, delay time.Duration) (wait &amp;lt;-&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #0000ff"&gt;struct&lt;/span&gt;{}) {
    ch := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #0000ff"&gt;struct&lt;/span&gt;{})
    &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;() {
        time.Sleep(delay)
        fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;BREAKING NEWS:&amp;quot;&lt;/span&gt;, text)
        &lt;span style="color: #008000"&gt;// è¯‘æ³¨ï¼šæ³¨æ„è¿™é‡Œå°†closeå‡½æ•°è°ƒç”¨æ³¨é‡Šæ‰äº†&lt;/span&gt;
        &lt;span style="color: #008000"&gt;//close(ch)&lt;/span&gt;
    }()
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; ch
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸»ç¨‹åºè¿˜æ˜¯åƒä¹‹å‰ä¸€æ ·å¼€å§‹è¿è¡Œï¼šè¾“å‡ºç¬¬ä¸€è¡Œï¼Œç„¶åç­‰å¾…5ç§’ï¼Œè¿™æ—¶&lt;code&gt;Publish&lt;/code&gt;å‡½æ•°å¼€å¯çš„goroutineä¼šè¾“å‡ºçªå‘æ–°é—»ï¼ˆbreaking newsï¼‰ï¼Œç„¶åé€€å‡ºï¼Œç•™ä¸‹ä¸»goroutineç‹¬è‡ªç­‰å¾…ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; main() {
    wait := Publish(&lt;span style="color: #a31515"&gt;&amp;quot;Channels let goroutines communicate.&amp;quot;&lt;/span&gt;, 5*time.Second)
    fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;Waiting for the news...&amp;quot;&lt;/span&gt;)
    &lt;span style="color: #008000"&gt;// è¯‘æ³¨ï¼šæ³¨æ„ä¸‹é¢è¿™ä¸€å¥&lt;/span&gt;
    &amp;lt;-wait
    fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;The news is out, time to leave.&amp;quot;&lt;/span&gt;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ­¤åˆ»ä¹‹åï¼Œç¨‹åºæ— æ³•å†ç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œè¿™ç§æƒ…å½¢å³ä¸ºæ­»é”ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­»é”æ˜¯çº¿ç¨‹ä¹‹é—´ç›¸äº’ç­‰å¾…ï¼Œå…¶ä¸­ä»»ä½•ä¸€ä¸ªéƒ½æ— æ³•å‘å‰è¿è¡Œçš„æƒ…å½¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Goè¯­è¨€å¯¹äºè¿è¡Œæ—¶çš„æ­»é”æ£€æµ‹å…·å¤‡è‰¯å¥½çš„æ”¯æŒã€‚å½“æ²¡æœ‰ä»»ä½•goroutineèƒ½å¤Ÿå¾€å‰æ‰§è¡Œçš„æƒ…å½¢å‘ç”Ÿæ—¶ï¼ŒGoç¨‹åºé€šå¸¸ä¼šæä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ã€‚ä»¥ä¸‹å°±æ˜¯æˆ‘ä»¬çš„é—®é¢˜ç¨‹åºçš„è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Waiting for the news...
BREAKING NEWS: Channels let goroutines communicate.
fatal error: all goroutines are asleep - deadlock!

goroutine 1 [chan receive]:
main.main()
    .../goroutineStop.go:11 +0xf6

goroutine 2 [syscall]:
created by runtime.main
    .../go/src/pkg/runtime/proc.c:225

goroutine 4 [timer goroutine (idle)]:
created by addtimer
    .../go/src/pkg/runtime/ztime_linux_amd64.c:73
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¤§å¤šæ•°æƒ…å†µä¸‹æ‰¾å‡ºGoç¨‹åºä¸­é€ æˆæ­»é”çš„åŸå› éƒ½æ¯”è¾ƒå®¹æ˜“ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å°±æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªbugäº†ã€‚&lt;/p&gt;
&lt;h4&gt;5. æ•°æ®ç«äº‰ï¼ˆdata raceï¼‰&lt;/h4&gt;
&lt;p&gt;æ­»é”ä¹Ÿè®¸å¬èµ·æ¥ä»¤äººæŒºå¿§ä¼¤çš„ï¼Œä½†ä¼´éšå¹¶å‘ç¼–ç¨‹çœŸæ­£ç¾éš¾æ€§çš„é”™è¯¯å…¶å®æ˜¯æ•°æ®ç«äº‰ï¼Œç›¸å½“å¸¸è§ï¼Œä¹Ÿå¯èƒ½éå¸¸éš¾äºè°ƒè¯•ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“ä¸¤ä¸ªçº¿ç¨‹å¹¶å‘åœ°è®¿é—®åŒä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”å…¶ä¸­è‡³å°‘ä¸€ä¸ªè®¿é—®æ˜¯å†™æ“ä½œæ—¶ï¼Œæ•°æ®ç«äº‰å°±å‘ç”Ÿäº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸‹é¢çš„è¿™ä¸ªå‡½æ•°å°±æœ‰æ•°æ®ç«äº‰é—®é¢˜ï¼Œå…¶è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ã€‚ä¾‹å¦‚ï¼Œå¯èƒ½è¾“å‡ºæ•°å€¼1ã€‚ä»£ç ä¹‹åæ˜¯ä¸€ä¸ªå¯èƒ½æ€§è§£é‡Šï¼Œè¯•å›¾ææ¸…æ¥šè¿™ä¸€åˆ‡æ˜¯å¦‚ä½•å‘ç”Ÿå¾—ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; race() {
    wait := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #0000ff"&gt;struct&lt;/span&gt;{})
    n := 0
    &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;() {
        &lt;span style="color: #008000"&gt;// è¯‘æ³¨ï¼šæ³¨æ„ä¸‹é¢è¿™ä¸€è¡Œ&lt;/span&gt;
        n++ &lt;span style="color: #008000"&gt;// ä¸€æ¬¡è®¿é—®: è¯», é€’å¢, å†™&lt;/span&gt;
        close(wait)
    }()
    &lt;span style="color: #008000"&gt;// è¯‘æ³¨ï¼šæ³¨æ„ä¸‹é¢è¿™ä¸€è¡Œ&lt;/span&gt;
    n++ &lt;span style="color: #008000"&gt;// å¦ä¸€æ¬¡å†²çªçš„è®¿é—®&lt;/span&gt;
    &amp;lt;-wait
    fmt.Println(n) &lt;span style="color: #008000"&gt;// è¾“å‡ºï¼šæœªæŒ‡å®š&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/datarace.go"&gt;datarace.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç ä¸­çš„ä¸¤ä¸ªgoroutineï¼ˆå‡è®¾å‘½åä¸º&lt;code&gt;g1&lt;/code&gt;å’Œ&lt;code&gt;g2&lt;/code&gt;ï¼‰å‚ä¸äº†ä¸€æ¬¡ç«äº‰ï¼Œæˆ‘ä»¬æ— æ³•è·çŸ¥æ“ä½œä¼šä»¥ä½•ç§é¡ºåºå‘ç”Ÿã€‚ä»¥ä¸‹æ˜¯è¯¸å¤šå¯èƒ½ä¸­çš„ä¸€ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;g1&lt;/code&gt; ä» &lt;code&gt;n&lt;/code&gt; ä¸­è·å–å€¼0&lt;/li&gt;
&lt;li&gt;&lt;code&gt;g2&lt;/code&gt; ä» &lt;code&gt;n&lt;/code&gt; ä¸­è·å–å€¼0&lt;/li&gt;
&lt;li&gt;&lt;code&gt;g1&lt;/code&gt; å°†å€¼ä»0å¢å¤§åˆ°1&lt;/li&gt;
&lt;li&gt;&lt;code&gt;g1&lt;/code&gt; å°†1å†™åˆ° &lt;code&gt;n&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;g2&lt;/code&gt; å°†å€¼ä»0å¢å¤§åˆ°1&lt;/li&gt;
&lt;li&gt;&lt;code&gt;g2&lt;/code&gt; å°†1å†™åˆ° &lt;code&gt;n&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç¨‹åºè¾“å‡º n çš„å€¼ï¼Œå½“å‰ä¸º1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€œæ•°æ®ç«äº‰ï¼ˆdata raceï¼‰â€è¿™åå­—æœ‰ç‚¹è¯¯å¯¼çš„å«Œç–‘ã€‚ä¸ä»…æ“ä½œçš„é¡ºåºæ˜¯æœªå®šä¹‰çš„ï¼Œå…¶å®æ ¹æœ¬æ²¡æœ‰ä»»ä½•ä¿è¯ï¼ˆno guarantees whatsoeverï¼‰ã€‚ç¼–è¯‘å™¨å’Œç¡¬ä»¶ä¸ºäº†å¾—åˆ°æ›´å¥½çš„æ€§èƒ½ï¼Œç»å¸¸éƒ½ä¼šå¯¹ä»£ç è¿›è¡Œä¸Šä¸‹å†…å¤–çš„é¡ºåºå˜æ¢ã€‚å¦‚æœä½ çœ‹åˆ°ä¸€ä¸ªçº¿ç¨‹å¤„äºä¸­é—´è¡Œä¸ºçŠ¶æ€æ—¶ï¼Œé‚£ä¹ˆå½“æ—¶çš„åœºæ™¯å¯èƒ½å°±åƒä¸‹å›¾æ‰€ç¤ºçš„ä¸€æ ·ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="mid action" src="http://www.nada.kth.se/~snilsson/concurrency/mid-action.jpg"&gt;&lt;/p&gt;
&lt;p&gt;é¿å…æ•°æ®ç«äº‰çš„å”¯ä¸€æ–¹å¼æ˜¯çº¿ç¨‹é—´åŒæ­¥è®¿é—®æ‰€æœ‰çš„å…±äº«å¯å˜æ•°æ®ã€‚æœ‰å‡ ç§æ–¹å¼èƒ½å¤Ÿå®ç°è¿™ä¸€ç›®æ ‡ã€‚Goè¯­è¨€ä¸­ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨ç®¡é“æˆ–è€…é”ã€‚ï¼ˆ&lt;a href="http://golang.org/pkg/sync/"&gt;sync&lt;/a&gt;å’Œ&lt;a href="http://golang.org/pkg/sync/atomic/"&gt;sync/atomic&lt;/a&gt;åŒ…ä¸­è¿˜æœ‰æ›´ä½å±‚æ¬¡çš„æœºåˆ¶å¯ä¾›ä½¿ç”¨ï¼Œä½†æœ¬æ–‡ä¸­ä¸åšè®¨è®ºï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;Goè¯­è¨€ä¸­ï¼Œå¤„ç†å¹¶å‘æ•°æ®è®¿é—®çš„æ¨èæ–¹å¼æ˜¯ä½¿ç”¨ç®¡é“ä»ä¸€ä¸ªgoroutineä¸­å¾€ä¸‹ä¸€ä¸ªgoroutineä¼ é€’å®é™…çš„æ•°æ®ã€‚æœ‰æ ¼è¨€è¯´å¾—å¥½ï¼šâ€œä¸è¦é€šè¿‡å…±äº«å†…å­˜æ¥é€šè®¯ï¼Œè€Œæ˜¯é€šè¿‡é€šè®¯æ¥å…±äº«å†…å­˜â€ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; sharingIsCaring() {
    ch := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;() {
        n := 0 &lt;span style="color: #008000"&gt;// ä»…ä¸ºä¸€ä¸ªgoroutineå¯è§çš„å±€éƒ¨å˜é‡.&lt;/span&gt;
        n++
        ch &amp;lt;- n &lt;span style="color: #008000"&gt;// æ•°æ®ä»ä¸€ä¸ªgoroutineç¦»å¼€...&lt;/span&gt;
    }()
    n := &amp;lt;-ch   &lt;span style="color: #008000"&gt;// ...ç„¶åå®‰å…¨åˆ°è¾¾å¦ä¸€ä¸ªgoroutine.&lt;/span&gt;
    n++
    fmt.Println(n) &lt;span style="color: #008000"&gt;// è¾“å‡º: 2&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/datarace.go"&gt;datarace.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šä»£ç ä¸­çš„ç®¡é“è‚©è´ŸåŒé‡è´£ä»» - ä»ä¸€ä¸ªgoroutineå°†æ•°æ®ä¼ é€’åˆ°å¦ä¸€ä¸ªgoroutineï¼Œå¹¶ä¸”èµ·åˆ°åŒæ­¥çš„ä½œç”¨ï¼šå‘é€æ–¹goroutineä¼šç­‰å¾…å¦ä¸€ä¸ªgoroutineæ¥æ”¶æ•°æ®ï¼Œæ¥æ”¶æ–¹goroutineä¹Ÿä¼šç­‰å¾…å¦ä¸€ä¸ªgoroutineå‘é€æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://golang.org/ref/mem"&gt;Goè¯­è¨€å†…å­˜æ¨¡å‹&lt;/a&gt; - è¦ä¿è¯ä¸€ä¸ªgoroutineä¸­å¯¹ä¸€ä¸ªå˜é‡çš„è¯»æ“ä½œå¾—åˆ°çš„å€¼æ­£å¥½æ˜¯å¦ä¸€ä¸ªgoroutineä¸­å¯¹åŒä¸€ä¸ªå˜é‡å†™æ“ä½œäº§ç”Ÿçš„å€¼ï¼Œæ¡ä»¶ç›¸å½“å¤æ‚ï¼Œä½†goroutineä¹‹é—´åªè¦é€šè¿‡ç®¡é“æ¥å…±äº«æ‰€æœ‰å¯å˜æ•°æ®ï¼Œé‚£ä¹ˆå°±èƒ½è¿œç¦»æ•°æ®ç«äº‰äº†ã€‚&lt;/p&gt;
&lt;h4&gt;6. äº’æ–¥é”&lt;/h4&gt;
&lt;p&gt;&lt;img alt="lock" src="http://www.nada.kth.se/~snilsson/concurrency/lock.jpg"&gt;&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œé€šè¿‡æ˜¾å¼åŠ é”ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç®¡é“ï¼Œæ¥åŒæ­¥æ•°æ®è®¿é—®ï¼Œå¯èƒ½æ›´åŠ ä¾¿æ·ã€‚Goè¯­è¨€æ ‡å‡†åº“ä¸ºè¿™ä¸€ç›®çš„æä¾›äº†ä¸€ä¸ªäº’æ–¥é” - &lt;a href="http://golang.org/pkg/sync/#Mutex"&gt;sync.Mutex&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¦æƒ³è¿™ç±»åŠ é”èµ·æ•ˆçš„è¯ï¼Œå…³é”®ä¹‹å¤„åœ¨äºï¼šæ‰€æœ‰å¯¹å…±äº«æ•°æ®çš„è®¿é—®ï¼Œä¸ç®¡è¯»å†™ï¼Œä»…å½“goroutineæŒæœ‰é”æ‰èƒ½æ“ä½œã€‚ä¸€ä¸ªgoroutineå‡ºé”™å°±è¶³ä»¥ç ´åæ‰ä¸€ä¸ªç¨‹åºï¼Œå¼•å…¥æ•°æ®ç«äº‰ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œåº”è¯¥è®¾è®¡ä¸€ä¸ªè‡ªå®šä¹‰æ•°æ®ç»“æ„ï¼Œå…·å¤‡æ˜ç¡®çš„APIï¼Œç¡®ä¿æ‰€æœ‰çš„åŒæ­¥éƒ½åœ¨æ•°æ®ç»“æ„å†…éƒ¨å®Œæˆã€‚ä¸‹ä¾‹ä¸­ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªå®‰å…¨ã€æ˜“äºä½¿ç”¨çš„å¹¶å‘æ•°æ®ç»“æ„ï¼Œ&lt;code&gt;AtomicInt&lt;/code&gt;ï¼Œç”¨äºå­˜å‚¨ä¸€ä¸ªæ•´å‹å€¼ã€‚ä»»æ„æ•°é‡çš„goroutineéƒ½èƒ½é€šè¿‡&lt;code&gt;Add&lt;/code&gt;å’Œ&lt;code&gt;Value&lt;/code&gt;æ–¹æ³•å®‰å…¨åœ°è®¿é—®è¿™ä¸ªæ•°å€¼ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;// AtomicIntæ˜¯ä¸€ä¸ªå¹¶å‘æ•°æ®ç»“æ„ï¼ŒæŒæœ‰ä¸€ä¸ªæ•´æ•°å€¼&lt;/span&gt;
&lt;span style="color: #008000"&gt;// è¯¥æ•°æ®ç»“æ„çš„é›¶å€¼ä¸º0&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;type&lt;/span&gt; AtomicInt &lt;span style="color: #0000ff"&gt;struct&lt;/span&gt; {
    mu sync.Mutex &lt;span style="color: #008000"&gt;// é”ï¼Œä¸€æ¬¡ä»…èƒ½è¢«ä¸€ä¸ªgoroutineæŒæœ‰ã€‚&lt;/span&gt;
    n  &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;
}

&lt;span style="color: #008000"&gt;// Addæ–¹æ³•ä½œä¸ºä¸€ä¸ªåŸå­æ“ä½œå°†nåŠ åˆ°AtomicInt&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; (a *AtomicInt) Add(n &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;) {
    a.mu.Lock() &lt;span style="color: #008000"&gt;// ç­‰å¾…é”é‡Šæ”¾ï¼Œç„¶åæŒæœ‰å®ƒ&lt;/span&gt;
    a.n += n
    a.mu.Unlock() &lt;span style="color: #008000"&gt;// é‡Šæ”¾é”&lt;/span&gt;
}

&lt;span style="color: #008000"&gt;// Valueæ–¹æ³•è¿”å›açš„å€¼&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; (a *AtomicInt) Value() &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; {
    a.mu.Lock()
    n := a.n
    a.mu.Unlock()
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; n
}

&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; lockItUp() {
    wait := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #0000ff"&gt;struct&lt;/span&gt;{})
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; n AtomicInt
    &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;() {
        n.Add(1) &lt;span style="color: #008000"&gt;// ä¸€ä¸ªè®¿é—®&lt;/span&gt;
        close(wait)
    }()
    n.Add(1) &lt;span style="color: #008000"&gt;// å¦ä¸€ä¸ªå¹¶å‘è®¿é—®&lt;/span&gt;
    &amp;lt;-wait
    fmt.Println(n.Value()) &lt;span style="color: #008000"&gt;// è¾“å‡º: 2&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/datarace.go"&gt;datarace.go&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;7. æ£€æµ‹æ•°æ®ç«äº‰&lt;/h4&gt;
&lt;p&gt;ç«äº‰æœ‰æ—¶éå¸¸éš¾äºæ£€æµ‹ã€‚ä¸‹ä¾‹ä¸­çš„è¿™ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªæ•°æ®ç«äº‰é—®é¢˜ï¼Œæ‰§è¡Œè¿™ä¸ªç¨‹åºæ—¶ä¼šè¾“å‡º&lt;code&gt;55555&lt;/code&gt;ã€‚å°è¯•ä¸€ä¸‹ï¼Œä¹Ÿè®¸ä½ ä¼šå¾—åˆ°ä¸€ä¸ªä¸åŒçš„ç»“æœã€‚ï¼ˆ&lt;a href="http://golang.org/pkg/sync/#WaitGroup"&gt;sync.WaitGroup&lt;/a&gt;æ˜¯Goè¯­è¨€æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼›ç”¨äºç­‰å¾…ä¸€ç»„goroutineç»“æŸè¿è¡Œã€‚ï¼‰&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; race() {
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; wg sync.WaitGroup
    wg.Add(5)
    &lt;span style="color: #008000"&gt;// è¯‘æ³¨ï¼šæ³¨æ„ä¸‹é¢è¿™è¡Œä»£ç ä¸­çš„i++&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i := 0; i &amp;lt; 5; i++ {
        &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;() {
            &lt;span style="color: #008000"&gt;// æ³¨æ„ä¸‹ä¸€è¡Œä»£ç ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ&lt;/span&gt;
            fmt.Print(i) &lt;span style="color: #008000"&gt;// 6ä¸ªgoroutineå…±äº«å˜é‡i&lt;/span&gt;
            wg.Done()
        }()
    }
    wg.Wait() &lt;span style="color: #008000"&gt;// ç­‰å¾…æ‰€æœ‰ï¼ˆ5ä¸ªï¼‰goroutineè¿è¡Œç»“æŸ&lt;/span&gt;
    fmt.Println()
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/raceClosure.go"&gt;raceClosure.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºè¾“å‡º&lt;code&gt;55555&lt;/code&gt;ï¼Œä¸€ä¸ªè²Œä¼¼åˆç†çš„è§£é‡Šæ˜¯ï¼šæ‰§è¡Œ&lt;code&gt;i++&lt;/code&gt;çš„goroutineåœ¨å…¶ä»–goroutineæ‰§è¡Œæ‰“å°è¯­å¥ä¹‹å‰å°±å®Œæˆäº†5æ¬¡&lt;code&gt;i++&lt;/code&gt;æ“ä½œã€‚å®é™…ä¸Šå˜é‡&lt;code&gt;i&lt;/code&gt;æ›´æ–°åçš„å€¼ä¸ºå…¶ä»–goroutineæ‰€è§çº¯å±å·§åˆã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šä½¿ç”¨ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œç„¶åå½“å¼€å¯æ–°çš„goroutineæ—¶ï¼Œå°†æ•°å€¼ä½œä¸ºå‚æ•°ä¼ é€’ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; correct() {
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; wg sync.WaitGroup
    wg.Add(5)
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i := 0; i &amp;lt; 5; i++ {
        &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;(n &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;) { &lt;span style="color: #008000"&gt;// ä½¿ç”¨å±€éƒ¨å˜é‡&lt;/span&gt;
            fmt.Print(n)
            wg.Done()
        }(i)
    }
    wg.Wait()
    fmt.Println()
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/raceClosure.go"&gt;raceClosure.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡ä»£ç å°±å¯¹äº†ï¼Œç¨‹åºä¼šè¾“å‡ºæœŸæœ›çš„ç»“æœï¼Œå¦‚ï¼š&lt;code&gt;24031&lt;/code&gt;ã€‚æ³¨æ„ï¼šgoroutineä¹‹é—´çš„è¿è¡Œé¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚&lt;/p&gt;
&lt;p&gt;ä»æ—§ä½¿ç”¨é—­åŒ…ï¼Œä½†èƒ½å¤Ÿé¿å…æ•°æ®ç«äº‰ä¹Ÿæ˜¯å¯èƒ½çš„ï¼Œå¿…é¡»å°å¿ƒç¿¼ç¿¼åœ°è®©æ¯ä¸ªgoroutineä½¿ç”¨ä¸€ä¸ªç‹¬æœ‰çš„å˜é‡ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; alsoCorrect() {
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; wg sync.WaitGroup
    wg.Add(5)
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i := 0; i &amp;lt; 5; i++ {
        n := i &lt;span style="color: #008000"&gt;// ä¸ºæ¯ä¸ªé—­åŒ…åˆ›å»ºä¸€ä¸ªç‹¬æœ‰çš„å˜é‡&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;() {
            fmt.Print(n)
            wg.Done()
        }()
    }
    wg.Wait()
    fmt.Println()
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/raceClosure.go"&gt;raceClosure.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®ç«äº‰è‡ªåŠ¨æ£€æµ‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œä¸å¤ªå¯èƒ½èƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹å‘ç°æ‰€æœ‰å¯èƒ½çš„æ•°æ®ç«äº‰æƒ…å†µï¼Œä½†Goï¼ˆä»ç‰ˆæœ¬1.1å¼€å§‹ï¼‰æœ‰ä¸€ä¸ªå¼ºå¤§çš„&lt;a href="http://tip.golang.org/doc/articles/race_detector.html"&gt;æ•°æ®ç«äº‰æ£€æµ‹å™¨&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå·¥å…·ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼šåªè¦åœ¨ä½¿ç”¨&lt;code&gt;go&lt;/code&gt;å‘½ä»¤æ—¶åŠ ä¸Š&lt;code&gt;-race&lt;/code&gt;æ ‡è®°å³å¯ã€‚å¼€å¯æ£€æµ‹å™¨è¿è¡Œä¸Šé¢çš„ç¨‹åºä¼šç»™å‡ºæ¸…æ™°ä¸”ä¿¡æ¯é‡å¤§çš„è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ go run -race raceClosure.go
Race:
==================
WARNING: DATA RACE
Read by goroutine 2:
    main.funcÂ·001()
      ../raceClosure.go:22 +0x65

Previous write by goroutine 0:
    main.race()
        ../raceClosure.go:20 +0x19b
    main.main()
        ../raceClosure.go:10 +0x29
    runtime.main()
        ../go/src/pkg/runtime/proc.c:248 +0x91

Goroutine 2 (running) created at:
    main.race()
      ../raceClosure.go:24 +0x18b
    main.main()
      ../raceClosure.go:10 +0x29
     runtime.main()
      ../go/src/pkg/runtime/proc.c:248 +0x91

==================
55555
Correct:
01234
Also correct:
01324
Found 1 data race(s)
exit status 66
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¯¥å·¥å…·å‘ç°ä¸€å¤„æ•°æ®ç«äº‰ï¼ŒåŒ…å«ï¼šä¸€ä¸ªgoroutineåœ¨ç¬¬20è¡Œå¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œå†™æ“ä½œï¼Œè·Ÿç€å¦ä¸€ä¸ªgoroutineåœ¨ç¬¬22è¡Œå¯¹åŒä¸€ä¸ªå˜é‡è¿›è¡Œäº†æœªåŒæ­¥çš„è¯»æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šç«äº‰æ£€æµ‹å™¨åªèƒ½å‘ç°åœ¨è¿è¡ŒæœŸç¡®å®å‘ç”Ÿçš„æ•°æ®ç«äº‰ï¼ˆè¯‘æ³¨ï¼šæˆ‘ä¹Ÿä¸å¤ªç†è§£è¿™è¯ï¼Œè¯·æŒ‡å¯¼ï¼‰&lt;/p&gt;
&lt;h4&gt;8. Selectè¯­å¥&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://golang.org/ref/spec#Select_statements"&gt;selectè¯­å¥&lt;/a&gt;æ˜¯Goè¯­è¨€å¹¶å‘å·¥å…·é›†ä¸­çš„ç»ˆæå·¥å…·ã€‚selectç”¨äºä»ä¸€ç»„å¯èƒ½çš„é€šè®¯ä¸­é€‰æ‹©ä¸€ä¸ªè¿›ä¸€æ­¥å¤„ç†ã€‚å¦‚æœä»»æ„ä¸€ä¸ªé€šè®¯éƒ½å¯ä»¥è¿›ä¸€æ­¥å¤„ç†ï¼Œåˆ™ä»ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªï¼Œæ‰§è¡Œå¯¹åº”çš„è¯­å¥ã€‚å¦åˆ™ï¼Œå¦‚æœåˆæ²¡æœ‰é»˜è®¤åˆ†æ”¯ï¼ˆdefault caseï¼‰ï¼Œselectè¯­å¥åˆ™ä¼šé˜»å¡ï¼Œç›´åˆ°å…¶ä¸­ä¸€ä¸ªé€šè®¯å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯ä¸€ä¸ªç©å…·ç¤ºä¾‹ï¼Œæ¼”ç¤º&lt;code&gt;select&lt;/code&gt;è¯­å¥å¦‚ä½•ç”¨äºå®ç°ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;// RandomBitså‡½æ•° è¿”å›ä¸€ä¸ªç®¡é“ï¼Œç”¨äºäº§ç”Ÿä¸€ä¸ªæ¯”ç‰¹éšæœºåºåˆ—&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; RandomBits() &amp;lt;-&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; {
    ch := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;() {
        &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; {
            &lt;span style="color: #0000ff"&gt;select&lt;/span&gt; {
            &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; ch &amp;lt;- 0: &lt;span style="color: #008000"&gt;// æ³¨æ„ï¼šåˆ†æ”¯æ²¡æœ‰å¯¹åº”çš„å¤„ç†è¯­å¥&lt;/span&gt;
            &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; ch &amp;lt;- 1:
            }
        }
    }()
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; ch
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/randBits.go"&gt;randBits.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ç›¸å¯¹æ›´åŠ å®é™…ä¸€ç‚¹çš„ä¾‹å­ï¼šå¦‚ä½•ä½¿ç”¨selectè¯­å¥ä¸ºä¸€ä¸ªæ“ä½œè®¾ç½®ä¸€ä¸ªæ—¶é—´é™åˆ¶ã€‚ä»£ç ä¼šè¾“å‡ºå˜é‡newsçš„å€¼æˆ–è€…è¶…æ—¶æ¶ˆæ¯ï¼Œå…·ä½“ä¾èµ–äºä¸¤ä¸ªæ¥æ”¶è¯­å¥å“ªä¸ªå…ˆæ‰§è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;select&lt;/span&gt; {
&lt;span style="color: #0000ff"&gt;case&lt;/span&gt; news := &amp;lt;-NewsAgency:
    fmt.Println(news)
&lt;span style="color: #0000ff"&gt;case&lt;/span&gt; &amp;lt;-time.After(time.Minute):
    fmt.Println(&lt;span style="color: #a31515"&gt;&amp;quot;Time out: no news in one minute.&amp;quot;&lt;/span&gt;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‡½æ•° &lt;a href="http://golang.org/pkg/time/#After"&gt;time.After&lt;/a&gt; æ˜¯Goè¯­è¨€æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼›å®ƒä¼šåœ¨ç­‰å¾…æŒ‡å®šæ—¶é—´åå°†å½“å‰çš„æ—¶é—´å‘é€åˆ°è¿”å›çš„ç®¡é“ä¸­ã€‚&lt;/p&gt;
&lt;h4&gt;9. ç»¼åˆæ‰€æœ‰ç¤ºä¾‹&lt;/h4&gt;
&lt;p&gt;&lt;img alt="couples" src="http://www.nada.kth.se/~snilsson/concurrency/couples.jpg"&gt;&lt;/p&gt;
&lt;p&gt;èŠ±ç‚¹æ—¶é—´è®¤çœŸç ”ç©¶ä¸€ä¸‹è¿™ä¸ªç¤ºä¾‹ã€‚å¦‚æœä½ å®Œå…¨ç†è§£ï¼Œä¹Ÿå°±å¯¹Goè¯­è¨€ä¸­å¹¶å‘çš„åº”ç”¨æ–¹å¼æœ‰äº†å…¨é¢çš„æŒæ¡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç¨‹åºæ¼”ç¤ºäº†å¦‚ä½•å°†ç®¡é“ç”¨äºè¢«ä»»æ„æ•°é‡çš„goroutineå‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œä¹Ÿæ¼”ç¤ºäº†å¦‚ä½•å°†selectè¯­å¥ç”¨äºä»å¤šä¸ªé€šè®¯ä¸­é€‰æ‹©ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; main() {
    people := []&lt;span style="color: #2b91af"&gt;string&lt;/span&gt;{&lt;span style="color: #a31515"&gt;&amp;quot;Anna&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Bob&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Cody&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Dave&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Eva&amp;quot;&lt;/span&gt;}
    match := make(&lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;, 1) &lt;span style="color: #008000"&gt;// ä¸ºä¸€ä¸ªæœªåŒ¹é…çš„å‘é€æ“ä½œæä¾›ç©ºé—´&lt;/span&gt;
    wg := new(sync.WaitGroup)
    wg.Add(len(people))
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; _, name := &lt;span style="color: #0000ff"&gt;range&lt;/span&gt; people {
        &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; Seek(name, match, wg)
    }
    wg.Wait()
    &lt;span style="color: #0000ff"&gt;select&lt;/span&gt; {
    &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; name := &amp;lt;-match:
        fmt.Printf(&lt;span style="color: #a31515"&gt;&amp;quot;No one received %sâ€™s message.\n&amp;quot;&lt;/span&gt;, name)
    &lt;span style="color: #0000ff"&gt;default&lt;/span&gt;:
        &lt;span style="color: #008000"&gt;// æ²¡æœ‰å¾…å¤„ç†çš„å‘é€æ“ä½œ&lt;/span&gt;
    }
}

&lt;span style="color: #008000"&gt;// å‡½æ•°Seek å‘é€ä¸€ä¸ªnameåˆ°matchç®¡é“æˆ–ä»matchç®¡é“æ¥æ”¶ä¸€ä¸ªpeerï¼Œç»“æŸæ—¶é€šçŸ¥wait group&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; Seek(name &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;, match &lt;span style="color: #0000ff"&gt;chan&lt;/span&gt; &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;, wg *sync.WaitGroup) {
    &lt;span style="color: #0000ff"&gt;select&lt;/span&gt; {
    &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; peer := &amp;lt;-match:
        fmt.Printf(&lt;span style="color: #a31515"&gt;&amp;quot;%s sent a message to %s.\n&amp;quot;&lt;/span&gt;, peer, name)
    &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; match &amp;lt;- name:
        &lt;span style="color: #008000"&gt;// ç­‰å¾…æŸä¸ªgoroutineæ¥æ”¶æˆ‘çš„æ¶ˆæ¯&lt;/span&gt;
    }
    wg.Done()
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/matching.go"&gt;matching.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ go run matching.go
Cody sent a message to Bob.
Anna sent a message to Eva.
No one received Daveâ€™s message.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;10. å¹¶è¡Œè®¡ç®—&lt;/h4&gt;
&lt;p&gt;&lt;img alt="CPUs" src="http://www.nada.kth.se/~snilsson/concurrency/cpus.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å¹¶å‘çš„ä¸€ä¸ªåº”ç”¨æ˜¯å°†ä¸€ä¸ªå¤§çš„è®¡ç®—åˆ‡åˆ†æˆä¸€äº›å·¥ä½œå•å…ƒï¼Œè°ƒåº¦åˆ°ä¸åŒçš„CPUä¸ŠåŒæ—¶åœ°è®¡ç®—ã€‚&lt;/p&gt;
&lt;p&gt;å°†è®¡ç®—åˆ†å¸ƒåˆ°å¤šä¸ªCPUä¸Šæ›´å¤šæ˜¯ä¸€é—¨è‰ºæœ¯ï¼Œè€Œä¸æ˜¯ä¸€é—¨ç§‘å­¦ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç»éªŒæ³•åˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªå·¥ä½œå•å…ƒåº”è¯¥èŠ±è´¹å¤§çº¦100å¾®ç§’åˆ°1æ¯«ç§’çš„æ—¶é—´ç”¨äºè®¡ç®—ã€‚å¦‚æœå•å…ƒç²’åº¦å¤ªå°ï¼Œåˆ‡åˆ†é—®é¢˜ä»¥åŠè°ƒåº¦å­é—®é¢˜çš„ç®¡ç†å¼€é”€å¯èƒ½å°±ä¼šå¤ªå¤§ã€‚å¦‚æœå•å…ƒç²’åº¦å¤ªå¤§ï¼Œæ•´ä¸ªè®¡ç®—ä¹Ÿè®¸ä¸å¾—ä¸ç­‰å¾…ä¸€ä¸ªæ…¢çš„å·¥ä½œé¡¹ç»“æŸã€‚è¿™ç§ç¼“æ…¢å¯èƒ½å› ä¸ºå¤šç§åŸå› è€Œäº§ç”Ÿï¼Œæ¯”å¦‚ï¼šè°ƒåº¦ã€å…¶ä»–è¿›ç¨‹çš„ä¸­æ–­æˆ–è€…ç³Ÿç³•çš„å†…å­˜å¸ƒå±€ã€‚ï¼ˆæ³¨æ„ï¼šå·¥ä½œå•å…ƒçš„æ•°ç›®æ˜¯ä¸ä¾èµ–äºCPUçš„æ•°ç›®çš„ï¼‰&lt;/li&gt;
&lt;li&gt;å°½å¯èƒ½å‡å°å…±äº«çš„æ•°æ®é‡ã€‚å¹¶å‘å†™æ“ä½œçš„ä»£ä»·éå¸¸å¤§ï¼Œç‰¹åˆ«æ˜¯å¦‚æœgoroutineè¿è¡Œåœ¨ä¸åŒçš„CPUä¸Šã€‚è¯»æ“ä½œä¹‹é—´çš„æ•°æ®å…±äº«åˆ™é€šå¸¸ä¸ä¼šæ˜¯ä¸ªé—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®è®¿é—®å°½é‡åˆ©ç”¨è‰¯å¥½çš„å±€éƒ¨æ€§ã€‚å¦‚æœæ•°æ®èƒ½ä¿æŒåœ¨ç¼“å­˜ä¸­ï¼Œæ•°æ®åŠ è½½å’Œå­˜å‚¨å°†ä¼šå¿«å¾—å¤šå¾—å¤šï¼Œè¿™å¯¹äºå†™æ“ä½œä¹Ÿæ ¼å¤–åœ°é‡è¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢çš„è¿™ä¸ªç¤ºä¾‹å±•ç¤ºå¦‚ä½•åˆ‡åˆ†ä¸€ä¸ªå¼€é”€å¾ˆå¤§çš„è®¡ç®—å¹¶å°†å…¶åˆ†å¸ƒåœ¨æ‰€æœ‰å¯ç”¨çš„CPUä¸Šè¿›è¡Œè®¡ç®—ã€‚å…ˆçœ‹ä¸€ä¸‹æœ‰å¾…ä¼˜åŒ–çš„ä»£ç ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;type&lt;/span&gt; Vector []&lt;span style="color: #2b91af"&gt;float64&lt;/span&gt;

&lt;span style="color: #008000"&gt;// å‡½æ•°Convolve è®¡ç®— w = u * vï¼Œå…¶ä¸­ w[k] = Î£ u[i]*v[j], i + j = k&lt;/span&gt;
&lt;span style="color: #008000"&gt;// å…ˆå†³æ¡ä»¶ï¼šlen(u) &amp;gt; 0, len(v) &amp;gt; 0&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; Convolve(u, v Vector) (w Vector) {
    n := len(u) + len(v) - 1
    w = make(Vector, n)

    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; k := 0; k &amp;lt; n; k++ {
        w[k] = mul(u, v, k)
    }
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;
}

&lt;span style="color: #008000"&gt;// å‡½æ•°mul è¿”å› Î£ u[i]*v[j], i + j = k.&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; mul(u, v Vector, k &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;) (res &lt;span style="color: #2b91af"&gt;float64&lt;/span&gt;) {
    n := min(k+1, len(u))
    j := min(k, len(v)-1)
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i := k - j; i &amp;lt; n; i, j = i+1, j-1 {
        res += u[i] * v[j]
    }
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ€è·¯å¾ˆç®€å•ï¼šç¡®å®šåˆé€‚å¤§å°çš„å·¥ä½œå•å…ƒï¼Œç„¶ååœ¨ä¸åŒçš„goroutineä¸­æ‰§è¡Œæ¯ä¸ªå·¥ä½œå•å…ƒã€‚ä»¥ä¸‹æ˜¯å¹¶å‘ç‰ˆæœ¬çš„ &lt;code&gt;Convolve&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; Convolve(u, v Vector) (w Vector) {
    n := len(u) + len(v) - 1
    w = make(Vector, n)

    &lt;span style="color: #008000"&gt;// å°† w åˆ‡åˆ†æˆèŠ±è´¹ ~100Î¼s-1ms ç”¨äºè®¡ç®—çš„å·¥ä½œå•å…ƒ&lt;/span&gt;
    size := max(1, 1&amp;lt;&amp;lt;20/n)

    wg := new(sync.WaitGroup)
    wg.Add(1 + (n-1)/size)
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i := 0; i &amp;lt; n &amp;amp;&amp;amp; i &amp;gt;= 0; i += size { &lt;span style="color: #008000"&gt;// æ•´å‹æº¢å‡ºå i &amp;lt; 0&lt;/span&gt;
        j := i + size
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; j &amp;gt; n || j &amp;lt; 0 { &lt;span style="color: #008000"&gt;// æ•´å‹æº¢å‡ºå j &amp;lt; 0&lt;/span&gt;
            j = n
        }

        &lt;span style="color: #008000"&gt;// è¿™äº›goroutineå…±äº«å†…å­˜ï¼Œä½†æ˜¯åªè¯»&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;go&lt;/span&gt; &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;(i, j &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;) {
            &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; k := i; k &amp;lt; j; k++ {
                w[k] = mul(u, v, k)
            }
            wg.Done()
        }(i, j)
    }
    wg.Wait()
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="http://www.nada.kth.se/~snilsson/concurrency/src/convolution.go"&gt;convolution.go&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å·¥ä½œå•å…ƒå®šä¹‰ä¹‹åï¼Œé€šå¸¸æƒ…å†µä¸‹æœ€å¥½å°†è°ƒåº¦å·¥ä½œäº¤ç»™è¿è¡Œæ—¶å’Œæ“ä½œç³»ç»Ÿã€‚ç„¶è€Œï¼Œå¯¹äºGo 1.* ä½ ä¹Ÿè®¸éœ€è¦å‘Šè¯‰è¿è¡Œæ—¶å¸Œæœ›å¤šå°‘ä¸ªgoroutineæ¥åŒæ—¶åœ°è¿è¡Œä»£ç ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; init() {
    numcpu := runtime.NumCPU()
    runtime.GOMAXPROCS(numcpu) &lt;span style="color: #008000"&gt;// å°è¯•ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„CPU&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="Golang"></category></entry><entry><title>Yiiæºç é˜…è¯»ç¬”è®° - è‡ªå®šä¹‰ç±»è‡ªåŠ¨åŠ è½½</title><link href="http://youngsterxyf.github.io/2015/04/10/read-yii-code-9/" rel="alternate"></link><published>2015-04-10T00:00:00+08:00</published><updated>2015-04-10T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-04-10:/2015/04/10/read-yii-code-9/</id><summary type="html">&lt;p&gt;å‰ä¸¤å¤©çªç„¶å‘ç°ï¼šä¹‹å‰çš„é˜…è¯»ç¬”è®°å¯¹äºYiiåº”ç”¨ä¸­å¦‚ä½•è‡ªåŠ¨åŠ è½½è‡ªå®šä¹‰ç±»çš„é—®é¢˜æ²¡æœ‰è§£é‡Šã€‚è¿™é‡Œçš„è‡ªå®šä¹‰ç±»æ˜¯æŒ‡éYiiæ¡†æ¶æœ¬èº«çš„ç±»ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºç»„ä»¶ç±»çš„é…ç½®åŠ è½½å·²åœ¨ &lt;a href="http://blog.xiayf.cn/2014/11/13/read-yii-code-3/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - ç»„ä»¶é›†æˆ&lt;/a&gt; ä¸€æ–‡ä¸­åšäº† â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å‰ä¸¤å¤©çªç„¶å‘ç°ï¼šä¹‹å‰çš„é˜…è¯»ç¬”è®°å¯¹äºYiiåº”ç”¨ä¸­å¦‚ä½•è‡ªåŠ¨åŠ è½½è‡ªå®šä¹‰ç±»çš„é—®é¢˜æ²¡æœ‰è§£é‡Šã€‚è¿™é‡Œçš„è‡ªå®šä¹‰ç±»æ˜¯æŒ‡éYiiæ¡†æ¶æœ¬èº«çš„ç±»ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºç»„ä»¶ç±»çš„é…ç½®åŠ è½½å·²åœ¨ &lt;a href="http://blog.xiayf.cn/2014/11/13/read-yii-code-3/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - ç»„ä»¶é›†æˆ&lt;/a&gt; ä¸€æ–‡ä¸­åšäº†è¾ƒä¸ºè¯¦ç»†çš„è¯´æ˜ï¼Œ
æ‰€ä»¥è¿™é‡Œä¸å†æ¶‰åŠã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦è§£é‡Šä»¥ä¸‹ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Yiiæ¡†æ¶æ˜¯å¦‚ä½•æ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„è‡ªå®šä¹‰æ§åˆ¶å™¨ç±»ï¼Ÿ&lt;/li&gt;
&lt;li&gt;åœ¨è‡ªå®šä¹‰æ§åˆ¶å™¨ç±»ä¸­ä½¿ç”¨å…¶ä»–ç±»ï¼ˆå¦‚Modelç±»ã€æˆ–å…¶ä»–ä»»æ„ç›®å½•ä¸‹æ–‡ä»¶ä¸­å®šä¹‰çš„ç±»ï¼‰æ—¶ï¼ŒYiiæ¡†æ¶æ˜¯å¦‚ä½•è‡ªåŠ¨åŠ è½½çš„ï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;åœ¨ &lt;a href="http://blog.xiayf.cn/2014/11/20/read-yii-code-7/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - åº”ç”¨æ¨¡å—åŒ–&lt;/a&gt; ä¸€æ–‡ä¸­ä»‹ç»ç±» &lt;code&gt;CWebApplication&lt;/code&gt; ä¸­çš„æ–¹æ³• &lt;code&gt;createController&lt;/code&gt; ï¼Œ
è¯¥æ–¹æ³•æ ¹æ®ç›®æ ‡è·¯ç”±æ‰¾åˆ°å¯¹åº”çš„æ§åˆ¶å™¨ç±»æ–‡ä»¶å¹¶åŠ è½½ï¼Œæ–¹æ³•ä¸­æœ‰è¡Œä»£ç ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$basePath=$owner-&amp;gt;getControllerPath();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œçš„ &lt;code&gt;getControllerPath&lt;/code&gt; ä¼šè¿”å›å½“å‰åº”ç”¨æˆ–æ¨¡å—ä¸‹çš„æ§åˆ¶å™¨ç±»çš„å­˜æ”¾ç›®å½•ï¼Œå¯¹åº”åº”ç”¨çº§ä¸æ¨¡å—çº§ï¼Œå…¶å®ç°æœ‰ä¸¤å¤„ï¼Œå…¶ä¸€æ˜¯åœ¨ç±» &lt;code&gt;CWebApplication&lt;/code&gt; ä¸­ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * @return string the directory that contains the controller classes. Defaults to &amp;#39;protected/controllers&amp;#39;.
 */
public function getControllerPath()
{
    if($this-&amp;gt;_controllerPath!==null)
        return $this-&amp;gt;_controllerPath;
    else
        return $this-&amp;gt;_controllerPath=$this-&amp;gt;getBasePath().DIRECTORY_SEPARATOR.&amp;#39;controllers&amp;#39;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦ä¸€å¤„æ˜¯åœ¨ç±» &lt;code&gt;CWebModule&lt;/code&gt; ä¸­ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * @return string the directory that contains the controller classes. Defaults to &amp;#39;moduleDir/controllers&amp;#39; where
 * moduleDir is the directory containing the module class.
 */
public function getControllerPath()
{
    if($this-&amp;gt;_controllerPath!==null)
        return $this-&amp;gt;_controllerPath;
    else
        return $this-&amp;gt;_controllerPath=$this-&amp;gt;getBasePath().DIRECTORY_SEPARATOR.&amp;#39;controllers&amp;#39;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸¤å¤„å®ç°çš„é€»è¾‘æ˜¯ä¸€æ ·çš„ï¼šå¦‚æœå±æ€§ &lt;code&gt;_controllerPath&lt;/code&gt; æœªèµ‹å€¼ï¼Œåˆ™&lt;strong&gt;é»˜è®¤&lt;/strong&gt;ä»¥åº”ç”¨æˆ–æ¨¡å—ç›®å½•ä¸‹çš„&lt;strong&gt;controllers&lt;/strong&gt;å­ç›®å½•ä½œä¸ºè‡ªå®šä¹‰æ§åˆ¶å™¨ç±»çš„å­˜æ”¾ç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸æƒ³ä»¥è¯¥è·¯å¾„ä½œä¸ºè‡ªå®šä¹‰æ§åˆ¶å™¨ç±»çš„å­˜æ”¾ç›®å½•ï¼Œé‚£ä¹ˆå°±å¾—ä¸º &lt;code&gt;_controllerPath&lt;/code&gt; èµ‹å€¼ - ä¸ &lt;code&gt;getControllerPath&lt;/code&gt; å¯¹åº”çš„æœ‰æ–¹æ³• &lt;code&gt;setControllerPath&lt;/code&gt; ï¼ˆåŒæ ·æœ‰ä¸¤å¤„å®šä¹‰ï¼Œå®ç°ä¸€æ ·ï¼‰ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * @param string $value the directory that contains the controller classes.
 * @throws CException if the directory is invalid
 */
public function setControllerPath($value)
{
    if(($this-&amp;gt;_controllerPath=realpath($value))===false || !is_dir($this-&amp;gt;_controllerPath))
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;The controller path &amp;quot;{path}&amp;quot; is not a valid directory.&amp;#39;,
            array(&amp;#39;{path}&amp;#39;=&amp;gt;$value)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä» &lt;code&gt;getControllerPath&lt;/code&gt; å’Œ &lt;code&gt;setControllerPath&lt;/code&gt; çš„å‘½åä¸Šå°±èƒ½çŸ¥é“è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯åˆ†åˆ«ç”±é­”æœ¯æ–¹æ³• &lt;code&gt;__get&lt;/code&gt; å’Œ &lt;code&gt;__set&lt;/code&gt; é—´æ¥è°ƒç”¨çš„ã€‚ç”± &lt;a href="http://blog.xiayf.cn/2014/11/04/read-yii-code-1/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - è¯·æ±‚å¤„ç†åŸºæœ¬æµç¨‹&lt;/a&gt; ä¸€æ–‡å†…å®¹å¯çŸ¥ï¼Œé…ç½®åˆå§‹åŒ–çš„æ—¶å€™ä¼šè°ƒç”¨ç±» &lt;code&gt;CModule&lt;/code&gt; çš„æ–¹æ³• &lt;code&gt;configure&lt;/code&gt; ï¼Œè¯¥æ–¹æ³•ä¸­åˆä¼šè§¦å‘é­”æœ¯æ–¹æ³• &lt;code&gt;__set&lt;/code&gt; ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€å¯ä»¥åœ¨åº”ç”¨é…ç½®ä¸­æ·»åŠ  &lt;code&gt;controllerPath&lt;/code&gt; ä¸€é¡¹æ¥å£°æ˜è‡ªå®šä¹‰æ§åˆ¶å™¨ç±»çš„å­˜æ”¾ç›®å½•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é‚£ä¹ˆå½“è‡ªå®šä¹‰æ§åˆ¶ç±»ä¸­ä½¿ç”¨Modelç±»æˆ–è€…å…¶ä»–è¾…åŠ©ç±»æ—¶ï¼ŒYiiæ˜¯å¦‚ä½•è‡ªåŠ¨åŠ è½½çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä»¥ &lt;strong&gt;åœ¨æ§åˆ¶å™¨ç±»ä¸­IndexControllerè°ƒç”¨Modelç±»UserModelçš„getUserInfoæ–¹æ³•è·å–ç”¨æˆ·ä¿¡æ¯&lt;/strong&gt; ä¸ºä¾‹ï¼ŒYiiæ˜¯æ€ä¹ˆæ‰¾åˆ°å¹¶åŠ è½½UserModelç±»æ–‡ä»¶çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;a href="http://blog.xiayf.cn/2014/11/04/read-yii-code-1/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - è¯·æ±‚å¤„ç†åŸºæœ¬æµç¨‹&lt;/a&gt; ä¸€æ–‡çš„æœ€åæåˆ° - ç±»æ–‡ä»¶yii/framework/YiiBase.phpçš„å€’æ•°ç¬¬äºŒè¡Œä»£ç ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;spl_autoload_register(array(&amp;#39;YiiBase&amp;#39;,&amp;#39;autoload&amp;#39;));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨åº”ç”¨åˆå§‹åŒ–æ—¶ï¼Œç±»æ–‡ä»¶ &lt;code&gt;Yii.php&lt;/code&gt; ä¸­ä¼šrequireç±»æ–‡ä»¶ &lt;code&gt;YiiBase.php&lt;/code&gt;ï¼Œä»è€Œä¼šæ‰§è¡Œè¯¥å¥ä»£ç ï¼Œå°†YiiBaseç±»çš„æ–¹æ³•autoloadæ³¨å†Œåˆ° &lt;code&gt;SPL __autoload&lt;/code&gt; å‡½æ•°é˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;è€Œç±» YiiBase çš„ autoload æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Class autoload loader.
 * This method is provided to be invoked within an __autoload() magic method.
 * @param string $className class name
 * @return boolean whether the class has been loaded successfully
 */
public static function autoload($className)
{
    // use include so that the error PHP file may appear
    // å…ˆåœ¨ $classMap ä¸­æŸ¥æ‰¾
    if(isset(self::$classMap[$className]))
        include(self::$classMap[$className]);
    // åœ¨ $_coreClasses ä¸­æŸ¥æ‰¾
    elseif(isset(self::$_coreClasses[$className]))
        include(YII_PATH.self::$_coreClasses[$className]);
    else
    {
        // å¦‚æœ $className ä¸å¸¦ å‘½åç©ºé—´
        // include class file relying on include_path
        if(strpos($className,&amp;#39;\\&amp;#39;)===false)  // class without namespace
        {
            if(self::$enableIncludePath===false)
            {
                foreach(self::$_includePaths as $path)
                {
                    $classFile=$path.DIRECTORY_SEPARATOR.$className.&amp;#39;.php&amp;#39;;
                    if(is_file($classFile))
                    {
                        include($classFile);
                        if(YII_DEBUG &amp;amp;&amp;amp; basename(realpath($classFile))!==$className.&amp;#39;.php&amp;#39;)
                            throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Class name &amp;quot;{class}&amp;quot; does not match class file &amp;quot;{file}&amp;quot;.&amp;#39;, array(
                                &amp;#39;{class}&amp;#39;=&amp;gt;$className,
                                &amp;#39;{file}&amp;#39;=&amp;gt;$classFile,
                            )));
                        break;
                    }
                }
            }
            else
                include($className.&amp;#39;.php&amp;#39;);
        }
        // $className å¸¦ å‘½åç©ºé—´
        else  // class name with namespace in PHP 5.3
        {
            $namespace=str_replace(&amp;#39;\\&amp;#39;,&amp;#39;.&amp;#39;,ltrim($className,&amp;#39;\\&amp;#39;));
            if(($path=self::getPathOfAlias($namespace))!==false)
                include($path.&amp;#39;.php&amp;#39;);
            else
                return false;
        }
        return class_exists($className,false) || interface_exists($className,false);
    }
    return true;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šè¿°ä»£ç ä¸­æ¶‰åŠçš„ &lt;code&gt;self::$_coreClasses&lt;/code&gt; å±æ€§å®šä¹‰äºç±» YiiBaseï¼Œå…¶ä¸­ç½—åˆ—äº†Yiiæ¡†æ¶æ ¸å¿ƒç±»çš„åç§°ä¸ç›¸å¯¹è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;å±æ€§ &lt;code&gt;self::$_classMap&lt;/code&gt; ï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ï¼Œåœ¨ç±» YiiBase çš„é™æ€æ–¹æ³• import ä¸­æ ¹æ®æ¡ä»¶å¯èƒ½è¢«èµ‹äºˆå…ƒç´ ï¼›å±æ€§ &lt;code&gt;self::$_includePaths&lt;/code&gt; ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåªä¸è¿‡é»˜è®¤æœªèµ‹å€¼ã€‚é™æ€æ–¹æ³• &lt;code&gt;import&lt;/code&gt; å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public static function import($alias,$forceInclude=false)
{
    if(isset(self::$_imports[$alias]))  // previously imported
        return self::$_imports[$alias];

    if(class_exists($alias,false) || interface_exists($alias,false))
        return self::$_imports[$alias]=$alias;

    // å¸¦ å‘½åç©ºé—´
    if(($pos=strrpos($alias,&amp;#39;\\&amp;#39;))!==false) // a class name in PHP 5.3 namespace format
    {
        $namespace=str_replace(&amp;#39;\\&amp;#39;,&amp;#39;.&amp;#39;,ltrim(substr($alias,0,$pos),&amp;#39;\\&amp;#39;));
        if(($path=self::getPathOfAlias($namespace))!==false)
        {
            $classFile=$path.DIRECTORY_SEPARATOR.substr($alias,$pos+1).&amp;#39;.php&amp;#39;;

            // é»˜è®¤ä¸ºfalseçš„å“¦
            if($forceInclude)
            {
                if(is_file($classFile))
                    require($classFile);
                else
                    throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Alias &amp;quot;{alias}&amp;quot; is invalid. Make sure it points to an existing PHP file and the file is readable.&amp;#39;,array(&amp;#39;{alias}&amp;#39;=&amp;gt;$alias)));
                self::$_imports[$alias]=$alias;
            }
            else
                self::$classMap[$alias]=$classFile;
            return $alias;
        }
        else
        {
            // try to autoload the class with an autoloader
            if (class_exists($alias,true))
                return self::$_imports[$alias]=$alias;
            else
                throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Alias &amp;quot;{alias}&amp;quot; is invalid. Make sure it points to an existing directory or file.&amp;#39;,
                    array(&amp;#39;{alias}&amp;#39;=&amp;gt;$namespace)));
        }
    }

    // ä»åå¾€å‰ç¬¬ä¸€ä¸ª . çš„ä½ç½®
    if(($pos=strrpos($alias,&amp;#39;.&amp;#39;))===false)  // a simple class name
    {
        if($forceInclude &amp;amp;&amp;amp; self::autoload($alias))
            self::$_imports[$alias]=$alias;
        return $alias;
    }

    // å–ç±»åéƒ¨åˆ†
    $className=(string)substr($alias,$pos+1);
    // å¦‚æœç±»åä¸º * åˆ™è¡¨ç¤ºéç±»æ–‡ä»¶ï¼Œè€Œæ˜¯ç›®å½•
    $isClass=$className!==&amp;#39;*&amp;#39;;

    if($isClass &amp;amp;&amp;amp; (class_exists($className,false) || interface_exists($className,false)))
        return self::$_imports[$alias]=$className;

    if(($path=self::getPathOfAlias($alias))!==false)
    {
        // ç±»æ–‡ä»¶
        if($isClass)
        {
            if($forceInclude)
            {
                if(is_file($path.&amp;#39;.php&amp;#39;))
                    require($path.&amp;#39;.php&amp;#39;);
                else
                    throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Alias &amp;quot;{alias}&amp;quot; is invalid. Make sure it points to an existing PHP file and the file is readable.&amp;#39;,array(&amp;#39;{alias}&amp;#39;=&amp;gt;$alias)));
                self::$_imports[$alias]=$className;
            }
            else
                self::$classMap[$className]=$path.&amp;#39;.php&amp;#39;;
            return $className;
        }
        // ç›®å½•
        else  // a directory
        {
            if(self::$_includePaths===null)
            {
                self::$_includePaths=array_unique(explode(PATH_SEPARATOR,get_include_path()));
                if(($pos=array_search(&amp;#39;.&amp;#39;,self::$_includePaths,true))!==false)
                    unset(self::$_includePaths[$pos]);
            }

            array_unshift(self::$_includePaths,$path);

            if(self::$enableIncludePath &amp;amp;&amp;amp; set_include_path(&amp;#39;.&amp;#39;.PATH_SEPARATOR.implode(PATH_SEPARATOR,self::$_includePaths))===false)
                self::$enableIncludePath=false;

            return self::$_imports[$alias]=$path;
        }
    }
    else
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Alias &amp;quot;{alias}&amp;quot; is invalid. Make sure it points to an existing directory or file.&amp;#39;,
            array(&amp;#39;{alias}&amp;#39;=&amp;gt;$alias)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é™æ€æ–¹æ³•importåœ¨ç±»CModuleï¼ˆCWebApplicationç±»é—´æ¥ç»§æ‰¿è‡ªè¯¥ç±»ï¼‰çš„æ–¹æ³• &lt;code&gt;setImport&lt;/code&gt; ä¸­ä¼šè¢«è°ƒç”¨ï¼ˆå½“ç„¶è¿˜æœ‰å…¶ä»–åœ°æ–¹ä¹Ÿä¼šè°ƒç”¨importæ–¹æ³•ï¼‰ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Sets the aliases that are used in the module.
 * @param array $aliases list of aliases to be imported
 */
public function setImport($aliases)
{
    foreach($aliases as $alias)
        Yii::import($alias);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;çœ‹åˆ°å‰ç¼€ä¸º&lt;code&gt;set&lt;/code&gt;ï¼Œå°±çŸ¥é“é­”æœ¯æ–¹æ³• &lt;code&gt;__set&lt;/code&gt; èƒ½é—´æ¥è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¦‚å‰æ‰€è¿°ï¼Œå¯ä»¥ä¸ºåº”ç”¨æä¾›åä¸º &lt;strong&gt;import&lt;/strong&gt; çš„é…ç½®é¡¹ã€‚ä¾‹å¦‚ç›®å‰æˆ‘ä»¬é¡¹ç›®ä¸­æœ‰importé…ç½®é¡¹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;#39;import&amp;#39;=&amp;gt;array(
    &amp;#39;application.models.*&amp;#39;,
    &amp;#39;application.components.*&amp;#39;,
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¡¨ç¤ºä¸šåŠ¡é€»è¾‘çš„ä»£ç ï¼ˆå¦‚è‡ªå®šä¹‰æ§åˆ¶å™¨ç±»ï¼‰ä¸­ä¼šä½¿ç”¨åˆ°åº”ç”¨çš„å­ç›®å½•modelså’Œcomponentsä¸‹çš„ç±»æ–‡ä»¶ï¼Œéœ€è¦Yiiï¼ˆå‡†ç¡®åœ°è¯´æ˜¯YiiBaseç±»autoloadæ–¹æ³•ï¼‰å¸®å¿™è‡ªåŠ¨æŸ¥æ‰¾åŠ è½½ã€‚
è¿™æ ·ä¹Ÿå°±èƒ½ä»»æ„ç»„ç»‡é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼ˆ&lt;strong&gt;å½“ç„¶ä¸è¦å¤ªä»»æ€§ï¼&lt;/strong&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;importé…ç½®é¡¹çš„å€¼æ˜¯ä¸€ä¸ªè·¯å¾„åˆ«åæ•°ç»„ï¼Œè·¯å¾„åˆ«åä¸­çš„applicationè¡¨ç¤ºåº”ç”¨çš„æ ¹ç›®å½•ï¼Œé»˜è®¤ä¸ºä¸index.phpåŒä¸€çº§çš„protectedç›®å½•ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®é¡¹basePathæ¥æŒ‡å®šã€‚å¯¹äºbasePathé…ç½®é¡¹ï¼Œåœ¨ç±»CApplicationçš„æ„é€ æ–¹æ³• &lt;code&gt;__contruct&lt;/code&gt; ä¸­æœ‰å¦‚ä¸‹ç›¸å…³ä»£ç ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;if(isset($config[&amp;#39;basePath&amp;#39;]))
{
    $this-&amp;gt;setBasePath($config[&amp;#39;basePath&amp;#39;]);
    unset($config[&amp;#39;basePath&amp;#39;]);
}
else
    $this-&amp;gt;setBasePath(&amp;#39;protected&amp;#39;);
Yii::setPathOfAlias(&amp;#39;application&amp;#39;,$this-&amp;gt;getBasePath());
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ–¹æ³• &lt;code&gt;setPathAlias&lt;/code&gt; çš„å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public static function setPathOfAlias($alias,$path)
{
    if(empty($path))
        unset(self::$_aliases[$alias]);
    else
        self::$_aliases[$alias]=rtrim($path,&amp;#39;\\/&amp;#39;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;é™¤äº†é€šè¿‡importé…ç½®é¡¹æŒ‡å®šautoloadçš„æŸ¥æ‰¾è·¯å¾„ï¼Œä»ç±»YiiBaseçš„autoloadæ–¹æ³•å®ç°å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºPHP 5.3ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨å‘½åç©ºé—´çš„æ–¹å¼æ¥è‡ªåŠ¨æŸ¥æ‰¾ç±»ï¼Œå‘½åç©ºé—´å­—ç¬¦ä¸²ä¼šè¢«æ›¿æ¢æˆè·¯å¾„åˆ«åï¼Œæ‰€ä»¥å‘½åç©ºé—´å­—ç¬¦ä¸²åº”ä»¥ &lt;code&gt;application\&lt;/code&gt; å¼€å§‹ï¼Œå¦‚åº”è¿™æ · &lt;code&gt;application\models\UserModel&lt;/code&gt; æ¥å¼•ç”¨modelsç›®å½•ä¸‹çš„UserModelç±»æ–‡ä»¶ï¼Œé™¤éé¢å¤–é€šè¿‡ &lt;code&gt;Yii::setPathOfAlias&lt;/code&gt;ä¸ºmodelsè·¯å¾„æŒ‡å®šåˆ«åã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œç±»YiiBaseä¸­æä¾›äº†ä¸€ä¸ªé™æ€æ–¹æ³• &lt;code&gt;registerAutoloader&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Registers a new class autoloader.
 * The new autoloader will be placed before {@link autoload} and after
 * any other existing autoloaders.
 * @param callback $callback a valid PHP callback (function name or array($className,$methodName)).
 * @param boolean $append whether to append the new autoloader after the default Yii autoloader.
 * Be careful using this option as it will disable {@link enableIncludePath autoloading via include path}
 * when set to true. After this the Yii autoloader can not rely on loading classes via simple include anymore
 * and you have to {@link import} all classes explicitly.
 */
public static function registerAutoloader($callback, $append=false)
{
    if($append)
    {
        self::$enableIncludePath=false;
        spl_autoload_register($callback);
    }
    else
    {
        spl_autoload_unregister(array(&amp;#39;YiiBase&amp;#39;,&amp;#39;autoload&amp;#39;));
        spl_autoload_register($callback);
        spl_autoload_register(array(&amp;#39;YiiBase&amp;#39;,&amp;#39;autoload&amp;#39;));
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯é€šè¿‡è¯¥é™æ€æ–¹æ³•é’ˆå¯¹é¡¹ç›®çš„ç›®å½•ç»“æ„æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„è‡ªåŠ¨æŸ¥æ‰¾åŠ è½½æ–¹å¼ã€‚&lt;/p&gt;
&lt;h4&gt;å‚è€ƒèµ„æ–™&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/zh/function.spl-autoload-register.php"&gt;PHPæ‰‹å†Œ - spl_autoload_register&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="Yii"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>Slimæºç é˜…è¯»ç¬”è®°</title><link href="http://youngsterxyf.github.io/2015/03/22/read-slim/" rel="alternate"></link><published>2015-03-22T00:00:00+08:00</published><updated>2015-03-22T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-03-22:/2015/03/22/read-slim/</id><summary type="html">&lt;p&gt;ä»¥å‰è¯»è¿‡ &lt;a href="http://www.phptherightway.com/"&gt;PHP - The Right Way&lt;/a&gt; ä¸€æ–‡ï¼Œ
è¿˜ç¿»è¯‘è¿‡å…¶ä¸­çš„ &lt;a href="http://www.phptherightway.com/pages/The-Basics.html"&gt;The Baiscs&lt;/a&gt; ä¸€èŠ‚
(è¯‘æ–‡è§ &lt;a href="http://blog.xiayf.cn/2013/03/08/php-basics/"&gt;è¿™é‡Œ&lt;/a&gt;)ã€‚&lt;/p&gt;
&lt;p&gt;å‰ä¸¤å‘¨è¯»äº† &lt;a href="http://www.amazon.cn/Modern-PHP-Lockhart-Josh/dp/1491905018/ref=sr_1_1?ie=UTF8&amp;amp;qid=1427031708&amp;amp;sr=8-1&amp;amp;keywords=Modern+PHP"&gt;Modern PHP - New Features and Good Practices&lt;/a&gt; ä¸€ä¹¦
ï¼ˆè¯»ä¹¦ç¬”è®°è§&lt;a href="http://blog.xiayf.cn/2015/03/12/read-modern-php/"&gt;è¿™é‡Œ&lt;/a&gt;ï¼‰ï¼Œ
ç”šæ˜¯ä¸ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä»¥å‰è¯»è¿‡ &lt;a href="http://www.phptherightway.com/"&gt;PHP - The Right Way&lt;/a&gt; ä¸€æ–‡ï¼Œ
è¿˜ç¿»è¯‘è¿‡å…¶ä¸­çš„ &lt;a href="http://www.phptherightway.com/pages/The-Basics.html"&gt;The Baiscs&lt;/a&gt; ä¸€èŠ‚
(è¯‘æ–‡è§ &lt;a href="http://blog.xiayf.cn/2013/03/08/php-basics/"&gt;è¿™é‡Œ&lt;/a&gt;)ã€‚&lt;/p&gt;
&lt;p&gt;å‰ä¸¤å‘¨è¯»äº† &lt;a href="http://www.amazon.cn/Modern-PHP-Lockhart-Josh/dp/1491905018/ref=sr_1_1?ie=UTF8&amp;amp;qid=1427031708&amp;amp;sr=8-1&amp;amp;keywords=Modern+PHP"&gt;Modern PHP - New Features and Good Practices&lt;/a&gt; ä¸€ä¹¦
ï¼ˆè¯»ä¹¦ç¬”è®°è§&lt;a href="http://blog.xiayf.cn/2015/03/12/read-modern-php/"&gt;è¿™é‡Œ&lt;/a&gt;ï¼‰ï¼Œ
ç”šæ˜¯ä¸é”™ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡æ¡£å’Œè¿™æœ¬ä¹¦çš„ä½œè€…éƒ½æ˜¯&lt;a href="https://github.com/codeguy"&gt;Josh Lockhart&lt;/a&gt;ï¼Œ
ä»–å†™äº†ä¸€ä¸ªWebæ¡†æ¶&lt;a href="http://www.slimframework.com/"&gt;Slim&lt;/a&gt;ï¼Œæ–‡æ¡£ä¸ä¹¦ç±å†…å®¹çš„ç²¾åéƒ½ä½“ç°åœ¨è¿™ä¸ªæ¡†æ¶ä¸­ï¼Œ
æ‰€ä»¥ä¸ªäººè§‰å¾—è¿™ä¸ªæ¡†æ¶å€¼å¾—ä¸€è¯»ã€‚&lt;/p&gt;
&lt;p&gt;Slimçš„è®¾è®¡ä¸å®ç°éƒ½éå¸¸ç²¾ç®€æ˜“æ‡‚ï¼Œå…¶å¯¹è¯·æ±‚çš„ä¸»å¤„ç†æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="slim" src="https://i.loli.net/2020/06/14/NhDueKvb59o1IMB.png"&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­çš„æ ¸å¿ƒæ¦‚å¿µåŒ…æ‹¬ï¼šIoCå®¹å™¨ã€ä¸­é—´ä»¶ã€è·¯ç”±åŒ¹é…ç­‰ã€‚&lt;/p&gt;
&lt;h4&gt;IoCå®¹å™¨&lt;/h4&gt;
&lt;p&gt;IoCï¼Œä¸ºInversion of Controlçš„ç¼©å†™ï¼Œä¸­æ–‡ç¿»è¯‘ä¸ºâ€œæ§åˆ¶åè½¬â€ - æ˜¯ä¸€ç§è§£å†³ç»„ä»¶é—´ä¾èµ–å…³ç³»ã€é…ç½®å’Œç”Ÿå‘½å‘¨æœŸçš„è®¾è®¡æ¨¡å¼ï¼Œå…¶æœ€å¸¸è§çš„å®ç°æ–¹å¼ä¸ºï¼šä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰-
å½“ç³»ç»Ÿ/åº”ç”¨éœ€è¦ä½¿ç”¨æŸä¸ªä¾èµ–ç»„ä»¶æ—¶ï¼Œå®¹å™¨æ ¹æ®é…ç½®ä¿¡æ¯æ„å»ºä¸€ä¸ªç»„ä»¶å¯¹è±¡è¿”å›ç»™ç³»ç»Ÿ/åº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºWebæ¡†æ¶æ¥è¯´ï¼ŒåŸºäºIocå®¹å™¨å¯ä»¥å°†æ¡†æ¶çš„åŠŸèƒ½æ‹†è§£æˆå¤šä¸ªç»„ä»¶ï¼ŒæŒ‰éœ€é…ç½®è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Slimçš„IoCå®¹å™¨ç±»ä¸ºï¼š&lt;code&gt;\Slim\Helper\Set&lt;/code&gt;ï¼Œä»¥å•ä¾‹requestä¸ºä¾‹ï¼Œå½“è°ƒç”¨requestå¯¹è±¡æ—¶&lt;code&gt;$app-&amp;gt;request&lt;/code&gt;ï¼Œå…ˆè§¦å‘Slimç±»çš„é­”æœ¯æ–¹æ³•&lt;code&gt;__get&lt;/code&gt;ï¼Œå…¶å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __get($name)
{
    return $this-&amp;gt;container-&amp;gt;get($name);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è€Œå®¹å™¨ç±»Setçš„getæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Get data value with key
 * @param  string $key     The data key
 * @param  mixed  $default The value to return if data key does not exist
 * @return mixed           The data value, or the default value
 */
public function get($key, $default = null)
{
    if ($this-&amp;gt;has($key)) {
        $isInvokable = is_object($this-&amp;gt;data[$this-&amp;gt;normalizeKey($key)]) &amp;amp;&amp;amp; method_exists($this-&amp;gt;data[$this-&amp;gt;normalizeKey($key)], &amp;#39;__invoke&amp;#39;);

        // æ³¨æ„è¿™é‡Œçš„$thisï¼Œåœ¨åˆå§‹åŒ–ç»„ä»¶æ—¶ï¼Œå°†å½“å‰å®¹å™¨å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ å…¥
        // ä»è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œå®¹å™¨é‡Œå¯ä»¥å­˜æ”¾æ™®é€šçš„é…ç½®ä¿¡æ¯ï¼ˆå¦‚settingsï¼‰ï¼Œä¹Ÿå¯ä»¥å­˜æ”¾ç»„ä»¶é…ç½®
        return $isInvokable ? $this-&amp;gt;data[$this-&amp;gt;normalizeKey($key)]($this) : $this-&amp;gt;data[$this-&amp;gt;normalizeKey($key)];
    }

    return $default;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬å†æ¥çœ‹çœ‹å•ä¾‹ç»„ä»¶çš„å®ç°ï¼Œä»¥requestä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;// æ³¨å†Œå•ä¾‹ç»„ä»¶request
$this-&amp;gt;container-&amp;gt;singleton(&amp;#39;request&amp;#39;, function ($c) {
    // requestç»„ä»¶çš„å®ä¾‹åŒ–ä¾èµ–äºenvironmentç»„ä»¶ï¼Œ
    // è€Œenvironmentç»„ä»¶åŒ…å«äº†$_SERVERä»¥åŠè¿›ç¨‹æ ‡å‡†è¾“å…¥çš„æ•°æ®
    return new \Slim\Http\Request($c[&amp;#39;environment&amp;#39;]);
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­&lt;code&gt;singleton&lt;/code&gt;æ–¹æ³•çš„å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Ensure a value or object will remain globally unique
 * @param  string   $key   The value or object name
 * @param  \Closure $value The closure that defines the object
 * @return mixed
 */
public function singleton($key, $value)
{
    $this-&amp;gt;set($key, function ($c) use ($value) {
        // é™æ€å¯¹è±¡
        static $object;

        if (null === $object) {
            $object = $value($c);
        }

        return $object;
    });
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;ä¸­é—´ä»¶&lt;/h4&gt;
&lt;p&gt;Slimä¸­çš„ä¸­é—´ä»¶åˆ†ä¸¤ç§ï¼šåº”ç”¨çº§ä¸­é—´ä»¶ã€è·¯ç”±çº§ä¸­é—´ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;åº”ç”¨ä¸­é—´ä»¶åŸºäºRackåè®®å®ç°ï¼Œå¯ä»¥åœ¨åº”ç”¨å¯¹è±¡è°ƒç”¨ä¹‹å‰æˆ–ä¹‹åæ£€æŸ¥ã€åˆ†æã€æˆ–ä¿®æ”¹åº”ç”¨ç¯å¢ƒå˜é‡ã€è¯·æ±‚å¯¹è±¡ã€å“åº”å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªä¸­é—´ä»¶ç±»éƒ½ç»§æ‰¿è‡ªæŠ½è±¡ç±»Middlewareï¼Œä¸”éœ€è¦å®ç°å…¶æŠ½è±¡æ–¹æ³•callã€‚æ‰€æœ‰æ³¨å†Œçš„ä¸­é—´ä»¶ç»„æˆä¸€ä¸ªä¸­é—´ä»¶æ ˆï¼Œå…¶ç»“æ„ç±»ä¼¼äºä¸€ä¸ªæ´‹è‘±ï¼Œå…ˆæ³¨å†Œçš„ä¸­é—´ä»¶åœ¨é‡Œå±‚ï¼Œåæ³¨å†Œçš„åœ¨å¤–å±‚ï¼Œæœ€é‡Œå±‚çš„æ˜¯åº”ç”¨å¯¹è±¡è‡ªèº«ï¼Œè¯·æ±‚ä»å¤–åˆ°é‡Œé€å±‚è¿›è¡Œå¤„ç†ï¼Œä»»ä½•ä¸€å±‚éƒ½å¯ä»¥æ ¹æ®æ¡ä»¶ç›´æ¥å“åº”è¯·æ±‚æˆ–é€’å½’è°ƒç”¨å¾€é‡Œä¸€å±‚/ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸­é—´ä»¶SessionCookieä¸MethodOverrideä¸ºä¾‹ï¼Œå…¶callæ–¹æ³•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;// ä¸­é—´ä»¶SessionCookie
public function call()
{
    // åŠ è½½sessionæ•°æ®
    $this-&amp;gt;loadSession();
    // è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶
    $this-&amp;gt;next-&amp;gt;call();
    // ä¿å­˜sessionæ•°æ®
    $this-&amp;gt;saveSession();
}

// ä¸­é—´ä»¶MethodOverride
public function call()
{
    $env = $this-&amp;gt;app-&amp;gt;environment();
    if (isset($env[&amp;#39;HTTP_X_HTTP_METHOD_OVERRIDE&amp;#39;])) {
        // Header commonly used by Backbone.js and others
        $env[&amp;#39;slim.method_override.original_method&amp;#39;] = $env[&amp;#39;REQUEST_METHOD&amp;#39;];
        $env[&amp;#39;REQUEST_METHOD&amp;#39;] = strtoupper($env[&amp;#39;HTTP_X_HTTP_METHOD_OVERRIDE&amp;#39;]);
    } elseif (isset($env[&amp;#39;REQUEST_METHOD&amp;#39;]) &amp;amp;&amp;amp; $env[&amp;#39;REQUEST_METHOD&amp;#39;] === &amp;#39;POST&amp;#39;) {
        // HTML Form Override
        $req = new \Slim\Http\Request($env);
        // $this-&amp;gt;settings[&amp;#39;key&amp;#39;] é»˜è®¤ä¸º_METHOD
        $method = $req-&amp;gt;post($this-&amp;gt;settings[&amp;#39;key&amp;#39;]);
        if ($method) {
            $env[&amp;#39;slim.method_override.original_method&amp;#39;] = $env[&amp;#39;REQUEST_METHOD&amp;#39;];
            $env[&amp;#39;REQUEST_METHOD&amp;#39;] = strtoupper($method);
        }
    }
    // è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶
    $this-&amp;gt;next-&amp;gt;call();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;è·¯ç”±çº§ä¸­é—´ä»¶å¯ä»¥æ˜¯ä»»ä½•å¯è¢«è°ƒç”¨çš„ä¸œè¥¿ï¼ˆ&lt;code&gt;is_callable&lt;/code&gt;è¿”å›&lt;code&gt;true&lt;/code&gt;ï¼‰ã€‚åœ¨ç›¸å…³è·¯ç”±çš„å›è°ƒè§¦å‘ä¹‹å‰ï¼Œä¼šé€ä¸ªè°ƒç”¨ç»‘å®šåˆ°è¿™ä¸ªè·¯ç”±çš„æ‰€æœ‰è·¯ç”±çº§ä¸­é—´ä»¶ï¼Œä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;// è·¯ç”±ç±»Routeçš„dispatchæ–¹æ³•ï¼š
/**
 * Dispatch route
 *
 * This method invokes the route object&amp;#39;s callable. If middleware is
 * registered for the route, each callable middleware is invoked in
 * the order specified.
 *
 * @return bool
 */
public function dispatch()
{
    // é€ä¸ªè°ƒç”¨ç»‘å®šçš„è·¯ç”±çº§ä¸­é—´ä»¶ï¼Œä»¥å½“å‰è·¯ç”±å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ å…¥
    foreach ($this-&amp;gt;middleware as $mw) {
        call_user_func_array($mw, array($this));
    }

    // è°ƒç”¨è·¯ç”±å›è°ƒï¼Œå¹¶å°†é€šè¿‡è·¯ç”±æ¨¡å¼ä»URLä¸­æ­£åˆ™åŒ¹é…åˆ°çš„å‚æ•°ä¼ å…¥å›è°ƒ
    $return = call_user_func_array($this-&amp;gt;getCallable(), array_values($this-&amp;gt;getParams()));
    return ($return === false) ? false : true;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;è·¯ç”±åŒ¹é…&lt;/h4&gt;
&lt;p&gt;å…ˆæ¥çœ‹çœ‹Slimåº”ç”¨å¯¹è±¡çš„callæ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Call
 *
 * This method finds and iterates all route objects that match the current request URI.
 */
public function call()
{
    try {
        if (isset($this-&amp;gt;environment[&amp;#39;slim.flash&amp;#39;])) {
            $this-&amp;gt;view()-&amp;gt;setData(&amp;#39;flash&amp;#39;, $this-&amp;gt;environment[&amp;#39;slim.flash&amp;#39;]);
        }
        $this-&amp;gt;applyHook(&amp;#39;slim.before&amp;#39;);
        ob_start();
        $this-&amp;gt;applyHook(&amp;#39;slim.before.router&amp;#39;);
        $dispatched = false;
        // è·¯ç”±åŒ¹é…
        $matchedRoutes = $this-&amp;gt;router-&amp;gt;getMatchedRoutes($this-&amp;gt;request-&amp;gt;getMethod(), $this-&amp;gt;request-&amp;gt;getResourceUri());
        // é€ä¸ªè·¯ç”±åˆ†å‘æ‰§è¡Œ
        foreach ($matchedRoutes as $route) {
            try {
                $this-&amp;gt;applyHook(&amp;#39;slim.before.dispatch&amp;#39;);
                $dispatched = $route-&amp;gt;dispatch();
                $this-&amp;gt;applyHook(&amp;#39;slim.after.dispatch&amp;#39;);
                if ($dispatched) {
                    break;
                }
            } catch (\Slim\Exception\Pass $e) {
                continue;
            }
        }
        // å½“è·¯ç”±çš„å›è°ƒæŠ›å‡ºéPasså¼‚å¸¸æ—¶ï¼Œåˆ™ä¼šå“åº”404
        // è¿™è²Œä¼¼ä¸å¥½å§ï¼Ÿ
        if (!$dispatched) {
            $this-&amp;gt;notFound();
        }
        $this-&amp;gt;applyHook(&amp;#39;slim.after.router&amp;#39;);
        $this-&amp;gt;stop();
    } catch (\Slim\Exception\Stop $e) {
        $this-&amp;gt;response()-&amp;gt;write(ob_get_clean());
    } catch (\Exception $e) {
        if ($this-&amp;gt;config(&amp;#39;debug&amp;#39;)) {
            throw $e;
        } else {
            try {
                $this-&amp;gt;response()-&amp;gt;write(ob_get_clean());
                $this-&amp;gt;error($e);
            } catch (\Slim\Exception\Stop $e) {
                // Do nothing
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­ç”¨äºè·¯ç”±åŒ¹é…çš„Routerç±»çš„getMatchedRoutesæ–¹æ³•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Return route objects that match the given HTTP method and URI
 * @param  string               $httpMethod   The HTTP method to match against
 * @param  string               $resourceUri  The resource URI to match against
 * @param  bool                 $reload       Should matching routes be re-parsed?
 * @return array[\Slim\Route]
 */
public function getMatchedRoutes($httpMethod, $resourceUri, $reload = false)
{
    if ($reload || is_null($this-&amp;gt;matchedRoutes)) {
        $this-&amp;gt;matchedRoutes = array();
        foreach ($this-&amp;gt;routes as $route) {
            // å¦‚æœå½“å‰è¯·æ±‚çš„HTTPæ–¹æ³•ä¸è¢«å½“å‰routeæ”¯æŒä¸”ä¸æ˜¯ANYï¼Œåˆ™è·³è¿‡
            if (!$route-&amp;gt;supportsHttpMethod($httpMethod) &amp;amp;&amp;amp; !$route-&amp;gt;supportsHttpMethod(&amp;quot;ANY&amp;quot;)) {
                continue;
            }

            // å¦åˆ™ç»§ç»­åŒ¹é…ç¯å¢ƒå˜é‡PATH_INFO
            if ($route-&amp;gt;matches($resourceUri)) {
                $this-&amp;gt;matchedRoutes[] = $route;
            }
        }
    }

    return $this-&amp;gt;matchedRoutes;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­ç”¨äºPATH_INFOåŒ¹é…çš„Routeç±»çš„matchesæ–¹æ³•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Matches URI?
 *
 * Parse this route&amp;#39;s pattern, and then compare it to an HTTP resource URI
 * This method was modeled after the techniques demonstrated by Dan Sosedoff at:
 *
 * http://blog.sosedoff.com/2009/09/20/rails-like-php-url-router/
 *
 * @param  string $resourceUri A Request URI
 * @return bool
 */
public function matches($resourceUri)
{
    //Convert URL params into regex patterns, construct a regex for this route, init params
    // preg_replace_callback â€” æ‰§è¡Œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æœç´¢å¹¶ä¸”ä½¿ç”¨ä¸€ä¸ªå›è°ƒè¿›è¡Œæ›¿æ¢
    $patternAsRegex = preg_replace_callback(
        &amp;#39;#:([\w]+)\+?#&amp;#39;,
        array($this, &amp;#39;matchesCallback&amp;#39;),
        // æ‹¬å·ä¸­çš„éƒ¨åˆ†è¡¨ç¤ºå¯é€‰
        // å¦‚ï¼š/archive(/:year(/:month(/:day)))
        str_replace(&amp;#39;)&amp;#39;, &amp;#39;)?&amp;#39;, (string)$this-&amp;gt;pattern)
    );
    // å³ä½¿patternæœ€åæœ‰æ–œæ /ï¼Œå¯¹äºURLæ¥è¯´ä¹Ÿæ˜¯å¯é€‰çš„
    if (substr($this-&amp;gt;pattern, -1) === &amp;#39;/&amp;#39;) {
        $patternAsRegex .= &amp;#39;?&amp;#39;;
    }

    $regex = &amp;#39;#^&amp;#39; . $patternAsRegex . &amp;#39;$#&amp;#39;;

    // å¤§å°å†™ä¸æ•æ„Ÿ
    if ($this-&amp;gt;caseSensitive === false) {
        $regex .= &amp;#39;i&amp;#39;;
    }

    //Cache URL params&amp;#39; names and values if this route matches the current HTTP request
    // æ­£åˆ™åŒ¹é…
    if (!preg_match($regex, $resourceUri, $paramValues)) {
        return false;
    }
    foreach ($this-&amp;gt;paramNames as $name) {
        if (isset($paramValues[$name])) {
            if (isset($this-&amp;gt;paramNamesPath[$name])) {
                $this-&amp;gt;params[$name] = explode(&amp;#39;/&amp;#39;, urldecode($paramValues[$name]));
            } else {
                $this-&amp;gt;params[$name] = urldecode($paramValues[$name]);
            }
        }
    }

    return true;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ­£åˆ™æœç´¢æ›¿æ¢çš„å›è°ƒæ–¹æ³•matchesCallbackçš„å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Convert a URL parameter (e.g. &amp;quot;:id&amp;quot;, &amp;quot;:id+&amp;quot;) into a regular expression
 * @param  array $m URL parameters
 * @return string       Regular expression for URL parameter
 */
protected function matchesCallback($m)
{
    $this-&amp;gt;paramNames[] = $m[1];
    if (isset($this-&amp;gt;conditions[$m[1]])) {
        return &amp;#39;(?P&amp;lt;&amp;#39; . $m[1] . &amp;#39;&amp;gt;&amp;#39; . $this-&amp;gt;conditions[$m[1]] . &amp;#39;)&amp;#39;;
    }
    if (substr($m[0], -1) === &amp;#39;+&amp;#39;) {
        $this-&amp;gt;paramNamesPath[$m[1]] = 1;

        return &amp;#39;(?P&amp;lt;&amp;#39; . $m[1] . &amp;#39;&amp;gt;.+)&amp;#39;;
    }

    return &amp;#39;(?P&amp;lt;&amp;#39; . $m[1] . &amp;#39;&amp;gt;[^/]+)&amp;#39;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;h4&gt;å®è·µ&lt;/h4&gt;
&lt;p&gt;ä¸Šå‘¨ï¼ŒåŸºäºSlimæ¡†æ¶å¼€å‘äº†ä¸€ä¸ªRSSèšåˆå°åº”ç”¨ï¼Œè§&lt;a href="https://github.com/youngsterxyf/feed-world"&gt;è¿™é‡Œ&lt;/a&gt;ã€‚å‰ç«¯ä¹Ÿå°è¯•ä½¿ç”¨äº†Vue.jsã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="slim"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>è¯»ä¹¦ç¬”è®°ï¼šModern PHP - New Features and Good Practices</title><link href="http://youngsterxyf.github.io/2015/03/12/read-modern-php/" rel="alternate"></link><published>2015-03-12T00:00:00+08:00</published><updated>2015-03-12T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-03-12:/2015/03/12/read-modern-php/</id><content type="html">&lt;p&gt;&lt;img alt="modern-php" src="https://i.loli.net/2020/06/14/FLWAniqmMGEs8Ja.png"&gt;&lt;/p&gt;
&lt;p&gt;é«˜æ¸…æ— ç å¤§å›¾ï¼š&lt;a href="https://i.loli.net/2020/06/14/FLWAniqmMGEs8Ja.png"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ¨èé˜…è¯»ï¼&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="PHP"></category></entry><entry><title>Yiiæºç é˜…è¯»ç¬”è®° - æ—¥å¿—ç»„ä»¶</title><link href="http://youngsterxyf.github.io/2015/03/09/read-yii-code-8/" rel="alternate"></link><published>2015-03-09T00:00:00+08:00</published><updated>2015-03-09T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-03-09:/2015/03/09/read-yii-code-8/</id><summary type="html">&lt;h3&gt;ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;Yiiæ¡†æ¶ä¸ºå¼€å‘è€…æä¾›ä¸¤ä¸ªé™æ€æ–¹æ³•è¿›è¡Œæ—¥å¿—è®°å½•ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Yii::log($message, $level, $category);
Yii::trace($message, $category);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸¤è€…çš„åŒºåˆ«åœ¨äºåè€…ä¾èµ–äºåº”ç”¨å¼€å¯è°ƒè¯•æ¨¡å¼ï¼Œå³å®šä¹‰å¸¸é‡YII_DEBUGï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;defined(&amp;#39;YII_DEBUG&amp;#39;) or define(&amp;#39;YII_DEBUG&amp;#39;, true);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Yii::logæ–¹æ³•çš„è°ƒç”¨éœ€è¦æŒ‡å®šmessageçš„levelå’Œcategoryã€‚categoryæ˜¯æ ¼å¼ä¸ºâ€œxxx.yyy.zzz â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;Yiiæ¡†æ¶ä¸ºå¼€å‘è€…æä¾›ä¸¤ä¸ªé™æ€æ–¹æ³•è¿›è¡Œæ—¥å¿—è®°å½•ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Yii::log($message, $level, $category);
Yii::trace($message, $category);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸¤è€…çš„åŒºåˆ«åœ¨äºåè€…ä¾èµ–äºåº”ç”¨å¼€å¯è°ƒè¯•æ¨¡å¼ï¼Œå³å®šä¹‰å¸¸é‡YII_DEBUGï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;defined(&amp;#39;YII_DEBUG&amp;#39;) or define(&amp;#39;YII_DEBUG&amp;#39;, true);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Yii::logæ–¹æ³•çš„è°ƒç”¨éœ€è¦æŒ‡å®šmessageçš„levelå’Œcategoryã€‚categoryæ˜¯æ ¼å¼ä¸ºâ€œxxx.yyy.zzzâ€çš„è·¯å¾„åˆ«åå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚æ—¥å¿—æ˜¯åœ¨yii/framework/web/CControllerç±»ä¸­è®°å½•çš„ï¼Œé‚£ä¹ˆcategoryä¸ºâ€œsystem.web.CControllerâ€ã€‚levelåº”ä¸ºä»¥ä¸‹å‡ ç§ä¹‹ä¸€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;traceï¼šYii::traceæ–¹æ³•å³æ˜¯ä½¿ç”¨çš„è¿™ä¸ªlevelã€‚ç”¨äºè·Ÿè¸ªæ‰§è¡Œæµ&lt;/li&gt;
&lt;li&gt;infoï¼šè®°å½•é€šç”¨ä¿¡æ¯æ—¥å¿—&lt;/li&gt;
&lt;li&gt;profileï¼šç”¨äºæ€§èƒ½åˆ†æ&lt;/li&gt;
&lt;li&gt;warningï¼šç”¨äºè®°å½•è­¦å‘Šæ—¥å¿—&lt;/li&gt;
&lt;li&gt;errorï¼šç”¨äºè®°å½•é‡å¤§é”™è¯¯æ—¥å¿—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¦æƒ³æ—¥å¿—çœŸçš„è¾“å‡ºåˆ°æ–‡ä»¶ã€é‚®ä»¶ã€webé¡µé¢ç­‰åœ°æ–¹ï¼Œè¿˜å¾—ä¸ºåº”ç”¨æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;array(
    ......
    &amp;#39;preload&amp;#39;=&amp;gt;array(&amp;#39;log&amp;#39;),
    &amp;#39;components&amp;#39;=&amp;gt;array(
        ......
        &amp;#39;log&amp;#39;=&amp;gt;array(
            &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CLogRouter&amp;#39;,
            &amp;#39;routes&amp;#39;=&amp;gt;array(
                array(
                    &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CFileLogRoute&amp;#39;,
                    &amp;#39;levels&amp;#39;=&amp;gt;&amp;#39;trace, info&amp;#39;,
                    &amp;#39;categories&amp;#39;=&amp;gt;&amp;#39;system.*&amp;#39;,
                ),
                array(
                    &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CEmailLogRoute&amp;#39;,
                    &amp;#39;levels&amp;#39;=&amp;gt;&amp;#39;error, warning&amp;#39;,
                    &amp;#39;emails&amp;#39;=&amp;gt;&amp;#39;admin@example.com&amp;#39;,
                ),
            ),
        ),
    ),
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ³¨å†Œä½¿ç”¨åä¸ºlogçš„ç»„ä»¶ï¼Œç»„ä»¶å¯¹åº”çš„ç±»ä¸ºCLogRouterï¼ˆè§ç±»æ–‡ä»¶yii/framework/logging/CLogRouter.phpï¼‰ï¼Œå¹¶ä¸”éœ€è¦ä¸ºç»„ä»¶æä¾›å‚æ•°routesï¼Œ
ä»ç›®å½•yii/framework/loggingå¯ä»¥çœ‹åˆ°å¯ä½¿ç”¨çš„æ—¥å¿—è¾“å‡ºç›®æ ‡è·¯ç”±æœ‰ï¼š&lt;code&gt;CDbLogRoute&lt;/code&gt;ï¼ˆå°†æ—¥å¿—è®°å½•åˆ°æ•°æ®åº“ä¸­ï¼‰ã€&lt;code&gt;CEmailLogRoute&lt;/code&gt;ï¼ˆå°†æ—¥å¿—å‘é€åˆ°é‚®ç®±ï¼‰ã€&lt;code&gt;CFileLogRoute&lt;/code&gt;ï¼ˆè®°å½•åˆ°æ–‡ä»¶ä¸­ï¼‰ã€&lt;code&gt;CWebLogRoute&lt;/code&gt;ï¼ˆå°†æ—¥å¿—æ˜¾ç¤ºåœ¨å¯¹åº”çš„ç½‘é¡µä¸­ï¼‰ã€&lt;code&gt;CProfileLogRoute&lt;/code&gt;ï¼Œå…¶ä¸­CProfileLogRouteç›´æ¥ç»§æ‰¿è‡ªCWebLogRouteï¼Œå…¶ä»–è·¯ç”±ç±»éƒ½ç›´æ¥ç»§æ‰¿è‡ªCLogRouteç±»ã€‚&lt;/p&gt;
&lt;p&gt;è‡³äºä¸ºä»€ä¹ˆéœ€è¦å¯¹logç»„ä»¶è¿›è¡Œpreloadï¼Œå³é¢„å…ˆå®ä¾‹åŒ–ï¼Œåè¾¹å†è¯´ã€‚&lt;/p&gt;
&lt;h3&gt;åˆ†æ&lt;/h3&gt;
&lt;p&gt;å…ˆæ¥çœ‹çœ‹Yii::logå’ŒYii::traceçš„å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Writes a trace message.
 * This method will only log a message when the application is in debug mode.
 * @param string $msg message to be logged
 * @param string $category category of the message
 * @see log
 */
public static function trace($msg,$category=&amp;#39;application&amp;#39;)
{
    // å¾—å…ˆå®šä¹‰å¸¸é‡YII_DEBUGä¸ºtrue
    if(YII_DEBUG)
        // CLogger::LEVEL_TRACE
        self::log($msg,CLogger::LEVEL_TRACE,$category);
}

/**
 * Logs a message.
 * Messages logged by this method may be retrieved via {@link CLogger::getLogs}
 * and may be recorded in different media, such as file, email, database, using
 * {@link CLogRouter}.
 * @param string $msg message to be logged
 * @param string $level level of the message (e.g. &amp;#39;trace&amp;#39;, &amp;#39;warning&amp;#39;, &amp;#39;error&amp;#39;). It is case-insensitive.
 * @param string $category category of the message (e.g. &amp;#39;system.web&amp;#39;). It is case-insensitive.
 */
public static function log($msg,$level=CLogger::LEVEL_INFO,$category=&amp;#39;application&amp;#39;)
{
    if(self::$_logger===null)
        self::$_logger=new CLogger;
    // æ³¨æ„è¿™é‡Œçš„å¸¸é‡YII_TRACE_LEVELï¼Œå¦‚æœæƒ³æ—¥å¿—ä¸­å«æœ‰å¯¹åº”æ–‡ä»¶åã€å¯¹åº”è¡Œï¼Œé‚£ä¹ˆåº”è¯¥å®šä¹‰YII_TRACE_LEVELå¤§äº0ï¼Œ
    // è¿™ä¸ªå¸¸é‡çš„æ„æ€åº”è¯¥æ˜¯æ—¥å¿—è¿½è¸ªçš„æ·±åº¦
    if(YII_DEBUG &amp;amp;&amp;amp; YII_TRACE_LEVEL&amp;gt;0 &amp;amp;&amp;amp; $level!==CLogger::LEVEL_PROFILE)
    {
        $traces=debug_backtrace();
        $count=0;
        foreach($traces as $trace)
        {
            if(isset($trace[&amp;#39;file&amp;#39;],$trace[&amp;#39;line&amp;#39;]) &amp;amp;&amp;amp; strpos($trace[&amp;#39;file&amp;#39;],YII_PATH)!==0)
            {
                $msg.=&amp;quot;\nin &amp;quot;.$trace[&amp;#39;file&amp;#39;].&amp;#39; (&amp;#39;.$trace[&amp;#39;line&amp;#39;].&amp;#39;)&amp;#39;;
                if(++$count&amp;gt;=YII_TRACE_LEVEL)
                    break;
            }
        }
    }
    // è°ƒç”¨çš„æ˜¯CLoggerç±»çš„logæ–¹æ³•
    self::$_logger-&amp;gt;log($msg,$level,$category);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;CLoggerç±»çš„logæ–¹æ³•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Logs a message.
 * Messages logged by this method may be retrieved back via {@link getLogs}.
 * @param string $message message to be logged
 * @param string $level level of the message (e.g. &amp;#39;Trace&amp;#39;, &amp;#39;Warning&amp;#39;, &amp;#39;Error&amp;#39;). It is case-insensitive.
 * @param string $category category of the message (e.g. &amp;#39;system.web&amp;#39;). It is case-insensitive.
 * @see getLogs
 */
public function log($message,$level=&amp;#39;info&amp;#39;,$category=&amp;#39;application&amp;#39;)
{
    $this-&amp;gt;_logs[]=array($message,$level,$category,microtime(true));
    $this-&amp;gt;_logCount++;
    // autoFlushçš„é»˜è®¤å€¼ä¸º10000ï¼Œå³åªæœ‰å½“æ—¥å¿—çš„æ¡æ•°è¾¾åˆ°10000ï¼ˆæˆ–è¯·æ±‚å¤„ç†ç»“æŸæ—¶ï¼‰ï¼Œæ‰ä¼šflushåˆ°è¾“å‡ºï¼Œå¦åˆ™ä¸€ç›´å°†æ—¥å¿—å­˜æ”¾åœ¨å†…å­˜ä¸­
    if($this-&amp;gt;autoFlush&amp;gt;0 &amp;amp;&amp;amp; $this-&amp;gt;_logCount&amp;gt;=$this-&amp;gt;autoFlush &amp;amp;&amp;amp; !$this-&amp;gt;_processing)
    {
        $this-&amp;gt;_processing=true;
        // autoDumpé»˜è®¤ä¸ºfalse
        $this-&amp;gt;flush($this-&amp;gt;autoDump);
        $this-&amp;gt;_processing=false;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;CLoggerç±»çš„flushæ–¹æ³•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Removes all recorded messages from the memory.
 * This method will raise an {@link onFlush} event.
 * The attached event handlers can process the log messages before they are removed.
 * @param boolean $dumpLogs whether to process the logs immediately as they are passed to log route
 * @since 1.1.0
 */
public function flush($dumpLogs=false)
{
    // äº‹ä»¶å¯¹è±¡ä¸­ä¼šå¸¦æœ‰å½“å‰çš„CLoggerå¯¹è±¡ï¼Œä½œä¸ºäº‹ä»¶çš„å‘é€è€…
    // ä½†åœ¨ç±»CLogRouterçš„æ–¹æ³•collectLogså’ŒprocessLogsä¸­å¹¶æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªCLoggerå¯¹è±¡ï¼Œ
    // è€Œæ˜¯é€šè¿‡Yii::getLogger()æ¥å¾—åˆ°åŒä¸€ä¸ªCLoggerå¯¹è±¡ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨å‘¢ï¼Ÿ
    $this-&amp;gt;onFlush(new CEvent($this, array(&amp;#39;dumpLogs&amp;#39;=&amp;gt;$dumpLogs)));
    // æ¸…ç©ºé‡ç½®
    $this-&amp;gt;_logs=array();
    $this-&amp;gt;_logCount=0;
}

/**
 * Raises an &amp;lt;code&amp;gt;onFlush&amp;lt;/code&amp;gt; event.
 * @param CEvent $event the event parameter
 * @since 1.1.0
 */
public function onFlush($event)
{
    // æŠ›å‡ºonFlushäº‹ä»¶
    // raiseEventæ–¹æ³•å®šä¹‰åœ¨CComponentç±»ä¸­ï¼ŒCLoggerç±»ç»§æ‰¿è‡ªCComponentç±»
    $this-&amp;gt;raiseEvent(&amp;#39;onFlush&amp;#39;, $event);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;CComponentç±»çš„raiseEventæ–¹æ³•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Raises an event.
 * This method represents the happening of an event. It invokes
 * all attached handlers for the event.
 * @param string $name the event name
 * @param CEvent $event the event parameter
 * @throws CException if the event is undefined or an event handler is invalid.
 */
public function raiseEvent($name,$event)
{
    $name=strtolower($name);
    if(isset($this-&amp;gt;_e[$name]))
    {
        // é€ä¸ªæ‰§è¡Œä¸äº‹ä»¶$nameç»‘å®šçš„$handler
        foreach($this-&amp;gt;_e[$name] as $handler)
        {
            if(is_string($handler))
                // ä¼šå°†äº‹ä»¶å¯¹è±¡(CEventå¯¹è±¡)ä¼ åˆ°$handlerä¸­
                call_user_func($handler,$event);
            elseif(is_callable($handler,true))
            {
                if(is_array($handler))
                {
                    // an array: 0 - object, 1 - method name
                    list($object,$method)=$handler;
                    if(is_string($object))  // static method call
                        call_user_func($handler,$event);
                    elseif(method_exists($object,$method))
                        $object-&amp;gt;$method($event);
                    else
                        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Event &amp;quot;{class}.{event}&amp;quot; is attached with an invalid handler &amp;quot;{handler}&amp;quot;.&amp;#39;,
                            array(&amp;#39;{class}&amp;#39;=&amp;gt;get_class($this), &amp;#39;{event}&amp;#39;=&amp;gt;$name, &amp;#39;{handler}&amp;#39;=&amp;gt;$handler[1])));
                }
                else // PHP 5.3: anonymous function
                    call_user_func($handler,$event);
            }
            else
                throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Event &amp;quot;{class}.{event}&amp;quot; is attached with an invalid handler &amp;quot;{handler}&amp;quot;.&amp;#39;,
                    array(&amp;#39;{class}&amp;#39;=&amp;gt;get_class($this), &amp;#39;{event}&amp;#39;=&amp;gt;$name, &amp;#39;{handler}&amp;#39;=&amp;gt;gettype($handler))));
            // stop further handling if param.handled is set true
            if(($event instanceof CEvent) &amp;amp;&amp;amp; $event-&amp;gt;handled)
                return;
        }
    }
    elseif(YII_DEBUG &amp;amp;&amp;amp; !$this-&amp;gt;hasEvent($name))
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Event &amp;quot;{class}.{event}&amp;quot; is not defined.&amp;#39;,
            array(&amp;#39;{class}&amp;#39;=&amp;gt;get_class($this), &amp;#39;{event}&amp;#39;=&amp;gt;$name)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;çœ‹åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šå¾ˆå¥‡æ€ªæ€ä¹ˆéƒ½æ²¡çœ‹åˆ°çœŸæ­£è®°å½•æ—¥å¿—çš„ä»£ç å‘¢ï¼Ÿåœ¨ä¸äº‹ä»¶ç»‘å®šçš„å„ä¸ª$handleré‡Œå‘¢ï¼Œè¿™ä¹Ÿæ˜¯logç»„ä»¶çš„routeså‚æ•°é…ç½®æˆæ•°ç»„çš„åŸå› ï¼Œ$handleå°±æ˜¯è¯¥æ•°ç»„ä¸­å¯¹åº”ç±»çš„å®ä¾‹åŒ–å¯¹è±¡çš„æ—¥å¿—è®°å½•æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¿™äº›$handleæ˜¯åœ¨å“ªé‡Œç»‘å®šäº‹ä»¶çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶logç»„ä»¶å¯¹åº”çš„æ˜¯CLogRouterç±»ï¼Œé‚£ä¹ˆæ¥çœ‹çœ‹å…¶å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ç±»CLogRouterç»§æ‰¿è‡ªç±»CApplicationComponentã€‚æ ¹æ®&lt;a href="http://youngsterxyf.github.io/2014/11/13/read-yii-code-3/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - ç»„ä»¶é›†æˆ&lt;/a&gt;ä¸€æ–‡ï¼Œå¯çŸ¥ç»„ä»¶åˆå§‹åŒ–æ—¶å®ä¾‹åŒ–å¯¹è±¡ä¼šè°ƒç”¨initæ–¹æ³•æ¥å®Œæˆä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œç±»CLogRouterçš„initæ–¹æ³•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Initializes this application component.
 * This method is required by the IApplicationComponent interface.
 */
public function init()
{
    parent::init();
    // å®ä¾‹åŒ–é…ç½®çš„routeså‚æ•°ä¸­æŒ‡å®šçš„æ—¥å¿—è·¯ç”±ç±»åˆ—è¡¨
    foreach($this-&amp;gt;_routes as $name=&amp;gt;$route)
    {
        $route=Yii::createComponent($route);
        $route-&amp;gt;init();
        $this-&amp;gt;_routes[$name]=$route;
    }
    // å°†å½“å‰å¯¹è±¡çš„collectLogsæ–¹æ³•ç»‘å®šåˆ°äº‹ä»¶onFlush
    Yii::getLogger()-&amp;gt;attachEventHandler(&amp;#39;onFlush&amp;#39;,array($this,&amp;#39;collectLogs&amp;#39;));
    // å°†å½“å‰å¯¹è±¡çš„processLogsæ–¹æ³•ç»‘å®šåˆ°äº‹ä»¶onEndRequestï¼ˆè¡¨ç¤ºè¯·æ±‚å¤„ç†ç»“æŸï¼Ÿï¼‰
    Yii::app()-&amp;gt;attachEventHandler(&amp;#39;onEndRequest&amp;#39;,array($this,&amp;#39;processLogs&amp;#39;));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è€Œç±»CLogRouterçš„æ–¹æ³•collectLogså’ŒprocessLogså®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Collects log messages from a logger.
 * This method is an event handler to the {@link CLogger::onFlush} event.
 * @param CEvent $event event parameter
 */
public function collectLogs($event)
{
    $logger=Yii::getLogger();
    $dumpLogs=isset($event-&amp;gt;params[&amp;#39;dumpLogs&amp;#39;]) &amp;amp;&amp;amp; $event-&amp;gt;params[&amp;#39;dumpLogs&amp;#39;];
    // éå†æ‰€æœ‰æ—¥å¿—è·¯ç”±å¯¹è±¡ï¼Œæ‰§è¡Œå…¶æ–¹æ³•collectLogs
    foreach($this-&amp;gt;_routes as $route)
    {
        // å±æ€§enabledé»˜è®¤å€¼ä¸ºtrue
        if($route-&amp;gt;enabled)
            // $dumpLogsé»˜è®¤ä¸ºfalseï¼Œç”±äº‹ä»¶å¯¹è±¡ä¼ è¿‡æ¥
            $route-&amp;gt;collectLogs($logger,$dumpLogs);
    }
}

/**
 * Collects and processes log messages from a logger.
 * This method is an event handler to the {@link CApplication::onEndRequest} event.
 * @param CEvent $event event parameter
 * @since 1.1.0
 */
public function processLogs($event)
{
    $logger=Yii::getLogger();
    // éå†æ‰€æœ‰æ—¥å¿—è·¯ç”±å¯¹è±¡ï¼Œæ‰§è¡Œå…¶æ–¹æ³•collectLogs
    foreach($this-&amp;gt;_routes as $route)
    {
        if($route-&amp;gt;enabled)
            // æ³¨æ„è¿™é‡Œå‚æ•°$dumpLogså‚æ•°å€¼å§‹ç»ˆä¸ºtrue
            $route-&amp;gt;collectLogs($logger,true);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ç±»CWebLogRouteä¸ºä¾‹æ¥çœ‹çœ‹æ—¥å¿—è·¯ç”±ç±»çš„æ–¹æ³•collectLogsï¼Œè¯¥æ–¹æ³•å®šä¹‰äºç±»CLogRouteä¸­ï¼Œå®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Retrieves filtered log messages from logger for further processing.
 * @param CLogger $logger logger instance
 * @param boolean $processLogs whether to process the logs after they are collected from the logger
 */
// äº‹ä»¶onFlushè§¦å‘æ—¶ï¼Œä¼ å…¥çš„$processLogså‚æ•°å€¼é»˜è®¤ä¸ºfalseï¼Œäº‹ä»¶onEndRequestè§¦å‘æ—¶ä¸ºtrue
public function collectLogs($logger, $processLogs=false)
{
    // ä»ç±»CLoggerå®ä¾‹åŒ–å¯¹è±¡çš„_logså±æ€§å€¼ä¸­è¿‡æ»¤å¾—åˆ°ç›®æ ‡æ—¥å¿—è®°å½•
    $logs=$logger-&amp;gt;getLogs($this-&amp;gt;levels,$this-&amp;gt;categories,$this-&amp;gt;except);
    $this-&amp;gt;logs=empty($this-&amp;gt;logs) ? $logs : array_merge($this-&amp;gt;logs,$logs);
    if($processLogs &amp;amp;&amp;amp; !empty($this-&amp;gt;logs))
    {
        if($this-&amp;gt;filter!==null)
            Yii::createComponent($this-&amp;gt;filter)-&amp;gt;filter($this-&amp;gt;logs);
        if($this-&amp;gt;logs!==array())
            // è°ƒç”¨å®é™…routeçš„processLogsæ–¹æ³•
            $this-&amp;gt;processLogs($this-&amp;gt;logs);
        $this-&amp;gt;logs=array();
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è€Œç±»CWebLogRouteçš„processLogsæ–¹æ³•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Displays the log messages.
 * @param array $logs list of log messages
 */
public function processLogs($logs)
{
    $this-&amp;gt;render(&amp;#39;log&amp;#39;,$logs);
}

/**
 * Renders the view.
 * @param string $view the view name (file name without extension). The file is assumed to be located under framework/data/views.
 * @param array $data data to be passed to the view
 */
protected function render($view,$data)
{
    $app=Yii::app();
    $isAjax=$app-&amp;gt;getRequest()-&amp;gt;getIsAjaxRequest();
    $isFlash=$app-&amp;gt;getRequest()-&amp;gt;getIsFlashRequest();

    // ç”¨firebugæ¥æ˜¾ç¤ºæ—¥å¿—ä¿¡æ¯çš„è¯ï¼Ÿ
    if($this-&amp;gt;showInFireBug)
    {
        // do not output anything for ajax and/or flash requests if needed
        if($isAjax &amp;amp;&amp;amp; $this-&amp;gt;ignoreAjaxInFireBug || $isFlash &amp;amp;&amp;amp; $this-&amp;gt;ignoreFlashInFireBug)
            return;
        $view.=&amp;#39;-firebug&amp;#39;;
        if(($userAgent=$app-&amp;gt;getRequest()-&amp;gt;getUserAgent())!==null &amp;amp;&amp;amp; preg_match(&amp;#39;/msie [5-9]/i&amp;#39;,$userAgent))
        {
            echo &amp;#39;&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;&amp;#39;;
            echo file_get_contents(dirname(__FILE__).&amp;#39;/../vendors/console-normalizer/normalizeconsole.min.js&amp;#39;);
            echo &amp;quot;&amp;lt;/script&amp;gt;\n&amp;quot;;
        }
    }
    elseif(!($app instanceof CWebApplication) || $isAjax || $isFlash)
        return;

    // æ¸²æŸ“yii/framework/views/log.phpï¼ˆlog-firebug.phpï¼‰ï¼Œå°†ç»“æœæ”¾åœ¨å®é™…è¯·æ±‚é¡µé¢å†…å®¹çš„ä¸‹é¢
    $viewFile=YII_PATH.DIRECTORY_SEPARATOR.&amp;#39;views&amp;#39;.DIRECTORY_SEPARATOR.$view.&amp;#39;.php&amp;#39;;
    include($app-&amp;gt;findLocalizedFile($viewFile,&amp;#39;en&amp;#39;));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸Šè¿°ä»£ç å¯ä»¥çŸ¥é“æ—¥å¿—è·¯ç”±ç±»æ˜¯å°†æ—¥å¿—ä¿¡æ¯æŒ‰ç…§ä¸€å®šæ ¼å¼æ˜¾ç¤ºåœ¨å®é™…è¯·æ±‚é¡µé¢å†…å®¹çš„ä¸‹æ–¹ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹æ–¹æ³•initä¸­è°ƒç”¨çš„ä¸¤ä¸ªattachEventHandlerï¼Œå®ƒä»¬çš„å®šä¹‰æ˜¯åŒä¸€ä¸ªï¼Œå®šä¹‰åœ¨ç±»CComponentä¸­ï¼ˆç±»CLoggerç›´æ¥ç»§æ‰¿è‡ªç±»CComponentï¼‰ï¼Œå®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function attachEventHandler($name,$handler)
{
    // å°†äº‹ä»¶å¤„ç†å™¨$handleråŠ åˆ°å¤„ç†å™¨åˆ—è¡¨ä¸­ï¼Œåœ¨äº‹ä»¶å‘ç”Ÿæ—¶ä¼šé€ä¸ªå¤„ç†å™¨è§¦å‘æ‰§è¡Œ
    $this-&amp;gt;getEventHandlers($name)-&amp;gt;add($handler);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ–¹æ³•EventHandlersçš„å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Returns the list of attached event handlers for an event.
 * @param string $name the event name
 * @return CList list of attached event handlers for the event
 * @throws CException if the event is not defined
 */
public function getEventHandlers($name)
{
    if($this-&amp;gt;hasEvent($name))
    {
        $name=strtolower($name);
        if(!isset($this-&amp;gt;_e[$name]))
            $this-&amp;gt;_e[$name]=new CList;
        return $this-&amp;gt;_e[$name];
    }
    else
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Event &amp;quot;{class}.{event}&amp;quot; is not defined.&amp;#39;,
            array(&amp;#39;{class}&amp;#39;=&amp;gt;get_class($this), &amp;#39;{event}&amp;#39;=&amp;gt;$name)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸Šè¿°åˆ†æå¯ä»¥çŸ¥é“æ‰€è°“äº‹ä»¶ç³»ç»Ÿï¼Œå…¶å®å°±æ˜¯å°†å¤„ç†å‡½æ•°/å¯¹è±¡æ–¹æ³•æ”¾åˆ°ä¸äº‹ä»¶IDå¯¹åº”çš„ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œç„¶ååœ¨äº‹ä»¶è§¦å‘æ—¶ï¼Œé€ä¸ªè°ƒç”¨æ‰§è¡Œè¿™äº›å‡½æ•°/å¯¹è±¡æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;Yiiæ¡†æ¶åŸºäºäº‹ä»¶ç³»ç»Ÿï¼Œå¯ä»¥åšåˆ°åŒæ—¶å°†æ—¥å¿—ä¿¡æ¯å†™åˆ°å¤šä¸ªç›®æ ‡è¾“å‡ºä¸­ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å›åˆ°ä¹‹å‰æåˆ°çš„é‚£ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆéœ€è¦å¯¹logç»„ä»¶è¿›è¡Œpreloadï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸ºï¼šå¯¹äºæ—¥å¿—ç»„ä»¶çš„ä½¿ç”¨å¹¶ä¸æ˜¯é€šè¿‡&lt;code&gt;Yii::app()-&amp;gt;db&lt;/code&gt;è¿™ç§å½¢å¼æ¥è°ƒç”¨çš„ï¼ˆå¦‚æœåŸºäºè¿™ç§å½¢å¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨é¦–æ¬¡è°ƒç”¨æ—¶å†åšç»„ä»¶å®ä¾‹åŒ–ï¼Œä»¥å®ç°ç»„ä»¶å»¶è¿ŸåŠ è½½ï¼‰ï¼Œè€Œæ˜¯é€šè¿‡è§¦å‘äº‹ä»¶æ¥é—´æ¥è°ƒç”¨ï¼Œä½†è¿™å°±éœ€è¦åœ¨äº‹ä»¶è§¦å‘ä¹‹é—´å°†ç›¸å…³çš„å¤„ç†å‡½æ•°/å¯¹è±¡æ–¹æ³•ç»‘å®šåˆ°äº‹ä»¶ï¼Œè¿™ä¸ªç»‘å®šæ“ä½œåˆæ˜¯åœ¨æ—¥å¿—logç»„ä»¶çš„initæ–¹æ³•ä¸­æ‰§è¡Œçš„ï¼Œä¸€èˆ¬ç»„ä»¶ç±»å®ä¾‹åŒ–æ—¶æ‰ä¼šè°ƒç”¨å…¶initæ–¹æ³•ï¼Œæ‰€ä»¥éœ€è¦å¯¹logç»„ä»¶è¿›è¡Œé¢„åŠ è½½ã€‚&lt;/p&gt;
&lt;h3&gt;å‚è€ƒ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.yiiframework.com/doc/guide/1.1/en/topics.logging"&gt;Yii - topics - Logging&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="Yii"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>åˆæ˜¯ä¸€å¹´</title><link href="http://youngsterxyf.github.io/2015/01/03/the-2014-is-gone/" rel="alternate"></link><published>2015-01-03T00:00:00+08:00</published><updated>2015-01-03T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2015-01-03:/2015/01/03/the-2014-is-gone/</id><summary type="html">&lt;p&gt;åˆæ˜¯ä¸€å¹´ï¼Œä¾ç…§æƒ¯ä¾‹ï¼Œå¾—å†™ä¸€ç¯‡æ€»ç»“å’Œè®¡åˆ’ã€‚å½“ç„¶è®¡åˆ’æ›´å¤šçš„åªæ˜¯ä¸€ç§è‡ªæˆ‘é¼“åŠ±ï¼Œç°å®æ€»æ˜¯ä¸€æ¬¡åˆä¸€æ¬¡åœ°è¯æ˜â€œè®¡åˆ’èµ¶ä¸ä¸Šå˜ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åˆæ˜¯ä¸€å¹´ï¼Œä¾ç…§æƒ¯ä¾‹ï¼Œå¾—å†™ä¸€ç¯‡æ€»ç»“å’Œè®¡åˆ’ã€‚å½“ç„¶è®¡åˆ’æ›´å¤šçš„åªæ˜¯ä¸€ç§è‡ªæˆ‘é¼“åŠ±ï¼Œç°å®æ€»æ˜¯ä¸€æ¬¡åˆä¸€æ¬¡åœ°è¯æ˜â€œè®¡åˆ’èµ¶ä¸ä¸Šå˜åŒ–â€ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çš„2014ï¼Œå¯èƒ½ç”¨ä¸‰ä¸ªå…³é”®è¯å°±èƒ½æ¦‚æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»“å©š&lt;/li&gt;
&lt;li&gt;æ¢å·¥ä½œ&lt;/li&gt;
&lt;li&gt;ä¼—æˆæŠ€æœ¯èšä¹éƒ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;ç»“å©š&lt;/h4&gt;
&lt;p&gt;ç»§13å¹´é¢†è¯ï¼Œ14å¹´æŠŠå©šç¤¼ä¹ŸåŠäº†ã€‚ç”±äºä¸¤å®¶ç¦»å¾—è¿œï¼Œå©šç¤¼ä¹Ÿå°±åˆ†ä¸¤æ¬¡åŠã€‚ä¹‹é—´è¿˜è¡¥æ‹äº†å©šçº±ç…§ã€‚è™½ç„¶äºæˆ‘è¿™äº›æµç¨‹æ˜¾å¾—æœ‰ç‚¹æŠ˜è…¾ï¼Œä½†é‡è¦çš„æ˜¯å¤§å®¶éƒ½æ˜¯å¾ˆå¼€å¿ƒï¼Œä¹Ÿä¸å¸Œæœ›è€å©†ä»¥åä¼šæœ‰ä¸ç‚¹é—æ†¾ã€‚&lt;/p&gt;
&lt;p&gt;å¸Œæœ›ä»¥åçš„æ—¥å­æ€»èƒ½åŠªåŠ›è®©è€å©†å¼€å¿ƒå¹¸ç¦ã€‚&lt;/p&gt;
&lt;h4&gt;æ¢å·¥ä½œ&lt;/h4&gt;
&lt;p&gt;å·¥ä½œçš„æ—¶é—´å¹¶ä¸é•¿ï¼Œæœ¬æ²¡æƒ³è¿™ä¹ˆå¿«æ¢å·¥ä½œï¼Œä½•å†µæˆ‘è¿˜æ˜¯ä¸€ä¸ªæŒºå¿µæ—§çš„äººã€‚ä½†è¿˜æ˜¯é‚£å¥è¯â€œè®¡åˆ’èµ¶ä¸ä¸Šå˜åŒ–â€ï¼Œä¸å¾—å·²ä¸»åŠ¨ç¦»èŒè·³æ§½ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç›®å‰çš„å·¥ä½œè¿˜æ¯”è¾ƒæ»¡æ„ï¼Œèƒ½åšäº›è‡ªå·±å–œæ¬¢åšçš„äº‹æƒ…ï¼Œå·¥ä½œæ°›å›´ä¹Ÿè¿˜ä¸é”™ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè‡ªå·±çš„è¦æ±‚å°±æ˜¯è¸è¸å®å®åšå·¥ä½œææŠ€æœ¯ï¼Œä¸æ€¥ä¸èºã€‚&lt;/p&gt;
&lt;h4&gt;&lt;a href="http://happytechgroup.github.io/"&gt;ä¼—æˆæŠ€æœ¯èšä¹éƒ¨&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;å‚åŠ è¿‡å„ç§å¤§å¤§å°å°çš„ä¼šè®®ï¼Œæ€»è§‰å¾—æ°´å¤ªå¤šï¼Œä½†å¦‚æœå§‹ç»ˆè‡ªå·±ä¸€ä¸ªäººè’™å¤´ç ”ç©¶æŠ€æœ¯ï¼Œä¹Ÿæœ‰å¯èƒ½è½å¾—ä¸ªâ€œé—­é—¨é€ è½¦â€ã€â€œç›®å…‰çŸ­æµ…â€çš„ä¸‹åœºï¼ŒæŠ€æœ¯çš„â€œç†â€ä¹Ÿæ˜¯è¶Šè¾©è¶Šæ˜ï¼Œæ‰€ä»¥æ‰¾äº†ä¸‰äº”åŒå­¦æœ‹å‹æèµ·è‡ªå·±çš„æŠ€æœ¯æ²™é¾™ï¼Œ
åä¸ºâ€œä¼—æˆæŠ€æœ¯èšä¹éƒ¨â€ï¼Œä¹‹æ‰€ä»¥ä¸ºâ€œä¼—æˆâ€ï¼Œæ˜¯å¸Œæœ›&lt;strong&gt;ä¼—äººæˆå°±ä¼—äºº&lt;/strong&gt;ï¼Œå¤§å®¶ç›¸äº’æˆå°±ï¼Œä¹‹æ‰€ä»¥ä¸ºâ€œèšä¹éƒ¨â€è€Œä¸æ˜¯â€œä¿±ä¹éƒ¨â€ï¼Œæ˜¯è®¤ä¸ºå¤§å®¶ä¸€èµ·è®¨è®ºåˆ†äº«æŠ€æœ¯åº”è¯¥æ˜¯ä¸€ä»¶ä¹å‘µçš„äº‹æƒ…ï¼Œä¸è¦æå¾—é‚£ä¹ˆä¸¥è‚ƒè‹¦é€¼ã€‚&lt;/p&gt;
&lt;p&gt;èšä¹éƒ¨è‡³ä»Šå·²æäº†5æ¬¡èšä¼šï¼Œä¸€ä¸ªæœˆä¸€æ¬¡ï¼Œä»æˆ‘ä¸ªäººçš„è§’åº¦æ¥çœ‹ï¼Œæ•ˆæœä¸é”™ï¼Œè™½ç„¶å¾ˆå¤šåœ°æ–¹è¿˜æœ‰å¾…æ”¹è¿›ã€‚æ„Ÿè°¢æ‰€æœ‰æˆå‘˜çš„ä»˜å‡ºï¼&lt;/p&gt;
&lt;h4&gt;å…¶ä»–&lt;/h4&gt;
&lt;p&gt;æŠ€æœ¯ä¸Šï¼Œç›¸æ¯”ä¸Šä¸€å¹´ï¼Œæœ‰äº†äº›è®¸è¿›æ­¥ - å€Ÿç€â€œä¼—æˆâ€çš„æŠ€æœ¯åˆ†äº«ï¼Œç®€å•é˜…è¯»äº†leveldbï¼ˆGoè¯­è¨€ç‰ˆï¼‰çš„æºç ã€Memcachedæºç ç­‰ï¼›ä¸ºäº†æŠŠå·¥ä½œåšå¾—æ›´å¥½ï¼Œåˆä»”ç»†åœ°é˜…è¯»äº†Yiiæ¡†æ¶æºç ï¼Œå¹¶å†™äº†&lt;a href="http://youngsterxyf.github.io/tag/yii.html"&gt;ç³»åˆ—æ–‡ç« &lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å†™åšå®¢ä¸€äº‹ä¸Šï¼Œ2014å¹´æˆ‘ä¹Ÿä¸ç®—å¤ªå·æ‡’ï¼Œå…±å†™äº†26ç¯‡ï¼Œè™½ç„¶æ–‡ç« è´¨é‡ä¸å’‹åœ°ï¼Œè¿œè¿œæœªè¾¾åˆ°è‡ªå·±çš„è¦æ±‚ï¼Œä½†ä¸€åˆ‡è´µåœ¨åšæŒï¼Œä¸æ˜¯ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;é˜…è¯»æ–¹é¢ï¼Œä¹¦ç›®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·˜å®æŠ€æœ¯è¿™åå¹´ ï¼ˆ3æ˜Ÿï¼Œæˆä¸ºå¤§ç‰›ä¹Ÿæ˜¯è¦çœ‹æœºé‡çš„ï¼‰&lt;/li&gt;
&lt;li&gt;Webå®¹é‡è§„åˆ’çš„è‰ºæœ¯ ï¼ˆ4æ˜Ÿï¼‰&lt;/li&gt;
&lt;li&gt;ä¸–ç•Œæ˜¯æ•°å­—çš„ ï¼ˆ5æ˜Ÿï¼Œè®¡ç®—æœºç§‘æ™®ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸‰ä½“ï¼ˆä¸‰å†Œï¼‰ï¼ˆ1ã€2å†Œ5æ˜Ÿï¼Œç¬¬3å†Œ4æ˜Ÿï¼‰&lt;/li&gt;
&lt;li&gt;20ä¸ªæœˆèµš130äº¿ - YouTubeåˆ›å§‹äººé™ˆå£«éªè‡ªä¼  ï¼ˆ4æ˜Ÿï¼Œå¥½å§ï¼Œè¿™ç¿»è¯‘çš„ä¹¦åçœŸä¿—æ°”ï¼Œä½†å…¶å®æ˜¯æœ¬æŒºä¸é”™çš„ä¹¦ï¼‰&lt;/li&gt;
&lt;li&gt;PHPç²¾ç²¹-ç¼–å†™é«˜æ•ˆPHPä»£ç  ï¼ˆ3æ˜Ÿï¼Œä»”ç»†é˜…è¯»äº†å‰åŠéƒ¨åˆ†ï¼Œå¿«é€Ÿæµè§ˆäº†ååŠéƒ¨åˆ†ï¼‰&lt;/li&gt;
&lt;li&gt;MacTalk - äººç”Ÿå…ƒç¼–ç¨‹ (3æ˜Ÿï¼Œç”µå­ä¹¦ï¼Œå¤§è‡´è¿‡äº†ä¸€éï¼‰&lt;/li&gt;
&lt;li&gt;ç¼–å†™é«˜è´¨é‡ä»£ç ï¼šæ”¹è¿›Pythonç¨‹åºçš„91ä¸ªå»ºè®® ï¼ˆ4æ˜Ÿï¼Œéœ€å†è¯»ä¸€éï¼‰&lt;/li&gt;
&lt;li&gt;æ–‡æ˜ä¹‹å…‰ï¼ˆä¸¤å†Œï¼Œ5æ˜Ÿï¼Œæœ‰æ€åº¦çš„æµ“ç¼©çš„ä¸–ç•Œæ–‡æ˜å²ï¼‰&lt;/li&gt;
&lt;li&gt;äº†ä¸èµ·çš„Node.jsï¼ˆ2æ˜Ÿï¼Œæµè§ˆäº†ä¸€éï¼‰&lt;/li&gt;
&lt;li&gt;Pro Git ï¼ˆ4æ˜Ÿï¼ŒGitèµ„æ–™ä¸­çš„No.1ï¼‰&lt;/li&gt;
&lt;li&gt;æ¼”è®²ä¹‹ç¦…ï¼šä¸€ä½æŠ€æœ¯æ¼”è®²å®¶çš„è‡ªç™½ ï¼ˆ4æ˜Ÿï¼Œæ¯ä¸ªæŠ€æœ¯äººéƒ½åº”è¯¥å¤šæ¼”è®²ï¼Œæ‰€ä»¥æ¨èæ¯ä¸ªæŠ€æœ¯äººéƒ½è¯»ä¸€ä¸‹è¿™æœ¬ä¹¦ï¼‰&lt;/li&gt;
&lt;li&gt;é«˜æ€§èƒ½PHPåº”ç”¨å¼€å‘ ï¼ˆ3æ˜Ÿï¼‰&lt;/li&gt;
&lt;li&gt;ç¿»è¯‘æ¼«è°ˆï¼šæ€æ ·ç¿»è¯‘æ›´åœ°é“ ï¼ˆ4æ˜Ÿï¼Œæœªè¯»å®Œï¼‰&lt;/li&gt;
&lt;li&gt;æœ€ç’€ç’¨çš„é“¶æ²³ï¼šåˆ˜æ…ˆæ¬£ç»å…¸ä½œå“é›† ï¼ˆ4æ˜Ÿï¼Œè¯»å®Œä¸‰ä½“ï¼Œæ„çŠ¹æœªå°½ï¼Œæ•…æ‰¾æ¥å¤§åˆ˜çš„ä¸­çŸ­ç¯‡é›†è¯»è¯»ï¼‰&lt;/li&gt;
&lt;li&gt;æ•°æ®ä¹‹å·… ï¼ˆ5æ˜Ÿï¼Œæ•°æ®æ€ç»´ï¼Œæœ‰ç‚¹éœ‡æ’¼åˆ°æˆ‘ï¼Œæ¨èï¼Œéœ€å†è¯»ä¸€éï¼‰&lt;/li&gt;
&lt;li&gt;å¤§å‹ç½‘ç«™æŠ€æœ¯æ¶æ„:æ ¸å¿ƒåŸç†ä¸æ¡ˆä¾‹åˆ†æ (4æ˜Ÿï¼Œè™½ç„¶æ²¡ä»€ä¹ˆæ–°ä¸œè¥¿ï¼Œä½†ç³»ç»Ÿåœ°ç§‘æ™®äº†Webæ¶æ„æ–¹é¢çš„ä¸œè¥¿ï¼Œè¿˜æ˜¯å€¼å¾—ä¸€è¯»çš„)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»ä¹¦ç›®å¯ä»¥çœ‹å‡ºï¼ŒæŠ€æœ¯ç›¸å…³çš„è¿˜æ˜¯ç¼ºä¹æ·±åº¦å’Œä¸“æ³¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;2015 ...&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åšå¥½å·¥ä½œï¼Œå¤šæ€è€ƒï¼Œå¤šåšå®åœ¨çš„äº‹æƒ…&lt;/li&gt;
&lt;li&gt;ç»§ç»­æå¥½ä¼—æˆæŠ€æœ¯èšä¹éƒ¨&lt;/li&gt;
&lt;li&gt;åšæŒå†™åšå®¢ï¼Œå‘æ·±åº¦å‘å±•&lt;/li&gt;
&lt;li&gt;é€‰æ‹©ä¸€ä¸¤ä¸ªä¼˜ç§€å¼€æºé¡¹ç›®ï¼Œè¯»æºç ã€å†™åšå®¢ã€åšåˆ†äº«ï¼Œæ—¨åœ¨æé«˜ç³»ç»Ÿè®¾è®¡èƒ½åŠ›å’Œç¼–ç èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;è¯»æœ‰æƒ³æ³•ã€æœ‰æ·±åº¦çš„ä¹¦&lt;/li&gt;
&lt;li&gt;è€ƒé©¾ç…§ ï¼ˆåˆ«ç¬‘ï¼Œå“ˆå“ˆï¼‰&lt;/li&gt;
&lt;li&gt;ä»¥è®²å¸ˆçš„èº«ä»½å‚åŠ ä¸€æ¬¡æŠ€æœ¯ä¼šè®®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;ï¼ˆé¢ï¼Œâ€œè®¡åˆ’â€æœ¬ä¸è¯¥å¤šè¯´ï¼Œä½†è²Œä¼¼è¿˜æ˜¯è¯´å¤šäº†ç‚¹...ï¼‰&lt;/em&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æ€»ç»“"></category></entry><entry><title>Cordova/Phonegapåº”ç”¨æ„å»ºç¯å¢ƒæ­å»º</title><link href="http://youngsterxyf.github.io/2014/12/31/setup-cordova-env/" rel="alternate"></link><published>2014-12-31T00:00:00+08:00</published><updated>2014-12-31T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-12-31:/2014/12/31/setup-cordova-env/</id><summary type="html">&lt;p&gt;æ··åˆï¼ˆHybridï¼‰ç§»åŠ¨å¼€å‘å°†Webå¼€å‘ä¸åŸç”Ÿå¼€å‘ä¼˜åŠ¿äº’è¡¥ï¼Œä¹‹ååº”è¯¥æ˜¯ä¸€ä¸ªä¸é”™çš„æ–¹å‘ã€‚Phonegapæ˜¯æ··åˆç§»åŠ¨å¼€å‘çš„ä¸€ä¸ªæ–¹æ¡ˆï¼Œ
å¼€å‘è€…å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„WebæŠ€æœ¯è¿›è¡Œå¼€å‘ï¼Œç„¶åä½¿ç”¨Phonegapæ‰“åŒ…æˆåŸç”ŸAPPï¼Œä¹Ÿå¯ä»¥ä¸ºPhonegapå¼€å‘æ’ä»¶æ¥æ‰©å±•APPåŠŸèƒ½ã€‚
Cordovaæ˜¯Apacheçš„é¡¶çº§é¡¹ç›®ï¼Œèµ·äºAdobeè´¡çŒ®ç»™ApacheåŸºé‡‘ä¼šçš„Phonegapæºç ï¼Œä¹‹åPhonegapå®˜æ–¹è²Œä¼¼åˆ™ä¸“æ³¨äºæä¾›Phonegapåº”ç”¨çš„äº‘æ„å»ºæœåŠ¡ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;æ··åˆï¼ˆHybridï¼‰ç§»åŠ¨å¼€å‘å°†Webå¼€å‘ä¸åŸç”Ÿå¼€å‘ä¼˜åŠ¿äº’è¡¥ï¼Œä¹‹ååº”è¯¥æ˜¯ä¸€ä¸ªä¸é”™çš„æ–¹å‘ã€‚Phonegapæ˜¯æ··åˆç§»åŠ¨å¼€å‘çš„ä¸€ä¸ªæ–¹æ¡ˆï¼Œ
å¼€å‘è€…å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„WebæŠ€æœ¯è¿›è¡Œå¼€å‘ï¼Œç„¶åä½¿ç”¨Phonegapæ‰“åŒ…æˆåŸç”ŸAPPï¼Œä¹Ÿå¯ä»¥ä¸ºPhonegapå¼€å‘æ’ä»¶æ¥æ‰©å±•APPåŠŸèƒ½ã€‚
Cordovaæ˜¯Apacheçš„é¡¶çº§é¡¹ç›®ï¼Œèµ·äºAdobeè´¡çŒ®ç»™ApacheåŸºé‡‘ä¼šçš„Phonegapæºç ï¼Œä¹‹åPhonegapå®˜æ–¹è²Œä¼¼åˆ™ä¸“æ³¨äºæä¾›Phonegapåº”ç”¨çš„äº‘æ„å»ºæœåŠ¡ã€‚
Phonegapå®˜ç½‘æä¾›çš„æ–‡æ¡£ä¸Apache Cordovaæ–‡æ¡£æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥ä»æŠ€æœ¯ä¸Šå¯ä»¥å°†Phonegapä¸Cordovaè§†ä¸ºåŒä¸€ä¸ªä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶Phonegapå®˜æ–¹æä¾›å…è´¹çš„å¼€æ”¾ï¼ˆpublicï¼‰åº”ç”¨ä»¥åŠä¸€ä¸ªç§æœ‰åº”ç”¨æ„å»ºæœåŠ¡ã€‚ä½†å¯¹äºåº”ç”¨è°ƒè¯•æˆ–æ’ä»¶å¼€å‘æ¥è¯´ï¼Œ
ä½¿ç”¨äº‘æ„å»ºæœåŠ¡ä¸Šä¼ æºç ä¸‹è½½APPè¿˜æ˜¯æŒºè€—æ—¶é—´çš„ï¼Œä¸å¤ªæ–¹ä¾¿ï¼Œæ‰€ä»¥æ­å»ºæœ¬åœ°çš„åº”ç”¨æ„å»ºç¯å¢ƒæ˜¯å¿…è¦çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¾æ®Cordovaæ–‡æ¡£çš„&lt;a href="http://cordova.apache.org/docs/en/4.0.0/guide_cli_index.md.html#The%20Command-Line%20Interface"&gt;The Command-Line Interface&lt;/a&gt;
éƒ¨åˆ†ï¼Œé’ˆå¯¹Androidåº”ç”¨ï¼Œåœ¨Ubuntuä¸Šæ­å»ºCordovaåº”ç”¨æ„å»ºç¯å¢ƒçš„æ­¥éª¤å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;h4&gt;1. å®‰è£…Node.jså’Œgitå®¢æˆ·ç«¯&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä»&lt;a href="http://nodejs.org/download/"&gt;NodeJSå®˜ç½‘&lt;/a&gt;ä¸‹è½½LinuxäºŒè¿›åˆ¶å‹ç¼©åŒ…ï¼Œè§£å‹ç¼©åå°†binè·¯å¾„åŠ å…¥PATHç¯å¢ƒå˜é‡ï¼Œå³å¯ä»å‘½ä»¤è¡Œæ‰§è¡Œnodeã€npmå‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sudo apt-get install git&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;2. å®‰è£…Cordovaï¼š&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo npm install -g cordova&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;3. ä¸‹è½½JDKï¼š&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sudo apt-get install default-jdk default-jre&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;4. å®‰è£…Android SDKï¼š&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä»Androidå®˜ç½‘çš„&lt;a href="http://developer.android.com/sdk/installing/index.html"&gt;è¿™é‡Œ&lt;/a&gt;ä¸‹è½½Android Studioæˆ–ç‹¬ç«‹çš„SDKå·¥å…·&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä¸‹è½½Android Studioï¼Œè§£å‹ç¼©åæ‰§è¡Œ&lt;code&gt;bin/android.sh&lt;/code&gt;ï¼ŒAndroid Studioå¯åŠ¨æ—¶éœ€è¦ä»Googleçš„æœåŠ¡å™¨ä¸Šè·å–ä¸€äº›SDKç›¸å…³çš„æ–‡ä»¶ï¼Œ
ç”±äºGFWçš„åŸå› ï¼Œæ— æ³•æˆåŠŸè·å–ï¼Œä¹Ÿå°±æ— æ³•é¡ºåˆ©å¯åŠ¨ã€‚Android Studioç½‘ç»œä»£ç†è®¾ç½®çš„æ–¹æ³•ï¼ˆå‚è€ƒ&lt;a href="http://stackoverflow.com/questions/27683678/android-studio-component-installation-not-working-in-proxy-security-server?lq=1"&gt;è¿™é‡Œ&lt;/a&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨Android Studioé¦–æ¬¡å¯åŠ¨åï¼Œå¯ä»¥åœ¨HOMEç›®å½•ä¸‹æ‰¾åˆ°æ–‡ä»¶&lt;code&gt;~/.AndroidStudio/config/options/other.xml&lt;/code&gt;ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æ‰¾åˆ°å¦‚ä¸‹å‡ è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;option name=&amp;quot;PROXY_TYPE_IS_SOCKS&amp;quot; value=&amp;quot;false&amp;quot; /&amp;gt;
&amp;lt;option name=&amp;quot;USE_HTTP_PROXY&amp;quot; value=&amp;quot;false&amp;quot; /&amp;gt;
&amp;lt;option name=&amp;quot;USE_PROXY_PAC&amp;quot; value=&amp;quot;false&amp;quot; /&amp;gt;
&amp;lt;option name=&amp;quot;PROXY_HOST&amp;quot; value=&amp;quot;&amp;quot; /&amp;gt;
&amp;lt;option name=&amp;quot;PROXY_PORT&amp;quot; value=&amp;quot;80&amp;quot; /&amp;gt;
&amp;lt;option name=&amp;quot;PROXY_AUTHENTICATION&amp;quot; value=&amp;quot;false&amp;quot; /&amp;gt;
&amp;lt;option name=&amp;quot;PROXY_LOGIN&amp;quot; value=&amp;quot;&amp;quot; /&amp;gt;
&amp;lt;option name=&amp;quot;PROXY_PASSWORD_CRYPT&amp;quot; value=&amp;quot;&amp;quot; /&amp;gt;
&amp;lt;option name=&amp;quot;KEEP_PROXY_PASSWORD&amp;quot; value=&amp;quot;false&amp;quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœä½¿ç”¨HTTPåè®®çš„ä»£ç†ï¼Œåˆ™å°†â€œUSE_HTTP_PROXYâ€ä¸€é¡¹çš„valueæ”¹ä¸ºâ€œtrueâ€ï¼Œâ€œPROXY_HOSTâ€ã€â€œPROXY_PORTâ€çš„valueåˆ†åˆ«è®¾ç½®ä¸ºä»£ç†çš„åŸŸåå’Œç«¯å£ï¼Œ
å¦‚æœä»£ç†éœ€è¦èº«ä»½è®¤è¯ï¼Œåˆ™å°†â€œPROXY_AUTHENTICATIONâ€çš„valueæ”¹ä¸ºâ€œtrueâ€ï¼Œå¹¶è®¾ç½®â€œPROXY_LOGINâ€ã€â€œPROXY_PASSWORD_CRYPTâ€ä¸¤é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;é‡å¯Android Studioå³å¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¦‚æœä¸‹è½½ç‹¬ç«‹çš„SDKå·¥å…·ï¼Œå‡è®¾è§£å‹ç¼©åçš„è·¯å¾„ä¸º&lt;code&gt;~/Android&lt;/code&gt;ï¼Œåˆ™æ·»åŠ ç¯å¢ƒå˜é‡&lt;code&gt;ANDROID_HOME=~/Android&lt;/code&gt;ï¼Œå¹¶å°†å­ç›®å½•toolsåŠ å…¥PATHç¯å¢ƒå˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œå‘½ä»¤ &lt;code&gt;android&lt;/code&gt; æ‰“å¼€Android SDKç®¡ç†å™¨ï¼Œä¸Android Studioä¸€æ ·ï¼Œä¹Ÿéœ€è¦è®¾ç½®ç½‘ç»œä»£ç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰“å¼€èœå•é¡¹â€œTools -&amp;gt; Optionsâ€ï¼Œå¡«å…¥â€œHTTP Proxy Serverâ€ã€â€œHTTP Proxy Portâ€ä¸¤é¡¹çš„å€¼ï¼Œé‡æ–°å¯åŠ¨Android SDKç®¡ç†å™¨å³å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;ç”±äºå½“å‰Cordoraæ„å»ºAndroidåº”ç”¨ä¾èµ–äºAndroid API 19ï¼Œå³Android 4.4.2ï¼Œæ‰€ä»¥éœ€è¦åœ¨â€œAndroid Studioâ€æˆ–â€œAndroid SDKç®¡ç†å™¨â€
ä¸‹è½½â€œAndroid API 19â€ç›¸å…³çš„ä¾èµ–åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æ³¨ï¼šä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ï¼Œè¯·è€å¿ƒç­‰å¾…...&lt;/em&gt;&lt;/p&gt;
&lt;h4&gt;5. å®‰è£…ant&lt;/h4&gt;
&lt;p&gt;å½“å‰Cordoraæ„å»ºAndroidåº”ç”¨ä¹Ÿä¾èµ–äºantã€‚ä»&lt;a href="https://www.apache.org/dist/ant/binaries/"&gt;Apache Ant&lt;/a&gt;å®˜ç½‘ä¸‹è½½äºŒè¿›åˆ¶åŒ…ï¼Œ
è§£å‹ç¼©åï¼Œå°†å­ç›®å½•binåŠ å…¥PATHç¯å¢ƒå˜é‡ã€‚&lt;/p&gt;
&lt;h4&gt;6. æµ‹è¯•&lt;/h4&gt;
&lt;p&gt;ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cordova create hello com.example.hello HelloWorld&lt;/code&gt;ï¼Œè¯¥å‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºhelloå­ç›®å½•ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd hello&lt;/code&gt;ï¼Œè¿›å…¥è¯¥ç¤ºä¾‹å·¥ç¨‹ç›®å½•ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cordova platform add android&lt;/code&gt;ï¼Œä¸ºè¯¥å·¥ç¨‹æ·»åŠ Androidå¹³å°æ”¯æŒï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cordova build android&lt;/code&gt;ï¼Œå°†è¯¥å·¥ç¨‹æ„å»ºæˆåŸç”ŸAndroidåº”ç”¨ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cordova emulate android&lt;/code&gt;ï¼Œæ‰“å¼€Androidæ¨¡æ‹Ÿå™¨è¿è¡Œç¤ºä¾‹åº”ç”¨ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¨¡æ‹Ÿå™¨å¯åŠ¨åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="cordova_demo" src="https://i.loli.net/2020/06/14/kDfRcbjigUHvQZY.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æœ€ç»ˆç”Ÿæˆçš„apkæ–‡ä»¶åœ¨&lt;code&gt;hello/platforms/android/ant-build/&lt;/code&gt;è·¯å¾„ä¸‹ï¼Œé»˜è®¤åä¸ºâ€œCordovaApp-debug.apkâ€ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºCordoraé¡¹ç›®æ¥è¯´ï¼Œæºç ç›®å½•å³é¡¹ç›®çš„wwwå­ç›®å½•ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="Cordova"></category><category term="Phonegap"></category></entry><entry><title>è¯»ä¹¦ç¬”è®°ï¼šæ¼”è®²ä¹‹ç¦…-ä¸€ä¸ªæŠ€æœ¯æ¼”è®²å®¶çš„è‡ªç™½</title><link href="http://youngsterxyf.github.io/2014/12/15/read-confessions-of-a-public-speaker/" rel="alternate"></link><published>2014-12-15T00:00:00+08:00</published><updated>2014-12-15T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-12-15:/2014/12/15/read-confessions-of-a-public-speaker/</id><summary type="html">&lt;p&gt;å¤§å¤§å°å°çš„æŠ€æœ¯ä¼šè®®å‚åŠ è¿‡ä¸å°‘ï¼Œå…³äºæ¼”è®²ï¼Œä»ä¸€ä¸ªå¬ä¼—çš„è§’åº¦ä¹Ÿæœ‰ä¸€äº›å¿ƒå¾—ï¼›éšç€æŠ€æœ¯ç§¯ç´¯èƒ½åŠ›æå‡ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿåœ¨ä¸€äº› â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å¤§å¤§å°å°çš„æŠ€æœ¯ä¼šè®®å‚åŠ è¿‡ä¸å°‘ï¼Œå…³äºæ¼”è®²ï¼Œä»ä¸€ä¸ªå¬ä¼—çš„è§’åº¦ä¹Ÿæœ‰ä¸€äº›å¿ƒå¾—ï¼›éšç€æŠ€æœ¯ç§¯ç´¯èƒ½åŠ›æå‡ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿåœ¨ä¸€äº›æ­£å¼åœºåˆåšæŠ€æœ¯æ¼”è®²ã€‚å¹´è½»çš„æŠ€æœ¯äººåº”è¯¥å­¦ä¼šç»è¥è‡ªå·±ï¼Œshowå‡ºä½ è‡ªå·±ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å¹¶ä¸æ˜¯ä¸€ä¸ªæ“…é•¿è¡¨è¾¾çš„äººï¼Œè™½ç„¶ç§åº•ä¸‹åœ¨æœ‹å‹æŠ€æœ¯åœˆå†…åšè¿‡ä¸€äº›æŠ€æœ¯åˆ†äº«ï¼Œä½†å¯¹äºæ­£å¼åœºåˆçš„æŠ€æœ¯æ¼”è®²å´æ²¡ä»€ä¹ˆç»éªŒã€‚&lt;/p&gt;
&lt;p&gt;æ¼”è®²æ˜¯ä¸ªç»éªŒæ´»ï¼Œä½†æ€»å½’æœ‰ä¸€äº›å¯äº‹å…ˆå‡†å¤‡ã€èƒ½å¤Ÿæé«˜æˆåŠŸæ¦‚ç‡çš„æ–¹æ³•å’Œæ³¨æ„äº‹é¡¹å§ï¼Ÿæ‰€ä»¥æ‰¾æ¥ã€Šæ¼”è®²ä¹‹ç¦…-ä¸€ä¸ªæŠ€æœ¯æ¼”è®²å®¶çš„è‡ªç™½ã€‹ä¸€ä¹¦ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½ä»åˆ«äººçš„ç»éªŒä¸­å­¦åˆ°ç‚¹ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ¯‹åº¸ç½®ç–‘ï¼Œè¿™æœ¬ä¹¦éå¸¸å®åœ¨ï¼Œå€¼å¾—ä¸€è¯»ã€‚æ ¹æ®è¯¥ä¹¦å†…å®¹ä»¥åŠè‡ªå·±çš„ä¸€äº›æƒ³æ³•ï¼ŒæŒ‰ç…§æ—¶é—´é¡ºåºæ•´ç†å‡ºæŠ€æœ¯æ¼”è®²ç›¸å…³çš„æ³¨æ„äº‹é¡¹ï¼š&lt;/p&gt;
&lt;h4&gt;æ¼”è®²å‰&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸ªæˆåŠŸçš„æ¼”è®²æ¯«æ— ç–‘é—®æ˜¯éœ€è¦æå‰å‡†å¤‡çš„ï¼Œè¿™é‡Œçš„â€œå‡†å¤‡â€ä¸ä»…ä»…æ˜¯å‡†å¤‡å¹»ç¯ç‰‡è¿™ä¹ˆç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œä½ éœ€è¦ææ¸…æ¥š-ä¸¾åŠæ–¹å¯¹ä¼šè®®æˆ–è€…æ´»åŠ¨çš„å®šä½ï¼Œä¸å®šä½ç›´æ¥ç›¸å…³çš„å³æ˜¯å¬ä¼—-æ˜¯å“ªäº›äººï¼Œä»–ä»¬æƒ³çŸ¥é“ä»€ä¹ˆï¼Œéœ€è¦å¬åˆ°ä»€ä¹ˆï¼Œæ ¹æ®è¿™ä¸ªå®šä½æ¥é€‰æ‹©ä¸»é¢˜ï¼›
ä¸ä¸»é¢˜ç›¸å…³çš„æ˜¯ä½ éœ€è¦è€ƒè™‘è‡ªèº«æ˜¯å¦æœ‰èƒ½åŠ›é©¾é©­è¿™ä¸ªä¸»é¢˜-å¾…åˆ†äº«çš„æŠ€æœ¯ä½ æ˜¯å¦çœŸçš„æ‡‚ï¼Ÿè¿™æ–¹é¢ç»éªŒæ˜¯å¦è¶³å¤Ÿï¼Ÿä¸è¦è¯•å›¾åˆ†äº«é‚£äº›è‡ªå·±è¿˜ä¸€çŸ¥åŠè§£çš„æŠ€æœ¯ç‚¹ï¼Œå¦åˆ™å°±æ³¨å®šæ˜¯åœ¨ç»™è‡ªå·±æŒ–å‘ï¼&lt;/p&gt;
&lt;p&gt;ä»å¬ä¼—æƒ…å†µå’Œè‡ªèº«æƒ…å†µä¸¤æ–¹é¢æ¥é€‰æ‹©ä¸»é¢˜ï¼Œå¦å¤–è¿˜å¾—æ ¹æ®æ¼”è®²çš„æ—¶é—´æ¥è°ƒæ•´ä¸»é¢˜çš„èŒƒå›´å¤§å°ã€‚ä»å°è€å¸ˆå°±å‘Šè¯‰æˆ‘ä»¬ä½œæ–‡é¢˜ç›®å¾—å°è€Œå…·ä½“ï¼Œç«‹æ„è¦æ–°ã€‚ä¸ªäººè®¤ä¸ºå¯¹äºæ¼”è®²çš„é¢˜ç›®ä¹Ÿåº”å¦‚æ­¤ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç¡®å®šæ¼”è®²çš„å…·ä½“é¢˜ç›®åï¼Œä¸ªäººå»ºè®®å¯ä»¥å…ˆç¯‡æ–‡ç« ï¼Œåœ¨æ–‡ç« ä¸­å°†æ¼”è®²é¢˜ç›®ç›¸å…³çš„é—®é¢˜ç»†èŠ‚éƒ½ææ¸…æ¥šè®²æ¸…æ¥šï¼Œç„¶åæ ¹æ®æ–‡ç« å†…å®¹ç¡®å®šè¦åˆ†äº«å†…å®¹ä¸­å“ªäº›æ–¹é¢ï¼ˆé€šå¸¸ç”±äºæ—¶é—´é™åˆ¶å¾ˆéš¾é¢é¢ä¿±åˆ°ï¼Œæ‰€ä»¥è¦æœ‰æ‰€é€‰æ‹©ï¼‰ï¼Œ
å®šä¸‹æ¼”è®²çš„æçº²ï¼Œå³æ˜ç¡®äº†æ¼”è®²çš„æ•´ä¸ªå¤§è‡´çš„æ€è·¯ï¼Œè¿™ä¸ªâ€œæ€è·¯â€å†³å®šäº†å¬ä¼—æ˜¯å¦å®¹æ˜“ç†è§£ä½ æ¼”è®²çš„å†…å®¹ã€åœ¨æ¼”è®²è¿‡ç¨‹ä¸­æ˜¯å¦èƒ½å¤Ÿä¸€æ°”å‘µæˆé¡ºç•…å‘æŒ¥ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥åˆ¶ä½œå¹»ç¯ç‰‡äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå¹»ç¯ç‰‡ï¼Œåº”è¯¥æ¯é¡µéƒ½è¨€ç®€æ„èµ…ï¼Œç”ŸåŠ¨å¤šå›¾ã€‚åœ¨å‡ºç°ä¸€ä¸ªæ–°çš„éƒ¨åˆ†å‰æœ€å¥½å†å‡ºç°ä¸€ä¸‹å¤§çº²ï¼Œå‘å¬ä¼—æ˜ç¡®â€œç°åœ¨è®²åˆ°å“ªäº†â€ã€â€œæ¥ä¸‹æ¥è¦è®²çš„å†…å®¹å¤„äºæ•´ä¸ªæ¼”è®²çš„å“ªä¸ªä½ç½®â€ï¼Œé¿å…å¬ä¼—è¿·å¤±ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¦æƒ³ç€æŠŠå¹»ç¯ç‰‡ä¸€æ¬¡æ€§å®Œç¾åœ°åšå®Œï¼Œå’Œæ–‡ç« ã€ä»£ç ä¸€æ ·ï¼Œä¼˜ç§€çš„å¹»ç¯ç‰‡éƒ½æ˜¯ä¿®æ”¹å‡ºæ¥çš„ã€‚åœ¨åšå®Œå¹»ç¯ç‰‡çš„åˆç¨¿åï¼Œå°±å¯ä»¥å¼€å§‹æ¼”ç»ƒ - æƒ³è±¡ç€ç«™åœ¨æ¼”è®²å°ä¸Šçš„åœºæ™¯ï¼Œåœ¨å¿ƒé‡Œå¯¹ç€å¹»ç¯ç‰‡è¿›è¡Œè¡¨è¿°ï¼Œ
å½“ç„¶å¦‚æœæœ‰äººæ„¿æ„åšå¬ä¼—é™ªä½ æ¼”ç»ƒé‚£æ˜¯å†å¥½ä¸è¿‡äº†ã€‚æ¼”ç»ƒè¿‡ç¨‹ä¸­è¦æ³¨æ„ï¼šæ¯é¡µå¹»ç¯ç‰‡çš„ä½ç½®æ˜¯å¦åˆé€‚ï¼Ÿå…¶ä¸Šçš„å†…å®¹æ˜¯å¦æ°åˆ°å¥½å¤„ï¼Ÿæ˜¯å¦æœ‰åŠ©äºè‡ªç„¶åœ°è¡¨è¿°ï¼Ÿå¦‚ä½•ç´§å‡‘è‡ªç„¶åœ°è¿›è¡Œå¹»ç¯ç‰‡ä¹‹é—´çš„è¡”æ¥ï¼Ÿ
è¿™ä¸ªè¿‡ç¨‹é€šå¸¸ä¼´éšç€å¯¹å¹»ç¯ç‰‡çš„ä¸æ–­ä¿®æ”¹ï¼ˆé€šå¸¸åˆ é™¤çš„å¤šå¢åŠ çš„å°‘ï¼‰ï¼Œæ¼”ç»ƒçš„æœ€ç»ˆæ•ˆæœåº”è¾¾åˆ°ä¸çœ‹å¹»ç¯ç‰‡ä¹Ÿèƒ½æ¸…æ¥šæ¼”è®²å¤§çº²ï¼Œçœ‹åˆ°ä¸€é¡µå¹»ç¯ç‰‡å°±èƒ½çŸ¥é“ä¸‹ä¸€é¡µå¹»ç¯ç‰‡çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æåˆ°å†…å®¹çš„å‡†å¤‡è¦æ³¨æ„æ¼”è®²çš„æ—¶é—´é™åˆ¶ï¼Œç»ƒä¹ è¿‡ç¨‹è¦ç¡®ä¿æœ€ç»ˆæ¼”è®²æ‰€éœ€æ—¶é—´ä¸è¶…è¿‡é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†å†…å®¹ç›¸å…³çš„å‡†å¤‡ï¼Œæ³¨æ„å¹»ç¯ç‰‡æœ€å¥½ä¿å­˜ä¸‰ä»½ï¼šç½‘ç»œå­˜å‚¨ä¸€ä»½ã€Uç›˜ä¸€ä»½ã€ç¬”è®°æœ¬ç”µè„‘ä¸­ä¸€ä»½ - å¸¦ä¸Šè‡ªå·±çš„ç¬”è®°æœ¬ç”µè„‘å»æ¼”è®²ç°åœºï¼Œå¦å¤–æœ€å¥½è¿˜æ‰“å°ä¸€ä»½çº¸è´¨ç‰ˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;åº”ä¿è¯æå‰åˆ°åœº - ç†Ÿæ‚‰ç¯å¢ƒåŠåšå¥½å¿ƒç†å‡†å¤‡ï¼Œè¿˜å¯ä»¥çœ‹çœ‹å‰é¢çš„æ¼”è®²è€…çš„æ¼”è®²è¿‡ç¨‹ã€‚å¦‚æœåˆ°æ¼”è®²åœºåœ°çš„è·¯ç¨‹è¾ƒè¿œï¼Œåˆ™åº”è¯¥æŠŠå¯èƒ½çš„å µè½¦è€ƒè™‘åœ¨å†…ã€‚&lt;/p&gt;
&lt;h4&gt;æ¼”è®²æ—¶&lt;/h4&gt;
&lt;p&gt;æ¼”è®²æ—¶å¦‚æœå¬ä¼—äººæ•°ä¸å¤šï¼Œæˆ–åœºåœ°å¾ˆå¤§è€Œå¬ä¼—åå¾—æ¯”è¾ƒç¨€ç–ï¼Œåˆ™å¯ä»¥é¼“åŠ±å¬ä¼—é›†ä¸­ååˆ°å‰æ’æ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœé¢„å…ˆä¸æ¸…æ¥šå¬ä¼—çš„èƒŒæ™¯ï¼Œé‚£ä¹ˆå¯ä»¥å…ˆåšä¸ªå°çš„è°ƒæŸ¥ç¡®å®šä¸€ä¸‹æ¼”è®²çš„èŠ‚å¥ã€å†…å®¹ä¸Šçš„å–èˆç­‰å†å¼€å§‹æ¼”è®²ã€‚&lt;/p&gt;
&lt;p&gt;æ¼”è®²å¼€å§‹æ—¶ç®€å•è‡ªæˆ‘ä»‹ç»ä¸€ä¸‹ï¼Œç„¶åè®¾å®šä¸€ä¸‹æ¼”è®²çš„æ­¥è°ƒï¼šå†…å®¹å¤§è‡´æœ‰å“ªäº›ï¼Œæ‰€èŠ±æ—¶é—´ä¸ºå¤šå°‘ï¼ˆå½“ç„¶å¯èƒ½å¬ä¼—é€šè¿‡ä¼šè®®æ—¥ç¨‹å·²ç»è·çŸ¥ï¼‰ï¼Œå¦‚æœå¯ä»¥æœ€å¥½ä»¥ä¸€ä¸ªç¬‘è¯æˆ–æ•…äº‹å¼€åœºæ¿€æ´»ä¸€ä¸‹ç°åœºæ°›å›´ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„æ­£å¯¹å¬ä¼—ï¼Œæ³¨æ„çœ¼ç¥äº¤æµï¼Œå¦è¯šã€è‡ªç„¶è€Œæœ‰æ¿€æƒ…ï¼Œå¦‚æœéœ€è¦æŒ‰ç…§ç°åœºæƒ…å†µä¸å¬ä¼—è¿›è¡Œä¸€äº›å°çš„äº’åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå¯ä»¥ï¼Œåœ¨æ¼”è®²çš„å¼€å§‹æˆ–ç»“æŸå‘ŠçŸ¥å¬ä¼—çš„Emailã€ç¤¾äº¤ç½‘ç»œIDï¼ˆå†™åœ¨å¹»ç¯ç‰‡ä¸Šï¼‰ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥çš„äº¤æµæˆ–è·å–ç”¨æˆ·åé¦ˆã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„æ¼”è®²æ—¶è¡¨è¾¾ä¸Šçš„é‡è¯»æˆ–è€…è¯´å£°è°ƒä¸Šæœ€å¥½æŠ‘æ‰¬é¡¿æŒ«ï¼Œä»¥ä¾¿å¬ä¼—æ›´å¥½åœ°æŠŠæ¡é‡ç‚¹ï¼Œä¹Ÿæ›´å®¹æ˜“å¸å¼•å¬ä¼—çš„æ³¨æ„åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;é€‚å½“åœ°ä½¿ç”¨åœé¡¿ - å‡èšå¬ä¼—æ³¨æ„åŠ›ã€ç»™å¬ä¼—ç•™ä¸‹æ€è€ƒå’Œæ€»ç»“çš„ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;æ¼”è®²æ—¶å³ä½¿å‘ç”Ÿä¸€äº›æ„å¤–æƒ…å†µï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Œè°¨è®°ï¼šå¦è¯šã€è‡ªç„¶/æ·¡å®šã€ä¸å‘ä¸äº¢ã€‚&lt;/p&gt;
&lt;h4&gt;æ¼”è®²å&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†æå‡è‡ªèº«çš„æ¼”è®²æ°´å¹³ï¼Œæ¼”è®²åå¯ä»¥å’Œå¬ä¼—äº¤æµä¸€ä¸‹ï¼Œè¯·ä»–ä»¬æææ„è§ã€‚å¦‚æœæœ‰æœ‹å‹ä¹Ÿåœ¨ç°åœºï¼Œé‚£å°±æœ€å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ¼”è®²æœ‰è§†é¢‘è®°å½•ï¼Œåˆ™ä¹Ÿå¯ä»¥è‡ªå·±è§‚çœ‹ä¸€ä¸‹ï¼Œæ‰¾ä¸€ä¸‹é—®é¢˜ï¼ŒæŸ¥ä¸€ä¸‹åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨ç¤¾äº¤ç½‘ç»œä¸Šé¼“åŠ±å¤§å®¶ææ„è§ï¼ˆå¤šåŠæ¼”è®²ä¹‹åä¼šæœ‰å¾ˆå¤šäººåœ¨ç¤¾äº¤ç½‘ç»œå…³æ³¨ä½ ï¼‰ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç»†èŠ‚å†³å®šæˆè´¥ï¼æ›´å¤šæ¼”è®²ç›¸å…³çš„ç»†èŠ‚é—®é¢˜æ¨èé˜…è¯»ã€Šæ¼”è®²ä¹‹ç¦…-ä¸€ä¸ªæŠ€æœ¯æ¼”è®²å®¶çš„è‡ªç™½ã€‹ã€‚é™„ä¸Šè¯¥ä¹¦çš„æ€ç»´å¯¼å›¾ç¬”è®°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="read-confessions-of-a-public-speaker" src="/assets/uploads/pics/read-confessions-of-a-public-speaker.png"&gt;&lt;/p&gt;
&lt;p&gt;é«˜æ¸…æ— ç å¤§å›¾ï¼š&lt;a href="https://raw.githubusercontent.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/read-confessions-of-a-public-speaker.png"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="æ¼”è®²"></category></entry><entry><title>è¯»ä¹¦ç¬”è®°ï¼šé«˜æ€§èƒ½PHPåº”ç”¨å¼€å‘</title><link href="http://youngsterxyf.github.io/2014/12/08/read-high-performance-php-application/" rel="alternate"></link><published>2014-12-08T00:00:00+08:00</published><updated>2014-12-08T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-12-08:/2014/12/08/read-high-performance-php-application/</id><content type="html">&lt;p&gt;æ³¨ï¼š&lt;em&gt;è¯¥ä¹¦çš„éƒ¨åˆ†å†…å®¹è¿‡æ—¶äº†ç‚¹ - æ¯”å¦‚Opcodeç¼“å­˜ï¼šPHP 5.5ä¹‹åå†…ç½®ä¸€ä¸ªç”¨äºç¼“å­˜Opcodeçš„ç»„ä»¶Opcacheï¼Œæ— éœ€é¢å¤–ä½¿ç”¨APCç»„ä»¶ã€‚æ‰€ä»¥éœ€è¦â€œæ‰¹åˆ¤â€åœ°é˜…è¯»ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="mindmap-high-performance-php-application" src="/assets/uploads/pics/High-performance-php-app.png"&gt;&lt;/p&gt;
&lt;p&gt;é«˜æ¸…æ— ç å¤§å›¾ï¼š&lt;a href="https://raw.githubusercontent.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/High-performance-php-app.png"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="ç¬”è®°"></category></entry><entry><title>Yiiæºç é˜…è¯»ç¬”è®° - åº”ç”¨æ¨¡å—åŒ–</title><link href="http://youngsterxyf.github.io/2014/11/20/read-yii-code-7/" rel="alternate"></link><published>2014-11-20T00:00:00+08:00</published><updated>2014-11-20T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-11-20:/2014/11/20/read-yii-code-7/</id><summary type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;Yiiæ¡†æ¶æœ‰ä¸ªâ€œæ¨¡å—ï¼ˆModuleï¼‰â€çš„æ¦‚å¿µï¼Œä¸â€œåº”ç”¨ï¼ˆApplicationï¼‰â€ç±»ä¼¼ï¼Œæ¨¡å—å¿…é¡»å½’å±äºä¸€ä¸ªçˆ¶æ¨¡å—æˆ–è€…ä¸€ä¸ªåº”ç”¨ï¼Œæ¨¡å—ä¸èƒ½å•ç‹¬éƒ¨ç½²ï¼Œä¸€ä¸ªåº”ç”¨ä¸ä¸€å®šè¦åˆ† â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;Yiiæ¡†æ¶æœ‰ä¸ªâ€œæ¨¡å—ï¼ˆModuleï¼‰â€çš„æ¦‚å¿µï¼Œä¸â€œåº”ç”¨ï¼ˆApplicationï¼‰â€ç±»ä¼¼ï¼Œæ¨¡å—å¿…é¡»å½’å±äºä¸€ä¸ªçˆ¶æ¨¡å—æˆ–è€…ä¸€ä¸ªåº”ç”¨ï¼Œæ¨¡å—ä¸èƒ½å•ç‹¬éƒ¨ç½²ï¼Œä¸€ä¸ªåº”ç”¨ä¸ä¸€å®šè¦åˆ†æ¨¡å—ã€‚&lt;/p&gt;
&lt;p&gt;ç”±æ­¤å¯ä»¥çœ‹åˆ°ï¼ŒYiiçš„â€œæ¨¡å—â€å’Œâ€œåº”ç”¨â€ç±»ä¼¼äºDjangoæ¡†æ¶ä¸­çš„â€œåº”ç”¨ï¼ˆAppï¼‰â€å’Œâ€œé¡¹ç›®ï¼ˆProjectï¼‰â€ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªåº”ç”¨çš„è§„æ¨¡å¤§åˆ°ä¸€å®šçš„ç¨‹åº¦ - å¯èƒ½æ¶‰åŠå¤šä¸ªå›¢é˜Ÿæ¥å¼€å‘ï¼Œå°±åº”è¯¥è€ƒè™‘åˆ†â€œæ¨¡å—â€å¼€å‘ã€‚â€œæ¨¡å—â€é€šå¸¸å¯¹åº”åº”ç”¨çš„ä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæ¨¡å—åŒ–çš„Yiiæ¡†æ¶åº”ç”¨çš„å·¥ç¨‹ç›®å½•ç»“æ„å¤§è‡´ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="Yii-WebApp-Modules" src="/assets/uploads/pics/yii-webapp-modules.png"&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾æ‰€ç¤ºé¡¹ç›®æœ‰ä¸€ä¸ªåä¸ºâ€œforumâ€çš„æ¨¡å—ï¼Œè¯¥æ¨¡å—ä¸‹ä¹Ÿæœ‰è‡ªå·±çš„&lt;code&gt;components&lt;/code&gt;ã€&lt;code&gt;controllers&lt;/code&gt;ã€&lt;code&gt;models&lt;/code&gt;ã€&lt;code&gt;views&lt;/code&gt;ã€&lt;code&gt;extensions&lt;/code&gt;ç›®å½•ï¼Œä¸ä¸€ä¸ªæ™®é€šçš„/ä¸åˆ†æ¨¡å—çš„Yiiæ¡†æ¶Webåº”ç”¨çš„é¡¹ç›®ç»“æ„éå¸¸ç›¸ä¼¼ã€‚&lt;/p&gt;
&lt;p&gt;Yiiæ¡†æ¶æ¨¡å—åŒ–åº”ç”¨çš„æ‰€æœ‰æ¨¡å—é»˜è®¤éƒ½æ˜¯æ”¾åœ¨&lt;code&gt;protected/modules&lt;/code&gt;ç›®å½•ä¸‹ï¼Œæ¯ä¸ªæ¨¡å—çš„å†…å®¹åˆå„è‡ªæ”¾åœ¨ä»¥æ¨¡å—IDï¼ˆå¦‚&lt;code&gt;forum&lt;/code&gt;ï¼‰ä¸ºåç§°çš„å­ç›®å½•ä¸‹ï¼Œå¹¶ä¸”åœ¨æ¨¡å—å­ç›®å½•ä¸‹è¦æœ‰ä¸€ä¸ªæ¨¡å—ç±»æ–‡ä»¶ï¼Œå¦‚&lt;code&gt;ForumModule.php&lt;/code&gt;ï¼Œè¯¥ç±»æ–‡ä»¶çš„å‘½åè§„èŒƒæ˜¯ï¼šæ¨¡å—IDé¦–å­—æ¯å¤§å†™ï¼Œç„¶åæ‹¼æ¥ä¸Šå­—ç¬¦ä¸²Moduleã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡å—åŒ–çš„åº”ç”¨éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®&lt;code&gt;modules&lt;/code&gt;ä¸€é¡¹ - æŒ‡å®šæ¨¡å—åˆ—è¡¨ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;#39;modules&amp;#39; =&amp;gt; array(
    &amp;#39;forum&amp;#39; =&amp;gt; array(
        ...
    ),
    &amp;#39;anotherModule&amp;#39;,
    ...
),
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ¯ä¸ªæ¨¡å—çš„é…ç½®ï¼Œå¯ä»¥åªæŒ‡å®šæ¨¡å—IDï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ•°ç»„æ¥æŒ‡å®šé¢å¤–çš„ä¿¡æ¯ï¼Œå¦‚æ¨¡å—ç±»ã€ç±»å®ä¾‹åŒ–å‚æ•°ã€paramsã€componentsï¼Œä»¥åŠå­æ¨¡å—ç­‰ç­‰ã€‚Yiiä¸­æ¨¡å—æ˜¯å¯ä»¥åµŒå¥—çš„ï¼Œå¹¶ä¸”åµŒå¥—æ·±åº¦æ²¡æœ‰é™åˆ¶ï¼ˆæœ‰è¿™ä¸ªå¿…è¦ä¹ˆï¼Ÿä¸è¦ç©è„±äº†å•Šï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹åº”æŸä¸ªæ¨¡å—ä¸­çš„æ§åˆ¶å™¨åŠæ§åˆ¶å™¨ä¸­çš„Actionï¼Œè·¯ç”±ä¸­éœ€è¦å¸¦æ¨¡å—IDå‰ç¼€ï¼Œå¦‚&lt;code&gt;moduleID/controllerID/actionID&lt;/code&gt;ï¼Œå¯¹äºåµŒå¥—çš„æ¨¡å—ï¼Œè·¯ç”±çš„å½¢å¼åˆ™ä¸º&lt;code&gt;parentModuleID/childModuleID/controllerID/actionID&lt;/code&gt;ã€‚è·¯ç”±åˆ†å‘é€»è¾‘ä¼šæ ¹æ®æ¨¡å—IDåˆ°é…ç½®ä¿¡æ¯ä¸­æŸ¥æ‰¾å¯¹åº”çš„æ¨¡å—ï¼Œæœ€ç»ˆåˆ†å‘åˆ°æŸä¸ªæ¨¡å—çš„æŸä¸ªæ§åˆ¶å™¨çš„æŸä¸ªActionä¸­åšå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼ŒYiiæ¡†æ¶åº”ç”¨çš„æ¨¡å—åŒ–å¹¶ä¸æ˜¯å¿…é¡»æŠŠæ‰€æœ‰åŠŸèƒ½é€»è¾‘éƒ½æ‹†åˆ†åˆ°å„ä¸ªæ¨¡å—ï¼Œè€Œæ˜¯å¯ä»¥éƒ¨åˆ†åŠŸèƒ½é€»è¾‘å½’åˆ°åº”ç”¨ï¼Œéƒ¨åˆ†é€»è¾‘å½’åˆ°æ¨¡å—ï¼Œå³å¯ä»¥ä¸å½»åº•åœ°æ¨¡å—åŒ–ï¼Œä½†ä¸ªäººè®¤ä¸ºæœ€å¥½åˆ«è¿™ä¹ˆç©ï¼ˆåº”ç”¨ä¸‹çš„controllerçš„idå’Œæ¨¡å—çš„idå†²çªæ€ä¹ˆåŠï¼Ÿï¼‰ï¼Œå¹¶ä¸”æœ€å¥½ä¸è¦ç”¨æ¨¡å—åµŒå¥—ï¼Œä»¥å…æå¾—è¿‡äºå¤æ‚ï¼Œé™ä½é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ã€‚&lt;/p&gt;
&lt;h3&gt;åˆ†æ&lt;/h3&gt;
&lt;p&gt;å…ˆä»ç»§æ‰¿å…³ç³»ä¸Šçœ‹çœ‹â€œæ¨¡å—â€ä¸â€œåº”ç”¨â€çš„ç›¸ä¼¼æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CWebApplication&lt;/code&gt; -&amp;gt; &lt;code&gt;CApplication&lt;/code&gt; -&amp;gt; &lt;code&gt;CModule&lt;/code&gt; -&amp;gt; &lt;code&gt;CComponent&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰æ¨¡å—ç±» -&amp;gt; &lt;code&gt;CWebModule&lt;/code&gt; -&amp;gt; &lt;code&gt;CModule&lt;/code&gt; -&amp;gt; &lt;code&gt;CComponent&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”±æ­¤å¯ä»¥çœ‹åˆ°ç»§æ‰¿é“¾ä¸­ç±»&lt;code&gt;CModule&lt;/code&gt;åŠä¸Šæº¯ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œâ€œæ¨¡å—â€ç±»å’Œâ€œåº”ç”¨â€éƒ½æœ‰ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç”±&lt;a href="http://youngsterxyf.github.io/2014/11/04/read-yii-code-1/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - è¯·æ±‚å¤„ç†åŸºæœ¬æµç¨‹&lt;/a&gt;ä¸€æ–‡å¯çŸ¥ï¼Œåº”ç”¨é…ç½®çš„åŠ è½½æ˜¯æŠ½è±¡ç±»CApplicationçš„æ„é€ æ–¹æ³•ä¸­è°ƒç”¨æ–¹æ³•&lt;code&gt;configure&lt;/code&gt;æ¥å®Œæˆçš„ï¼Œ
è¯¥æ–¹æ³•å®šä¹‰äºç±»&lt;code&gt;CModule&lt;/code&gt;ä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Configures the module with the specified configuration.
 * @param array $config the configuration array
 */
public function configure($config)
{
    if(is_array($config))
    {
        foreach($config as $key=&amp;gt;$value)
            $this-&amp;gt;$key=$value;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºé…ç½®é¡¹â€œmodulesâ€çš„åŠ è½½ï¼Œåˆ™æ˜¯é€šè¿‡ç±»&lt;code&gt;CComponent&lt;/code&gt;ä¸­çš„é­”æœ¯æ–¹æ³•&lt;code&gt;__set&lt;/code&gt;æœ€ç»ˆè°ƒç”¨ç±»&lt;code&gt;CModule&lt;/code&gt;ä¸­çš„&lt;code&gt;setModules&lt;/code&gt;æ–¹æ³•æ¥å®Œæˆçš„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Configures the sub-modules of this module.
 *
 * Call this method to declare sub-modules and configure them with their initial property values.
 * The parameter should be an array of module configurations. Each array element represents a single module,
 * which can be either a string representing the module ID or an ID-configuration pair representing
 * a module with the specified ID and the initial property values.
 *
 * For example, the following array declares two modules:
 * &amp;lt;pre&amp;gt;
 * array(
 *     &amp;#39;admin&amp;#39;,                // a single module ID
 *     &amp;#39;payment&amp;#39;=&amp;gt;array(       // ID-configuration pair
 *         &amp;#39;server&amp;#39;=&amp;gt;&amp;#39;paymentserver.com&amp;#39;,
 *     ),
 * )
 * &amp;lt;/pre&amp;gt;
 *
 * By default, the module class is determined using the expression &amp;lt;code&amp;gt;ucfirst($moduleID).&amp;#39;Module&amp;#39;&amp;lt;/code&amp;gt;.
 * And the class file is located under &amp;lt;code&amp;gt;modules/$moduleID&amp;lt;/code&amp;gt;.
 * You may override this default by explicitly specifying the &amp;#39;class&amp;#39; option in the configuration.
 *
 * You may also enable or disable a module by specifying the &amp;#39;enabled&amp;#39; option in the configuration.
 *
 * @param array $modules module configurations.
 */
public function setModules($modules)
{
    foreach($modules as $id=&amp;gt;$module)
    {
        // å¦‚æœåªæŒ‡å®šäº†æ¨¡å—çš„id
        if(is_int($id))
        {
            $id=$module;
            $module=array();
        }
        // å¦‚æœæœªæŒ‡å®šæ¨¡å—å¯¹åº”çš„æ¨¡å—ç±»ï¼Œåˆ™é»˜è®¤é€šè¿‡è·¯å¾„åˆ«å$id.&amp;#39;.&amp;#39;.ucfirst($id).&amp;#39;Module&amp;#39;æ¥æŸ¥æ‰¾å¯¹åº”çš„æ¨¡å—ç±»
        if(!isset($module[&amp;#39;class&amp;#39;]))
        {
            Yii::setPathOfAlias($id,$this-&amp;gt;getModulePath().DIRECTORY_SEPARATOR.$id);
            $module[&amp;#39;class&amp;#39;]=$id.&amp;#39;.&amp;#39;.ucfirst($id).&amp;#39;Module&amp;#39;;
        }

        // å°†æ¨¡å—é…ç½®ä¿¡æ¯å­˜å…¥å±æ€§_moduleConfigä¸­
        if(isset($this-&amp;gt;_moduleConfig[$id]))
            $this-&amp;gt;_moduleConfig[$id]=CMap::mergeArray($this-&amp;gt;_moduleConfig[$id],$module);
        else
            $this-&amp;gt;_moduleConfig[$id]=$module;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°æ¨¡å—åˆ—è¡¨é…ç½®ä¿¡æ¯åŠ è½½åå¹¶æœªå¯¹æ¨¡å—ç±»è¿›è¡Œå®ä¾‹åŒ–åˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è¯·æ±‚å¤„ç†åœ¨è·¯ç”±è§£æå¾—åˆ°ç›®æ ‡è·¯ç”±åï¼Œè°ƒç”¨æ–¹æ³•&lt;code&gt;createController&lt;/code&gt;æ¥åšè·¯ç”±åˆ†å‘ï¼ˆè¿™æ ·è¡¨è¿°å¯èƒ½ä¸å¤ªä¸¥è°¨ï¼‰ï¼Œè¯¥æ–¹æ³•å®šä¹‰äºç±»&lt;code&gt;CWebApplication&lt;/code&gt;ä¸­ï¼Œå®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function createController($route,$owner=null)
{
    // å¦‚æœæœªæä¾›å‚æ•°$ownerï¼Œå³æœªæŒ‡å®šå½“å‰$routeæ‰€å±çš„æ¨¡å—ï¼Œåˆ™é»˜è®¤å½“å‰åº”ç”¨å¯¹è±¡ä¸ºownerï¼Œå¯ä»¥å°†åº”ç”¨å½“åšæ˜¯é¡¶çº§æ¨¡å—
    if($owner===null)
        $owner=$this;
    // å¦‚æœè·¯ç”±ä¸ºç©ºï¼Œåˆ™ä½¿ç”¨é»˜è®¤è·¯ç”±
    // åº”ç”¨çš„é»˜è®¤è·¯ç”±IDæ˜¯siteï¼Œæ¨¡å—çš„é»˜è®¤è·¯ç”±IDä¸ºdefault
    if(($route=trim($route,&amp;#39;/&amp;#39;))===&amp;#39;&amp;#39;)
        $route=$owner-&amp;gt;defaultController;
    // è·¯ç”±æ˜¯å¦å¤§å°å†™æ•æ„Ÿ
    $caseSensitive=$this-&amp;gt;getUrlManager()-&amp;gt;caseSensitive;

    $route.=&amp;#39;/&amp;#39;;
    // å¦‚æœè·¯ç”±ä¸­è¿˜æœ‰æ–œæ 
    // æ³¨æ„è¿™é‡Œæ˜¯ä¸ªwhileå¾ªç¯
    while(($pos=strpos($route,&amp;#39;/&amp;#39;))!==false)
    {
        // å–å‡ºç¬¬ä¸€ä¸ªæ–œæ ä¹‹å‰çš„éƒ¨åˆ†ï¼Œç”¨äºä¹‹åçš„ä»£ç çœ‹çœ‹æ˜¯å¦æœ‰å¯¹åº”è¯¥IDçš„controlleræˆ–module
        $id=substr($route,0,$pos);
        if(!preg_match(&amp;#39;/^\w+$/&amp;#39;,$id))
            return null;
        if(!$caseSensitive)
            $id=strtolower($id);
        // å–å‡ºç¬¬ä¸€ä¸ªæ–œæ ä¹‹åçš„éƒ¨åˆ†ï¼Œç”¨äºå¯èƒ½çš„ä¸‹ä¸€æ¬¡å¾ªç¯å¤„ç†
        $route=(string)substr($route,$pos+1);
        // çœ‹çœ‹æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡å¾ªç¯å¤„ç†
        // $basePathæ˜¯åœ¨ç¬¬ä¸€æ¬¡å¾ªç¯å¤„ç†æ—¶åœ¨è¿™ä¸ªifæ¡ä»¶åˆ†æ”¯ä¸­æ‰èµ‹å€¼çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡å¾ªç¯å¤„ç†åˆ°è¿™é‡Œæ—¶$basePathæ˜¯æœªå®šä¹‰
        if(!isset($basePath))  // first segment
        {
            // å…ˆä»åº”ç”¨æˆ–æ¨¡å—é…ç½®çš„controllerMapä¸­çœ‹çœ‹æ˜¯å¦æœ‰$idä¸ºkeyçš„controllerï¼Œè‹¥æœ‰ï¼Œåˆ™ç›´æ¥å®ä¾‹åŒ–å¯¹åº”çš„controllç±»å¹¶è¿”å›
            if(isset($owner-&amp;gt;controllerMap[$id]))
            {
                return array(
                    Yii::createComponent($owner-&amp;gt;controllerMap[$id],$id,$owner===$this?null:$owner),
                    $this-&amp;gt;parseActionParams($route),
                );
            }

            // çœ‹çœ‹å½“å‰åº”ç”¨çš„modulesé…ç½®é¡¹ä¸­æ˜¯å¦æœ‰ä»¥$idä¸ºkeyçš„æ¨¡å—ï¼Œæˆ–å½“å‰æ¨¡å—çš„modulesé…ç½®ä¸­æ˜¯å¦æœ‰ä»¥$idä¸ºkeyçš„å­æ¨¡å—ï¼Œå¦‚æœæœ‰åˆ™ä»¥$moduleä¸º$ownerå‚æ•°å€¼é€’å½’è°ƒç”¨createControlleræ–¹æ³•
            if(($module=$owner-&amp;gt;getModule($id))!==null)
                return $this-&amp;gt;createController($route,$module);

            // å½“å‰åº”ç”¨æˆ–æ¨¡å—ä¸‹çš„æ§åˆ¶å™¨ç±»çš„å­˜æ”¾ç›®å½•
            $basePath=$owner-&amp;gt;getControllerPath();
            $controllerID=&amp;#39;&amp;#39;;
        }
        else
            $controllerID.=&amp;#39;/&amp;#39;;
        // é»˜è®¤ä»¥$idä¸ºcontrollerçš„IDï¼Œåœ¨å½“å‰åº”ç”¨æˆ–æ¨¡å—ä¸‹æŸ¥æ‰¾æ˜¯å¦æœ‰å¯¹åº”çš„æ§åˆ¶å™¨ç±»æ–‡ä»¶
        $className=ucfirst($id).&amp;#39;Controller&amp;#39;;
        $classFile=$basePath.DIRECTORY_SEPARATOR.$className.&amp;#39;.php&amp;#39;;

        // æ“¦ï¼Œæ€ä¹ˆå¤šå‡ºä¸€ä¸ªå‘½åç©ºé—´çš„ä¸œè¥¿ï¼Ÿ
        if($owner-&amp;gt;controllerNamespace!==null)
            $className=$owner-&amp;gt;controllerNamespace.&amp;#39;\\&amp;#39;.$className;
        // å¦‚æœæœ‰å¯¹åº”çš„æ§åˆ¶å™¨ç±»æ–‡ä»¶ï¼Œåˆ™å°è¯•åŠ è½½å®ä¾‹åŒ–
        if(is_file($classFile))
        {
            if(!class_exists($className,false))
                require($classFile);
            if(class_exists($className,false) &amp;amp;&amp;amp; is_subclass_of($className,&amp;#39;CController&amp;#39;))
            {
                $id[0]=strtolower($id[0]);
                return array(
                    new $className($controllerID.$id,$owner===$this?null:$owner),
                    $this-&amp;gt;parseActionParams($route),
                );
            }
            return null;
        }
        // å¦åˆ™æŠŠ$idçœ‹æˆæ™®é€šçš„ä¸€çº§ç›®å½•å
        $controllerID.=$id;
        $basePath.=DIRECTORY_SEPARATOR.$id;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸Šè¿°ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ§åˆ¶å™¨ç±»åœ¨å®ä¾‹åŒ–æ—¶éœ€è¦ä¼ å…¥è¯¥æ§åˆ¶å™¨ç±»å±äºåº”ç”¨è¿˜æ˜¯å±äºæŸä¸ªæ¨¡å—ï¼Œè¿™ä¸ªå½’å±è®°å½•åœ¨æ§åˆ¶å™¨ç±»å®ä¾‹çš„_moduleå±æ€§ä¸­ï¼Œå¦‚æœå±æ€§å€¼ä¸ºnullï¼Œåˆ™è¡¨ç¤ºå±äºåº”ç”¨ï¼Œ_moduleå±æ€§å®šä¹‰äºç±»&lt;code&gt;CController&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹çœ‹ä¸Šè¿°ä»£ç ä¸­è°ƒç”¨çš„æ–¹æ³•&lt;code&gt;getModule&lt;/code&gt;çš„å®ç°ï¼Œè¿™ä¸ªæ–¹æ³•è°ƒç”¨çš„&lt;code&gt;$owner&lt;/code&gt;å¯èƒ½æ˜¯åº”ç”¨å¯¹è±¡ä¹Ÿå¯èƒ½æ˜¯æŸä¸ªæ¨¡å—ç±»å¯¹è±¡ï¼Œè¯¥æ–¹æ³•å®šä¹‰äºæŠ½è±¡ç±»&lt;code&gt;CModule&lt;/code&gt;ä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getModule($id)
{
    // å¦‚æœ$idå¯¹åº”çš„moduleå·²ç»å®ä¾‹åŒ–å¥½ï¼Œåˆ™ç›´æ¥è¿”å›
    if(isset($this-&amp;gt;_modules[$id]) || array_key_exists($id,$this-&amp;gt;_modules))
        return $this-&amp;gt;_modules[$id];
    // çœ‹æ˜¯å¦é…ç½®äº†$idå¯¹åº”çš„module
    elseif(isset($this-&amp;gt;_moduleConfig[$id]))
    {
        $config=$this-&amp;gt;_moduleConfig[$id];
        if(!isset($config[&amp;#39;enabled&amp;#39;]) || $config[&amp;#39;enabled&amp;#39;])
        {
            Yii::trace(&amp;quot;Loading \&amp;quot;$id\&amp;quot; module&amp;quot;,&amp;#39;system.base.CModule&amp;#39;);
            $class=$config[&amp;#39;class&amp;#39;];
            unset($config[&amp;#39;class&amp;#39;], $config[&amp;#39;enabled&amp;#39;]);
            // å®ä¾‹åŒ–moduleï¼Œmoduleçš„$ownerå¯èƒ½æ˜¯å½“å‰åº”ç”¨å¯¹è±¡ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªæ¨¡å—å¯¹è±¡
            if($this===Yii::app())
                $module=Yii::createComponent($class,$id,null,$config);
            else
                $module=Yii::createComponent($class,$this-&amp;gt;getId().&amp;#39;/&amp;#39;.$id,$this,$config);
            return $this-&amp;gt;_modules[$id]=$module;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸Šè¿°ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªæ¨¡å—å¯¹è±¡ä¹Ÿä¼šè®°å½•å®ƒçš„å½’å± - å±äºåº”ç”¨å¯¹è±¡ï¼Œè¿˜æ˜¯æŸä¸ªçˆ¶æ¨¡å—å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªå®šä¹‰æ¨¡å—ç±»æ— éœ€å®šä¹‰è‡ªå·±çš„æ„é€ æ–¹æ³•ï¼Œæ„é€ æ–¹æ³•å¯ä»¥é—´æ¥ç»§æ‰¿è‡ªæŠ½è±¡ç±»&lt;code&gt;CModule&lt;/code&gt;ï¼ˆ&lt;code&gt;CWebModule&lt;/code&gt;ç±»å¹¶æœªå®šä¹‰è‡ªå·±çš„æ„é€ æ–¹æ³•ï¼‰ï¼Œå…¶æ„é€ æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __construct($id,$parent,$config=null)
{
    $this-&amp;gt;_id=$id;
    $this-&amp;gt;_parentModule=$parent;

    // set basePath at early as possible to avoid trouble
    if(is_string($config))
        $config=require($config);
    if(isset($config[&amp;#39;basePath&amp;#39;]))
    {
        $this-&amp;gt;setBasePath($config[&amp;#39;basePath&amp;#39;]);
        unset($config[&amp;#39;basePath&amp;#39;]);
    }
    Yii::setPathOfAlias($id,$this-&amp;gt;getBasePath());

    $this-&amp;gt;preinit();

    $this-&amp;gt;configure($config);
    $this-&amp;gt;attachBehaviors($this-&amp;gt;behaviors);
    $this-&amp;gt;preloadComponents();

    $this-&amp;gt;init();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªæ–¹æ³•ä¸Webåº”ç”¨ç±»çš„æ„é€ æ–¹æ³•ï¼ˆå®šä¹‰äºæŠ½è±¡ç±»&lt;code&gt;CApplication&lt;/code&gt;ä¸­ï¼‰å®ç°éå¸¸ç›¸ä¼¼ã€‚è¿™ä¸¤ä¸ªæ„é€ æ–¹æ³•æ˜¯è°ƒç”¨åŒä¸€ä¸ª&lt;code&gt;configure&lt;/code&gt;æ–¹æ³•æ¥åŠ è½½é…ç½®çš„ï¼Œæ‰€ä»¥å¾ˆå¤šâ€œåº”ç”¨â€çš„é…ç½®é¡¹ï¼Œâ€œæ¨¡å—â€ä¹Ÿéƒ½æ”¯æŒã€‚
ä»ä¸Šè¿°æ¨¡å—çš„æ„é€ æ–¹æ³•ä¸­å¯ä»¥çœ‹åˆ°å½“å‰æ¨¡å—å±äºå“ªä¸ªçˆ¶æ¨¡å—æ˜¯è®°å½•åœ¨å±æ€§&lt;code&gt;_parentModule&lt;/code&gt;ä¸­çš„ï¼Œå¦‚æœè¯¥å±æ€§å€¼ä¸ºnullï¼Œåˆ™è¡¨ç¤ºå½“å‰æ¨¡å—å±äºå½“å‰Webåº”ç”¨å¯¹è±¡ã€‚è¿™æ ·é€šè¿‡è·å–æ§åˆ¶å™¨å¯¹è±¡çš„&lt;code&gt;_module&lt;/code&gt;å±æ€§å€¼ï¼Œç»§è€Œè·å–æ¨¡å—å¯¹è±¡çš„&lt;code&gt;_parentModule&lt;/code&gt;å±æ€§å€¼ï¼Œå°±èƒ½çŸ¥é“æ•´ä¸ªå½’å±å…³ç³»é“¾ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ³¨ï¼š&lt;em&gt;ä»¥ä¸‹éƒ¨åˆ†æ˜¯å¯¹&lt;a href="http://youngsterxyf.github.io/2014/11/04/read-yii-code-2/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - è·¯ç”±è§£æ&lt;/a&gt;ä¸€æ–‡çš„è¡¥å……ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å‰é¢è®¨è®ºçš„æ–¹æ³•&lt;code&gt;createController&lt;/code&gt;ä¸­è¿˜è°ƒç”¨äº†æ–¹æ³•&lt;code&gt;parseActionParams&lt;/code&gt;æ¥è§£æè·å–Actionçš„IDï¼Œä¹Ÿå®šä¹‰äºç±»&lt;code&gt;CWebApplication&lt;/code&gt;ä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Parses a path info into an action ID and GET variables.
 * @param string $pathInfo path info
 * @return string action ID
 */
protected function parseActionParams($pathInfo)
{
    // å±Œï¼å…¶å®å°±æ˜¯ä»¥æ–œæ åˆ†å‰²$pathInfoå–ç¬¬ä¸€ä¸ªéƒ¨åˆ†ä½œä¸ºActionçš„ID
    if(($pos=strpos($pathInfo,&amp;#39;/&amp;#39;))!==false)
    {
        $manager=$this-&amp;gt;getUrlManager();
        // ç¬¬ä¸€ä¸ªéƒ¨åˆ†ä¹‹å¤–å‰©ä½™çš„éƒ¨åˆ†åšè¯·æ±‚å‚æ•°è§£æ
        $manager-&amp;gt;parsePathInfo((string)substr($pathInfo,$pos+1));

        $actionID=substr($pathInfo,0,$pos);
        return $manager-&amp;gt;caseSensitive ? $actionID : strtolower($actionID);
    }
    else
        // å¦‚æœ$pathInfoHä¸­ä¸å­˜åœ¨æ–œæ ï¼Œåˆ™å°±å°†$pathInfoä½œä¸ºActionçš„ID
        return $pathInfo;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­è°ƒç”¨çš„&lt;code&gt;parsePathInfo&lt;/code&gt;æ–¹æ³•ï¼Œå®šä¹‰äºç±»&lt;code&gt;CUrlManager&lt;/code&gt;ä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Parses a path info into URL segments and saves them to $_GET and $_REQUEST.
 * @param string $pathInfo path info
 */
public function parsePathInfo($pathInfo)
{
    if($pathInfo===&amp;#39;&amp;#39;)
        return;
    $segs=explode(&amp;#39;/&amp;#39;,$pathInfo.&amp;#39;/&amp;#39;);
    $n=count($segs);
    for($i=0;$i&amp;lt;$n-1;$i+=2)
    {
        $key=$segs[$i];
        if($key===&amp;#39;&amp;#39;) continue;
        $value=$segs[$i+1];
        if(($pos=strpos($key,&amp;#39;[&amp;#39;))!==false &amp;amp;&amp;amp; ($m=preg_match_all(&amp;#39;/\[(.*?)\]/&amp;#39;,$key,$matches))&amp;gt;0)
        {
            $name=substr($key,0,$pos);
            for($j=$m-1;$j&amp;gt;=0;--$j)
            {
                if($matches[1][$j]===&amp;#39;&amp;#39;)
                    $value=array($value);
                else
                    $value=array($matches[1][$j]=&amp;gt;$value);
            }
            if(isset($_GET[$name]) &amp;amp;&amp;amp; is_array($_GET[$name]))
                $value=CMap::mergeArray($_GET[$name],$value);
            $_REQUEST[$name]=$_GET[$name]=$value;
        }
        else
            $_REQUEST[$key]=$_GET[$key]=$value;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»”ç»†çœ‹çœ‹ä¸Šè¿°ä»£ç çš„é€»è¾‘å§ï¼Œç´¯è§‰ä¸çˆ±å•Šï¼&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨ï¼šåœ¨ç›®æ ‡è·¯ç”±å»é™¤Controller IDå’ŒAction IDä¸¤ä¸ªéƒ¨åˆ†åï¼Œä»å‰©ä½™éƒ¨åˆ†ä¸­æŒ‰ä¸€å®šè§„åˆ™è§£æå‡ºè¯·æ±‚å‚æ•°ï¼Œé‚£ä¹ˆè§„åˆ™æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹æ¥è¯´ï¼Œè¿™ä¸ªç›®æ ‡è·¯ç”±å‰©ä½™éƒ¨åˆ†çš„åŸºæœ¬å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;key/value/key/value/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­&lt;code&gt;key&lt;/code&gt;ä¸ºå‚æ•°åï¼Œ&lt;code&gt;value&lt;/code&gt;ä¸ºå‚æ•°å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä½†&lt;code&gt;key&lt;/code&gt;çš„å½¢å¼å¯ä»¥æ•°ç»„å–å€¼çš„å½¢å¼ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;name[x][y][z]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§å½¢å¼çš„&lt;code&gt;key&lt;/code&gt;å¯¹åº”çš„&lt;code&gt;value&lt;/code&gt;ä¼šä»åŸæ¥çš„å­—ç¬¦ä¸²è½¬æ¢æˆæ•°ç»„å½¢å¼ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;array(
    &amp;#39;x&amp;#39; =&amp;gt; array(
        &amp;#39;y&amp;#39; =&amp;gt; array(
            &amp;#39;z&amp;#39; =&amp;gt; array(&amp;#39;value&amp;#39;)
        )
    )
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¤šä¸ª&lt;code&gt;key&lt;/code&gt;çš„&lt;code&gt;name&lt;/code&gt;å¯ä»¥ç›¸åŒï¼Œå¦‚æœç›¸åŒï¼Œåˆ™ä¼šåˆå¹¶æ•°ç»„ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;name[a][b][c]/value1/name[A][B][C]/value2/name[x][y][z]/value3/name[a][X][f]/value4/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆä¼šè½¬æ¢æˆè¯·æ±‚å‚æ•°é¡¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$_REQUEST[&amp;#39;name&amp;#39;] = $_GET[&amp;#39;name&amp;#39;] = array(
    &amp;#39;a&amp;#39; =&amp;gt; array(
        &amp;#39;b&amp;#39; =&amp;gt; array(
            &amp;#39;c&amp;#39; =&amp;gt; array(&amp;#39;value1&amp;#39;),
        ),
        &amp;#39;X&amp;#39; =&amp;gt; array(
            &amp;#39;f&amp;#39; =&amp;gt; array(&amp;#39;value4&amp;#39;),
        ),
    ),
    &amp;#39;A&amp;#39; =&amp;gt; array(
        &amp;#39;B&amp;#39; =&amp;gt; array(
            &amp;#39;C&amp;#39; =&amp;gt; array(&amp;#39;value2&amp;#39;),
        ),
    ),
    &amp;#39;x&amp;#39; =&amp;gt; array(
        &amp;#39;y&amp;#39; =&amp;gt; array(
            &amp;#39;z&amp;#39; =&amp;gt; array(&amp;#39;value3&amp;#39;),
        ),
    ),
);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ“¦ï¼Œç‰›é€¼åˆ°æ­»å•Šï¼&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="Yii"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>Yiiæºç é˜…è¯»ç¬”è®° - ç¼“å­˜</title><link href="http://youngsterxyf.github.io/2014/11/19/read-yii-code-6/" rel="alternate"></link><published>2014-11-19T00:00:00+08:00</published><updated>2014-11-19T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-11-19:/2014/11/19/read-yii-code-6/</id><summary type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;ä»ä¹‹å‰çš„æ–‡ç« &lt;a href="http://youngsterxyf.github.io/2014/11/12/read-yii-code-2/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - è·¯ç”±è§£æ&lt;/a&gt;
åŠ&lt;a href="http://youngsterxyf.github.io/2014/11/14/read-yii-code-4/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - Modelå±‚å®ç°&lt;/a&gt;å¯ä»¥çœ‹åˆ°Yiiæ¡†æ¶å¯¹äº&lt;strong&gt;è§£æå¥½çš„è·¯ç”±è§„åˆ™&lt;/strong&gt;åŠ&lt;strong&gt;æ•°æ®è¡¨çš„schema&lt;/strong&gt;éƒ½ä¼šæ ¹æ®æ¡ä»¶å°è¯•è¯»å†™ç¼“å­˜
æ¥æé«˜ â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;ä»ä¹‹å‰çš„æ–‡ç« &lt;a href="http://youngsterxyf.github.io/2014/11/12/read-yii-code-2/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - è·¯ç”±è§£æ&lt;/a&gt;
åŠ&lt;a href="http://youngsterxyf.github.io/2014/11/14/read-yii-code-4/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - Modelå±‚å®ç°&lt;/a&gt;å¯ä»¥çœ‹åˆ°Yiiæ¡†æ¶å¯¹äº&lt;strong&gt;è§£æå¥½çš„è·¯ç”±è§„åˆ™&lt;/strong&gt;åŠ&lt;strong&gt;æ•°æ®è¡¨çš„schema&lt;/strong&gt;éƒ½ä¼šæ ¹æ®æ¡ä»¶å°è¯•è¯»å†™ç¼“å­˜
æ¥æé«˜åº”ç”¨æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ç¼“å­˜ç»„ä»¶å¹¶éæ ¸å¿ƒç»„ä»¶ï¼Œéœ€è¦é¢å¤–çš„é…ç½®ï¼Œé»˜è®¤IDä¸º&lt;code&gt;cache&lt;/code&gt;ï¼Œå¦‚æœä¸ä½¿ç”¨è¯¥IDï¼Œé‚£ä¹ˆå°±å¾—æ³¨æ„åŒæ—¶é…ç½®å¥½æ¡†æ¶ä¸­ä½¿ç”¨ç¼“å­˜çš„ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æ°å½“åœ°ä½¿ç”¨ç¼“å­˜ç»„ä»¶ï¼Œèƒ½æ˜æ˜¾åœ°æé«˜åº”ç”¨çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹ä¸åŒçš„ç¼“å­˜åç«¯ï¼ˆbackendï¼‰ï¼ŒYiiæ¡†æ¶æä¾›äº†å¤šç§ç¼“å­˜ç»„ä»¶ï¼Œå¦‚æ–‡ä»¶ç¼“å­˜ï¼ˆCFileCacheï¼‰ã€Memcachedç¼“å­˜ï¼ˆCMemCacheï¼‰ã€Redisç¼“å­˜ï¼ˆCRedisCacheï¼‰ç­‰ã€‚è¿™äº›ç¼“å­˜ç»„ä»¶ï¼ˆé™¤CDummyCacheå¤–ï¼ŒCDummyCacheå¹¶ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç¼“å­˜ç»„ä»¶ï¼‰å‡ç›´æ¥ç»§æ‰¿è‡ªæŠ½è±¡ç±»CCacheï¼ˆè§æ–‡ä»¶&lt;code&gt;yii/framework/caching/CCache.php&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ä»¥ä½¿ç”¨Memcachedç¼“å­˜ä¸ºä¾‹ï¼Œåˆ†æYiiæ¡†æ¶ç¼“å­˜ç»„ä»¶çš„å®ç°ã€‚&lt;/p&gt;
&lt;h3&gt;åˆ†æ&lt;/h3&gt;
&lt;p&gt;ç±»&lt;code&gt;CMemcache&lt;/code&gt;æ‰€åœ¨çš„æ•´ä¸ªç»§æ‰¿æ ‘ï¼ˆ&lt;code&gt;CMemcache&lt;/code&gt; -&amp;gt; &lt;code&gt;CCache&lt;/code&gt; -&amp;gt; &lt;code&gt;CApplicationComponent&lt;/code&gt; -&amp;gt; &lt;code&gt;CComponent&lt;/code&gt;ï¼‰ä¸Šçš„ç±»éƒ½æ²¡æœ‰æ„é€ æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;CMemcache&lt;/code&gt;çš„initæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function init()
{
    // è°ƒç”¨çˆ¶ç±»CCacheçš„initæ–¹æ³•
    parent::init();
    // è·å–é…ç½®çš„MemcachedæœåŠ¡å™¨åˆ—è¡¨
    $servers=$this-&amp;gt;getServers();
    // è·å–ä¸€ä¸ªMemcacheæˆ–Memcachedå¯¹è±¡
    $cache=$this-&amp;gt;getMemCache();
    if(count($servers))
    {
        // å°†é…ç½®çš„MemcachedæœåŠ¡å™¨åŠ åˆ°æ± ä¸­
        foreach($servers as $server)
        {
            // å¯é€‰æ‹©ä½¿ç”¨memcached phpæ‰©å±•ï¼Œä½†æœ€å¥½åˆ«è¿™æ ·ï¼Œå› ä¸ºmemcachedæ‰©å±•ä¸æ”¯æŒä¸€äº›æœ‰ç”¨çš„é…ç½®é€‰é¡¹ï¼Œä»addServeræ–¹æ³•çš„å‚æ•°åˆ—è¡¨å°±å¯ä»¥çœ‹å‡º
            // memcachedæ‰©å±•é»˜è®¤ä½¿ç”¨ä½™æ•°åˆ†æ­¥å“ˆå¸Œç®—æ³•ï¼Œä½†å¯é…ç½®ä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•
            // åº”ä½¿ç”¨memcacheæ‰©å±•
            if($this-&amp;gt;useMemcached)
                $cache-&amp;gt;addServer($server-&amp;gt;host,$server-&amp;gt;port,$server-&amp;gt;weight);
            else
                $cache-&amp;gt;addServer($server-&amp;gt;host,$server-&amp;gt;port,$server-&amp;gt;persistent,$server-&amp;gt;weight,$server-&amp;gt;timeout,$server-&amp;gt;retryInterval,$server-&amp;gt;status);
        }
    }
    // å¦‚æœæ²¡æœ‰é…ç½®æœåŠ¡å™¨åˆ—è¡¨ï¼Œåˆ™é»˜è®¤ä½¿ç”¨localhost:11211
    else
        $cache-&amp;gt;addServer(&amp;#39;localhost&amp;#39;,11211);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­è°ƒç”¨çš„çˆ¶ç±»çš„initæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function init()
{
    parent::init();
    // å¯ä»¥ä¸ºæ•´ä¸ªåº”ç”¨çš„ç¼“å­˜çš„keyåŠ ä¸€ä¸ªç»Ÿä¸€çš„å‰ç¼€ï¼Œè¿™æ˜¯ä¸ºäº†é¿å…åœ¨åŒä¸€ä¸ªç¼“å­˜æ± ä¸­ï¼Œä¸åŒåº”ç”¨çš„keyå†²çª
    if($this-&amp;gt;keyPrefix===null)
        // å¦‚æœæ²¡æœ‰é…ç½®keyPrefixï¼Œåˆ™ä»¥åº”ç”¨çš„idä½œä¸ºkeyPrefixï¼Œè¿™ä¸ªkeyï¼Œå¯ä»¥é…ç½®ï¼Œå¦‚æœæœªé…ç½®ï¼Œåˆ™`sprintf(&amp;#39;%x&amp;#39;,crc32($this-&amp;gt;getBasePath().$this-&amp;gt;name))`è¿™æ ·ç”Ÿæˆï¼Œ
        // å…¶ä¸­nameè¡¨ç¤ºåº”ç”¨çš„åç§°ï¼Œå¯é…ç½®ï¼Œé»˜è®¤ä¸ºâ€œMy Applicationâ€
        // getIdæ–¹æ³•å®šä¹‰äºæŠ½è±¡ç±»CApplicationä¸­
        $this-&amp;gt;keyPrefix=Yii::app()-&amp;gt;getId();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;CMemcache&lt;/code&gt;çš„initæ–¹æ³•ä¸­è°ƒç”¨çš„æ–¹æ³•&lt;code&gt;getServers&lt;/code&gt;å’Œ&lt;code&gt;getMemcache&lt;/code&gt;ï¼Œå®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getMemCache()
{
    // å•ä¾‹
    if($this-&amp;gt;_cache!==null)
        return $this-&amp;gt;_cache;
    else
    {
        // è¿˜æ˜¯ç”¨memcacheå§
        $extension=$this-&amp;gt;useMemcached ? &amp;#39;memcached&amp;#39; : &amp;#39;memcache&amp;#39;;
        // æ£€æµ‹ä¸€ä¸‹æ˜¯å¦è®°è½½äº†æ‰€éœ€æ‰©å±•
        if(!extension_loaded($extension))
            throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;quot;CMemCache requires PHP {extension} extension to be loaded.&amp;quot;,
                array(&amp;#39;{extension}&amp;#39;=&amp;gt;$extension)));
        // å®ä¾‹åŒ–
        return $this-&amp;gt;_cache=$this-&amp;gt;useMemcached ? new Memcached : new Memcache;
    }
}

public function getServers()
{
    return $this-&amp;gt;_servers;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸&lt;code&gt;getServers&lt;/code&gt;å¯¹åº”çš„æœ‰æ–¹æ³•&lt;code&gt;setServers&lt;/code&gt;ï¼Œå¦‚æœéœ€è¦é…ç½®ç¼“å­˜æœåŠ¡å™¨åˆ—è¡¨ï¼Œåˆ™åº”è¯¥ä¸ºç¼“å­˜ç»„ä»¶é…ç½®&lt;code&gt;servers&lt;/code&gt;ä¸€é¡¹ï¼ŒåŸºæœ¬å½¢å¼ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;#39;servers&amp;#39;=&amp;gt;array(
    array(
        &amp;#39;host&amp;#39;=&amp;gt;&amp;#39;127.0.0.1&amp;#39;,
        &amp;#39;port&amp;#39;=&amp;gt;11211,
    ),
),
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;setServers&lt;/code&gt;æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function setServers($config)
{
    foreach($config as $c)
        $this-&amp;gt;_servers[]=new CMemCacheServerConfiguration($c);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­å®ä¾‹åŒ–çš„ç±»&lt;code&gt;CMemCacheServerConfiguration&lt;/code&gt;ä¹Ÿå®šä¹‰äºæ–‡ä»¶&lt;code&gt;yii/framework/caching/CMemCache.php&lt;/code&gt;ä¸­ï¼Œå…¶æ„é€ æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __construct($config)
{
    if(is_array($config))
    {
        foreach($config as $key=&amp;gt;$value)
            $this-&amp;gt;$key=$value;
        if($this-&amp;gt;host===null)
            throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;CMemCache server configuration must have &amp;quot;host&amp;quot; value.&amp;#39;));
    }
    else
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;CMemCache server configuration must be an array.&amp;#39;));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»è¯¥æ„é€ æ–¹æ³•å¯ä»¥çœ‹åˆ°è¯¥ç±»çš„ä½œç”¨å°±æ˜¯å°†ä¸€ä¸ªMemcachedç¼“å­˜æœåŠ¡å™¨çš„é…ç½®ä¿¡æ¯å°è£…æˆä¸€ä¸ªé…ç½®ç±»å¯¹è±¡ã€‚è¯¥ç±»æœ‰å¦‚ä¸‹publicçš„å±æ€§ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * @var string memcache server hostname or IP address
 */
public $host;
/**
 * @var integer memcache server port
 */
public $port=11211;
/**
 * @var boolean whether to use a persistent connection
 */
public $persistent=true;
/**
 * @var integer probability of using this server among all servers.
 */
public $weight=1;
/**
 * @var integer value in seconds which will be used for connecting to the server
 */
public $timeout=15;
/**
 * @var integer how often a failed server will be retried (in seconds)
 */
public $retryInterval=15;
/**
 * @var boolean if the server should be flagged as online upon a failure
 */
public $status=true;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™äº›å±æ€§ä¹Ÿå³æ˜¯æ¯å°ç¼“å­˜æœåŠ¡å™¨çš„å¯é…ç½®é¡¹ï¼Œå½“ç„¶å¦‚æœç”¨çš„æ˜¯memcachedæ‰©å±•ï¼ŒæŸäº›é…ç½®é¡¹å°±ç”¨ä¸ä¸Šäº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç±»&lt;code&gt;CCache&lt;/code&gt;å®šä¹‰äº†è®¿é—®æ§åˆ¶ç±»å‹publicçš„æ–¹æ³•&lt;code&gt;get&lt;/code&gt;ã€&lt;code&gt;mget&lt;/code&gt;ã€&lt;code&gt;set&lt;/code&gt;ã€&lt;code&gt;add&lt;/code&gt;ã€&lt;code&gt;delete&lt;/code&gt;ã€&lt;code&gt;flush&lt;/code&gt;ï¼Œå¯¹åº”Yiiæ¡†æ¶ç¼“å­˜ç»„ä»¶æä¾›çš„å‡ ä¸ªæ“ä½œï¼Œå³å¼€å‘è€…å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•æ¥æ“ä½œç¼“å­˜ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;// æ ¹æ®å•ä¸ªkeyï¼Œè·å–å¯¹åº”çš„value
public function get($id)
{
    // generateUniqueKeyæ˜¯æ ¹æ®$idæ¥ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„keyï¼Œä¹Ÿå³çœŸæ­£å­˜åˆ°ç¼“å­˜çš„keyå¹¶ä¸æ˜¯getæ–¹æ³•çš„$idå‚æ•°å€¼
    $value = $this-&amp;gt;getValue($this-&amp;gt;generateUniqueKey($id));
    // å¦‚æœè®¾ç½®ä¸ºä¸è¿›è¡Œåºåˆ—åŒ–ï¼Œåˆ™ç›´æ¥è¿”å›å–å¾—çš„å€¼
    if($value===false || $this-&amp;gt;serializer===false)
        return $value;
    // å¦‚æœæœªè®¾ç½®serializerï¼Œåˆ™è¯´æ˜å­˜å‚¨æ—¶ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„åºåˆ—åŒ–æ–¹æ³•ï¼Œå–åˆ°æ•°æ®åå¯¹åº”åœ°éœ€è¦ä½¿ç”¨é»˜è®¤çš„æ–¹æ³•è¿›è¡Œååºåˆ—åŒ–
    if($this-&amp;gt;serializer===null)
        $value=unserialize($value);
    else
        // å¦åˆ™ï¼Œä½¿ç”¨æŒ‡å®šçš„æ–¹æ³•è¿›è¡Œååºåˆ—åŒ–
        $value=call_user_func($this-&amp;gt;serializer[1], $value);
    // ä¾èµ–æ£€æŸ¥ï¼Œå¦‚æœä¾èµ–æ²¡æœ‰å˜ï¼Œåˆ™è¯´æ˜ç¼“å­˜æœ‰æ•ˆï¼Œ
    // å¦åˆ™ï¼Œè¿”å›falseï¼Œè¡¨ç¤ºç¼“å­˜æ— æ•ˆ
    // å’¦ï¼Œä¸è¦æ¸…æ‰æ— æ•ˆçš„ç¼“å­˜é¡¹ä¹ˆï¼Ÿ
    if(is_array($value) &amp;amp;&amp;amp; (!$value[1] instanceof ICacheDependency || !$value[1]-&amp;gt;getHasChanged()))
    {
        Yii::trace(&amp;#39;Serving &amp;quot;&amp;#39;.$id.&amp;#39;&amp;quot; from cache&amp;#39;,&amp;#39;system.caching.&amp;#39;.get_class($this));
        return $value[0];
    }
    else
        return false;
}

// æ ¹æ®å¤šä¸ªkeyå€¼ï¼ˆ$idsï¼‰ï¼Œè·å–å¤šä¸ªvalue
public function mget($ids)
{
    $uids = array();
    foreach ($ids as $id)
        $uids[$id] = $this-&amp;gt;generateUniqueKey($id);

    $values = $this-&amp;gt;getValues($uids);
    $results = array();
    if($this-&amp;gt;serializer === false)
    {
        foreach ($uids as $id =&amp;gt; $uid)
            $results[$id] = isset($values[$uid]) ? $values[$uid] : false;
    }
    else
    {
        foreach($uids as $id =&amp;gt; $uid)
        {
            $results[$id] = false;
            if(isset($values[$uid]))
            {
                $value = $this-&amp;gt;serializer === null ? unserialize($values[$uid]) : call_user_func($this-&amp;gt;serializer[1], $values[$uid]);
                if(is_array($value) &amp;amp;&amp;amp; (!$value[1] instanceof ICacheDependency || !$value[1]-&amp;gt;getHasChanged()))
                {
                    Yii::trace(&amp;#39;Serving &amp;quot;&amp;#39;.$id.&amp;#39;&amp;quot; from cache&amp;#39;,&amp;#39;system.caching.&amp;#39;.get_class($this));
                    $results[$id] = $value[0];
                }
            }
        }
    }
    return $results;
}

// å‘$idå­˜å‚¨ä¸€ä¸ªå…ƒç´ å€¼ä¸º $value
public function set($id,$value,$expire=0,$dependency=null)
{
    Yii::trace(&amp;#39;Saving &amp;quot;&amp;#39;.$id.&amp;#39;&amp;quot; to cache&amp;#39;,&amp;#39;system.caching.&amp;#39;.get_class($this));

    if ($dependency !== null &amp;amp;&amp;amp; $this-&amp;gt;serializer !== false)
        // è·å–ä¾èµ–å€¼
        $dependency-&amp;gt;evaluateDependency();

    // è¿åŒä¾èµ–ä¸€èµ·åºåˆ—åŒ–ç„¶åç¼“å­˜èµ·æ¥
    // ä¸‹æ¬¡è·å–ç¼“å­˜åï¼Œæ£€æŸ¥ä¸€ä¸‹ä¾èµ–æ˜¯å¦å‘ç”Ÿå˜æ›´ï¼Œæ˜¯åˆ™è¯´æ˜ç¼“å­˜å·²ç»å¤±æ•ˆ
    if ($this-&amp;gt;serializer === null)
        $value = serialize(array($value,$dependency));
    elseif ($this-&amp;gt;serializer !== false)
        $value = call_user_func($this-&amp;gt;serializer[0], array($value,$dependency));

    return $this-&amp;gt;setValue($this-&amp;gt;generateUniqueKey($id), $value, $expire);
}

// åœ¨ç¼“å­˜æœåŠ¡å™¨ä¹‹å‰ä¸å­˜åœ¨$idæ—¶ï¼Œ ä»¥idä½œä¸ºkeyå­˜å‚¨ä¸€ä¸ªå˜é‡$valueåˆ°ç¼“å­˜æœåŠ¡å™¨
public function add($id,$value,$expire=0,$dependency=null)
{
    Yii::trace(&amp;#39;Adding &amp;quot;&amp;#39;.$id.&amp;#39;&amp;quot; to cache&amp;#39;,&amp;#39;system.caching.&amp;#39;.get_class($this));

    if ($dependency !== null &amp;amp;&amp;amp; $this-&amp;gt;serializer !== false)
        $dependency-&amp;gt;evaluateDependency();

    if ($this-&amp;gt;serializer === null)
        $value = serialize(array($value,$dependency));
    elseif ($this-&amp;gt;serializer !== false)
        $value = call_user_func($this-&amp;gt;serializer[0], array($value,$dependency));

    return $this-&amp;gt;addValue($this-&amp;gt;generateUniqueKey($id), $value, $expire);
}

// æ ¹æ®idåˆ é™¤ç¼“å­˜é¡¹
public function delete($id)
{
    Yii::trace(&amp;#39;Deleting &amp;quot;&amp;#39;.$id.&amp;#39;&amp;quot; from cache&amp;#39;,&amp;#39;system.caching.&amp;#39;.get_class($this));
    return $this-&amp;gt;deleteValue($this-&amp;gt;generateUniqueKey($id));
}

// æ¸…ç©ºç¼“å­˜
public function flush()
{
    Yii::trace(&amp;#39;Flushing cache&amp;#39;,&amp;#39;system.caching.&amp;#39;.get_class($this));
    return $this-&amp;gt;flushValues();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸Šè¿°ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ¯ç§æ“ä½œæ–¹æ³•å®é™…ä¸Šéƒ½æ˜¯è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•æ¥å®Œæˆæ“ä½œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;get -&amp;gt; getValue&lt;/li&gt;
&lt;li&gt;mget -&amp;gt; getValues&lt;/li&gt;
&lt;li&gt;set -&amp;gt; setValue&lt;/li&gt;
&lt;li&gt;add -&amp;gt; addValue&lt;/li&gt;
&lt;li&gt;delete -&amp;gt; deleteValue&lt;/li&gt;
&lt;li&gt;flush -&amp;gt; flushValues&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†æŠ½è±¡ç±»&lt;code&gt;CCache&lt;/code&gt;ä¸­å¯¹äºåé¢çš„è¿™äº›æ–¹æ³•å¹¶æ²¡æœ‰çœŸæ­£å®ç°æ“ä½œé€»è¾‘ï¼ˆé™¤äº†getValuesï¼Œå…¶å®ç°æ˜¯å¾ªç¯è°ƒç”¨getValueï¼Œä¹Ÿè®¸å¹¶ä¸æ˜¯å¼€å‘è€…æƒ³è¦çš„å®ç°ï¼Œ&lt;code&gt;CMemCache&lt;/code&gt;ç±»é‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼‰ï¼Œéœ€è¦åœ¨ç»§æ‰¿ç±»ä¸­å®ç°ã€‚&lt;code&gt;CMemCache&lt;/code&gt;ç±»ä¸­å¯¹è¿™äº›æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;protected function getValue($key)
{
    return $this-&amp;gt;_cache-&amp;gt;get($key);
}

protected function getValues($keys)
{
    return $this-&amp;gt;useMemcached ? $this-&amp;gt;_cache-&amp;gt;getMulti($keys) : $this-&amp;gt;_cache-&amp;gt;get($keys);
}

protected function setValue($key,$value,$expire)
{
    // æ³¨æ„ï¼šè¿™ä¸ªåœ°æ–¹å¯¹äºå¼€å‘è€…æ¥è¯´ä¹Ÿè®¸æ˜¯ä¸ªå‘
    // è¯¥æ–¹æ³•çš„å‚æ•°$expireå¹¶ä¸æ˜¯ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œè€Œæ˜¯ä¸€ä¸ªæ—¶é—´é—´éš”
    // $expire = 0è¡¨ç¤ºä¸ä¼šè¶…æ—¶å¤±æ•ˆ
    if($expire&amp;gt;0)
        $expire+=time();
    else
        $expire=0;

    // ä½¿ç”¨memcacheæ‰©å±•æ—¶ï¼Œaddæ–¹æ³•çš„é‚£ä¸ªé¢å¤–å‚æ•°å€¼0ï¼Œå¯¹åº”å‚æ•°flagï¼Œè¡¨ç¤ºæ˜¯å¦å¯¹æ•°æ®ä½¿ç”¨zlibè¿›è¡Œå‹ç¼©
    return $this-&amp;gt;useMemcached ? $this-&amp;gt;_cache-&amp;gt;set($key,$value,$expire) : $this-&amp;gt;_cache-&amp;gt;set($key,$value,0,$expire);
}

protected function addValue($key,$value,$expire)
{
    if($expire&amp;gt;0)
        $expire+=time();
    else
        $expire=0;

    return $this-&amp;gt;useMemcached ? $this-&amp;gt;_cache-&amp;gt;add($key,$value,$expire) : $this-&amp;gt;_cache-&amp;gt;add($key,$value,0,$expire);
}

protected function deleteValue($key)
{
    return $this-&amp;gt;_cache-&amp;gt;delete($key, 0);
}

protected function flushValues()
{
    return $this-&amp;gt;_cache-&amp;gt;flush();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ–¹æ³•&lt;code&gt;get&lt;/code&gt;ã€&lt;code&gt;mget&lt;/code&gt;ã€&lt;code&gt;set&lt;/code&gt;ã€&lt;code&gt;add&lt;/code&gt;ã€&lt;code&gt;delete&lt;/code&gt;ã€&lt;code&gt;flush&lt;/code&gt;çš„å®ç°æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®é™…å­˜å‚¨çš„keyå¹¶ä¸æ˜¯æ–¹æ³•è°ƒç”¨æ—¶æä¾›çš„keyï¼Œè€Œæ˜¯ç»è¿‡æ–¹æ³•&lt;code&gt;generateUniqueKey&lt;/code&gt;å¤„ç†çš„&lt;/li&gt;
&lt;li&gt;å®é™…å­˜å‚¨çš„valueå¯èƒ½æ˜¯ç»è¿‡åºåˆ—åŒ–çš„ï¼Œè€Œä¸”å¯èƒ½è¿˜åŒ…å«ä¾èµ–å€¼&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…³äºç¬¬ä¸€ç‚¹ï¼Œ&lt;code&gt;generateUniqueKey&lt;/code&gt;æ–¹æ³•åœ¨æŠ½è±¡ç±»&lt;code&gt;CCache&lt;/code&gt;ä¸­å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * @param string $key a key identifying a value to be cached
 * @return string a key generated from the provided key which ensures the uniqueness across applications
 */
protected function generateUniqueKey($key)
{
    return $this-&amp;gt;hashKey ? md5($this-&amp;gt;keyPrefix.$key) : $this-&amp;gt;keyPrefix.$key;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°†åŸæœ¬çš„$keyæ‹¼æ¥ä¸Šç»Ÿä¸€çš„å‰ç¼€ï¼Œå¦‚æœéœ€è¦ï¼Œè¿˜è¿›è¡Œmd5å“ˆå¸Œï¼Œè¿™æ ·èƒ½ä¿è¯ä¸åŒçš„åº”ç”¨ä¹‹é—´ä¸ä¼šæœ‰keyå†²çªã€‚å±æ€§hashKeyé»˜è®¤å€¼ä¸ºtrueã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å…³äºç¬¬äºŒç‚¹ï¼Œç¼“å­˜ä¾èµ–çš„æ¦‚å¿µç®€å•æ¥è¯´å°±æ˜¯åœ¨å–åˆ°ä¸€ä¸ªç¼“å­˜é¡¹åï¼Œåˆ¤æ–­è¯¥ç¼“å­˜é¡¹æ˜¯å¦å¤±æ•ˆçš„ä¸€ä¸ªæ¡ä»¶ã€‚
ä»¥é¡µé¢ç¼“å­˜ä¸ºä¾‹ï¼Œä¹Ÿè®¸åº”ç”¨ä¸­åœ¨é¡µé¢æ¨¡æ¿æ¸²æŸ“åå¹¶æ²¡æœ‰ç›´æ¥å°†ç»“æœå“åº”ç»™ç”¨æˆ·ï¼Œè€Œæ˜¯å…ˆç¼“å­˜èµ·æ¥ï¼Œä½†é¡µé¢å¯èƒ½æ¶‰åŠä¸€äº›åŠ¨æ€å†…å®¹ï¼Œè¿™äº›åŠ¨æ€å†…å®¹æ˜¯ä»æ•°æ®åº“ä¸­æŸäº›æ•°æ®ç”Ÿæˆçš„ï¼Œä¸ºäº†ä¿è¯æ­£ç¡®æ€§ï¼Œä¸‹æ¬¡è¯»å–é¡µé¢ç¼“å­˜åï¼Œè¿˜å¾—å»æ•°æ®åº“é‡Œè¯»ä¸€ä¸‹æŸäº›ç›¸å…³æ•°æ®çœ‹æ˜¯å¦æœ‰å˜æ›´ï¼Œï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œåˆ™éœ€è¦é‡æ–°æ¸²æŸ“é¡µé¢æ¨¡æ¿ï¼Œå¦‚æœæ²¡æœ‰å˜æ›´ï¼Œåˆ™ç›´æ¥å°†ç¼“å­˜çš„ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚è¿™æ ·å¯¹äºæŸäº›å˜æ›´é¢‘ç‡ä¸é«˜çš„åŠ¨æ€å†…å®¹ï¼Œåœ¨è¯·æ±‚å¤„ç†æ—¶å°±å¯ä»¥é¿å…ä¸å¿…è¦çš„é¡µé¢æ¨¡æ¿æ¸²æŸ“è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;åˆ¤æ–­ç¼“å­˜ä¾èµ–æ˜¯å¦æœ‰å˜æ›´çš„é€»è¾‘æ˜¯ï¼š&lt;strong&gt;åœ¨å†™ç¼“å­˜æ—¶ï¼Œå°†å½“æ—¶ç¼“å­˜ä¾èµ–çš„ç»“æœä¸€å¹¶å­˜å…¥ç¼“å­˜ï¼Œè¯»ç¼“å­˜çš„æ—¶å€™ï¼Œå†å°†æœ€æ–°ç¼“å­˜ä¾èµ–çš„ç»“æœä¸ä¹‹å‰å­˜å…¥ç¼“å­˜çš„ä¾èµ–ç»“æœåšå¯¹æ¯”ï¼Œä¸ç›¸åŒï¼Œåˆ™è¯´æ˜æœ‰å˜æ›´&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç¼“å­˜ä¾èµ–ç±»éœ€è¦å®ç°æ¥å£&lt;code&gt;ICacheDependency&lt;/code&gt;ï¼Œè¯¥æ¥å£å£°æ˜äº†ä¸¤ä¸ªæ–¹æ³•&lt;code&gt;evaluateDependency&lt;/code&gt;å’Œ&lt;code&gt;getHasChanged&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ç¼“å­˜ä¾èµ–ç±»&lt;code&gt;CDbCacheDependency&lt;/code&gt;ä¸ºä¾‹ï¼ˆè§æ–‡ä»¶&lt;code&gt;yii/framework/caching/dependencies/CDbCacheDependency.php&lt;/code&gt;ï¼‰ï¼Œ
è¯¥ç±»ç›´æ¥ç»§æ‰¿è‡ªç±»&lt;code&gt;CCacheDependency&lt;/code&gt;ã€‚ç±»&lt;code&gt;CDbCacheDependency&lt;/code&gt;çš„ä½œç”¨å°±æ˜¯æ ¹æ®ä¸€æ¡SQLè¯­å¥ä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®ï¼Œç„¶åæ ¹æ®æŸ¥è¯¢ç»“æœæ¥åˆ¤æ–­ç¼“å­˜æ˜¯å¦æœ‰æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;çˆ¶ç±»&lt;code&gt;CCacheDependency&lt;/code&gt;ä¸­å®ç°æ–¹æ³•&lt;code&gt;evaluateDependency&lt;/code&gt;å’Œ&lt;code&gt;getHasChanged&lt;/code&gt;ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Evaluates the dependency by generating and saving the data related with dependency.
 * This method is invoked by cache before writing data into it.
 */
public function evaluateDependency()
{
    // åˆ¤æ–­æ˜¯å¦å¤ç”¨ç¼“å­˜ä¾èµ–ç»“æœ
    // é»˜è®¤ä¸ºfalseï¼Œå¯åœ¨å®ä¾‹åŒ–ç¼“å­˜ä¾èµ–ç±»æ—¶è®¾ç½®
    // å¦å¤–å¯¹äºPHPæ¥è¯´ï¼Œè¿™ä¸ªâ€œå¤ç”¨â€ä¹Ÿåªèƒ½æ˜¯ä¸€æ¬¡è¯·æ±‚å¤„ç†è¿‡ç¨‹ä¸­çš„å¤ç”¨
    if ($this-&amp;gt;reuseDependentData)
    {
        // hashæ–¹æ³•ï¼šæ±‚å½“å‰å¯¹è±¡åºåˆ—åŒ–ç»“æœçš„sha1å“ˆå¸Œå€¼
        $hash=$this-&amp;gt;getHash();
        if(!isset(self::$_reusableData[$hash][&amp;#39;dependentData&amp;#39;]))
            // å¦‚æœæ²¡æœ‰ç»“æœå¯å¤ç”¨ï¼Œåˆ™å¾—é‡æ–°ç”Ÿæˆ
            self::$_reusableData[$hash][&amp;#39;dependentData&amp;#39;]=$this-&amp;gt;generateDependentData();
        $this-&amp;gt;_data=self::$_reusableData[$hash][&amp;#39;dependentData&amp;#39;];
    }
    else
        $this-&amp;gt;_data=$this-&amp;gt;generateDependentData();
}

/**
 * @return boolean whether the dependency has changed.
 */
// è¿™ä¸ªæ–¹æ³•å…¶å®æ˜¯è¯»ç¼“å­˜æ—¶ï¼Œä»ç¼“å­˜æ•°æ®ä¸­å–å‡ºç¼“å­˜ä¾èµ–çš„éƒ¨åˆ†ååºåˆ—åŒ–åå¾—åˆ°ä¸€ä¸ªä¾èµ–å¯¹è±¡ï¼Œç”±è¯¥ä¾èµ–å¯¹è±¡è°ƒç”¨å®ƒçš„è¿™ä¸ªæ–¹æ³•æ¥åˆ¤æ–­ç¼“å­˜ä¾èµ–æ˜¯å¦æœ‰å˜æ›´ï¼Œ
// æ‰€ä»¥å®ƒçš„_dataå±æ€§æ˜¯å†™ç¼“å­˜æ—¶çš„ç¼“å­˜ä¾èµ–æ•°æ®
public function getHasChanged()
{
    if ($this-&amp;gt;reuseDependentData)
    {
        $hash=$this-&amp;gt;getHash();
        if(!isset(self::$_reusableData[$hash][&amp;#39;dependentData&amp;#39;]))
            self::$_reusableData[$hash][&amp;#39;dependentData&amp;#39;]=$this-&amp;gt;generateDependentData();
        // ä¸ç›¸ç­‰ï¼Œåˆ™è¯´æ˜å‘ç”Ÿäº†å˜æ›´
        return self::$_reusableData[$hash][&amp;#39;dependentData&amp;#39;]!=$this-&amp;gt;_data;
    }
    else
        return $this-&amp;gt;generateDependentData()!=$this-&amp;gt;_data;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½†çˆ¶ç±»&lt;code&gt;CCacheDependency&lt;/code&gt;å¹¶æœªæœ‰æ•ˆå®ç°ä¸Šè¿°ä¸¤ä¸ªæ–¹æ³•ä¸­è°ƒç”¨çš„&lt;code&gt;generateDependentData&lt;/code&gt;æ–¹æ³•ï¼Œåœ¨ç±»&lt;code&gt;CDbCacheDependency&lt;/code&gt;ä¸­å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;protected function generateDependentData()
{
    if($this-&amp;gt;sql!==null)
    {
        // è·å–æ•°æ®åº“è¿æ¥ç»„ä»¶å¯¹è±¡
        $db=$this-&amp;gt;getDbConnection();
        // å‡†å¤‡SQLæ‰§è¡Œï¼Œå…¶ä¸­sqlå±æ€§åœ¨æ„é€ æ–¹æ³•ä¸­èµ‹å€¼
        $command=$db-&amp;gt;createCommand($this-&amp;gt;sql);
        if(is_array($this-&amp;gt;params))
        {
            // ç»‘å®šå‚æ•°
            foreach($this-&amp;gt;params as $name=&amp;gt;$value)
                $command-&amp;gt;bindValue($name,$value);
        }
        // é¿å…ä»ç¼“å­˜ä¸­è¯»å–æ•°æ®åº“æŸ¥è¯¢ç»“æœ
        if($db-&amp;gt;queryCachingDuration&amp;gt;0)
        {
            // temporarily disable and re-enable query caching
            $duration=$db-&amp;gt;queryCachingDuration;
            $db-&amp;gt;queryCachingDuration=0;
            $result=$command-&amp;gt;queryRow();
            $db-&amp;gt;queryCachingDuration=$duration;
        }
        else
            $result=$command-&amp;gt;queryRow();
        return $result;
    }
    else
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;CDbCacheDependency.sql cannot be empty.&amp;#39;));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="Yii"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>Yiiæºç é˜…è¯»ç¬”è®° - æ¨¡æ¿å¼•æ“é›†æˆ</title><link href="http://youngsterxyf.github.io/2014/11/18/read-yii-code-5/" rel="alternate"></link><published>2014-11-18T00:00:00+08:00</published><updated>2014-11-18T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-11-18:/2014/11/18/read-yii-code-5/</id><summary type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨æ¨¡æ¿å¼•æ“æ¥æ¸²æŸ“HTMLé¡µé¢ï¼Œè€Œä¸æ˜¯ä½¿ç”¨HTMLä»£ç ä¸­æ’å…¥PHPä»£ç çš„æ–¹å¼æ¥ç¼–å†™åŠ¨æ€é¡µé¢ã€‚Yiiæ¡†æ¶ä¸­æ¨¡æ¿å¼•æ“ä¹Ÿæ˜¯ä½œä¸ºç»„ä»¶å¼•å…¥çš„ï¼Œé»˜è®¤IDä¸ºviewRendererï¼Œ
ä½†ä»&lt;a href="http://youngsterxyf.github.io/2014/11/13/read-yii-code-3/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - ç»„ä»¶é›†æˆ&lt;/a&gt;å¯ä»¥çœ‹åˆ°Yii Webåº”ç”¨åŠ è½½çš„æ ¸å¿ƒç»„ä»¶ä¸­å¹¶æ²¡æœ‰viewRendererï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±é…ç½®ã€‚
Yiiæä¾›äº†ä¸€ä¸ªç›´æ¥å¯ç”¨çš„æ¨¡æ¿å¼•æ“ç»„ä»¶ç±»CPradoViewRendererï¼ˆè§ â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨æ¨¡æ¿å¼•æ“æ¥æ¸²æŸ“HTMLé¡µé¢ï¼Œè€Œä¸æ˜¯ä½¿ç”¨HTMLä»£ç ä¸­æ’å…¥PHPä»£ç çš„æ–¹å¼æ¥ç¼–å†™åŠ¨æ€é¡µé¢ã€‚Yiiæ¡†æ¶ä¸­æ¨¡æ¿å¼•æ“ä¹Ÿæ˜¯ä½œä¸ºç»„ä»¶å¼•å…¥çš„ï¼Œé»˜è®¤IDä¸ºviewRendererï¼Œ
ä½†ä»&lt;a href="http://youngsterxyf.github.io/2014/11/13/read-yii-code-3/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - ç»„ä»¶é›†æˆ&lt;/a&gt;å¯ä»¥çœ‹åˆ°Yii Webåº”ç”¨åŠ è½½çš„æ ¸å¿ƒç»„ä»¶ä¸­å¹¶æ²¡æœ‰viewRendererï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±é…ç½®ã€‚
Yiiæä¾›äº†ä¸€ä¸ªç›´æ¥å¯ç”¨çš„æ¨¡æ¿å¼•æ“ç»„ä»¶ç±»CPradoViewRendererï¼ˆè§æ–‡ä»¶&lt;code&gt;yii/framework/web/renderers/CPradoViewRenderer.php&lt;/code&gt;ï¼‰ï¼Œè¯¥æ¨¡æ¿å¼•æ“ç±»è®©å¼€å‘è€…å¯ä»¥ä½¿ç”¨ç±»Pradoæ¡†æ¶çš„æ¨¡æ¿è¯­æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³ä½¿ç”¨Smartyè¿™ç§ç¬¬ä¸‰æ–¹æ¨¡æ¿å¼•æ“ï¼Œæœ‰ä¸¤ç§æ–¹å¼å°†æ¨¡æ¿å¼•æ“å¼•å…¥Yiiä¸­ä½¿ç”¨ï¼ˆä»¥Smartyä¸ºä¾‹ï¼‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°†Smartyå°è£…æˆä¸€ä¸ªYiiçš„æ™®é€šç»„ä»¶ï¼Œç„¶åé…ç½®åŠ è½½åˆ°Yii::app()ã€‚å‡è®¾ç»„ä»¶IDä¸ºsmartyï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡&lt;code&gt;Yii::app()-&amp;gt;smarty&lt;/code&gt;æ¥è°ƒç”¨ç»„ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;å‚è€ƒCPradoViewRendererç±»çš„å®ç°ï¼Œå°†Smartyå°è£…æˆä¸€ä¸ªæ¨¡æ¿å¼•æ“ç»„ä»¶ï¼Œå¹¶ä»¥IDä¸ºviewRendererè¿›è¡Œé…ç½®åŠ è½½ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç›¸æ¯”è€Œè¨€ï¼Œç¬¬äºŒç§æ–¹å¼æ›´å¥½ã€‚åŸå› æ˜¯ï¼šç¬¬ä¸€ç§æ–¹å¼ç”±äºæ¯ç§ç¬¬ä¸‰æ–¹æ¨¡æ¿å¼•æ“çš„æ¥å£ä¸ä¸€æ ·ï¼Œå¦‚æœåº”ç”¨è¦æ›¿æ¢æ¨¡æ¿å¼•æ“ï¼Œå°±éœ€è¦ä¿®æ”¹æ§åˆ¶å™¨ç±»ä¸­çš„ä»£ç ã€‚è€Œç¬¬äºŒç§æ–¹å¼ç”±äºç¬¬ä¸‰æ–¹ç»„ä»¶ç»Ÿä¸€å°è£…æˆYiiæ¡†æ¶å®šä¹‰çš„æ¨¡æ¿å¼•æ“æ¥å£å½¢å¼ï¼Œ
æ‰€ä»¥å¦‚æœè¦æ›¿æ¢æ¨¡æ¿å¼•æ“ï¼Œåªéœ€ä¿®æ”¹è‡ªå®šä¹‰æ¨¡æ¿å¼•æ“ç»„ä»¶ç±»çš„æ¥å£å®ç°å°±å¯ä»¥äº†ã€‚è¿™æ ·è°ƒç”¨æ¨¡æ¿å¼•æ“çš„ä»£ç é€»è¾‘å°±åªä¾èµ–æ¥å£å½¢å¼ï¼Œè€Œä¸æ˜¯ä¾èµ–äºæ¥å£å®ç°ï¼Œä»è€Œå®ç°è§£è€¦ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦åˆ†æç¬¬äºŒç§æ–¹å¼çš„å®ç°ã€‚&lt;/p&gt;
&lt;h3&gt;åˆ†æ&lt;/h3&gt;
&lt;p&gt;Yiiä¸­å¯¹é¡µé¢æ¨¡æ¿è¿›è¡Œæ¸²æŸ“å¯ä»¥è°ƒç”¨&lt;code&gt;CController&lt;/code&gt;ç±»ï¼ˆè§æ–‡ä»¶&lt;code&gt;yii/framework/web/CController.php&lt;/code&gt;ï¼‰çš„æ–¹æ³•&lt;code&gt;render&lt;/code&gt;ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Renders a view with a layout.
 *
 * This method first calls {@link renderPartial} to render the view (called content view).
 * It then renders the layout view which may embed the content view at appropriate place.
 * In the layout view, the content view rendering result can be accessed via variable
 * &amp;lt;code&amp;gt;$content&amp;lt;/code&amp;gt;. At the end, it calls {@link processOutput} to insert scripts
 * and dynamic contents if they are available.
 *
 * By default, the layout view script is &amp;quot;protected/views/layouts/main.php&amp;quot;.
 * This may be customized by changing {@link layout}.
 *
 * @param string $view name of the view to be rendered. See {@link getViewFile} for details
 * about how the view script is resolved.
 * @param array $data data to be extracted into PHP variables and made available to the view script
 * @param boolean $return whether the rendering result should be returned instead of being displayed to end users.
 * @return string the rendering result. Null if the rendering result is not required.
 * @see renderPartial
 * @see getLayoutFile
 */
public function render($view,$data=null,$return=false)
{
    // beforeRenderé»˜è®¤è¿”å›trueï¼Œ
    // å¯ä»¥åœ¨è‡ªå®šä¹‰controllerç±»ä¸­é‡å†™è¯¥æ–¹æ³•ï¼Œå®ç°æ¸²æŸ“ä¹‹å‰çš„é¢„å¤„ç†
    // ä½†å’ŒbeforeActionä¸€æ ·ï¼Œåº”è¯¥è¦è¿”å›trueæˆ–false
    if($this-&amp;gt;beforeRender($view))
    {
        // æ¸²æŸ“çœŸæ­£çš„å†…å®¹éƒ¨åˆ†
        $output=$this-&amp;gt;renderPartial($view,$data,true);
        // è·å–å¸ƒå±€æ–‡ä»¶
        if(($layoutFile=$this-&amp;gt;getLayoutFile($this-&amp;gt;layout))!==false)
            // æ¸²æŸ“æ•´ä¸ªé¡µé¢
            $output=$this-&amp;gt;renderFile($layoutFile,array(&amp;#39;content&amp;#39;=&amp;gt;$output),true);

        // æ¸²æŸ“çš„åå¤„ç†ï¼Œé»˜è®¤ä¸ºç©ºï¼Œåœ¨processOutputä¹‹å‰è°ƒç”¨
        $this-&amp;gt;afterRender($view,$output);

        // å¯¹æ¸²æŸ“ç»“æœè¿›è¡Œå¤„ç†
        $output=$this-&amp;gt;processOutput($output);

        // å¯ä»¥å°†æ¸²æŸ“ç»“æœä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼è¿”å›ï¼Œæˆ–è€…ç›´æ¥è¾“å‡ºåˆ°ç”¨æˆ·æµè§ˆå™¨
        if($return)
            return $output;
        else
            echo $output;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ–¹æ³•renderPartialçš„å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Renders a view.
 *
 * The named view refers to a PHP script (resolved via {@link getViewFile})
 * that is included by this method. If $data is an associative array,
 * it will be extracted as PHP variables and made available to the script.
 *
 * This method differs from {@link render()} in that it does not
 * apply a layout to the rendered result. It is thus mostly used
 * in rendering a partial view, or an AJAX response.
 *
 * @param string $view name of the view to be rendered. See {@link getViewFile} for details
 * about how the view script is resolved.
 * @param array $data data to be extracted into PHP variables and made available to the view script
 * @param boolean $return whether the rendering result should be returned instead of being displayed to end users
 * @param boolean $processOutput whether the rendering result should be postprocessed using {@link processOutput}.
 * @return string the rendering result. Null if the rendering result is not required.
 * @throws CException if the view does not exist
 * @see getViewFile
 * @see processOutput
 * @see render
 */
public function renderPartial($view,$data=null,$return=false,$processOutput=false)
{
    // è·å–ç›®æ ‡æ¨¡æ¿æ–‡ä»¶
    $viewFile=$this-&amp;gt;getViewFile($view);
    echo (basename(__FILE__).&amp;#39;:&amp;#39;.__LINE__.&amp;#39;:&amp;#39;.__FUNCTION__.&amp;#39;() $viewFile &amp;#39;. var_export($viewFile, true));
    if(($viewFile)!==false)
    {
        // æ¸²æŸ“
        $output=$this-&amp;gt;renderFile($viewFile,$data,true);
        // å¦‚æœ$processOutputä¸ºçœŸï¼Œåˆ™ä¹Ÿä¼šå¯¹ç»“æœè¿›è¡Œåå¤„ç†
        if($processOutput)
            $output=$this-&amp;gt;processOutput($output);
        if($return)
            return $output;
        else
            echo $output;
    }
    else
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;{controller} cannot find the requested view &amp;quot;{view}&amp;quot;.&amp;#39;,
            array(&amp;#39;{controller}&amp;#39;=&amp;gt;get_class($this), &amp;#39;{view}&amp;#39;=&amp;gt;$view)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;renderPartial&lt;/code&gt;æ–¹æ³•å¹¶ä¸ä¼šæ¸²æŸ“å‡ºä¸€ä¸ªå®Œæ•´çš„é¡µé¢ï¼Œåªæ˜¯æ¸²æŸ“é¡µé¢çš„ä¸€éƒ¨åˆ†ï¼Œé€šå¸¸æ˜¯ä¸»ä½“éƒ¨åˆ†ï¼Œæˆ–è€…ä¸ºAJAXè¯·æ±‚æ¸²æŸ“å‡ºå“åº”ç»“æœã€‚
å…¶ä¸­è°ƒç”¨çš„getViewFileæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getViewFile($viewName)
{
    // å¦‚æœæœªé…ç½®themeé¡¹ï¼Œå³è¡¨ç¤ºä¸ä½¿ç”¨themeï¼Œé‚£ä¹ˆgetThemeæ–¹æ³•è¿”å›null
    if(($theme=Yii::app()-&amp;gt;getTheme())!==null &amp;amp;&amp;amp; ($viewFile=$theme-&amp;gt;getViewFile($this,$viewName))!==false)
        return $viewFile;
    // viewPathé»˜è®¤ä¸ºviewsï¼Œå¯é…ç½®
    $moduleViewPath=$basePath=Yii::app()-&amp;gt;getViewPath();
    echo (basename(__FILE__).&amp;#39;:&amp;#39;.__LINE__.&amp;#39;:&amp;#39;.__FUNCTION__.&amp;#39;() $moduleViewPath &amp;#39;. var_export($moduleViewPath, true)),&amp;quot;\n&amp;quot;;
    // æ¨¡å—åŒ–ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™getModuleè¿”å›null
    if(($module=$this-&amp;gt;getModule())!==null)
        $moduleViewPath=$module-&amp;gt;getViewPath();
    // $this-&amp;gt;getViewPath()å¾—åˆ°çš„è·¯å¾„ç›¸æ¯”$moduleViewPathå°±æ˜¯å¤šäº†controllerçš„IDä¸€çº§
    return $this-&amp;gt;resolveViewFile($viewName,$this-&amp;gt;getViewPath(),$basePath,$moduleViewPath);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»£ç ä¸­&lt;code&gt;$this-&amp;gt;getViewPath()&lt;/code&gt;æ–¹æ³•çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getViewPath()
{
    if(($module=$this-&amp;gt;getModule())===null)
        $module=Yii::app();
    // $this-&amp;gt;getId()æ˜¯å¾—åˆ°å½“å‰controllerçš„IDï¼Œè¿™ä¸ªIDæ˜¯åœ¨controllerå®ä¾‹åŒ–æ—¶æ„é€ æ–¹æ³•ä¸­èµ‹å€¼ç»™å±æ€§_idçš„ã€‚
    // è¿™ä¹Ÿå°±æ„å‘³ç€é¡µé¢æ¨¡æ¿æ–‡ä»¶éœ€è¦æŒ‰ç…§controllerçš„IDåˆ†ç›®å½•å­˜æ”¾
    return $module-&amp;gt;getViewPath().DIRECTORY_SEPARATOR.$this-&amp;gt;getId();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;getViewFile&lt;/code&gt;ä¸­æœ€åè°ƒç”¨çš„æ–¹æ³•&lt;code&gt;resolveViewFile&lt;/code&gt;å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function resolveViewFile($viewName,$viewPath,$basePath,$moduleViewPath=null)
{
    // è¿æ¨¡æ¿æ–‡ä»¶åéƒ½ä¸ç»™ï¼Œè¿˜ç©ä¸ªå±å•Š
    if(empty($viewName))
        return false;

    // è‹¥$moduleViewPathæœªè®¾ç½®ï¼Œåˆ™åœ¨åº”ç”¨çš„é¡µé¢æ¨¡æ¿çš„æ ¹ç›®å½•ä¸‹æ‰¾
    if($moduleViewPath===null)
        $moduleViewPath=$basePath;

    // è·å–è®¾ç½®çš„æ¨¡æ¿æ¸²æŸ“å¼•æ“ï¼Œå…¶å®å°±æ˜¯åŠ è½½IDä¸ºviewRendererçš„ç»„ä»¶
    if(($renderer=Yii::app()-&amp;gt;getViewRenderer())!==null)
        // æ¨¡æ¿æ–‡ä»¶çš„æ‰©å±•ç±»å‹é»˜è®¤ä¸º&amp;#39;.php&amp;#39;ï¼Œå¯é…ç½®
        $extension=$renderer-&amp;gt;fileExtension;
    else
        $extension=&amp;#39;.php&amp;#39;;
    echo (basename(__FILE__).&amp;#39;:&amp;#39;.__LINE__.&amp;#39;:&amp;#39;.__FUNCTION__.&amp;#39;() $extension &amp;#39;. var_export($extension, true)),&amp;quot;\n&amp;quot;;
    // å¦‚æœæŒ‡å®šçš„æ¨¡æ¿æ–‡ä»¶åä»¥/å¼€å§‹
    if($viewName[0]===&amp;#39;/&amp;#39;)
    {
        // å¦‚æœæŒ‡å®šçš„æ¨¡æ¿æ–‡ä»¶åä»¥//å¼€å§‹ï¼Œåˆ™è¡¨ç¤ºåœ¨æ¨¡æ¿çš„æ ¹ç›®å½•ä¸‹æŸ¥æ‰¾
        if(strncmp($viewName,&amp;#39;//&amp;#39;,2)===0)
            $viewFile=$basePath.$viewName;
        // å¦åˆ™ï¼ˆä»¥å•ä¸ª/å¼€å§‹ï¼‰åœ¨æ¨¡å—çš„æ¨¡æ¿ç›®å½•ä¸‹æŸ¥æ‰¾
        else
            $viewFile=$moduleViewPath.$viewName;
    }
    // å¦‚æœæ¨¡æ¿æ–‡ä»¶åä¸­å­˜åœ¨.ä¸”.ä¸å‡ºç°åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œåˆ™è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªè·¯å¾„åˆ«åï¼Œéœ€è¦è½¬æ¢çœŸæ­£çš„è·¯å¾„
    elseif(strpos($viewName,&amp;#39;.&amp;#39;))
        $viewFile=Yii::getPathOfAlias($viewName);
    else
        // å¦åˆ™åœ¨å½“å‰controllerçš„æ¨¡æ¿ç›®å½•ä¸‹æ‰¾
        $viewFile=$viewPath.DIRECTORY_SEPARATOR.$viewName;

    // å¯èƒ½ç«™ç‚¹æ˜¯éœ€è¦å›½é™…åŒ–çš„
    // æ‰€ä»¥åœ¨æ‰¾åˆ°é»˜è®¤çš„æ¨¡æ¿æ–‡ä»¶åï¼Œå°è¯•æ‰¾ä¸€ä¸‹å¯¹åº”ç”¨æˆ·ç›®æ ‡è¯­è¨€çš„æ¨¡æ¿æ–‡ä»¶
    if(is_file($viewFile.$extension))
        return Yii::app()-&amp;gt;findLocalizedFile($viewFile.$extension);
    // å¦‚æœä¸å­˜åœ¨æŒ‡å®šæ‰©å±•ç±»å‹çš„æ¨¡æ¿æ–‡ä»¶ï¼Œä¸”æ‰©å±•ç±»å‹ä¸ä¸º&amp;#39;.php&amp;#39;ï¼Œåˆ™çœ‹ä¸€ä¸‹&amp;#39;.php&amp;#39;ç±»å‹çš„æ¨¡æ¿æ–‡ä»¶æ˜¯å¦å­˜åœ¨
    elseif($extension!==&amp;#39;.php&amp;#39; &amp;amp;&amp;amp; is_file($viewFile.&amp;#39;.php&amp;#39;))
        return Yii::app()-&amp;gt;findLocalizedFile($viewFile.&amp;#39;.php&amp;#39;);
    else
        return false;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ–¹æ³•&lt;code&gt;resolveViewFile&lt;/code&gt;ä¸­æœ€åè°ƒç”¨çš„æ–¹æ³•&lt;code&gt;findLocalizedFile&lt;/code&gt;ï¼Œå®šä¹‰äºæŠ½è±¡ç±»CApplicationä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function findLocalizedFile($srcFile,$srcLanguage=null,$language=null)
{
    if($srcLanguage===null)
        // sourceLanguageä¸ºpublicçš„å±æ€§ï¼Œå¯é…ç½®ï¼Œé»˜è®¤ä¸ºen_us
        $srcLanguage=$this-&amp;gt;sourceLanguage;
    if($language===null)
        // getLanguageçš„å®ç°ï¼š$this-&amp;gt;_language===null ? $this-&amp;gt;sourceLanguage : $this-&amp;gt;_language
        // é»˜è®¤_languageä¸ºæœªèµ‹å€¼ï¼Œå³nullï¼Œæ‰€ä»¥å–åˆ°çš„è¿˜æ˜¯sourceLanguageå±æ€§å€¼ã€‚
        // ä½†å› ä¸º__setï¼Œæ‰€ä»¥ä¹Ÿæ˜¯å¯èµ‹å€¼çš„ï¼Œè¿™ä¸ªèµ‹å€¼ä¸åº”è¯¥æ˜¯é…ç½®é€ æˆçš„ï¼Œåº”è¯¥æ˜¯æ ¹æ®ç”¨æˆ·çš„cookieä¸­æŒ‡å®šçš„è¯­è¨€é€‰é¡¹ï¼Œåœ¨è¯·æ±‚å¤„ç†æ—¶è®¾ç½®çš„ï¼Œè¡¨ç¤ºç”¨æˆ·çš„ç›®æ ‡è¯­è¨€
        $language=$this-&amp;gt;getLanguage();
    // å¦‚æœç”¨æˆ·çš„ç›®æ ‡è¯­è¨€ï¼ˆæˆ–è€…ç”¨æˆ·é€‰æ‹©çš„æ˜¯é»˜è®¤è¯­è¨€ï¼‰ï¼Œåˆ™ç›´æ¥è¿”å›é»˜è®¤æ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„
    if($language===$srcLanguage)
        return $srcFile;
    // å¦åˆ™å–åˆ°å¯¹åº”ç›®æ ‡è¯­è¨€çš„æ¨¡æ¿æ–‡ä»¶
    $desiredFile=dirname($srcFile).DIRECTORY_SEPARATOR.$language.DIRECTORY_SEPARATOR.basename($srcFile);
    // å¦‚æœå¯¹åº”ç›®æ ‡è¯­è¨€çš„æ¨¡æ¿æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¿˜æ˜¯è¿”å›é»˜è®¤çš„æ¨¡æ¿æ–‡ä»¶
    return is_file($desiredFile) ? $desiredFile : $srcFile;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸Šè¿°æ¨¡æ¿æ–‡ä»¶çš„å¯»æ‰¾è¿‡ç¨‹å¯ä»¥çœ‹åˆ°ï¼Œæœ€åè¿”å›çš„ç›®æ ‡æ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„æ˜¯ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼Œä»¥åŠ¨æ€è„šæœ¬æ ¹ç›®å½•ï¼ˆé»˜è®¤ä¸ºprotectedï¼‰å¼€å§‹ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•&lt;code&gt;renderPartial&lt;/code&gt;ä¸­åœ¨å¾—åˆ°ç›®æ ‡æ¨¡æ¿æ–‡ä»¶ç›¸å¯¹è·¯å¾„åï¼Œå³è°ƒç”¨renderFileæ–¹æ³•ï¼ˆå®šä¹‰äºCBaseControllerç±»ä¸­ï¼‰æ¥æ¸²æŸ“æ¨¡æ¿ï¼Œè¯¥æ–¹æ³•çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function renderFile($viewFile,$data=null,$return=false)
{
    $widgetCount=count($this-&amp;gt;_widgetStack);
    // Yii::app()-&amp;gt;getViewRenderer() è·å–æ¨¡æ¿å¼•æ“ç»„ä»¶
    if(($renderer=Yii::app()-&amp;gt;getViewRenderer())!==null &amp;amp;&amp;amp; $renderer-&amp;gt;fileExtension===&amp;#39;.&amp;#39;.CFileHelper::getExtension($viewFile))
        $content=$renderer-&amp;gt;renderFile($this,$viewFile,$data,$return);
    else
        // å¦‚æœæ²¡æ³•ç”¨æ¨¡æ¿å¼•æ“æ¥æ¸²æŸ“ï¼ˆå¯èƒ½ä¸æ˜¯æ¨¡æ¿å¼•æ“çš„ç›®æ ‡æ¨¡æ¿ï¼Œä¹Ÿå¯èƒ½æ˜¯æ²¡è®¾ç½®æ¨¡æ¿å¼•æ“ç»„ä»¶ï¼‰ï¼Œåˆ™å½“å‰æ™®é€šçš„PHPæ–‡ä»¶ï¼ˆHTMLä»£ç ä¸­å¤¹æ‚ç€PHPä»£ç ï¼‰æ¥æ¸²æŸ“
        $content=$this-&amp;gt;renderInternal($viewFile,$data,$return);
    if(count($this-&amp;gt;_widgetStack)===$widgetCount)
        return $content;
    else
    {
        $widget=end($this-&amp;gt;_widgetStack);
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;{controller} contains improperly nested widget tags in its view &amp;quot;{view}&amp;quot;. A {widget} widget does not have an endWidget() call.&amp;#39;,
            array(&amp;#39;{controller}&amp;#39;=&amp;gt;get_class($this), &amp;#39;{view}&amp;#39;=&amp;gt;$viewFile, &amp;#39;{widget}&amp;#39;=&amp;gt;get_class($widget))));
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;renderFile&lt;/code&gt;ä¸­&lt;code&gt;$content=$renderer-&amp;gt;renderFile($this,$viewFile,$data,$return);&lt;/code&gt;ä¸€è¡Œè°ƒç”¨çš„renderFileæ–¹æ³•ï¼Œåœ¨æŠ½è±¡ç±»CViewRendererä¸­å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function renderFile($context,$sourceFile,$data,$return)
{
    if(!is_file($sourceFile) || ($file=realpath($sourceFile))===false)
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;View file &amp;quot;{file}&amp;quot; does not exist.&amp;#39;,array(&amp;#39;{file}&amp;#39;=&amp;gt;$sourceFile)));
    // å°è¯•ä»runtimeç›®å½•ä¸­è·å–å·²ç¼–è¯‘å¥½çš„æ¨¡æ¿ï¼Œå¦‚æœç¼–è¯‘å¥½çš„æ¨¡æ¿ä¸æ˜¯åŒä¸€å­˜æ”¾åœ¨runtimeç›®å½•ä¸‹ï¼Œåˆ™é»˜è®¤å’Œæœªç¼–è¯‘çš„æ¨¡æ¿æ–‡ä»¶åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œå¹¶ä¸”æ–‡ä»¶åå¤šä¸€ä¸ª&amp;quot;c&amp;quot;åç¼€
    // å¾—åˆ°$viewFileå¯èƒ½å¹¶ä¸å­˜åœ¨ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚è¯¥æ¨¡æ¿
    $viewFile=$this-&amp;gt;getViewFile($sourceFile);
    // å¦‚æœç›¸æ¯”å·²ç¼–è¯‘å¥½çš„æ¨¡æ¿æ–‡ä»¶ï¼Œæœªç¼–è¯‘çš„æ¨¡æ¿å·²å‘ç”Ÿå˜æ›´ï¼Œåˆ™éœ€è¦é‡æ–°ç¼–è¯‘
    // å¦‚æœå·²ç¼–è¯‘å¥½çš„æ¨¡æ¿æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™@filemtime($viewFile)è¿”å›çš„æ˜¯falseï¼Œè¿™ä¸ªæ¡ä»¶ä¹Ÿæ˜¯è¿”å›true
    if(@filemtime($sourceFile)&amp;gt;@filemtime($viewFile))
    {
        // æŠ½è±¡ç±»CViewRendererä¸­generateViewFileæ–¹æ³•å¹¶æœªå®ç°ï¼Œæ‰€ä»¥è‡ªå·±å°è£…æ¨¡æ¿å¼•æ“ç»„ä»¶æ—¶éœ€è¦å®ç°è¯¥æ–¹æ³•
        $this-&amp;gt;generateViewFile($sourceFile,$viewFile);
        // è®¾ç½®ç¼–è¯‘å¥½çš„æ¨¡æ¿æ–‡ä»¶çš„è®¿é—®æƒé™ï¼Œé»˜è®¤æ˜¯0755 (owner rwx, group rx and others rx)
        @chmod($viewFile,$this-&amp;gt;filePermission);
    }
    // ç¼–è¯‘å¥½çš„æ¨¡æ¿æ–‡ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªPHPè„šæœ¬ï¼ˆHTMLä»£ç ä¸­å¤¹æ‚PHPä»£ç ï¼‰ï¼Œæ‰€ä»¥è¿˜éœ€è¦æ¸²æŸ“ä¸€ä¸‹
    return $context-&amp;gt;renderInternal($viewFile,$data,$return);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç±»&lt;code&gt;CController&lt;/code&gt;çš„&lt;code&gt;render&lt;/code&gt;æ–¹æ³•åœ¨è°ƒç”¨&lt;code&gt;renderPartial&lt;/code&gt;å¾—åˆ°æ¸²æŸ“ç»“æœåï¼Œå–å¾—é¡µé¢å¸ƒå±€æ¨¡æ¿æ–‡ä»¶ï¼Œç„¶åå°†&lt;code&gt;renderPartial&lt;/code&gt;çš„æ¸²æŸ“ç»“æœä½œä¸ºæ•°æ®æ¸²æŸ“å¸ƒå±€æ¨¡æ¿ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªå®Œæ•´HTMLé¡µé¢ã€‚
è·å–å¸ƒå±€æ¨¡æ¿æ–‡ä»¶è·¯å¾„çš„æ–¹æ³•&lt;code&gt;getLayoutFile&lt;/code&gt;å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼ˆå®šä¹‰äºç±»CControllerä¸­ï¼‰ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getLayoutFile($layoutName)
{
    if($layoutName===false)
        return false;
    if(($theme=Yii::app()-&amp;gt;getTheme())!==null &amp;amp;&amp;amp; ($layoutFile=$theme-&amp;gt;getLayoutFile($this,$layoutName))!==false)
        return $layoutFile;

    if(empty($layoutName))
    {
        $module=$this-&amp;gt;getModule();
        // é€’å½’å‘çˆ¶çº§æ¨¡æ¿æŸ¥æ‰¾å¸ƒå±€æ–‡ä»¶
        while($module!==null)
        {
            if($module-&amp;gt;layout===false)
                return false;
            if(!empty($module-&amp;gt;layout))
                break;
            $module=$module-&amp;gt;getParentModule();
        }
        // å¦‚æœå½“å‰controllerä¸å±äºæŸä¸ªmodule
        if($module===null)
            $module=Yii::app();
        // é»˜è®¤ä¸ºmainï¼Œå¯é…ç½®
        $layoutName=$module-&amp;gt;layout;
    }
    elseif(($module=$this-&amp;gt;getModule())===null)
        $module=Yii::app();

    return $this-&amp;gt;resolveViewFile($layoutName,$module-&amp;gt;getLayoutPath(),Yii::app()-&amp;gt;getViewPath(),$module-&amp;gt;getViewPath());
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶é€»è¾‘ä¸æ–¹æ³•&lt;code&gt;getViewFile&lt;/code&gt;ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç”±ä¸Šè¿°åˆ†æå¯çŸ¥ï¼Œå°†ç¬¬ä¸‰æ–¹æ¨¡æ¿å¼•æ“å°è£…æˆYiiæ¡†æ¶çš„æ¨¡æ¿å¼•æ“ç»„ä»¶ï¼Œå¯ä»¥ç»§æ‰¿è‡ªæŠ½è±¡ç±»&lt;code&gt;CViewRenderer&lt;/code&gt;ï¼Œå¹¶å®ç°å…¶æ–¹æ³•&lt;code&gt;generateViewFile&lt;/code&gt;ï¼Œç„¶åé…ç½®è¯¥ç»„ä»¶çš„IDä¸º&lt;code&gt;viewRenderer&lt;/code&gt;ã€‚
å¯¹äºæ¨¡æ¿æ–‡ä»¶çš„å­˜æ”¾ï¼Œéœ€è¦è€ƒè™‘Webåº”ç”¨æ˜¯å¦åˆ†æ¨¡å—ã€åº”ç”¨æ˜¯å¦å›½é™…åŒ–ã€æ¨¡æ¿æ–‡ä»¶ç›¸å…³controllerçš„IDç­‰ï¼Œæ¨¡æ¿æ–‡ä»¶åçš„æ‰©å±•ç±»å‹åº”ä¸æ¨¡æ¿å¼•æ“ç»„ä»¶é…ç½®çš„ä¸€æ ·ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="Yii"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>Yiiæºç é˜…è¯»ç¬”è®° - Modelå±‚å®ç°</title><link href="http://youngsterxyf.github.io/2014/11/14/read-yii-code-4/" rel="alternate"></link><published>2014-11-14T00:00:00+08:00</published><updated>2014-11-14T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-11-14:/2014/11/14/read-yii-code-4/</id><summary type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;Yiiä¸­ï¼Œå¯¹Modelå±‚çš„ä½¿ç”¨ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡ç±»CDbConnectionå’ŒCDbCommandæ¥æ“ä½œ&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ORMå½¢å¼ï¼šç¼–å†™modelç±»ç»§æ‰¿è‡ªæŠ½è±¡ç±»CActiveRecord&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¬¬1ç§æ–¹å¼çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$connection = Yii::app()-&amp;gt;db;  &lt;span style="color: #008000"&gt;// æˆ–è€…Yii::app()-&amp;gt;getComponent(&amp;#39;db&amp;#39;);&lt;/span&gt;
$queryResult = $connection-&amp;gt;createCommand($sql)-&amp;gt;queryRow();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç¬¬2ç§æ–¹å¼ä¸­ç¼–å†™çš„modelç±»å¯èƒ½éœ€è¦å®ç°æ–¹æ³•&lt;code&gt;getDbConnection&lt;/code&gt;ã€&lt;code&gt;model&lt;/code&gt;ã€&lt;code&gt;tableName&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®ç°ä¸Šï¼Œç¬¬2ç§æ–¹å¼æ˜¯åŸºäºç¬¬1ç§æ–¹å¼çš„ï¼Œå³ â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;Yiiä¸­ï¼Œå¯¹Modelå±‚çš„ä½¿ç”¨ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡ç±»CDbConnectionå’ŒCDbCommandæ¥æ“ä½œ&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ORMå½¢å¼ï¼šç¼–å†™modelç±»ç»§æ‰¿è‡ªæŠ½è±¡ç±»CActiveRecord&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¬¬1ç§æ–¹å¼çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$connection = Yii::app()-&amp;gt;db;  &lt;span style="color: #008000"&gt;// æˆ–è€…Yii::app()-&amp;gt;getComponent(&amp;#39;db&amp;#39;);&lt;/span&gt;
$queryResult = $connection-&amp;gt;createCommand($sql)-&amp;gt;queryRow();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç¬¬2ç§æ–¹å¼ä¸­ç¼–å†™çš„modelç±»å¯èƒ½éœ€è¦å®ç°æ–¹æ³•&lt;code&gt;getDbConnection&lt;/code&gt;ã€&lt;code&gt;model&lt;/code&gt;ã€&lt;code&gt;tableName&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®ç°ä¸Šï¼Œç¬¬2ç§æ–¹å¼æ˜¯åŸºäºç¬¬1ç§æ–¹å¼çš„ï¼Œå³ç¬¬2ç§æ–¹å¼çš„æŠ½è±¡ç¨‹åº¦æ›´é«˜ã€‚Yiiæ²¡æœ‰å±è”½ç¬¬1ç§æ–¹å¼ï¼Œè¿™æ ·èƒ½è®©å¼€å‘è€…æŒ‰éœ€é€‰æ‹©ã€‚
ä½†æˆ‘ä¸ªäººå¹¶ä¸å–œæ¬¢è¿™æ ·ï¼Œä¸¤ç§æ–¹å¼åŒæ—¶å­˜åœ¨ï¼Œä¼šå¯¼è‡´åº”ç”¨çš„modelå®ç°ç¨æ˜¾æ··ä¹±ã€‚&lt;/p&gt;
&lt;h3&gt;åˆ†æ&lt;/h3&gt;
&lt;p&gt;Yiiæ¡†æ¶modelå±‚çš„å…¥å£ä¸ºCDbConnectionç±»ï¼Œè¯¥ç±»æœ‰å¾ˆå¤špublicçš„å±æ€§å¯ä¾›é…ç½®ï¼Œå¦‚&lt;code&gt;connectionString&lt;/code&gt;ã€&lt;code&gt;username&lt;/code&gt;ã€&lt;code&gt;password&lt;/code&gt;ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®&lt;a href="http://youngsterxyf.github.io/2014/11/13/read-yii-code-3/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - ç»„ä»¶é›†æˆ&lt;/a&gt;ä¸€æ–‡å¯çŸ¥ï¼Œç»„ä»¶åˆå§‹åŒ–æ—¶ä¼šè°ƒç”¨initæ–¹æ³•ã€‚
ç±»CDbConnectionçš„initç±»å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function init()
{
    parent::init();
    // å±æ€§autoConnecté»˜è®¤ä¸ºtrue
    if($this-&amp;gt;autoConnect)
        $this-&amp;gt;setActive(true);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­è°ƒç”¨çš„setActiveæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function setActive($value)
{
    // å½“$valueä¸ºtrueï¼Œè€Œ_activeä¸ºfalseï¼ˆè¡¨ç¤ºæ•°æ®åº“è¿æ¥æœªæ‰“å¼€ï¼‰ï¼Œåˆ™æ‰“å¼€æ•°æ®åº“è¿æ¥
    // å½“$valueä¸ºfalse, è€Œ_activeä¸ºtrueï¼ˆè¡¨ç¤ºæ•°æ®åº“è¿æ¥å·²æ‰“å¼€ï¼‰ï¼Œåˆ™å…³é—­æ•°æ®åº“è¿æ¥
    if($value!=$this-&amp;gt;_active)
    {
        if($value)
            $this-&amp;gt;open();
        else
            $this-&amp;gt;close();
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ–¹æ³•openå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Opens DB connection if it is currently not
 * @throws CException if connection fails
 */
protected function open()
{
    if($this-&amp;gt;_pdo===null)
    {
        // æ‰€ä»¥éœ€è¦é…ç½®connectionString
        if(empty($this-&amp;gt;connectionString))
            throw new CDbException(&amp;#39;CDbConnection.connectionString cannot be empty.&amp;#39;);
        try
        {
            Yii::trace(&amp;#39;Opening DB connection&amp;#39;,&amp;#39;system.db.CDbConnection&amp;#39;);
            // åŸºäºPDOç±»å»ºç«‹æ•°æ®åº“è¿æ¥ï¼ˆå¯¹äºæŸäº›æ•°æ®åº“ä¸ä½¿ç”¨PDOï¼‰
            $this-&amp;gt;_pdo=$this-&amp;gt;createPdoInstance();
            // è®¾ç½®æ•°æ®åº“è¿æ¥çš„ä¸€äº›å±æ€§ï¼Œå¦‚å­—ç¬¦ç¼–ç ç­‰
            $this-&amp;gt;initConnection($this-&amp;gt;_pdo);
            // æ ‡å¿—ä½è®¾ç½®ä¸ºå·²æ‰“å¼€
            $this-&amp;gt;_active=true;
        }
        catch(PDOException $e)
        {
            // çœç•¥
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ–¹æ³•closeå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Closes the currently active DB connection.
 * It does nothing if the connection is already closed.
 */
protected function close()
{
    Yii::trace(&amp;#39;Closing DB connection&amp;#39;,&amp;#39;system.db.CDbConnection&amp;#39;);
    $this-&amp;gt;_pdo=null;
    $this-&amp;gt;_active=false;
    $this-&amp;gt;_schema=null;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;openæ–¹æ³•ä¸­è°ƒç”¨çš„æ–¹æ³•createPdoInstanceå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Creates the PDO instance.
 * When some functionalities are missing in the pdo driver, we may use
 * an adapter class to provide them.
 * @throws CDbException when failed to open DB connection
 * @return PDO the pdo instance
 */
protected function createPdoInstance()
{
    // å±æ€§pdoClassé»˜è®¤ä¸ºPDO
    $pdoClass=$this-&amp;gt;pdoClass;
    if(($pos=strpos($this-&amp;gt;connectionString,&amp;#39;:&amp;#39;))!==false)
    {
        // å–å‡ºæ•°æ®åº“é©±åŠ¨ç±»å‹
        $driver=strtolower(substr($this-&amp;gt;connectionString,0,$pos));
        if($driver===&amp;#39;mssql&amp;#39; || $driver===&amp;#39;dblib&amp;#39;)
            $pdoClass=&amp;#39;CMssqlPdoAdapter&amp;#39;;
        elseif($driver===&amp;#39;sqlsrv&amp;#39;)
            $pdoClass=&amp;#39;CMssqlSqlsrvPdoAdapter&amp;#39;;
    }

    if(!class_exists($pdoClass))
        throw new CDbException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;CDbConnection is unable to find PDO class &amp;quot;{className}&amp;quot;. Make sure PDO is installed correctly.&amp;#39;,
            array(&amp;#39;{className}&amp;#39;=&amp;gt;$pdoClass)));

    // å®ä¾‹åŒ–ç±»PDOï¼Œå¯èƒ½å¤±è´¥
    @$instance=new $pdoClass($this-&amp;gt;connectionString,$this-&amp;gt;username,$this-&amp;gt;password,$this-&amp;gt;_attributes);

    if(!$instance)
        throw new CDbException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;CDbConnection failed to open the DB connection.&amp;#39;));

    return $instance;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºMySQLæ•°æ®åº“è€Œè¨€ï¼Œæ–¹æ³•createPdoInstanceè¿”å›çš„æ˜¯ä¸€ä¸ªPDOå¯¹è±¡ï¼Œèµ‹å€¼ç»™CDbConnectionå¯¹è±¡çš„_pdoå±æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•initConnectionçš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Initializes the open db connection.
 * This method is invoked right after the db connection is established.
 * The default implementation is to set the charset for MySQL and PostgreSQL database connections.
 * @param PDO $pdo the PDO instance
 */
protected function initConnection($pdo)
{
    // è®¾ç½®æ•°æ®åº“è¿æ¥çš„ä¸€äº›å±æ€§
    $pdo-&amp;gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    if($this-&amp;gt;emulatePrepare!==null &amp;amp;&amp;amp; constant(&amp;#39;PDO::ATTR_EMULATE_PREPARES&amp;#39;))
        $pdo-&amp;gt;setAttribute(PDO::ATTR_EMULATE_PREPARES,$this-&amp;gt;emulatePrepare);
    if($this-&amp;gt;charset!==null)
    {
        $driver=strtolower($pdo-&amp;gt;getAttribute(PDO::ATTR_DRIVER_NAME));
        if(in_array($driver,array(&amp;#39;pgsql&amp;#39;,&amp;#39;mysql&amp;#39;,&amp;#39;mysqli&amp;#39;)))
            $pdo-&amp;gt;exec(&amp;#39;SET NAMES &amp;#39;.$pdo-&amp;gt;quote($this-&amp;gt;charset));
    }
    // æ‰§è¡Œä¸€äº›åˆå§‹åŒ–çš„SQLè¯­å¥
    // public $initSQLs : array list of SQL statements that should be executed right after the DB connection is established.
    if($this-&amp;gt;initSQLs!==null)
    {
        foreach($this-&amp;gt;initSQLs as $sql)
            $pdo-&amp;gt;exec($sql);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;ç”±äºç¬¬2ç§æ–¹å¼æ˜¯åŸºäºç¬¬1ä¸­æ–¹å¼å®ç°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆçœ‹çœ‹ç¬¬1ç§æ–¹å¼çš„å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ç±»CDbConnectionä¸­æ–¹æ³•createCommandçš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function createCommand($query=null)
{
    $this-&amp;gt;setActive(true);
    return new CDbCommand($this,$query);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­å®ä¾‹åŒ–çš„ç±»CDbCommandçš„æ„é€ æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Constructor.
 * @param CDbConnection $connection the database connection
 * @param mixed $query the DB query to be executed. This can be either
 * a string representing a SQL statement, or an array whose name-value pairs
 * will be used to set the corresponding properties of the created command object.
 *
 * For example, you can pass in either &amp;lt;code&amp;gt;&amp;#39;SELECT * FROM tbl_user&amp;#39;&amp;lt;/code&amp;gt;
 * or &amp;lt;code&amp;gt;array(&amp;#39;select&amp;#39;=&amp;gt;&amp;#39;*&amp;#39;, &amp;#39;from&amp;#39;=&amp;gt;&amp;#39;tbl_user&amp;#39;)&amp;lt;/code&amp;gt;. They are equivalent
 * in terms of the final query result.
 *
 * When passing the query as an array, the following properties are commonly set:
 * {@link select}, {@link distinct}, {@link from}, {@link where}, {@link join},
 * {@link group}, {@link having}, {@link order}, {@link limit}, {@link offset} and
 * {@link union}. Please refer to the setter of each of these properties for details
 * about valid property values. This feature has been available since version 1.1.6.
 *
 * Since 1.1.7 it is possible to use a specific mode of data fetching by setting
 * {@link setFetchMode FetchMode}. See {@link http://www.php.net/manual/en/function.PDOStatement-setFetchMode.php}
 * for more details.
 */
public function __construct(CDbConnection $connection,$query=null)
{
    $this-&amp;gt;_connection=$connection;
    if(is_array($query))
    {
        foreach($query as $name=&amp;gt;$value)
            $this-&amp;gt;$name=$value;
    }
    else
        $this-&amp;gt;setText($query);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°å‚æ•°$queryå¹¶ä¸æ˜¯å¿…é¡»æä¾›ï¼Œå¦‚æœæä¾›ï¼Œåˆ™$queryå‚æ•°å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ•°ç»„ã€‚å¦‚æœæ˜¯å­—ç¬¦ä¸²ä¹Ÿå°±æ˜¯ä¸€ä¸ªåŸç”Ÿçš„SQLè¯­å¥ï¼ˆå¯èƒ½æœ‰å‚æ•°éœ€è¦å¡«å……ï¼‰ï¼Œå¦‚æœæ˜¯æ•°ç»„ï¼Œ
åˆ™å¯ä»¥ä¸ºCDbCommandå¯¹è±¡çš„selectã€distinctã€fromç­‰å±æ€§èµ‹å€¼ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•setTextå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Specifies the SQL statement to be executed.
 * Any previous execution will be terminated or cancel.
 * @param string $value the SQL statement to be executed
 * @return CDbCommand this command instance
 */
public function setText($value)
{
    if($this-&amp;gt;_connection-&amp;gt;tablePrefix!==null &amp;amp;&amp;amp; $value!=&amp;#39;&amp;#39;)
        $this-&amp;gt;_text=preg_replace(&amp;#39;/{{(.*?)}}/&amp;#39;,$this-&amp;gt;_connection-&amp;gt;tablePrefix.&amp;#39;\1&amp;#39;,$value);
    else
        $this-&amp;gt;_text=$value;
    // å› ä¸ºæ˜¯è¦æ–°æ‰§è¡Œä¸€æ¡è¯­å¥ï¼Œæ‰€ä»¥éœ€è¦é‡ç½®çŠ¶æ€ï¼Œå°†å±æ€§_statementç½®ä¸ºnullã€‚
    $this-&amp;gt;cancel();
    return $this;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœè°ƒç”¨ç±»CDbConnectionçš„createCommandæ–¹æ³•æ—¶æä¾›äº†&lt;code&gt;$query&lt;/code&gt;å‚æ•°å€¼ï¼Œåˆ™åœ¨å¾—åˆ°CDbCommandå¯¹è±¡åï¼Œå³å¯è°ƒç”¨CDbCommandå¯¹è±¡çš„executeæ–¹æ³•ï¼ˆå¯¹äºå¢ã€åˆ ã€æ”¹æ“ä½œï¼‰æˆ–queryã€queryAllã€queryRowç­‰æ–¹æ³•ï¼ˆå¯¹äºæŸ¥è¯¢æ“ä½œï¼‰æ¥æ‰§è¡Œæ•°æ®åº“æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè°ƒç”¨createCommandæ—¶æœªæä¾›&lt;code&gt;$query&lt;/code&gt;å‚æ•°å€¼ï¼Œåˆ™æœ‰3ç§æ–¹å¼æ¥å®Œæˆæ•°æ®åº“æ“ä½œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºæ™®é€šçš„æ•°æ®åº“æŸ¥è¯¢æ“ä½œï¼Œå¾—åˆ°CDbCommandå¯¹è±¡åï¼Œé“¾å¼è°ƒç”¨æ–¹æ³•selectã€fromã€whereç­‰ï¼ˆä¹‹æ‰€ä»¥èƒ½å¤Ÿé“¾å¼è°ƒç”¨ï¼Œæ˜¯å› ä¸ºè¿™äº›æ–¹æ³•çš„æœ€åéƒ½è¿”å›äº†å¯¹è±¡æœ¬èº«ï¼‰ï¼Œå¹¶ä¸”é“¾å¼è°ƒç”¨çš„æœ€åè°ƒç”¨queryä¸€ç±»æ–¹æ³•æ¥æ‰§è¡Œæ•°æ®åº“æ“ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºä¼šå¯¹æ•°æ®è¡¨ç»“æ„æˆ–æ•°æ®äº§ç”Ÿå˜æ›´çš„æ“ä½œï¼Œå¾—åˆ°CDbCommandå¯¹è±¡åï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨æ–¹æ³•insertã€updateã€deleteã€createTableç­‰æ¥æ‰§è¡Œæ“ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯ä»¥åœ¨å¾—åˆ°CDbCommandå¯¹è±¡åï¼Œè°ƒç”¨æ–¹æ³•setTextæ¥è®¾ç½®å¾…æ‰§è¡Œçš„SQLè¯­å¥ï¼ŒsetTextæ–¹æ³•çš„$valueå‚æ•°ç±»å‹åº”ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚æœè°ƒç”¨setTextæ–¹æ³•å‰$valueå‚æ•°ç±»å‹æ˜¯å…³è”æ•°ç»„ï¼Œåˆ™å¯ä»¥å…ˆè°ƒç”¨æ–¹æ³•buildQueryä»å…³è”æ•°ç»„ç”Ÿæˆä¸€ä¸ªSQLè¯­å¥å­—ç¬¦ä¸²ï¼Œå†è°ƒç”¨setTextæ–¹æ³•ï¼›æˆ–è€…ç›´æ¥è°ƒç”¨setSelectã€setFromã€setWhereç­‰æ–¹æ³•æ¥è®¾ç½®SQLè¯­å¥çš„å„ä¸ªç»„æˆéƒ¨åˆ†ã€‚æœ€åè°ƒç”¨executeæ–¹æ³•æˆ–queryä¸€ç±»æ–¹æ³•ã€‚å¯ä»¥çœ‹å‡ºç›¸æ¯”ä¼ é€’&lt;code&gt;$query&lt;/code&gt;å‚æ•°ï¼Œè¿™ç§æ–¹å¼åªä¸è¿‡æ˜¯æ˜¾å¼åœ°è®¾ç½®SQLè¯­å¥ã€‚é€šå¸¸è¿™æ˜¯ä¸æ¨èçš„ï¼ˆæè¿™ä¹ˆéº»çƒ¦ï¼Œä½•å¿…å‘¢ï¼Ÿå‘µå‘µï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ ·ä¸€çœ‹ï¼Œç±»CDbCommandçš„å®ç°ç¨æ˜¾æ··ä¹±ã€‚æœ¬æ„ä¸Šé¢å¤–çš„ç¬¬3ç§æ–¹å¼åº”è¯¥æ˜¯æä¾›ç»™ç±»CActiveRecordä½¿ç”¨çš„ï¼Œæ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥çœ‹çœ‹æ–¹æ³•executeæ–¹æ³•åŠqueryä¸€ç±»ï¼ˆä»…ä»¥æ–¹æ³•queryã€queryAllä¸ºä¾‹ï¼‰æ–¹æ³•çš„å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Executes the SQL statement.
 * This method is meant only for executing non-query SQL statement.
 * No result set will be returned.
 * @param array $params input parameters (name=&amp;gt;value) for the SQL execution. This is an alternative
 * to {@link bindParam} and {@link bindValue}. If you have multiple input parameters, passing
 * them in this way can improve the performance. Note that if you pass parameters in this way,
 * you cannot bind parameters or values using {@link bindParam} or {@link bindValue}, and vice versa.
 * Please also note that all values are treated as strings in this case, if you need them to be handled as
 * their real data types, you have to use {@link bindParam} or {@link bindValue} instead.
 * @return integer number of rows affected by the execution.
 * @throws CDbException execution failed
 */
public function execute($params=array())
{
    if($this-&amp;gt;_connection-&amp;gt;enableParamLogging &amp;amp;&amp;amp; ($pars=array_merge($this-&amp;gt;_paramLog,$params))!==array())
    {
        $p=array();
        foreach($pars as $name=&amp;gt;$value)
            $p[$name]=$name.&amp;#39;=&amp;#39;.var_export($value,true);
        $par=&amp;#39;. Bound with &amp;#39; .implode(&amp;#39;, &amp;#39;,$p);
    }
    else
        $par=&amp;#39;&amp;#39;;
    Yii::trace(&amp;#39;Executing SQL: &amp;#39;.$this-&amp;gt;getText().$par,&amp;#39;system.db.CDbCommand&amp;#39;);
    try
    {
        if($this-&amp;gt;_connection-&amp;gt;enableProfiling)
            Yii::beginProfile(&amp;#39;system.db.CDbCommand.execute(&amp;#39;.$this-&amp;gt;getText().$par.&amp;#39;)&amp;#39;,&amp;#39;system.db.CDbCommand.execute&amp;#39;);

        // ä»¥é€šè¿‡setTextè®¾ç½®çš„SQLè¯­å¥ä¸ºå‚æ•°é—´æ¥è°ƒç”¨PDOå¯¹è±¡çš„prepareæ–¹æ³•ï¼Œå¹¶å°†è¿”å›çš„PDOStatementå¯¹è±¡èµ‹å€¼ç»™å½“å‰CDbCommandå¯¹è±¡çš„_statementå±æ€§ã€‚
        $this-&amp;gt;prepare();
        if($params===array())
            // æ— å‚æ‰§è¡Œ
            $this-&amp;gt;_statement-&amp;gt;execute();
        else
            // å¸¦å‚æ‰§è¡Œ
            $this-&amp;gt;_statement-&amp;gt;execute($params);
        // æ“ä½œå½±å“çš„æ•°æ®è¡¨è¡Œæ•°
        $n=$this-&amp;gt;_statement-&amp;gt;rowCount();

        if($this-&amp;gt;_connection-&amp;gt;enableProfiling)
            Yii::endProfile(&amp;#39;system.db.CDbCommand.execute(&amp;#39;.$this-&amp;gt;getText().$par.&amp;#39;)&amp;#39;,&amp;#39;system.db.CDbCommand.execute&amp;#39;);

        return $n;
    }
    catch(Exception $e)
    {
        // çœç•¥
    }
}

public function query($params=array())
{
    return $this-&amp;gt;queryInternal(&amp;#39;&amp;#39;,0,$params);
}

public function queryAll($fetchAssociative=true,$params=array())
{
    return $this-&amp;gt;queryInternal(&amp;#39;fetchAll&amp;#39;,$fetchAssociative ? $this-&amp;gt;_fetchMode : PDO::FETCH_NUM, $params);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°queryä¸€ç±»æ–¹æ³•éƒ½æ˜¯é—´æ¥è°ƒç”¨æ–¹æ³•queryInternalæ¥å®Œæˆæ“ä½œçš„ã€‚queryInternalæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;private function queryInternal($method,$mode,$params=array())
{
    $params=array_merge($this-&amp;gt;params,$params);

    if($this-&amp;gt;_connection-&amp;gt;enableParamLogging &amp;amp;&amp;amp; ($pars=array_merge($this-&amp;gt;_paramLog,$params))!==array())
    {
        $p=array();
        foreach($pars as $name=&amp;gt;$value)
            $p[$name]=$name.&amp;#39;=&amp;#39;.var_export($value,true);
        $par=&amp;#39;. Bound with &amp;#39;.implode(&amp;#39;, &amp;#39;,$p);
    }
    else
        $par=&amp;#39;&amp;#39;;

    Yii::trace(&amp;#39;Querying SQL: &amp;#39;.$this-&amp;gt;getText().$par,&amp;#39;system.db.CDbCommand&amp;#39;);

    // å…ˆå°è¯•ä»ç¼“å­˜ä¸­è¯»å–æŸ¥è¯¢ç»“æœ
    // è¿™é‡Œæ¶‰åŠCDbConnectionç±»çš„ä¸‰ä¸ªå±æ€§queryCachingCountã€queryCachingDurationã€queryCacheID
    // å¦å¤–å¯¹äºæ–¹æ³•queryï¼ˆè°ƒç”¨queryInternalæ—¶æä¾›çš„methodå‚æ•°ä¸ºç©ºå­—ç¬¦ä¸²ï¼‰çš„æ“ä½œä¸ä¼šç¼“å­˜
    if($this-&amp;gt;_connection-&amp;gt;queryCachingCount&amp;gt;0 &amp;amp;&amp;amp; $method!==&amp;#39;&amp;#39;
            &amp;amp;&amp;amp; $this-&amp;gt;_connection-&amp;gt;queryCachingDuration&amp;gt;0
            &amp;amp;&amp;amp; $this-&amp;gt;_connection-&amp;gt;queryCacheID!==false
            &amp;amp;&amp;amp; ($cache=Yii::app()-&amp;gt;getComponent($this-&amp;gt;_connection-&amp;gt;queryCacheID))!==null)
    {
        $this-&amp;gt;_connection-&amp;gt;queryCachingCount--;
        $cacheKey=&amp;#39;yii:dbquery&amp;#39;.$this-&amp;gt;_connection-&amp;gt;connectionString.&amp;#39;:&amp;#39;.$this-&amp;gt;_connection-&amp;gt;username;
        $cacheKey.=&amp;#39;:&amp;#39;.$this-&amp;gt;getText().&amp;#39;:&amp;#39;.serialize(array_merge($this-&amp;gt;_paramLog,$params));
        if(($result=$cache-&amp;gt;get($cacheKey))!==false)
        {
            Yii::trace(&amp;#39;Query result found in cache&amp;#39;,&amp;#39;system.db.CDbCommand&amp;#39;);
            return $result[0];
        }
    }

    try
    {
        if($this-&amp;gt;_connection-&amp;gt;enableProfiling)
            Yii::beginProfile(&amp;#39;system.db.CDbCommand.query(&amp;#39;.$this-&amp;gt;getText().$par.&amp;#39;)&amp;#39;,&amp;#39;system.db.CDbCommand.query&amp;#39;);

        $this-&amp;gt;prepare();
        if($params===array())
            $this-&amp;gt;_statement-&amp;gt;execute();
        else
            $this-&amp;gt;_statement-&amp;gt;execute($params);

        // $methodå¯¹åº”PDOStatementçš„ç»“æœè·å–æ–¹æ³•ï¼Œå¦‚æœæœªæä¾›$methodï¼Œè‡ªç„¶æ— æ³•ç›´æ¥é€šè¿‡PDOStatementè·å–æŸ¥è¯¢ç»“æœã€‚
        if($method===&amp;#39;&amp;#39;)
            // è¿™ä¸ªç»†çœ‹ä¸€ä¸‹
            $result=new CDbDataReader($this);
        else
        {
            $mode=(array)$mode;
            call_user_func_array(array($this-&amp;gt;_statement, &amp;#39;setFetchMode&amp;#39;), $mode);
            // è°ƒç”¨PDOStatementå¯¹åº”çš„æ–¹æ³•
            $result=$this-&amp;gt;_statement-&amp;gt;$method();
            $this-&amp;gt;_statement-&amp;gt;closeCursor();
        }

        if($this-&amp;gt;_connection-&amp;gt;enableProfiling)
            Yii::endProfile(&amp;#39;system.db.CDbCommand.query(&amp;#39;.$this-&amp;gt;getText().$par.&amp;#39;)&amp;#39;,&amp;#39;system.db.CDbCommand.query&amp;#39;);

        // å¦‚æœè®¾ç½®äº†$cacheå’Œ$cacheKey
        // å°†æŸ¥è¯¢ç»“æœå­˜å…¥ç¼“å­˜
        if(isset($cache,$cacheKey))
            $cache-&amp;gt;set($cacheKey, array($result), $this-&amp;gt;_connection-&amp;gt;queryCachingDuration, $this-&amp;gt;_connection-&amp;gt;queryCachingDependency);

        return $result;
    }
    catch(Exception $e)
    {
        // çœç•¥
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°queryæ–¹æ³•è°ƒç”¨queryInternalæ—¶ï¼Œç»“æœæ˜¯é€šè¿‡CDbDataReaderå¯¹è±¡æ¥è·å–çš„ã€‚ç±»CDbDataReaderçš„æ„é€ æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __construct(CDbCommand $command)
{
    $this-&amp;gt;_statement=$command-&amp;gt;getPdoStatement();
    $this-&amp;gt;_statement-&amp;gt;setFetchMode(PDO::FETCH_ASSOC);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¾—åˆ°CDbDataReaderå¯¹è±¡ï¼Œå³å¯é€šè¿‡å®ƒçš„readä¸€ç±»æ–¹æ³•&lt;strong&gt;è¿­ä»£&lt;/strong&gt;è·å–æŸ¥è¯¢ç»“æœã€‚è¿™äº›æ–¹æ³•å®é™…ä¸Šæ˜¯è°ƒç”¨PDOStatementçš„fetchä¸€ç±»æ–¹æ³•æ¥è·å–ç»“æœçš„ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹Yiiæ¡†æ¶Modelå±‚çš„ç¬¬2ç§ä½¿ç”¨æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;CActiveRecordçš„ç”¨æ³•æ˜¯ï¼Œå¯¹äºæ•°æ®åº“çš„æ¯ä¸ªæ•°æ®è¡¨ï¼Œåˆ›å»ºä¸€ä¸ªmodelç±»ï¼Œå¦‚UserModelï¼Œè¿™ä¸ªç±»ç»§æ‰¿è‡ªCActiveRecordç±»ã€‚modelç±»åå¯ä»¥å’Œæ•°æ®è¡¨åä¸€è‡´ï¼Œä¹Ÿå¯ä»¥ä¸ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œåˆ™éœ€è¦é‡å†™CActiveRecordç±»çš„tableNameæ–¹æ³•ï¼Œæ ‡æ˜è¯¥modelç±»å¯¹åº”çš„æ•°æ®è¡¨åã€‚æ–¹æ³•tableNameé»˜è®¤çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
* Returns the name of the associated database table.
* By default this method returns the class name as the table name.
* You may override this method if the table is not named after this convention.
* @return string the table name
*/
public function tableName()
{
    return get_class($this);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‡è®¾UserModelç±»å¯¹åº”çš„æ•°æ®è¡¨åä¸ºUserï¼Œåˆ™åº”å¦‚ä¸‹é‡å†™tableNameï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function tableName()
{
    return &amp;#39;User&amp;#39;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½¿ç”¨CActiveRecordæ–¹å¼ï¼Œè‹¥æƒ³å‘æ•°æ®è¡¨ä¸­æ’å…¥ä¸€æ¡æ–°çºªå½•ï¼Œåˆ™éœ€è¦å®ä¾‹åŒ–å½“å‰modelç±»ã€‚ä»¥UserModelç±»ä¸ºä¾‹ï¼Œè‹¥æƒ³å‘Userè¡¨ä¸­æ’å…¥ä¸€æ¡æ–°çºªå½•ï¼Œåˆ™éœ€è¦å…ˆå®ä¾‹åŒ–UserModelï¼Œå¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå¯¹è¯¥å¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼æŒ‡æ˜å¯¹åº”æ•°æ®è¡¨æ–°è®°å½•æ¯ä¸ªå­—æ®µçš„å€¼ã€‚å¯¹è±¡çš„å±æ€§åå³æ•°æ®è¡¨çš„å­—æ®µåï¼Œèµ‹å€¼å®Œæ¯•ï¼Œè°ƒç”¨saveæˆ–insertå³å‘æ•°æ®è¡¨ä¸­å­˜å…¥è¯¥æ–°çºªå½•ã€‚&lt;/p&gt;
&lt;p&gt;CActiveRecordç±»çš„æ„é€ æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __construct($scenario=&amp;#39;insert&amp;#39;)
{
    if($scenario===null) // internally used by populateRecord() and model()
        return;

    $this-&amp;gt;setScenario($scenario);
    $this-&amp;gt;setIsNewRecord(true);
    $this-&amp;gt;_attributes=$this-&amp;gt;getMetaData()-&amp;gt;attributeDefaults;

    $this-&amp;gt;init();

    $this-&amp;gt;attachBehaviors($this-&amp;gt;behaviors());
    $this-&amp;gt;afterConstruct();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;$scenario='insert'ï¼Œè¡¨ç¤ºæ–°å®ä¾‹åŒ–çš„å¯¹è±¡å¤„äºå¾…æ’å…¥æ•°æ®è¡¨çš„çŠ¶æ€ï¼Œåœ¨è°ƒç”¨saveç­‰æ–¹æ³•æ—¶ï¼Œä¼šæ£€æµ‹è¯¥çŠ¶æ€ã€‚åœ¨æ–°å®ä¾‹åŒ–çš„å¯¹è±¡æ’å…¥åˆ°æ•°æ®è¡¨åï¼Œè¯¥çŠ¶æ€ç«‹å³ä¼šå˜ä¸º"update"ï¼Œè¡¨ç¤ºä¹‹åå¯¹è¯¥å¯¹è±¡çš„æ•°æ®åº“å†™å…¥æ“ä½œï¼Œå±äºupdateæ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;CActiveRecordç±»çš„saveæ–¹æ³•çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function save($runValidation=true,$attributes=null)
{
    // è‹¥éœ€è¦åˆ™å¯¹æŸäº›å±æ€§åšæ ¡éªŒ
    if(!$runValidation || $this-&amp;gt;validate($attributes))
        // å¦‚æœæ˜¯æ–°çºªå½•ï¼Œåˆ™æ’å…¥ï¼Œå¦åˆ™æ›´æ–°
        return $this-&amp;gt;getIsNewRecord() ? $this-&amp;gt;insert($attributes) : $this-&amp;gt;update($attributes);
    else
        return false;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è€Œinsertã€updateæ–¹æ³•çš„å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function insert($attributes=null)
{
    if(!$this-&amp;gt;getIsNewRecord())
        throw new CDbException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;The active record cannot be inserted to database because it is not new.&amp;#39;));
    if($this-&amp;gt;beforeSave())
    {
        Yii::trace(get_class($this).&amp;#39;.insert()&amp;#39;,&amp;#39;system.db.ar.CActiveRecord&amp;#39;);
        // ...
        $builder=$this-&amp;gt;getCommandBuilder();
        // ...
        $table=$this-&amp;gt;getMetaData()-&amp;gt;tableSchema;
        $command=$builder-&amp;gt;createInsertCommand($table,$this-&amp;gt;getAttributes($attributes));
        if($command-&amp;gt;execute())
        {
            $primaryKey=$table-&amp;gt;primaryKey;
            if($table-&amp;gt;sequenceName!==null)
            {
                if(is_string($primaryKey) &amp;amp;&amp;amp; $this-&amp;gt;$primaryKey===null)
                    $this-&amp;gt;$primaryKey=$builder-&amp;gt;getLastInsertID($table);
                elseif(is_array($primaryKey))
                {
                    foreach($primaryKey as $pk)
                    {
                        if($this-&amp;gt;$pk===null)
                        {
                            $this-&amp;gt;$pk=$builder-&amp;gt;getLastInsertID($table);
                            break;
                        }
                    }
                }
            }
            $this-&amp;gt;_pk=$this-&amp;gt;getPrimaryKey();
            $this-&amp;gt;afterSave();
            $this-&amp;gt;setIsNewRecord(false);
            $this-&amp;gt;setScenario(&amp;#39;update&amp;#39;);
            return true;
        }
    }
    return false;
}

public function update($attributes=null)
{
    if($this-&amp;gt;getIsNewRecord())
        throw new CDbException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;The active record cannot be updated because it is new.&amp;#39;));
    if($this-&amp;gt;beforeSave())
    {
        Yii::trace(get_class($this).&amp;#39;.update()&amp;#39;,&amp;#39;system.db.ar.CActiveRecord&amp;#39;);
        if($this-&amp;gt;_pk===null)
            $this-&amp;gt;_pk=$this-&amp;gt;getPrimaryKey();
        // é—´æ¥è°ƒç”¨updateByPkæ¥å®Œæˆæ“ä½œ
        $this-&amp;gt;updateByPk($this-&amp;gt;getOldPrimaryKey(),$this-&amp;gt;getAttributes($attributes));
        $this-&amp;gt;_pk=$this-&amp;gt;getPrimaryKey();
        $this-&amp;gt;afterSave();
        return true;
    }
    else
        return false;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;insertæ–¹æ³•ä¸­è°ƒç”¨çš„getCommandBuilderæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getCommandBuilder()
{
    return $this-&amp;gt;getDbConnection()-&amp;gt;getSchema()-&amp;gt;getCommandBuilder();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­getDbConnectionæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getDbConnection()
{
    if(self::$db!==null)
        return self::$db;
    else
    {
        self::$db=Yii::app()-&amp;gt;getDb();
        if(self::$db instanceof CDbConnection)
            return self::$db;
        else
            throw new CDbException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Active Record requires a &amp;quot;db&amp;quot; CDbConnection application component.&amp;#39;));
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Yiiä¸­é»˜è®¤çš„DBç»„ä»¶åä¸ºdbï¼Œæ‰€ä»¥å¦‚æœä½ ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„dbæ•°æ®åº“ï¼Œé‚£ä¹ˆä¸ç”¨é‡å†™è¿™ä¸ªæ–¹æ³•ã€‚å¦åˆ™ï¼Œéœ€è¦é‡å†™è¯¥æ–¹æ³•ï¼ŒæŒ‡æ˜éœ€è¦ä½¿ç”¨çš„æ•°æ®åº“è¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;getDbConnectionæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªCDbConnectionå¯¹è±¡ï¼Œå…¶getSchemaæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getSchema()
{
    if($this-&amp;gt;_schema!==null)
        return $this-&amp;gt;_schema;
    else
    {
        // è¿”å›æ•°æ®åº“é…ç½®ä¿¡æ¯connectionStringå­—æ®µä¸­çš„æ•°æ®åº“é©±åŠ¨ç±»å‹ï¼Œå¦‚mysql
        $driver=$this-&amp;gt;getDriverName();
        /*
            driverMapå±æ€§çš„å®šä¹‰ï¼š
            public $driverMap=array(
              &amp;#39;pgsql&amp;#39;=&amp;gt;&amp;#39;CPgsqlSchema&amp;#39;,    // PostgreSQL
              &amp;#39;mysqli&amp;#39;=&amp;gt;&amp;#39;CMysqlSchema&amp;#39;,   // MySQL
              &amp;#39;mysql&amp;#39;=&amp;gt;&amp;#39;CMysqlSchema&amp;#39;,    // MySQL
              &amp;#39;sqlite&amp;#39;=&amp;gt;&amp;#39;CSqliteSchema&amp;#39;,  // sqlite 3
              &amp;#39;sqlite2&amp;#39;=&amp;gt;&amp;#39;CSqliteSchema&amp;#39;, // sqlite 2
              &amp;#39;mssql&amp;#39;=&amp;gt;&amp;#39;CMssqlSchema&amp;#39;,    // Mssql driver on windows hosts
              &amp;#39;dblib&amp;#39;=&amp;gt;&amp;#39;CMssqlSchema&amp;#39;,    // dblib drivers on linux (and maybe others os) hosts
              &amp;#39;sqlsrv&amp;#39;=&amp;gt;&amp;#39;CMssqlSchema&amp;#39;,   // Mssql
              &amp;#39;oci&amp;#39;=&amp;gt;&amp;#39;COciSchema&amp;#39;,        // Oracle driver
           );
        */
        if(isset($this-&amp;gt;driverMap[$driver]))
            // åŠ è½½å¯¹åº”çš„æ•°æ®åº“é©±åŠ¨ç»„ä»¶
            return $this-&amp;gt;_schema=Yii::createComponent($this-&amp;gt;driverMap[$driver], $this);
        else
            throw new CDbException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;CDbConnection does not support reading schema for {driver} database.&amp;#39;,
                array(&amp;#39;{driver}&amp;#39;=&amp;gt;$driver)));
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»¥mysqlçš„CMysqlSchemaä¸ºä¾‹ï¼Œ&lt;code&gt;Yii::createComponent($this-&amp;gt;driverMap[$driver], $this)&lt;/code&gt;ä¸€å¥ä¼šå®ä¾‹åŒ–yii/framework/db/schema/mysql/CMysqlSchema.phpä¸­å®šä¹‰çš„CMysqlSchemaç±»ã€‚è¯¥ç±»è‡ªèº«æ— æ„é€ æ–¹æ³•ï¼Œç»§æ‰¿è‡ªæŠ½è±¡ç±»CDbSchemaï¼ŒCDbSchemaçš„æ„é€ æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __construct($conn)
{
    // ä¿å­˜ç€å½“å‰CDbConnectionæ•°æ®åº“è¿æ¥å¯¹è±¡
    $this-&amp;gt;_connection=$conn;
    foreach($conn-&amp;gt;schemaCachingExclude as $name)
        $this-&amp;gt;_cacheExclude[$name]=true;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¾—åˆ°CMysqlSchemaå¯¹è±¡åï¼Œè°ƒç”¨å…¶getCommandBuilderæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å®šä¹‰äºç±»CDbSchemaä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getCommandBuilder()
{
    if($this-&amp;gt;_builder!==null)
        return $this-&amp;gt;_builder;
    else
        return $this-&amp;gt;_builder=$this-&amp;gt;createCommandBuilder();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­è°ƒç”¨çš„æ–¹æ³•createCommandBuilderå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;protected function createCommandBuilder()
{
    return new CDbCommandBuilder($this);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å®ä¾‹åŒ–çš„CDbCommandBuilderç±»çš„æ„é€ æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __construct($schema)
{
    $this-&amp;gt;_schema=$schema;
    $this-&amp;gt;_connection=$schema-&amp;gt;getDbConnection();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·insertæ–¹æ³•ä¸­è°ƒç”¨çš„getCommandBuilderæœ€ç»ˆè¿”å›äº†ä¸€ä¸ªCDbCommandBuilderå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;è€Œinsertæ–¹æ³•ä¸­&lt;code&gt;$table=$this-&amp;gt;getMetaData()-&amp;gt;tableSchema&lt;/code&gt;ä¸€å¥è°ƒç”¨çš„getMetaDataæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getMetaData()
{
    $className=get_class($this);
    if(!array_key_exists($className,self::$_md))
    {
        self::$_md[$className]=null; // preventing recursive invokes of {@link getMetaData()} via {@link __get()}
        self::$_md[$className]=new CActiveRecordMetaData($this);
    }
    return self::$_md[$className];
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­å®ä¾‹åŒ–çš„ç±»CActiveRecordMetaDataï¼Œæ„é€ æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __construct($model)
{
    // å½“å‰modelç±»å
    $this-&amp;gt;_modelClassName=get_class($model);

    // å¾—åˆ°è¡¨å
    $tableName=$model-&amp;gt;tableName();

    // è°ƒç”¨_schemaï¼ˆä»¥mysqlä¸ºä¾‹ï¼Œå…¶å€¼ä¸ºCMysqlSchemaå¯¹è±¡ï¼‰çš„getTableæ–¹æ³•
    if(($table=$model-&amp;gt;getDbConnection()-&amp;gt;getSchema()-&amp;gt;getTable($tableName))===null)
        throw new CDbException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;The table &amp;quot;{table}&amp;quot; for active record class &amp;quot;{class}&amp;quot; cannot be found in the database.&amp;#39;,
            array(&amp;#39;{class}&amp;#39;=&amp;gt;$this-&amp;gt;_modelClassName,&amp;#39;{table}&amp;#39;=&amp;gt;$tableName)));
    if($table-&amp;gt;primaryKey===null)
    {
        $table-&amp;gt;primaryKey=$model-&amp;gt;primaryKey();
        if(is_string($table-&amp;gt;primaryKey) &amp;amp;&amp;amp; isset($table-&amp;gt;columns[$table-&amp;gt;primaryKey]))
            $table-&amp;gt;columns[$table-&amp;gt;primaryKey]-&amp;gt;isPrimaryKey=true;
        elseif(is_array($table-&amp;gt;primaryKey))
        {
            foreach($table-&amp;gt;primaryKey as $name)
            {
                if(isset($table-&amp;gt;columns[$name]))
                    $table-&amp;gt;columns[$name]-&amp;gt;isPrimaryKey=true;
            }
        }
    }
    // å°†æ•°æ®è¡¨ç»“æ„ä¿¡æ¯å­˜äºå±æ€§tableSchema
    $this-&amp;gt;tableSchema=$table;
    $this-&amp;gt;columns=$table-&amp;gt;columns;

    foreach($table-&amp;gt;columns as $name=&amp;gt;$column)
    {
        if(!$column-&amp;gt;isPrimaryKey &amp;amp;&amp;amp; $column-&amp;gt;defaultValue!==null)
            $this-&amp;gt;attributeDefaults[$name]=$column-&amp;gt;defaultValue;
    }

    foreach($model-&amp;gt;relations() as $name=&amp;gt;$config)
    {
        $this-&amp;gt;addRelation($name,$config);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­è°ƒç”¨çš„getTableæ–¹æ³•ï¼Œå®šä¹‰äºæŠ½è±¡ç±»CDbSchemaä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getTable($name,$refresh=false)
{
    if($refresh===false &amp;amp;&amp;amp; isset($this-&amp;gt;_tables[$name]))
        return $this-&amp;gt;_tables[$name];
    else
    {
        if($this-&amp;gt;_connection-&amp;gt;tablePrefix!==null &amp;amp;&amp;amp; strpos($name,&amp;#39;{{&amp;#39;)!==false)
            $realName=preg_replace(&amp;#39;/\{\{(.*?)\}\}/&amp;#39;,$this-&amp;gt;_connection-&amp;gt;tablePrefix.&amp;#39;$1&amp;#39;,$name);
        else
            $realName=$name;

        // temporarily disable query caching
        if($this-&amp;gt;_connection-&amp;gt;queryCachingDuration&amp;gt;0)
        {
            $qcDuration=$this-&amp;gt;_connection-&amp;gt;queryCachingDuration;
            $this-&amp;gt;_connection-&amp;gt;queryCachingDuration=0;
        }

        // å…ˆå°è¯•ä»ç¼“å­˜ä¸­å–æ•°æ®è¡¨ç»“æ„ä¿¡æ¯
        // CDbConnectionç±»çš„schemaCachingDurationå±æ€§é»˜è®¤ä¸º0ï¼Œå¦‚æœä¸é…ç½®è¯¥å±æ€§ï¼Œé‚£ä¹ˆå°±ä¸ä¼šä½¿ç”¨ç¼“å­˜ï¼Œé‚£ä¹ˆæ¯æ¬¡å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œéƒ½éœ€è¦loadTableï¼Œ
        // å¯¹æ•°æ®åº“çš„å‹åŠ›ï¼Œä»¥åŠæ€§èƒ½å½±å“æ˜¯ä¸æ˜¯å¾ˆå¤§ï¼Ÿï¼ä½†å¦‚æœåŠ äº†ç¼“å­˜ï¼Œé‚£ä¹ˆå½“å¯¹æ•°æ®è¡¨çš„ç»“æ„åšå˜æ›´æ—¶ä¼šä¸ä¼šæœ‰é—®é¢˜ï¼Ÿ
        if(!isset($this-&amp;gt;_cacheExclude[$name]) &amp;amp;&amp;amp; ($duration=$this-&amp;gt;_connection-&amp;gt;schemaCachingDuration)&amp;gt;0 &amp;amp;&amp;amp; $this-&amp;gt;_connection-&amp;gt;schemaCacheID!==false &amp;amp;&amp;amp; ($cache=Yii::app()-&amp;gt;getComponent($this-&amp;gt;_connection-&amp;gt;schemaCacheID))!==null)
        {
            $key=&amp;#39;yii:dbschema&amp;#39;.$this-&amp;gt;_connection-&amp;gt;connectionString.&amp;#39;:&amp;#39;.$this-&amp;gt;_connection-&amp;gt;username.&amp;#39;:&amp;#39;.$name;
            $table=$cache-&amp;gt;get($key);
            // æ²¡å–åˆ°æˆ–è€…éœ€è¦åˆ·æ–°ç¼“å­˜ï¼Œåˆ™ä»æ•°æ®åº“è·å–ï¼Œå¹¶æ›´æ–°ç¼“å­˜
            if($refresh===true || $table===false)
            {
                $table=$this-&amp;gt;loadTable($realName);
                if($table!==null)
                    $cache-&amp;gt;set($key,$table,$duration);
            }
            $this-&amp;gt;_tables[$name]=$table;
        }
        else
            // ç›´æ¥ä»æ•°æ®åº“è·å–æ•°æ®è¡¨ç»“æ„ä¿¡æ¯
            $this-&amp;gt;_tables[$name]=$table=$this-&amp;gt;loadTable($realName);

        if(isset($qcDuration))  // re-enable query caching
            $this-&amp;gt;_connection-&amp;gt;queryCachingDuration=$qcDuration;

        return $table;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­è°ƒç”¨çš„loadTableæ–¹æ³•æœ€ç»ˆæ˜¯é€šè¿‡æ‰§è¡ŒSQLè¯­å¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;'SHOW FULL COLUMNS FROM '.$table-&amp;gt;rawName&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'SHOW CREATE TABLE '.$table-&amp;gt;rawName&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¥è·å–æ•°æ®è¡¨ä¿¡æ¯ï¼Œå¹¶å°†ä¿¡æ¯å­˜äºä¸€ä¸ªCMysqlColumnSchemaå¯¹è±¡ä¸­ï¼ˆä»¥mysqlä¸ºä¾‹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;insertæ–¹æ³•ä¸­&lt;code&gt;$command=$builder-&amp;gt;createInsertCommand($table,$this-&amp;gt;getAttributes($attributes))&lt;/code&gt;ä¸€å¥createInsertCommandæ–¹æ³•å®šä¹‰äºCDbCommandBuilderç±»ä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function createInsertCommand($table,$data)
{
    $this-&amp;gt;ensureTable($table);
    $fields=array();
    $values=array();
    $placeholders=array();
    $i=0;
    foreach($data as $name=&amp;gt;$value)
    {
        if(($column=$table-&amp;gt;getColumn($name))!==null &amp;amp;&amp;amp; ($value!==null || $column-&amp;gt;allowNull))
        {
            $fields[]=$column-&amp;gt;rawName;
            if($value instanceof CDbExpression)
            {
                $placeholders[]=$value-&amp;gt;expression;
                foreach($value-&amp;gt;params as $n=&amp;gt;$v)
                    $values[$n]=$v;
            }
            else
            {
                $placeholders[]=self::PARAM_PREFIX.$i;
                $values[self::PARAM_PREFIX.$i]=$column-&amp;gt;typecast($value);
                $i++;
            }
        }
    }
    if($fields===array())
    {
        $pks=is_array($table-&amp;gt;primaryKey) ? $table-&amp;gt;primaryKey : array($table-&amp;gt;primaryKey);
        foreach($pks as $pk)
        {
            $fields[]=$table-&amp;gt;getColumn($pk)-&amp;gt;rawName;
            $placeholders[]=$this-&amp;gt;getIntegerPrimaryKeyDefaultValue();
        }
    }
    $sql=&amp;quot;INSERT INTO {$table-&amp;gt;rawName} (&amp;quot;.implode(&amp;#39;, &amp;#39;,$fields).&amp;#39;) VALUES (&amp;#39;.implode(&amp;#39;, &amp;#39;,$placeholders).&amp;#39;)&amp;#39;;
    $command=$this-&amp;gt;_connection-&amp;gt;createCommand($sql);

    foreach($values as $name=&amp;gt;$value)
        $command-&amp;gt;bindValue($name,$value);

    return $command;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦å¤–è¿˜æœ‰ä¸updateã€deleteç­‰æ“ä½œå¯¹åº”çš„æ–¹æ³•createUpdateCommandã€createDeleteCommandç­‰ã€‚&lt;/p&gt;
&lt;p&gt;updateæ–¹æ³•ä¸insertæ–¹æ³•çš„é€»è¾‘åŸºæœ¬æ˜¯ä¸€è‡´çš„ã€‚&lt;/p&gt;
&lt;p&gt;CActiveRecordä¸­æ‰€æœ‰æ•°æ®åº“å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œï¼Œåœ¨æ„å»ºå‡ºç›®æ ‡sqlè¯­å¥åï¼Œéƒ½æ˜¯è°ƒç”¨CDbConnectionç±»çš„æ–¹æ³•createCommandæ¥å¾—åˆ°ä¸€ä¸ªCDbCommandç±»çš„å¯¹è±¡ï¼Œæœ€åè°ƒç”¨è¯¥å¯¹è±¡çš„executeã€queryã€queryAllç­‰æ–¹æ³•æ¥å®ŒæˆæŸ¥è¯¢è·å–ç»“æœã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¯¹äºmodelç±»å®ä¾‹å¯¹è±¡çš„å±æ€§èµ‹å€¼ï¼Œä¾èµ–äºCActiveRecordç±»çš„æ–¹æ³•__setï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __set($name,$value)
{
    if($this-&amp;gt;setAttribute($name,$value)===false)
    {
        if(isset($this-&amp;gt;getMetaData()-&amp;gt;relations[$name]))
            $this-&amp;gt;_related[$name]=$value;
        else
            parent::__set($name,$value);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­è°ƒç”¨çš„setAttributeæ–¹æ³•çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function setAttribute($name,$value)
{
    if(property_exists($this,$name))
        $this-&amp;gt;$name=$value;
    elseif(isset($this-&amp;gt;getMetaData()-&amp;gt;columns[$name]))
        $this-&amp;gt;_attributes[$name]=$value;
    else
        return false;
    return true;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;åŸºäºCActiveRecordç±»ï¼Œå¦‚æœæƒ³è¿›è¡Œè¯»å–æ“ä½œï¼Œé‚£ä¹ˆå­ç±»éœ€è¦é‡å†™modelæ–¹æ³•ã€‚CActiveRecordç±»çš„modelæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Returns the static model of the specified AR class.
 * The model returned is a static instance of the AR class.
 * It is provided for invoking class-level methods (something similar to static class methods.)
 *
 * EVERY derived AR class must override this method as follows,
 * &amp;lt;pre&amp;gt;
 * public static function model($className=__CLASS__)
 * {
 *     return parent::model($className);
 * }
 * &amp;lt;/pre&amp;gt;
 *
 * @param string $className active record class name.
 * @return CActiveRecord active record model instance.
 */
public static function model($className=__CLASS__)
{
    if(isset(self::$_models[$className]))
        return self::$_models[$className];
    else
    {
        $model=self::$_models[$className]=new $className(null);
        $model-&amp;gt;attachBehaviors($model-&amp;gt;behaviors());
        return $model;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ ¹æ®è¯¥æ–¹æ³•çš„æ³¨é‡Šå¯çŸ¥é“ï¼Œæ‰€æœ‰çš„å­ç±»å¿…é¡»å¦‚ä¸‹é‡å†™modelæ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public static function model($className = __CLASS__)
{
    return parent::model($className);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆå¿…é¡»é‡å†™modelæ–¹æ³•å‘¢ï¼Ÿå› ä¸º&lt;code&gt;__CLASS__&lt;/code&gt;æŒ‡çš„å¹¶ä¸æ˜¯å½“å‰å¯¹è±¡æ‰€å±çš„ç±»ï¼Œè€Œæ˜¯æ–¹æ³•å®šä¹‰æ‰€åœ¨çš„ç±»ã€‚&lt;/p&gt;
&lt;p&gt;éš”å£çš„å“¥ä»¬å‘Šè¯‰æˆ‘ï¼Œåœ¨ PHP 5.3 ä¹‹åï¼Œå¦‚æœCActiveRecordçš„modelæ–¹æ³•å¦‚ä¸‹å®ç°ï¼Œå°±å¯ä»¥ä¸ç”¨è¿™æ ·ä½¿ç”¨éœ€è¦é‡å†™äº†ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public static function model()
{
    $className = get_called_class();
    if(isset(self::$_models[$className]))
        return self::$_models[$className];
    else
    {
        $model=self::$_models[$className]=new $className(null);
        $model-&amp;gt;attachBehaviors($model-&amp;gt;behaviors());
        return $model;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨å¾—åˆ°$modelåï¼Œå°±å¯ä»¥è°ƒç”¨å¯¹è±¡çš„queryã€findã€findAllã€findByPkã€findAllByPkã€findByAttributesã€findAllByAttributesã€findBySqlã€findAllBySqlç­‰æ–¹æ³•æ¥æŸ¥è¯¢æ•°æ®ã€‚å…¶ä¸­findã€findAllã€findByPkã€findAllByPkã€findByAttributesã€findAllByAttributesæœ€ç»ˆæ˜¯é€šè¿‡è°ƒç”¨queryæ–¹æ³•æ¥å®ç°æŸ¥è¯¢çš„ã€‚queryæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªCDbCriteriaç±»å®ä¾‹å¯¹è±¡ï¼Œè¿™å°±æ„å‘³ç€è°ƒç”¨queryæ–¹æ³•æ¥å®ç°æŸ¥è¯¢çš„æ–¹æ³•éœ€è¦æ ¹æ®å‚æ•°å®ä¾‹åŒ–ä¸€ä¸ªCDbCriteriaç±»å¯¹è±¡ã€‚å¦‚findæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Finds a single active record with the specified condition.
 * @param mixed $condition query condition or criteria.
 * If a string, it is treated as query condition (the WHERE clause);
 * If an array, it is treated as the initial values for constructing a {@link CDbCriteria} object;
 * Otherwise, it should be an instance of {@link CDbCriteria}.
 * @param array $params parameters to be bound to an SQL statement.
 * This is only used when the first parameter is a string (query condition).
 * In other cases, please use {@link CDbCriteria::params} to set parameters.
 * @return CActiveRecord the record found. Null if no record is found.
 */
public function find($condition=&amp;#39;&amp;#39;,$params=array())
{
    Yii::trace(get_class($this).&amp;#39;.find()&amp;#39;,&amp;#39;system.db.ar.CActiveRecord&amp;#39;);
    // å®ä¾‹åŒ–ä¸€ä¸ªCDbCriteriaå¯¹è±¡
    $criteria=$this-&amp;gt;getCommandBuilder()-&amp;gt;createCriteria($condition,$params);
    return $this-&amp;gt;query($criteria);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è€Œqueryæ–¹æ³•çš„å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;protected function query($criteria,$all=false)
{
    $this-&amp;gt;beforeFind();
    $this-&amp;gt;applyScopes($criteria);

    if(empty($criteria-&amp;gt;with))
    {
        if(!$all)
            $criteria-&amp;gt;limit=1;
        // createFindCommandåœ¨ä¸Šé¢æè¿‡
        $command=$this-&amp;gt;getCommandBuilder()-&amp;gt;createFindCommand($this-&amp;gt;getTableSchema(),$criteria,$this-&amp;gt;getTableAlias());
        return $all ? $this-&amp;gt;populateRecords($command-&amp;gt;queryAll(), true, $criteria-&amp;gt;index) : $this-&amp;gt;populateRecord($command-&amp;gt;queryRow());
    }
    else
    {
        $finder=$this-&amp;gt;getActiveFinder($criteria-&amp;gt;with);
        return $finder-&amp;gt;query($criteria,$all);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;å¯¹äºæŸ¥è¯¢æ“ä½œï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦å¤šè¡¨å…³è”æŸ¥è¯¢ã€‚é‚£ä¹ˆåŸºäºCActiveRecordå¦‚ä½•å®ç°å¤šè¡¨å…³è”æŸ¥è¯¢ï¼ˆéšå¼è‡ªåŠ¨åœ°ï¼‰å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;CActiveRecordç±»æœ‰ä¸ªæ–¹æ³•relations()ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function relations()
{
    return array();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªæ–¹æ³•çš„æ³¨é‡Šéå¸¸é•¿ï¼Œè¯´æ˜å¦‚ä½•é€šè¿‡è¯¥æ–¹æ³•å£°æ˜å½“å‰modelå¯¹åº”çš„æ•°æ®è¡¨æœ‰å“ªäº›å…³è”æ•°æ®è¡¨ï¼Œæ˜¯ä½•ç§å…³è”å…³ç³»ã€‚ç»§æ‰¿è‡ªCActiveRecordç±»çš„modelç±»è‹¥æƒ³ä½¿ç”¨éšå¼çš„å¤šè¡¨å…³è”æŸ¥è¯¢ï¼Œåˆ™éœ€è¦é‡å†™è¯¥æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹æ¥è¯´ï¼Œæœ‰æ•°æ®è¡¨UserContactsã€Usersï¼ŒUserContactsä¸­æœ‰å¤–é”®å­—æ®µuser_idå…³è”åˆ°Usersã€‚å¦‚æœåŸºäºCActiveRecordåœ¨æŸ¥è¯¢UserContactsè®°å½•æ—¶ï¼Œéœ€è¦ä¾¿æ·åœ°è·å–å…³è”Usersçš„è®°å½•ã€‚é‚£ä¹ˆå¯ä»¥åœ¨UserContactsæ•°æ®è¡¨å¯¹åº”çš„modelç±»ä¸­ï¼Œè¿™æ ·é‡å†™relationsæ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function relations()
{
    return array(
            &amp;#39;user&amp;#39; =&amp;gt; array(self::BELONGS_TO, &amp;#39;Users&amp;#39;, &amp;#39;user_id&amp;#39;),
    );
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é‚£ä¹ˆåœ¨å¾—åˆ°ä¸€æ¡è®°å½•å¯¹è±¡ï¼ˆ$ucï¼‰æ—¶ï¼Œé€šè¿‡è°ƒç”¨$uc-&amp;gt;userï¼Œå³å¯å¾—åˆ°ä¸è¯¥UserContactsè®°å½•å…³è”çš„Usersè®°å½•ã€‚ä¸è¿‡è¿™æ¡å…³è”è®°å½•çš„è·å–å¯èƒ½æ˜¯åœ¨è°ƒç”¨$uc-&amp;gt;useræ—¶æ‰å»æŸ¥è¯¢æ•°æ®åº“çš„ã€‚&lt;/p&gt;
&lt;p&gt;è‹¥æƒ³æå‰å°†å…³è”è®°å½•æŸ¥è¯¢å‡ºæ¥å‡†å¤‡å¥½ï¼Œåˆ™å¯ä»¥å†è°ƒç”¨findã€findAllç­‰æŸ¥è¯¢æ–¹æ³•ä¹‹å‰å…ˆè°ƒç”¨withæ–¹æ³•ï¼Œå¦‚&lt;code&gt;self::model()-&amp;gt;with('user')-&amp;gt;find(array('usercontact_id' =&amp;gt; 1))&lt;/code&gt;ï¼Œæˆ–è€…è¿™æ ·è°ƒç”¨findæ–¹æ³•&lt;code&gt;self::model()-&amp;gt;find(array('usercontact_id' =&amp;gt; 1, 'with' =&amp;gt; 'user'))&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆåœ¨è°ƒç”¨&lt;code&gt;$uc-&amp;gt;user&lt;/code&gt;æ—¶ï¼Œå¦‚ä½•çŸ¥é“useræ˜¯ä¸€ä¸ªå…³è”é¡¹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå½“å‰å¯¹è±¡çš„å±æ€§ï¼Ÿå¦‚æœå½“å‰å¯¹è±¡å¯¹åº”çš„æ•°æ®è¡¨å·²æœ‰ä¸€ä¸ªåä¸ºuserçš„å­—æ®µï¼Œæ˜¯å¦ä¼šå±è”½æ‰å…³è”é¡¹ï¼Ÿä¸”çœ‹CActiveRecordç±»çš„__getæ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __get($name)
{
    // å…ˆæŸ¥çœ‹å½“å‰modelç±»å¯¹åº”çš„æ•°æ®è¡¨æ˜¯å¦æœ‰åä¸º$nameçš„å­—æ®µ
    if(isset($this-&amp;gt;_attributes[$name]))
        return $this-&amp;gt;_attributes[$name];
    elseif(isset($this-&amp;gt;getMetaData()-&amp;gt;columns[$name]))
        return null;
    // æŸ¥çœ‹æ˜¯å¦æœ‰åä¸º$nameçš„å…³è”é¡¹
    elseif(isset($this-&amp;gt;_related[$name]))
        return $this-&amp;gt;_related[$name];
    elseif(isset($this-&amp;gt;getMetaData()-&amp;gt;relations[$name]))
        return $this-&amp;gt;getRelated($name);
    else
        return parent::__get($name);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;&lt;em&gt;æ³¨ï¼šæœ¬æ–‡ä¸ºè‰ç¨¿çŠ¶æ€&lt;/em&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="Yii"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>Yiiæºç é˜…è¯»ç¬”è®° - ç»„ä»¶é›†æˆ</title><link href="http://youngsterxyf.github.io/2014/11/13/read-yii-code-3/" rel="alternate"></link><published>2014-11-13T00:00:00+08:00</published><updated>2014-11-13T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-11-13:/2014/11/13/read-yii-code-3/</id><summary type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;Yiiæ¡†æ¶å°†å„ç§åŠŸèƒ½å°è£…æˆç»„ä»¶ï¼Œä½¿ç”¨æ—¶æŒ‰éœ€é…ç½®åŠ è½½ï¼Œä»è€Œæé«˜åº”ç”¨çš„æ€§èƒ½ã€‚å†…ç½®çš„ç»„ä»¶åˆåˆ†ä¸ºæ ¸å¿ƒç»„ä»¶ä¸éæ ¸å¿ƒç»„ä»¶ï¼Œæ ¸å¿ƒç»„ä»¶æ˜¯ä»»ä½•Webåº”ç”¨å’ŒConsoleåº”ç”¨éƒ½éœ€è¦çš„ã€‚
æ­¤å¤–ï¼Œåº” â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;Yiiæ¡†æ¶å°†å„ç§åŠŸèƒ½å°è£…æˆç»„ä»¶ï¼Œä½¿ç”¨æ—¶æŒ‰éœ€é…ç½®åŠ è½½ï¼Œä»è€Œæé«˜åº”ç”¨çš„æ€§èƒ½ã€‚å†…ç½®çš„ç»„ä»¶åˆåˆ†ä¸ºæ ¸å¿ƒç»„ä»¶ä¸éæ ¸å¿ƒç»„ä»¶ï¼Œæ ¸å¿ƒç»„ä»¶æ˜¯ä»»ä½•Webåº”ç”¨å’ŒConsoleåº”ç”¨éƒ½éœ€è¦çš„ã€‚
æ­¤å¤–ï¼Œåº”ç”¨å¼€å‘è€…è¿˜å¯ä»¥æŒ‰ç…§ä¸€å®šè§„åˆ™å°è£…é…ç½®ä½¿ç”¨è‡ªå·±çš„åŠŸèƒ½ç»„ä»¶ã€‚Yiiä¼šæŠŠåº”ç”¨éœ€è¦çš„ç»„ä»¶éƒ½åŠ è½½åˆ°åº”ç”¨å®¹å™¨&lt;code&gt;Yii::app()&lt;/code&gt;ä¸­ï¼Œä½¿å¾—ç»„ä»¶çš„ä½¿ç”¨æ–¹å¼ä¸€è‡´æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºYiiæ¡†æ¶å¼€å‘åº”ç”¨éœ€è¦ç†è§£å¦‚ä½•é…ç½®ç»„ä»¶ã€å¦‚ä½•å¼€å‘è‡ªå·±çš„ç»„ä»¶ï¼Œå¯¹åº”ç€éœ€è¦ç†è§£Yiiæ˜¯å¦‚ä½•æ³¨å†ŒåŠ è½½ç»„ä»¶çš„ã€‚&lt;/p&gt;
&lt;h3&gt;åˆ†æ&lt;/h3&gt;
&lt;p&gt;ä»&lt;a href="http://youngsterxyf.github.io/2014/11/04/read-yii-code-1/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - è¯·æ±‚å¤„ç†åŸºæœ¬æµç¨‹&lt;/a&gt;ä¸€æ–‡å¯çŸ¥ï¼ŒYiiåŠ è½½ç»„ä»¶çš„å…¥å£ä¸ºæŠ½è±¡ç±»CApplicationæ„é€ æ–¹æ³•ä¸­çš„ä»¥ä¸‹ä¸¤è¡Œä»£ç ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$this-&amp;gt;registerCoreComponents();
$this-&amp;gt;configure($config);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;&lt;code&gt;registerCoreComponents&lt;/code&gt;æ–¹æ³•å®šä¹‰äºç±»CWebApplicationä¸­ï¼Œç”¨äºåŠ è½½Webåº”ç”¨çš„æ ¸å¿ƒç»„ä»¶ï¼Œç»„ä»¶åˆ—è¡¨å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;array(
    // æ ¸å¿ƒç»„ä»¶
    &amp;#39;coreMessages&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CPhpMessageSource&amp;#39;,
        &amp;#39;language&amp;#39;=&amp;gt;&amp;#39;en_us&amp;#39;,
        &amp;#39;basePath&amp;#39;=&amp;gt;YII_PATH.DIRECTORY_SEPARATOR.&amp;#39;messages&amp;#39;,
    ),
    &amp;#39;db&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CDbConnection&amp;#39;,
    ),
    &amp;#39;messages&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CPhpMessageSource&amp;#39;,
    ),
    &amp;#39;errorHandler&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CErrorHandler&amp;#39;,
    ),
    &amp;#39;securityManager&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CSecurityManager&amp;#39;,
    ),
    &amp;#39;statePersister&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CStatePersister&amp;#39;,
    ),
    &amp;#39;urlManager&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CUrlManager&amp;#39;,
    ),
    &amp;#39;request&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CHttpRequest&amp;#39;,
    ),
    &amp;#39;format&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CFormatter&amp;#39;,
    ),

    // ä»¥ä¸‹æ˜¯Webåº”ç”¨é¢å¤–éœ€è¦çš„æ ¸å¿ƒç»„ä»¶
    &amp;#39;session&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CHttpSession&amp;#39;,
    ),
    &amp;#39;assetManager&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CAssetManager&amp;#39;,
    ),
    &amp;#39;user&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CWebUser&amp;#39;,
    ),
    &amp;#39;themeManager&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CThemeManager&amp;#39;,
    ),
    &amp;#39;authManager&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CPhpAuthManager&amp;#39;,
    ),
    &amp;#39;clientScript&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CClientScript&amp;#39;,
    ),
    &amp;#39;widgetFactory&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;CWidgetFactory&amp;#39;,
    ),
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ³¨å†ŒåŠ è½½ç»„ä»¶éƒ½æ˜¯ç›´æ¥è°ƒç”¨æ–¹æ³•&lt;code&gt;setComponents&lt;/code&gt;ï¼Œé—´æ¥è°ƒç”¨æ–¹æ³•&lt;code&gt;setComponent&lt;/code&gt;æ¥å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;code&gt;configure&lt;/code&gt;æ–¹æ³•å®šä¹‰äºç±»&lt;code&gt;CModule&lt;/code&gt;ä¸­ï¼Œæ˜¯ç”¨äºåŠ è½½æ‰€æœ‰é…ç½®ä¿¡æ¯çš„ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function configure($config)
{
    if(is_array($config))
    {
        foreach($config as $key=&amp;gt;$value)
            $this-&amp;gt;$key=$value;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»&lt;a href="http://youngsterxyf.github.io/2014/11/04/read-yii-code-1/"&gt;Yiiæºç é˜…è¯»ç¬”è®° - è¯·æ±‚å¤„ç†åŸºæœ¬æµç¨‹&lt;/a&gt;ä¸€æ–‡å¯çŸ¥ï¼Œé…ç½®ä¿¡æ¯çš„åŠ è½½æ˜¯åŸºäºç±»&lt;code&gt;CComponent&lt;/code&gt;ä¸­çš„é­”æœ¯æ–¹æ³•&lt;code&gt;__set&lt;/code&gt;æ¥å®Œæˆçš„ï¼Œè¯¥æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __set($name,$value)
{
    // PHPçš„ç±»åã€å‡½æ•°åã€æ–¹æ³•åéƒ½æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼
    $setter=&amp;#39;set&amp;#39;.$name;
    if(method_exists($this,$setter))
        return $this-&amp;gt;$setter($value);
    elseif(strncasecmp($name,&amp;#39;on&amp;#39;,2)===0 &amp;amp;&amp;amp; method_exists($this,$name))
    {
        // duplicating getEventHandlers() here for performance
        $name=strtolower($name);
        if(!isset($this-&amp;gt;_e[$name]))
            $this-&amp;gt;_e[$name]=new CList;
        return $this-&amp;gt;_e[$name]-&amp;gt;add($value);
    }
    elseif(is_array($this-&amp;gt;_m))
    {
        foreach($this-&amp;gt;_m as $object)
        {
            if($object-&amp;gt;getEnabled() &amp;amp;&amp;amp; (property_exists($object,$name) || $object-&amp;gt;canSetProperty($name)))
                return $object-&amp;gt;$name=$value;
        }
    }
    if(method_exists($this,&amp;#39;get&amp;#39;.$name))
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Property &amp;quot;{class}.{property}&amp;quot; is read only.&amp;#39;,
            array(&amp;#39;{class}&amp;#39;=&amp;gt;get_class($this), &amp;#39;{property}&amp;#39;=&amp;gt;$name)));
    else
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Property &amp;quot;{class}.{property}&amp;quot; is not defined.&amp;#39;,
            array(&amp;#39;{class}&amp;#39;=&amp;gt;get_class($this), &amp;#39;{property}&amp;#39;=&amp;gt;$name)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è€Œç±»CModuleä¸­åˆå®šä¹‰äº†æ–¹æ³•&lt;code&gt;setComponents&lt;/code&gt;ï¼Œæ‰€ä»¥å¯¹äºkeyä¸º&lt;code&gt;components&lt;/code&gt;çš„é…ç½®é¡¹ï¼Œä¹Ÿæ˜¯è°ƒç”¨æ–¹æ³•&lt;code&gt;setComponents&lt;/code&gt;ï¼Œé—´æ¥è°ƒç”¨æ–¹æ³•&lt;code&gt;setComponent&lt;/code&gt;æ¥å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•&lt;code&gt;setComponent&lt;/code&gt;å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Puts a component under the management of the module.
 * The component will be initialized by calling its {@link CApplicationComponent::init() init()}
 * method if it has not done so.
 * @param string $id component ID
 * @param array|IApplicationComponent $component application component
 * (either configuration array or instance). If this parameter is null,
 * component will be unloaded from the module.
 * @param boolean $merge whether to merge the new component configuration
 * with the existing one. Defaults to true, meaning the previously registered
 * component configuration with the same ID will be merged with the new configuration.
 * If set to false, the existing configuration will be replaced completely.
 * This parameter is available since 1.1.13.
 */
public function setComponent($id,$component,$merge=true)
{
    if($component===null)
    {
        unset($this-&amp;gt;_components[$id]);
        return;
    }
    elseif($component instanceof IApplicationComponent)
    {
        $this-&amp;gt;_components[$id]=$component;

        if(!$component-&amp;gt;getIsInitialized())
            $component-&amp;gt;init();

        return;
    }
    elseif(isset($this-&amp;gt;_components[$id]))
    {
        if(isset($component[&amp;#39;class&amp;#39;]) &amp;amp;&amp;amp; get_class($this-&amp;gt;_components[$id])!==$component[&amp;#39;class&amp;#39;])
        {
            unset($this-&amp;gt;_components[$id]);
            $this-&amp;gt;_componentConfig[$id]=$component; //we should ignore merge here
            return;
        }

        foreach($component as $key=&amp;gt;$value)
        {
            if($key!==&amp;#39;class&amp;#39;)
                $this-&amp;gt;_components[$id]-&amp;gt;$key=$value;
        }
    }
    // ä»¥configureæ–¹æ³•ä¸ºå…¥å£çš„ç»„ä»¶æ³¨å†Œå¯èƒ½èµ°çš„åˆ†æ”¯
    elseif(isset($this-&amp;gt;_componentConfig[$id][&amp;#39;class&amp;#39;],$component[&amp;#39;class&amp;#39;])
        &amp;amp;&amp;amp; $this-&amp;gt;_componentConfig[$id][&amp;#39;class&amp;#39;]!==$component[&amp;#39;class&amp;#39;])
    {
        $this-&amp;gt;_componentConfig[$id]=$component; //we should ignore merge here
        return;
    }

    // ä»¥configureæ–¹æ³•ä¸ºå…¥å£çš„ç»„ä»¶æ³¨å†Œå¯èƒ½èµ°çš„åˆ†æ”¯
    if(isset($this-&amp;gt;_componentConfig[$id]) &amp;amp;&amp;amp; $merge)
        // å¯¹ç»„ä»¶çš„ä¿¡æ¯è¿›è¡Œåˆå¹¶ï¼Œå³æ„å‘³ç€å¦‚æœæ˜¯å¯¹æ ¸å¿ƒç»„ä»¶åšé¢å¤–é…ç½®ï¼Œå¯ä»¥ä¸ç”¨æŒ‡å®šclassç­‰ä¿¡æ¯ã€‚
        $this-&amp;gt;_componentConfig[$id]=CMap::mergeArray($this-&amp;gt;_componentConfig[$id],$component);
    else
        // æ ¸å¿ƒç»„ä»¶æ³¨å†Œå…¨èµ°è¿™ä¸ªåˆ†æ”¯
        // éæ ¸å¿ƒç»„ä»¶ã€è‡ªå®šä¹‰ç»„ä»¶æ³¨å†Œèµ°è¿™ä¸ªåˆ†æ”¯
        $this-&amp;gt;_componentConfig[$id]=$component;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºä»¥registerCoreComponentsæ–¹æ³•ã€configureæ–¹æ³•ä¸ºå…¥å£çš„ç»„ä»¶æ³¨å†Œï¼Œè°ƒç”¨setComponentæ–¹æ³•æ—¶çš„å‚æ•°$componentæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨å†Œæ ¸å¿ƒç»„ä»¶å‰ï¼Œåº”ç”¨å¯¹è±¡çš„å±æ€§&lt;code&gt;_component&lt;/code&gt;å’Œ&lt;code&gt;_componentConfig&lt;/code&gt;éƒ½ä¸ºç©ºï¼Œæ‰€ä»¥æ ¸å¿ƒç»„ä»¶æ³¨å†Œæœ€ç»ˆèµ°çš„éƒ½æ˜¯&lt;strong&gt;æœ€åä¸€ä¸ªelseåˆ†æ”¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºå¯ä»¥é…ç½®ä¸æ ¸å¿ƒç»„ä»¶ç›¸åŒIDçš„ç»„ä»¶ï¼Œæ¯”å¦‚dbï¼Œé‚£ä¹ˆæ³¨å†Œé…ç½®çš„ç»„ä»¶ï¼ˆä»¥configureæ–¹æ³•ä¸ºå…¥å£ï¼‰èµ°çš„æ˜¯&lt;strong&gt;æœ€åä¸€ä¸ªelseifåˆ†æ”¯æˆ–è€…æœ€åä¸€ä¸ªifåˆ†æ”¯&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ä»¥è¿™ä¸¤ä¸ªæ–¹æ³•ä¸ºå…¥å£çš„ç»„ä»¶æ³¨å†Œéƒ½æ²¡æœ‰å¯¹ç»„ä»¶è¿›è¡Œåˆå§‹åŒ–ã€‚é‚£ä¹ˆä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–ç»„ä»¶çš„å‘¢ï¼Ÿåªèƒ½æ˜¯è°ƒç”¨ç»„ä»¶çš„æ—¶å€™äº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç»„ä»¶æ˜¯é€šè¿‡åº”ç”¨å¯¹è±¡å®¹å™¨æ¥è°ƒç”¨çš„ã€‚ä»¥dbç»„ä»¶ä¸ºä¾‹ï¼Œè°ƒç”¨æ–¹å¼ä¸ºï¼š&lt;code&gt;Yii::app()-&amp;gt;db&lt;/code&gt;ï¼Œä½†å®é™…æ˜¯åŸºäºé­”æœ¯æ–¹æ³•&lt;code&gt;__get&lt;/code&gt;æ¥å®Œæˆçš„ï¼Œè¯¥é­”æœ¯æ–¹æ³•å®šä¹‰äºç±»CModuleä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __get($name)
{
    if($this-&amp;gt;hasComponent($name))
        return $this-&amp;gt;getComponent($name);
    else
        return parent::__get($name);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…ˆå°è¯•æŸ¥æ‰¾å¯¹åº”$nameçš„ç»„ä»¶ã€‚ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºWebåº”ç”¨å®¹å™¨ä¸­é™¤äº†å­˜ç»„ä»¶ï¼Œè¿˜å¯ä»¥å­˜å…¶ä»–ä¿¡æ¯ï¼Œå¦‚æ‰€æœ‰çš„é…ç½®ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•hasComponentå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function hasComponent($id)
{
    return isset($this-&amp;gt;_components[$id]) || isset($this-&amp;gt;_componentConfig[$id]);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¹‹æ‰€ä»¥ä¼šå…ˆæŸ¥çœ‹å±æ€§_componentsï¼Œæ˜¯å› ä¸º_componentsä¸­ä¿å­˜çš„ç»„ä»¶æ˜¯å·²ç»åŠ è½½å¥½çš„ï¼Œè€Œ_componentConfigä¿å­˜çš„æ˜¯æ‰€æœ‰æ³¨å†Œçš„ç»„ä»¶ï¼Œä½†æœªåˆå§‹åŒ–ã€‚å³_componentsä¸­çš„ç»„ä»¶æ˜¯_componentConfigä¸­ç»„ä»¶çš„å­é›†ï¼Œæ£€æµ‹èµ·æ¥ä¼šæ›´å¿«ï¼Ÿæˆ‘çš„ç†è§£æ˜¯è¿™æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•getComponentå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getComponent($id,$createIfNull=true)
{
    if(isset($this-&amp;gt;_components[$id]))
        return $this-&amp;gt;_components[$id];
    elseif(isset($this-&amp;gt;_componentConfig[$id]) &amp;amp;&amp;amp; $createIfNull)
    {
        $config=$this-&amp;gt;_componentConfig[$id];
        if(!isset($config[&amp;#39;enabled&amp;#39;]) || $config[&amp;#39;enabled&amp;#39;])
        {
            Yii::trace(&amp;quot;Loading \&amp;quot;$id\&amp;quot; application component&amp;quot;,&amp;#39;system.CModule&amp;#39;);
            unset($config[&amp;#39;enabled&amp;#39;]);
            $component=Yii::createComponent($config);
            $component-&amp;gt;init();
            return $this-&amp;gt;_components[$id]=$component;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…ˆæŸ¥çœ‹å±æ€§_componentsä¸­æ˜¯å¦å·²ä¿å­˜åˆå§‹åŒ–å¥½çš„å¯¹åº”ç»„ä»¶ï¼Œæ˜¯ï¼Œåˆ™ç›´æ¥å–å‡ºæ¥è¿”å›ï¼Œè¿™æ ·é‡å¤è°ƒç”¨ç›¸åŒç»„ä»¶åªä¼šåˆå§‹åŒ–ä¸€æ¬¡ï¼›å¦ï¼Œåˆ™å¯¹è¯¥ç»„ä»¶è¿›è¡Œåˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;ç»„ä»¶åˆå§‹åŒ–åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Yiiæ ¹æ®ç»„ä»¶çš„é…ç½®ä¿¡æ¯å®ä¾‹åŒ–ä¸€ä¸ªç»„ä»¶å¯¹è±¡ï¼Œå³&lt;code&gt;$component=Yii::createComponent($config)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç»„ä»¶å¯¹è±¡è°ƒç”¨è‡ªå·±çš„æ–¹æ³•&lt;code&gt;init&lt;/code&gt;å®Œæˆä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œå³&lt;code&gt;$component-&amp;gt;init()&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆå§‹åŒ–ç»“æŸåï¼Œå°†ç»„ä»¶å¯¹è±¡å­˜å…¥å±æ€§_componentsä¸­ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é™æ€æ–¹æ³•&lt;code&gt;createComponent&lt;/code&gt;å®šä¹‰äºç±»YiiBaseä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Creates an object and initializes it based on the given configuration.
 *
 * The specified configuration can be either a string or an array.
 * If the former, the string is treated as the object type which can
 * be either the class name or {@link YiiBase::getPathOfAlias class path alias}.
 * If the latter, the &amp;#39;class&amp;#39; element is treated as the object type,
 * and the rest of the name-value pairs in the array are used to initialize
 * the corresponding object properties.
 *
 * Any additional parameters passed to this method will be
 * passed to the constructor of the object being created.
 *
 * @param mixed $config the configuration. It can be either a string or an array.
 * @return mixed the created object
 * @throws CException if the configuration does not have a &amp;#39;class&amp;#39; element.
 */
public static function createComponent($config)
{
    // å¦‚æœä¼ å…¥çš„ç»„ä»¶é…ç½®ä¿¡æ¯æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™è®¤ä¸ºæ˜¯å¯¹è±¡ç±»å‹
    if(is_string($config))
    {
        $type=$config;
        $config=array();
    }
    // å¦‚æœæ˜¯æ•°ç»„ï¼Œåˆ™å¿…é¡»æŒ‡å®šç»„ä»¶æ‰€å¯¹åº”çš„class
    elseif(isset($config[&amp;#39;class&amp;#39;]))
    {
        $type=$config[&amp;#39;class&amp;#39;];
        unset($config[&amp;#39;class&amp;#39;]);
    }
    else
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Object configuration must be an array containing a &amp;quot;class&amp;quot; element.&amp;#39;));

    // å¦‚æœç»„ä»¶æ‰€å¯¹åº”çš„ç±»å‹è¿˜æ²¡åŠ è½½ï¼Œåˆ™åŠ è½½è¿›æ¥
    if(!class_exists($type,false))
        $type=Yii::import($type,true);

    // å¦‚æœé™¤äº†$configï¼Œè¿˜ä¼ é€’äº†å…¶ä»–å‚æ•°ï¼Œåˆ™æ ¹æ®é¢å¤–çš„å‚æ•°æ¥å®ä¾‹åŒ–ã€‚å¯¹äºç»„ä»¶åˆå§‹åŒ–æ¥è¯´ï¼Œä¸ä¼šèµ°è¿™ä¸ªåˆ†æ”¯
    if(($n=func_num_args())&amp;gt;1)
    {
        $args=func_get_args();
        if($n===2)
            $object=new $type($args[1]);
        elseif($n===3)
            $object=new $type($args[1],$args[2]);
        elseif($n===4)
            $object=new $type($args[1],$args[2],$args[3]);
        else
        {
            unset($args[0]);
            $class=new ReflectionClass($type);
            // Note: ReflectionClass::newInstanceArgs() is available for PHP 5.1.3+
            // $object=$class-&amp;gt;newInstanceArgs($args);
            $object=call_user_func_array(array($class,&amp;#39;newInstance&amp;#39;),$args);
        }
    }
    // æ²¡æœ‰é¢å¤–çš„å‚æ•°ï¼Œåˆ™ç›´æ¥å®ä¾‹åŒ–ç»„ä»¶
    else
        $object=new $type;

    // $configä¸­é™¤äº†classå¤–çš„å…¶ä»–å­—æ®µéƒ½ä½œä¸ºç»„ä»¶å¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼
    foreach($config as $key=&amp;gt;$value)
        $object-&amp;gt;$key=$value;

    return $object;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸Šè¿°ä»£ç å¯ä»¥çœ‹å‡ºï¼Œåœ¨é…ç½®ç»„ä»¶æ—¶ï¼Œå¦‚æœæ˜¯é…ç½®æ ¸å¿ƒç»„ä»¶ï¼Œå¯ä»¥ä¸æä¾›classå­—æ®µï¼Œå¦åˆ™ä¸€å®šè¦æä¾›ã€‚é™¤äº†classå­—æ®µï¼Œè¿˜å¯ä»¥ä¸ºç»„ä»¶å¯¹è±¡çš„å±æ€§èµ‹å€¼ã€‚æŒ‰ç…§PHPä¸­å¯¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼çš„è§„åˆ™ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœè¯¥å¯¹è±¡æœ‰publicçš„è¯¥å±æ€§ï¼Œåˆ™ç›´æ¥èµ‹å€¼&lt;/li&gt;
&lt;li&gt;å¦åˆ™çœ‹è¯¥å¯¹è±¡æ‰€åœ¨ç»§æ‰¿æ ‘ä¸Šæ˜¯å¦æœ‰å®šä¹‰é­”æœ¯æ–¹æ³•&lt;code&gt;__set&lt;/code&gt;ï¼Œå¦‚æœæœ‰åˆ™è°ƒç”¨&lt;code&gt;__set&lt;/code&gt;æ¥å¤„ç†èµ‹å€¼è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿&lt;code&gt;__set&lt;/code&gt;ä¹Ÿæ²¡æœ‰ï¼Œåˆ™ä¸ºè¯¥å¯¹è±¡ç”Ÿæˆä¸€ä¸ªpublicçš„å±æ€§ï¼Œç„¶åèµ‹å€¼ç»™å®ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯ä»¥å°†è‡ªå®šä¹‰ç»„ä»¶ç±»éœ€è¦åˆå§‹åŒ–èµ‹å€¼çš„å±æ€§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®šä¹‰ä¸ºpublicè®¿é—®æ§åˆ¶&lt;/li&gt;
&lt;li&gt;å¦‚æœépublicï¼Œåˆ™åº”è¯¥é­”æœ¯æ–¹æ³•&lt;code&gt;__set&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¹Ÿå¯ä»¥ä¸å®šä¹‰è¯¥å±æ€§ï¼ˆæˆ‘è§‰å¾—è¿˜æ˜¯å®šä¹‰ä¸€ä¸‹æ¯”è¾ƒå¥½ï¼Œå¦åˆ™ä¸å¥½ç†è§£ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;åœ¨é™æ€æ–¹æ³•createComponentè¿”å›ç»„ä»¶å¯¹è±¡åï¼Œæ¥ç€è°ƒç”¨ç»„ä»¶å¯¹è±¡è‡ªèº«çš„initæ–¹æ³•æ¥å®Œæˆä¸€äº›åˆå§‹åŒ–å·¥å…·ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€è‡ªå®šä¹‰ç»„ä»¶éœ€è¦æœ‰initæ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä»æ ¸å¿ƒç»„ä»¶çš„å®šä¹‰å¯ä»¥çœ‹åˆ°ï¼Œç»„ä»¶åº”è¯¥ç»§æ‰¿è‡ªæŠ½è±¡ç±»&lt;code&gt;CApplicationComponent&lt;/code&gt;ï¼ˆè§æ–‡ä»¶&lt;code&gt;yii/framework/base/CApplicationComponent.php&lt;/code&gt;ï¼‰ã€‚è¯¥ç±»å®šä¹‰äº†æ–¹æ³•initå’ŒgetIsInitializedã€‚
è‡ªå®šä¹‰ç»„ä»¶ç»§æ‰¿è‡ª&lt;code&gt;CApplicationComponent&lt;/code&gt;ï¼Œè‹¥æ²¡æœ‰é¢å¤–çš„åˆå§‹åŒ–æ“ä½œï¼Œä¹Ÿå¯ä»¥ä¸å†å®šä¹‰è‡ªå·±çš„initæ–¹æ³•ã€‚å¦‚æœå®šä¹‰è‡ªå·±çš„initæ–¹æ³•ï¼Œæœ€å¥½ä¹Ÿé—´æ¥è°ƒç”¨ä¸€ä¸‹çˆ¶ç±»çš„initæ–¹æ³•ï¼ˆ&lt;code&gt;parent::init()&lt;/code&gt;ï¼‰ï¼Œ
ä»è€Œé¿å…ä¸€äº›å¯èƒ½æ½œåœ¨çš„å…¼å®¹é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºè‡ªå®šä¹‰ç»„ä»¶çš„æ›´å¤šå…·ä½“ç»†èŠ‚ï¼Œå¯ä»¥å‚è€ƒ&lt;a href="http://youngsterxyf.github.io/2014/09/06/socket.io-push-server/"&gt;åŸºäºsocket.ioçš„å®æ—¶æ¶ˆæ¯æ¨é€&lt;/a&gt;ä¸€æ–‡ä¸­çš„ç¤ºä¾‹ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="Yii"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>Yiiæºç é˜…è¯»ç¬”è®° - è·¯ç”±è§£æ</title><link href="http://youngsterxyf.github.io/2014/11/12/read-yii-code-2/" rel="alternate"></link><published>2014-11-12T00:00:00+08:00</published><updated>2014-11-12T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-11-12:/2014/11/12/read-yii-code-2/</id><summary type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;Yiiæ¡†æ¶çš„è·¯ç”±è§£æåŠŸèƒ½ç”±æ ¸å¿ƒç»„ä»¶urlManageræ¥å®Œæˆã€‚è·¯ç”±çš„å½¢å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;getï¼šé€šè¿‡URLä¸­æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆquery stringï¼‰å‚æ•°ræ¥æŒ‡å®šè·¯ç”±ï¼Œå¦‚ï¼š&lt;code&gt;r=controllerID/actionID&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;pathï¼šç›´æ¥é€šè¿‡URLæ¥æŒ‡å®šï¼Œå¦‚ï¼š&lt;code&gt;/controllerID/actionID&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é»˜è®¤ä½¿ç”¨getè·¯ç”±å½¢å¼ã€‚ç”±äºYiiä¸­controllerç±»å‘½åå’Œactionæ–¹æ³•éƒ½æ˜¯æŒ‰ç…§è§„åˆ™å‘½åçš„ï¼Œè€Œè·¯ç”±ä¹Ÿæ˜¯æŒ‰ç…§è§„åˆ™ â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;Yiiæ¡†æ¶çš„è·¯ç”±è§£æåŠŸèƒ½ç”±æ ¸å¿ƒç»„ä»¶urlManageræ¥å®Œæˆã€‚è·¯ç”±çš„å½¢å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;getï¼šé€šè¿‡URLä¸­æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆquery stringï¼‰å‚æ•°ræ¥æŒ‡å®šè·¯ç”±ï¼Œå¦‚ï¼š&lt;code&gt;r=controllerID/actionID&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;pathï¼šç›´æ¥é€šè¿‡URLæ¥æŒ‡å®šï¼Œå¦‚ï¼š&lt;code&gt;/controllerID/actionID&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é»˜è®¤ä½¿ç”¨getè·¯ç”±å½¢å¼ã€‚ç”±äºYiiä¸­controllerç±»å‘½åå’Œactionæ–¹æ³•éƒ½æ˜¯æŒ‰ç…§è§„åˆ™å‘½åçš„ï¼Œè€Œè·¯ç”±ä¹Ÿæ˜¯æŒ‰ç…§è§„åˆ™æ¥åŒ¹é…çš„ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥ä¸ç”¨é¢å¤–é…ç½®urlManagerã€‚&lt;/p&gt;
&lt;p&gt;è‹¥éœ€è¦ä½¿ç”¨pathæ–¹å¼ï¼Œåˆ™å¯å¦‚ä¸‹é…ç½®ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;quot;components&amp;quot; =&amp;gt; array(
    &amp;#39;urlManager&amp;#39; =&amp;gt; array(
        &amp;#39;urlFormat&amp;#39; =&amp;gt; &amp;#39;path&amp;#39;,
        &amp;#39;rules&amp;#39; =&amp;gt; array(
            ...
        ),
),
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿›ä¸€æ­¥è¯´æ˜å¯å‚è€ƒ&lt;a href="http://youngsterxyf.github.io/2014/09/06/experience-about-restful-api/"&gt;RESTful APIè®¾è®¡çš„ä¸€ç‚¹ç»éªŒ&lt;/a&gt;ä¸€æ–‡ã€‚&lt;/p&gt;
&lt;h3&gt;åˆ†æ&lt;/h3&gt;
&lt;p&gt;åœ¨â€œè¯·æ±‚å¤„ç†åŸºæœ¬æµç¨‹â€ä¸€ç¯‡å¯ä»¥çœ‹åˆ°Yiiæ¡†æ¶è·¯ç”±è§£ææµç¨‹çš„å…¥å£åœ¨ç±»CWebApplicationçš„processRequestæ–¹æ³•ä¸­ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$route=$this-&amp;gt;getUrlManager()-&amp;gt;parseUrl($this-&amp;gt;getRequest());
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­getUrlManageræ–¹æ³•å®šä¹‰äºç±»CApplicationä¸­ï¼Œä½œç”¨æ˜¯åˆå§‹åŒ–è·å–URLç®¡ç†ç»„ä»¶ï¼ˆIDä¸ºurlManagerï¼‰ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function getUrlManager()
{
    return $this-&amp;gt;getComponent(&amp;#39;urlManager&amp;#39;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨è·å–urlManagerç»„ä»¶å¯¹è±¡è¿‡ç¨‹ä¸­ï¼Œä¼šå¯¹å¯¹è±¡åšåˆå§‹åŒ–ï¼Œè°ƒç”¨å¯¹è±¡çš„initæ–¹æ³•ï¼Œè§ç±»CUrlManagerçš„initæ–¹æ³•å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function init()
{
    parent::init();
    $this-&amp;gt;processRules();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­è°ƒç”¨çš„æ–¹æ³•processRulesï¼Œæ˜¯æ ¹æ®é…ç½®çš„rulesè§£æåˆ›å»ºè§„åˆ™å¯¹è±¡ï¼Œæ”¾åˆ°å±æ€§_rulesä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;protected function processRules()
{
    // å¦‚æœæœªé…ç½®rulesï¼Œæˆ–ä½¿ç”¨çš„è·¯ç”±å½¢å¼æ˜¯getï¼Œåˆ™æ ¹æœ¬æ— éœ€è§£æè·¯ç”±è§„åˆ™
    if(empty($this-&amp;gt;rules) || $this-&amp;gt;getUrlFormat()===self::GET_FORMAT)
        return;
    // å¦åˆ™å°è¯•ä»ç¼“å­˜ä¸­è¯»å–è§£æå¥½çš„è·¯ç”±è§„åˆ™
    if($this-&amp;gt;cacheID!==false &amp;amp;&amp;amp; ($cache=Yii::app()-&amp;gt;getComponent($this-&amp;gt;cacheID))!==null)
    {
        $hash=md5(serialize($this-&amp;gt;rules));
        if(($data=$cache-&amp;gt;get(self::CACHE_KEY))!==false &amp;amp;&amp;amp; isset($data[1]) &amp;amp;&amp;amp; $data[1]===$hash)
        {
            $this-&amp;gt;_rules=$data[0];
            return;
        }
    }
    // å¦åˆ™é€æ¡è·¯ç”±è§„åˆ™è§£æ
    foreach($this-&amp;gt;rules as $pattern=&amp;gt;$route)
        $this-&amp;gt;_rules[]=$this-&amp;gt;createUrlRule($route,$pattern);
    // å°è¯•ç¼“å­˜è§£æå¥½çš„è·¯ç”±è§„åˆ™
    if(isset($cache))
        $cache-&amp;gt;set(self::CACHE_KEY,array($this-&amp;gt;_rules,$hash));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸Šè¿°ä»£ç ä¸­ï¼Œåœ¨è§£æåˆ›å»ºè§„åˆ™å¯¹è±¡å‰ä¼šå…ˆæ£€æŸ¥æ˜¯å¦å·²ç¼“å­˜äº†è§£æåˆ›å»ºå¥½çš„è§„åˆ™ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™åœ¨è§£æåˆ›å»ºå¥½è§„åˆ™åï¼Œå°†è¿™äº›è§„åˆ™ç¼“å­˜èµ·æ¥ã€‚è¿™æ ·å°±é¿å…äº†æ¯æ¬¡è¯·æ±‚å¤„ç†éƒ½è¦è§£æä¸€æ¬¡rulesåˆ—è¡¨ã€‚
ä½†è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯&lt;strong&gt;urlManagerç»„ä»¶é»˜è®¤ä½¿ç”¨IDä¸º&lt;code&gt;cache&lt;/code&gt;çš„ç¼“å­˜ç»„ä»¶ï¼ˆCUrlManagerç±»çš„å±æ€§cacheIDé»˜è®¤å€¼ä¸ºcacheï¼‰ï¼Œè€Œæ ¸å¿ƒç»„ä»¶å¹¶ä¸åŒ…å«IDä¸º&lt;code&gt;cache&lt;/code&gt;çš„ç¼“å­˜ç»„ä»¶ï¼Œæ‰€ä»¥è‹¥å¸Œæœ›ç¼“å­˜è§£æå¥½è·¯ç”±è§„åˆ™ï¼Œ
åˆ™åº”è¯¥é…ç½®IDä¸ºcacheçš„ç¼“å­˜ç»„ä»¶ï¼Œå¦‚æœç¼“å­˜ç»„ä»¶çš„IDä¸æ˜¯cacheï¼Œåˆ™éœ€è¦é…ç½®urlManagerç»„ä»¶çš„cacheIDå±æ€§&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰è®¾ç½®ç¼“å­˜ç»„ä»¶ï¼Œæˆ–è€…ç¼“å­˜ä¸­æœªæ‰¾åˆ°è§£æå¥½çš„è·¯ç”±è§„åˆ™ï¼Œåˆ™éœ€è¦å¯¹é…ç½®çš„rulesé€æ¡è§£æï¼Œè§£æè¿‡ç¨‹è§ç±»CUrlManagerçš„createUrlRuleæ–¹æ³•å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Creates a URL rule instance.
 * The default implementation returns a CUrlRule object.
 * @param mixed $route the route part of the rule. This could be a string or an array
 * @param string $pattern the pattern part of the rule
 * @return CUrlRule the URL rule instance
 * @since 1.1.0
 */
protected function createUrlRule($route,$pattern)
{
    // è¯´æ˜å¯ä»¥é…ç½®è‡ªå®šä¹‰çš„è·¯ç”±è§„åˆ™è§£æç±»
    if(is_array($route) &amp;amp;&amp;amp; isset($route[&amp;#39;class&amp;#39;]))
        return $route;
    else
    {
        $urlRuleClass=Yii::import($this-&amp;gt;urlRuleClass,true);
        return new $urlRuleClass($route,$pattern);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä»¥ä¸‹rulesé…ç½®ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;#39;rules&amp;#39; =&amp;gt; array(
    array(&amp;#39;industry/index&amp;#39;, &amp;#39;pattern&amp;#39; =&amp;gt; &amp;#39;/v1/partner/industry/&amp;#39;, &amp;#39;verb&amp;#39; =&amp;gt; &amp;#39;GET&amp;#39;),
    array(&amp;#39;token/create&amp;#39;, &amp;#39;pattern&amp;#39; =&amp;gt; &amp;#39;/v1/partner/token&amp;#39;, &amp;#39;verb&amp;#39; =&amp;gt; &amp;#39;POST&amp;#39;),
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨å¤„ç†ç¬¬ä¸€æ¡è§„åˆ™æ—¶ï¼Œæ–¹æ³•createUrlRuleçš„å‚æ•°$patternçš„å€¼ä¸ºæ•°ç»„çš„ç´¢å¼•0ï¼Œ$routeçš„å€¼ä¸ºå…³è”æ•°ç»„&lt;code&gt;array('industry/index', 'pattern' =&amp;gt; '/v1/partner/industry/', 'verb' =&amp;gt; 'GET')&lt;/code&gt;ï¼Œ
ä½†å› ä¸º$routeé‡Œæ²¡æœ‰è®¾ç½®classå­—æ®µï¼Œæ‰€ä»¥èµ°çš„æ˜¯elseåˆ†æ”¯ - å…ˆå¼•å…¥ç±»CUrlRuleï¼ˆ$this-&amp;gt;urlRuleClassçš„é»˜è®¤å€¼ï¼‰ï¼Œç„¶åæ ¹æ®$routeã€$patternå®ä¾‹åŒ–ç±»CUrlRuleï¼Œè¯¥ç±»ä¹Ÿå®šä¹‰åœ¨æ–‡ä»¶&lt;code&gt;yii/framework/web/CUrlManager.php&lt;/code&gt;ä¸­ï¼Œ
ç›´æ¥ç»§æ‰¿è‡ªæŠ½è±¡ç±»CBaseUrlRuleã€‚CUrlRuleçš„æ„é€ æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __construct($route,$pattern)
{
    if(is_array($route))
    {
        // ä»è¿™é‡Œå¯çŸ¥$routeæ”¯æŒ&amp;#39;urlSuffix&amp;#39;, &amp;#39;caseSensitive&amp;#39;, &amp;#39;defaultParams&amp;#39;, &amp;#39;matchValue&amp;#39;, &amp;#39;verb&amp;#39;, &amp;#39;parsingOnly&amp;#39;è¿™äº›é…ç½®é¡¹
        foreach(array(&amp;#39;urlSuffix&amp;#39;, &amp;#39;caseSensitive&amp;#39;, &amp;#39;defaultParams&amp;#39;, &amp;#39;matchValue&amp;#39;, &amp;#39;verb&amp;#39;, &amp;#39;parsingOnly&amp;#39;) as $name)
        {
            if(isset($route[$name]))
                $this-&amp;gt;$name=$route[$name];
        }
        // å¦‚æœ$routeä¸­æœ‰patterné…ç½®é¡¹ï¼Œåˆ™å°†é…ç½®å€¼èµ‹å€¼ç»™$pattern
        if(isset($route[&amp;#39;pattern&amp;#39;]))
            $pattern=$route[&amp;#39;pattern&amp;#39;];
        // è€Œ$routeçš„ç¬¬ä¸€ä¸ªé…ç½®é¡¹æ‰æ˜¯çœŸæ­£çš„ç›®æ ‡è·¯ç”±
        $route=$route[0];
    }
    $this-&amp;gt;route=trim($route,&amp;#39;/&amp;#39;);

    $tr2[&amp;#39;/&amp;#39;]=$tr[&amp;#39;/&amp;#39;]=&amp;#39;\\/&amp;#39;;

    if(strpos($route,&amp;#39;&amp;lt;&amp;#39;)!==false &amp;amp;&amp;amp; preg_match_all(&amp;#39;/&amp;lt;(\w+)&amp;gt;/&amp;#39;,$route,$matches2))
    {
        foreach($matches2[1] as $name)
            $this-&amp;gt;references[$name]=&amp;quot;&amp;lt;$name&amp;gt;&amp;quot;;
    }

    // æ˜¯å¦å¸¦åè®®å¤´
    $this-&amp;gt;hasHostInfo=!strncasecmp($pattern,&amp;#39;http://&amp;#39;,7) || !strncasecmp($pattern,&amp;#39;https://&amp;#39;,8);

    // å¦‚æœåŸ$routeæœ‰verbé…ç½®é¡¹
    // verbé…ç½®æ”¯æŒå¤šä¸ªHTTPæ–¹æ³•ï¼Œä»¥ç©ºæ ¼æˆ–é€—å·åˆ†éš”ï¼Œå¦‚ï¼šâ€œGET,POSTâ€
    if($this-&amp;gt;verb!==null)
        $this-&amp;gt;verb=preg_split(&amp;#39;/[\s,]+/&amp;#39;,strtoupper($this-&amp;gt;verb),-1,PREG_SPLIT_NO_EMPTY);

    // $patternä¸­ç±»æ­£åˆ™ç‰‡æ®µæ”¯æŒä¸¤ç§å½¢å¼ï¼šå‘½åçš„å’Œæœªå‘½åçš„ï¼Œå¦‚â€œ&amp;lt;id:\d+&amp;gt;â€å’Œâ€œ&amp;lt;\d+&amp;gt;â€
    if(preg_match_all(&amp;#39;/&amp;lt;(\w+):?(.*?)?&amp;gt;/&amp;#39;,$pattern,$matches))
    {
        $tokens=array_combine($matches[1],$matches[2]);
        foreach($tokens as $name=&amp;gt;$value)
        {
            if($value===&amp;#39;&amp;#39;)
                $value=&amp;#39;[^\/]+&amp;#39;;
            $tr[&amp;quot;&amp;lt;$name&amp;gt;&amp;quot;]=&amp;quot;(?P&amp;lt;$name&amp;gt;$value)&amp;quot;;
            if(isset($this-&amp;gt;references[$name]))
                $tr2[&amp;quot;&amp;lt;$name&amp;gt;&amp;quot;]=$tr[&amp;quot;&amp;lt;$name&amp;gt;&amp;quot;];
            else
                $this-&amp;gt;params[$name]=$value;
        }
    }
    // å¥½å§ï¼Œä¹‹åçš„è¿™æ®µä»£ç æˆ‘è¿˜æ²¡å¤ªçœ‹æ‡‚ä½œç”¨
    // å°±æ˜¯ä¸ºäº†å°†$patternè½¬æ¢æˆä¸€ä¸ªçœŸæ­£çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ
    $p=rtrim($pattern,&amp;#39;*&amp;#39;);
    $this-&amp;gt;append=$p!==$pattern;
    $p=trim($p,&amp;#39;/&amp;#39;);
    $this-&amp;gt;template=preg_replace(&amp;#39;/&amp;lt;(\w+):?.*?&amp;gt;/&amp;#39;,&amp;#39;&amp;lt;$1&amp;gt;&amp;#39;,$p);
    $this-&amp;gt;pattern=&amp;#39;/^&amp;#39;.strtr($this-&amp;gt;template,$tr).&amp;#39;\/&amp;#39;;
    if($this-&amp;gt;append)
        $this-&amp;gt;pattern.=&amp;#39;/u&amp;#39;;
    else
        $this-&amp;gt;pattern.=&amp;#39;$/u&amp;#39;;

    if($this-&amp;gt;references!==array())
        $this-&amp;gt;routePattern=&amp;#39;/^&amp;#39;.strtr($this-&amp;gt;route,$tr2).&amp;#39;$/u&amp;#39;;

    if(YII_DEBUG &amp;amp;&amp;amp; @preg_match($this-&amp;gt;pattern,&amp;#39;test&amp;#39;)===false)
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;The URL pattern &amp;quot;{pattern}&amp;quot; for route &amp;quot;{route}&amp;quot; is not a valid regular expression.&amp;#39;,
            array(&amp;#39;{route}&amp;#39;=&amp;gt;$route,&amp;#39;{pattern}&amp;#39;=&amp;gt;$pattern)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;åœ¨å¾—åˆ°&lt;strong&gt;urlManagerç»„ä»¶å¯¹è±¡&lt;/strong&gt;åï¼Œè°ƒç”¨å…¶parseUrlæ–¹æ³•ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function parseUrl($request)
{
    if($this-&amp;gt;getUrlFormat()===self::PATH_FORMAT)
    {
        $rawPathInfo=$request-&amp;gt;getPathInfo();
        $pathInfo=$this-&amp;gt;removeUrlSuffix($rawPathInfo,$this-&amp;gt;urlSuffix);
        foreach($this-&amp;gt;_rules as $i=&amp;gt;$rule)
        {
            if(is_array($rule))
                $this-&amp;gt;_rules[$i]=$rule=Yii::createComponent($rule);
            // é€ä¸ªè·¯ç”±è§„åˆ™åŒ¹é…
            if(($r=$rule-&amp;gt;parseUrl($this,$request,$pathInfo,$rawPathInfo))!==false)
                // å³ä½¿åŒ¹é…åˆ°äº†è·¯ç”±è§„åˆ™ï¼Œä¹Ÿè¿˜æ˜¯å¾—çœ‹ä¸€ä¸‹URLä¸­æ˜¯å¦æŒ‡å®šäº†è·¯ç”±ï¼Œæ˜¯çš„è¯åˆ™ä¼˜å…ˆä½¿ç”¨URLä¸­æŒ‡å®šçš„è·¯ç”±
                return isset($_GET[$this-&amp;gt;routeVar]) ? $_GET[$this-&amp;gt;routeVar] : $r;
        }
        // å¦‚æœä¸€å®šè¦åŒ¹é…åˆ°æŸä¸ªè·¯ç”±è§„åˆ™æ‰è¡Œï¼Œé‚£ä¹ˆæ‰§è¡Œåˆ°è¿™é‡Œå°±è¡¨ç¤ºæœªæœ‰åŒ¹é…çš„è·¯ç”±è§„åˆ™ï¼Œæ‰€ä»¥å°±æŠ›404é”™è¯¯äº†ã€‚
        if($this-&amp;gt;useStrictParsing)
            throw new CHttpException(404,Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Unable to resolve the request &amp;quot;{route}&amp;quot;.&amp;#39;,
                array(&amp;#39;{route}&amp;#39;=&amp;gt;$pathInfo)));
        // å¦åˆ™å…ˆè¿”å›è¯·æ±‚è·¯å¾„ä½œä¸ºç›®æ ‡è·¯ç”±
        else
            return $pathInfo;
    }
    // å¦‚æœä½¿ç”¨çš„æ˜¯getè·¯ç”±å½¢å¼ï¼Œåˆ™ä»GETè¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²æˆ–POSTè¯·æ±‚çš„è¯·æ±‚ä½“æ‰¾ç›®æ ‡è·¯ç”±
    elseif(isset($_GET[$this-&amp;gt;routeVar]))
        return $_GET[$this-&amp;gt;routeVar];
    elseif(isset($_POST[$this-&amp;gt;routeVar]))
        return $_POST[$this-&amp;gt;routeVar];
    else
        return &amp;#39;&amp;#39;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªrequestç»„ä»¶å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆåˆ¤æ–­åº”ç”¨ä½¿ç”¨çš„è·¯ç”±å½¢å¼æ˜¯å¦ä¸ºpathï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™æ ¹æ®è·¯ç”±çš„å‚æ•°åï¼ˆé»˜è®¤ä¸º&lt;code&gt;r&lt;/code&gt;ï¼Œç”±äºurlManagerç±»çš„routeVarå±æ€§æ˜¯publicçš„ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡é…ç½®routeVarçš„å€¼æ¥ä¿®æ”¹è·¯ç”±å‚æ•°åï¼‰è·å–è·¯ç”±ã€‚å¹¶ä¸”è·¯ç”±å¯ä»¥é€šè¿‡GETæ–¹æ³•æ”¾åœ¨URLæŸ¥è¯¢å­—ç¬¦ä¸²ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡POSTæ–¹æ³•æ”¾åœ¨è¯·æ±‚ä½“ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºpathå½¢å¼çš„è·¯ç”±ï¼Œè§£æè¿‡ç¨‹åˆ™è¦å¤æ‚ä¸€äº›ã€‚å…ˆé€šè¿‡requestç»„ä»¶å¯¹è±¡çš„getPathInfoæ–¹æ³•å–åˆ°è¯·æ±‚çš„URLï¼ˆä¼šå¯¹åŸæœ¬çš„è¯·æ±‚URLåšä¸€å®šçš„å¤„ç†ï¼‰ï¼Œç„¶åæ ¹æ®è§£æå¥½çš„è·¯ç”±è§„åˆ™åˆ—è¡¨é€ä¸ªåŒ¹é…ã€‚å…¶ä¸­&lt;strong&gt;CUrlRuleç±»&lt;/strong&gt;çš„parseUrlæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function parseUrl($manager,$request,$pathInfo,$rawPathInfo)
{
    // å…ˆæ£€æŸ¥HTTPè°“è¯ï¼ˆverbï¼‰æ˜¯å¦åŒ¹é…
    if($this-&amp;gt;verb!==null &amp;amp;&amp;amp; !in_array($request-&amp;gt;getRequestType(), $this-&amp;gt;verb, true))
        return false;
    // æ˜¯å¦å…³å¿ƒå¤§å°å†™
    if($manager-&amp;gt;caseSensitive &amp;amp;&amp;amp; $this-&amp;gt;caseSensitive===null || $this-&amp;gt;caseSensitive)
        $case=&amp;#39;&amp;#39;;
    else
        $case=&amp;#39;i&amp;#39;;

    // urlSiffixé…ç½®é¡¹æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ
    if($this-&amp;gt;urlSuffix!==null)
        $pathInfo=$manager-&amp;gt;removeUrlSuffix($rawPathInfo,$this-&amp;gt;urlSuffix);

    // URL suffix required, but not found in the requested URL
    if($manager-&amp;gt;useStrictParsing &amp;amp;&amp;amp; $pathInfo===$rawPathInfo)
    {
        $urlSuffix=$this-&amp;gt;urlSuffix===null ? $manager-&amp;gt;urlSuffix : $this-&amp;gt;urlSuffix;
        if($urlSuffix!=&amp;#39;&amp;#39; &amp;amp;&amp;amp; $urlSuffix!==&amp;#39;/&amp;#39;)
            return false;
    }

    if($this-&amp;gt;hasHostInfo)
        $pathInfo=strtolower($request-&amp;gt;getHostInfo()).rtrim(&amp;#39;/&amp;#39;.$pathInfo,&amp;#39;/&amp;#39;);

    $pathInfo.=&amp;#39;/&amp;#39;;

    // æ­£åˆ™åŒ¹é…ï¼šç”¨patternæ¥åŒ¹é…è·¯å¾„
    if(preg_match($this-&amp;gt;pattern.$case,$pathInfo,$matches))
    {
        // å¯ä»¥é…ç½®defaultParamsæ•°ç»„æ¥ä¸ºè¯·æ±‚æœªæä¾›çš„å¿…è¦å‚æ•°æŒ‡å®šé»˜è®¤å€¼
        foreach($this-&amp;gt;defaultParams as $name=&amp;gt;$value)
        {
            if(!isset($_GET[$name]))
                $_REQUEST[$name]=$_GET[$name]=$value;
        }
        $tr=array();
        foreach($matches as $key=&amp;gt;$value)
        {
            if(isset($this-&amp;gt;references[$key]))
                $tr[$this-&amp;gt;references[$key]]=$value;
            elseif(isset($this-&amp;gt;params[$key]))
                $_REQUEST[$key]=$_GET[$key]=$value;
        }
        if($pathInfo!==$matches[0]) // there&amp;#39;re additional GET params
            $manager-&amp;gt;parsePathInfo(ltrim(substr($pathInfo,strlen($matches[0])),&amp;#39;/&amp;#39;));
        if($this-&amp;gt;routePattern!==null)
            return strtr($this-&amp;gt;route,$tr);
        else
            return $this-&amp;gt;route;
    }
    else
        return false;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»ä¸Šè¿°ä»£ç å¯ä»¥çœ‹å‡ºï¼Œè·¯ç”±è§£æå…³é”®æ˜¯æ ¹æ®$patternåŒ¹é…è¯·æ±‚URLï¼Œå¹¶&lt;strong&gt;ä»URLå–å‡ºéœ€è¦çš„ä¸œè¥¿ä½œä¸ºè¯·æ±‚å‚æ•°&lt;/strong&gt;ï¼Œä¸€æ—¦åŒ¹é…ï¼Œå°±ä»¥$routeä½œä¸ºè¯¥æ¬¡è¯·æ±‚çš„ç›®æ ‡è·¯ç”±ã€‚&lt;/p&gt;
&lt;p&gt;è·å¾—ç›®æ ‡è·¯ç”±åï¼Œå°±å¯ä»¥æ ¹æ®ç›®æ ‡è·¯ç”±æŸ¥æ‰¾è°ƒç”¨å¯¹åº”çš„controllerå’Œactionäº†ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="Yii"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>è¯»æ–‡ç¬”è®°ï¼šAn Introduction to APIs</title><link href="http://youngsterxyf.github.io/2014/11/09/an-introduction-to-apis/" rel="alternate"></link><published>2014-11-09T00:00:00+08:00</published><updated>2014-11-09T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-11-09:/2014/11/09/an-introduction-to-apis/</id><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://zapier.com/learn/apis/"&gt;An Introduction to APIs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æ³¨ï¼šè¯¥æ–‡æ˜¯å…¥é—¨çº§åˆ«çš„æ–‡ç« &lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="mind-mapping" src="/assets/uploads/pics/An-Introduction-to-APIs.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://raw.githubusercontent.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/An-Introduction-to-APIs.png"&gt;é«˜æ¸…æ— ç å¤§å›¾&lt;/a&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="API"></category><category term="REST"></category></entry><entry><title>Yiiæºç é˜…è¯»ç¬”è®° - è¯·æ±‚å¤„ç†åŸºæœ¬æµç¨‹</title><link href="http://youngsterxyf.github.io/2014/11/04/read-yii-code-1/" rel="alternate"></link><published>2014-11-04T00:00:00+08:00</published><updated>2014-11-04T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-11-04:/2014/11/04/read-yii-code-1/</id><summary type="html">&lt;p&gt;å¯¹äºWebæ¡†æ¶ï¼Œæˆ‘è®¤ä¸ºå…¶ä¸»è¦æœ‰ä¸‰ç‚¹ä½œç”¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æä¾›å¤šäººåä½œçš„åŸºæœ¬è§„èŒƒ&lt;/li&gt;
&lt;li&gt;é¿å…é‡å¤é€ è½®å­&lt;/li&gt;
&lt;li&gt;å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œè„æ´»ï¼ˆå¦‚ï¼šåŸºæœ¬çš„å®‰ â€¦&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;å¯¹äºWebæ¡†æ¶ï¼Œæˆ‘è®¤ä¸ºå…¶ä¸»è¦æœ‰ä¸‰ç‚¹ä½œç”¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æä¾›å¤šäººåä½œçš„åŸºæœ¬è§„èŒƒ&lt;/li&gt;
&lt;li&gt;é¿å…é‡å¤é€ è½®å­&lt;/li&gt;
&lt;li&gt;å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œè„æ´»ï¼ˆå¦‚ï¼šåŸºæœ¬çš„å®‰å…¨é˜²èŒƒã€å…¼å®¹é—®é¢˜ï¼‰Webæ¡†æ¶éƒ½å·²å®Œæˆå¹¶æä¾›è®¾è®¡è‰¯å¥½çš„API&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½†ä»£ä»·æ˜¯å­¦ä¹ æˆæœ¬ - ä¸ºäº†å°½å¯èƒ½å‘æŒ¥Webæ¡†æ¶çš„ä¼˜åŠ¿ï¼Œéœ€è¦èŠ±ä¸€äº›é˜…è¯»æ–‡æ¡£ï¼Œç”šè‡³æ˜¯æ¡†æ¶æºç ï¼ˆç‰¹åˆ«æ˜¯æ–‡æ¡£ç¼ºä¹æˆ–è€…æ–‡æ¡£å†™å¾—åƒåœ¾çš„ï¼‰ï¼Œç„¶åç»è¿‡å‡ æ¬¡é¡¹ç›®å®è·µï¼Œä¸€åˆ‡æ‰èƒ½äº†ç„¶äºèƒ¸ã€‚&lt;/p&gt;
&lt;p&gt;å–ï¼Œä¸ºäº†åœ¨å·¥ä½œä¸­æ›´å¥½åœ°ä½¿ç”¨ã€é¿å…è¯¯ç”¨Yiiæ¡†æ¶ï¼Œå¤§è‡´é˜…è¯»äº†Yiiæ¡†æ¶çš„éƒ¨åˆ†ä»£ç ï¼Œç„¶åæœ‰äº†è¿™ä¸ªç³»åˆ—çš„ç¬”è®°ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ·±å…¥å­¦ä¹ ä¸€ä¸ªWebæ¡†æ¶ï¼Œé¦–å…ˆè¦ç†è§£çš„æ˜¯è¯·æ±‚å¤„ç†æµç¨‹ã€‚å¯¹äºPHPè€Œè¨€ï¼Œå¤„ç†æµç¨‹ä¹Ÿå³åŒ…å«äº†åº”ç”¨çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œå¦‚åŠ è½½é…ç½®ã€åˆå§‹åŒ–ç»„ä»¶ç­‰ã€‚è¯·æ±‚å¤„ç†æµç¨‹ä¸­æœ€æ ¸å¿ƒçš„åº”è¯¥æ˜¯è·¯ç”±è§£æå’Œåˆ†å‘ï¼Œæ­¤å¤–å¯èƒ½è¿˜æœ‰è¿‡æ»¤å™¨å¤„ç†ã€äº‹ä»¶å¤„ç†ç­‰ï¼Œç›´åˆ°è¯·æ±‚å¤„ç†è¿›å…¥å…·ä½“çš„Controllerå’ŒActionã€‚å“åº”ç”Ÿæˆã€è¿‡æ»¤ç­‰ä¹Ÿå¯ä»¥å…³æ³¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;åŸºäºYiiæ¡†æ¶çš„å·¥ç¨‹ç›®å½•ç»“æ„å¤§è‡´å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="Yii-Project-Structure" src="/assets/uploads/pics/yii-project-structure.png"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;index.phpæ˜¯åº”ç”¨çš„å…¥å£&lt;/li&gt;
&lt;li&gt;protectedç›®å½•æ˜¯å­˜æ”¾åŠ¨æ€è„šæœ¬çš„åœ°æ–¹&lt;ul&gt;
&lt;li&gt;componentså­ç›®å½•å­˜æ”¾å„ç§ç»„ä»¶ç±»&lt;/li&gt;
&lt;li&gt;configså­˜æ”¾åº”ç”¨çš„é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;controllerså­˜æ”¾Controllerç±»æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;modelså­˜æ”¾Modelç±»æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;runtimeå­˜æ”¾ä¸€äº›åº”ç”¨ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶æˆ–è€…ç¼“å­˜æ–‡ä»¶ï¼Œå¦‚Smartyç¼–è¯‘å¥½çš„æ¨¡æ¿ã€æ—¥å¿—æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;viewså­˜æ”¾Viewæ¨¡æ¿æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;staticç›®å½•å­˜æ”¾é™æ€æ–‡ä»¶ï¼Œå¦‚CSSã€JSã€å›¾ç‰‡ç­‰&lt;/li&gt;
&lt;li&gt;yiiç›®å½•åˆ™å­˜æ”¾Yiiæ¡†æ¶çš„æºç &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;index.php&lt;/code&gt;æ–‡ä»¶çš„å†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
defined(&lt;span style="color: #a31515"&gt;&amp;#39;APP_ENV&amp;#39;&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;or&lt;/span&gt; define(&lt;span style="color: #a31515"&gt;&amp;#39;APP_ENV&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;development&amp;#39;&lt;/span&gt;);
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (APP_ENV == &lt;span style="color: #a31515"&gt;&amp;#39;production&amp;#39;&lt;/span&gt;) {
    ini_set(&lt;span style="color: #a31515"&gt;&amp;#39;display_errors&amp;#39;&lt;/span&gt;, 0);
    error_reporting(&lt;span style="color: #0000ff"&gt;E_ALL&lt;/span&gt;);
    define(&lt;span style="color: #a31515"&gt;&amp;#39;YII_ENABLE_ERROR_HANDLER&amp;#39;&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;);
    $yii = dirname(__FILE__) . &lt;span style="color: #a31515"&gt;&amp;#39;/yii/framework/yiilite.php&amp;#39;&lt;/span&gt;;
    defined(&lt;span style="color: #a31515"&gt;&amp;#39;YII_TRACE_LEVEL&amp;#39;&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;or&lt;/span&gt; define(&lt;span style="color: #a31515"&gt;&amp;#39;YII_TRACE_LEVEL&amp;#39;&lt;/span&gt;, 1);
} &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; {
    error_reporting(&lt;span style="color: #0000ff"&gt;E_ALL&lt;/span&gt;);
    $yii = dirname(__FILE__) . &lt;span style="color: #a31515"&gt;&amp;#39;/yii/framework/yii.php&amp;#39;&lt;/span&gt;;
    defined(&lt;span style="color: #a31515"&gt;&amp;#39;YII_DEBUG&amp;#39;&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;or&lt;/span&gt; define(&lt;span style="color: #a31515"&gt;&amp;#39;YII_DEBUG&amp;#39;&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;);
    defined(&lt;span style="color: #a31515"&gt;&amp;#39;YII_TRACE_LEVEL&amp;#39;&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;or&lt;/span&gt; define(&lt;span style="color: #a31515"&gt;&amp;#39;YII_TRACE_LEVEL&amp;#39;&lt;/span&gt;, 3);
}
$config = dirname(__FILE__) . &lt;span style="color: #a31515"&gt;&amp;#39;/protected/configs/&amp;#39;&lt;/span&gt; . APP_ENV . &lt;span style="color: #a31515"&gt;&amp;#39;.php&amp;#39;&lt;/span&gt;;

&lt;span style="color: #0000ff"&gt;require_once&lt;/span&gt;($yii);
$YiiApp = Yii::createWebApplication($config);
$YiiApp-&amp;gt;run();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ ¹æ®åº”ç”¨æ‰€å¤„çš„ç¯å¢ƒï¼ˆå¼€å‘ç¯å¢ƒæˆ–ç”Ÿäº§ç¯å¢ƒï¼‰é…ç½®ä¸åŒçš„ç¯å¢ƒå˜é‡ï¼ŒåŠ è½½ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œç„¶åæ ¹æ®é…ç½®ä¿¡æ¯åˆ›å»ºä¸€ä¸ªWebåº”ç”¨å¯¹è±¡ï¼ˆè¿™ä¸ªå¯¹è±¡ç±»ä¼¼ä¸€ä¸ªå®¹å™¨ï¼‰ï¼Œå¹¶å¤„ç†è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Yii::createWebApplication($config)&lt;/code&gt;ä¸­ç±»Yiiç›´æ¥ç»§æ‰¿è‡ªç±»YiiBaseï¼Œå¹¶ä¸”æ²¡æœ‰è‡ªå®šä¹‰å±æ€§å’Œæ–¹æ³•ï¼Œå³è°ƒç”¨çš„é™æ€æ–¹æ³•createWebApplicationæ¥è‡ªç±»YiiBaseï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public static function createWebApplication($config=null)
{
    return self::createApplication(&amp;#39;CWebApplication&amp;#39;, $config);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¹‹æ‰€ä»¥è¿™ä¹ˆå®ç°ï¼Œæ˜¯å› ä¸ºYiiè¿˜æ”¯æŒæ§åˆ¶å°/å‘½ä»¤è¡Œç±»å‹çš„åº”ç”¨å®ç°ï¼Œæ¯”å¦‚cronè„šæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;é™æ€æ–¹æ³•createApplicationå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public static function createApplication($class, $config=null)
{
    return new $class($config);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;çœŸæ­£å®ä¾‹åŒ–çš„ç±»CWebApplicationè§æ–‡ä»¶&lt;code&gt;yii/framework/web/CWebApplication.php&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç±»CWebApplicationè‡ªå·±ä¹Ÿæ²¡æœ‰å®ç°æ„é€ æ–¹æ³•ï¼Œç›´æ¥ç»§æ‰¿è‡ªæŠ½è±¡ç±»CApplicationï¼ˆè§æ–‡ä»¶&lt;code&gt;yii/framework/base/CApplication.php&lt;/code&gt;ï¼‰ï¼Œå…¶æ„é€ æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __construct($config=null)
{
    Yii::setApplication($this);

    // set basePath at early as possible to avoid trouble
    if(is_string($config))
        $config=require($config);
    if(isset($config[&amp;#39;basePath&amp;#39;]))
    {
        $this-&amp;gt;setBasePath($config[&amp;#39;basePath&amp;#39;]);
        unset($config[&amp;#39;basePath&amp;#39;]);
    }
    else
        $this-&amp;gt;setBasePath(&amp;#39;protected&amp;#39;);
    Yii::setPathOfAlias(&amp;#39;application&amp;#39;,$this-&amp;gt;getBasePath());
    Yii::setPathOfAlias(&amp;#39;webroot&amp;#39;,dirname($_SERVER[&amp;#39;SCRIPT_FILENAME&amp;#39;]));
    if(isset($config[&amp;#39;extensionPath&amp;#39;]))
    {
        $this-&amp;gt;setExtensionPath($config[&amp;#39;extensionPath&amp;#39;]);
        unset($config[&amp;#39;extensionPath&amp;#39;]);
    }
    else
        Yii::setPathOfAlias(&amp;#39;ext&amp;#39;,$this-&amp;gt;getBasePath().DIRECTORY_SEPARATOR.&amp;#39;extensions&amp;#39;);
    if(isset($config[&amp;#39;aliases&amp;#39;]))
    {
        $this-&amp;gt;setAliases($config[&amp;#39;aliases&amp;#39;]);
        unset($config[&amp;#39;aliases&amp;#39;]);
    }

    $this-&amp;gt;preinit();

    $this-&amp;gt;initSystemHandlers();
    $this-&amp;gt;registerCoreComponents();

    $this-&amp;gt;configure($config);
    $this-&amp;gt;attachBehaviors($this-&amp;gt;behaviors);
    $this-&amp;gt;preloadComponents();

    $this-&amp;gt;init();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;Yii::setApplication($this)&lt;/code&gt;å°†å½“å‰ç±»CWebApplicationçš„å®ä¾‹åŒ–å¯¹è±¡èµ‹å€¼ç»™ç±»YiiBaseçš„ç§æœ‰å±æ€§&lt;code&gt;$_app&lt;/code&gt;ï¼Œä¹‹åé€šè¿‡&lt;code&gt;Yii::app()&lt;/code&gt;å°±èƒ½å–åˆ°è¿™ä¸ªå¯¹è±¡ï¼ˆappæ–¹æ³•å…¶å®æ˜¯ç±»YiiBaseä¸­å®šä¹‰çš„ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ„é€ æ–¹æ³•æ ¹æ®é…ç½®ä¿¡æ¯åˆå§‹åŒ–ä¸€äº›è·¯å¾„å’Œåˆ«åç›¸å…³çš„å±æ€§ã€‚ä»¥è·¯å¾„åˆ«å&lt;code&gt;application&lt;/code&gt;ä¸ºä¾‹ï¼Œå¦‚æœæƒ³å°†æ—¥å¿—ç›®å½•é…ç½®ä¸º&lt;code&gt;protected/runtime&lt;/code&gt;ï¼Œåˆ™å¯ä»¥æŒ‡å®šè·¯å¾„ä¸º&lt;code&gt;application.runtime&lt;/code&gt;ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯ä½ å¯ä»¥é…ç½®&lt;code&gt;basePath&lt;/code&gt;æ¥æŒ‡å®šåŠ¨æ€è„šæœ¬æ‰€åœ¨çš„ç›®å½•ï¼Œä¸ä¸€å®šå¿…é¡»æ˜¯&lt;code&gt;protected&lt;/code&gt;ï¼Œå³ä½¿ä½ çš„ä¿®æ”¹äº†basePathï¼Œå…¶ä½™ç›¸å¯¹basePathçš„è·¯å¾„é…ç½®éƒ½ä¸éœ€è¦å˜åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;ç±»CApplicationåˆç›´æ¥ç»§æ‰¿è‡ªç±»CModuleï¼ˆè§æ–‡ä»¶&lt;code&gt;yii/framework/base/CModule.php&lt;/code&gt;ï¼‰ï¼Œä¸Šè¿°æ„é€ æ–¹æ³•ä¸­è°ƒç”¨çš„æ–¹æ³•&lt;code&gt;preinit&lt;/code&gt;ã€&lt;code&gt;configure&lt;/code&gt;ã€&lt;code&gt;preloadComponents&lt;/code&gt;å®šä¹‰åœ¨ç±»CModuleä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;preinit&lt;/code&gt;çš„æ–¹æ³•ä½“ä¸ºç©ºã€‚è¿™ä¸ªæ–¹æ³•è°ƒç”¨ä¹‹åä¸»è¦æ˜¯åŠ è½½æ ¸å¿ƒç»„ä»¶ã€åŠå°†é…ç½®ä¿¡æ¯å­˜åˆ°&lt;code&gt;Yii::app()&lt;/code&gt;è¿™ä¸ªå®¹å™¨å¯¹è±¡ä¸­ã€‚å¦‚æœéœ€è¦åœ¨è¿™äº›æ“ä½œä¹‹å‰åšä¸€äº›åˆå§‹åŒ–å‡†å¤‡å·¥ä½œï¼Œåˆ™å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªç±»ç»§æ‰¿è‡ªç±»&lt;code&gt;CWebApplication&lt;/code&gt;ï¼Œç„¶åå®ç°&lt;code&gt;preinit&lt;/code&gt;æ–¹æ³•ã€‚ä½†è¿™æ ·çš„è¯ï¼Œindex.phpä¸­åˆ›å»ºwebåº”ç”¨å¯¹è±¡çš„æ–¹å¼å°±æœ‰æ‰€ä¸åŒçš„äº†ï¼Œå‡è®¾è‡ªå®šä¹‰çš„ç±»ä¸º&lt;code&gt;MyWebApplication&lt;/code&gt;ï¼Œindex.phpä¸­åœ¨å¼•å…¥è¯¥ç±»æ–‡ä»¶åï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$yiiApp = Yii::createApplication(&amp;#39;MyWebApplication&amp;#39;, $config);
$yiiApp-&amp;gt;run();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ–¹æ³•&lt;code&gt;initSystemHandler&lt;/code&gt;åˆ™æ˜¯æ ¹æ®æ¡ä»¶è®¾ç½®æ¡†æ¶çš„å¼‚å¸¸å’Œé”™è¯¯å¤„ç†æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•&lt;code&gt;registerCoreComponents&lt;/code&gt;åˆ™æ˜¯åŠ è½½æ¡†æ¶çš„æ ¸å¿ƒç»„ä»¶ï¼Œå½“ç„¶å¦‚æœæœ‰éœ€è¦å¯ä»¥é…ç½®åŒåï¼ˆåŒåæŒ‡çš„æ˜¯keyç›¸åŒï¼ŒYiiä¸­æ¯ä¸ªç»„ä»¶éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªkeyæˆ–è€…è¯´åˆ«åæ¥æ³¨å†Œå’Œå¼•ç”¨ï¼‰çš„è‡ªå®šä¹‰ç»„ä»¶æ¥è¦†ç›–é»˜è®¤çš„æ ¸å¿ƒç»„ä»¶ï¼Œå¦‚dbã€urlManagerã€‚&lt;/p&gt;
&lt;p&gt;ç»„ä»¶çš„æ³¨å†ŒåŠ è½½ç»†èŠ‚æˆ‘ä»¬ä¼šå¦å¤–å†™ä¸€ç¯‡æ–‡ç« æ¥ä»‹ç»ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ–¹æ³•&lt;code&gt;configure&lt;/code&gt;å®šä¹‰åœ¨ç±»&lt;code&gt;CModule&lt;/code&gt;ä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function configure($config)
{
    if(is_array($config))
    {
        foreach($config as $key=&amp;gt;$value)
            $this-&amp;gt;$key=$value;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;çœ‹èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿä½†å…¶å®æ²¡ä½ æƒ³çš„é‚£ä¹ˆç®€å•å‘¢... æ€è€ƒä¸€ä¸‹å¦‚æœä»£ç ä¸­å½“å‰å¯¹è±¡&lt;code&gt;$this&lt;/code&gt;ä¸å­˜åœ¨å±æ€§&lt;code&gt;$key&lt;/code&gt;æˆ–è€…åä¸º&lt;code&gt;$key&lt;/code&gt;çš„å±æ€§æ˜¯ç§æœ‰çš„ä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Ÿè¿™æ—¶PHPçš„é­”æœ¯æ–¹æ³•&lt;code&gt;__set&lt;/code&gt;å°±æ´¾ä¸Šç”¨åœºäº†ã€‚&lt;/p&gt;
&lt;p&gt;ç±»&lt;code&gt;CModule&lt;/code&gt;ç›´æ¥ç»§æ‰¿è‡ªç±»&lt;code&gt;CComponent&lt;/code&gt;ã€‚åœ¨ç±»CComponentä¸­å®šä¹‰äº†æ–¹æ³•&lt;code&gt;__set&lt;/code&gt;ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function __set($name,$value)
{
    $setter=&amp;#39;set&amp;#39;.$name;
    if(method_exists($this,$setter))
        return $this-&amp;gt;$setter($value);
    elseif(strncasecmp($name,&amp;#39;on&amp;#39;,2)===0 &amp;amp;&amp;amp; method_exists($this,$name))
    {
        // duplicating getEventHandlers() here for performance
        $name=strtolower($name);
        if(!isset($this-&amp;gt;_e[$name]))
            $this-&amp;gt;_e[$name]=new CList;
        return $this-&amp;gt;_e[$name]-&amp;gt;add($value);
    }
    elseif(is_array($this-&amp;gt;_m))
    {
        foreach($this-&amp;gt;_m as $object)
        {
            if($object-&amp;gt;getEnabled() &amp;amp;&amp;amp; (property_exists($object,$name) || $object-&amp;gt;canSetProperty($name)))
                return $object-&amp;gt;$name=$value;
        }
    }
    if(method_exists($this,&amp;#39;get&amp;#39;.$name))
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Property &amp;quot;{class}.{property}&amp;quot; is read only.&amp;#39;,
            array(&amp;#39;{class}&amp;#39;=&amp;gt;get_class($this), &amp;#39;{property}&amp;#39;=&amp;gt;$name)));
    else
        throw new CException(Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Property &amp;quot;{class}.{property}&amp;quot; is not defined.&amp;#39;,
            array(&amp;#39;{class}&amp;#39;=&amp;gt;get_class($this), &amp;#39;{property}&amp;#39;=&amp;gt;$name)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;PHPä¸­å¯¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼çš„è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœè¯¥å¯¹è±¡æœ‰publicçš„è¯¥å±æ€§ï¼Œåˆ™ç›´æ¥èµ‹å€¼&lt;/li&gt;
&lt;li&gt;å¦åˆ™çœ‹è¯¥å¯¹è±¡æ‰€åœ¨ç»§æ‰¿æ ‘ä¸Šæ˜¯å¦æœ‰å®šä¹‰é­”æœ¯æ–¹æ³•&lt;code&gt;__set&lt;/code&gt;ï¼Œå¦‚æœæœ‰åˆ™è°ƒç”¨&lt;code&gt;__set&lt;/code&gt;æ¥å¤„ç†èµ‹å€¼è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿&lt;code&gt;__set&lt;/code&gt;ä¹Ÿæ²¡æœ‰ï¼Œåˆ™ä¸ºè¯¥å¯¹è±¡ç”Ÿæˆä¸€ä¸ªpublicçš„å±æ€§ï¼Œç„¶åèµ‹å€¼ç»™å®ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç±»CComponentä¸­å®šä¹‰çš„é­”æœ¯æ–¹æ³•&lt;code&gt;__set&lt;/code&gt;å…¶é€»è¾‘æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹å½“å‰å¯¹è±¡æ˜¯å¦æœ‰åä¸º&lt;code&gt;'set'.$key&lt;/code&gt;çš„æ–¹æ³•ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä»¥è¯¥æ–¹æ³•æ¥å¤„ç†èµ‹å€¼è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼Œæ£€æŸ¥$keyæ˜¯å¦ä»¥å­—ç¬¦ä¸²&lt;code&gt;on&lt;/code&gt;å¼€å¤´ï¼Œå¦‚æœæ˜¯ä¸”å½“å‰å¯¹è±¡å…·æœ‰åä¸º$keyçš„æ–¹æ³•ï¼Œåˆ™è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªäº‹ä»¶çš„èµ‹å€¼è¿‡ç¨‹ï¼Œå°†èµ‹å€¼åˆ°äº‹ä»¶åˆ—è¡¨ä¸­&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼Œåˆ™è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªè¡Œä¸º(behavior)èµ‹å€¼ï¼Œå°è¯•ä¸ºå±æ€§&lt;code&gt;_m&lt;/code&gt;å¯¹è±¡åˆ—è¡¨ä¸­å¯¹è±¡çš„å±æ€§èµ‹å€¼ã€‚ï¼ˆè²Œä¼¼æ˜¯è¿™æ ·ï¼Œæˆ‘ä¹Ÿè¿˜æ‡‚&lt;code&gt;_m&lt;/code&gt;çš„ä½œç”¨ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥ä¸Šè¿°è§„åˆ™é€»è¾‘ï¼Œæ‰€ä»¥ç±»CModuleä¸­å®šä¹‰äº†å¾ˆå¤šæ–¹æ³•åä»¥å­—ç¬¦ä¸²&lt;code&gt;set&lt;/code&gt;æˆ–&lt;code&gt;get&lt;/code&gt;å¼€å¤´çš„æ–¹æ³•ï¼Œå¦‚setComponentsã€getComponentsã€setParamsã€getParamsç­‰ã€‚è¯´åˆ°è¿™é‡Œï¼Œä½ æ˜¯ä¸æ˜¯é¢†ä¼šåˆ°ä»€ä¹ˆäº†ï¼Ÿ&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;code&gt;$this-&amp;gt;attachBehaviors($this-&amp;gt;behaviors)&lt;/code&gt;ä¸€å¥ä¸­å½“å‰å¯¹è±¡çš„å±æ€§behaviorsçš„è®¿é—®æƒé™ä¸ºpublicï¼Œé»˜è®¤å€¼ä¸ºç©ºæ•°ç»„ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹ä¸€é¡¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;#39;behaviors&amp;#39; =&amp;gt; array(
    &amp;#39;behaviorName&amp;#39;=&amp;gt;array(
        &amp;#39;class&amp;#39;=&amp;gt;&amp;#39;path.to.BehaviorClass&amp;#39;,
        &amp;#39;property1&amp;#39;=&amp;gt;&amp;#39;value1&amp;#39;,
        &amp;#39;property2&amp;#39;=&amp;gt;&amp;#39;value2&amp;#39;,
    )
),
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æŒ‰ç…§ä¸Šè¿°å¯¹è±¡å±æ€§çš„èµ‹å€¼è§„åˆ™ï¼Œè¯¥é…ç½®é¡¹ä¼šèµ‹å€¼ç»™å±æ€§behaviorsã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•attachBehaviorså¯¹è¿™äº›é…ç½®é¡¹é€ä¸ªåˆå§‹åŒ–ç„¶åå­˜å…¥å±æ€§&lt;code&gt;_m&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ–¹æ³•&lt;code&gt;preloadComponents&lt;/code&gt;å®šä¹‰åœ¨ç±»CModuleä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Loads static application components.
 */
protected function preloadComponents()
{
    foreach($this-&amp;gt;preload as $id)
        $this-&amp;gt;getComponent($id);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­å±æ€§preloadè®¿é—®æƒé™ä¸ºpublicï¼Œé»˜è®¤ä¹Ÿæ˜¯ç©ºæ•°ç»„ï¼Œå¯ä»¥åœ¨å…¶ä¸­é…ç½®éœ€è¦é¢„åŠ è½½çš„ç»„ä»¶çš„IDã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;code&gt;$this-&amp;gt;init()&lt;/code&gt;ä¸€è¡Œä¸­æ–¹æ³•&lt;code&gt;init&lt;/code&gt;å®šä¹‰åœ¨ç±»CWebApplicationä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;protected function init()
{
    parent::init();
    // preload &amp;#39;request&amp;#39; so that it has chance to respond to onBeginRequest event.
    $this-&amp;gt;getRequest();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ–¹æ³•&lt;code&gt;getRequest&lt;/code&gt;å°±æ˜¯é¢„åŠ è½½requestç»„ä»¶ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;index.phpä¸­å¾—åˆ°Webåº”ç”¨å¯¹è±¡åç»§è€Œè°ƒç”¨å…¶æ–¹æ³•runï¼Œè¯¥runæ–¹æ³•å®šä¹‰äºç±»CApplicationä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Runs the application.
 * This method loads static application components. Derived classes usually overrides this
 * method to do more application-specific tasks.
 * Remember to call the parent implementation so that static application components are loaded.
 */
public function run()
{
    if($this-&amp;gt;hasEventHandler(&amp;#39;onBeginRequest&amp;#39;))
        $this-&amp;gt;onBeginRequest(new CEvent($this));
    // è¿™é‡Œä¸ºäº†å¤„ç†ç¨‹åºä¸»åŠ¨è°ƒç”¨exit()æˆ–è€…æŠ›å‡ºå¼‚å¸¸æ—¶çš„æƒ…å†µ
    register_shutdown_function(array($this,&amp;#39;end&amp;#39;),0,false);
    // è¯·æ±‚å¤„ç†
    $this-&amp;gt;processRequest();
    if($this-&amp;gt;hasEventHandler(&amp;#39;onEndRequest&amp;#39;))
        $this-&amp;gt;onEndRequest(new CEvent($this));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ–¹æ³•processRequestå®šä¹‰äºç±»CWebApplicationä¸­ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function processRequest()
{
    // å¯ä»¥åœ¨é…ç½®æ–‡ä»¶é‡Œé…ç½®requestç»„ä»¶æ—¶ï¼Œæä¾›catchAllRequestå‚æ•°
    // catchAllRequestæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æŒ‡å®šä¸€ä¸ªcontrolleråŠä¸€ä¸ªactionï¼Œå…¶ä½™å…ƒç´ æ˜¯è¿™ä¸ªactionçš„å‚æ•°
    // å¦‚æœé…ç½®äº†catchAllRequestï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªcontroller/actionæ¥å¤„ç†æ‰€æœ‰çš„è¯·æ±‚ï¼Œå½“ç½‘ç«™è¿›å…¥ç»´æŠ¤çŠ¶æ€æ—¶ï¼Œæœ‰å…¶ç”¨å¤„ã€‚
    if(is_array($this-&amp;gt;catchAllRequest) &amp;amp;&amp;amp; isset($this-&amp;gt;catchAllRequest[0]))
    {
        $route=$this-&amp;gt;catchAllRequest[0];
        foreach(array_splice($this-&amp;gt;catchAllRequest,1) as $name=&amp;gt;$value)
            $_GET[$name]=$value;
    }
    else
        // æ­£å¸¸çš„è·¯ç”±è§£æ
        // ç»„ä»¶urlManager -&amp;gt;parseUrl ç»„ä»¶request
        $route=$this-&amp;gt;getUrlManager()-&amp;gt;parseUrl($this-&amp;gt;getRequest());
    // æ ¹æ®è·¯ç”±æ‰§è¡Œæ§åˆ¶å™¨å¤„ç†å‡½æ•°
    $this-&amp;gt;runController($route);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­è·¯ç”±è§£æçš„è¿‡ç¨‹æˆ‘ä»¬ä¹Ÿä¼šä»¥å•ç‹¬çš„ä¸€ç¯‡æ–‡ç« æ¥åˆ†æï¼Œæš‚ä¸ç»†è¯´ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•runControllerçš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/**
 * Creates the controller and performs the specified action.
 * @param string $route the route of the current request. See {@link createController} for more details.
 * @throws CHttpException if the controller could not be created.
 */
public function runController($route)
{
    if(($ca=$this-&amp;gt;createController($route))!==null)
    {
        list($controller,$actionID)=$ca;
        $oldController=$this-&amp;gt;_controller;
        $this-&amp;gt;_controller=$controller;
        $controller-&amp;gt;init();
        $controller-&amp;gt;run($actionID);
        $this-&amp;gt;_controller=$oldController;
    }
    else
        throw new CHttpException(404,Yii::t(&amp;#39;yii&amp;#39;,&amp;#39;Unable to resolve the request &amp;quot;{route}&amp;quot;.&amp;#39;,
            array(&amp;#39;{route}&amp;#39;=&amp;gt;$route===&amp;#39;&amp;#39;?$this-&amp;gt;defaultController:$route)));
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ–¹æ³•createControlleræ ¹æ®$routeæŒ‰ç…§ä¸€å®šçš„è§„åˆ™æ‰¾åˆ°å¯¹åº”çš„controllerç±»ï¼Œä¹‹åè°ƒç”¨controllerçš„initæ–¹æ³•å’Œrunæ–¹æ³•ã€‚ä½†è¿™ä¸ªè°ƒç”¨ä¹‹å‰å’Œä¹‹åè¿˜æ¢å¤è€çš„controllerï¼Œè¿™åº”è¯¥æ˜¯å› ä¸ºåœ¨ä¸€ä¸ªcontrollerä¸­å¯ä»¥forwardåˆ°å¦ä¸€ä¸ªcontrollerä¸­å»ï¼Œä¹Ÿå³controllerå¯ä»¥é€’å½’æ‰§è¡Œï¼Œæ‰€ä»¥éœ€è¦ä¿å­˜å’Œæ¢å¤ä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;Yiiä¸­æ‰€æœ‰Controllerç±»éƒ½å¿…é¡»ç›´æ¥æˆ–é—´æ¥ç»§æ‰¿è‡ªç±»CControllerï¼Œè¯¥ç±»çš„initæ–¹æ³•å®ç°ä¸ºç©ºï¼Œå¦‚æœ‰éœ€è¦å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™ã€‚è€Œå…¶runæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function run($actionID)
{
    if(($action=$this-&amp;gt;createAction($actionID))!==null)
    {
        if(($parent=$this-&amp;gt;getModule())===null)
            $parent=Yii::app();
        if($parent-&amp;gt;beforeControllerAction($this,$action))
        {
            $this-&amp;gt;runActionWithFilters($action,$this-&amp;gt;filters());
            $parent-&amp;gt;afterControllerAction($this,$action);
        }
    }
    else
        $this-&amp;gt;missingAction($actionID);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;$this-&amp;gt;runActionWithFilters($action,$this-&amp;gt;filters())&lt;/code&gt;ä¸€è¡Œä¸­ï¼Œæ–¹æ³•filtersçš„å®ç°ä»…æ˜¯è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨è¿‡æ»¤å™¨å°±éœ€è¦åœ¨è‡ªå®šä¹‰çš„Controllerç±»ä¸­é‡å†™è¯¥æ–¹æ³•ï¼Œè¿‡æ»¤å™¨çš„é…ç½®æ–¹æ³•è§æºç ä¸­æ³¨é‡Šï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;* For a method-based filter (called inline filter), it is specified as &amp;#39;FilterName[ +|- Action1, Action2, ...]&amp;#39;,
 * where the &amp;#39;+&amp;#39; (&amp;#39;-&amp;#39;) operators describe which actions should be (should not be) applied with the filter.
 *
 * For a class-based filter, it is specified as an array like the following:
 * &amp;lt;pre&amp;gt;
 * array(
 *     &amp;#39;FilterClass[ +|- Action1, Action2, ...]&amp;#39;,
 *     &amp;#39;name1&amp;#39;=&amp;gt;&amp;#39;value1&amp;#39;,
 *     &amp;#39;name2&amp;#39;=&amp;gt;&amp;#39;value2&amp;#39;,
 *     ...
 * )
 * &amp;lt;/pre&amp;gt;
 * where the name-value pairs will be used to initialize the properties of the filter.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ–¹æ³•runActionWithFilterså®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function runActionWithFilters($action,$filters)
{
    if(empty($filters))
        $this-&amp;gt;runAction($action);
    else
    {
        $priorAction=$this-&amp;gt;_action;
        $this-&amp;gt;_action=$action;
        CFilterChain::create($this,$action,$filters)-&amp;gt;run();
        $this-&amp;gt;_action=$priorAction;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæ²¡æœ‰è®¾ç½®è¿‡æ»¤å™¨ï¼Œåˆ™ç›´æ¥æ‰§è¡Œç›®æ ‡actionï¼Œæ–¹æ³•runActionçš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function runAction($action)
{
    $priorAction=$this-&amp;gt;_action;
    $this-&amp;gt;_action=$action;
    if($this-&amp;gt;beforeAction($action))
    {
        if($action-&amp;gt;runWithParams($this-&amp;gt;getActionParams())===false)
            $this-&amp;gt;invalidActionParams($action);
        else
            $this-&amp;gt;afterAction($action);
    }
    $this-&amp;gt;_action=$priorAction;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç±»CControllerä¸­å®šä¹‰çš„beforeActionç›´æ¥è¿”å›trueï¼Œå¦‚æœéœ€è¦åœ¨ç›®æ ‡actionæ‰§è¡Œä¹‹å‰åšä¸€äº›æ£€æŸ¥è¿‡æ»¤æ“ä½œåˆ™éœ€è¦åœ¨è‡ªå®šä¹‰çš„Controllerç±»ä¸­é‡å†™beforeActionæ–¹æ³•ï¼Œè¯¥æ–¹æ³•æœ€åå¿…é¡»è¿”å›trueæˆ–falseã€‚beforeActionçš„ä½œç”¨ç±»ä¼¼äºç®€åŒ–ç‰ˆçš„è¿‡æ»¤å™¨ã€‚&lt;/p&gt;
&lt;p&gt;beforeActioné€šè¿‡åï¼Œåˆ™æ‰§è¡Œç›®æ ‡actionã€‚ç”±äºè·¯ç”±é…ç½®æ˜¯ç±»æ­£åˆ™çš„ï¼ŒURLè§£æå‡ºæ¥çš„ä¸€äº›ç‰‡æ®µå€¼ï¼ˆç®—æ˜¯æ”¾åœ¨urlä¸­çš„è¯·æ±‚å‚æ•°ï¼‰åº”è¯¥ä¼ å…¥ç›®æ ‡actionï¼Œæ–¹æ³•getActionParamså³æ˜¯å–åˆ°è¿™äº›å‚æ•°å€¼ã€‚Yiiåœ¨è·¯ç”±è§£ææ—¶å°†è¿™äº›å‚æ•°å€¼ä¹Ÿå­˜æ”¾åˆ°å…¨å±€å˜é‡&lt;code&gt;$_GET&lt;/code&gt;ä¸­ï¼Œæ‰€ä»¥getActionParamsç›´æ¥è¿”å›äº†&lt;code&gt;$_GET&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¦‚æœè®¾ç½®äº†è¿‡æ»¤å™¨ï¼Œåˆ™éœ€è¦æ ¹æ®controllerã€actionã€filtersåˆ›å»ºä¸€ä¸ªCFilterChainå¯¹è±¡ï¼ˆè¿‡ç¨‹ä¸­å½“ç„¶ä¼šå¯¹è¿‡æ»¤å™¨é…ç½®è¿›è¡Œè§£æï¼‰ï¼Œç±»CFilterChainçš„runæ–¹æ³•å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function run()
{
    if($this-&amp;gt;offsetExists($this-&amp;gt;filterIndex))
    {
        $filter=$this-&amp;gt;itemAt($this-&amp;gt;filterIndex++);
        Yii::trace(&amp;#39;Running filter &amp;#39;.($filter instanceof CInlineFilter ? get_class($this-&amp;gt;controller).&amp;#39;.filter&amp;#39;.$filter-&amp;gt;name.&amp;#39;()&amp;#39;:get_class($filter).&amp;#39;.filter()&amp;#39;),&amp;#39;system.web.filters.CFilterChain&amp;#39;);
        $filter-&amp;gt;filter($this);
    }
    else
        $this-&amp;gt;controller-&amp;gt;runAction($this-&amp;gt;action);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­&lt;code&gt;$this-&amp;gt;filterIndex&lt;/code&gt;çš„åˆå§‹å€¼ä¸º0ï¼Œæ–¹æ³•offsetExitså®šä¹‰äºç±»CListä¸­ï¼Œé€»è¾‘å°±æ˜¯æ£€æµ‹æ˜¯å¦éå†æ‰§è¡Œå®Œæ‰€æœ‰çš„è¿‡æ»¤å™¨ï¼Œå¦‚æœè¿˜æœ‰ï¼Œåˆ™å–å‡ºä¸€ä¸ªè¿‡æ»¤å™¨å¯¹è±¡ï¼Œæ‰§è¡Œå…¶filteræ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public function filter($filterChain)
{
    $method=&amp;#39;filter&amp;#39;.$this-&amp;gt;name;
    $filterChain-&amp;gt;controller-&amp;gt;$method($filterChain);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªæ—¶å€™ä½ åº”è¯¥æ„Ÿåˆ°ç–‘æƒ‘ - æ—¢ç„¶æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨é“¾ï¼Œé‚£ä¹ˆå¾ªç¯åœ¨å“ªï¼Ÿäº‹å®ä¸Šï¼ŒYiiçš„è¿™ä¸ªåœ°æ–¹å¹¶æ²¡æœ‰æä¾›å¾ªç¯æ¥è®©è¿‡æ»¤å™¨é€ä¸ªæ‰§è¡Œï¼Œè¿™å°±æ„å‘³ç€åœ¨è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨ä¸­ï¼Œå¦‚æœè¿‡æ»¤æ¡ä»¶é€šè¿‡ï¼Œåˆ™éœ€è¦å°¾é€’å½’åœ°æ˜¾å¼è°ƒç”¨è¿‡æ»¤å™¨é“¾çš„runæ–¹æ³•ï¼Œè¿™æ ·ç›´åˆ°æ‰€æœ‰çš„è¿‡æ»¤å™¨éƒ½é€šè¿‡ï¼Œæ‰æ‰§è¡Œç›®æ ‡action&lt;code&gt;$this-&amp;gt;controller-&amp;gt;runAction($this-&amp;gt;action)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;2014-12-18 è¡¥å……ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç±»YiiBaseçš„æ–¹æ³•createApplicationï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;public static function createApplication($class, $config=null)
{
    return new $class($config);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ˜¯å¦‚ä½•æ‰¾åˆ°&lt;code&gt;$class&lt;/code&gt;ä»£è¡¨çš„ç±»ï¼ˆCWebApplicationæˆ–CConsoleApplicationç±»ï¼‰çš„å‘¢ï¼Ÿç±»æ–‡ä»¶&lt;code&gt;yii/framework/YiiBase.php&lt;/code&gt;çš„å€’æ•°ç¬¬äºŒè¡Œä»£ç ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;spl_autoload_register(array('YiiBase','autoload'));&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å½“ç±»æ–‡ä»¶&lt;code&gt;yii/framework/yii.php&lt;/code&gt;ä¸­ &lt;strong&gt;require&lt;/strong&gt; YiiBaseç±»æ–‡ä»¶æ—¶å°±æ‰§è¡Œäº†è¿™å¥ä»£ç ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="Yii"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>QConä¸Šæµ·2014å¤§ä¼šè§é—»å½•</title><link href="http://youngsterxyf.github.io/2014/10/21/qcon-sh-2014-seen-heard/" rel="alternate"></link><published>2014-10-21T00:00:00+08:00</published><updated>2014-10-21T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-10-21:/2014/10/21/qcon-sh-2014-seen-heard/</id><summary type="html">&lt;h2&gt;æŠ€æœ¯&lt;/h2&gt;
&lt;h4&gt;ä¸»é¢˜æ¼”è®²&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;è½¯ä»¶é¡¹ç›®å˜æ›´çš„ç®¡ç†å’Œç”Ÿå­˜ä¹‹é“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ªäººå¯¹è¿™ä¸ªæ¼”è®²çš„å°è±¡æ¯”è¾ƒæ·±ã€‚æ¼”è®²è€…å³æ˜¯æœ€è¿‘æ¯”è¾ƒç«çš„ã€ŠJavaç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ã€‹ä¸€ä¹¦çš„ä½œè€… â€¦&lt;/p&gt;</summary><content type="html">&lt;h2&gt;æŠ€æœ¯&lt;/h2&gt;
&lt;h4&gt;ä¸»é¢˜æ¼”è®²&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;è½¯ä»¶é¡¹ç›®å˜æ›´çš„ç®¡ç†å’Œç”Ÿå­˜ä¹‹é“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ªäººå¯¹è¿™ä¸ªæ¼”è®²çš„å°è±¡æ¯”è¾ƒæ·±ã€‚æ¼”è®²è€…å³æ˜¯æœ€è¿‘æ¯”è¾ƒç«çš„ã€ŠJavaç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ã€‹ä¸€ä¹¦çš„ä½œè€…ã€‚&lt;/p&gt;
&lt;p&gt;æ¼”è®²å¤§è‡´ä»¥â€œæå‡ºé—®é¢˜ -&amp;gt; åˆ†æé—®é¢˜ -&amp;gt; è§£å†³é—®é¢˜â€çš„æ€è·¯é™ˆè¿°ã€‚&lt;/p&gt;
&lt;p&gt;é—®é¢˜æ˜¯ï¼šåœ¨è½¯ä»¶æ¼”åŒ–çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå˜åŒ–æ˜¯å§‹ç»ˆå­˜åœ¨çš„ã€‚å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºç¡€æ¶æ„å±‚é¢çš„å˜åŒ–ï¼šè¿ç§»åˆ°æ–°çš„æœåŠ¡æä¾›å•†ã€ç³»ç»Ÿå‡çº§&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·æ•°çš„å˜åŒ–ï¼šçªç„¶çš„å¢é•¿ã€æŒç»­ç¨³å®šåœ°å¢é•¿&lt;/li&gt;
&lt;li&gt;ä»£ç çš„å˜æ›´ï¼šå‘å¸ƒæ–°ç‰ˆæœ¬ã€ä¾èµ–åº“å‡çº§ã€æ–°çš„å­ç³»ç»Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›å˜åŒ–å¯èƒ½ä¼šå¯¼è‡´ä¸¤ä¸ªé—®é¢˜çš„å‘ç”Ÿï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡ä¸­æ–­ï¼šå®Œå…¨æ— æ³•ä¸ºç”¨æˆ·æä¾›æœåŠ¡ï¼Œç‰¹åˆ«æ˜¯ç”Ÿäº§ç¯å¢ƒå˜æ›´å¯¼è‡´çš„ï¼Œå‘å¸ƒåçš„æœåŠ¡ä¸­æ–­&lt;/li&gt;
&lt;li&gt;æ€§èƒ½é—®é¢˜ï¼šæ€§èƒ½é€€åŒ–/é™çº§ï¼Œä½†å¯èƒ½ä¹Ÿä¸æ˜¯å®Œå…¨ä¸å¯ç”¨ï¼Œåœ¨é¢„è§ˆç‰ˆ(pre-release)å’Œæ­£å¼å‘å¸ƒå(post-release)éƒ½å¯èƒ½å‘ç”Ÿï¼Œç»å¸¸æ˜¯å› ä¸ºä¸å®Œå…¨çš„æ€§èƒ½æµ‹è¯•é€ æˆçš„ã€‚(æ€§èƒ½æµ‹è¯•æ˜¯æŒ‡&lt;strong&gt;åŸºäºæµ‹é‡çš„æ–¹æ³•&lt;/strong&gt;æ¥ç†è§£ä¸€å®šè´Ÿè½½ä¸‹åº”ç”¨çš„è¡Œä¸º)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€œå˜åŒ–â€å¯¼è‡´çš„é—®é¢˜ï¼Œè¯´åˆ°åº•æ˜¯äººä¸ºé€ æˆï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;No matter what they tell you, it's always a people problem.    --- Gerald Weinberg&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åº”å¯¹â€œå˜åŒ–â€æ‰€å¸¦æ¥çš„é—®é¢˜ï¼Œéœ€è¦å®ç°ä»¥ä¸‹å‡ ä¸ªç›®æ ‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é™ä½å˜åŒ–çš„é£é™©&lt;/li&gt;
&lt;li&gt;æå‡å¯é æ€§ï¼šå‡å°æœåŠ¡ä¸­æ–­çš„æŸå¤±&lt;/li&gt;
&lt;li&gt;æé«˜å¯ç»´æŠ¤æ€§ï¼šå‡å°æ•´ä¸ªå¹³å°çš„è€—è´¹&lt;/li&gt;
&lt;li&gt;å¯é‡åŒ–çš„å½±å“ï¼šæœ€å¥½å¯ä»¥ä»¥èŠ‚çœäº†å¤šå°‘é’±æ¥è¡¡é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€œæœåŠ¡ä¸­æ–­â€ã€â€œæ€§èƒ½é—®é¢˜â€å‘ç”Ÿçš„åŸå› é€šå¸¸æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯¯è§£äº†ç”Ÿäº§ç¯å¢ƒ&lt;ul&gt;
&lt;li&gt;UAT is My Desktopï¼šâ€œUser Acceptance Testâ€çš„ç®€å†™ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·éªŒæ”¶æµ‹è¯•&lt;/li&gt;
&lt;li&gt;PROD-like Data is Hard&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é…ç½®é—®é¢˜&lt;/li&gt;
&lt;li&gt;ä¸æ°å½“çš„ç„¦ç‚¹&lt;ul&gt;
&lt;li&gt;Blame Donkey (all the blame and problems of a situation are being placed upon a single person)&lt;/li&gt;
&lt;li&gt;å¾®è§‚åˆ†æ (Micro-analysis)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å­¤å²›æ€ç»´ (Silo Mentality)ï¼šå³å›¢é˜Ÿæˆå‘˜é€šå¸¸ä»…ä»…å…³æ³¨å„è‡ªçš„èŒèƒ½éƒ¨é—¨æˆ–ä¸šåŠ¡å•å…ƒã€‚å¦‚æ­¤æœ‰é™çš„å…³æ³¨ï¼Œé˜»ç¢äº†ç»„ç»‡çš„ä¸ªåˆ«éƒ¨é—¨å¯¹æ•´ä½“è¿è¥å“è¶Šæ€§çš„ä¿ƒè¿›ä½œç”¨ã€‚&lt;ul&gt;
&lt;li&gt;Throw It Over The Wall&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é’ˆå¯¹â€œä¸æ°å½“çš„ç„¦ç‚¹â€ï¼Œéœ€ç†è§£ï¼Œæ€§èƒ½è°ƒä¼˜ä¸æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°æç¤ºå’ŒæŠ€å·§çš„é›†åˆ&lt;/li&gt;
&lt;li&gt;ç§˜å¯†æ­¦å™¨&lt;/li&gt;
&lt;li&gt;åœ¨é¡¹ç›®çš„æœ«æœŸä½ æ´’ä¸‹çš„é­”æ³•ç²‰å°˜&lt;/li&gt;
&lt;li&gt;â€œè‹±é›„è±ªæ°â€æ‰èƒ½å¹²çš„äº‹æƒ…&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸è¦æŠŠé—®é¢˜çš„åŸå› å§‹ç»ˆå½’äºæŸäº›ç»„ä»¶ã€‚å¦‚æœè½»æ˜“å°±Blame Donkeyåªèƒ½è¯´æ˜å¯¹é—®é¢˜çš„åˆ†æä¸å¤Ÿå……åˆ†ã€‚&lt;strong&gt;åº”é¡¶ä½å‹åŠ›ä¸å¿™äºä¸‹ç»“è®ºï¼Œåˆ†æåˆ†æå†åˆ†æï¼Œå¹¶ä¸ç›¸å…³äººæ²Ÿé€šåˆ†æçš„ç»“æœã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¦æŠŠç²¾åŠ›èšç„¦åœ¨ç³»ç»Ÿéå¸¸ä½çš„å±‚é¢(very low-level aspects)ä¸Šï¼Œå¾®è§‚å˜åŒ–(micro-changes)çš„æ•´ä½“å½±å“æ˜¯ä¸å¯çŸ¥çš„ï¼Œå®é™…ä¸Šå¯èƒ½è¿˜ä¼šé™ä½ç³»ç»Ÿçš„æ€§èƒ½ã€‚
ä¸è¦åšå¾®è§‚åˆ†æï¼Œé™¤éä½ çš„é¡¹ç›®æ˜¯ä¸€ä¸ªå·²çŸ¥å¯¹æ­¤å¾®è§‚åˆ†ææœ‰æ•ˆçš„æ¡ˆä¾‹(a known use case for it)ï¼Œå¦‚æ„å»ºä¸€ä¸ªé€šç”¨çš„åº“æˆ–æ¡†æ¶ï¼Œç†è§£å…¶ä¸­çš„æƒè¡¡ï¼›ä½¿ç”¨å·²æœ‰çš„å·¥å…·æ¥åšåˆ†æï¼Œä¸è¦æ„å»ºä½ è‡ªå·±çš„åˆ†æå·¥å…·ï¼Œä½¿ç”¨å¹¿æ³›åœ°ä¸ä»–äººè®¨è®ºä½ çš„åˆ†æç»“æœã€‚&lt;/p&gt;
&lt;p&gt;æ€»è€Œè¨€ä¹‹ï¼Œå°±æ˜¯æµ‹é‡å•Šæµ‹é‡ï¼Œprofilingå•Šprofilingã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The first principle is that you must not fool yourself, and you are the easiest person to fool. -- Richard Feynman&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¥½å§ï¼Œä¸Šè¾¹è¿™äº›åªæ˜¯åœ¨è§£é‡Šé—®é¢˜æ˜¯ä»€ä¹ˆï¼Œç„¶ååˆ†æäº†ä¸€ä¸‹é—®é¢˜ï¼Œé‚£ä¹ˆå¦‚ä½•æœ‰æ•ˆåœ°è§£å†³é—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç†è§£æ¶æ„ï¼ï¼ï¼&lt;ul&gt;
&lt;li&gt;èƒ½å‡­è®°å¿†ç”»å‡ºæ•´ä¸ªåº”ç”¨çš„æ¶æ„å—ï¼Ÿ ç»„ä»¶å…³ç³»å›¾ã€æ—¶åºå›¾ã€æ•°æ®æµå›¾ ...&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²ï¼šçŸ¥é“åº”ç”¨æ˜¯å¦‚ä½•è·¨æœºå™¨/è™šæ‹Ÿæœºåˆ†å¸ƒçš„å—ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚æœæ¶æ„éƒ½æ²¡ç†è§£ï¼ŒæœåŠ¡ä¸­æ–­äº†è¿˜æä¸ªå±å•Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä»¥æ•°æ®è¯´è¯&lt;ul&gt;
&lt;li&gt;æ”¶é›†ç›‘æ§æ•°æ®ï¼šåº”è¯¥ä½œä¸ºä¸€ä¸ªæ­£å¼çš„æµç¨‹å­˜åœ¨ï¼Œè€Œä¸æ˜¯å¾—åˆ°å‡ºé—®é¢˜æ‰å»ä¸´æ—¶æ”¶é›†ã€‚ç›‘æ§æ•°æ®ä¹Ÿåº”è¯¥é›†ä¸­åŒ–æ”¶é›†ä¿å­˜&lt;/li&gt;
&lt;li&gt;åˆ†ææ•°æ®ï¼šè¿™ä¸€ç¯èŠ‚ç»å¸¸ç¼ºå¤±ï¼›æ•°æ®åˆ†æè§£é‡Šçš„æŠ€èƒ½éå¸¸ç½•è§ï¼›å¦‚æœå¯èƒ½å°±ç”¨å·¥å…·æ¥è‡ªåŠ¨ç”ŸæˆæŠ¥è¡¨&lt;/li&gt;
&lt;li&gt;ç¡®ä¿æ‰€æœ‰å›¢é˜Ÿéƒ½èƒ½çœ‹åˆ°åˆ†ææŠ¥è¡¨ï¼šå›¢é˜Ÿä¹‹é—´çš„æ²Ÿé€šæ˜¯å¿…ä¸å¯å°‘çš„&lt;/li&gt;
&lt;li&gt;ç†è§£æ­£å¸¸çš„ç³»ç»ŸåŠŸèƒ½æ˜¯å•¥æ ·çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æµ‹é‡ä¸åˆ†æ&lt;ul&gt;
&lt;li&gt;å¯¹æŠ—è®¤çŸ¥åè§æœ€å¥½çš„å·¥å…·å°±æ˜¯æ•°æ®&lt;/li&gt;
&lt;li&gt;æ‰“æ—¥å¿—ã€ä»¥åŠç›‘æ§ï¼šä½†æ›´éœ€è¦åˆ†æï¼Œæ•°æ®é‡å¯èƒ½éå¸¸å¤§ï¼Œé—®é¢˜çš„æ¨¡å¼å¹¶éæ€»èƒ½è‚‰çœ¼å°±èƒ½è¯†åˆ«&lt;/li&gt;
&lt;li&gt;å¸¸è§„çš„/é€‚å½“çš„æ”¶é›†è¿‡ç¨‹æ˜¯å¿…è¦çš„ï¼Œä¸´æ—¶æŠ±ä½›è„šè‚¯å®šä¸è¡Œ&lt;/li&gt;
&lt;li&gt;ç¡®ä¿æ—¥å¿—å……åˆ†ï¼šå•¥å«å……åˆ†ï¼Ÿèƒ½å¤Ÿè¿½æº¯å¯¼è‡´æœåŠ¡ä¸­æ–­çš„æ‰€æœ‰æ­¥éª¤&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…³äºæ€§èƒ½ï¼Œè¿˜æƒ³è¯´ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ²¡æœ‰å®Œç¾çš„æ€§èƒ½ï¼Œåªæœ‰å¯æ¥å—çš„æ€§èƒ½ï¼ˆå°¼ç›å°±ä¸è¦æ²¡å®Œæ²¡äº†åœ°ä¼˜åŒ–äº†ï¼‰&lt;/li&gt;
&lt;li&gt;æ˜¯æœ€ç»ˆç”¨æˆ·å†³å®šæ€§èƒ½éœ€æ±‚&lt;/li&gt;
&lt;li&gt;æ€§èƒ½ä¸æ˜¯åŠŸèƒ½æ€§çš„éœ€æ±‚ï¼šä½†å¿…é¡»æœ‰å¯è§‚æµ‹çš„é‡åŒ–ç›®æ ‡ï¼Œä¹Ÿéœ€è¦å’Œç³»ç»Ÿç›¸å…³äººå…±åŒæ¥è®¾å®š&lt;/li&gt;
&lt;li&gt;æ€§èƒ½æµ‹è¯•ä¸€ä¸ªè¿­ä»£çš„è¿‡ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦å¤–ï¼Œå®é™…æ“ä½œçš„è¿‡ç¨‹ä¹Ÿå¾—è®²ç©¶ç§‘å­¦çš„æ–¹æ³•å•Š...&lt;/p&gt;
&lt;p&gt;æ¼”è®²çš„PPTï¼š&lt;a href="/assets/uploads/files/Managing-and-Surviving-Change.pdf"&gt;è§è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Building a strong engineering culture&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šKevin Goldsmithï¼ŒSpotifyå…¬å¸çš„æŠ€æœ¯ä¸»ç®¡(Director of Engineering)&lt;/p&gt;
&lt;p&gt;1 . ä»€ä¹ˆæ˜¯æ–‡åŒ–ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A pattern of &lt;strong&gt;shared basic assumptions&lt;/strong&gt; that a group has learned as it solved its problems of external adaptation and internal integration, that has worked well enough to be considered valid and therefore, to be taught to new members as the correct way to perceive, think, and feel in relation to those problems.   -- Edgar Schein &lt;a href="http://baike.baidu.com/view/1177302.htm"&gt;ç™¾åº¦ç™¾ç§‘&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ¼”è®²è€…æå‡ºçš„ç†è§£ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Culture is &lt;strong&gt;the manifestation of the shared values&lt;/strong&gt; of the organization as &lt;strong&gt;represented by the actions&lt;/strong&gt; of its members.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Values -&amp;gt; Culture -&amp;gt; Processes(æµç¨‹) + Artifacts(äººå·¥åˆ¶å“ï¼Œå¦‚Logoã€Tæ¤ç­‰) + Rituals(ä»ªå¼ï¼Œç¤¼ä»ª) + Beliefs(ä¿¡ä»°ã€æ–°å¹´)&lt;/p&gt;
&lt;p&gt;Spotifyå…¬å¸çš„ä¸€äº›ä»·å€¼è§‚(Values)ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Learn from failure&lt;/li&gt;
&lt;li&gt;Innovation at every level&lt;/li&gt;
&lt;li&gt;Iterative development&lt;/li&gt;
&lt;li&gt;Agile-ï¬rst&lt;/li&gt;
&lt;li&gt;Data-driven&lt;/li&gt;
&lt;li&gt;Autonomous Teams&lt;/li&gt;
&lt;li&gt;Continuous improvement&lt;/li&gt;
&lt;li&gt;Shared Responsibility&lt;/li&gt;
&lt;li&gt;Transparency&lt;/li&gt;
&lt;li&gt;Trust&lt;/li&gt;
&lt;li&gt;Servant Leadership&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2 . ä¸ºä»€ä¹ˆæ–‡åŒ–å¾ˆé‡è¦ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Apply the same level of deep thinking about building a culture as you would about building a product. -- Tim O'Reilly, Oâ€™Reilly Media&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;3 . ä¼˜ç§€å·¥ç¨‹[å¸ˆ]æ–‡åŒ–(engineering culture)çš„æ„æˆæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stuï¬€ gets done&lt;/li&gt;
&lt;li&gt;It gets done well&lt;/li&gt;
&lt;li&gt;People are happy&lt;/li&gt;
&lt;li&gt;Leaders provide direction and guidance and GET OUT OF THE WAY&lt;/li&gt;
&lt;li&gt;Success is celebrated&lt;/li&gt;
&lt;li&gt;Failure is used as a way to learn&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;4 . ä¿æŠ¤æ–‡åŒ–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Walk the talk&lt;/li&gt;
&lt;li&gt;Hiring is crucial&lt;/li&gt;
&lt;li&gt;Firing is also crucial&lt;/li&gt;
&lt;li&gt;Communicate your values&lt;/li&gt;
&lt;li&gt;Measure against your values&lt;/li&gt;
&lt;li&gt;Your organization reï¬‚ects your values&lt;/li&gt;
&lt;li&gt;Watch out for warning signs&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;5 . ä¿®å¤ç ´è´¥çš„æ–‡åŒ–&lt;/p&gt;
&lt;p&gt;å¦‚ä½•çŸ¥é“æ–‡åŒ–åœ¨ç ´è´¥ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;People donâ€™t care&lt;/li&gt;
&lt;li&gt;(Good) People are leaving&lt;/li&gt;
&lt;li&gt;You spend time on the wrong things instead of building your product&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚ä½•ä¿®å¤ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Start with yourself&lt;/li&gt;
&lt;li&gt;Then your team&lt;/li&gt;
&lt;li&gt;Build on successes&lt;/li&gt;
&lt;li&gt;Recruit others&lt;/li&gt;
&lt;li&gt;Grow bottom up&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;6 . æ€»ç»“&lt;/p&gt;
&lt;p&gt;You have a culture, Whether you think you do or not&lt;/p&gt;
&lt;p&gt;Work on your culture, It will determine how things get (or donâ€™t get) done&lt;/p&gt;
&lt;p&gt;If you have a good culture, protect it, Make sure everyone understands what you value as a team. Make sure everyone you hire will be happy in your culture.&lt;/p&gt;
&lt;p&gt;If you have a bad culture, transform it, A long process, start small and grow. Donâ€™t try to rush it.&lt;/p&gt;
&lt;p&gt;You are the culture, The culture is the intersection (average) of the values of the people in it. Want to improve your culture? LIVE THE VALUES&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è¿˜æœ‰å¦å¤–ä¸¤ä¸ªä¸»é¢˜æ¼”è®²â€œThe Containerised Cloudâ€ï¼ˆé›†è£…ç®±å¼/å®¹å™¨åŒ–çš„äº‘ï¼Œçœ‹é¢˜ç›®ä¹Ÿèƒ½çŒœå‡ºæ˜¯ä»‹ç»Dockerçš„ï¼‰å’Œâ€œSDNæ§åˆ¶å™¨é›†ç¾¤ä¸­çš„åˆ†å¸ƒå¼æŠ€æœ¯å®è·µâ€è²Œä¼¼ä¹Ÿä¸é”™ï¼Œå¯æƒœé„™äººå¯¹äºDockerå’ŒSDNéƒ½æ²¡ä»€ä¹ˆå®è·µç»éªŒï¼Œä¸ç”šäº†è§£ï¼Œä¹Ÿå°±ä¸å¤šå†™äº†ã€‚&lt;/p&gt;
&lt;h4&gt;ç§»åŠ¨ä¸Web&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Blend - å®Œç¾åœ°èåˆWebAppä¸Native app&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººæ˜¯æ¥è‡ªç™¾åº¦çš„é›·å¿—å…´(berg)&lt;/p&gt;
&lt;p&gt;å¯¹äºåšWebå¼€å‘ï¼Œè§‰å¾—åŸç”Ÿç§»åŠ¨Appå­¦ä¸åšéƒ½æ¯”è¾ƒæœ‰éš¾åº¦çš„äººæ¥è¯´ï¼Œè¿™ç§ä¸»é¢˜æ˜¯æ¯”è¾ƒæœ‰å¸å¼•åŠ›çš„ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œéš¾åº¦ä¸æ˜¯ä¸»è¦åŸå› ï¼ŒåŸå› åœ¨äºæ··åˆå¼å¼€å‘ç§»åŠ¨åº”ç”¨çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶å…·å¤‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Webçš„çµæ´»æ€§ï¼Œå¦‚ï¼šåº”ç”¨å¯éšæ—¶å‘å¸ƒæ›´æ–°ï¼Œæ— éœ€ç”¨æˆ·ä¸‹è½½æ›´æ–°æ–°ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;åŸç”Ÿç§»åŠ¨åº”ç”¨(Native App)è‰¯å¥½çš„ä½“éªŒï¼ŒåŒ…æ‹¬ï¼šäº¤äº’ä¸æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»è€Œè¾¾åˆ°Webåº”ç”¨å’ŒåŸç”Ÿç§»åŠ¨åº”ç”¨çš„ä¼˜åŠ¿äº’è¡¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="native-vs-web" src="/assets/uploads/pics/native-vs-web.png"&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå¦‚ä½•å®Œç¾èåˆï¼Œä»¥WebæŠ€æœ¯å¼€å‘ç±»åŸç”Ÿç§»åŠ¨åº”ç”¨å‘¢ï¼Ÿç™¾åº¦çš„åŒå­¦æå‡ºBlendæŠ€æœ¯æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;Blendæ˜¯ä¸€å¥—çµæ´»ã€ä½è€¦çš„ç»„ä»¶åº“ã€APIåŠè¿è¡Œç¯å¢ƒã€‚Blendå°†å¸¸ç”¨æˆ–æ ¸å¿ƒç»„ä»¶NativeåŒ–ï¼Œ è½¬åœºã€åŠ¨ç”»ã€é‡ç‚¹ç»„ä»¶ç”±Nativeå®Œæˆï¼ŒNativeä»£ç é’ˆå¯¹å…³é”®é—®é¢˜ï¼Œä»£ç è§„æ¨¡å°ï¼Œå¯æ§ï¼›æå‡ºâ€œEvery element can be a webviewâ€ï¼Œå•ä¸ªwebviewå˜â¼©å°ï¼Œå±€éƒ¨æ€§èƒ½å¯æ§ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“æŠ€æœ¯ç»†èŠ‚è§å¦‚ä¸‹PPTæˆªå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="Blend-technique-overview-1" src="/assets/uploads/pics/blend-technique-overview-1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Blend-technique-overview-2" src="/assets/uploads/pics/blend-technique-overview-2.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Blend-technique-overview-3" src="/assets/uploads/pics/blend-technique-overview-3.png"&gt;&lt;/p&gt;
&lt;p&gt;è¿›ä¸€æ­¥çš„ä¿¡æ¯å¯è®¿é—®Blendå®˜ç½‘ï¼š&lt;a href="http://clouda.com/"&gt;Clouda.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¥½å§ï¼Œå…¶å®æˆ‘æ²¡æœ‰ç§»åŠ¨å¼€å‘çš„ç»éªŒï¼Œæ‰€ä»¥å¯¹è¿™ä¸€å—çš„æŠ€æœ¯ä¹Ÿä¸å¤ªæ‡‚ï¼Œå¾…å­¦ä¹ ã€‚&lt;/p&gt;
&lt;p&gt;æ¼”è®²çš„PPTï¼š&lt;a href="/assets/uploads/files/Blend-hybrid-app.pdf"&gt;è§è¿™é‡Œ&lt;/a&gt; ï¼ˆå—¯ï¼ŒPPTå¾ˆæ¼‚äº®ï¼ï¼‰&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;æ‰‹æœº QQ Hybrid App ä¼˜åŒ–æ–°æ€è·¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººæ˜¯æ¥è‡ªè…¾è®¯ AlloyTeam çš„é™ˆæ¡‚é¸¿&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ¼”è®²çš„å†…å®¹å’Œä¸Šé¢ç™¾åº¦åŒå­¦çš„ç±»ä¼¼ï¼ŒåŒä¸€ä¸ªæŠ€æœ¯æ–¹å‘ã€‚&lt;/p&gt;
&lt;p&gt;AK (AlloyKit) - é«˜æ€§èƒ½ Hybrid Web å¼€å‘æ¡†æ¶&lt;/p&gt;
&lt;p&gt;AK æ¶æ„ä½“ç³»&lt;/p&gt;
&lt;p&gt;&lt;img alt="ak-arch" src="/assets/uploads/pics/ak-arch.png"&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²çš„PPTï¼š&lt;a href="/assets/uploads/files/AK-hybrid-app.pdf"&gt;è§è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è²Œä¼¼AKè¿˜æ²¡å¼€æºï¼Ÿ&lt;/p&gt;
&lt;p&gt;AlloyTeamåšå®¢ï¼š&lt;a href="http://www.alloyteam.com/"&gt;è§è¿™é‡Œ&lt;/a&gt;ï¼ŒGithubï¼š&lt;a href="https://github.com/AlloyTeam"&gt;è§è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;å‰åç«¯åˆ†ç¦»å®è·µ&lt;/strong&gt; ä¸ &lt;strong&gt;å¦ä¸€ä¸ªè§’åº¦çœ‹å‰åç«¯åˆ†ç¦»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªæ¼”è®²çš„å†…å®¹åŸºæœ¬ä¸€è‡´ï¼Œé¢˜ç›®æ›´å…·ä½“ç‚¹å°±æ˜¯â€œåŸºäºNode.jsçš„å‰åç«¯åˆ†ç¦»â€ã€‚æ¼”è®²äººéƒ½æ¥è‡ªé˜¿é‡Œï¼Œä¸€ä¸ªæ·˜å®ï¼Œä¸€ä¸ªå¤©çŒ«ã€‚&lt;/p&gt;
&lt;p&gt;æ¶‰åŠçš„æŠ€æœ¯é—®é¢˜ç”¨ä¸€å¼ å›¾å¤§è‡´å°±èƒ½è¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="nodejs-split-frontend-backend" src="/assets/uploads/pics/split-frontend-backend.png"&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§åˆ†ç¦»æ–¹æ¡ˆæ‰€è¦è§£å†³çš„é—®é¢˜æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é€šå¸¸å°†â€œç¼–å†™è¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ä»£ç â€çš„å·¥ç¨‹å¸ˆç§°ä¸ºWebå‰ç«¯å·¥ç¨‹å¸ˆï¼Œâ€œç¼–å†™è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„ä»£ç â€çš„å·¥ç¨‹å¸ˆç§°ä¸ºWebåç«¯å·¥ç¨‹å¸ˆï¼Œè¿™æ˜¯ä¸€ç§â€œç‰©ç†çš„â€åŒºåˆ†æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç§åŒºåˆ†æ–¹æ³•ä¸‹ï¼Œç›®å‰çš„Webåç«¯å¼€å‘åŸºæœ¬éƒ½æ˜¯é‡‡ç”¨MVCæ¡†æ¶ï¼Œé‚£ä¹ˆå‰åç«¯å·¥ç¨‹å¸ˆçš„å·¥ä½œåœ¨Viewå±‚å°±æœ‰è€¦åˆ - å‰ç«¯å·¥ç¨‹å¸ˆç¼–å†™HTMLé¡µé¢æ¨¡æ¿ï¼Œåç«¯å·¥ç¨‹å¸ˆè´Ÿè´£å¾€æ¨¡æ¿ä¸­æ³¨å…¥æ•°æ®è¿›è¡Œæ¸²æŸ“å±•ç¤ºã€‚è¿™ç§è€¦åˆä¸€æ–¹é¢å¯¼è‡´éœ€è¦æ›´å¤šçš„æ—¶é—´ç”¨äºåè°ƒæ²Ÿé€šï¼Œå¦ä¸€æ–¹é¢å‰ç«¯ä¹Ÿæ— æ³•å°½å¯èƒ½çµæ´»åœ°ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§è€¦åˆåœ¨å‰ç«¯ä¹Ÿå¼•å…¥MVCæ¡†æ¶ï¼ˆå¦‚AngularJSã€Backboneã€EmberJSï¼‰åå¾—åˆ°è§£å†³ï¼Œä½†ä¹Ÿå¼•å…¥äº†æ–°çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ€§èƒ½é—®é¢˜&lt;/li&gt;
&lt;li&gt;SEOé—®é¢˜&lt;/li&gt;
&lt;li&gt;ä»£ç é‡ç”¨é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶åå°±æœ‰äº†ä¸Šå›¾çš„æ–¹æ¡ˆã€‚å‰ç«¯å·¥ç¨‹å¸ˆä»¬æŒ¯è‡‚å‘å–Š - æˆ‘ä»¬ä¸è¦å±€é™äºæµè§ˆå™¨ï¼åç«¯å·¥ç¨‹å¸ˆä»¬ï¼Œåç«¯MVCçš„Viewã€Controllerã€ä»¥åŠéƒ¨åˆ†Modelå±‚çš„å¼€å‘éƒ½ç”±å‰ç«¯å·¥ç¨‹å¸ˆæ¥å®Œæˆå§ï¼Œä½ ä»¬å°±è´Ÿè´£éƒ¨åˆ†Modelå±‚ã€è´Ÿè´£æä¾›æ•°æ®å°±è¡Œå•¦ï¼æˆ‘ä»¬æœ‰NodeJSç¥å™¨ï¼æˆ‘ä»¬ä¸å†æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬æ˜¯å…¨æ ˆå·¥ç¨‹å¸ˆï¼&lt;/p&gt;
&lt;p&gt;ä½†è¿™ç§æ–¹æ¡ˆå°±æ²¡é—®é¢˜äº†ä¹ˆï¼Ÿä¸ªäººè®¤ä¸ºè‡³å°‘å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™ç§å·¥ç¨‹æ–¹æ¡ˆçš„æ¨å¹¿çš„éš¾åº¦æœ‰å¤šå¤§ï¼Ÿæœ‰å¤šå°‘å‰ç«¯å·¥ç¨‹å¸ˆç†Ÿæ‚‰åç«¯å¼€å‘ä¸­çš„é—®é¢˜ï¼Ÿåç«¯å¼€å‘å¹¶ä¸æ˜¯ç®€å•åœ°æ¢ä¸ªåœ°æ–¹å†™JSä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ç§å·¥ç¨‹æ–¹æ¡ˆå¿…é¡»ä¾èµ–äºNodeJSã€‚ä»»ä½•æŠ€æœ¯éƒ½ä¸æ˜¯é“¶å¼¹ï¼Œä¹Ÿä¸ä¼šæ’ä¹…é•¿å­˜ã€‚ä¸ªäººè®¤ä¸ºå¦‚æœä¸€ç§å·¥ç¨‹è§£å†³æ–¹æ¡ˆå¿…é¡»ä¾èµ–äºæŸç§å…·ä½“çš„æŠ€æœ¯ã€ç”šè‡³ä¸€é—¨è¯­è¨€ï¼Œé‚£å°±ä¸å€¼å¾—æ¨å¹¿ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼åˆæƒè¡¡æ¥çœ‹ï¼Œè¿™ç§å·¥ç¨‹æ–¹æ¡ˆä»…åœ¨ä¸€å®šçš„æ¡ä»¶ï¼ˆä¸ç¼ºç‰›é€¼çš„å…¨æ ˆå·¥ç¨‹å¸ˆã€ç¡®å®éœ€è¦å°†å‰ç«¯æ€§èƒ½åšåˆ°æè‡´ï¼‰ä¸‹æ‰æœ‰é‡‡ç”¨çš„å¿…è¦ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸æ¯”è¿™ç§å‰åç«¯åˆ†ç¦»æ–¹æ¡ˆï¼Œæˆ‘æ›´èµåŒæ¼”è®²ä¸­æå‡ºçš„â€œåŸºäºJSON + HTTPæ¥å£çš„ç‰ˆæœ¬åŒ–ç®¡ç†â€ï¼Œè®©æ¥å£çš„ä¸€åˆ‡å˜æ›´éƒ½å¯è¿½æº¯ï¼Œè¿™ä¸ªæƒ³æ³•æ˜¯å€¼å¾—æ€è€ƒå’Œå®è·µçš„ã€‚&lt;/p&gt;
&lt;p&gt;æ¼”è®²PPTï¼š&lt;a href="/assets/uploads/files/åˆ˜ç£Š-å‰åç«¯åˆ†ç¦»å®è·µ.pdf"&gt;å‰åç«¯åˆ†ç¦»å®è·µ&lt;/a&gt;ï¼Œ&lt;a href="/assets/uploads/files/å¦ä¸€ä¸ªè§’åº¦çœ‹å‰åç«¯åˆ†ç¦».pdf"&gt;å¦ä¸€ä¸ªè§’åº¦çœ‹å‰åç«¯åˆ†ç¦»&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¨èé˜…è¯»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/lifesinger/lifesinger.github.com/issues/184"&gt;Web ç ”å‘æ¨¡å¼æ¼”å˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.searchtb.com/2011/04/an-introduction-to-bigpipe.html"&gt;BigPipeå­¦ä¹ ç ”ç©¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ä¹é€—æ¸¸æˆå‘è¡Œå¹³å°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šä½™ä¸­å¼º&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ¼”è®²çš„å¹²è´§å¾ˆå¤šï¼Œå€¼å¾—ä¸€çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­æåˆ°çš„â€œå®šä½é—®é¢˜-å»ºè®¾äº‘ç›‘æ§ç³»ç»Ÿâ€å’Œâ€œAPIç›‘æ§ç³»ç»Ÿâ€æ˜¯æˆ‘åœ¨åšæˆ–æƒ³åšçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="ledou-cloud-monitor" src="/assets/uploads/pics/ledou-cloud-monitor.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="ledou-api-monitor" src="/assets/uploads/pics/ledou-api-monitor.png"&gt;&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªç³»ç»Ÿçš„æ¼”åŒ–ç»å†äº†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;èŒèŠ½æœŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="ledou-arch-stage1" src="/assets/uploads/pics/ledou-arch-stage1.png"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘å±•æœŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‘å±•æœŸçš„ç¬¬1é˜¶æ®µåªæ˜¯æ·»åŠ ç¼“å­˜ã€è´Ÿè½½å‡è¡¡é›†ç¾¤åŒ–ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="ledou-arch-stage2" src="/assets/uploads/pics/ledou-arch-stage2.png"&gt;&lt;/p&gt;
&lt;p&gt;å‘å±•æœŸçš„ç¬¬2é˜¶æ®µåˆ™æ˜¯æ ¹æ®ä¸šåŠ¡å‚ç›´åŒ–åˆ‡åˆ†ç³»ç»Ÿã€æ°´å¹³æ‹†åˆ†æ•°æ®è¡¨ç­‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="ledou-arch-stage2-ext" src="/assets/uploads/pics/ledou-arch-stage2-ext.png"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å£®å¤§æœŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="ledou-arch-stage3" src="/assets/uploads/pics/ledou-arch-stage3.png"&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ç³»ç»Ÿæ¼”åŒ–è¿‡ç¨‹ä¸­ä¹Ÿå¾—åˆ°äº†å¦‚ä¸‹ç»éªŒï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="ledou-optimize-lessons" src="/assets/uploads/pics/ledou-optimize-lessons.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="ledou-design-lessons" src="/assets/uploads/pics/ledou-design-lessons.png"&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²PPTï¼š&lt;a href="/assets/uploads/files/ä½™ä¸­å¼º-ä¹é€—æ‰‹æ¸¸å‘è¡ŒæŠ€æœ¯å¹³å°.pdf"&gt;è§è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;è·¨å¹³å°ç§»åŠ¨åº”ç”¨çš„è‡ªåŠ¨åŒ–éªŒæ”¶æµ‹è¯•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šå¹³å®‰ç§‘æŠ€ æŸ´é”‹ã€é«˜äº‘&lt;/p&gt;
&lt;p&gt;å†…å®¹ä¸»è¦æ˜¯åŸºäºCucumberå®ç°çš„ä¸€ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·&lt;/p&gt;
&lt;p&gt;Cucumberå®˜ç½‘ï¼š&lt;a href="http://cukes.info/"&gt;http://cukes.info&lt;/a&gt;ï¼Œæ¨å¹¿â€œè¡Œä¸ºé©±åŠ¨çš„å¼€å‘â€ï¼ˆbehaviour driven development - BDDï¼‰ï¼Œè²Œä¼¼æŒºæœ‰æ„æ€ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;å¤§æ•°æ®&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;eBayç”¨æˆ·è¡Œä¸ºæ•°æ®æµå®æ—¶å¤„ç†ç³»ç»Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šeBay æ±ªå…´æœ—&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·è¡Œä¸ºæ•°æ®æµæ˜¯æŒ‡ç”¨æˆ·åœ¨ç³»ç»Ÿ/ç½‘ç«™çš„æ“ä½œï¼Œä»¥åŠæ“ä½œä¹‹é—´çš„å‰åå…³ç³»ã€‚è¿™äº›æ•°æ®ç»è¿‡è¿‡æ»¤å™ªéŸ³æŠ½å–åå¯ä»¥ç”¨äºç”¨æˆ·è¡Œä¸ºåˆ†æã€ä¸ªæ€§åŒ–æ¨èç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="ebay-jetstream-arch" src="/assets/uploads/pics/ebay-jetstream-arch.png"&gt;&lt;/p&gt;
&lt;p&gt;å›¾ä¸­Jetstreamæ˜¯eBayè‡ªç ”çš„ä¸€ä¸ªç³»ç»Ÿï¼Œè²Œä¼¼å¹´å†…ä¼šå¼€æºï¼Œå¯ä»¥å…³æ³¨ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿå¤„ç†å¥½çš„metricsæ•°æ®å­˜å‚¨åœ¨TSDBï¼ˆOpenTSDBï¼Ÿï¼‰ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="ebay-jetstream-key-tech" src="/assets/uploads/pics/ebay-jetstream-key-tech.png"&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²PPTï¼š&lt;a href="/assets/uploads/files/æ±ªå…´éƒ-eBayç”¨æˆ·è¡Œä¸ºæ•°æ®æµå®æ—¶å¤„ç†ç³»ç»Ÿ.pdf"&gt;è§è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;äº’è”ç½‘å¸¸ç”¨åœºæ™¯ä¸‹çš„å¤§æ•°æ®æ¶æ„è§£æ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šMediaV èšæ•ˆCTO èƒ¡å®&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€åˆ‡ä¸ä»¥å…·ä½“åº”ç”¨ä¸ºå‰æè°ˆå¤§æ•°æ®éƒ½æ˜¯è€æµæ°“ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç²¾å‡†çš„ç½‘ç»œå¹¿å‘Šå’Œä¸ªäººåŒ–æ¨èï¼ˆå¦‚ç½‘è´­ï¼‰çš„åŸç†æ˜¯ä¸€æ ·çš„ã€‚é€šè¿‡è¿™é¡µPPTçœ‹çœ‹â€œç²¾å‡†â€â€œä¸ªæ€§åŒ–â€éœ€è¦è€ƒè™‘çš„å“ªäº›é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="for-precise-advertisement" src="/assets/uploads/pics/for-precise-advertisement.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;äº¬ä¸œåŸºäºå¤§æ•°æ®æŠ€æœ¯çš„ä¸ªæ€§åŒ–ç”µå•†æœç´¢å¼•æ“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼š äº¬ä¸œ åˆ˜å°šå ƒ&lt;/p&gt;
&lt;p&gt;1 . ä¸ºä»€ä¹ˆéœ€è¦ä¸ªæ€§åŒ–æœç´¢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¸®åŠ©ç”¨æˆ·ä»æµ·é‡å•†å“ä¸­å¿«é€Ÿæ‰¾åˆ°å•†å“&lt;/li&gt;
&lt;li&gt;æ»¡è¶³ä¸åŒç”¨æˆ·çš„æ£€ç´¢è¯‰æ±‚&lt;/li&gt;
&lt;li&gt;æå‡æœç´¢çš„æƒŠå–œæ€§&lt;/li&gt;
&lt;li&gt;å¸®åŠ©äº¬ä¸œæå‡é•¿å°¾å•†å“çš„æ›å…‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2 . äº¬ä¸œä¸ªæ€§åŒ–æœç´¢è€ƒè™‘çš„å› ç´ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¡Œä¸º&lt;/li&gt;
&lt;li&gt;åå¥½&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·ç”»åƒï¼šå…´è¶£ã€ç±»ç›®ã€äº§å“ã€å“ç‰Œã€ä¿®é¥°ï¼ˆä¸»å®¢è§‚ï¼‰ã€è´­ä¹°åŠ›ã€æ€§åˆ«ã€æ•æ„Ÿåº¦&lt;/li&gt;
&lt;li&gt;åå¥½ä¸‰è¦ç´ ï¼šé•¿æœŸåå¥½ã€å®æ—¶åå¥½ã€åå¥½è·¨å¹³å°èƒ½åŠ›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ°åŸŸ&lt;ul&gt;
&lt;li&gt;èº«è¾¹çš„é™Œç”Ÿäººå¯¹ä»€ä¹ˆæ„Ÿå…´è¶£&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ—¶é—´&lt;/li&gt;
&lt;li&gt;å¥½å‹&lt;ul&gt;
&lt;li&gt;èº«è¾¹çš„ç†Ÿäººå¯¹ä»€ä¹ˆæ„Ÿå…´è¶£&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4&gt;äº‘è®¡ç®—&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;äº‘æœåŠ¡-ç²¾ç›Šåˆ›ä¸šè€…çš„å·¥å…·ç®±&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šè‹±è¯­æµåˆ©è¯´ èƒ¡å“²äºº&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¡ç®—èµ„æº + æ•°æ®çš„å­˜å‚¨ï¼šé˜¿é‡Œäº‘, AWSä¸­å›½, é’äº‘, UCloud&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·è¡Œä¸ºçš„åˆ†æï¼šTalking Data, å‹ç›Ÿ&lt;/li&gt;
&lt;li&gt;å¤šåª’ä½“èµ„æºçš„å­˜å‚¨å’Œåˆ†å‘ï¼šä¸ƒç‰›, åˆæ‹äº‘&lt;/li&gt;
&lt;li&gt;æ¶ˆæ¯æ¨é€ï¼šä¸ªæ¨ï¼Œæå…‰æ¨é€&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿç›‘æ§ï¼šç›‘æ§å®ï¼ŒOneAPM&lt;/li&gt;
&lt;li&gt;é‚®ä»¶å‘é€ï¼šSendCloud&lt;/li&gt;
&lt;li&gt;å…¶ä»–ï¼š&lt;ul&gt;
&lt;li&gt;IMæœåŠ¡ï¼šç¯ä¿¡/LeanCloud&lt;/li&gt;
&lt;li&gt;ç¤¾äº¤åˆ†äº«ï¼šShareSDK/å‹ç›Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç²¾ç›Šåˆ›ä¸šï¼šåˆ›ä¸šå›¢é˜Ÿä¸“æ³¨è‡ªå·±çš„äº§å“ï¼Œå¿«é€Ÿè¿­ä»£&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ç¯ä¿¡æ”¯æŒåƒä¸‡å¹¶å‘å³æ—¶é€šè®¯çš„æŠ€æœ¯è¦ç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šç¯ä¿¡è”åˆåˆ›å§‹äºº åˆ˜å°‘å£®&lt;/p&gt;
&lt;p&gt;&lt;img alt="huanxin-1" src="/assets/uploads/pics/huanxin-1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="huanxin-2" src="/assets/uploads/pics/huanxin-2.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="huanxin-3" src="/assets/uploads/pics/huanxin-3.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="huanxin-4" src="/assets/uploads/pics/huanxin-4.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;è‡ªåŠ¨åŒ–è¿ç»´&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å®æ—¶è¿ç»´æ•°æ®åˆ†æ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šåŒ»æ ‘ç½‘ æ›¾å‹‡&lt;/p&gt;
&lt;p&gt;åŸºäº ElasticSearch + Logstash + Kibana å®ç°æ—¥å¿—çš„é›†ä¸­æ”¶é›†åˆ†æå±•ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="yishu-elk-usage" src="/assets/uploads/pics/yishu-elk-usage.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ç»‡äº‘è‡ªåŠ¨åŒ–è¿ç»´æŠ€æœ¯ä»‹ç»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šè…¾è®¯ æ¢å®šå®‰&lt;/p&gt;
&lt;p&gt;1 . è¿è¥è§„èŒƒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¯å¢ƒæ ‡å‡†åŒ–&lt;/li&gt;
&lt;li&gt;æ“ä½œå·¥å…·åŒ–&lt;/li&gt;
&lt;li&gt;å¯¹è±¡æŠ½è±¡åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€åˆ‡å‡å¯é…ç½®ï¼Œä»è€Œè¾¾åˆ°ä½ç»´æŠ¤æˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;2 . èµ„æºè®¾è®¡&lt;/p&gt;
&lt;p&gt;&lt;img alt="tencent-resource-design" src="/assets/uploads/pics/tencent-resource-design.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;æµ·é‡åœ¨çº¿äº¤æ˜“èƒŒåçš„è¿ç»´ç›‘æ§ä½“ç³»å»ºè®¾&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="ctrip-monitor-set" src="/assets/uploads/pics/ctrip-monitor-set.png"&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ CATS ç”¨äºç›‘æ§å‘Šè­¦è¿½è¸ªç®¡ç†ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤„ç†æŠ¥è­¦ç»Ÿä¸€å…¥å£&lt;/li&gt;
&lt;li&gt;æŠ¥è­¦ä¿¡æ¯è¡¥å……&lt;/li&gt;
&lt;li&gt;é‡å¤æŠ¥è­¦å»é™¤&lt;/li&gt;
&lt;li&gt;æŠ¥è­¦ä¼˜å…ˆçº§åŒºåˆ†&lt;/li&gt;
&lt;li&gt;æŠ¥è­¦æŠ‘åˆ¶&lt;/li&gt;
&lt;li&gt;æŠ¥è­¦èšåˆ&lt;/li&gt;
&lt;li&gt;ä¸å·¥ä½œæµç³»ç»Ÿè”åŠ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="ctrip-monitor-future" src="/assets/uploads/pics/ctrip-monitor-future.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="ctrip-monitor-future-arch" src="/assets/uploads/pics/ctrip-monitor-future-arch.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;äº’è”ç½‘é‡‘è&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ç«å¸ç½‘æ¯”ç‰¹å¸äº¤æ˜“æ‰€æ„å»ºå®è·µ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šå·¨å»ºå&lt;/p&gt;
&lt;p&gt;&lt;img alt="huobi-arch-timeline" src="/assets/uploads/pics/huobi-arch-timeline.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;æµ…è°ˆäº’è”ç½‘é‡‘èçš„èµ„é‡‘å®‰å…¨å’Œå¯¹è´¦ä½“ç³»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šçˆ±æŠ•èµ„CTO è°·äº‘&lt;/p&gt;
&lt;p&gt;&lt;img alt="aitouzi-definition" src="/assets/uploads/pics/aitouzi-definition.png"&gt;&lt;/p&gt;
&lt;p&gt;äº’è”ç½‘é‡‘èçš„ä»·å€¼ä¹‹ä¸€åœ¨äºå‘æŒ¥å¹³å°çš„ä¸“ä¸šæ€§ï¼Œç»™ç”¨æˆ·æä¾›æ›´å¤šçš„æŠ•èµ„äº§å“é€‰æ‹©ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;äº’è”ç½‘é‡‘èæµ…æ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šèšçˆ±è´¢ ä»»è¡¡&lt;/p&gt;
&lt;p&gt;&lt;img alt="juaicai-simple-analysis-1" src="/assets/uploads/pics/juaicai-simple-analysis-1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;é‡‘èçš„æœ¬è´¨æ˜¯å®ç°èµ„äº§æœ€ä¼˜é…ç½®ï¼Œè¦æ±‚å¹³ç­‰ã€é«˜æ•ˆï¼Œè€Œè¿™ï¼Œæ°å¥½ä¸äº’è”ç½‘çš„ç²¾é«“ä¸è°‹è€Œåˆ&lt;/em&gt;
&lt;em&gt;äº’è”ç½‘é‡‘èçš„ä¸‰å¤§åŸºçŸ³ï¼šè´§å¸ã€æ”¯ä»˜äº¤æ˜“ã€ä¿¡ç”¨ä½“ç³»&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="juaicai-people-credit" src="/assets/uploads/pics/juaicai-people-credit.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="juaicai-2014-trend" src="/assets/uploads/pics/juaicai-2014-trend.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Lending Club ä¼šå¯¹è´·æ¬¾é¡¹ç›®è¿›è¡Œè¯„çº§&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="juaicai-p2b" src="/assets/uploads/pics/juaicai-p2b.png"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;éšç§ä¸å®‰å…¨&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ç¨‹åºå‘˜ä¸é»‘å®¢&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¶æ„æ€æƒ³ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é»‘å®¢æ€ç»´éœ€è¦è´¯ç©¿ã€Œ...-&amp;gt;æ¶æ„-&amp;gt;ç ”å‘-&amp;gt;è¿ç»´-&amp;gt;...ã€&lt;/li&gt;
&lt;li&gt;ä¼˜ç¾çš„æ¶æ„ä¸€å®šæ˜¯å¥å£®çš„&lt;/li&gt;
&lt;li&gt;ä¼˜ç¾çš„æ¶æ„ä¸€å®šæ˜¯å¤„å¤„ä¼˜ç¾çš„ï¼šæ–‡æ¡£ã€ä»£ç ã€é€»è¾‘ã€äºº-&amp;gt;å›¢é˜Ÿ&lt;/li&gt;
&lt;li&gt;å®‰å…¨çš„æœ¬è´¨æ˜¯ä¿¡ä»»&lt;ul&gt;
&lt;li&gt;ã€Œç´§å†…èšã€æ¾è€¦åˆã€è®¾è®¡æ€æƒ³ï¼šç´§å†…èš -&amp;gt; æœ€å°å•å…ƒ -&amp;gt; åˆ°ä¸€æ®µé€»è¾‘ä»£ç ï¼Œæ¾è€¦åˆ -&amp;gt; åˆ†ç¦» -&amp;gt; ä¸ä¿¡ä»»ä»»ä½•è¾“å…¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¼æ´äº§ç”Ÿçš„æœ¬è´¨ï¼šé»‘å®¢é€šè¿‡è¾“å…¥æäº¤ã€Œç‰¹æ®Šæ•°æ®ã€ï¼Œç‰¹æ®Šæ•°æ®åœ¨æ•°æ®æµçš„æ¯ä¸ªå•å…ƒé‡Œå¤„ç†ï¼Œå¦‚æœæŸä¸ªå•å…ƒæ²¡å¤„ç†å¥½ï¼Œåœ¨å•å…ƒè¾“å‡ºçš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°ç›¸åº”å•å…ƒçš„å®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;åˆ†ç¦»çš„è‰ºæœ¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äººå‘˜èŒæƒåˆ†ç¦»ï¼šäººæ˜¯ä¸‡æ¶ä¹‹æºï¼›æ¯ä¸ªè§’è‰²åº”è¯¥èŒæƒæ¸…æ™°ï¼Œåœ¨ä¿è¯è¿™ä¸ªã€Œç”Ÿæ€ç³»ç»Ÿã€å¯ä»¥ç¨³å®šè¿è¡Œçš„åŸºç¡€ä¸Šï¼Œå°½å¯èƒ½é™åˆ¶ç›®æ ‡è§’è‰²çš„èŒæƒ&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨åˆ†ç¦»ï¼š&lt;ul&gt;
&lt;li&gt;ç ”å‘ä¸çº¿ä¸ŠæœåŠ¡å™¨åˆ†ç¦»ï¼šæœç»åœ¨çº¿ä¸Šè°ƒè¯•ï¼Œæœç»æŠŠä¸æˆç†Ÿçš„ä»£ç å‘å¸ƒåˆ°çº¿ä¸Š&lt;/li&gt;
&lt;li&gt;çº¿ä¸ŠæœåŠ¡å™¨å„å¸å…¶èŒï¼šæŒ‰ä¸šåŠ¡åˆ†ç¦»ï¼ˆä¸»ç«™ã€å­ç«™ç­‰ä¸šåŠ¡ä¸ä¸€æ ·ï¼‰ã€æŒ‰æœåŠ¡å™¨ç±»å‹åˆ†ç¦»ï¼ˆWebã€æ•°æ®åº“ã€ç¼“å­˜ã€Xã€Yã€Zã€...ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è´¦å·æƒé™åˆ†ç¦»ï¼šè´¦å·æƒé™å’Œè®¤è¯æˆæƒæ¨¡å‹æœ‰å…³&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶ç›®å½•åˆ†ç¦»ï¼š&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶ç›®å½•è®¾è®¡çš„å…³é”®ï¼šå‘½åé£æ ¼è¦ä¼˜ç¾ï¼Œç›®å½•å„å¸å…¶èŒ &amp;amp; RWXæƒé™è¦åšå¥½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä»£ç åˆ†ç¦»ï¼š&lt;ul&gt;
&lt;li&gt;ä»£ç è®¾è®¡çš„å…³é”®ï¼šå‘½åé£æ ¼è¦ä¼˜ç¾ï¼›ä»£ç ç´§å†…èšã€æ¾è€¦åˆï¼ˆç³»ç»Ÿã€åŒ…ã€æ–‡ä»¶ã€ç±»ã€å‡½æ•°ã€ä¸€æ®µé€»è¾‘ä»£ç â€¦â€¦ï¼‰ï¼›â€¯ æŒ«ä»£ç  -&amp;gt; ä¸€å †bugs -&amp;gt; å¿…ç„¶åŒ…å«ä¸€å †æ¼æ´&lt;/li&gt;
&lt;li&gt;çº¿ä¸Šä¸åº”è¯¥å‡ºç°SVN/Gitæƒé™&lt;/li&gt;
&lt;li&gt;çº¿ä¸Šå¦‚æœèƒ½æäº¤ç¼–è¯‘åçš„æ–‡ä»¶å°±ç¼–è¯‘åçš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Cookieåˆ†ç¦»&lt;/li&gt;
&lt;li&gt;å­åŸŸåˆ†ç¦»ï¼š&lt;ul&gt;
&lt;li&gt;å­åŸŸè®¾è®¡çš„å…³é”®ï¼šä¸åŒçš„ä¸šåŠ¡æ”¾åˆ°ä¸åŒçš„å­åŸŸä¸‹ï¼›æ¾è€¦åˆçš„å…¬å…±æ¨¡å—å¯ä»¥è€ƒè™‘æ”¾åˆ°å…¶ä»–åŸŸåä¸‹&lt;/li&gt;
&lt;li&gt;åŸŸåˆ†ç¦»å¯¹äºXSSæ”»å‡»æ¥è¯´æ˜¯ä¸€åªã€Œæ‹¦è·¯è™ã€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æŠ€æœ¯é€‰å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»»ä½•ç»„ä»¶éƒ½æœ‰æ¼æ´ï¼š&lt;ul&gt;
&lt;li&gt;ä¸€èˆ¬è§„å¾‹ï¼šè¶Šæµè¡Œçš„å¼€æºç»„ä»¶è¶Šé è°±ï¼›è¶Šé è°±çš„å›¢é˜Ÿæ‰“é€ çš„ç»„ä»¶è¶Šé è°±&lt;/li&gt;
&lt;li&gt;æ—¶åˆ»åšå¥½è¢«é»‘ä¸ªé€çš„å‡†å¤‡ï¼šä¼˜ç¾çš„æ¶æ„å¤šé‡è¦ï¼›åˆ†ç¦»è®¾è®¡èƒ½å¤§å¤§æé«˜å…¥ä¾µé—¨æ§›ï¼›å¿«é€Ÿåº”æ€¥ -&amp;gt; å¿«é€Ÿè‡ªæ„ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åƒé‡Œä¹‹å ¤æºƒäºèšç©´ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¨‹åºå‘˜ä½¿ç”¨ä¸é è°±çš„ç»„ä»¶ã€å·¥å…·ï¼š&lt;ul&gt;
&lt;li&gt;æœ‰äº›æ¨¡å—/ä»£ç ç›´æ¥COPYè‡ªä¸é è°±çš„åœ°æ–¹&lt;/li&gt;
&lt;li&gt;ç ”å‘ã€è¿ç»´å·¥å…·ä¸‹è½½è‡ªä¸é è°±çš„åœ°æ–¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å‡çº§ä¸­å¿ƒçš„ç›¸å…³ç¨‹åºè¢«æ¤å…¥åé—¨&lt;ul&gt;
&lt;li&gt;å»ºè®®ç”¨é è°±çš„æºã€å®˜æ–¹æº&lt;/li&gt;
&lt;li&gt;åšæ­£ç¡®çš„MD5æ ¡éªŒ&lt;/li&gt;
&lt;li&gt;ä½†ç»å¤§å¤šæ•°æƒ…å†µä¸‹ä¼šéå¸¸æ— å¥ˆï¼Œæ‰€ä»¥æœ‰äº›é«˜ä¿å¯†æœºæ„å°±ä¸ä¼šè½»æ˜“å…è®¸å‡çº§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;GitHub Hackï¼š&lt;ul&gt;
&lt;li&gt;GitHubçš„æœç´¢è¯­æ³•ï¼š&lt;ul&gt;
&lt;li&gt;smtp @163.com&lt;/li&gt;
&lt;li&gt;insert password extension:sql size:&amp;gt;1000&lt;/li&gt;
&lt;li&gt;svn co username password&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é‚®ç®±Hack&lt;/li&gt;
&lt;li&gt;ç»„ä»¶ä¸¥é‡æ¼æ´çˆ†å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¥½å»ºè®®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é»‘å®¢æ€ç»´éœ€è¦è´¯ç©¿ã€Œ...-&amp;gt;æ¶æ„-&amp;gt;ç ”å‘-&amp;gt;è¿ç»´-&amp;gt;...ã€&lt;ul&gt;
&lt;li&gt;å®‰å…¨æ„è¯†ä¼˜å…ˆï¼Œå®‰å…¨ç»éªŒé€æ¸åŸ¹å…»&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸€å®šè¦æœ‰ä¸ªä¼˜ç¾çš„æ¶æ„&lt;ul&gt;
&lt;li&gt;æ›´å°‘Bugsæ„å‘³ç€æ›´å°‘æ¼æ´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é€å½»ç†è§£ï¼šå®‰å…¨çš„æœ¬è´¨æ˜¯ä¿¡ä»»&lt;ul&gt;
&lt;li&gt;æ˜ç™½å•å…ƒä¸åˆ†ç¦»çš„é‡è¦æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å®‰å…¨ç­–ç•¥çš„éƒ¨ç½²ä¸€å®šè¦å…¨é¢&lt;/li&gt;
&lt;li&gt;å®šæœŸå¤‡ä»½æœºåˆ¶ä¸€å®šè¦æœ‰&lt;ul&gt;
&lt;li&gt;å‡ºé—®é¢˜èƒ½å¿«é€Ÿdiffæ’æŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Code Reviewå€¼å¾—æå€¡ï¼š&lt;ul&gt;
&lt;li&gt;ä¸‡ä¸€ä»£ç è¢«æ¤å…¥äº†åé—¨ï¼Œè¿˜æœ‰æœºä¼šå‘ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åº”æ€¥å“åº”è¦äº‰åˆ†å¤ºç§’&lt;/li&gt;
&lt;li&gt;å¯ä»¥è¯·ä¸“ä¸šçš„å®‰å…¨å›¢é˜ŸæŠŠæŠŠè„‰&lt;ul&gt;
&lt;li&gt;å››ä¸ªç»´åº¦ï¼šåŸ¹è®­ã€é˜²å¾¡ã€å®¡è®¡ã€ç›‘æ§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å–„ç”¨å®‰å…¨è¾…åŠ©å·¥å…·&lt;ul&gt;
&lt;li&gt;æ—¥å¿—åˆ†æï¼šsplunk, logcheck, logwatch&lt;/li&gt;
&lt;li&gt;å…¥ä¾µæ£€æµ‹/é˜²å¾¡ï¼šsnort, iptables, ipfw, fail2ban, portsentry, tripwire, ossec&lt;/li&gt;
&lt;li&gt;åé—¨æ£€æµ‹ï¼šrkhunter, chkrootkit, lynis&lt;/li&gt;
&lt;li&gt;æµé‡ç›‘æ§ï¼šNagios, Cacti, Zabbix&lt;/li&gt;
&lt;li&gt;ç¯å¢ƒéš”ç¦»ï¼šchroot&lt;/li&gt;
&lt;li&gt;WebæŠ—D/CCï¼šæ¨èè‡ªå®¶äº§å“ jiasule&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4&gt;æ‰©å±•æ€§ã€å¯ç”¨æ€§ã€é«˜æ€§èƒ½&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;åŸºäºPXCçš„MySQLé«˜å¯ç”¨æ¶æ„æ¢ç´¢&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šå»å“ªå„¿ç½‘ å‘¨å½¦ä¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MMMï¼šhttp://mysql-mmm.org&lt;/li&gt;
&lt;li&gt;Galera&lt;/li&gt;
&lt;li&gt;Percona Xtradb Clusterï¼ˆPXCï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;æ„å»ºé«˜å¯ç”¨å’Œå¼¹æ€§ä¼¸ç¼©çš„KVç³»ç»Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šUcloud å´æ–Œç‚œ&lt;/p&gt;
&lt;p&gt;Redis&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨åœºæ™¯ï¼š&lt;ul&gt;
&lt;li&gt;å–æœ€æ–°Nä¸ªæ•°æ®çš„æ“ä½œ&lt;/li&gt;
&lt;li&gt;æ’è¡Œæ¦œåº”ç”¨ï¼Œå–TOP Næ“ä½œ&lt;/li&gt;
&lt;li&gt;éœ€è¦ç²¾å‡†è®¾å®šè¿‡æœŸæ—¶é—´çš„åº”ç”¨&lt;/li&gt;
&lt;li&gt;è®¡æ•°å™¨åº”ç”¨&lt;/li&gt;
&lt;li&gt;æ¶ˆæ¯é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;ç¼“å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4&gt;åˆ›ä¸š&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘ä»¬åœ¨è±Œè±†èšå¦‚ä½•åšäº§å“ç ”å‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šä¸å‰æ˜Œ&lt;/p&gt;
&lt;p&gt;è±Œè±†æ–‡åŒ–ï¼šå¼€æ”¾ã€é€æ˜ã€å…¬å¹³&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‘£äº‹ä¼šè®®ã€æŠ¥å‘Šå’Œæ–‡æ¡£å…¨å‘˜å¯é˜…&lt;/li&gt;
&lt;li&gt;ä½ å¯ä»¥é—®åˆ›å§‹äººä»»ä½•é—®é¢˜å¹¶å¾—åˆ°ç­”å¤&lt;/li&gt;
&lt;li&gt;ä¸ªäººæˆå°±åŠè¯„çº§å…¨å…¬å¸å¯é˜…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç ”å‘äº”æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç«‹é¡¹ï¼ˆå®šæ–¹å‘ï¼‰&lt;ul&gt;
&lt;li&gt;ç”µæ¢¯æ—¶é—´ï¼ˆä¸€å¥è¯æ„¿æ™¯ï¼‰&lt;/li&gt;
&lt;li&gt;ç›®æ ‡ç”¨æˆ·çš„ç‰¹å¾å’Œæ ¸å¿ƒéœ€æ±‚&lt;/li&gt;
&lt;li&gt;ç°å­˜çš„è§£å†³æ–¹æ¡ˆå’Œå„è‡ªçš„ä¼˜åŠ£åŠ¿&lt;/li&gt;
&lt;li&gt;ä¾èµ–ã€ç›¸å…³æŠ€æœ¯é©±åŠ¨å’Œé™åˆ¶&lt;/li&gt;
&lt;li&gt;äººåŠ›éœ€æ±‚ã€å‘å¸ƒç­–ç•¥å’Œæ ¸å¿ƒè¡¡é‡æŒ‡æ ‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å®šç›®æ ‡ï¼ˆç›®æ ‡ç®¡ç†ï¼‰ï¼šå›¢é˜Ÿæœä¸€ä¸ªæ–¹å‘åŠªåŠ›&lt;ul&gt;
&lt;li&gt;Objectives &amp;amp; Key Results&lt;ul&gt;
&lt;li&gt;é¦–å…ˆæ˜¯ä¸ªæ²Ÿé€šå·¥å…·&lt;/li&gt;
&lt;li&gt;åŠªåŠ›çš„æ–¹å‘å’Œç›®æ ‡ï¼Œé Roadmap&lt;/li&gt;
&lt;li&gt;å¿…é¡»å¯é‡åŒ–&lt;/li&gt;
&lt;li&gt;åˆ¶å®šå’Œæ‰§è¡Œè€…ä¸€è‡´ï¼Œå›¢é˜Ÿå’Œä¸ªäººç›®æ ‡ä¸€è‡´&lt;/li&gt;
&lt;li&gt;å’Œä¸ªäººç»©æ•ˆè€ƒæ ¸æ— å…³ï¼Œä¸æ˜¯ KPI&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å­£åº¦ OKR &amp;amp; Review&lt;ul&gt;
&lt;li&gt;æœ€ä½³å®è·µï¼šç›®æ ‡ä¸å˜ï¼Œè°ƒæ•´ä¸»è¦æˆæœ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æœˆåº¦ä¼šè®® Month Reviewï¼š&lt;ul&gt;
&lt;li&gt;æ˜¯å¦éœ€è¦èµ„æºå’Œæ–¹å‘è°ƒæ•´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ§è¿›åº¦ï¼ˆé¡¹ç›®ç®¡ç†ï¼‰&lt;ul&gt;
&lt;li&gt;çŠ¶æ€åŒæ­¥é€æ˜&lt;/li&gt;
&lt;li&gt;ç”¨æœ€åˆé€‚çš„æ–¹å¼å¤šæ–¹ä½æ²Ÿé€š&lt;/li&gt;
&lt;li&gt;å‘¨ä¼š/æ€»ç»“&lt;/li&gt;
&lt;li&gt;æ•°æ®éªŒè¯ (MUCE)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¸¦å›¢é˜Ÿï¼ˆäººå‘˜ç®¡ç†ï¼‰&lt;ul&gt;
&lt;li&gt;æ‰¾æœ€ä¼˜ç§€çš„äºº&lt;/li&gt;
&lt;li&gt;Re-Org &amp;amp; æ¢ç»„ï¼šç»©æ•ˆåˆæ ¼ï¼Œæ¯å­£åº¦å¯ç”³è¯·æ¢ç»„/å·¥ä½œå†…å®¹&lt;/li&gt;
&lt;li&gt;One on Oneï¼š&lt;ul&gt;
&lt;li&gt;ç»ç†è¿˜æ˜¯æ•™ç»ƒï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ’å¿§è§£éš¾åŠ©æˆé•¿&lt;/li&gt;
&lt;li&gt;åˆ†äº«èŒä¸šè§„åˆ’&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸ªäººç»©æ•ˆï¼š&lt;ul&gt;
&lt;li&gt;ç»©æ•ˆä¸ä¸ OKR æŒ‚é’©&lt;/li&gt;
&lt;li&gt;é¼“åŠ±æŒ‘æˆ˜éš¾åº¦&lt;/li&gt;
&lt;li&gt;é¼“åŠ±è¶…è¶Šä¼˜ç§€&lt;/li&gt;
&lt;li&gt;ä½ Level çš„äº‹æƒ…åšä¸åˆ°ä¼˜ç§€ä¼šæƒ©ç½š&lt;/li&gt;
&lt;li&gt;åšäº‹ä¸åŠæ ¼ä¼šæƒ©ç½š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ’å¹²æ‰°ï¼ˆå…´è¶£ç®¡ç†ï¼‰&lt;ul&gt;
&lt;li&gt;Hack Day å‘ç°å¥½ç©æ„&lt;/li&gt;
&lt;li&gt;Polish Week æŸ¥æ¼è¡¥ç¼º&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;åˆ›ä¸šæœŸæŠ€æœ¯å›¢é˜Ÿæ‚è°ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šå²³æ—­å¼º&lt;/p&gt;
&lt;p&gt;åˆ›ä¸šå®è·µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¿«é€Ÿè¯•é”™&lt;/li&gt;
&lt;li&gt;æ´»ä¸‹å»æ˜¯ç¬¬ä¸€è¯‰æ±‚&lt;/li&gt;
&lt;li&gt;æè‡´ç»“æœï¼š&lt;ul&gt;
&lt;li&gt;ç®€åŒ–æ²Ÿé€šï¼šä¸‹ä¹¡ã€çªå‡»é˜Ÿã€æ‰å¹³åŒ–&lt;/li&gt;
&lt;li&gt;å…´è¶£æ¿€å‘ï¼šè‡ªç”±é€‰æ‹©æƒã€é»‘æš—éª‘å£«&lt;ul&gt;
&lt;li&gt;æŠ€æœ¯å·¥ä½œçš„ä¸‰ä¸ªç‰¹æ€§ï¼šäº§å“æ€§ã€å·¥ç¨‹æ€§ã€æŠ€æœ¯(è‰ºæœ¯)æ€§ã€‚å¯¹äºè¿™ä¸‰ä¸ªç‰¹æ€§ï¼Œå·¥ç¨‹å¸ˆæœ‰ä¸åŒçš„åå‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æˆå°±æ„Ÿé©±åŠ¨&lt;ul&gt;
&lt;li&gt;æ˜æ„ä¹‰&lt;/li&gt;
&lt;li&gt;é‡å‚ä¸&lt;/li&gt;
&lt;li&gt;è¿½ç»“æœ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æè‡´ç¯å¢ƒ&lt;ul&gt;
&lt;li&gt;æ°›å›´ï¼šè‡ªç”±ã€ç®€å•ã€å¼€æ”¾&lt;/li&gt;
&lt;li&gt;æè‡´è¦æ±‚ï¼šå‡¡äº‹å¿…æœ‰è§£ï¼Œä¸”å¿…æœ‰æœ€ä¼˜è§£&lt;/li&gt;
&lt;li&gt;æ”»åŸå¸ˆæ”¯æŒï¼šå·¥å…·å¹³å°ã€ä¸€æ—¥ä¸‰é¤ã€å…¨å‘˜Macã€1:1 ï¼ˆå®é™…ä¸Šåº”è¯¥æ˜¯æœ‰æ¡ä»¶äº†æ‰ä¼šæœ‰è¿™äº›ç¦åˆ©ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ–‡åŒ–å…»æˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‰æ‹”äººæ‰&lt;ul&gt;
&lt;li&gt;æŠ€æœ¯çƒ­æƒ…&lt;/li&gt;
&lt;li&gt;é€»è¾‘æ€ç»´&lt;/li&gt;
&lt;li&gt;æ‹¿åˆ°ç»“æœ&lt;/li&gt;
&lt;li&gt;å·¥ç¨‹ vs äº§å“ vs æŠ€æœ¯&lt;/li&gt;
&lt;li&gt;è®¡åˆ’ vs éšæœºåº”å˜&lt;/li&gt;
&lt;li&gt;ä¸¥è°¨ vs è„±ç¼°é‡â»¢é©¬&lt;/li&gt;
&lt;li&gt;é‡ç»†èŠ‚ vs é‡å®è§‚&lt;/li&gt;
&lt;li&gt;æ·±åº¦ vs å¹¿åº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Building Lean&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¼”è®²äººï¼šKevin Goldsmith&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The one thing you canâ€™t recycle is wasted time. -- Taiichi Ohno&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Key Lean Concepts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Anything that doesnâ€™t produce value for customers is waste and a candidate for elimination&lt;/li&gt;
&lt;li&gt;Get value to customers as quickly as possible&lt;/li&gt;
&lt;li&gt;Validate product/market fit in the shortest amount of time necessary&lt;/li&gt;
&lt;li&gt;Scientific, data-driven, approach&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Key Lean Ideasï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Minimum Viable(å¯è¡Œçš„) Product&lt;/li&gt;
&lt;li&gt;Create hypotheses, validate with experiments and DATA ï¼ˆå¤§èƒ†å‡è®¾ã€å°å¿ƒéªŒè¯ï¼Ÿï¼‰&lt;/li&gt;
&lt;li&gt;Learn fast, fail fast&lt;/li&gt;
&lt;li&gt;The speed of iteration is more important than the quality of iteration  -- John Boyd&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Overcoming doubtï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ruthlessly cut features to make the launch&lt;/li&gt;
&lt;li&gt;Commit to consistent, quick, iterations to make up the features we cut&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;åæ§½&lt;/h2&gt;
&lt;p&gt;æ¢æ¼±æºŸæ™šå¹´å£è¿°ä¸€ä¹¦ã€Šè¿™ä¸ªä¸–ç•Œä¼šå¥½å—ã€‹ï¼Œæˆ‘çš„å›ç­”æ˜¯ï¼šä¼šï¼åªä¸è¿‡éœ€è¦ä¸æ–­åœ°åæ§½ï¼ï¼ï¼&lt;/p&gt;
&lt;h4&gt;æ¼”è®²å³æ‹›è˜&lt;/h4&gt;
&lt;p&gt;è¿™ä¸€ç‚¹æœ¬æ¥æ˜¯æ²¡ä»€ä¹ˆå¥½åæ§½çš„ã€‚å„ç§å¤§å¤§å°å°æŠ€æœ¯ä¼šè®®å‡ ä¹æ¯ä¸ªæ¼”è®²éƒ½ä¼šåœ¨æœ€åé™„å¸¦ä¸€å¥â€œæˆ‘ä»¬åœ¨æ‹›äººï¼â€ï¼Œä¸ºäº†å¢å¤§å¸å¼•åŠ›ï¼Œè¿˜åœ¨æ¼”è®²ä¸­æœ‰æ„æ— æ„åœ°è¯´æ˜å…¬å¸çš„å¾…é‡å¦‚ä½•å¦‚ä½•ã€ç¾å¥³å¦‚ä½•å¦‚ä½•ã€‚ä¸è¿‡ï¼Œæˆ‘å€’æ€€ç–‘è¿™ç§æ‹›è˜å½¢å¼åˆ°åº•èƒ½æˆåŠŸæ‹›åˆ°å‡ ä¸ªç‰›äººå‘¢ï¼Ÿç‰›äººéƒ½æ˜¯ä¸»åŠ¨è§„åˆ’è‡ªå·±çš„äººç”Ÿçš„ï¼Œæƒ³å»ä½ ä»¬å…¬å¸çš„ï¼Œå³ä½¿ä½ ä¸è¯´æ‹›äººï¼Œä»–ä»¬ä¹Ÿä¼šä¸»åŠ¨è”ç³»ä½ ï¼Œä¸æƒ³å»çš„ï¼Œè¯´äº†ä¹Ÿç­‰äºæ²¡è¯´ã€‚ç‰¹åˆ«æ˜¯é‚£äº›æ¼”è®²å†…å®¹æˆ–æ¼”è®²æ•ˆæœä¸€å¨å±çš„ï¼Œä½ è¿˜æƒ³å•¥å‘¢ã€‚æ‰€ä»¥ï¼Œå¯¹äºæŠ€æœ¯ä¼šè®®ï¼Œå¦‚æœè¦æ¼”è®²ï¼Œå°±å¥½å¥½å‡†å¤‡ç‚¹å¹²è´§ï¼Œå¥½å¥½åˆ†äº«ï¼Œè¿™æ ·æ‰èƒ½ç»™æ‹›è˜å¢åŠ å¸å¼•åŠ›ã€‚&lt;/p&gt;
&lt;h4&gt;æ¼”è®²å³äº§å“æ¨é”€&lt;/h4&gt;
&lt;p&gt;è¿™ç§æ¼”è®²ï¼Œæˆ‘çœŸæƒ³å°†å®ƒåæ§½è‡³æ­»ï¼ä¸€ç‚¹èŠ‚æ“éƒ½ä¸è¦ï¼åšç€è„¸çš®æµªè´¹å¤§å®¶çš„æ—¶é—´ã€‚ä½œä¸ºæŠ€æœ¯äººåº”è¯¥æ˜¯æœ€è®¨åŒè¿™ç§ï¼Œäº§å“æ¨é”€åè€Œé€‚å¾—å…¶åã€‚ï¼ˆå¥½å§ï¼Œä¹Ÿè®¸è¿™åªæ˜¯æˆ‘çš„æƒ³æ³•ï¼‰&lt;/p&gt;
&lt;h4&gt;æ¼”è®²å³ä¸çŸ¥æ‰€äº‘&lt;/h4&gt;
&lt;p&gt;è¿™ç§æ¼”è®²ï¼Œæ€ä¹ˆè¯´å‘¢... ç‰¹åˆ«æ˜¯å¦‚æœæ¼”è®²äººæ˜¯ä¸ªé«˜çº§å·¥ç¨‹å¸ˆä¹‹ç±»çš„ï¼Œå°±çœŸå¿ƒå¯¹ä¸èµ·å…¬å¸ã€å¯¹ä¸èµ·äººæ°‘äº†ã€‚å¦‚æœå“†å“†å—¦å—¦ã€è¯ä¸è¾¾æ„ã€è¿ä¸ªå®Œæ•´çš„è¯éƒ½è¯´ä¸æ¸…ã€ä¸çŸ¥æ‰€äº‘ï¼Œé€šå¸¸å¹¶ä¸æ˜¯ä½ æ°´å¹³ä¸è¡Œï¼Œåªèƒ½è¯´æ˜ä½ æ²¡æœ‰å¥½å¥½å‡†å¤‡ã€‚ä½œä¸ºé«˜çº§å·¥ç¨‹å¸ˆï¼Œæˆ–è€…æœ‰ä¸ªtitleçš„äººï¼Œç´§å¼ ã€å¿ƒç†ç´ è´¨ä¸å¥½ï¼Œä¸åº”è¯¥æˆä¸ºä¸€ä¸ªç³Ÿç³•æ¼”è®²çš„ç†ç”±ã€‚ä½ çš„ä¸€ä¸ªç³Ÿç³•æ¼”è®²å¯¹å…¬å¸å¸¦æ¥çš„è´Ÿé¢å½±å“æ˜¯å¾ˆå¤§çš„ï¼Œæ›´åˆ«æƒ³åœ¨æ¼”è®²çš„æœ€åè¯´â€œæˆ‘ä»¬æ‹›äººï¼â€ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥å¦‚ä½•å‡†å¤‡ä¸€æ¬¡æ¼”è®²ï¼Ÿæˆ‘çš„æƒ³æ³•æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªåˆ†äº«è‡ªå·±æœ‰å¿ƒå¾—çš„ï¼šå¦‚åšè¿‡çš„äº‹æƒ…æˆ–è€…è®¤çœŸç ”ç©¶è¿‡çš„æŠ€æœ¯ï¼Œä¸æ˜¯çœŸæ­£æ‡‚çš„ä¸œè¥¿å°±ä¸è¦æï¼Œä¸è¦ç»™è‡ªå·±æŒ–å‘&lt;/li&gt;
&lt;li&gt;åˆ¶ä½œå¹»ç¯ç‰‡&lt;ul&gt;
&lt;li&gt;å…ˆå†™å¤§çº²ï¼Œåˆ’ä¸€ä¸ªæ¼”è®²å†…å®¹çš„èŒƒå›´&lt;/li&gt;
&lt;li&gt;æ ¹æ®å¤§çº²ï¼Œé€ä¸ªéƒ¨åˆ†å……å®å†…å®¹&lt;/li&gt;
&lt;li&gt;æœ€åæ ¹æ®å™è¿°é€»è¾‘ï¼ˆä¸€ä¸ªæ¯”è¾ƒé€šç”¨çš„å™è¿°é€»è¾‘æ˜¯ï¼šæå‡ºé—®é¢˜-&amp;gt;åˆ†æé—®é¢˜-&amp;gt;è§£å†³é—®é¢˜çš„æ–¹æ¡ˆï¼‰è°ƒæ•´å†…å®¹çš„ä½ç½®ï¼Œç›®çš„æ˜¯æ–¹ä¾¿å¬ä¼—å¿«é€Ÿç†è§£&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨æ­£å¼æ¼”è®²å‰å¯¹ç€å¹»ç¯ç‰‡æ¼”ç»ƒå‡ éï¼Œç»„ç»‡ä¸€ä¸‹è¡¨è¿°çš„è¯­è¨€ï¼Œç‰¹åˆ«æ˜¯å¹»ç¯ç‰‡åˆ‡æ¢æ—¶çš„è¯­è¨€è¡¨è¿°ï¼Œåœ¨å¤§è„‘ä¸­å¤§è‡´è®°ä½æ•´ä¸ªå¹»ç¯ç‰‡çš„èµ·æ‰¿è½¬åˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¥½å§ï¼Œè™½ç„¶æˆ‘è¯´å¾—è²Œä¼¼æŒºæœ‰é“ç†ï¼Œä½†ä¹Ÿå¤šå°‘ç»éªŒï¼Œæœ‰æ—¶é—´å‡†å¤‡è¯»è¯»ã€Šæ¼”è¯´ä¹‹ç¦…ï¼šèŒåœºå¿…çŸ¥çš„å¹»ç¯ç‰‡ç§˜æŠ€ã€‹ä¸€ä¹¦ã€‚&lt;/p&gt;
&lt;h2&gt;æ„Ÿæƒ³&lt;/h2&gt;
&lt;p&gt;æŠ€æœ¯è¿™ä¸œè¥¿ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å›´ç€ä¸šåŠ¡è½¬ï¼ˆä¸ç®¡æ˜¯æŠ€æœ¯é€‰å‹ï¼Œè¿˜æ˜¯æ·±å…¥å®è·µï¼‰ï¼Œå„å®¶çš„ä¸šåŠ¡ä¸åŒï¼Œæ‰€ä»¥æœ‰å„è‡ªçš„æŠ€æœ¯æ–¹æ¡ˆï¼Œä½†é“é“ä¹Ÿå°±é‚£äº›ï¼Œæ²¡å¤šå°‘ç¥å¥‡ä¹‹å¤„ã€‚å¯¹äºæŠ€æœ¯äººæ¥è¯´ï¼Œåº”è¯¥ç´§æŠ“ä¸šåŠ¡æ·±ç ”æŠ€æœ¯ï¼Œæ‰èƒ½å‡ºå¥½æˆæœï¼Œæ¶¨ç‰›é€¼ç»éªŒã€‚&lt;/p&gt;
&lt;p&gt;æ•…æ­¤ï¼ŒæŠ€æœ¯ä¼šè®®ä¹Ÿæ²¡å¿…è¦é‚£ä¹ˆç§¯æå‚åŠ ï¼Œä¸ªäººè§‰å¾—å¤§å‹æŠ€æœ¯ä¼šè®®å¯¹äºå„ä¸­å°å…¬å¸çš„ä¸šåŠ¡äº¤æµåŠå®£ä¼ æ¯”è¾ƒæœ‰ç”¨ï¼Œå¯¹äºæŠ€æœ¯äº¤æµçš„ä½œç”¨å…¶å®æ¯”è¾ƒæœ‰é™ã€‚éæŠ€æœ¯ç»†èŠ‚çš„ä¸œè¥¿è¦ä¹ˆæ²¡å¿…è¦çŸ¥é“ï¼Œè¦ä¹ˆå·²çŸ¥é“ï¼›æŠ€æœ¯ç»†èŠ‚ä¹Ÿæ˜¯å¦‚æ­¤ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡å¯¹äºå¹´è½»çš„æŠ€æœ¯äººæ¥è¯´ï¼Œå¯ä»¥ä»¥è®²å¸ˆçš„èº«ä»½å¤šå‚åŠ æŠ€æœ¯ä¼šè®®ï¼Œå¯èƒ½å¯¹è‡ªå·±çš„å¸®åŠ©æ›´å¤§ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href="http://2014.qconshanghai.com/slides.html"&gt;QConä¸Šæµ·2014å¤§ä¼š å¹»ç¯ç‰‡ä¸‹è½½&lt;/a&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>ä¸­å¿ƒåŒ–æ—¥å¿—è®°å½•æ¶æ„ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2014/10/14/centralized-logging-architecture/" rel="alternate"></link><published>2014-10-14T00:00:00+08:00</published><updated>2014-10-14T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-10-14:/2014/10/14/centralized-logging-architecture/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://jasonwilder.com/blog/2013/07/16/centralized-logging-architecture/"&gt;Centralized Logging Architecture&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨&lt;a href="http://jasonwilder.com/blog/2012/01/03/centralized-logging/"&gt;ä¸­å¿ƒåŒ–æ—¥å¿—è®°å½•&lt;/a&gt;ä¸€æ–‡ä¸­ï¼Œæˆ‘ä»‹ç»äº†å‡ ä¸ªå·¥å…·ï¼Œç”¨äºè§£å†³ä¸­å¿ƒåŒ–æ—¥å¿—è®°å½•çš„é—®é¢˜ã€‚ä½†è¿™äº›å·¥å…·ä¸€èˆ¬ä»…èƒ½ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://jasonwilder.com/blog/2013/07/16/centralized-logging-architecture/"&gt;Centralized Logging Architecture&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨&lt;a href="http://jasonwilder.com/blog/2012/01/03/centralized-logging/"&gt;ä¸­å¿ƒåŒ–æ—¥å¿—è®°å½•&lt;/a&gt;ä¸€æ–‡ä¸­ï¼Œæˆ‘ä»‹ç»äº†å‡ ä¸ªå·¥å…·ï¼Œç”¨äºè§£å†³ä¸­å¿ƒåŒ–æ—¥å¿—è®°å½•çš„é—®é¢˜ã€‚ä½†è¿™äº›å·¥å…·ä¸€èˆ¬ä»…èƒ½è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€éƒ¨åˆ†ï¼Œ
è¿™æ„å‘³ç€éœ€è¦ç»¼åˆä½¿ç”¨å‡ ä¸ªå·¥å…·æ¥æ„å»ºä¸€ä¸ªå¥å£®çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;ä½ éœ€è¦è§£å†³é—®é¢˜çš„è¿™å‡ ä¸ªä¸»è¦æ–¹é¢ï¼š&lt;em&gt;æ”¶é›†&lt;/em&gt;ã€&lt;em&gt;ä¼ è¾“&lt;/em&gt;ã€&lt;em&gt;å­˜å‚¨&lt;/em&gt;ã€ä»¥åŠ&lt;em&gt;åˆ†æ&lt;/em&gt;ã€‚æŸäº›ç‰¹æ®Šçš„åº”ç”¨åœºæ™¯ä¸‹ï¼Œä¹Ÿè®¸è¿˜å¸Œæœ›å…·å¤‡&lt;em&gt;å‘Šè­¦&lt;/em&gt;çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;h4&gt;æ”¶é›†&lt;/h4&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºä»¥ä¸åŒçš„æ–¹å¼äº§ç”Ÿæ—¥å¿—ï¼Œä¸€äº›æ˜¯é€šè¿‡syslogï¼Œå…¶ä»–ä¸€äº›æ˜¯ç›´æ¥å†™åˆ°æ–‡ä»¶ã€‚è€ƒè™‘ä¸€ä¸ªè¿è¡Œåœ¨linuxä¸»æœºä¸Šçš„å…¸å‹webåº”ç”¨ï¼Œåœ¨&lt;code&gt;/var/log&lt;/code&gt;ç›®å½•ä¼šæœ‰åå‡ ä¸ªç”šè‡³æ›´å¤šçš„æ—¥å¿—æ–‡ä»¶ï¼Œ
å¦‚æœä¸€äº›åº”ç”¨æŒ‡å®šæ—¥å¿—å­˜æ”¾åœ¨HOMEç›®å½•æˆ–è€…å…¶ä»–ä½ç½®ï¼Œåˆ™è¿™äº›ç›®å½•ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æ­£åœ¨è¿è¥ä¸€ä¸ªåŸºäºwebçš„åº”ç”¨ï¼Œå¼€å‘äººå‘˜æˆ–è€…è¿ç»´åŒäº‹éœ€è¦å¿«é€Ÿåœ°è®¿é—®æ—¥å¿—æ•°æ®ä»¥ä¾¿å¯¹çº¿ä¸Šé—®é¢˜è¿›è¡Œæ’é”™ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿè¿‘ä¹å®æ—¶ç›‘æ§æ—¥å¿—æ–‡ä»¶å˜åŒ–çš„æ–¹æ¡ˆã€‚
å¦‚æœä½¿ç”¨åŸºäºæ—¥å¿—æ‹·è´çš„æ–¹å¼ --- æ–‡ä»¶ä»¥å›ºå®šçš„æ—¶é—´é—´éš”æ‹·è´åˆ°ä¸€å°ä¸­å¿ƒæœåŠ¡å™¨ä¸Šï¼Œé‚£ä¹ˆä»…èƒ½æ£€æŸ¥ä¸å¤åˆ¶æ“ä½œé¢‘ç‡ç›¸åŒçš„æ–°å¢æ—¥å¿—æ•°æ®ã€‚å½“ç«™ç‚¹å·²ç»æŒ‚æ‰ï¼Œè€Œä½ æ­£åœ¨ç­‰å¾…ç›¸å…³æ—¥å¿—æ•°æ®çš„å¤åˆ¶ï¼Œ
é‚£ä¹ˆä¸€åˆ†é’Ÿä¸€æ¬¡çš„ rsync cron ä»»åŠ¡ä¹Ÿè®¸è¿˜ä¸å¤Ÿå¿«ã€‚&lt;/p&gt;
&lt;p&gt;ä»å¦å¤–ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œå¦‚æœéœ€è¦åˆ†æçº¿ä¸‹æ—¥å¿—æ•°æ®ï¼Œè®¡ç®—å„ç§åº¦é‡æŒ‡æ ‡ï¼Œæˆ–è€…å…¶ä»–æ‰¹é‡çš„å·¥ä½œï¼Œæ–‡ä»¶å¤åˆ¶çš„ç­–ç•¥ä¹Ÿè®¸æ­£åˆé€‚ã€‚&lt;/p&gt;
&lt;h4&gt;ä¼ è¾“&lt;/h4&gt;
&lt;p&gt;æ—¥å¿—æ•°æ®ä¼šåœ¨å¤šä¸ªä¸»æœºä¸Šå¿«é€Ÿåœ°ç´¯ç§¯èµ·æ¥ã€‚ä¸ºäº†é«˜æ•ˆä¼ è¾“æ—¥å¿—æ•°æ®åˆ°ä¸­å¿ƒä½ç½®ï¼Œå¹¶ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/facebookarchive/scribe"&gt;Scribe&lt;/a&gt;ã€&lt;a href="http://flume.apache.org/"&gt;Flume&lt;/a&gt;ã€&lt;a href="https://github.com/mozilla-services/heka"&gt;Heka&lt;/a&gt;ã€&lt;a href="http://logstash.net/"&gt;Logstash&lt;/a&gt;ã€
&lt;a href="http://chukwa.apache.org/"&gt;Chukwa&lt;/a&gt;ã€&lt;a href="http://www.fluentd.org/"&gt;fluentd&lt;/a&gt;ã€&lt;a href="https://github.com/bitly/nsq"&gt;nsq&lt;/a&gt;ã€&lt;a href="http://kafka.apache.org/"&gt;Kafka&lt;/a&gt; è¿™äº›æ¡†æ¶æ­£æ˜¯è¢«è®¾è®¡ç”¨äº
ä»ä¸€ä¸ªä¸»æœºåˆ°å¦ä¸€ä¸ªä¸»æœºå¯é åœ°ä¼ è¾“å¤§é‡æ•°æ®ã€‚è™½ç„¶å®ƒä»¬éƒ½æ˜¯ç”¨äºè§£å†³æ•°æ®ä¼ è¾“é—®é¢˜ï¼Œä½†åšæ³•å´ä¸ç›¸åŒã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œ&lt;a href="https://github.com/facebookarchive/scribe"&gt;Scribe&lt;/a&gt;ã€&lt;a href="https://github.com/bitly/nsq"&gt;nsq&lt;/a&gt; ä»¥åŠ &lt;a href="http://kafka.apache.org/"&gt;Kafka&lt;/a&gt;ï¼Œè¦æ±‚å®¢æˆ·ç«¯é€šè¿‡å®ƒä»¬çš„APIè®°å½•æ—¥å¿—æ•°æ®ï¼Œ
é€šå¸¸ï¼Œåº”ç”¨ç¨‹åºä»£ç ä¼šç¼–å†™æˆç›´æ¥å°†æ—¥å¿—å†™åˆ°è¿™äº›å·¥å…·ä¸­ï¼Œè¿™æ ·èƒ½å¤Ÿå‡å°å»¶è¿Ÿï¼Œæé«˜å¯é æ€§ã€‚å¦‚æœä½ éœ€è¦çš„æ˜¯ä¸­å¿ƒåŒ–çš„æ—¥å¿—æ–‡ä»¶æ•°æ®ï¼Œé‚£ä¹ˆå°±éœ€è¦è·Ÿè¸ª(tail)æ—¥å¿—æ–‡ä»¶å˜æ›´ï¼Œ
ç„¶åå°†æ—¥å¿—æ•°æ®é€šè¿‡è¿™äº›å·¥å…·å„è‡ªçš„APIæµå¼å†™å…¥ã€‚å¦‚æœäº§ç”Ÿéœ€è¦æ”¶é›†çš„æ—¥å¿—æ•°æ®çš„åº”ç”¨ç”±ä½ æ§åˆ¶ç€ï¼Œä¸€åˆ‡ä¼šé«˜æ•ˆå¾—å¤šã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://logstash.net/"&gt;Logstash&lt;/a&gt;ã€&lt;a href="https://github.com/mozilla-services/heka"&gt;Heka&lt;/a&gt;ã€&lt;a href="http://www.fluentd.org/"&gt;fluentd&lt;/a&gt; ä»¥åŠ &lt;a href="http://flume.apache.org/"&gt;Flume&lt;/a&gt; åˆ™æä¾›è®¸å¤šè¾“å…¥æºæ–¹å¼ï¼Œ
æ”¯æŒæœ¬æœºè·Ÿè¸ª(tailing)æ–‡ä»¶å˜åŒ–å¹¶å¯é åœ°ä¼ è¾“æ•°æ®ã€‚å¯¹äºæ›´å¹¿æ³›çš„æ—¥å¿—æ”¶é›†æ¥è¯´ï¼Œæ˜¯ä¸ªæ›´åˆé€‚çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ &lt;a href="http://rsyslog.com/"&gt;rsyslog&lt;/a&gt;å’Œ&lt;a href="http://www.balabit.com/network-security/syslog-ng"&gt;Syslog-ng&lt;/a&gt; é€šå¸¸è¢«è®¤ä¸ºæ˜¯äº‹å®ä¸Šçš„æ—¥å¿—æ”¶é›†å™¨ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½ä½¿ç”¨ syslogã€‚&lt;/p&gt;
&lt;h4&gt;å­˜å‚¨&lt;/h4&gt;
&lt;p&gt;ç°åœ¨å¯ä»¥ä¼ è¾“æ—¥å¿—æ•°æ®äº†ï¼Œä½†æ•°æ®å­˜æ”¾åœ¨å“ªå‘¢ï¼Ÿä¸­å¿ƒåŒ–çš„å­˜å‚¨ç³»ç»Ÿéœ€è¦èƒ½å¤Ÿå¤„ç†æ•°æ®éšç€æ—¶é—´çš„å¢é•¿ã€‚æ¯å¤©éƒ½ä¼šå¢åŠ ä¸€å®šé‡çš„æ•°æ®å­˜å‚¨ï¼Œæ•°æ®é‡å’Œäº§ç”Ÿæ—¥å¿—æ•°æ®çš„ä¸»æœºå’Œè¿›ç¨‹æ•°é‡ç›¸å…³ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•å­˜å‚¨ä¾èµ–äºä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;éœ€è¦å­˜å‚¨å¤šé•¿æ—¶é—´&lt;/em&gt; --- å¦‚æœæ—¥å¿—æ˜¯ç”¨äºé•¿æœŸå½’æ¡£çš„ç›®çš„ï¼Œå¹¶ä¸”ä¸éœ€è¦å³æ—¶åˆ†æï¼Œé‚£ä¹ˆ &lt;a href="http://aws.amazon.com/cn/s3/"&gt;S3&lt;/a&gt;ã€&lt;a href="http://aws.amazon.com/cn/glacier/"&gt;AWS Glacier&lt;/a&gt; æˆ–ç£å¸¦å¤‡ä»½
    ä¹Ÿè®¸æ˜¯åˆé€‚çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒä»¬å¯¹äºå¤§é‡æ•°æ®çš„å­˜å‚¨ç›¸å¯¹æ¯”è¾ƒå»‰ä»·ã€‚å¦‚æœä»…éœ€è¦å‡ å¤©æˆ–è€…å‡ ä¸ªæœˆçš„æ—¥å¿—ï¼Œå°†æ•°æ®å­˜å‚¨åˆ°æŸç§åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œ
    å¦‚ï¼š&lt;a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html"&gt;HDFS&lt;/a&gt;ã€&lt;a href="http://cassandra.apache.org/"&gt;Cassandara&lt;/a&gt;ã€
    &lt;a href="http://www.mongodb.org/"&gt;MongoDB&lt;/a&gt; æˆ– &lt;a href="http://elasticsearch.org/"&gt;ElasticSearch&lt;/a&gt;ä¹Ÿæ˜¯ä¸é”™çš„ã€‚å¦‚æœä»…éœ€è¦ä¿ç•™å‡ ä¸ªå°æ—¶çš„æ•°æ®ç”¨äºå®æ—¶åˆ†æï¼Œä½¿ç”¨&lt;a href="http://redis.io/"&gt;Redis&lt;/a&gt;ä¹Ÿå¯ä»¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;åº”ç”¨åœºæ™¯çš„æ•°æ®é‡&lt;/em&gt; --- Googleä¸€å¤©çš„æ—¥å¿—æ•°æ®é‡è‚¯å®šè¿œå¤§äºACMEè¿è¾“ç‰©èµ„å…¬å¸ï¼ˆè¯‘æ³¨ï¼šåŸæ–‡æ˜¯ACME Fishing Suppliesï¼Œæ­£ç¡®çš„åº”è¯¥æ˜¯ACME Shipping Suppliesï¼‰ä¸€å¤©çš„æ—¥å¿—ã€‚
    ä½ é€‰æ‹©çš„å­˜å‚¨ç³»ç»Ÿå½“æ•°æ®é‡å¢å¤§æ—¶åº”è¯¥å…è®¸æ°´å¹³æ‰©å±•ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;éœ€è¦å¦‚ä½•è®¿é—®æ—¥å¿—&lt;/em&gt; --- æŸäº›å­˜å‚¨ç³»ç»Ÿæ˜¯é€‚äºå®æ—¶ç”šè‡³æ‰¹é‡åˆ†æçš„ã€‚AWS Glacier æˆ–ç£ç›˜å¤‡ä»½åŠ è½½ä¸€ä¸ªæ–‡ä»¶å°±éœ€è¦èŠ±è´¹è‹¥å¹²å°æ—¶ï¼Œå¦‚æœéœ€è¦è®¿é—®æ—¥å¿—è¿›è¡Œäº§å“æ’é”™ï¼Œè¿™å°±ä¸å¥½ä½¿äº†ã€‚
    å¦‚æœè®¡åˆ’è¿›è¡Œæ›´å¤šçš„äº¤äº’å¼æ•°æ®åˆ†æï¼Œå°†æ—¥å¿—æ•°æ®å­˜å‚¨åˆ° &lt;a href="http://elasticsearch.org/"&gt;ElasticSearch&lt;/a&gt; æˆ– &lt;a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html"&gt;HDFS&lt;/a&gt;
    è®©ä½ èƒ½å¤Ÿæ›´åŠ æœ‰æ•ˆåœ°ä½¿ç”¨åŸå§‹æ•°æ®ã€‚æŸäº›æ—¥å¿—æ•°æ®éå¸¸åºå¤§ï¼Œå°±åªèƒ½ä½¿ç”¨é¢å‘æ‰¹é‡å¤„ç†çš„æ¡†æ¶è¿›è¡Œåˆ†æäº†ã€‚è¿™ç§æƒ…å†µä¸‹äº‹å®ä¸Šçš„æ ‡å‡†æ–¹æ¡ˆæ˜¯ &lt;a href="http://hadoop.apache.org/"&gt;Apache Hadoop&lt;/a&gt; 
    é…åˆ &lt;a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html"&gt;HDFS&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;åˆ†æ&lt;/h4&gt;
&lt;p&gt;ä¸€æ—¦æ—¥å¿—å·²ç»å­˜åˆ°ä¸€ä¸ªä¸­å¿ƒåŒ–å­˜å‚¨å¹³å°ï¼Œå°±éœ€è¦ä¸€ç§æ–¹å¼æ¥åˆ†ææ—¥å¿—ã€‚æœ€å¸¸è§çš„æ–¹å¼æ˜¯å®šæœŸæ‰§è¡Œä¸€ä¸ªé¢å‘æ‰¹é‡å¤„ç†çš„è¿›ç¨‹ã€‚å¦‚æœæ—¥å¿—æ˜¯å­˜å‚¨åœ¨ &lt;a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html"&gt;HDFS&lt;/a&gt; ä¸­ï¼Œ
é‚£ä¹ˆ &lt;a href="http://hive.apache.org/"&gt;Hive&lt;/a&gt; æˆ– &lt;a href="http://pig.apache.org/"&gt;Pig&lt;/a&gt; ç›¸æ¯”ç¼–å†™åŸç”ŸMapReduceä»»åŠ¡ï¼Œæ›´æ˜“äºå¸®åŠ©åˆ†ææ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœéœ€è¦ä¸€ä¸ªç”¨äºåˆ†æçš„ç”¨æˆ·ç•Œé¢ï¼Œå¯ä»¥å°†è§£æè¿‡çš„æ—¥å¿—æ•°æ®å­˜åˆ° &lt;a href="http://elasticsearch.org/"&gt;ElasticSearch&lt;/a&gt;ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªå‰ç«¯æ–¹æ¡ˆï¼Œå¦‚ &lt;a href="http://kibana.org/"&gt;Kibana&lt;/a&gt; æˆ–
&lt;a href="http://www.graylog2.org/"&gt;Graylog2&lt;/a&gt;æ¥æŸ¥è¯¢æ£€æŸ¥æ•°æ®ã€‚æ—¥å¿—è§£æå¯ä»¥é€šè¿‡ &lt;a href="http://logstash.net/"&gt;Logstash&lt;/a&gt; æˆ– &lt;a href="https://github.com/mozilla-services/heka"&gt;Heka&lt;/a&gt;æ¥å¤„ç†ï¼Œ
åº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥ç›´æ¥ä»¥JSONæ ¼å¼è®°å½•æ—¥å¿—ã€‚è¿™ç§æ–¹å¼å…è®¸æ›´åŠ å®æ—¶ã€äº¤äº’å¼çš„æ•°æ®è·å–ï¼Œä½†ä¸é€‚äºå¤§æ‰¹é‡çš„å¤„ç†ã€‚&lt;/p&gt;
&lt;h4&gt;å‘Šè­¦&lt;/h4&gt;
&lt;p&gt;æœ€åä¸€ä¸ªç»„ä»¶ï¼Œæœ‰æ—¶æ˜¯å¯ä»¥é”¦ä¸Šæ·»èŠ±çš„ --- é’ˆå¯¹æ—¥å¿—æ¨¡å¼æˆ–åŸºäºæ—¥å¿—æ•°æ®è®¡ç®—å‡ºæ¥çš„åº¦é‡æŒ‡æ ‡è¿›è¡Œå‘Šè­¦ã€‚ä¸¤ç§å¸¸è§ç”¨æ³•æ˜¯ï¼šé”™è¯¯æŠ¥å‘Šå’Œç›‘æ§ã€‚&lt;/p&gt;
&lt;p&gt;å¤šæ•°æ—¥å¿—æ•°æ®æ˜¯æ— å…³ç´§è¦çš„ï¼Œä½†é”™è¯¯æ—¥å¿—åˆ™é€šå¸¸è¯´æ˜å­˜åœ¨é—®é¢˜ã€‚è®©æ—¥å¿—ç³»ç»Ÿåœ¨é—®é¢˜å‘ç”Ÿæ—¶ç»™ç›¸å…³äººå‘˜å‘é€é‚®ä»¶æˆ–é€šçŸ¥ï¼Œç›¸æ¯”è®©æŸä¸ªäººé‡å¤åœ°ç›‘è§†äº‹ä»¶ï¼Œè¦é«˜æ•ˆå¾—å¤šã€‚
æœ‰å‡ ç§æœåŠ¡ç»„ä»¶å¯å•ç‹¬æä¾›åº”ç”¨é”™è¯¯æ—¥å¿—è®°å½•çš„åŠŸèƒ½ï¼Œå¦‚ &lt;a href="https://www.getsentry.com/"&gt;Sentry&lt;/a&gt; æˆ– &lt;a href="https://www.honeybadger.io/"&gt;HoneyBadger&lt;/a&gt; ã€‚è¿™äº›æœåŠ¡ä¹Ÿå¯ä»¥èšåˆé‡å¤çš„å¼‚å¸¸ï¼Œ
æ–¹ä¾¿ä½ è·çŸ¥é”™è¯¯å‘ç”Ÿçš„é¢‘ç‡æ˜¯æ€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸ªä½¿ç”¨æ¡ˆä¾‹æ˜¯ç›‘æ§ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æœ‰ä¸Šç™¾ä¸ªwebæœåŠ¡å™¨ï¼Œæƒ³çŸ¥é“å®ƒä»¬æ˜¯å¦å¼€å§‹è¿”å›500å“åº”çŠ¶æ€ç ã€‚å¦‚æœå¯ä»¥è§£æwebæ—¥å¿—æ–‡ä»¶ï¼Œæ ¹æ®çŠ¶æ€ç è®°å½•ä¸€ä¸ªåº¦é‡æŒ‡æ ‡ï¼Œ
å½“åº¦é‡æŒ‡æ ‡è¶…è¿‡äº†ä¸€ä¸ªç‰¹å®šçš„é˜ˆå€¼å°±å¯ä»¥è§¦å‘å‘Šè­¦ã€‚ &lt;a href="http://riemann.io/"&gt;Riemann&lt;/a&gt; å°±æ˜¯è¢«è®¾è®¡ç”¨äºæ£€æµ‹è¿™ç§åœºæ™¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¸Œæœ›æœ¬æ–‡èƒ½æä¾›ä¸€ä¸ªåŸºæœ¬æ¨¡å‹å¸®åŠ©ä½ é’ˆå¯¹ä½ çš„åº”ç”¨ç¯å¢ƒè®¾è®¡ä¸€ä¸ªä¸­å¿ƒåŒ–æ—¥å¿—è®°å½•æ–¹æ¡ˆã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="æ—¥å¿—"></category><category term="æ¶æ„"></category></entry><entry><title>æµè¡ŒPHPé¡¹ç›®çš„phpmetricsåˆ†æï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2014/09/22/phpmetrics-of-popular-php-projects/" rel="alternate"></link><published>2014-09-22T00:00:00+08:00</published><updated>2014-09-22T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-09-22:/2014/09/22/phpmetrics-of-popular-php-projects/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://peteraba.com/blog/phpmetrics-of-popular-projects/"&gt;phpmetrics of popular php projects&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹å‰æˆ‘å¶ç„¶å‘ç°ä¸€ä¸ªåä¸º&lt;a href="http://www.phpmetrics.org/"&gt;phpmetrics&lt;/a&gt;çš„æ–°å·¥å…·ï¼Œå¯ç”¨äºè®¡ç®—åŠå±•ç¤ºphpçš„åº¦é‡æŒ‡æ ‡ã€‚æˆ‘å½“æ—¶ç«‹é©¬å–œæ¬¢ä¸Šäº†è¿™ä¸ªå·¥å…·ï¼Œå¹¶å†³ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://peteraba.com/blog/phpmetrics-of-popular-projects/"&gt;phpmetrics of popular php projects&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¹‹å‰æˆ‘å¶ç„¶å‘ç°ä¸€ä¸ªåä¸º&lt;a href="http://www.phpmetrics.org/"&gt;phpmetrics&lt;/a&gt;çš„æ–°å·¥å…·ï¼Œå¯ç”¨äºè®¡ç®—åŠå±•ç¤ºphpçš„åº¦é‡æŒ‡æ ‡ã€‚æˆ‘å½“æ—¶ç«‹é©¬å–œæ¬¢ä¸Šäº†è¿™ä¸ªå·¥å…·ï¼Œå¹¶å†³å®šç”¨å®ƒåˆ†ææˆ‘è®¤ä¸ºé‡è¦çš„ä¸€äº›phpé¡¹ç›®ã€‚
æˆ‘çŸ¥é“è¿™ä¸ªé¡¹ç›®åˆ—è¡¨è¿˜è¿œè¿œä¸å¤Ÿå®Œå–„ï¼Œä½†åº”è¯¥ä»ç„¶å€¼å¾—ä¸€çœ‹ã€‚æˆ‘ç‰¹åˆ«å–œæ¬¢å…¶ä¸­çš„â€œå¯ç»´æŠ¤æ€§â€æŠ¥å‘Šï¼Œæˆ‘å‘ç°è§†è§‰ä¸Šé‚£äº›çº¢è‰²çš„æ–‘ç‚¹å°±å’Œä¸‘é™‹çš„ä»£ç ä¸€æ ·ä»¤äººåŒæ¶ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå·¥å…·è²Œä¼¼è¿˜æœ‰ç‚¹å°bugï¼Œæˆ‘ä¼šå°½åŠ›å°½å¿«ä¿®å¤è¿™ä¸ªå·¥å…·é¡¹ç›®çš„è¿™äº›å°é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸€äº›é‡è¦çš„è¯´æ˜&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›®å‰æˆ‘è¿˜æ— æ³•å¾—åˆ°Cakephpå’ŒTypo3çš„åˆ†ææŠ¥å‘Šï¼Œä¹‹åæˆ‘ä¼šå°½å¿«è°ƒæŸ¥ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘æ˜¯åœ¨å®Œæ•´çš„ä»£ç åº“æˆ–ä¸‹è½½çš„æºç åŒ…ä¸Šæ‰§è¡Œè¿™ä¸ªå·¥å…·çš„ï¼Œè¿™æ„å‘³ç€æŸäº›æƒ…å†µä¸‹è¿˜åˆ†æäº†é¡¹ç›®çš„å¤–éƒ¨ä¾èµ–åº“ã€‚ä¹‹åæˆ‘å¯èƒ½ä¼šè°ƒæ•´ï¼Œä½†ç›®å‰ä¸åœ¨è®¡åˆ’ä¹‹å†…ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰äº›é¡¹ç›®åŒ…å«å¾ˆå¤šä»£ç åº“ï¼Œæ‰€ä»¥æˆ‘æ— æ³•ç¡®ä¿æµ‹è¯•çš„éƒ½æ˜¯æ­£ç¡®çš„é‚£ä¸ªä»£ç åº“ã€‚&lt;em&gt;Joomla&lt;/em&gt;å°¤å…¶å¯èƒ½è¿™æ ·ã€‚&lt;/li&gt;
&lt;li&gt;æŸäº›é¡¹ç›®å¹¶ééå¸¸çŸ¥åï¼Œä½†åœ¨githubä¸Šå‘ˆç°å…³æ³¨åº¦ä¸Šå‡è¶‹åŠ¿ã€‚&lt;/li&gt;
&lt;li&gt;dm-mailerè¿™ä¸ªé¡¹ç›®æ— è¶³è½»é‡ï¼Œåªæ˜¯æˆ‘æœ€æ–°çš„ä¸ªäººå…´è¶£é¡¹ç›®ã€‚æˆ‘å°†å®ƒä¸phpmetricsä¸€èµ·å½’åˆ°Backfireä¸€èŠ‚ã€‚&lt;/li&gt;
&lt;li&gt;æ³¨æ„ï¼šphp-yafå’Œphalconéƒ½æ˜¯éå¸¸æœ‰æ„æ€çš„phpæ¡†æ¶ï¼Œä½†å¤šæ•°ä»£ç æ˜¯Cå®ç°çš„ï¼Œå› æ­¤æ²¡æœ‰åŒ…å«è¿›æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;è¯´æ˜ï¼šé˜…è¯»è¯¥æŠ¥å‘Šçš„ä¸€ç‚¹å°æç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ›´å¤šçš„æ–‘ç‚¹åªæ˜¯æ„å‘³ç€æ›´å¤šçš„ç±»&lt;/li&gt;
&lt;li&gt;çº¢è‰²æ„å‘³ç€ä¸å¯ç»´æŠ¤ï¼Œé»„è‰²è¡¨ç¤ºå¯æ¥å—ï¼Œç»¿è‰²åˆ™è¡¨æ˜è‰¯å¥½ã€å¯ç»´æŠ¤çš„ä»£ç ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3&gt;åˆ†æç»“æœ&lt;/h3&gt;
&lt;h4&gt;æ¡†æ¶&lt;/h4&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.agavi.org/"&gt;agavi&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="agavi-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/agavi-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/agavi/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/agavi/agavi"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼ˆå‡æŒ‡masteråˆ†æ”¯ä¸Šçš„ï¼‰ï¼š&lt;em&gt;4ä¸ªæœˆå†…&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://auraphp.com/"&gt;aura&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="aura-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/aura-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/aura/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/auraphp/Aura.Framework_Project"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://cakephp.org/"&gt;cakephp&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="cakephp-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/na.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;s&gt;æˆ³è¿™é‡Œ&lt;/s&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/cakephp/cakephp"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="https://ellislab.com/codeigniter"&gt;codeigniter&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="codeigniter-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/codeigniter-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/codeigniter/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/EllisLab/CodeIgniter"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="https://github.com/colindean/deano"&gt;deano&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="deano-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/deano-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/deano/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/colindean/deano"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š&lt;em&gt;10ä¸ªæœˆå†…&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://fatfreeframework.com/home"&gt;fatfree&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="fatfree-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/fatfree-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/fatfree/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/bcosca/fatfree"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1ä¸ªæœˆå†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://flightphp.com/"&gt;flight&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="flight-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/flight-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/flight/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/mikecao/flight"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š2å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://fuelphp.com/"&gt;fuelphp&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="fuelphp-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/fuelphp-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/fuelphp/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/fuel/fuel"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š2ä¸ªæœˆå†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://laravel.com/"&gt;laravel&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="laravel-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/laravel-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/laravel/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/laravel/laravel"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š2å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://limonade-php.github.io/"&gt;limonade&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="limonade-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/limonade-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/limonade/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/sofadesign/limonade/"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š2ä¸ªæœˆå†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://nette.org/en/"&gt;nette&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="nette-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/nette-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/nette/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/nette/nette"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://phavour-project.com/"&gt;phavour&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="phavour-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/phavour-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/phavour/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/phavour/phavour"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š&lt;em&gt;6ä¸ªæœˆå†…&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.php-mvc.net/"&gt;php-mvc(advanced)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="php-mvc-advanced-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/php-mvc-advanced-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/php-mvc-advanced/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/panique/php-mvc-advanced"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š2å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://phpixie.com/"&gt;phpixie&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="phpixie-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/phpixie-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/phpixie/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/dracony/PHPixie"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š&lt;em&gt;5ä¸ªæœˆå†…&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.popphp.org/"&gt;popphp2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="popphp2-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/popphp2-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/popphp2/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/popphp/popphp2"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š3å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://silex.sensiolabs.org/"&gt;silex&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="silex-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/silex-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/silex/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/silexphp/Silex"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://slimframework.com/"&gt;slim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="slim-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/slim-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/slim/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/codeguy/Slim"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š5ä¸ªæœˆå†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://symfony.com/legacy"&gt;symfony1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="symfony1-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/symfony1-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/symfony1/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/symfony/symfony1"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š&lt;em&gt;2å¹´å†…&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://symfony.com/"&gt;symfony2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="symfony2-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/symfony2-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/symfony2/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/symfony/symfony"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://typo3.org/"&gt;typo3&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="typo3-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/na.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;s&gt;æˆ³è¿™é‡Œ&lt;/s&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://git.typo3.org/Packages/TYPO3.CMS.git"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.yiiframework.com/"&gt;yii1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="yii1-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/yii1-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/yii1/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/yiisoft/yii"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š2å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.yiiframework.com/"&gt;yii2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="yii2-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/yii2-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/yii2/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/yiisoft/yii2"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://framework.zend.com/"&gt;zf1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="zf1-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/zf1-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/zf1/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/zendframework/zf1"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://framework.zend.com/"&gt;zf2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="zf2-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/zf2-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/zf2/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/zendframework/zf2"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š2å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;CMS&lt;/h4&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="https://www.drupal.org/"&gt;drupal&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="drupal-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/drupal-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/drupal/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/drupal/drupal"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.joomla.org/"&gt;joomla&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="joomla-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/joomla-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/joomla/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/joomla/joomla-framework"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š5ä¸ªæœˆå†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://getgrav.org/"&gt;grav&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="grav-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/grav-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/grav/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/getgrav/grav"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://pagekit.com/"&gt;pagekit&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="pagekit-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/pagekit-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/pagekit/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/pagekit/pagekit"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.webasyst.com/"&gt;os webasyst projects&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="os-webasyst-projects-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/os-webasyst-projects-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/webasyst/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼šN/A&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼šN/A&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://wordpress.org/"&gt;wordpress&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="wordpress-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/wordpress-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/wordpress/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/WordPress/WordPress"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;ç”µå­å•†åŠ¡&lt;/h4&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://magento.com/"&gt;magento1(1.8 copy)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="magento1-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/magento1-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/magento1/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://bitbucket.org/ecgkodokux/magento1.8.git"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼šN/A&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://magento.com/"&gt;magento2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="magento2-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/magento2-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/magento2/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/magento/magento2"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.opencart.com/"&gt;opencart&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="opencart-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/opencart-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/opencart/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/opencart/opencart"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.oscommerce.com/"&gt;oscommerce&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="oscommerce-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/oscommerce-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/oscommerce/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/osCommerce/oscommerce"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š2å¹´å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.prestashop.com/"&gt;prestashop&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="prestashop-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/prestashop-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/prestashop/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/PrestaShop/PrestaShop"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://sylius.org/"&gt;sylius&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="sylius-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/sylius-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/sylius/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/Sylius/Sylius"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š&lt;em&gt;10ä¸ªæœˆå†…&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://virtuemart.net/"&gt;virtuemart&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="virtuemart-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/virtuemart-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/virtuemart/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="http://dev.virtuemart.net/projects/virtuemart/repository"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼šN/A&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.zen-cart.com/"&gt;zencart&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="zencart-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/zencart-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/zencart/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/zencart/zc-v1-series"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;å¼€å‘å·¥å…·&lt;/h4&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://codeception.com/"&gt;codeception&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="codeception-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/codeception-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/codeception/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/Codeception/Codeception"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://phpunit.de/"&gt;phpunit&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="phpunit-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/phpunit-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/phpunit/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/sebastianbergmann/phpunit"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;å…¶ä»–&lt;/h4&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://piwik.org/"&gt;piwik&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="piwik-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/piwik-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/piwik/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/piwik/piwik"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;Backfire&lt;/h4&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="https://github.com/peteraba/zf2-mailer"&gt;dm-mailer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="dm-mailer-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/dm-mailer-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/dm-mailer/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/peteraba/zf2-mailer"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š&lt;em&gt;7ä¸ªæœˆå†…&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡¹ç›®ï¼š&lt;a href="http://www.phpmetrics.org/"&gt;phpmetrics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ç»´æŠ¤æ€§ï¼š&lt;img alt="phpmetrics-phpmetrics" src="/assets/uploads/pics/phpmetrics-result/phpmetrics-phpmetric-maintenability.png"&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ææŠ¥å‘Šï¼š&lt;a href="https://peteraba.com/metrics/phpmetrics/phpmetrics/report.html"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç åº“ï¼š&lt;a href="https://github.com/Halleck45/PhpMetrics"&gt;æˆ³è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æäº¤ï¼š1å‘¨å†…&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;é—®é¢˜(Issues)&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Cakephp&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;594/666 [========================&amp;gt;---]  89%

[Exception]                         
Closure detected instead of method
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Deano&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;2/9 [======&amp;gt;---------------------]  22%file /home/peter/dev/php/opensource/deano/views/layout/layout.php is not valid and has been skipped
9/9 [============================] 100%file /home/peter/dev/php/opensource/deano/deano.php is not valid and has been skipped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Limonade&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt; 9/16 [===============&amp;gt;------------]  56%file /home/peter/dev/php/opensource/limonade/examples/example02/index.php is not valid and has been skipped
16/16 [============================] 100%file /home/peter/dev/php/opensource/limonade/examples/example06/index.php is not valid and has been skipped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Magento&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;3361/9868 [=========&amp;gt;------------------]  34%file ../../opensource/magento2/lib/internal/Zend/Mail/Protocol/Pop3.php is not valid and has been skipped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Pagekit&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;102/215 [=============&amp;gt;--------------]  47%file /home/peter/dev/php/opensource/pagekit/extensions/system/src/System/Console/skeleton/extension/src/Controller/SiteController.php is not valid and has been skipped
103/215 [=============&amp;gt;--------------]  47%file /home/peter/dev/php/opensource/pagekit/extensions/system/src/System/Console/skeleton/extension/src/DefaultExtension.php is not valid and has been skipped
105/215 [=============&amp;gt;--------------]  48%file /home/peter/dev/php/opensource/pagekit/extensions/system/src/System/Console/skeleton/theme/src/DefaultTheme.php is not valid and has been skipped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Symfony1&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;199/1320 [====&amp;gt;-----------------------]  15%file /home/peter/dev/php/opensource/symfony1/lib/task/generator/skeleton/module/module/actions/actions.class.php is not valid and has been skipped
205/1320 [====&amp;gt;-----------------------]  15%file /home/peter/dev/php/opensource/symfony1/lib/task/generator/skeleton/app/web/index.php is not valid and has been skipped
206/1320 [====&amp;gt;-----------------------]  15%file /home/peter/dev/php/opensource/symfony1/lib/task/generator/skeleton/app/app/config/ApplicationConfiguration.class.php is not valid and has been skipped
397/1320 [========&amp;gt;-------------------]  30%file /home/peter/dev/php/opensource/symfony1/lib/plugins/sfPropelPlugin/data/generator/sfPropelModule/admin/skeleton/lib/helper.php is not valid and has been skipped
398/1320 [========&amp;gt;-------------------]  30%file /home/peter/dev/php/opensource/symfony1/lib/plugins/sfPropelPlugin/data/generator/sfPropelModule/admin/skeleton/lib/configuration.php is not valid and has been skipped
399/1320 [========&amp;gt;-------------------]  30%file /home/peter/dev/php/opensource/symfony1/lib/plugins/sfPropelPlugin/data/generator/sfPropelModule/admin/skeleton/actions/actions.class.php is not valid and has been skipped
445/1320 [=========&amp;gt;------------------]  33%file /home/peter/dev/php/opensource/symfony1/lib/plugins/sfPropelPlugin/data/generator/sfPropelModule/default/skeleton/actions/actions.class.php is not valid and has been skipped
652/1320 [=============&amp;gt;--------------]  49%file /home/peter/dev/php/opensource/symfony1/lib/plugins/sfDoctrinePlugin/data/generator/sfDoctrineModule/admin/skeleton/lib/helper.php is not valid and has been skipped
653/1320 [=============&amp;gt;--------------]  49%file /home/peter/dev/php/opensource/symfony1/lib/plugins/sfDoctrinePlugin/data/generator/sfDoctrineModule/admin/skeleton/lib/configuration.php is not valid and has been skipped
654/1320 [=============&amp;gt;--------------]  49%file /home/peter/dev/php/opensource/symfony1/lib/plugins/sfDoctrinePlugin/data/generator/sfDoctrineModule/admin/skeleton/actions/actions.class.php is not valid and has been skipped
700/1320 [==============&amp;gt;-------------]  53%file /home/peter/dev/php/opensource/symfony1/lib/plugins/sfDoctrinePlugin/data/generator/sfDoctrineModule/default/skeleton/actions/actions.class.php is not valid and has been skipped
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Typo3&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;76/2583 [&amp;gt;---------------------------]   2%

[Exception]                         
Closure detected instead of method
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="PHP"></category></entry><entry><title>RESTful APIè®¾è®¡çš„ä¸€ç‚¹ç»éªŒ</title><link href="http://youngsterxyf.github.io/2014/09/06/experience-about-restful-api/" rel="alternate"></link><published>2014-09-06T00:00:00+08:00</published><updated>2014-09-06T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-09-06:/2014/09/06/experience-about-restful-api/</id><summary type="html">&lt;p&gt;å‰æ®µæ—¶é—´çš„å·¥ä½œæ¶‰åŠäº§å“å¼€æ”¾APIçš„è®¾è®¡ä¸å®ç°ï¼Œæ•´ä¸ªè¿‡ç¨‹å¤§è‡´å¯åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ ¹æ®éœ€æ±‚ã€åŸæœ‰æ•°æ®åº“è®¾è®¡ç­‰ï¼ŒèŠ±äº†åŠå¤©å·¦å³çš„å·¥å¤« â€¦&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;å‰æ®µæ—¶é—´çš„å·¥ä½œæ¶‰åŠäº§å“å¼€æ”¾APIçš„è®¾è®¡ä¸å®ç°ï¼Œæ•´ä¸ªè¿‡ç¨‹å¤§è‡´å¯åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ ¹æ®éœ€æ±‚ã€åŸæœ‰æ•°æ®åº“è®¾è®¡ç­‰ï¼ŒèŠ±äº†åŠå¤©å·¦å³çš„å·¥å¤«å®Œæˆåˆç¨¿ï¼›&lt;/li&gt;
&lt;li&gt;å°±åˆç¨¿ä¸ç›¸å…³åŒäº‹è¿›è¡Œè®¨è®ºï¼Œç¡®å®šä¸€äº›ç»†èŠ‚é—®é¢˜ï¼Œé€æ­¥å®Œå–„ï¼›&lt;/li&gt;
&lt;li&gt;æ ¹æ®è®¾è®¡ç¨¿ï¼ŒåŸºäºYiiæ¡†æ¶ï¼Œé…ç½®è·¯ç”±ï¼Œå®ç°ç”¨æˆ·èº«ä»½è®¤è¯æ¨¡å—ï¼›&lt;/li&gt;
&lt;li&gt;åŸºäºæ­¥éª¤3ï¼Œé€ä¸ªå®ç°ä¸šåŠ¡ç›¸å…³APIï¼›&lt;/li&gt;
&lt;li&gt;å¯¹éƒ¨åˆ†ä»£ç è¿›è¡Œé‡æ„ï¼Œå‡å°‘ä¸å¿…è¦çš„ä»£ç é‡å¤ã€‚ä¸»è¦ä½¿ç”¨Yiiæ§åˆ¶å™¨çš„beforeActionæ–¹æ³•æ¥å®ç°å¤šå±‚è¿‡æ»¤å™¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;è®¾è®¡&lt;/h3&gt;
&lt;p&gt;è€ƒè™‘åˆ°RESTful APIç®€æ´æ˜äº†çš„æ¥å£è¡¨ç°å½¢å¼ï¼Œä¸€å¼€å§‹æˆ‘ä»¬å°±ä¸€è‡´ç¡®å®šä½¿ç”¨RESTfulé£æ ¼çš„APIã€‚å‚è€ƒä»¥å‰è‡ªå·±ä½¿ç”¨å¤šä¸ªå¼€æ”¾å¹³å°APIçš„ç»éªŒï¼Œ
åŠ&lt;a href="https://developer.github.com/v3/"&gt;Githubçš„å¼€æ”¾APIæ–‡æ¡£&lt;/a&gt;ï¼Œå¤§è‡´å®Œæˆè®¾è®¡åˆç¨¿ã€‚&lt;/p&gt;
&lt;h5&gt;èµ„æº&lt;/h5&gt;
&lt;p&gt;RESTful APIä¸»è¦æœ‰ä¸¤ä¸ªæ ¸å¿ƒï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;HTTPåè®®çš„4ä¸ªè°“è¯ - GETã€POSTã€PUTã€DELETEï¼Œåˆ†åˆ«å¯¹åº”â€œæŸ¥è¯¢â€ã€â€œæ–°å¢â€ã€â€œæ›´æ–°â€ã€â€œåˆ é™¤â€4ç§æ“ä½œ&lt;/li&gt;
&lt;li&gt;èµ„æºï¼ˆresourceï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;RESTfulé£æ ¼APIçš„è®¾è®¡ï¼Œæœ€éš¾ä¹‹å¤„ï¼Œæˆ‘è®¤ä¸ºå°±æ˜¯â€œèµ„æºâ€ã€‚&lt;/p&gt;
&lt;p&gt;â€œèµ„æºâ€æ˜¯ä»€ä¹ˆï¼Ÿâ€œèµ„æºâ€å¹¶ä¸æ˜¯å¯¹åº”æ•°æ®åº“ä¸­ä¸€ä¸ªä¸€ä¸ªæ•°æ®è¡¨ï¼Œâ€œèµ„æºâ€æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œ
ä½ éœ€è¦æ€è€ƒä½ çš„äº§å“æœåŠ¡è¦é€šè¿‡APIä¸ºç”¨æˆ·æä¾›ä»€ä¹ˆï¼Ÿä¸€ä¸ªAPIæä¾›çš„æ•°æ®å¯èƒ½æ¶‰åŠå¤šå¼ æ•°æ®è¡¨ï¼Œæ‰€ä»¥â€œèµ„æºâ€ä¸å…·ä½“çš„æ•°æ®åº“è®¾è®¡æ˜¯ç‹¬ç«‹çš„ã€‚&lt;/p&gt;
&lt;p&gt;â€œèµ„æºâ€çš„æŠ½è±¡ä¼šé‡åˆ°ä¸€ä¸ªâ€œç²’åº¦â€çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸€ä¸ªAPIè¿”å›çš„æ•°æ®ä¸åº”è¯¥å¤ªå¤šå¤ªå¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œä¸åŒâ€œèµ„æºâ€ä¹‹é—´å¯èƒ½å­˜åœ¨å½’å±å…³ç³»ï¼Œé‚£ä¹ˆæ˜¯å¦éœ€è¦åœ¨HTTP APIçš„URLä¸­ä½“ç°è¿™ç§å½’å±å…³ç³»ï¼Ÿå¦‚æœè¦ä½“ç°ï¼Œé‚£ä¹ˆå½“å½’å±å…³ç³»çš„å±‚æ¬¡è¾ƒå¤šæ—¶ï¼ŒURLçš„é•¿åº¦å¯èƒ½è¿‡é•¿ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªç®€å•çš„ä¾‹å­æ¥è¿›ä¸€æ­¥è§£é‡Šä¸Šè¿°é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬è¦é€šè¿‡APIæä¾›â€œå…¨å›½å¿ä¸€çº§çš„å¤©æ°”é¢„æŠ¥æ•°æ®â€ã€‚ä»è¿™å¥è¯çš„è¡¨è¿°å¯ä»¥å¾ˆæ˜æ˜¾åœ°çŸ¥é“ï¼ˆå› ä¸ºè¿™å¥è¯æœ¬èº«æ˜¯ä¸€ä¸ªæ˜ç¡®çš„éœ€æ±‚ï¼‰è¿™é‡Œçš„â€œèµ„æºâ€æ˜¯â€œå…¨å›½å¿ä¸€çº§çš„å¤©æ°”é¢„æŠ¥æ•°æ®â€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªâ€œå…¨å›½å¿ä¸€çº§çš„å¤©æ°”é¢„æŠ¥æ•°æ®â€å…¶å®ä»æ˜¯æŠ½è±¡çš„ï¼Œå¤©æ°”é¢„æŠ¥æ•°æ®å¯èƒ½åŒ…å«å¤©æ°”ã€æ°”æ¸©ã€æ¹¿åº¦ã€ç©ºæ°”è´¨é‡ç­‰æŒ‡æ ‡ï¼Œè¿™äº›æŒ‡æ ‡åˆæ˜¯åˆ†åˆ«å­˜å‚¨åœ¨ä¸åŒçš„æ•°æ®è¡¨ä¸­çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªAPI
çš„ä»£ç é€»è¾‘å°±éœ€è¦è¯»å–å‡ å¼ æ•°æ®è¡¨ï¼Œç„¶ååšåˆå¹¶å¤„ç†ã€‚åˆæˆ–è€…æ•°æ®åº“ä¸­å­˜å‚¨çš„æ•°æ®æ˜¯åŒºåŸŸèŒƒå›´æ›´å°æ›´å‡†å¤‡çš„å¤©æ°”é¢„æŠ¥æ•°æ®ï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦å¯¹è¿™äº›æ•°æ®æŒ‰ç…§ä¸€å®šçš„ç®—æ³•è¿›è¡Œå¤„ç†
å¾—å‡ºå¿ä¸€çº§çš„å¤©æ°”é¢„æŠ¥æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä»…é€šè¿‡ä¸€ä¸ªAPIæ¥æä¾›å…¨å›½æ‰€æœ‰å¿ä¸€çº§çš„å¤©æ°”æ•°æ®ï¼Œé‚£ä¹ˆå¯ä»¥æƒ³è±¡ï¼Œè¿™ä¸ªAPIè¿”å›çš„æ•°æ®æœ‰å¤šå¤§å¤šå¤æ‚ã€‚å¹¶ä¸”ç”¨æˆ·å¯èƒ½éœ€è¦æ›´çµæ´»çš„æ•°æ®æŸ¥è¯¢æ–¹å¼ï¼Œå¦‚ä»…æŸ¥è¯¢æŸä¸ªçœä»½
æ‰€æœ‰å¿ä¸€çº§çš„å¤©æ°”é¢„æŠ¥æ•°æ®ã€‚é‚£ä¹ˆå¯ä»¥å°†è¿™ä¸ªAPIæ‹†åˆ†æˆä»¥ä¸‹å‡ ä¸ªAPIï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;GET /province/
GET /province/{province_name_or_id}/county/
GET /province/{province_name_or_id}/county/{county_id_or_name}/weather/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ‹†åˆ†ä¹‹åï¼Œå¯èƒ½éœ€è¦å¤šæ¬¡è°ƒç”¨APIæ‰èƒ½è·å–åˆ°éœ€è¦çš„æ•°æ®ï¼Œä½†æ¯ä¸ªAPIçš„å®šä¹‰éƒ½ç®€å•è€Œæ˜ç¡®ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº&lt;code&gt;GET /province/{province_name_or_id}/county/{county_id_or_name}/weather/&lt;/code&gt;è¿™ä¸ªURLï¼Œå¯èƒ½æœ‰äººè§‰å¾—å®ƒè¿‡é•¿äº†ï¼Œå¯ä»¥ç¼©çŸ­è®¾è®¡ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;GET /county/{county_id_or_name}/weather/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç”šè‡³&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;GET /{county_id_or_name}/weather/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½†æˆ‘æ›´å€¾å‘äºå½’å±å…³ç³»æ˜ç¡®çš„é•¿URLï¼Œä¸»è¦åŸå› æ˜¯ï¼ŒAPIæœåŠ¡å™¨ç«¯å¯ä»¥éªŒè¯province_name_or_idä¸county_id_or_nameä¹‹é—´çš„å½’å±å…³ç³»ï¼Œä»¥é¿å…ç”¨æˆ·é”™è¯¯åœ°è°ƒç”¨APIï¼Œ
ç‰¹åˆ«æ˜¯å½“æ¶‰åŠå¢åˆ æ”¹æ“ä½œæ—¶ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥RESTful APIè®¾è®¡æ—¶æœ‰è®¸å¤šç»†èŠ‚ä¹‹å¤„éœ€è¦æƒè¡¡ã€‚&lt;/p&gt;
&lt;h5&gt;å“åº”ç &lt;/h5&gt;
&lt;p&gt;RESTful APIè¯·æ±‚çš„å“åº”ç é€šå¸¸æœ‰ä¸¤ç§è¡¨ç°å½¢å¼ï¼Œä¸€ç§æ˜¯ç›´æ¥ä½¿ç”¨HTTPåè®®çš„HTTP codeï¼Œå¦ä¸€ç§æ˜¯HTTPåè®®çš„å“åº”ç å§‹ç»ˆä¸º200ï¼Œä½†åœ¨å“åº”ä½“ä¸­åŠ å…¥ç±»ä¼¼åä¸ºcodeçš„å­—æ®µï¼Œ
æ¥è¡¨è¾¾å½“å‰APIè¯·æ±‚çš„å“åº”çŠ¶æ€ï¼Œè¿™ä¸ªcodeå­—æ®µå€¼çš„å«ä¹‰å°±æ˜¯HTTP codeå«ä¹‰ï¼Œé™¤äº†codeå­—æ®µå¤–å¯èƒ½è¿˜ä¼šé™„åŠ ä¸€ä¸ªç±»ä¼¼åä¸ºmessageçš„å­—æ®µæ¥è¿›ä¸€æ­¥è§£é‡Šå“åº”çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å€¾å‘ä½¿ç”¨ç¬¬äºŒç§å½¢å¼ï¼Œç†ç”±æ˜¯ï¼šHTTPåè®®çš„HTTP codeï¼Œåœ¨ä¸º404ã€500ç­‰é”™è¯¯ç æ—¶ï¼Œè¡¨ç°çš„åº”è¯¥æ˜¯APIæœåŠ¡å™¨ç«¯ç¨‹åºçš„å¥å£®æ€§ç­‰é—®é¢˜ï¼Œæ˜¯æœªé¢„æœŸçš„é”™è¯¯ï¼Œè€Œå“åº”ä½“ä¸­çš„codeå­—æ®µï¼Œ
åœ¨è¿”å›404æˆ–500ç­‰é”™è¯¯ç æ—¶ï¼Œè¡¨è¾¾æ˜¯APIæœåŠ¡å™¨ç«¯å·²é¢„æœŸåˆ°è¿™äº›å¯èƒ½å­˜åœ¨çš„é”™è¯¯ï¼Œæ˜¯ä¸»åŠ¨è¿”å›è¿™æ ·çš„é”™è¯¯ç çš„ã€‚è¿™æ ·APIçš„è°ƒç”¨è€…ä¹Ÿèƒ½æ›´å®¹æ˜“åˆ¤æ–­æŸäº›é—®é¢˜çš„åŸå› ï¼›&lt;/p&gt;
&lt;h5&gt;è¯·æ±‚çš„å”¯ä¸€æ ‡è¯†&lt;/h5&gt;
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿å¿«é€Ÿå®šä½ç”¨æˆ·åé¦ˆçš„é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªAPIçš„å“åº”å†…å®¹ä¸­åŠ å…¥ä¸€ä¸ªrequest_idå­—æ®µä½œä¸ºAPIè¯·æ±‚çš„å”¯ä¸€æ€§æ ‡è¯†ï¼Œè¿™ä¸ªè¯·æ±‚å¤„ç†è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ‰€æœ‰æ—¥å¿—éƒ½æ˜¯å’Œè¿™ä¸ª
request_idå…³è”çš„ï¼Œè¿™æ ·å¯ä»¥æ ¹æ®request_idèšåˆå¤„ç†å…³è”çš„logã€‚åœ¨ç”¨æˆ·åé¦ˆé—®é¢˜æ—¶ï¼Œä»…éœ€æä¾›request_idï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“åœ°å°±èƒ½æ‰¾åˆ°è¿™ä¸ªè¯·æ±‚çš„æ‰€æœ‰æ—¥å¿—ã€‚&lt;/p&gt;
&lt;p&gt;ä½†è¿™ä¸ªrequest_idæ˜¯åº”è¯¥ä½œä¸ºHTTPç›¸åº”å¤´çš„ä¸€ä¸ªå­—æ®µï¼Œè¿˜æ˜¯ä½œä¸ºå“åº”ä½“çš„ä¸€ä¸ªå­—æ®µè¿”å›ï¼Ÿæˆ‘å€¾å‘äºç¬¬äºŒç§ï¼Œç†ç”±æ˜¯ï¼šæˆ‘ä»¬å¸Œæœ›APIè°ƒç”¨æ–¹èƒ½å¤Ÿåœ¨æ—¥å¿—æˆ–æ•°æ®åº“ä¸­è®°å½•
æ‰€æœ‰è¯·æ±‚çš„request_idï¼Œä¾¿äºä»¥åå‘ç°é—®é¢˜æ—¶è¿›è¡Œé—®é¢˜è¿½è¸ªã€‚å¯¹äºè¿™ç§è°ƒç”¨æ–¹åº”è¯¥å¤„ç†çš„å“åº”æ•°æ®é¡¹ï¼Œæ˜ç¡®åœ°æ”¾åœ¨å“åº”ä½“ä¸­ä¼šæ›´å¥½ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿä¼šæ¯ä¸ªrequest_idè®°å½•å¯¹åº”è¯·æ±‚çš„ç›‘æ§æ•°æ®ï¼Œå¦‚å“åº”ç ã€è¯·æ±‚å¤„ç†è€—è´¹çš„æ—¶é—´ã€è¯·æ±‚çš„è°ƒç”¨æ–¹ã€è¯·æ±‚å¤„ç†çš„è·¯ç”±ç­‰ã€‚è¿™æ ·åœ¨å¯¹ç›‘æ§æ•°æ®è¿›è¡Œæ•°æ®å¯è§†åŒ–åï¼Œ
å¯ä»¥ä¸»åŠ¨å‘ç°æŸäº›éšè—çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h5&gt;å…¼å®¹&lt;/h5&gt;
&lt;p&gt;åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯åº“æˆ–å·¥å…·å¯èƒ½å¹¶ä¸æ”¯æŒHTTPåè®®è°“è¯PUTå’ŒDELETEï¼Œé‚£ä¹ˆåŸºäºè¿™ä¸¤ä¸ªè°“è¯çš„RESTful
APIå°±éœ€è¦æä¾›å…¼å®¹æ–¹æ¡ˆã€‚æˆ‘ä»¬çš„å…¼å®¹æ–¹æ¡ˆæ˜¯ï¼šä»¥POSTè°“è¯æ¥æ›¿ä»£PUTå’ŒDELETEï¼ŒåŒæ—¶åœ¨APIè¯·æ±‚URLçš„æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­æ·»åŠ _methodä¸€é¡¹ï¼ŒæŒ‡æ˜POSTæ›¿ä»£çš„æ˜¯PUTè¿˜æ˜¯DELETEã€‚å¦‚ä»¥&lt;code&gt;POST
/xxx/yyy/?_method=DELETE&lt;/code&gt;ä½œä¸º&lt;code&gt;DELETE /xxx/yyy/&lt;/code&gt;çš„å…¼å®¹æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h3&gt;å®ç°&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬çš„å¼€æ”¾APIæ˜¯åŸºäºYiiæ¡†æ¶å®ç°ã€‚&lt;/p&gt;
&lt;h5&gt;è·¯ç”±&lt;/h5&gt;
&lt;p&gt;Yiiæ¡†æ¶é»˜è®¤çš„è·¯ç”±å½¢å¼ä¸ºï¼šæŸ¥è¯¢å­—ç¬¦ä¸²r=xxx/yyyï¼Œå…¶ä¸­xxxä¸ºæ§åˆ¶å™¨(controller)çš„åç§°ï¼Œyyyä¸ºåŠ¨ä½œæ–¹æ³•(action)çš„åç§°ï¼Œè¿™ç§è·¯ç”±å½¢å¼å¯¹åº”Yiiå†…éƒ¨çš„getè·¯ç”±ç±»å‹ï¼Œ
å› ä¸ºæ˜¯é»˜è®¤å½¢å¼ï¼Œæ‰€ä»¥æ— éœ€é¢å¤–é…ç½®ã€‚
Yiiå¦å¤–æä¾›ä¸€ç§åä¸ºpathçš„è·¯ç”±å½¢å¼ï¼Œå³ä½¿ç”¨URLçš„è·¯å¾„(path)éƒ¨åˆ†æ¥è¡¨è¾¾è·¯ç”±ã€‚è¦è¿™ç§å½¢å¼çš„è·¯ç”±éœ€è¦é¢å¤–é…ç½®Yiiæ¡†æ¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;#39;components&amp;#39; =&amp;gt; array(
    &amp;#39;urlManager&amp;#39; =&amp;gt; array(
        &amp;#39;urlFormat&amp;#39; =&amp;gt; &amp;#39;path&amp;#39;,
        &amp;#39;rules&amp;#39; =&amp;gt; array(
            array(&amp;#39;aaa/bbb&amp;#39;, &amp;#39;pattern&amp;#39; =&amp;gt; &amp;#39;/xxx/yyy&amp;#39;, &amp;#39;verb&amp;#39; =&amp;gt; &amp;#39;POST&amp;#39;),
            ...
        ),
    ),
    ...
),
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;urlManageræ˜¯Yiiä½¿ç”¨çš„è·¯ç”±ç®¡ç†ç»„ä»¶ï¼Œå…¶ä¸­çš„urlFormatæŒ‡æ˜ä½¿ç”¨pathå½¢å¼çš„è·¯ç”±ï¼Œrulesä¸­çš„æ¯ä¸€æ•°ç»„é¡¹å³ä¸€ä¸ªè·¯ç”±é…ç½®ï¼Œè·¯ç”±é…ç½®æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆå¦‚aaa/bbbï¼‰ï¼Œ
å…¶ä¸­aaaä¸ºå®é™…æ§åˆ¶å™¨ç±»çš„åç§°(ä¸åŒ…å«Controlleråç¼€)ï¼Œbbbä¸ºæ§åˆ¶å™¨ç±»aaaä¸­å®é™…åŠ¨ä½œæ–¹æ³•çš„åç§°(ä¸åŒ…å«actionå‰ç¼€)ï¼Œpatternå…ƒç´ æŒ‡æ˜å½“å‰è·¯ç”±é…ç½®é¡¹ä¼šå¤„ç†çš„URLï¼Œ
xxxä¸ºæ§åˆ¶å™¨åç§°ï¼Œyyyä¸ºåŠ¨ä½œæ–¹æ³•åç§°ï¼Œè¿™é‡Œå¯ä»¥çœ‹å‡ºHTTP API URLä¸­çš„æ§åˆ¶å™¨åç§°ã€åŠ¨ä½œæ–¹æ³•åç§°å¯ä»¥å’Œå®é™…çš„æ§åˆ¶å™¨ç±»åç§°ã€åŠ¨ä½œæ–¹æ³•åç§°ä¸ä¸€æ ·ã€‚verbå…ƒç´ æŒ‡æ˜
å½“å‰è·¯ç”±é…ç½®é¡¹ä¼šå¤„ç†å“ªä¸ªæˆ–å“ªäº›HTTPè°“è¯å¯¹URLâ€œ/xxx/yyyâ€çš„è¯·æ±‚ï¼Œå¤šä¸ªè°“è¯æ—¶ä»¥é€—å·åˆ†éš”ã€‚&lt;/p&gt;
&lt;h5&gt;å…¼å®¹æ–¹æ¡ˆ&lt;/h5&gt;
&lt;p&gt;å¯¹äºå…¼å®¹æ–¹æ¡ˆï¼ŒPOSTè°“è¯åŸæœ¬æ˜¯ç”¨æ¥â€œæ–°å¢â€èµ„æºï¼Œé‚£ä¹ˆå¯¹äºç›¸åŒçš„URLï¼ŒPOSTè°“è¯å¯èƒ½å·²ç»è¢«å ç”¨ï¼Œä¹Ÿå³æ„å‘³ç€è°“è¯â€œDELETEâ€æˆ–â€œPUTâ€çš„â€œPOSTâ€å…¼å®¹æ–¹æ¡ˆçš„APIè¯·æ±‚ï¼Œä¹Ÿä¼šè¢«Yiiæ¡†æ¶è·¯ç”±åˆ°â€œæ–°å¢â€èµ„æºçš„å¤„ç†é€»è¾‘ï¼Œé‚£ä¹ˆéœ€è¦åœ¨â€œæ–°å¢â€èµ„æºçš„æ§åˆ¶å™¨ç±»çš„beforeActionæ–¹æ³•ä¸­ï¼Œé€šè¿‡æ£€æŸ¥æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°_methodï¼Œé‡æ–°å°†è¯·æ±‚è·¯ç”±åˆ°æ­£ç¡®çš„
åŠ¨ä½œæ–¹æ³•ä¸Šï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;protected function beforeAction($action)
{
    $this-&amp;gt;requestMethod = Yii::app()-&amp;gt;request-&amp;gt;getRequestType();
    // å…¼å®¹æ–¹æ¡ˆ
    // å¸¦å‚æ•°_method=DELETEçš„POSTè¯·æ±‚æ¥ä»£æ›¿DELETEè¯·æ±‚
    // å¸¦å‚æ•°_method=PUTçš„POSTè¯·æ±‚æ¥ä»£æ›¿PUTè¯·æ±‚
    if ($this-&amp;gt;requestMethod === &amp;#39;POST&amp;#39; &amp;amp;&amp;amp; isset($_POST[&amp;#39;_method&amp;#39;])) {
        if ($_POST[&amp;#39;_method&amp;#39;] === &amp;#39;DELETE&amp;#39;) {
            // é¿å…æ­»å¾ªç¯
            unset($_POST[&amp;#39;_method&amp;#39;]);
            $this-&amp;gt;forward($this-&amp;gt;getUniqueId() . &amp;#39;/delete&amp;#39;);
        } elseif ($_POST[&amp;#39;_method&amp;#39;] === &amp;#39;PUT&amp;#39;) {
            unset($_POST[&amp;#39;_method&amp;#39;]);
            $this-&amp;gt;forward($this-&amp;gt;getUniqueId() . &amp;#39;/update&amp;#39;);
        } else {
            $this-&amp;gt;echoJson(CodeStatus::WRONG_PARAM);
            return false;
        }
    }
    ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;å“åº”ç &lt;/h5&gt;
&lt;p&gt;å¯¹äºAPIå¯èƒ½ç”¨åˆ°çš„æ‰€æœ‰å“åº”ç åŠå…¶è¯´æ˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„ç±»æ¥é›†ä¸­ç®¡ç†ï¼Œä»¥é¿å…APIä¸­ç¡¬ç¼–ç å“åº”ç ï¼Œä»¥åŠé¿å…ä»£ç é‡å¤ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;CodeStatus&lt;/span&gt; {
        &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; OK = 200; &lt;span style="color: #008000"&gt;// æˆåŠŸ&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; CREATED = 201; &lt;span style="color: #008000"&gt;// åˆ›å»ºæˆåŠŸ&lt;/span&gt;

        &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; REQUEST_WRONG = 400;
        &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; TOKEN_WRONG = 403; &lt;span style="color: #008000"&gt;// tokenå·²è¿‡æœŸæˆ–ä¸å­˜åœ¨&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; NOT_FOUND = 404; &lt;span style="color: #008000"&gt;// èµ„æºä¸å­˜åœ¨&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; LACK_PARAM = 423; &lt;span style="color: #008000"&gt;// ç¼ºå°‘å¿…è¦çš„è¯·æ±‚å‚æ•°&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; WRONG_PARAM = 425; &lt;span style="color: #008000"&gt;// è¯·æ±‚å‚æ•°ä¸æ­£ç¡®&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; DUPLICATE_RESOURCE = 426; &lt;span style="color: #008000"&gt;// å·²ç»å­˜åœ¨ç›¸åŒçš„èµ„æº&lt;/span&gt;

        &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; SYSTEM_ERROR = 500; &lt;span style="color: #008000"&gt;// ç³»ç»Ÿå¼‚å¸¸&lt;/span&gt;

        ...

        &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; $status_code = &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(
            self::OK =&amp;gt; &lt;span style="color: #a31515"&gt;&amp;#39;æˆåŠŸ&amp;#39;&lt;/span&gt;,
            self::CREATED =&amp;gt; &lt;span style="color: #a31515"&gt;&amp;#39;åˆ›å»ºæˆåŠŸ&amp;#39;&lt;/span&gt;,
            self::TOKEN_WRONG =&amp;gt; &lt;span style="color: #a31515"&gt;&amp;#39;tokenå·²è¿‡æœŸæˆ–ä¸å­˜åœ¨&amp;#39;&lt;/span&gt;,
            self::LACK_PARAM =&amp;gt; &lt;span style="color: #a31515"&gt;&amp;#39;ç¼ºå°‘å¿…è¦çš„è¯·æ±‚å‚æ•°&amp;#39;&lt;/span&gt;,
            self::SYSTEM_ERROR =&amp;gt; &lt;span style="color: #a31515"&gt;&amp;#39;ç³»ç»Ÿå¼‚å¸¸&amp;#39;&lt;/span&gt;,
            self::WRONG_PARAM =&amp;gt; &lt;span style="color: #a31515"&gt;&amp;#39;è¯·æ±‚å‚æ•°ä¸æ­£ç¡®&amp;#39;&lt;/span&gt;,
            self::DUPLICATE_RESOURCE =&amp;gt; &lt;span style="color: #a31515"&gt;&amp;#39;å·²ç»å­˜åœ¨ç›¸åŒçš„èµ„æº&amp;#39;&lt;/span&gt;,
            self::NOT_FOUND =&amp;gt; &lt;span style="color: #a31515"&gt;&amp;#39;èµ„æºä¸å­˜åœ¨&amp;#39;&lt;/span&gt;,
            ...
        );
    }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;APIä¸­ä»…éœ€ä½¿ç”¨CodeStatusç±»å®šä¹‰çš„å¸¸é‡æˆå‘˜å³å¯ï¼ˆå¦‚CodeStatus::OKï¼‰ã€‚&lt;/p&gt;
&lt;h3&gt;æ¨èé˜…è¯»&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://developer.github.com/v3/"&gt;Github API v3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/interagent/http-api-design"&gt;Heroku HTTP API Design Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="RESTful"></category></entry><entry><title>åŸºäºsocket.ioçš„å®æ—¶æ¶ˆæ¯æ¨é€</title><link href="http://youngsterxyf.github.io/2014/09/06/socket.io-push-server/" rel="alternate"></link><published>2014-09-06T00:00:00+08:00</published><updated>2014-09-06T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-09-06:/2014/09/06/socket.io-push-server/</id><summary type="html">&lt;p&gt;ç”¨æˆ·è®¿é—®Webç«™ç‚¹çš„è¿‡ç¨‹æ˜¯åŸºäºHTTPåè®®çš„ï¼Œè€ŒHTTPåè®®çš„å·¥ä½œæ¨¡å¼æ˜¯ï¼šè¯·æ±‚-å“åº”ï¼Œå®¢æˆ·ç«¯å‘å‡ºè®¿é—®è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯ä»¥èµ„æºæ•°æ®å“åº”è¯·æ±‚ã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡å™¨ç«¯å§‹ç»ˆæ˜¯è¢«åŠ¨çš„ï¼Œå³ä½¿æœ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ç”¨æˆ·è®¿é—®Webç«™ç‚¹çš„è¿‡ç¨‹æ˜¯åŸºäºHTTPåè®®çš„ï¼Œè€ŒHTTPåè®®çš„å·¥ä½œæ¨¡å¼æ˜¯ï¼šè¯·æ±‚-å“åº”ï¼Œå®¢æˆ·ç«¯å‘å‡ºè®¿é—®è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯ä»¥èµ„æºæ•°æ®å“åº”è¯·æ±‚ã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡å™¨ç«¯å§‹ç»ˆæ˜¯è¢«åŠ¨çš„ï¼Œå³ä½¿æœåŠ¡å™¨ç«¯çš„èµ„æºæ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç”¨æˆ·å°±ä¸ä¼šçœ‹åˆ°è¿™äº›å˜åŒ–ã€‚
è¿™ç§æ¨¡å¼æ˜¯ä¸é€‚åˆæŸäº›åº”ç”¨åœºæ™¯çš„ï¼Œæ¯”å¦‚åœ¨ç¤¾äº¤ç½‘ç»œç”¨æˆ·éœ€è¦è¿‘ä¹å®æ—¶åœ°çŸ¥é“å…¶ä»–ç”¨æˆ·æœ€æ–°çš„ä¿¡æ¯ã€‚å¯¹äºæ™®é€šç«™ç‚¹æ¥è¯´ï¼Œ
è¯·æ±‚-å“åº”æ¨¡å¼å¯ä»¥æ»¡è¶³ç»å¤§å¤šæ•°çš„åŠŸèƒ½éœ€æ±‚ï¼Œä½†æ€»æœ‰æŸäº›åŠŸèƒ½æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›å®æ—¶æ¶ˆæ¯çš„ä½“éªŒã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆå¯ä»¥é€‰æ‹©ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»æ—§ä½¿ç”¨è¯·æ±‚-å“åº”æ¨¡å¼ï¼Œåªæ˜¯å¢å¤§è¯·æ±‚çš„é¢‘ç‡æˆ–è€…ä½¿ç”¨é•¿è¿æ¥ï¼Œæ¥è¾¾åˆ°å°½å¯èƒ½æ¥è¿‘å®æ—¶çš„æ•ˆæœï¼Œå¦‚ä½¿ç”¨polling/long-pollingï¼Œä½†å¯èƒ½ä¼šæå¤§åœ°å¢åŠ æœåŠ¡å™¨çš„è´Ÿè½½å‹åŠ›æˆ–é™ä½æœåŠ¡å™¨çš„ååé‡&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ–°çš„åè®®ï¼Œåœ¨æœåŠ¡å™¨ç«¯æœ‰èµ„æºæ•°æ®æ›´æ–°æ—¶ï¼Œä¸»åŠ¨æ¨é€ç»™å®¢æˆ·ç«¯ï¼Œå¦‚WebSocketï¼Œè™½ç„¶è¿™ç§æ€è·¯ä¹Ÿæ˜¯ä½¿ç”¨äº†é•¿è¿æ¥ï¼Œä½†æ•ˆç‡æ›´é«˜ï¼Œä¸”æ˜¯å®¢æˆ·ç«¯æœåŠ¡å™¨ç«¯ä¹‹é—´çš„å…¨åŒå·¥é€šä¿¡ã€‚
é—®é¢˜åœ¨äºç›®å‰å„å¤§æµè§ˆå™¨å¹¶ä¸éƒ½æ”¯æŒWebSocketã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é‚£ä¹ˆç›®å‰æœ€å¥½çš„æ–¹å¼å°±æ˜¯ç»“åˆä»¥ä¸Šä¸¤ç§æ–¹æ¡ˆï¼Œåœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­ï¼Œå°½å¯èƒ½ä½¿ç”¨æµè§ˆå™¨æ”¯æŒçš„æœ€å¥½çš„æ–¹æ¡ˆï¼Œå³æµè§ˆå™¨æ”¯æŒç¬¬äºŒç§æ–¹æ¡ˆæ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ç¬¬äºŒç§æ–¹æ¡ˆï¼Œå¦åˆ™ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ¡ˆã€‚socket.ioå°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œå¹¶ä¸”åœ¨æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯å¯¹äºä¸åŒçš„æ–¹æ¡ˆæä¾›ç»Ÿä¸€çš„æ¥å£ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬äº§å“çš„ç«™å†…ä¿¡åŠŸèƒ½ä¸­ï¼Œå¸Œæœ›èƒ½å¤Ÿç»™åœ¨çº¿ç”¨æˆ·å®æ—¶æ¨é€å…¬å…±æ¶ˆæ¯æˆ–ç§æœ‰æ¶ˆæ¯ã€‚è€ƒè™‘åˆ°ä»¥åå¯èƒ½è¿˜æœ‰å…¶ä»–åŠŸèƒ½éœ€è¦å®ç°å®æ—¶æ¶ˆæ¯æ¨é€ï¼Œæ‰€ä»¥å°†å®æ—¶æ¶ˆæ¯æ¨é€å®ç°ä¸ºä¸€ä¸ªå•ç‹¬çš„æœåŠ¡ã€‚è¿™ç§é’ˆå¯¹ä¸åŒç‰¹æ€§çš„åŠŸèƒ½è¿›è¡Œè§£è€¦ä¹Ÿä¸ºä¹‹åé’ˆå¯¹æ€§çš„ä¼˜åŒ–åšäº†é“ºå«ã€‚&lt;/p&gt;
&lt;p&gt;è§£è€¦ä¹‹åçš„ç³»ç»Ÿç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="socket.io-push-server" src="https://raw.github.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/socket.io-push-server.png"&gt;&lt;/p&gt;
&lt;p&gt;å½“ç«™ç‚¹æœåŠ¡å™¨(A)ç›‘æµ‹åˆ°èµ„æºæ•°æ®æ›´æ–°äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå…ˆå°†æ•°æ®æ¨é€åˆ°æ¶ˆæ¯æ¨é€æœåŠ¡å™¨(B)ï¼ŒBæ ¹æ®æ¶ˆæ¯çš„ç±»å‹ä»¥åŠæ¶ˆæ¯çš„ç›®æ ‡æ¥æ”¶äººæ¥å†³å®šæ˜¯å¦æ¨é€ï¼Œå¦‚ä½•æ¨é€ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæˆ‘ä»¬çš„Webåç«¯æ˜¯åŸºäºYiiæ¡†æ¶å®ç°ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•å®ç°Aä¸Bçš„socket.ioæœåŠ¡é€šä¿¡å‘¢ï¼Ÿsocket.ioæœ‰è‡ªå·±çš„ä¸€å¥—åè®®ï¼Œå¦‚æœè‡ªå·±å®ç°PHPåº“æ¥ä¸socket.ioæœåŠ¡äº¤äº’ï¼Œè¿˜æœ‰ä¸€äº›å·¥ä½œé‡ã€‚æœ€ç»ˆæˆ‘ä»¬é€‰æ‹©&lt;a href="https://github.com/oncesk/elephant.io"&gt;elephant.ioè¿™ä¸ªPHPåº“&lt;/a&gt;ï¼Œå¹¶å°†elephant.ioå°è£…ä¸ºYiiæ¡†æ¶çš„ä¸€ä¸ªç»„ä»¶ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;

$basePath = Yii::getPathOfAlias(&lt;span style="color: #a31515"&gt;&amp;#39;application.vendor.elephantio.lib.ElephantIO&amp;#39;&lt;/span&gt;);

&lt;span style="color: #0000ff"&gt;require_once&lt;/span&gt;($basePath . DIRECTORY_SEPARATOR . &lt;span style="color: #a31515"&gt;&amp;#39;Client.php&amp;#39;&lt;/span&gt;);
&lt;span style="color: #0000ff"&gt;require_once&lt;/span&gt;($basePath . DIRECTORY_SEPARATOR . &lt;span style="color: #a31515"&gt;&amp;#39;Payload.php&amp;#39;&lt;/span&gt;);

&lt;span style="color: #0000ff"&gt;use&lt;/span&gt; ElephantIO\Client &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; Elephant;

&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;extElephantIO&lt;/span&gt; &lt;span style="color: #0000ff"&gt;extends&lt;/span&gt; CApplicationComponent
{
    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; $host = &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;
    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; $port = &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;
    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; $namespace = &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;

    &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; $elephant = &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;
    &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; $ioNameSpace = &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; init()
    {
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; ($this-&amp;gt;host === &lt;span style="color: #0000ff"&gt;null&lt;/span&gt; || $this-&amp;gt;port === &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;) {
            &lt;span style="color: #0000ff"&gt;throw&lt;/span&gt; &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Exception(&lt;span style="color: #a31515"&gt;&amp;#39;%s: %s: %s, Please give me parameters host and port&amp;#39;&lt;/span&gt;, basename(
                __FILE__
            ), __FUNCTION__, __LINE__);
        }

    }

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; setNameSpace($nameSpace)
    {
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; ($this-&amp;gt;elephant === &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;) {
            $this-&amp;gt;elephant = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Elephant(&lt;span style="color: #a31515"&gt;&amp;#39;http://&amp;#39;&lt;/span&gt; . $this-&amp;gt;host . &lt;span style="color: #a31515"&gt;&amp;#39;:&amp;#39;&lt;/span&gt;
                . $this-&amp;gt;port, &lt;span style="color: #a31515"&gt;&amp;#39;socket.io&amp;#39;&lt;/span&gt;, 1, &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;);
            $this-&amp;gt;elephant-&amp;gt;init();
        }
        $this-&amp;gt;ioNameSpace = $this-&amp;gt;elephant-&amp;gt;createFrame(&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;, $nameSpace);
    }

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; sendMsg($event, $msg)
    {
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; ($this-&amp;gt;ioNameSpace === &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;) {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; ($this-&amp;gt;namespace !== &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;) {
                $this-&amp;gt;ioNameSpace = $this-&amp;gt;elephant-&amp;gt;createFrame(&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;, $this-&amp;gt;namespace);
            } &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; {
                &lt;span style="color: #0000ff"&gt;throw&lt;/span&gt; &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Exception(&lt;span style="color: #a31515"&gt;&amp;#39;%s: %s: %s, Please setNameSpace before sendMsg&amp;#39;&lt;/span&gt;, basename(
                    __FILE__
                ), __FUNCTION__, __LINE__);
            }
        }
        $this-&amp;gt;ioNameSpace-&amp;gt;emit($event, $msg);
    }

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; close()
    {
        $this-&amp;gt;elephant-&amp;gt;close();
        $this-&amp;gt;elephant = &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°†è¯¥ä»£ç æ–‡ä»¶æ”¾åœ¨åº”ç”¨ç›®å½•extensionsä¸‹ï¼Œç„¶åä¸ºYiiæ·»åŠ å¦‚ä¸‹é…ç½®é¡¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;#39;components&amp;#39; =&amp;gt; array(
    &amp;#39;ElephantIO&amp;#39; =&amp;gt; array(
        &amp;#39;class&amp;#39; =&amp;gt; &amp;#39;application.extensions.extElephantIO&amp;#39;,
        &amp;#39;host&amp;#39; =&amp;gt; &amp;#39;xxx&amp;#39;,
        &amp;#39;port&amp;#39; =&amp;gt; xxx,
    ),
    ...
),
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å½“æœ‰èµ„æºæ•°æ®å˜æ›´äº‹ä»¶äº§ç”Ÿæ—¶ï¼Œå¦‚ä¸‹è°ƒç”¨å‘æ¶ˆæ¯æ¨é€æœåŠ¡å™¨å‘é€æ¶ˆæ¯ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$elephant = Yii::app()-&amp;gt;ElephantIO;
$elephant-&amp;gt;setNameSpace(&amp;#39;/message_namespace&amp;#39;);
$elephant-&amp;gt;sendMsg(
    &amp;#39;message_event_type&amp;#39;,
    $messageContent
);       
$elephant-&amp;gt;close();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;å¯¹äºç§æœ‰æ¶ˆæ¯æ¨é€ï¼Œå¦‚ä½•åˆ¤æ–­ç”¨æˆ·å½“å‰æ˜¯å¦åœ¨çº¿ï¼Ÿå¦‚ä½•éªŒè¯ç”¨æˆ·çš„èº«ä»½ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¯ä»¥åŸºäºcookieæ¥å®ç°ï¼Œsocket.ioæä¾›çš„æµè§ˆå™¨ç«¯JSåº“ï¼Œåœ¨æ¯æ¬¡è¿æ¥æ—¶ï¼Œå’Œæ™®é€šHTTPè¯·æ±‚ä¸€æ ·ï¼Œä¼šæºå¸¦ç«™ç‚¹åŸŸåä¸‹çš„cookieï¼ˆæˆ‘ä»¬çš„æ¶ˆæ¯æ¨é€æœåŠ¡çš„åŸŸåä¸ºç«™ç‚¹æœåŠ¡å™¨åŸŸåçš„å­åŸŸï¼Œæ‰€ä»¥èƒ½æ‹¿åˆ°ç«™ç‚¹åŸŸåä¸‹çš„æ‰€æœ‰cookieï¼‰ï¼Œæ¶ˆæ¯æ¨é€æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°è¿æ¥(connectionäº‹ä»¶)è¯·æ±‚æ—¶ï¼Œä»è¿æ¥ä¸­å–å‡ºæ‰€æœ‰cookieï¼Œç„¶åå‘ç«™ç‚¹Webåç«¯çš„æŸä¸ªAPIè½¬å‘è¿™äº›cookieï¼Œè¿™ä¸ªAPIæ ¹æ®cookieéªŒè¯ç”¨æˆ·èº«ä»½ï¼Œå¹¶å°†ç”¨æˆ·ä¿¡æ¯è¿”å›ç»™æ¶ˆæ¯æ¨é€æœåŠ¡å™¨ï¼Œæ¶ˆæ¯æ¨é€æœåŠ¡å™¨æ ¹æ®ç”¨æˆ·ä¿¡æ¯å­˜å‚¨å½“å‰è¿æ¥å¯¹è±¡ï¼Œä¹‹åå½“ç«™ç‚¹æœåŠ¡å™¨å‘æ¶ˆæ¯æ¨é€æœåŠ¡å™¨å‘é€è¯¥ç”¨æˆ·çš„æ¶ˆæ¯æ—¶ï¼Œå°±é€šè¿‡è¯¥è¿æ¥å¯¹è±¡ç»™ç”¨æˆ·æ¨é€æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå…¬æœ‰æ¶ˆæ¯ï¼Œå³å¹¿æ’­æ¶ˆæ¯ï¼Œå®ç°åˆ™æ¯”è¾ƒç®€å•ï¼Œç›´æ¥å‘å½“å‰æ‰€æœ‰è¿æ¥æ¨é€æ¶ˆæ¯å³å¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä¹Ÿè®¸æœ‰äººä¼šé—®ï¼Œæ—¢ç„¶åœ¨æŸäº›æµè§ˆå™¨ä¸­socket.ioä¼šé€€åŒ–ä¸ºä½¿ç”¨polling/long-pollingæ¥ä¼ è¾“æ¶ˆæ¯ï¼Œé‚£ä¹ˆç›¸æ¯”ç›´æ¥å‘ç«™ç‚¹æœåŠ¡å™¨è¿›è¡Œpolling/long-pollingï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘è®¤ä¸ºä¼˜åŠ¿æœ‰ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NodeJSçš„å¼‚æ­¥äº‹ä»¶å›è°ƒçš„æ–¹å¼ï¼Œé€‚åˆå¤§å¹¶å‘é•¿è¿æ¥çš„åº”ç”¨åœºæ™¯ã€‚å¦‚æœWebåç«¯æ˜¯ä½¿ç”¨PHPç­‰å®ç°ï¼Œåˆ™æ›´é€‚åˆçŸ­è¿æ¥çš„æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;å°†ç«™ç‚¹çš„ä¸šåŠ¡é€»è¾‘ä¸æ¶ˆæ¯æ¨é€é€»è¾‘è§£è€¦ï¼Œé‚£ä¹ˆæµè§ˆå™¨é€šè¿‡polling/long-pollingæ¥è·å–æ¶ˆæ¯æ—¶ï¼Œåªæ˜¯æ¶‰åŠæ¶ˆæ¯æ¨é€é€»è¾‘ï¼Œä¸éœ€è¦æ‰§è¡Œä¸šåŠ¡é€»è¾‘çš„ä»£ç ï¼Œè€Œä¸šåŠ¡é€»è¾‘çš„ä»£ç å¯èƒ½å¾ˆå¤æ‚ï¼Œæ¯æ¬¡pollingï¼Œéƒ½éœ€è¦æ‰§è¡Œä¸€éçš„è¯ï¼Œä¼šæµªè´¹æœåŠ¡å™¨å¾ˆå¤šèµ„æºã€‚&lt;/li&gt;
&lt;/ol&gt;</content><category term="å…¶ä»–"></category><category term="socket.io"></category><category term="æ¶ˆæ¯æ¨é€"></category><category term="ç¬”è®°"></category></entry><entry><title>é¢å‘åˆ†å¸ƒå¼ç³»ç»Ÿå·¥ç¨‹å¸ˆçš„åˆ†å¸ƒå¼ç³»ç»Ÿç†è®ºï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2014/08/10/Distributed-systems-theory-for-the-distributed-systems-engineer/" rel="alternate"></link><published>2014-08-10T00:00:00+08:00</published><updated>2014-08-10T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-08-10:/2014/08/10/Distributed-systems-theory-for-the-distributed-systems-engineer/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://the-paper-trail.org/blog/distributed-systems-theory-for-the-distributed-systems-engineer/"&gt;Distributed systems theory for the distributed systems engineer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Gwen Shapiraï¼Œå¤§è…•çº§çš„è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆï¼ˆSAï¼‰ï¼Œå¦‚ä»Š Cloudera çš„å…¨èŒå·¥ç¨‹å¸ˆï¼Œåœ¨&lt;a href="https://twitter.com/gwenshap/status/497203248332165121"&gt; Twitter ä¸Šæçš„ä¸€ä¸ªé—®é¢˜&lt;/a&gt;å¼•èµ·äº†æˆ‘çš„ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://the-paper-trail.org/blog/distributed-systems-theory-for-the-distributed-systems-engineer/"&gt;Distributed systems theory for the distributed systems engineer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Gwen Shapiraï¼Œå¤§è…•çº§çš„è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆï¼ˆSAï¼‰ï¼Œå¦‚ä»Š Cloudera çš„å…¨èŒå·¥ç¨‹å¸ˆï¼Œåœ¨&lt;a href="https://twitter.com/gwenshap/status/497203248332165121"&gt; Twitter ä¸Šæçš„ä¸€ä¸ªé—®é¢˜&lt;/a&gt;å¼•èµ·äº†æˆ‘çš„æ€è€ƒã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ä»¥å‰ï¼Œæˆ‘å¯èƒ½ä¼šå›ç­”â€œå—¯ï¼Œè¿™é‡Œæœ‰ç¯‡ FLP è®ºæ–‡ï¼Œè¿™é‡Œæœ‰ç¯‡ Paxos è®ºæ–‡ï¼Œè¿™é‡Œè¿˜æœ‰ç¯‡æ‹œå åº­å°†å†›é—®é¢˜çš„è®ºæ–‡...â€ï¼Œæˆ‘ä¼šç½—åˆ—ä¸€ç®©ç­é‡è¦çš„ææ–™ï¼Œå¦‚æœä½ ä¸€å¤´æ‰è¿›å»ï¼Œè‡³å°‘èŠ±è´¹ 6 ä¸ªæœˆçš„æ—¶é—´æ‰èƒ½è¿‡ä¸€éè¿™äº›ææ–™ã€‚ç„¶è€Œæˆ‘å·²é€æ¸æ˜ç™½æ¨èå¤§é‡çš„ç†è®ºæ€§çš„è®ºæ–‡é€šå¸¸æ°æ°æ˜¯ç€æ‰‹å­¦ä¹ åˆ†å¸ƒå¼ç³»ç»Ÿç†è®ºçš„é”™è¯¯æ–¹å¼ï¼ˆé™¤éä½ åœ¨åšä¸€ä¸ª PhD é¡¹ç›®ï¼‰ã€‚è®ºæ–‡é€šå¸¸æ¯”è¾ƒæ·±å…¥éš¾æ‡‚ï¼Œéœ€è¦è®¤çœŸåœ°ç ”ä¹ ï¼Œé€šå¸¸è¿˜éœ€è¦&lt;em&gt;å¤§é‡çš„æ—¶é—´æŠ•å…¥ï¼ˆsignificant experienceï¼‰&lt;/em&gt;æ¥ç†æ¸…è¿™äº›è®ºæ–‡çš„é‡è¦è´¡çŒ®ï¼Œä»¥åŠåœ¨æ•´ä¸ªç†è®ºä½“ç³»ä¸­çš„ä½ç½®ã€‚è¦æ±‚å·¥ç¨‹å¸ˆå…·å¤‡è¿™æ ·çš„ä¸“ä¸šæ°´å¹³åˆæœ‰å¤šå¤§çš„æ„ä¹‰å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå¾ˆé—æ†¾ï¼Œå¯¹åˆ†å¸ƒå¼ç³»ç»Ÿç†è®ºæ–¹é¢çš„é‡å¤§ç ”ç©¶æˆæœå’Œæ€æƒ³è¿›è¡Œæ¦‚æ‹¬ã€å½’çº³ã€èƒŒæ™¯åˆ†æçš„â€˜å¯¼å¼•â€™æ€§è´¨çš„ä¼˜ç§€ææ–™éå¸¸ç¼ºä¹ï¼›ç‰¹åˆ«æ˜¯æ²¡æœ‰å±…é«˜ä¸´ä¸‹æ€åº¦çš„ææ–™ã€‚å¯¹è¿™å—ç©ºç™½åŒºåŸŸçš„æ€è€ƒè®©æˆ‘æƒ³åˆ°äº†å¦ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå·¥ç¨‹å¸ˆåº”è¯¥çŸ¥é“äº›ä»€ä¹ˆåˆ†å¸ƒå¼ç³»ç»Ÿç†è®ºï¼Ÿ&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€çŸ¥åŠè§£ï¼ˆa little theoryï¼‰å¹¶ä¸ä¼šæ˜¯ä¸€ä»¶å¤šå±é™©çš„äº‹æƒ…ã€‚å› æ­¤æˆ‘å°è¯•æ•´ç†ä¸€ä¸ªåˆ—è¡¨ï¼Œç½—åˆ—å‡ºä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå·¥ç¨‹å¸ˆçš„æˆ‘è®¤ä¸ºèƒ½å¤Ÿç›´æ¥åº”ç”¨äºæˆ‘æ—¥å¸¸å·¥ä½œçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼›æˆ–è€…è®©åˆ†å¸ƒå¼ç³»ç»Ÿå·¥ç¨‹å¸ˆå®Œå…¨æœ‰èƒ½åŠ›è®¾è®¡ä¸€ä¸ªæ–°ç³»ç»Ÿçš„â€œç­¹ç â€ã€‚å¦‚æœä½ è®¤ä¸ºæˆ‘æ¼æ‰äº†ä¸€äº›ä¸œè¥¿ï¼Œè¯·è”ç³»æˆ‘ã€‚&lt;/p&gt;
&lt;h4&gt;å…¥é—¨ç¬¬ä¸€æ­¥&lt;/h4&gt;
&lt;p&gt;ä»¥ä¸‹ 4 ç¯‡ææ–™å‡ºè‰²åœ°è§£é‡Šäº†æ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿä¼šé‡åˆ°çš„ä¸€äº›æŒ‘æˆ˜ï¼Œå…±åŒæ¦‚è¿°äº†ä¸€ç³»åˆ—åˆ†å¸ƒå¼ç³»ç»Ÿå·¥ç¨‹å¸ˆå¿…é¡»è¦è§£å†³çš„æŠ€æœ¯ä¸Šçš„éš¾é¢˜ï¼Œä¸ºä¹‹åç« èŠ‚ä¸­æ›´æ·±å…¥çš„ç ”ç©¶åšå¥½å‡†å¤‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://book.mixu.net/distsys/"&gt;å¥½ç©åˆå®åœ¨çš„åˆ†å¸ƒå¼ç³»ç»Ÿç†è®º&lt;/a&gt;æ˜¯ä¸€æœ¬ç®€çŸ­çš„ä¹¦ç±ï¼Œå…¶å†…å®¹è¦†ç›–äº†åˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸçš„ä¸€äº›åŸºæœ¬è®®é¢˜ï¼ŒåŒ…æ‹¬æ—¶é—´çš„ä½œç”¨åŠä¸åŒçš„å¤åˆ¶ç­–ç•¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.somethingsimilar.com/2013/01/14/notes-on-distributed-systems-for-young-bloods/"&gt;ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸæ–°äººæ•´ç†çš„ç¬”è®°&lt;/a&gt; - ä¸æ˜¯ç†è®ºå¯¹ç†è®ºåœ°è®²è¿°ï¼Œè€Œæ˜¯åšä¸€ä¸ªéå¸¸å¥½éå¸¸å®ç”¨çš„å¹³è¡¡ï¼Œè®©ä½ å¯¹å…¶ä½™ææ–™çš„é˜…è¯»èƒ½å¤Ÿè½åœ°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.41.7628"&gt;åˆ†å¸ƒå¼ç³»ç»Ÿç ”ç©¶ç»¼è¿°æŠ¥å‘Š&lt;/a&gt; - ä¸€ç¯‡ç»å…¸çš„è®ºæ–‡ï¼Œè§£é‡Šäº†ä¸ºä»€ä¹ˆä¸èƒ½å°†æ‰€æœ‰è¿œç¨‹äº¤äº’éƒ½æ¨¡æ‹Ÿæˆå’Œæœ¬åœ°å¯¹è±¡ä¸€æ ·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href="http://en.wikipedia.org/wiki/Fallacies_of_Distributed_Computing"&gt;å…³äºåˆ†å¸ƒå¼è®¡ç®—çš„è‹¥å¹²è°¬è®º&lt;/a&gt; - åˆ†å¸ƒå¼è®¡ç®—æ–¹é¢çš„8ç‚¹è°¬è®ºï¼Œæé†’ç³»ç»Ÿè®¾è®¡è€…å¯èƒ½ä¼šå¿˜è®°çš„å‡ ç±»äº‹æƒ…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;å¤±è´¥å’Œæ—¶é—´&lt;/h4&gt;
&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»Ÿå·¥ç¨‹å¸ˆéœ€è¦é¢å¯¹çš„è®¸å¤šå›°éš¾æœ€ç»ˆéƒ½å¯ä»¥å½’å’äºä¸¤ä¸ªæ½œåœ¨çš„åŸå› ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿›ç¨‹å¯èƒ½ä¼šå¤±è´¥&lt;/li&gt;
&lt;li&gt;ä¸å­˜åœ¨ä¸€ç§å¥½çš„æ–¹å¼æ¥å‘¨çŸ¥ç›®å‰ä¸ºæ­¢è¿›ç¨‹å·²ç»åšäº†äº›ä»€ä¹ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿›ç¨‹ä¹‹é—´å¯¹äº&lt;em&gt;æ—¶é—´&lt;/em&gt;çš„è®¤çŸ¥èƒ½å…±äº«äº›ä»€ä¹ˆï¼Ÿå“ªäº›å¤±è´¥çš„åœºæ™¯æ˜¯èƒ½å¤Ÿæ£€æµ‹åˆ°ï¼Ÿä»€ä¹ˆç®—æ³•å’ŒåŸè¯­å¯èƒ½è¢«æ­£ç¡®åœ°å®ç°ï¼Ÿè¿™ä¸‰ä¸ªé—®é¢˜æœ‰ç€éå¸¸æ·±å±‚çš„è”ç³»ã€‚å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå‡è®¾ä¸¤ä¸ªä¸åŒèŠ‚ç‚¹ä¹‹é—´å¯¹äºæ—¶é—´æ¦‚å¿µæˆ–æ—¶é—´ä»¥ä»€ä¹ˆæ ·çš„é€Ÿåº¦é€å»æ²¡æœ‰ä»»ä½•å¯å…±äº«çš„è®¤çŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½ åº”è¯¥çŸ¥é“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤±è´¥æ¨¡å¼çš„ï¼ˆéƒ¨åˆ†ï¼‰åˆ†å±‚ï¼š&lt;a href="http://www.cse.psu.edu/~gcao/teach/513-00/c7.pdf"&gt;å´©æºƒåœæ­¢-&amp;gt;æ’é™¤ï¼ˆomissionï¼‰&lt;/a&gt;-&amp;gt;&lt;a href="http://en.wikipedia.org/wiki/Byzantine_fault_tolerance"&gt;æ‹œå åº­å®¹é”™&lt;/a&gt;ã€‚ä½ åº”è¯¥ç†è§£ï¼šåœ¨é«˜å±‚æ¬¡ä¸Šå¯èƒ½å‘ç”Ÿçš„é—®é¢˜åœ¨ä½å±‚æ¬¡ä¸Šè‚¯å®šå¯èƒ½å‘ç”Ÿï¼Œåœ¨ä½å±‚æ¬¡ä¸Šä¸å¯èƒ½å‘ç”Ÿçš„é—®é¢˜åœ¨é«˜å±‚æ¬¡ä¸Šä¹Ÿè‚¯å®šä¸å¯èƒ½å‘ç”Ÿã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ²¡æœ‰ä»»ä½•å…±äº«æ—¶é’Ÿçš„æƒ…å†µä¸‹å¦‚ä½•åˆ¤æ–­åœ¨å¦ä¸€ä¸ªäº‹ä»¶ä¹‹å‰æ˜¯å¦äº§ç”Ÿäº†æŸäº‹ä»¶ã€‚è¿™æ„å‘³ç€ä½ éœ€è¦ç†è§£ &lt;a href="http://web.stanford.edu/class/cs240/readings/lamport.pdf"&gt;Lamport æ—¶é’Ÿ&lt;/a&gt;åŠå…¶ä¸€èˆ¬åŒ–çš„&lt;a href="http://en.wikipedia.org/wiki/Vector_clock"&gt;å‘é‡æ—¶é’Ÿ&lt;/a&gt;ï¼Œä¹Ÿéœ€è¦é˜…è¯»ä¸€ä¸‹&lt;a href="http://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf"&gt;è¿™ç¯‡ Dynamo è®ºæ–‡&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å•ä¸ªå¤±è´¥å‘ç”Ÿçš„å¯èƒ½æ€§å¯¹äºæˆ‘ä»¬å®ç°æ­£ç¡®çš„åˆ†å¸ƒå¼ç³»ç»Ÿåˆ°åº•ä¼šæœ‰å¤šå¤§çš„å½±å“ï¼ˆè¯·é˜…è¯»ä¸‹é¢å…³äº FLP ç»“æœçš„ç¬”è®°ï¼‰ï¼Ÿ&lt;/li&gt;
&lt;li&gt;ä¸åŒçš„æ—¶é—´æ¨¡å‹ï¼šåŒæ­¥ã€éƒ¨åˆ†åŒæ­¥å’Œå¼‚æ­¥ï¼ˆè‹¥æˆ‘æ‰¾åˆ°å¥½çš„å‚è€ƒæ–‡çŒ®ä¼šæ·»åŠ é“¾æ¥ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;å®¹é”™çš„åŸºæœ¬çŸ›ç›¾&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸ªç³»ç»Ÿï¼Œè‹¥è¦ä¸é™çº§è€Œå®¹å¿æŸäº›é”™è¯¯çš„å‘ç”Ÿï¼Œå°±å¿…é¡»èƒ½å¤Ÿå¥½åƒé‚£äº›é”™è¯¯æ²¡æœ‰å‘ç”Ÿä¸€æ ·åœ°è¿ä½œã€‚è¿™é€šå¸¸æ„å‘³ç€ç³»ç»Ÿçš„è¿™äº›éƒ¨åˆ†å¿…é¡»èƒ½å¤Ÿå†—ä½™åœ°å·¥ä½œï¼Œä½†æ˜¯éç»å¯¹å¿…è¦åœ°åšæ›´å¤šçš„å·¥ä½œé€šå¸¸ä¼šåœ¨æ€§èƒ½å’Œèµ„æºè€—ç”¨æ–¹é¢äº§ç”Ÿä¸€äº›æ¶ˆè€—ã€‚è¿™æ˜¯ä¸ºç³»ç»Ÿæ·»åŠ å®¹é”™å¸¦æ¥çš„åŸºæœ¬çŸ›ç›¾ã€‚&lt;/p&gt;
&lt;p&gt;ä½ åº”è¯¥çŸ¥é“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¡®ä¿å•æ‹·è´å¯ä¸²è¡ŒåŒ–ï¼ˆsingle-copy serialisabilityï¼‰çš„ä»²è£ï¼ˆquorumï¼‰æŠ€æœ¯ã€‚å¯é˜…è¯» &lt;a href="https://ecommons.library.cornell.edu/bitstream/1813/6323/1/82-483.pdf"&gt;Skeen çš„åŸå§‹è®ºæ–‡&lt;/a&gt;ï¼Œä½†å¯èƒ½æ›´å»ºè®®é˜…è¯»&lt;a href="http://en.wikipedia.org/wiki/Quorum_(distributed_computing)"&gt;è¿™ä¸ª Wikipedia è¯æ¡&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å…³äº&lt;a href="http://the-paper-trail.org/blog/consensus-protocols-two-phase-commit/"&gt;ä¸¤é˜¶æ®µæäº¤&lt;/a&gt;ã€&lt;a href="http://the-paper-trail.org/blog/consensus-protocols-three-phase-commit/"&gt;ä¸‰é˜¶æ®µæäº¤&lt;/a&gt;å’Œ &lt;a href="http://the-paper-trail.org/blog/consensus-protocols-paxos/"&gt;Paxos&lt;/a&gt; ç®—æ³•ï¼Œä»¥åŠä¸ºä»€ä¹ˆå®ƒä»¬æœ‰ä¸åŒçš„å®¹é”™æ€§è´¨ã€‚&lt;/li&gt;
&lt;li&gt;æœ€ç»ˆä¸€è‡´æ€§ï¼ŒåŠå…¶ä»–æŠ€æœ¯æ˜¯å¦‚ä½•ä»¥å¼±åŒ–å¯¹ç³»ç»Ÿè¡Œä¸ºçš„ä¿è¯ä¸ºä»£ä»·æ¥å°è¯•é¿å…è¿™ç§çŸ›ç›¾çš„ã€‚è¿™ç¯‡ &lt;a href="http://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf"&gt;Dynamo è®ºæ–‡&lt;/a&gt;æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ï¼ŒåŒæ—¶ Pat Helland çš„ç»å…¸ä¹‹ä½œ &lt;a href="http://www.ics.uci.edu/~cs223/papers/cidr07p15.pdf"&gt;Life Beyond Transactions&lt;/a&gt; ä¹Ÿæ˜¯å¿…è¯»çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;åŸºæœ¬çš„åŸè¯­&lt;/h4&gt;
&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¾ˆå°‘æœ‰å¤§å®¶ä¸€è‡´è®¤åŒçš„åŸºæœ¬æ„å»ºå—ï¼Œä½†è¶Šæ¥è¶Šå¤šåœ°åœ¨å‡ºç°ã€‚ä½ åº”è¯¥ä»¥ä¸‹çš„é—®é¢˜æ˜¯ä»€ä¹ˆï¼Œä»¥åŠåœ¨å“ªå¯ä»¥æ‰¾åˆ°å®ƒä»¬çš„è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¾¤é¦–é€‰ä¸¾ï¼ˆleader electionï¼‰ï¼ˆä¾‹å¦‚ &lt;a href="http://en.wikipedia.org/wiki/Bully_algorithm"&gt;Bully ç®—æ³•&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€è‡´çš„å¿«ç…§ï¼ˆä¾‹å¦‚ Chandy å’Œ Lamport æ‰€å†™çš„&lt;a href="http://research.microsoft.com/en-us/um/people/lamport/pubs/chandy.pdf"&gt;ç»å…¸è®ºæ–‡&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å…±è¯†ï¼ˆé˜…è¯»ä¸Šæ–‡æåˆ°çš„å…³äº 2PC å’Œ Paxos çš„åšæ–‡ï¼‰&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼çŠ¶æ€æœºå¤åˆ¶ï¼ˆçœ‹çœ‹ &lt;a href="http://en.wikipedia.org/wiki/State_machine_replication"&gt;Wikipedia&lt;/a&gt; å°±å¯ä»¥ï¼Œä½† &lt;a href="http://research.microsoft.com/en-us/um/people/blampson/58-Consensus/Acrobat.pdf"&gt;Lampson çš„è®ºæ–‡&lt;/a&gt;æ›´æƒå¨ï¼Œåªæ˜¯æ¯ç‡¥äº†ç‚¹ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;åŸºç¡€ç»“è®º&lt;/h4&gt;
&lt;p&gt;æŸäº›å®¢è§‚äº‹å®æ˜¯éœ€è¦å†…åŒ–äºå¿ƒçš„ï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªå…³é”®ç‚¹ï¼ˆa flavourï¼‰ï¼ˆå½“ç„¶è¿˜æœ‰æ›´å¤šï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœè¿›ç¨‹ä¹‹é—´å¯èƒ½ä¸¢å¤±æŸäº›æ¶ˆæ¯ï¼Œé‚£ä¹ˆä¸å¯èƒ½åœ¨å®ç°ä¸€è‡´æ€§å­˜å‚¨çš„åŒæ—¶èƒ½å“åº”æ‰€æœ‰çš„è¯·æ±‚ã€‚è¿™å°±æ˜¯ &lt;a href="http://lpd.epfl.ch/sgilbert/pubs/BrewersConjecture-SigAct.pdf"&gt;CAP å®šç†&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä»¥è¿™æ ·ä¸€ç§æ–¹å¼ï¼ˆa.å§‹ç»ˆæ˜¯æ­£ç¡®çš„ã€b.å§‹ç»ˆèƒ½ç»ˆæ­¢-è‹¥åœ¨ä¸€ä¸ªå¯èƒ½å› å¤±è´¥å´©æºƒåœæ­¢ï¼ˆcrash-* stop failuresï¼‰çš„å¼‚æ­¥ç³»ç»Ÿä¸­æœ‰ï¼ˆç”šè‡³ä»…ï¼‰ä¸€å°æœºå™¨å¤±æ•ˆæ—¶ï¼ˆFLP çš„ç»“æœï¼‰ï¼‰ã€‚æˆ‘å¸Œæœ›åœ¨&lt;a href="http://www.slideshare.net/HenryRobinson/pwl-nonotes"&gt;æ´›æ‰çŸ¶é¢˜ä¸º Papers We Love æŠ¥å‘Š&lt;/a&gt;çš„ç¬¬ä¸€éƒ¨åˆ†å¹»ç¯ç‰‡-è¿›è¡Œè¯æ˜ä¹‹å‰-å·²ç»åˆç†åœ°è§£é‡Šäº†è¿™ä¸ªç»“è®ºã€‚&lt;em&gt;å»ºè®®ï¼šæ²¡æœ‰å®é™…çš„å¿…è¦ç†è§£è¿™ä¸ªè¯æ˜ã€‚&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;ä¸€èˆ¬è€Œè¨€ï¼Œæ¶ˆæ¯äº¤äº’å°‘äºä¸¤è½®æ˜¯ä¸å¯èƒ½è¾¾æˆå…±è¯†ï¼ˆConsensusï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;çœŸå®ç³»ç»Ÿ&lt;/h4&gt;
&lt;p&gt;æœ€é‡è¦çš„ç»ƒä¹ æ˜¯é‡å¤åœ°é˜…è¯»æ–°å…´çš„ã€çœŸå®ç³»ç»Ÿçš„æè¿°ï¼Œå¹¶å°è¯•è¯„ä»·å®ƒä»¬çš„è®¾è®¡å†³ç­–ã€‚ä¸€éåˆä¸€éåœ°è¿™æ ·å»åšã€‚ä¸€äº›å»ºè®®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Google:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://static.googleusercontent.com/media/research.google.com/en/us/archive/gfs-sosp2003.pdf"&gt;GFS&lt;/a&gt;ã€&lt;a href="http://static.googleusercontent.com/media/research.google.com/en/us/archive/spanner-osdi2012.pdf"&gt;Spanner&lt;/a&gt;ã€&lt;a href="http://static.googleusercontent.com/media/research.google.com/en/us/pubs/archive/41344.pdf"&gt;F1&lt;/a&gt;ã€&lt;a href="http://static.googleusercontent.com/media/research.google.com/en/us/archive/chubby-osdi06.pdf"&gt;Chubby&lt;/a&gt;ã€&lt;a href="http://static.googleusercontent.com/media/research.google.com/en/us/archive/bigtable-osdi06.pdf"&gt;BigTable&lt;/a&gt;ã€&lt;a href="http://static.googleusercontent.com/media/research.google.com/en/us/pubs/archive/41378.pdf"&gt;MillWheel&lt;/a&gt;ã€&lt;a href="http://eurosys2013.tudos.org/wp-content/uploads/2013/paper/Schwarzkopf.pdf"&gt;Omega&lt;/a&gt;ã€&lt;a href="http://static.googleusercontent.com/media/research.google.com/en/us/pubs/archive/36356.pdf"&gt;Dapper&lt;/a&gt;ã€&lt;a href="http://www.cs.utexas.edu/users/lorenzo/corsi/cs380d/papers/paper2-1.pdf"&gt;Paxos Made Live&lt;/a&gt;ã€&lt;a href="http://cacm.acm.org/magazines/2013/2/160173-the-tail-at-scale/abstract"&gt;The Tail At Scale&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Not Google:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://research.microsoft.com/en-us/projects/dryad/eurosys07.pdf"&gt;Dryad&lt;/a&gt;, &lt;a href="https://www.cs.cornell.edu/projects/ladis2009/papers/lakshman-ladis2009.pdf"&gt;Cassandra&lt;/a&gt;, &lt;a href="http://ceph.com/papers/weil-ceph-osdi06.pdf"&gt;Ceph&lt;/a&gt;, &lt;a href="https://ramcloud.stanford.edu/wiki/display/ramcloud/RAMCloud+Papers"&gt;RAMCloud&lt;/a&gt;, &lt;a href="http://hyperdex.org/papers/"&gt;HyperDex&lt;/a&gt;, &lt;a href="http://www.mpi-sws.org/~druschel/courses/ds/papers/cooper-pnuts.pdf"&gt;PNUTS&lt;/a&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="åˆ†å¸ƒå¼ç³»ç»Ÿ"></category><category term="ç¿»è¯‘"></category></entry><entry><title>æŠ€æœ¯é—®é¢˜ä¸€é—®ä¸€ç­”</title><link href="http://youngsterxyf.github.io/2014/06/26/recently-technology-tips/" rel="alternate"></link><published>2014-06-26T00:00:00+08:00</published><updated>2014-06-26T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-06-26:/2014/06/26/recently-technology-tips/</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¦‚ä½•æ–¹ä¾¿åœ°åˆ é™¤æŸç›®å½•ä¸‹æ‰€æœ‰ç©ºæ–‡ä»¶ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;find . -size 0 -exec rm {} \;&lt;/code&gt; æˆ– &lt;code&gt;find . -size 0 | xargs rm -f&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;findé»˜è®¤ä¼šé€’å½’éå†æ‰€æœ‰å­ç›®å½•ï¼Œå¦‚æœæƒ³åªåœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ï¼Œå¯ä»¥æ·»åŠ å‚æ•°&lt;code&gt;-prune&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¦‚ä½•æŸ¥ â€¦&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¦‚ä½•æ–¹ä¾¿åœ°åˆ é™¤æŸç›®å½•ä¸‹æ‰€æœ‰ç©ºæ–‡ä»¶ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;find . -size 0 -exec rm {} \;&lt;/code&gt; æˆ– &lt;code&gt;find . -size 0 | xargs rm -f&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;findé»˜è®¤ä¼šé€’å½’éå†æ‰€æœ‰å­ç›®å½•ï¼Œå¦‚æœæƒ³åªåœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ï¼Œå¯ä»¥æ·»åŠ å‚æ•°&lt;code&gt;-prune&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¦‚ä½•æŸ¥çœ‹æŸè¿›ç¨‹æ‰“å¼€äº†å“ªäº›æ–‡ä»¶ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…ˆé€šè¿‡&lt;code&gt;ps aux | grep [è¿›ç¨‹å]&lt;/code&gt;æ‰¾åˆ°è¯¥è¿›ç¨‹çš„è¿›ç¨‹å·ï¼Œç„¶å&lt;code&gt;ls -la /proc/[è¿›ç¨‹å·]/fd&lt;/code&gt;ï¼Œè¾“å‡ºä¸ä»…åŒ…å«æ‰“å¼€çš„æ™®é€šæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ç§ä¸å¤ªç›´è§‚çš„æ–¹æ³•æ˜¯ä½¿ç”¨lsofï¼Œ&lt;code&gt;lsof -c [è¿›ç¨‹å]&lt;/code&gt;ï¼Œä½†è¿™ä¸ªå‘½ä»¤çš„è¾“å‡ºåŒ…å«è¿›ç¨‹æ‰“å¼€çš„å„ç§ç±»å‹çš„æ–‡ä»¶ï¼Œå¯ä»¥ç®€å•è¿‡æ»¤ä¸€ä¸‹&lt;code&gt;lsof -c [è¿›ç¨‹å] | grep REG&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¦‚ä½•é‡å¯php-fpmï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;php5.3.3ä»¥ä¸Šç‰ˆæœ¬çš„php-fpmä¸å†æ”¯æŒphp-fpmä»¥å‰å…·æœ‰çš„&lt;code&gt;php-fpm (start|stop|reload)&lt;/code&gt;ç­‰å‘½ä»¤ï¼Œéœ€è¦ä½¿ç”¨ä¿¡å·æ§åˆ¶ã€‚
masterè¿›ç¨‹å¯ä»¥ç†è§£ä»¥ä¸‹ä¿¡å·ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;INT, TERM ç«‹åˆ»ç»ˆæ­¢&lt;/li&gt;
&lt;li&gt;QUIT å¹³æ»‘ç»ˆæ­¢&lt;/li&gt;
&lt;li&gt;USR1 é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;USR2 å¹³æ»‘é‡è½½æ‰€æœ‰workerè¿›ç¨‹å¹¶é‡æ–°è½½å…¥é…ç½®å’ŒäºŒè¿›åˆ¶æ¨¡å—&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é‚£ä¹ˆåº”è¯¥è¿™æ ·é‡å¯php-fpmï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;kill -USR2 $(cat php-fpm.pid)&lt;/code&gt; æˆ– å…ˆ&lt;code&gt;ps aux | grep php-fpm&lt;/code&gt;æ‰¾åˆ°php-fpmä¸»è¿›ç¨‹çš„è¿›ç¨‹å·ï¼Œç„¶å&lt;code&gt;kill -USR2 [è¿›ç¨‹å·]&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯¹äºNginxã€php-fpmç­‰çš„æ—¥å¿—æ–‡ä»¶ä½¿ç”¨shellè„šæœ¬è¿›è¡Œåˆ‡åˆ†å¤‡ä»½æ—¶ï¼Œå‘ç°Nginxã€php-fpmè¿˜æ˜¯å¾€å¤‡ä»½çš„è€æ–‡ä»¶ä¸­ï¼Œè€Œä¸æ˜¯å¾€æ–°çš„access.logæˆ–error.logæ–‡ä»¶ä¸­å†™æ—¥å¿—ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;shellè„šæœ¬ä¸­é€šå¸¸ä½¿ç”¨mv + touch æˆ– cp + touchçš„æ–¹å¼å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œå¤‡ä»½ã€‚ç”±äºNginxæˆ–php-fpmè¿›ç¨‹å…¶å®åªçŸ¥é“æ—¥å¿—æ–‡ä»¶æ‰“å¼€åçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œè€Œä¸çŸ¥é“æ‰“å¼€çš„æ˜¯å“ªä¸ªæ–‡ä»¶ã€‚ä½¿ç”¨mvæˆ–cpå¤‡ä»½æ–‡ä»¶åï¼Œåº”è¯¥æ˜¯ä¿®æ”¹äº†å†…æ ¸ä¸­æ–‡ä»¶æè¿°ç¬¦å¯¹åº”çš„æ–‡ä»¶è·¯å¾„ï¼ˆæˆ‘çŒœçš„ï¼ï¼‰ï¼Œä½†Nginxæˆ–php-fpmå¹¶ä¸çŸ¥é“ç°åœ¨è¯¥æ–‡ä»¶æè¿°ç¬¦æŒ‡å‘çš„ä¸å†æ˜¯åŸæ¥çš„æ—¥å¿—æ–‡ä»¶ã€‚æ‰€ä»¥è§£å†³æ–¹æ³•å°±æ˜¯é€šçŸ¥Nginxæˆ–php-fpmæ ¹æ®é…ç½®é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶ã€‚æ ¹æ®å‰ä¸€ä¸ªé—®é¢˜ï¼Œå¯çŸ¥å¯ä»¥é€šè¿‡killå‘½ä»¤ç»™è¿›ç¨‹å‘é€USR1ä¿¡å·æ¥å®ç°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;kill -USR1 &lt;span style="color: #a31515"&gt;`&lt;/span&gt;cat php-fpm.pid&lt;span style="color: #a31515"&gt;`&lt;/span&gt;
kill -USR1 &lt;span style="color: #a31515"&gt;`&lt;/span&gt;cat nginx.pid&lt;span style="color: #a31515"&gt;`&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å·¥ä½œä¸­ä½¿ç”¨gitçš„åˆ†æ”¯æ¨¡å¼è¿›è¡Œåä½œå¼€å‘ï¼Œéœ€è¦åœ¨æµ‹è¯•æœåŠ¡å™¨ï¼ˆHTTP Serverä½¿ç”¨Nginxï¼Œåº”ç”¨ç¨‹åºåŸºäºPHPçš„Yiiæ¡†æ¶å®ç°ï¼‰ä¸Šä¸ºæ¯ä¸ªåˆ†æ”¯å¼€ä¸€ä¸ªæµ‹è¯•ç¯å¢ƒï¼Œä¸ºäº†æ ‡è¯†ä½¿ç”¨æ–¹ä¾¿ï¼Œå¸Œæœ›ä½¿ç”¨åŒä¸€ä¸ªHTTPç«¯å£ï¼Œä¸åŒçš„URLå‰ç¼€æ ‡è¯†ä¸åŒçš„åˆ†æ”¯ï¼Œå¦‚masteråˆ†æ”¯çš„URLä¸º/master/ï¼Œå…¶ä»–åˆ†æ”¯çš„URLä¸º/test/[åˆ†æ”¯å]/ã€‚è¯¥å¦‚ä½•é…ç½®Nginxçš„è™šæ‹Ÿä¸»æœºï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬çš„åº”ç”¨ä½¿ç”¨Yiiæ¡†æ¶é»˜è®¤çš„URLé£æ ¼(/?r=controller/action)ï¼Œæ„å‘³ç€æ‰€æœ‰éé™æ€å†…å®¹(éjsã€cssã€å›¾ç‰‡ç­‰)è¯·æ±‚æŒ‡å‘çš„æœåŠ¡å™¨èµ„æºéƒ½æ˜¯ç›¸åŒçš„ï¼ˆå¦‚&lt;code&gt;/&lt;/code&gt;æˆ–&lt;code&gt;/xxx/&lt;/code&gt;ï¼‰ï¼Œè€ŒYiiæ¡†æ¶çš„è¯·æ±‚å¤„ç†å…¥å£ç»Ÿä¸€ä¸ºä¸€ä¸ªindex.phpæ–‡ä»¶ã€‚Nginxæœ‰ä¸€ä¸ªé…ç½®å˜é‡&lt;code&gt;$uri&lt;/code&gt;ï¼Œä¿å­˜ç€è¯·æ±‚çš„URLï¼ˆä¸å¸¦è¯·æ±‚å‚æ•°ï¼‰ã€‚é‚£ä¹ˆå¯ä»¥è®©æ‰€æœ‰åˆ†æ”¯çš„æµ‹è¯•ç¯å¢ƒå…±ç”¨ä¸€ä¸ªrootï¼Œå†å°†æ‰€æœ‰éé™æ€å†…å®¹è¯·æ±‚é‡å®šå‘åˆ°&lt;code&gt;$uri/index.php&lt;/code&gt;å°±å¯ä»¥äº†ã€‚å¯¹äºé™æ€æ–‡ä»¶è¯·æ±‚è®©å…¶æ ¹æ®è·¯å¾„ç›´æ¥è·å–æ–‡ä»¶å†…å®¹å³å¯ã€‚ä½†è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ€ä¹ˆè®©åˆ†æ”¯ä»£ç ä¸­æ‰€æœ‰é™æ€æ–‡ä»¶è¶…é“¾æ¥éƒ½å¸¦ä¸Šåˆ†æ”¯å¯¹åº”çš„URLå‰ç¼€ï¼Ÿå¯ä»¥é€šè¿‡ä¸ºYiié…ç½®ä¸€ä¸ªåä¸ºurl_prefixçš„å‚æ•°ï¼ŒæŒ‡å®šè¯¥åˆ†æ”¯æ‰€ä½¿ç”¨çš„URLå‰ç¼€ï¼Œç„¶ååœ¨HTMLæ¨¡æ¿ï¼ˆæˆ‘ä»¬ä½¿ç”¨smartyæ¥æ¸²æŸ“ï¼‰ä¸­è®©æ‰€æœ‰é™æ€æ–‡ä»¶è¶…é“¾æ¥éƒ½å¸¦ä¸Šè¿™ä¸ªURLå‰ç¼€å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®&lt;a href="http://www.yiiframework.com/doc/guide/1.1/en/quickstart.apache-nginx-config#nginx"&gt;Yiiå®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„Nginxè™šæ‹Ÿä¸»æœºé…ç½®&lt;/a&gt;è¿›è¡Œä¿®æ”¹å¾—åˆ°æˆ‘ä»¬éœ€è¦çš„é…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;listen 80;
server_name  localhost;

root html;
set $yii_bootstrap &amp;quot;index.php&amp;quot;;
location / {
    index index.html $yii_bootstrap;
    try_files $uri $uri/ $uri/$yii_bootstrap?$args;
}

location ~ ^/(protected|framework|themes/\w+/views) {
    deny all;
}

location ~ \.(js|css|png|jpg|gif|swf|ico|pdf|mov|fla|zip|rar)$ {
    try_files $uri =404;
}

location ~ \.php {
    fastcgi_split_path_info ^(.+\.php)(.*)$;

    set $fsn /$yii_bootstrap;
    if (-f $document_root$fastcgi_script_name){
        set $fsn $fastcgi_script_name;
    }

    fastcgi_pass 127.0.0.1:9000;
    include fastcgi_params;
    fastcgi_param SCRIPT_FILENAME $document_root$fsn;

    fastcgi_param PATH_INFO $fastcgi_path_info;
    fastcgi_param PATH_TRANSLATED $document_root$fsn;
}

location ~ /\. {
    deny all;
    access_log off;
    log_not_found off;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category></entry><entry><title>å¾®ä¿¡æœåŠ¡å·å¼€å‘ç¬”è®°</title><link href="http://youngsterxyf.github.io/2014/06/14/wechat-service-account-development/" rel="alternate"></link><published>2014-06-14T00:00:00+08:00</published><updated>2014-06-14T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-06-14:/2014/06/14/wechat-service-account-development/</id><summary type="html">&lt;h3&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;å¾®ä¿¡æœåŠ¡å·çš„åŸç†æ¯”è¾ƒç®€å•ã€‚ä»è¯·æ±‚å“åº”è§’åº¦æ¥çœ‹ï¼Œé€»è¾‘æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”¨æˆ·å¾®ä¿¡å®¢æˆ·ç«¯ &amp;lt;---&amp;gt; å¾®ä¿¡æœåŠ¡å™¨ &amp;lt;---&amp;gt; å¾®ä¿¡æœåŠ¡å·åå°ç¨‹åº &amp;lt;---&amp;gt; æ•°æ®åº“ â€¦&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;h3&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;å¾®ä¿¡æœåŠ¡å·çš„åŸç†æ¯”è¾ƒç®€å•ã€‚ä»è¯·æ±‚å“åº”è§’åº¦æ¥çœ‹ï¼Œé€»è¾‘æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç”¨æˆ·å¾®ä¿¡å®¢æˆ·ç«¯ &amp;lt;---&amp;gt; å¾®ä¿¡æœåŠ¡å™¨ &amp;lt;---&amp;gt; å¾®ä¿¡æœåŠ¡å·åå°ç¨‹åº &amp;lt;---&amp;gt; æ•°æ®åº“æˆ–Web Service&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯ï¼Œç”¨æˆ·çš„å„ç§è¯·æ±‚å…ˆç»è¿‡å¾®ä¿¡çš„æœåŠ¡å™¨ï¼Œå¾®ä¿¡æœåŠ¡å™¨å°†è¯·æ±‚è½¬å‘ç»™å¾®ä¿¡æœåŠ¡å·åå°ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶æ˜¯å¾®ä¿¡æœåŠ¡å™¨æŠŠç”¨æˆ·è¯·æ±‚æ•°æ®è½¬å‘ç»™æˆ‘ä»¬å¼€å‘çš„å¾®ä¿¡æœåŠ¡å·åå°ç¨‹åºï¼Œé‚£ä¹ˆåœ¨å¯ç”¨æœåŠ¡å·çš„å¼€å‘æ¨¡å¼æ—¶å°±éœ€è¦æä¾›ä¸€ä¸ªURLã€‚å¦å¤–ä¸ºäº†å®‰å…¨
è€ƒè™‘ï¼Œè¿˜éœ€è¦æä¾›ä¸€ä¸ªtokenï¼Œç”¨æ¥æ ¡éªŒè¯·æ±‚æ˜¯å¦æ¥è‡ªå¾®ä¿¡æœåŠ¡å™¨ã€‚æ ¡éªŒçš„æ–¹æ³•è§&lt;a href="http://mp.weixin.qq.com/wiki/index.php?title=%E9%AA%8C%E8%AF%81%E6%B6%88%E6%81%AF%E7%9C%9F%E5%AE%9E%E6%80%A7"&gt;å¾®ä¿¡å¼€å‘è€…æ–‡æ¡£&lt;/a&gt;ã€‚æ ¡éªŒåˆåˆ†ä¸¤ç§ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨å¼€å‘è€…é¦–æ¬¡æäº¤éªŒè¯ç”³è¯·æ—¶ï¼Œå¾®ä¿¡æœåŠ¡å™¨å°†å‘é€GETè¯·æ±‚åˆ°å¡«å†™çš„URLä¸Šï¼Œå¹¶ä¸”å¸¦ä¸Šå››ä¸ªå‚æ•°ï¼ˆsignatureã€timestampã€nonceã€echostrï¼‰ï¼Œå¼€å‘è€…é€šè¿‡å¯¹ç­¾åï¼ˆå³signatureï¼‰çš„æ•ˆéªŒï¼Œæ¥åˆ¤æ–­æ­¤æ¡æ¶ˆæ¯çš„çœŸå®æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤åï¼Œæ¯æ¬¡å¼€å‘è€…æ¥æ”¶ç”¨æˆ·æ¶ˆæ¯çš„æ—¶å€™ï¼Œå¾®ä¿¡ä¹Ÿéƒ½ä¼šå¸¦ä¸Šå‰é¢ä¸‰ä¸ªå‚æ•°ï¼ˆsignatureã€timestampã€nonceï¼‰è®¿é—®å¼€å‘è€…è®¾ç½®çš„URLï¼Œå¼€å‘è€…ä¾ç„¶é€šè¿‡å¯¹ç­¾åçš„æ•ˆéªŒåˆ¤æ–­æ­¤æ¡æ¶ˆæ¯çš„çœŸå®æ€§ã€‚æ•ˆéªŒæ–¹å¼ä¸é¦–æ¬¡æäº¤éªŒè¯ç”³è¯·ä¸€è‡´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¾®ä¿¡æœåŠ¡å™¨è½¬å‘åˆ°å¾®ä¿¡æœåŠ¡å·åå°ç¨‹åºçš„æ¶ˆæ¯ä»¥åŠæœåŠ¡å·åå°ç¨‹åºè¿”å›ç»™å¾®ä¿¡æœåŠ¡å™¨çš„å“åº”ï¼Œéƒ½æ˜¯XMLæ ¼å¼ï¼Œæ¶ˆæ¯ä¸­éƒ½ä¼šæŒ‡æ˜å‘é€è€…å’Œæ¥æ”¶è€…ã€‚
è¯·æ±‚æ¶ˆæ¯ä¸­çš„å‘é€è€…ä¸ºå¾®ä¿¡ç”¨æˆ·çš„openidï¼Œæ¥æ”¶è€…ä¸ºæœåŠ¡å·å¼€å‘è€…å¾®ä¿¡å·ï¼Œå“åº”æ¶ˆæ¯åˆ™ç›¸åã€‚&lt;/p&gt;
&lt;p&gt;æ¶ˆæ¯ä¸­è¿˜æœ‰ä¸€ä¸ªå…³é”®å­—æ®µMsgTypeæŒ‡æ˜æ¶ˆæ¯ç±»å‹ã€‚å¾®ä¿¡å°†è¯·æ±‚æ¶ˆæ¯åˆ†ä¸ºï¼šæ™®é€šæ¶ˆæ¯ã€äº‹ä»¶æ¨é€ã€è¯­éŸ³è¯†åˆ«ç»“æœä¸‰å¤§ç±»ï¼Œå…¶ä¸­ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ™®é€šæ¶ˆæ¯åˆ†6ç§ï¼šæ–‡æœ¬ã€å›¾ç‰‡ã€è¯­éŸ³ã€è§†é¢‘ã€åœ°ç†ä½ç½®ã€é“¾æ¥ã€‚&lt;/li&gt;
&lt;li&gt;äº‹ä»¶æ¨é€åˆ†4ç§ï¼šå…³æ³¨/å–æ¶ˆå…³æ³¨äº‹ä»¶ã€æ‰«æå¸¦å‚æ•°äºŒç»´ç äº‹ä»¶ã€ä¸ŠæŠ¥åœ°ç†ä½ç½®äº‹ä»¶ã€è‡ªå®šä¹‰èœå•äº‹ä»¶(ç‚¹å‡»èœå•æ‹‰å–æ¶ˆæ¯æ—¶çš„äº‹ä»¶æ¨é€ã€ç‚¹å‡»èœå•è·³è½¬é“¾æ¥æ—¶çš„äº‹ä»¶æ¨é€)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å“åº”æ¶ˆæ¯ä¹Ÿåˆ†6ç§ï¼šæ–‡æœ¬ã€å›¾ç‰‡ã€è¯­éŸ³ã€è§†é¢‘ã€éŸ³ä¹ã€å›¾æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;å·¥ä½œä¸­ä¸ºäº§å“å¼€å‘çš„å¾®ä¿¡æœåŠ¡å·ï¼Œç›®å‰å¯¹äºæ™®é€šæ¶ˆæ¯ï¼ŒæœåŠ¡å·åå°ç¨‹åºè‡ªåŠ¨å“åº”ä¸€æ®µæ–‡æœ¬æ¶ˆæ¯ï¼›å¯¹äºäº‹ä»¶æ¨é€ä¸­çš„å…³æ³¨äº‹ä»¶ï¼Œåˆ™æ˜¯å“åº”ä¸€æ®µæ¬¢è¿ã€
åŠŸèƒ½ç®€ä»‹çš„æ–‡æœ¬æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–æˆ‘ä»¬ä½¿ç”¨äº†è‡ªå®šä¹‰èœå•äº‹ä»¶ï¼Œè¦æƒ³ä½¿ç”¨è¯¥äº‹ä»¶ï¼Œå…ˆè¦ä¸ºä½ çš„å¾®ä¿¡æœåŠ¡å·æä¾›è‡ªå®šä¹‰èœå•ã€‚è‡ªå®šä¹‰èœå•æ˜¯é€šè¿‡å¾®ä¿¡æä¾›çš„APIå‘å…¶æ¨é€çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é€šè¿‡APIå‘å¾®ä¿¡æœåŠ¡å™¨æ¨é€è‡ªå®šä¹‰èœå•æ—¶ï¼Œå¾®ä¿¡æœåŠ¡å™¨éœ€è¦ç¡®è®¤æ˜¯å¦ä¸ºå¯ä¿¡ä»»è¯·æ±‚ï¼Œç¡®è®¤æ–¹æ³•æ˜¯åŸºäºè¯·æ±‚å‚æ•°access_tokenã€‚
access_tokenéœ€è¦é€šè¿‡APIå‘å¾®ä¿¡æœåŠ¡å™¨è·å–ã€‚æˆåŠŸå¯ç”¨æœåŠ¡å·çš„å¼€å‘æ¨¡å¼åï¼Œå¾®ä¿¡ä¼šä¸ºæœåŠ¡å·åˆ†é…ä¸€ä¸ªAppIdå’ŒAppSecretï¼Œè·å–access_tokenæ—¶
éœ€è¦å¸¦ä¸Šè¿™ä¸¤ä¸ªå‚æ•°ï¼Œç”¨äºå¾®ä¿¡æœåŠ¡å™¨ç¡®è®¤æ˜¯å¦ä¸ºå·²æ³¨å†ŒæœåŠ¡å·çš„è¯·æ±‚ã€‚access_tokenç›¸å…³æ–‡æ¡£è§&lt;a href="http://mp.weixin.qq.com/wiki/index.php?title=%E8%8E%B7%E5%8F%96access_token"&gt;è¿™é‡Œ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“æˆåŠŸè·å–access_tokenåå°±å¯ä»¥é€šè¿‡APIåˆ›å»ºã€åˆ é™¤ã€æŸ¥è¯¢æœåŠ¡å·çš„è‡ªå®šä¹‰èœå•äº†ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªå®šä¹‰èœå•ç›¸å…³æ–‡æ¡£è§&lt;a href="http://mp.weixin.qq.com/wiki/index.php?title=%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95%E5%88%9B%E5%BB%BA%E6%8E%A5%E5%8F%A3"&gt;è¿™é‡Œ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹Pythonä»£ç æ˜¯å¯¹è‡ªå®šä¹‰èœå•APIçš„ç®€å•å°è£…ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;#coding: utf-8&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; requests
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; os
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; json
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; time


&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;WechatAdmin&lt;/span&gt;:
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __init__(self):
        self.app_id = &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
        self.app_secret = &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
        self.session = requests.session()
        self.access_token_file = &lt;span style="color: #a31515"&gt;&amp;#39;access_token.json&amp;#39;&lt;/span&gt;
        self.access_token = &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fetch_access_token(self):
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; self.access_token != &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;:
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; self.access_token
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; os.path.exists(self.access_token_file):
            &lt;span style="color: #0000ff"&gt;with&lt;/span&gt; open(self.access_token_file) &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; fh:
                origin_content = json.load(fh)
                &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; float(origin_content[&lt;span style="color: #a31515"&gt;&amp;#39;update_time&amp;#39;&lt;/span&gt;]) + float(origin_content[&lt;span style="color: #a31515"&gt;&amp;#39;expires_in&amp;#39;&lt;/span&gt;]) &amp;lt; time.time():
                    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; self._remote_fetch_access_token()
                &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
                    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; origin_content[&lt;span style="color: #a31515"&gt;&amp;#39;access_token&amp;#39;&lt;/span&gt;]
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; self._remote_fetch_access_token()

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; _remote_fetch_access_token(self):
        target_url = &lt;span style="color: #a31515"&gt;&amp;#39;https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&amp;amp;appid=%s&amp;amp;secret=%s&amp;#39;&lt;/span&gt; \
                     % (self.app_id, self.app_secret)
        r = self.session.get(target_url)
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; r.status_code == 200:
            response_data = r.json()
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; response_data.get(&lt;span style="color: #a31515"&gt;&amp;#39;access_token&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;) != &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;and&lt;/span&gt; response_data.get(&lt;span style="color: #a31515"&gt;&amp;#39;expires_in&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;) != &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;:
                new_access_token, expires_in = response_data[&lt;span style="color: #a31515"&gt;&amp;#39;access_token&amp;#39;&lt;/span&gt;], response_data[&lt;span style="color: #a31515"&gt;&amp;#39;expires_in&amp;#39;&lt;/span&gt;]
                &lt;span style="color: #0000ff"&gt;with&lt;/span&gt; open(self.access_token_file, &lt;span style="color: #a31515"&gt;&amp;#39;w+&amp;#39;&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; fh:
                    json.dump({&lt;span style="color: #a31515"&gt;&amp;#39;access_token&amp;#39;&lt;/span&gt;: new_access_token, &lt;span style="color: #a31515"&gt;&amp;#39;expires_in&amp;#39;&lt;/span&gt;: str(int(expires_in) - 20),
                               &lt;span style="color: #a31515"&gt;&amp;#39;update_time&amp;#39;&lt;/span&gt;: time.time()}, fh)
                &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; new_access_token
            &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
                &lt;span style="color: #0000ff"&gt;raise&lt;/span&gt; Exception(&lt;span style="color: #a31515"&gt;u&amp;#39;å“åº”å†…å®¹ä¸å¯¹ï¼&amp;#39;&lt;/span&gt;)
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
            &lt;span style="color: #0000ff"&gt;raise&lt;/span&gt; Exception(&lt;span style="color: #a31515"&gt;u&amp;#39;éæ­£å¸¸å“åº”ï¼Œ%d&amp;#39;&lt;/span&gt; % (r.status_code,))

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; create_menu(self, content):
        menu_create_api = &lt;span style="color: #a31515"&gt;&amp;#39;https://api.weixin.qq.com/cgi-bin/menu/create?access_token=%s&amp;#39;&lt;/span&gt;
        target_url = menu_create_api % (self.fetch_access_token(),)
        &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
            r = self.session.post(target_url, data=content)
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; r.status_code == 200:
                print r.json()
            &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
                &lt;span style="color: #0000ff"&gt;raise&lt;/span&gt; Exception(&lt;span style="color: #a31515"&gt;u&amp;#39;éæ­£å¸¸å“åº”, %d&amp;#39;&lt;/span&gt; % (r.status_code,))
        &lt;span style="color: #0000ff"&gt;except&lt;/span&gt; Exception &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; e:
            print e.message
            self._remote_fetch_access_token()
            self.create_menu(content)

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fetch_menu(self):
        target_url = &lt;span style="color: #a31515"&gt;&amp;#39;https://api.weixin.qq.com/cgi-bin/menu/get?access_token=%s&amp;#39;&lt;/span&gt; % (self.fetch_access_token(),)
        &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
            r = self.session.get(target_url)
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; r.status_code == 200:
                print r.json()
            &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
                &lt;span style="color: #0000ff"&gt;raise&lt;/span&gt; Exception(&lt;span style="color: #a31515"&gt;u&amp;#39;éæ­£å¸¸å“åº”ï¼Œ%d, %s&amp;#39;&lt;/span&gt; % (r.status_code, r.text))
        &lt;span style="color: #0000ff"&gt;except&lt;/span&gt; Exception &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; e:
            print e.message
            self._remote_fetch_access_token()
            self.fetch_menu()

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; delete_menu(self):
        target_url = &lt;span style="color: #a31515"&gt;&amp;#39;https://api.weixin.qq.com/cgi-bin/menu/delete?access_token=%s&amp;#39;&lt;/span&gt; % (self.fetch_access_token(),)
        &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
            r = self.session.get(target_url)
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; r.status_code == 200:
                print r.json()
            &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
                &lt;span style="color: #0000ff"&gt;raise&lt;/span&gt; Exception(&lt;span style="color: #a31515"&gt;u&amp;#39;éæ­£å¸¸å“åº”, %d, %s&amp;#39;&lt;/span&gt; % (r.status_code, r.text))
        &lt;span style="color: #0000ff"&gt;except&lt;/span&gt; Exception &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; e:
            print e.message
            self._remote_fetch_access_token()
            self.delete_menu()


&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; main():
    wechat = WechatAdmin()
    &lt;span style="color: #008000"&gt;# print wechat.fetch_access_token()&lt;/span&gt;

    &lt;span style="color: #0000ff"&gt;with&lt;/span&gt; open(&lt;span style="color: #a31515"&gt;&amp;#39;menus.json&amp;#39;&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; fh:
        wechat.create_menu(fh.read())

    wechat.fetch_menu()
    &lt;span style="color: #008000"&gt;# wechat.delete_menu()&lt;/span&gt;


&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; __name__ == &lt;span style="color: #a31515"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;:
    main()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;å¼€å‘&lt;/h3&gt;
&lt;p&gt;å¯¹äºå¾®ä¿¡æœåŠ¡å·åå°ç¨‹åºï¼Œå½“ç„¶å¯ä»¥å‚ç…§å¾®ä¿¡å®˜æ–¹æ–‡æ¡£ï¼Œä»å¤´å¼€å§‹å®ç°ã€‚ä½†å¯ç”¨éå®˜æ–¹å¾®ä¿¡å…¬ä¼—å·SDKä¹Ÿä¸å°‘ã€‚æ¯”å¦‚æˆ‘ä½¿ç”¨çš„PHP
SDKæ˜¯&lt;a href="https://github.com/netputer/wechat-php-sdk"&gt;è¿™ä¸ª&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä»–è¯­è¨€çš„SDKä¹Ÿå¯ä»¥æ‰¾æ‰¾çœ‹ã€‚&lt;/p&gt;
&lt;h3&gt;æ³¨æ„&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æˆ‘åœ¨å¯ç”¨å¾®ä¿¡æœåŠ¡å·çš„å¼€å‘æ¨¡å¼ä¹‹åï¼Œå°±ç›´æ¥ä½¿ç”¨è¯¥æœåŠ¡å·è¿›è¡Œå¼€å‘æµ‹è¯•ï¼Œä½†åœ¨å¼€å‘æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå·²ç»æœ‰ä¸€äº›äº§å“çš„ç”¨æˆ·å…³æ³¨äº†è¯¥æœåŠ¡å·ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹ä¸­ç”¨æˆ·çš„ä½“éªŒä¼šå¾ˆå·®ã€‚æ­£ç¡®çš„è¿‡ç¨‹åº”è¯¥æ˜¯&lt;strong&gt;å…ˆç”³è¯·æµ‹è¯•å¸å·è¿›è¡Œå¼€å‘æµ‹è¯•ï¼Œç­‰å¼€å‘æµ‹è¯•å®Œæˆåï¼Œå†ä¸Šçº¿æœåŠ¡å·&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡ªå®šä¹‰èœå•åœ¨å˜æ›´ä¹‹åå¹¶ä¸æ˜¯å®æ—¶æ›´æ–°çš„ï¼Œå®˜æ–¹æ–‡æ¡£çš„è¯´æ˜æ˜¯ï¼š&lt;em&gt;åˆ›å»ºè‡ªå®šä¹‰èœå•åï¼Œç”±äºå¾®ä¿¡å®¢æˆ·ç«¯ç¼“å­˜ï¼Œéœ€è¦24å°æ—¶å¾®ä¿¡å®¢æˆ·ç«¯æ‰ä¼šå±•ç°å‡ºæ¥ã€‚å»ºè®®æµ‹è¯•æ—¶å¯ä»¥å°è¯•å–æ¶ˆå…³æ³¨å…¬ä¼—è´¦å·åå†æ¬¡å…³æ³¨ï¼Œåˆ™å¯ä»¥çœ‹åˆ°åˆ›å»ºåçš„æ•ˆæœ&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¾®ä¿¡å®¢æˆ·ç«¯åº”è¯¥æ˜¯åŸºäºæµè§ˆå™¨å†…æ ¸æŠ€æœ¯çš„ï¼Œæ‰€ä»¥èƒ½è§£é‡Šæ¸²æŸ“ç½‘é¡µå…ƒç´ ã€‚å›¾æ–‡æ¶ˆæ¯ä¸­å›¾ç‰‡å…¶å®æ˜¯ä¸€ä¸ªimgå…ƒç´ ï¼Œæ‰€ä»¥éœ€è¦ä½ è‡ªå·±æä¾›å›¾åºŠã€‚å¾®ä¿¡å®˜æ–¹çš„å…¬ä¼—å¹³å°æä¾›çš„æ¶ˆæ¯å‘é€åŠŸèƒ½ï¼Œå¯¹äºå›¾æ–‡æ¶ˆæ¯è¦æ±‚å¿…é¡»å¸¦å›¾ç‰‡ï¼Œä½†æœåŠ¡å·åå°ç¨‹åºå“åº”çš„å›¾æ–‡æ¶ˆæ¯ä¸­å…¶å®å¯ä»¥ç•™ç©ºå›¾ç‰‡é“¾æ¥ï¼Œè¿™æ ·ç”¨æˆ·æ”¶åˆ°å›¾æ–‡æ¶ˆæ¯çœ‹åˆ°çš„æ•ˆæœä¹Ÿè®¸å°±æ˜¯ä½ éœ€è¦çš„ã€‚å¦å¤–ï¼Œæ–‡æœ¬æ¶ˆæ¯ä¹Ÿæ˜¯å¯ä»¥å¸¦è¶…é“¾æ¥aå…ƒç´ çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="å¾®ä¿¡"></category><category term="PHP"></category><category term="ç¬”è®°"></category></entry><entry><title>é«˜æµé‡ç«™ç‚¹NGINXä¸PHP-fpmé…ç½®ä¼˜åŒ–ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2014/05/03/optimizing-nginx-and-php-fpm-for-high-traffic-sites/" rel="alternate"></link><published>2014-05-03T00:00:00+08:00</published><updated>2014-05-03T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-05-03:/2014/05/03/optimizing-nginx-and-php-fpm-for-high-traffic-sites/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://www.softwareprojects.com/resources/programming/t-optimizing-nginx-and-php-fpm-for-high-traffic-sites-2081.html"&gt;Optimizing NGINX and PHP-fpm for high traffic sites&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf/"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨Nginxæ­é…PHPå·²æœ‰7å¹´çš„è¿™ä»½ç»å†è®©æˆ‘ä»¬å­¦ä¼šå¦‚ä½•ä¸ºé«˜æµé‡ç«™ç‚¹ä¼˜åŒ–NGINXå’ŒPHP-fpmé…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ­£æ˜¯è¿™æ–¹é¢çš„ä¸€äº›æç¤ºå’Œå»ºè®®ï¼š&lt;/p&gt;
&lt;h4&gt;1. å°†TCPåˆ‡æ¢ä¸ºUNIXåŸŸå¥—æ¥å­—&lt;/h4&gt;
&lt;p&gt;UNIXåŸŸå¥—æ¥å­—ç›¸æ¯”TCPå¥—æ¥å­—åœ¨loopbackæ¥å£ä¸Šèƒ½æä¾›æ›´å¥½çš„æ€§èƒ½ï¼ˆæ›´å°‘çš„æ•°æ®æ‹·è´å’Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æœ‰ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://www.softwareprojects.com/resources/programming/t-optimizing-nginx-and-php-fpm-for-high-traffic-sites-2081.html"&gt;Optimizing NGINX and PHP-fpm for high traffic sites&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf/"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨Nginxæ­é…PHPå·²æœ‰7å¹´çš„è¿™ä»½ç»å†è®©æˆ‘ä»¬å­¦ä¼šå¦‚ä½•ä¸ºé«˜æµé‡ç«™ç‚¹ä¼˜åŒ–NGINXå’ŒPHP-fpmé…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ­£æ˜¯è¿™æ–¹é¢çš„ä¸€äº›æç¤ºå’Œå»ºè®®ï¼š&lt;/p&gt;
&lt;h4&gt;1. å°†TCPåˆ‡æ¢ä¸ºUNIXåŸŸå¥—æ¥å­—&lt;/h4&gt;
&lt;p&gt;UNIXåŸŸå¥—æ¥å­—ç›¸æ¯”TCPå¥—æ¥å­—åœ¨loopbackæ¥å£ä¸Šèƒ½æä¾›æ›´å¥½çš„æ€§èƒ½ï¼ˆæ›´å°‘çš„æ•°æ®æ‹·è´å’Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æœ‰ä¸€ç‚¹éœ€è¦ç‰¢è®°ï¼šä»…è¿è¡Œåœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šçš„ç¨‹åºå¯ä»¥è®¿é—®UNIXåŸŸå¥—æ¥å­—ï¼ˆæ˜¾ç„¶æ²¡æœ‰ç½‘ç»œæ”¯æŒï¼‰ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;upstream backend
{
    # UNIX domain sockets
    server unix:/var/run/fastcgi.sock;

    # TCP sockets
    # server 127.0.0.1:8080;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;2. è°ƒæ•´å·¥ä½œè¿›ç¨‹æ•°&lt;/h4&gt;
&lt;p&gt;ç°ä»£è®¡ç®—æœºç¡¬ä»¶æ˜¯å¤šå¤„ç†å™¨çš„ï¼ŒNGINXå¯ä»¥åˆ©ç”¨å¤šç‰©ç†æˆ–è™šæ‹Ÿå¤„ç†å™¨ã€‚&lt;/p&gt;
&lt;p&gt;å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ çš„WebæœåŠ¡å™¨éƒ½ä¸ä¼šé…ç½®ä¸ºå¤„ç†å¤šç§ä»»åŠ¡ï¼ˆæ¯”å¦‚ä½œä¸ºWebæœåŠ¡å™¨æä¾›æœåŠ¡çš„åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªæ‰“å°æœåŠ¡å™¨ï¼‰ï¼Œä½ å¯ä»¥é…ç½®NGINXä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„å¤„ç†å™¨ï¼ŒNGINXå·¥ä½œè¿›ç¨‹å¹¶ä¸æ˜¯å¤šçº¿ç¨‹çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯ä»¥è·çŸ¥ä½ çš„æœºå™¨æœ‰å¤šå°‘ä¸ªå¤„ç†å™¨ï¼š&lt;/p&gt;
&lt;p&gt;Linuxä¸Š -&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cat /proc/cpuinfo | grep processor
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;FreeBSDä¸Š -&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sysctl dev .cpu | grep location
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°†nginx.confæ–‡ä»¶ä¸­work_processesçš„å€¼è®¾ç½®ä¸ºæœºå™¨çš„å¤„ç†å™¨æ ¸æ•°ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œå¢å¤§worker_connectionsï¼ˆæ¯ä¸ªå¤„ç†å™¨æ ¸å¿ƒå¯ä»¥å¤„ç†å¤šå°‘ä¸ªè¿æ¥ï¼‰çš„å€¼ï¼Œä»¥åŠå°†"multi_accept"è®¾ç½®ä¸ºONï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯Linuxï¼Œåˆ™ä¹Ÿä½¿ç”¨"epoll"ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# We have 16 cores
worker_processes 16;

# connections per worker
events
{
    worker_connections 4096;
    multi_accept on;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;3. è®¾ç½®upstreamè´Ÿè½½å‡è¡¡&lt;/h4&gt;
&lt;p&gt;ä»¥æˆ‘ä»¬çš„ç»éªŒæ¥çœ‹ï¼ŒåŒä¸€å°æœºå™¨ä¸Šå¤šä¸ªupstreamåç«¯ç›¸æ¯”å•ä¸ªupstreamåç«¯èƒ½å¤Ÿå¸¦æ¥æ›´é«˜çš„ååé‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³æ”¯æŒæœ€å¤§1000ä¸ªPHP-fpmå­è¿›ç¨‹ï¼ˆchildrenï¼‰ï¼Œå¯ä»¥å°†è¯¥æ•°å­—å¹³å‡åˆ†é…åˆ°ä¸¤ä¸ªupstreamåç«¯ï¼Œå„è‡ªå¤„ç†500ä¸ªPHP-fpmå­è¿›ç¨‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;upstream backend {
    server unix:/var/run/php5-fpm.sock1 weight=100 max_fails=5 fail_timeout=5;
    server unix:/var/run/php5-fpm.sock2 weight=100 max_fails=5 fail_timeout=5;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä¸‹æ˜¯ä¸¤ä¸ªæ¥è‡ªphp-fpm.confçš„è¿›ç¨‹æ± ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;section name=&amp;quot;pool&amp;quot;&amp;gt;

    &amp;lt;value name=&amp;quot;name&amp;quot;&amp;gt;www1&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;listen_address&amp;quot;&amp;gt;/var/run/php5-fpm.sock1&amp;lt;/value&amp;gt;

    &amp;lt;value name=&amp;quot;listen_options&amp;quot;&amp;gt;
        &amp;lt;value name=&amp;quot;backlog&amp;quot;&amp;gt;-1&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;owner&amp;quot;&amp;gt;&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;group&amp;quot;&amp;gt;&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;mode&amp;quot;&amp;gt;0666&amp;lt;/value&amp;gt;
    &amp;lt;/value&amp;gt;

    &amp;lt;value name=&amp;quot;user&amp;quot;&amp;gt;www&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;group&amp;quot;&amp;gt;www&amp;lt;/value&amp;gt;

    &amp;lt;value name=&amp;quot;pm&amp;quot;&amp;gt;
        &amp;lt;value name=&amp;quot;style&amp;quot;&amp;gt;static&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;max_children&amp;quot;&amp;gt;500&amp;lt;/value&amp;gt;
    &amp;lt;/value&amp;gt;

    &amp;lt;value name=&amp;quot;rlimit_files&amp;quot;&amp;gt;50000&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;rlimit_core&amp;quot;&amp;gt;0&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;request_slowlog_timeout&amp;quot;&amp;gt;20s&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;slowlog&amp;quot;&amp;gt;/var/log/php-slow.log&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;chroot&amp;quot;&amp;gt;&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;chdir&amp;quot;&amp;gt;&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;catch_workers_output&amp;quot;&amp;gt;no&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;max_requests&amp;quot;&amp;gt;5000&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;allowed_clients&amp;quot;&amp;gt;127.0.0.1&amp;lt;/value&amp;gt;

    &amp;lt;value name=&amp;quot;environment&amp;quot;&amp;gt;
        &amp;lt;value name=&amp;quot;HOSTNAME&amp;quot;&amp;gt;$HOSTNAME&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;PATH&amp;quot;&amp;gt;/usr/local/bin:/usr/bin:/bin&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;TMP&amp;quot;&amp;gt;/usr/tmp&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;TMPDIR&amp;quot;&amp;gt;/usr/tmp&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;TEMP&amp;quot;&amp;gt;/usr/tmp&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;OSTYPE&amp;quot;&amp;gt;$OSTYPE&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;MACHTYPE&amp;quot;&amp;gt;$MACHTYPE&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;MALLOC_CHECK_&amp;quot;&amp;gt;2&amp;lt;/value&amp;gt;
    &amp;lt;/value&amp;gt;

&amp;lt;/section&amp;gt;

&amp;lt;section name=&amp;quot;pool&amp;quot;&amp;gt;

    &amp;lt;value name=&amp;quot;name&amp;quot;&amp;gt;www2&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;listen_address&amp;quot;&amp;gt;/var/run/php5-fpm.sock2&amp;lt;/value&amp;gt;

    &amp;lt;value name=&amp;quot;listen_options&amp;quot;&amp;gt;
        &amp;lt;value name=&amp;quot;backlog&amp;quot;&amp;gt;-1&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;owner&amp;quot;&amp;gt;&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;group&amp;quot;&amp;gt;&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;mode&amp;quot;&amp;gt;0666&amp;lt;/value&amp;gt;
    &amp;lt;/value&amp;gt;

    &amp;lt;value name=&amp;quot;user&amp;quot;&amp;gt;www&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;group&amp;quot;&amp;gt;www&amp;lt;/value&amp;gt;

    &amp;lt;value name=&amp;quot;pm&amp;quot;&amp;gt;
        &amp;lt;value name=&amp;quot;style&amp;quot;&amp;gt;static&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;max_children&amp;quot;&amp;gt;500&amp;lt;/value&amp;gt;
    &amp;lt;/value&amp;gt;

    &amp;lt;value name=&amp;quot;rlimit_files&amp;quot;&amp;gt;50000&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;rlimit_core&amp;quot;&amp;gt;0&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;request_slowlog_timeout&amp;quot;&amp;gt;20s&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;slowlog&amp;quot;&amp;gt;/var/log/php-slow.log&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;chroot&amp;quot;&amp;gt;&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;chdir&amp;quot;&amp;gt;&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;catch_workers_output&amp;quot;&amp;gt;no&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;max_requests&amp;quot;&amp;gt;5000&amp;lt;/value&amp;gt;
    &amp;lt;value name=&amp;quot;allowed_clients&amp;quot;&amp;gt;127.0.0.1&amp;lt;/value&amp;gt;

    &amp;lt;value name=&amp;quot;environment&amp;quot;&amp;gt;
        &amp;lt;value name=&amp;quot;HOSTNAME&amp;quot;&amp;gt;$HOSTNAME&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;PATH&amp;quot;&amp;gt;/usr/local/bin:/usr/bin:/bin&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;TMP&amp;quot;&amp;gt;/usr/tmp&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;TMPDIR&amp;quot;&amp;gt;/usr/tmp&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;TEMP&amp;quot;&amp;gt;/usr/tmp&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;OSTYPE&amp;quot;&amp;gt;$OSTYPE&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;MACHTYPE&amp;quot;&amp;gt;$MACHTYPE&amp;lt;/value&amp;gt;
        &amp;lt;value name=&amp;quot;MALLOC_CHECK_&amp;quot;&amp;gt;2&amp;lt;/value&amp;gt;
    &amp;lt;/value&amp;gt;

&amp;lt;/section&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;4. ç¦ç”¨è®¿é—®æ—¥å¿—æ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;è¿™ä¸€ç‚¹å½±å“è¾ƒå¤§ï¼Œå› ä¸ºé«˜æµé‡ç«™ç‚¹ä¸Šçš„æ—¥å¿—æ–‡ä»¶æ¶‰åŠå¤§é‡å¿…é¡»åœ¨æ‰€æœ‰çº¿ç¨‹ä¹‹é—´åŒæ­¥çš„IOæ“ä½œã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;access_log off;
log_not_found off;
error_log /var/log/nginx-error.log warn;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è‹¥ä½ ä¸èƒ½å…³é—­è®¿é—®æ—¥å¿—æ–‡ä»¶ï¼Œè‡³å°‘åº”è¯¥ä½¿ç”¨ç¼“å†²ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;access_log /var/log/nginx/access.log main buffer=16k;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;5. å¯ç”¨GZip&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;gzip on;
gzip_disable &amp;quot;msie6&amp;quot;;
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6;
gzip_min_length 1100;
gzip_buffers 16 8k;
gzip_http_version 1.1;
gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;6. ç¼“å­˜è¢«é¢‘ç¹è®¿é—®çš„æ–‡ä»¶ç›¸å…³çš„ä¿¡æ¯&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;open_file_cache max=200000 inactive=20s;
open_file_cache_valid 30s;
open_file_cache_min_uses 2;
open_file_cache_errors on;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;7. è°ƒæ•´å®¢æˆ·ç«¯è¶…æ—¶æ—¶é—´&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;client_max_body_size 500M;
client_body_buffer_size 1m;
client_body_timeout 15;
client_header_timeout 15;
keepalive_timeout 2 2;
send_timeout 15;
sendfile on;
tcp_nopush on;
tcp_nodelay on;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;8. è°ƒæ•´è¾“å‡ºç¼“å†²åŒºå¤§å°&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;fastcgi_buffers 256 16k;
fastcgi_buffer_size 128k;
fastcgi_connect_timeout 3s;
fastcgi_send_timeout 120s;
fastcgi_read_timeout 120s;
reset_timedout_connection on;
server_names_hash_bucket_size 100;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;9. /etc/sysctl.confè°ƒä¼˜&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# Recycle Zombie connections
net.inet.tcp.fast_finwait2_recycle=1
net.inet.tcp.maxtcptw=200000

# Increase number of files
kern.maxfiles=65535
kern.maxfilesperproc=16384

# Increase page share factor per process
vm.pmap.pv_entry_max=54272521
vm.pmap.shpgperproc=20000

# Increase number of connections
vfs.vmiodirenable=1
kern.ipc.somaxconn=3240000
net.inet.tcp.rfc1323=1
net.inet.tcp.delayed_ack=0
net.inet.tcp.restrict_rst=1
kern.ipc.maxsockbuf=2097152
kern.ipc.shmmax=268435456

# Host cache
net.inet.tcp.hostcache.hashsize=4096
net.inet.tcp.hostcache.cachelimit=131072
net.inet.tcp.hostcache.bucketlimit=120

# Increase number of ports
net.inet.ip.portrange.first=2000
net.inet.ip.portrange.last=100000
net.inet.ip.portrange.hifirst=2000
net.inet.ip.portrange.hilast=100000
kern.ipc.semvmx=131068

# Disable Ping-flood attacks
net.inet.tcp.msl=2000
net.inet.icmp.bmcastecho=1
net.inet.icmp.icmplim=1
net.inet.tcp.blackhole=2
net.inet.udp.blackhole=1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;10. ç›‘æ§&lt;/h4&gt;
&lt;p&gt;æŒç»­ç›‘æ§æ‰“å¼€è¿æ¥çš„æ•°ç›®ï¼Œç©ºé—²å†…å­˜ä»¥åŠç­‰å¾…çŠ¶æ€çº¿ç¨‹çš„æ•°ç›®ã€‚&lt;/p&gt;
&lt;p&gt;è®¾ç½®è­¦æŠ¥åœ¨è¶…å‡ºé˜ˆå€¼æ—¶é€šçŸ¥ä½ ã€‚ä½ å¯ä»¥è‡ªå·±æ„å»ºè¿™äº›è­¦æŠ¥ï¼Œæˆ–è€…ä½¿ç”¨ç±»ä¼¼&lt;a href="http://serverdensity.io"&gt;ServerDensity&lt;/a&gt;çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;ç¡®è®¤å®‰è£…äº†NGINXçš„&lt;a href="http://wiki.nginx.org/HttpStubStatusModule"&gt;stub_status&lt;/a&gt;æ¨¡å—ã€‚è¯¥æ¨¡å—é»˜è®¤å¹¶ä¸ä¼šç¼–è¯‘è¿›NGINXï¼Œæ‰€ä»¥å¯èƒ½ä½ éœ€è¦é‡æ–°ç¼–è¯‘NGINX -&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;./configure --with-http_ssl_module --with-http_stub_status_module --without-mail_pop3_module
--without-mail_imap_module --without-mail_smtp_module
make install BATCH=yes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Nginx"></category><category term="PHP"></category><category term="æœåŠ¡å™¨"></category></entry><entry><title>Firefoxä¸­â€œmax-width:100%â€ä¸å…¼å®¹é—®é¢˜</title><link href="http://youngsterxyf.github.io/2014/04/28/max-width-in-firefox/" rel="alternate"></link><published>2014-04-28T00:00:00+08:00</published><updated>2014-04-28T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-04-28:/2014/04/28/max-width-in-firefox/</id><summary type="html">&lt;p&gt;è¿™ä¸ªåšå®¢æ˜¯åŸºäºâ€œ&lt;a href="http://docs.getpelican.com/en/3.3.0/"&gt;Pelican&lt;/a&gt; + &lt;a href="http://wowubuntu.com/markdown/"&gt;Markdown&lt;/a&gt; +
&lt;a href="https://github.com/youngsterxyf/my-pelican-themes/tree/master/my-gum"&gt;å®šåˆ¶çš„my-gumä¸»é¢˜&lt;/a&gt;â€çš„ã€‚å®šåˆ¶çš„ä¸»é¢˜å°†åšæ–‡æ­£æ–‡é¡µé¢çš„
å³è¾¹æ å»æ‰ï¼Œè¿™å¯¼è‡´åœ¨Firefoxç­‰æµè§ˆå™¨ä¸­ï¼Œæ­£æ–‡ä¸­å¤§çš„å›¾ç‰‡ä¼šçªç ´æ­£æ–‡å— â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;è¿™ä¸ªåšå®¢æ˜¯åŸºäºâ€œ&lt;a href="http://docs.getpelican.com/en/3.3.0/"&gt;Pelican&lt;/a&gt; + &lt;a href="http://wowubuntu.com/markdown/"&gt;Markdown&lt;/a&gt; +
&lt;a href="https://github.com/youngsterxyf/my-pelican-themes/tree/master/my-gum"&gt;å®šåˆ¶çš„my-gumä¸»é¢˜&lt;/a&gt;â€çš„ã€‚å®šåˆ¶çš„ä¸»é¢˜å°†åšæ–‡æ­£æ–‡é¡µé¢çš„
å³è¾¹æ å»æ‰ï¼Œè¿™å¯¼è‡´åœ¨Firefoxç­‰æµè§ˆå™¨ä¸­ï¼Œæ­£æ–‡ä¸­å¤§çš„å›¾ç‰‡ä¼šçªç ´æ­£æ–‡å—çš„å®½åº¦ï¼Œé«˜åº¦ä¹Ÿå¾—ä¸åˆ°é™åˆ¶ï¼Œæ˜¾ç¤ºæ•ˆæœéå¸¸å·®ã€‚&lt;/p&gt;
&lt;p&gt;å…¶åŸå› æ˜¯ï¼šMarkdownçš„&lt;a href="http://wowubuntu.com/markdown/#img"&gt;å›¾ç‰‡åŒºå—å…ƒç´ &lt;/a&gt;&lt;code&gt;![Alt
text](/path/to/img.jpg)&lt;/code&gt;æ¸²æŸ“æˆHTMLå…ƒç´ çš„ç»“æœä¸º -&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;p&amp;gt;
    &amp;lt;img src=&lt;span style="color: #a31515"&gt;&amp;quot;/path/to/img.jpg&amp;quot;&lt;/span&gt; alt=&lt;span style="color: #a31515"&gt;&amp;quot;Alt text&amp;quot;&lt;/span&gt;&amp;gt;&amp;lt;/img&amp;gt;
&amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;&amp;lt;p&amp;gt;&lt;/code&gt;å…ƒç´ å†…çš„å…ƒç´ æ˜¯è¡Œå†…(inline)å…ƒç´ ã€‚ä¸»é¢˜my-gumä½¿ç”¨çš„CSSæ¡†æ¶&lt;a href="http://gumbyframework.com/"&gt;gumby&lt;/a&gt;å¯¹imgå…ƒç´ æ˜¯ä½¿ç”¨&lt;code&gt;max-width:
100%&lt;/code&gt;å°†å›¾ç‰‡çš„æœ€å¤§å®½åº¦é™åˆ¶ä¸ºçˆ¶å…ƒç´ çš„å®½åº¦ã€‚ä½†&lt;a href="https://developer.mozilla.org/en-US/docs/Web/CSS/max-width"&gt;åœ¨Firefoxä¸­max-widthå¯¹äºè¡Œå†…å…ƒç´ å¹¶ä¸ä¼šç”Ÿæ•ˆ(all elements but non-replaced 
inline elements, table rows, and row
groups)&lt;/a&gt;ï¼Œæ‰€ä»¥é€ æˆäº†æ˜¾ç¤ºé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ç½‘ç»œä¸Šæœ‰äººè¯´å¯ä»¥ç”¨&lt;code&gt;width: 100%&lt;/code&gt;æ›¿ä»£ä¹‹ï¼Œä½†&lt;code&gt;width: 100%&lt;/code&gt;å’Œ&lt;code&gt;max-width: 100%&lt;/code&gt;çš„åŒºåˆ«æ˜¯ï¼š&lt;code&gt;width: 100%&lt;/code&gt;æ˜¯å°†æ‰€æœ‰æŒ‡å®šå…ƒç´ çš„å®½åº¦
æ‹‰ä¼¸æˆ–æ”¶ç¼©åˆ°å’Œçˆ¶å…ƒç´ çš„å®½åº¦ä¸€è‡´ï¼Œè€Œ&lt;code&gt;max-width:
100%&lt;/code&gt;åˆ™æ˜¯å¦‚æœæŒ‡å®šå…ƒç´ çš„å®½åº¦ä¸è¶…è¿‡çˆ¶å…ƒç´ çš„å®½åº¦ï¼Œåˆ™å¤§å°ä¸å˜ï¼Œå¦‚æœè¶…è¿‡äº†çˆ¶å…ƒç´ çš„å®½åº¦ï¼Œåˆ™å°†å®½åº¦æ”¶ç¼©ä¸ºçˆ¶å…ƒç´ çš„å®½åº¦ã€‚å¦‚æœä½¿ç”¨&lt;code&gt;width:
100%&lt;/code&gt;ï¼Œé‚£ä¹ˆæˆ‘åšæ–‡ä¸­çš„å›¾ç‰‡ï¼Œå³ä½¿å†å°ï¼Œéƒ½ä¼šè¢«æ‹‰ä¼¸ä¸ºæ­£æ–‡çš„å®½åº¦ï¼Œè‡ªç„¶æ˜¯ä¸ä¼šå¥½çœ‹çš„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çš„æƒ³æ³•æ˜¯ï¼šæ—¢ç„¶ä½¿ç”¨CSSä¸èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£å°±å°è¯•ä½¿ç”¨Javascriptã€‚å½“å›¾ç‰‡åŠ è½½å®Œæ¯•åï¼Œå°†å›¾ç‰‡å®½åº¦ä¸æ­£æ–‡å®½åº¦åšæ¯”è¾ƒï¼Œå¦‚æœ
å›¾ç‰‡å®½åº¦å¤§äºæ­£æ–‡å®½åº¦ï¼Œåˆ™ä¸ºè¯¥å›¾ç‰‡è®¾ç½®&lt;code&gt;width: 100%&lt;/code&gt;ã€‚å”¯ä¸€ä¸å®Œç¾çš„åœ°æ–¹æ˜¯æŸäº›å¤§å›¾ç‰‡åŠ è½½å®Œæ¯•ä¹‹å‰çš„å®½åº¦å¾ˆå¤§ï¼Œæ¯”è¾ƒéš¾çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$(&lt;span style="color: #0000ff"&gt;function&lt;/span&gt;() {
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; entryContentWidth = $(&lt;span style="color: #a31515"&gt;&amp;#39;.row&amp;#39;&lt;/span&gt;).width();

    $(&lt;span style="color: #a31515"&gt;&amp;#39;.entry-content img&amp;#39;&lt;/span&gt;).on(&lt;span style="color: #a31515"&gt;&amp;#39;load&amp;#39;&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;function&lt;/span&gt;(){
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($(&lt;span style="color: #0000ff"&gt;this&lt;/span&gt;).width() &amp;gt; entryContentWidth) {
            $(&lt;span style="color: #0000ff"&gt;this&lt;/span&gt;).width(&lt;span style="color: #a31515"&gt;&amp;#39;100%&amp;#39;&lt;/span&gt;);
        }
    });
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;å‚è€ƒèµ„æ–™&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/14550356/image-mysteriously-ignoring-max-width-in-firefox-ie"&gt;Image mysteriously ignoring max-width in Firefox &amp;amp; IE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/2789727/is-p-a-block-level-or-inline-level-element"&gt;is &amp;lt;p&amp;gt; a block-level or inline-level element?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developer.mozilla.org/en-US/docs/Web/CSS/max-width"&gt;MDN - max-width&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://api.jquery.com/load-event/"&gt;JQuery - load event&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="CSS"></category><category term="æµè§ˆå™¨å…¼å®¹"></category><category term="JavaScript"></category></entry><entry><title>Windowså‘½ä»¤æç¤ºç¬¦ä¸­ç»Ÿè®¡è¡Œæ•°ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2014/03/05/counting-lines-in-cmd/" rel="alternate"></link><published>2014-03-05T00:00:00+08:00</published><updated>2014-03-05T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-03-05:/2014/03/05/counting-lines-in-cmd/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://rickardnobel.se/counting-lines-in-windows-command-prompt/"&gt;Counting lines in Windows command prompt&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨å†…ç½®å·¥å…·FINDç»Ÿè®¡cmd.exeè¾“å‡ºçš„è¡Œæ•°éå¸¸æ–¹ä¾¿ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å‘½ä»¤è¡Œç¯å¢ƒä¸­å·¥ä½œæ—¶ï¼Œèƒ½å¤Ÿç»Ÿè®¡ä¸åŒå·¥å…·çš„è¾“å‡ºç»“æœçš„è¡Œæ•°æœ‰æ—¶ä¼šéå¸¸ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://rickardnobel.se/counting-lines-in-windows-command-prompt/"&gt;Counting lines in Windows command prompt&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨å†…ç½®å·¥å…·FINDç»Ÿè®¡cmd.exeè¾“å‡ºçš„è¡Œæ•°éå¸¸æ–¹ä¾¿ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å‘½ä»¤è¡Œç¯å¢ƒä¸­å·¥ä½œæ—¶ï¼Œèƒ½å¤Ÿç»Ÿè®¡ä¸åŒå·¥å…·çš„è¾“å‡ºç»“æœçš„è¡Œæ•°æœ‰æ—¶ä¼šéå¸¸æœ‰ç”¨ã€‚è®¸å¤šUnix/Linuxæ“ä½œç³»ç»Ÿéƒ½åŒ…å«å¸¦æœ‰è®¸å¤šåŠŸèƒ½é€‰é¡¹çš„&lt;strong&gt;wc&lt;/strong&gt;
å·¥å…·ï¼ŒWindowsåˆ™æ²¡æœ‰å†…ç½®ä¸€æ ·çš„æ›¿ä»£å“ï¼Œä½†æ˜¯Windowså‘½ä»¤æç¤ºç¬¦(cmd.exe)åŸç”Ÿæ”¯æŒäº†éƒ¨åˆ†ç›¸åŒåŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†è®²è¿°åœ¨cmd.exeä¸­æˆ‘ä»¬å¯ä»¥å¦‚ä½•ä½¿ç”¨&lt;strong&gt;FIND&lt;/strong&gt;å·¥å…·æ¥ç»Ÿè®¡è¡Œæ•°ã€‚å·¥å…·findï¼Œæœ‰äº›ç±»ä¼¼äºUnixä¸Šçš„grepï¼Œè‡ªMS-DOSä»¥æ¥å°±ä¸€ç›´å­˜åœ¨ï¼Œ
ä½¿ç”¨ç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬æœ‰ä¸€å°WindowsæœåŠ¡å™¨ï¼Œæƒ³çœ‹çœ‹å½“å‰æœ‰å¤šå°‘ä¸ªæ´»è·ƒçš„TCPä¼šè¯ã€‚è¿™å¯ä»¥ä½¿ç”¨netstatå‘½ä»¤ï¼Œå¹¶ä¸”é€šè¿‡ç®¡é“è¿æ¥FINDæ¥æŸ¥æ‰¾å·²å»ºç«‹çš„ä¼šè¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;netstat -ano | find /i "estab"&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="established-TCP-2.png" src="https://raw.github.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/established-TCP-2.png"&gt;&lt;/p&gt;
&lt;p&gt;è¿™è¡Œå‘½ä»¤çš„è¾“å‡ºå¯èƒ½ä¼šæœ‰å‡ ç™¾è¡Œä»¥è‡³äºå æ»¡æ•´ä¸ªå‘½ä»¤æç¤ºç¬¦çª—å£ï¼Œè€Œæˆ‘ä»¬å¯èƒ½ä»…ä»…å…³å¿ƒä¼šè¯çš„æ•°ç›®ã€‚é€šè¿‡åœ¨è¿™è¡Œå‘½ä»¤ä¹‹åå¢åŠ ä¸€ä¸ª&lt;strong&gt;/c&lt;/strong&gt;å¼€å…³é€‰é¡¹ï¼Œ
æˆ‘ä»¬å°±èƒ½å¾—åˆ°æ‰“å¼€çš„TCPä¼šè¯çš„æ•°ç›®ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä»ç„¶ä½¿ç”¨ä¸Šä¸€ä¸ªå‘½ä»¤çš„è¿‡æ»¤è§„åˆ™ï¼ˆé€šè¿‡æŸ¥æ‰¾å­—ç¬¦ä¸²â€œestabâ€æ¥æ‰¾åˆ°åŒ…å«ESTABLISHEDçŠ¶æ€çš„è¡Œï¼‰ä½†å¸¦æœ‰/cï¼Œè¿™æ ·å°±ä¼šä»…æ˜¾ç°åŒ¹é…è¡Œçš„æ•°ç›®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="established-TCP.png" src="https://raw.github.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/established-TCP.png"&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å¦ä¸€ä¸ªç¤ºä¾‹åˆ™æ˜¯æŸ¥çœ‹æœ¬åœ°ç¼“å­˜çš„DNSè®°å½•çš„æ•°ç›®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="displaydns.png" src="https://raw.github.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/displaydns.png"&gt;&lt;/p&gt;
&lt;p&gt;é€‰é¡¹/cä¹Ÿå¯ä»¥ç”¨äºç»Ÿè®¡ä¸€ä¸ªå‘½ä»¤è¾“å‡ºçš„æ‰€æœ‰è¡Œã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“ç›®å½•æœåŠ¡(Active Directory)ä¸­åˆ†ç»„çš„æ•°ç›®ã€‚é€šè¿‡ä¸€ä¸ªç®¡é“è¿æ¥åˆ°&lt;strong&gt;FIND /v "" /c&lt;/strong&gt;ï¼Œ
æˆ‘ä»¬èƒ½ç»Ÿè®¡æ‰€æœ‰ä¸åŒ¹é…(&lt;strong&gt;/v&lt;/strong&gt;)ç©ºå­—ç¬¦ä¸²ï¼ˆ""ï¼‰çš„è¡Œï¼ˆå³éç©ºç™½è¡Œï¼‰ã€‚å¦‚æœä½ ä½¿ç”¨è¿‡Unixå·¥å…·wcï¼Œè¿™å°±ç›¸å½“äº&lt;strong&gt;wc -l&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="find-group-2.png" src="https://raw.github.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/find-group-2.png"&gt;&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸ªç¤ºä¾‹æ˜¯ï¼šäº‹ä»¶æŸ¥çœ‹å™¨å‘½ä»¤è¡Œå·¥å…·&lt;strong&gt;wevtutil&lt;/strong&gt;ä¼šè¾“å‡ºå¤§é‡æ—¥å¿—æ•°æ®è¡Œã€‚å¦‚æœä»…ä»…æƒ³çŸ¥é“ç°ä»£Windowsç³»ç»Ÿä¸­ä¸åŒæ—¥å¿—çš„æ•°ç›®ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‡ ç™¾ä¸ªæ—¥å¿—æ–‡ä»¶çš„æ–‡ä»¶å
é€šè¿‡ç®¡é“ä¼ è¾“ç»™&lt;code&gt;FIND /v "" /c&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="wevutil.png" src="https://raw.github.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/wevutil.png"&gt;&lt;/p&gt;
&lt;p&gt;æœ€åä¸€ä¸ªç¤ºä¾‹æ˜¯ï¼šå‡è®¾æœ‰ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶æˆ–è€…ç±»ä¼¼æ–‡ä»¶ï¼Œæ€»å…±æœ‰ä¸Šåƒè¡Œå†…å®¹ã€‚æˆ‘ä»¬æƒ³å¿«é€ŸçŸ¥é“åŒ…å«ç‰¹å®šçŸ­è¯­çš„æ•°æ®è¡Œçš„æ•°ç›®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;TYPE C:\Windows\Schedlgu.txt | FIND /i "task failure" /c&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3&gt;ç›¸å…³é˜…è¯»&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://technet.microsoft.com/en-us/library/cc725655.aspx"&gt;Technet - Find&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.robvanderwoude.com/type.php"&gt;The TYPE command&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://technet.microsoft.com/en-us/library/cc732507.aspx"&gt;Technet - Type&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://technet.microsoft.com/en-us/library/cc732848.aspx"&gt;Technet - Wevtutil&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://technet.microsoft.com/en-us/library/cc732952.aspx"&gt;Technet - Dsquery&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="Windows"></category><category term="ç¿»è¯‘"></category></entry><entry><title>è¯»ä¹¦ç¬”è®°ï¼šWebå®¹é‡è§„åˆ’çš„è‰ºæœ¯</title><link href="http://youngsterxyf.github.io/2014/02/25/read-the-art-of-capacity-planning/" rel="alternate"></link><published>2014-02-25T00:00:00+08:00</published><updated>2014-02-25T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-02-25:/2014/02/25/read-the-art-of-capacity-planning/</id><summary type="html">&lt;h3&gt;ç¬¬1ç«  å®¹é‡è§„åˆ’çš„ç›®æ ‡ã€é—®é¢˜å’Œè¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;äº†è§£ä½ çš„åŸºç¡€è®¾æ–½ä¸­æ¯ä¸€éƒ¨åˆ†ä½•æ—¶ä¼šå¤±è´¥ï¼ˆæœ€å¥½ä¸å‘ç”Ÿï¼‰å¯¹å®¹é‡è§„åˆ’è‡³å…³é‡è¦ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾ä½ æœ‰ â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;ç¬¬1ç«  å®¹é‡è§„åˆ’çš„ç›®æ ‡ã€é—®é¢˜å’Œè¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;äº†è§£ä½ çš„åŸºç¡€è®¾æ–½ä¸­æ¯ä¸€éƒ¨åˆ†ä½•æ—¶ä¼šå¤±è´¥ï¼ˆæœ€å¥½ä¸å‘ç”Ÿï¼‰å¯¹å®¹é‡è§„åˆ’è‡³å…³é‡è¦ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾ä½ æœ‰ä¸€å°æ•°æ®åº“æœåŠ¡å™¨ç”¨äºå“åº”ä»å‰ç«¯WebæœåŠ¡å™¨æäº¤è¿‡æ¥çš„æŸ¥è¯¢ã€‚å®¹é‡è§„åˆ’æ„å‘³ç€ä½ åº”è¯¥çŸ¥é“ä¸‹è¿°é—®é¢˜çš„ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è€ƒè™‘åˆ°ç‰¹å®šçš„ç¡¬ä»¶é…ç½®ï¼Œæ•°æ®åº“æœåŠ¡å™¨æ¯ç§’å¯ç®¡ç†å¤šå°‘ä¸ªæŸ¥è¯¢ï¼Ÿ&lt;/li&gt;
&lt;li&gt;åœ¨æ€§èƒ½é™ä½åˆ°å½±å“ç»ˆç«¯ç”¨æˆ·ä½“éªŒä¹‹å‰ï¼Œå®ƒæ¯ç§’å¯åº”ç­”å¤šå°‘æ¬¡æŸ¥è¯¢ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½ä¸å®¹é‡ï¼šä¸¤ç§ä¸åŒçš„æ¦‚å¿µ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ€§èƒ½è°ƒä¼˜æ˜¯ä¼˜åŒ–å·²ç»å­˜åœ¨çš„æ€§èƒ½ã€‚å®¹é‡è§„åˆ’é€šè¿‡ä½¿ç”¨å½“å‰æ€§èƒ½åšä¸ºåŸºçº¿å†³å®šä½ çš„ç³»ç»Ÿéœ€è¦ä»€ä¹ˆä»¥åŠä»€ä¹ˆæ—¶å€™éœ€è¦ã€‚&lt;/p&gt;
&lt;p&gt;å½“é¢å¯¹å®¹é‡é—®é¢˜çš„æ—¶å€™ï¼Œè¯•ç€å°‘èŠ±ç²¾åŠ›ä½¿å·²å­˜åœ¨çš„è®¾å¤‡è¿è¡Œæ›´å¿«ï¼Œè€Œæ˜¯å…³æ³¨å½“ä¸‹è¦è§£å†³çš„é‡ç‚¹ï¼šæ‰¾å‡ºä½ åˆ°åº•éœ€è¦ä»€ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦ã€‚&lt;/p&gt;
&lt;p&gt;æƒè¡¡å¯¹å·²æœ‰ç³»ç»Ÿè¿›è¡Œè°ƒä¼˜æ‰€èŠ±çš„äººåŠ›æ—¶é—´ï¼Œå¯èƒ½ç®€ç®€å•å•çš„ä¹°æ›´å¤šçš„ç¡¬ä»¶æ˜¯æ­£ç¡®çš„ã€‚åœ¨æœ€ä¼˜åŒ–å’Œå®¹é‡æ‰©å±•æ–¹é¢çš„æƒè¡¡æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ï¼Œå¹¶ä¸”å› ç¯å¢ƒè€Œå¼‚ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç½‘ç«™çš„æ¶æ„å’Œæ¶æ„å¯¹å®¹é‡æ–¹é¢çš„å½±å“&lt;/p&gt;
&lt;p&gt;ä½ çš„é©¾è½¦é£æ ¼ä¼šå½±å“åˆ°ä½ çš„è½¦çš„é‡Œç¨‹ï¼Œç±»ä¼¼çš„åŸç†èƒ½å¤Ÿåº”ç”¨äºç½‘ç«™çš„æ¶æ„ä¸Šã€‚åœ¨æœ¬ä¹¦ä¸­ä¸€ä¸ªåå¤å‡ºç°çš„ä¸»é¢˜æ˜¯ä½ çš„ç½‘ç«™æ¶æ„å¯¹äºå¦‚ä½•ä½¿ç”¨ã€æ¶ˆè€—
å’Œç®¡ç†å®¹é‡äº§ç”Ÿé‡å¤§å½±å“ã€‚åœ¨æœ‰æ•ˆä½¿ç”¨å®¹é‡ä¸Šï¼Œç›¸æ¯”äºè°ƒæ•´å’Œæ”¹å˜ä½ çš„æœåŠ¡å™¨å’Œç½‘ç»œï¼Œè®¾è®¡èƒ½å¸¦æ¥æ›´å¤§çš„å½±å“ã€‚åŒæ—¶ï¼Œéšç€éœ€æ±‚çš„å‡ºç°å¦‚ä½•æ–¹ä¾¿å’Œçµæ´»
åœ°è¿›è¡Œå¢åŠ æˆ–è€…å‡å°‘å®¹é‡ï¼Œä¹Ÿæ˜¯è®¾è®¡èƒ½å¸¦æ¥çš„é‡è¦ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è°ƒæ•´æ¶æ„ä»¥ä¾¿æ›´å®¹æ˜“å®¹é‡ç®¡ç†ã€‚ä¿æŒä½ çš„æ¶æ„æ˜“äºåˆ†å‰²å’Œåˆ†æ®µï¼Œå¯ä»¥å¸®åŠ©ä½ å¤„ç†å¤§é‡çš„è´Ÿè½½ç‰¹æ€§é—®é¢˜---å³åœ¨ä½ åˆ›å»ºäº†ä¸€ä¸ªéœ€è¦å¢é•¿ä»€ä¹ˆå’Œä½•æ—¶å¢é•¿çš„å‡†ç¡®è§„åˆ’ä¹‹å‰ï¼Œ
ä½ éœ€è¦è§£å†³çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é€šè¿‡å¼€æ”¾APIæ‰€æä¾›çš„WebæœåŠ¡å¼•å…¥äº†å¦ä¸€ä¸ªé€æ¸æ‰©å¤§çš„é—®é¢˜ï¼Œå› ä¸ºä½ çš„åº”ç”¨ç¨‹åºæ•°æ®ä¼šè¢«æ›´å¤šçš„åº”ç”¨ç¨‹åºè®¿é—®ï¼Œå®ƒä»¬ä¹Ÿéƒ½æœ‰è‡ªå·±çš„ä½¿ç”¨å’Œå¢é•¿æ¨¡å¼ã€‚
è¿™ä¹Ÿæ„å‘³ç€ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°æ»¥ç”¨ç³»ç»Ÿï¼Œä»è€Œå°†æ›´å¤šä¸ç¡®å®šå› ç´ æ”¾å…¥å®¹é‡å…¬å¼ä¸­ã€‚APIçš„ä½¿ç”¨æƒ…å†µéœ€è¦ç›‘æ§ï¼Œä»¥è§‚å¯Ÿæ–°å‡ºç°çš„æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;å®¹é‡è§„åˆ’å¯ä»¥å˜å¾—éå¸¸é‡è¦ï¼Œä½†æ˜¯å¹¶ä¸å›°éš¾ï¼Œä½ æ‰€éœ€è¦åšçš„åªæ˜¯ç¨å¾®å…³æ³¨ä¸€ä¸‹æ­£ç¡®å› ç´ ã€‚å®¹é‡è§„åˆ’çš„è¿‡ç¨‹å¯åˆ†è§£ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¾å®šä½ çš„ç›®æ ‡&lt;/li&gt;
&lt;li&gt;æ”¶é›†å¯¹åº”çš„æŒ‡æ ‡å¹¶æ‰¾å‡ºä½ æ‰€é¢ä¸´çš„é™åˆ¶&lt;/li&gt;
&lt;li&gt;ç»˜åˆ¶è¶‹åŠ¿å¹¶æ ¹æ®é‚£äº›æŒ‡æ ‡å’Œé™åˆ¶åšå‡ºé¢„æµ‹&lt;/li&gt;
&lt;li&gt;å®¹é‡éƒ¨ç½²å’Œç®¡ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;ç¬¬2ç«  è®¾å®šå®¹é‡ç›®æ ‡&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æœåŠ¡ç­‰çº§åè®®(SLA)&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;æœåŠ¡ç­‰çº§åè®®ç™¾åˆ†æ¯”å’Œå¯æ¥å—çš„å®•æœºæ—¶é—´&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æ­£å¸¸è¿è¡ŒæœåŠ¡ç­‰çº§åè®®      æ¯å¹´çš„å®•æœºæ—¶é—´&lt;/p&gt;
&lt;p&gt;90.0%                       36å¤©12å°æ—¶&lt;/p&gt;
&lt;p&gt;95.0%                       18å¤©6å°æ—¶&lt;/p&gt;
&lt;p&gt;99.0%                       87å°æ—¶36åˆ†é’Ÿ&lt;/p&gt;
&lt;p&gt;99.50%                      43å°æ—¶48åˆ†é’Ÿ&lt;/p&gt;
&lt;p&gt;99.90%                      8å°æ—¶45åˆ†é’Ÿ36ç§’&lt;/p&gt;
&lt;p&gt;99.99%                      52åˆ†é’Ÿ33ç§’&lt;/p&gt;
&lt;p&gt;99.999%                     5åˆ†é’Ÿ15ç§’&lt;/p&gt;
&lt;p&gt;99.9999%                    32ç§’&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ä¸šåŠ¡å®¹é‡éœ€æ±‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å½“ä»ŠWeb 2.0è¿™æ ·çš„ç½‘ç»œç°è±¡ä¸­ï¼Œç”±äºå¤§å¤šæ•°WebæœåŠ¡ä¸ºä¸ªäººåº”ç”¨ç¨‹åºå¼€å‘è€…æä¾›å¼€æ”¾çš„APIæ¥å£ï¼Œä»¥å»ºç«‹åŸºäºä»–ä»¬çš„B2Bå…³ç³»ã€‚å› æ­¤ï¼Œå¾ˆå¤šä¼ä¸š
é€šå¸¸æŠŠæ”¶å…¥æµå¯„æ‰˜äºæ–¹ä¾¿çš„ä½¿ç”¨APIã€‚è¿™ä¹Ÿæ„å‘³ç€ä¼ä¸šå…³ç³»ä¾èµ–äºä¸€å®šç¨‹åº¦çš„APIçš„å¯ç”¨æ€§æˆ–è€…æ€§èƒ½ï¼Œä»¥å¯ç”¨æ€§ç™¾åˆ†æ¯”æ¥æµ‹é‡æˆ–è€…ç»è¿‡åå•†çš„APIè¯·æ±‚çš„é¢‘ç‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¶æ„å†³ç­–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½ çš„æ¶æ„æ˜¯å…³äºä½ æ‰€æœ‰çš„åç«¯ç»„ä»¶ï¼ˆåŒ…æ‹¬ç¡¬ä»¶å’Œè½¯ä»¶ï¼‰æ˜¯æ€æ ·ç»“åˆçš„åŸºæœ¬çš„è®¾è®¡ã€‚æ¶æ„çš„è®¾è®¡å¯¹äºè§„åˆ’å’Œç®¡ç†å®¹é‡èµ·åˆ°è‡³å…³é‡è¦çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æ¨èä¹¦ç±ï¼š&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Building Scalable Web Sites (ã€Šæ„å»ºå¯æ‰©å±•ç½‘ç«™ã€‹)&lt;/li&gt;
&lt;li&gt;Scalable Internet Architectures (ã€Šå¯æ‰©å±•çš„ç½‘ç»œæ¶æ„ã€‹)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æä¾›æµ‹é‡ç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ç®¡æ˜¯ä¸ºäº†æµ‹é‡çš„ç›®çš„ï¼Œè¿˜æ˜¯å¯¹å˜åŒ–çš„ç¯å¢ƒå¿«é€Ÿå“åº”ï¼Œä½ éƒ½å¸Œæœ›ä½ çš„æ¶æ„è®¾è®¡å®Œç¾ï¼Œä»¥ä¾¿ä½ èƒ½å°†å®ƒåˆ†å‰²æˆä¸åŒçš„éƒ¨åˆ†æ¥æ‰§è¡Œç¦»æ•£çš„ä»»åŠ¡ã€‚
åœ¨ä¸€ä¸ªç†æƒ³çš„æƒ…å†µä¸‹ï¼Œåç«¯çš„æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„å·¥ä½œè¦åšï¼Œä½†å¦‚æœéœ€è¦ï¼Œå®ƒä¹Ÿå¯ä»¥å¾ˆå¥½åœ°æ‰§è¡Œå¤šä¸ªå·¥ä½œã€‚åŒæ—¶ï¼Œå®ƒå¯¹æ¯ä¸ªå·¥ä½œçš„å½±å“ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“çš„è¢«æµ‹é‡ã€‚&lt;/p&gt;
&lt;p&gt;ä½ ä¼šå‘ç°ï¼Œç®€å•çš„æ¶æ„æ”¹å˜å¯ä»¥å¸®åŠ©ä½ ç†è§£ä½ çš„å®¹é‡è¢«ä½¿ç”¨çš„ç”¨é€”æ˜¯ä»€ä¹ˆã€‚å½“ä½ åœ¨è€ƒè™‘æ¶æ„è®¾è®¡æ—¶ï¼Œä¸€å®šè¦è®°ä½ï¼šåˆ†å·¥ä»¥åŠâ€œåˆ†å—ã€æ¾è€¦åˆâ€åŸç†ï¼Œ
å¯ä»¥ä¸€ç›´åœ¨ä½ çš„ç«™ç‚¹æ˜¯å¦‚ä½•è¢«ä½¿ç”¨çš„æ–¹é¢ç»™ä½ ä¸€äº›çº¿ç´¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¡¬ä»¶å†³ç­–(å‚ç›´ç¼©æ”¾æ¯”ä¾‹ã€æ°´å¹³ç¼©æ”¾æ¯”ä¾‹ã€å¯¹è§’ç¼©æ”¾æ¯”ä¾‹)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºä½ æ¶æ„ä¸­çš„æ¯ä¸€ä¸ªéƒ¨ä»¶é€‰æ‹©æ­£ç¡®çš„ç¡¬ä»¶å¯ä»¥å¯¹æˆæœ¬äº§ç”Ÿå¾ˆå¤§å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;èƒ½å¤Ÿæ¨ªå‘æ‰©å±•æ„å‘³ç€è¯¥æ¶æ„èƒ½ç®€å•åœ°é€šè¿‡åœ¨ç°æœ‰çš„åŸºç¡€è®¾æ–½ä¸Šæ·»åŠ ç›¸åŒåŠŸèƒ½çš„ç½‘ç»œèŠ‚ç‚¹ä»è€Œè¾¾åˆ°å¢åŠ å®¹é‡çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;p&gt;èƒ½å¤Ÿçºµå‘æ‰©å±•åˆ™æ˜¯æŒ‡ä¸€ç§é€šè¿‡åœ¨æœåŠ¡å™¨å†…éƒ¨æ·»åŠ ç¡¬ä»¶èµ„æºä»è€Œè¾¾åˆ°æ‰©å……å®¹é‡ç›®çš„ã€‚è¿™äº›ç¡¬ä»¶èµ„æºåŒ…æ‹¬CPUã€å†…å­˜ã€ç¡¬ç›˜å’Œç½‘ç»œã€‚&lt;/p&gt;
&lt;p&gt;å¯¹è§’æ‰©å±•æ˜¯æŒ‡å¯¹åŸºç¡€è®¾æ–½ä¸­å·²æœ‰çš„æ¨ªå‘æ‰©å±•èŠ‚ç‚¹è¿›è¡Œçºµå‘æ‰©å±•çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;h3&gt;ç¬¬3ç«  æµ‹é‡ï¼šå®¹é‡çš„å•ä½&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;è®¤å¯æµ‹é‡æœ¬èº«å¸¦æ¥çš„å½±å“&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é‡‡é›†å’Œä¼ è¾“åº¦é‡æŒ‡æ ‡ï¼Œä¸€äº›ç³»ç»Ÿèµ„æºå°±ä¼šè¢«æ¶ˆè€—ã€‚å¥½çš„ç›‘æµ‹å·¥å…·åŠªåŠ›åšå¾—å¾ˆè½»é‡ï¼Œä¸å¦¨ç¢ç³»ç»Ÿçš„ä¸»è¦å·¥ä½œï¼Œä½†æ˜¯æ€»ä¼šæœ‰ä¸€äº›é¢å¤–å¼€é”€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;ç›‘æµ‹å¯ä½œä¸ºè¯†åˆ«ç´§æ€¥é—®é¢˜çš„å·¥å…·&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬çš„ç«™ç‚¹å‡ºç°é”™è¯¯çš„æ—¶å€™ï¼Œå¦‚æœèƒ½å¤Ÿè¿…é€Ÿåœ°è·å–çŠ¶æ€ä¿¡æ¯æ˜¯éå¸¸é‡è¦çš„ã€‚å¯èƒ½ä½ æƒ³èƒ½å¤Ÿå¾—åˆ°å¦‚ä¸‹è¿™äº›é—®é¢˜çš„å¿«é€Ÿå›ç­”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¯ä»€ä¹ˆé”™è¯¯ï¼Ÿ&lt;/li&gt;
&lt;li&gt;é”™è¯¯æ˜¯ä½•æ—¶å‘ç”Ÿçš„ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ˜¯ä»€ä¹ˆå¼•å‘äº†é”™è¯¯ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è´Ÿè½½å‡è¡¡å™¨åŸºäºä¸€ä¸ªç›¸å¯¹ç®€çŸ­çš„ç®—æ³•åˆ—è¡¨æ¥å»ºç«‹è´Ÿè½½åˆ†å‘ï¼Œä½¿å¾—ä½ èƒ½æŒ‡å®šåè®®æ¥è¾¾åˆ°è·¨è¶Šæ‰€æœ‰å¯ç”¨çš„æœåŠ¡å™¨å‡è¡¡åœ°å¤„ç†æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;å°±æˆ‘ä»¬çš„ç›®çš„è€Œè¨€ï¼Œè´Ÿè½½å‡è¡¡å™¨ä¸ºå®¹é‡ç®¡ç†æä¾›äº†ä¸€ä¸ªéå¸¸ç†æƒ³çš„æ¡†æ¶ï¼Œå› ä¸ºé€šè¿‡å®ƒå¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ–¹ä¾¿åœ°è¿›è¡Œå®¹é‡çš„ä¼¸ç¼©ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åº”ç”¨ç¨‹åºç›‘æµ‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨ç»Ÿè®¡æ•°æ®åªæ˜¯æç»˜äº†å®¹é‡å›¾çš„ä¸€éƒ¨åˆ†ã€‚ä½ è¿˜åº”è¯¥ç‰¹åˆ«é’ˆå¯¹ä½ çš„åº”ç”¨ç¨‹åºï¼Œæµ‹é‡å¹¶è®°å½•é«˜çº§åˆ«çš„åº¦é‡æŒ‡æ ‡---ä¸æ˜¯é’ˆå¯¹ä¸€ä¸ªæœåŠ¡å™¨ï¼Œè€Œæ˜¯å¯¹æ•´ä¸ªç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æ•°æ®åº“å®¹é‡&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;åŸºæœ¬çš„æœåŠ¡å™¨ç»Ÿè®¡æ•°æ®ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›æ•°æ®åº“ç‰¹å®šçš„æŒ‡æ ‡ä½ éœ€è¦è·Ÿè¸ªï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ç§’çš„æŸ¥è¯¢ï¼ˆSELECT, INSERT, UPDATE, å’ŒDELETEï¼‰&lt;/li&gt;
&lt;li&gt;å½“å‰æ‰“å¼€çš„è¿æ¥æ•°&lt;/li&gt;
&lt;li&gt;å¤åˆ¶æ—¶ä¸»ä»æ•°æ®åº“ä¹‹é—´çš„æ»åæ—¶é—´&lt;/li&gt;
&lt;li&gt;é«˜é€Ÿç¼“å­˜å‘½ä¸­ç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è§„åˆ’æ•°æ®åº“ï¼ˆç‰¹åˆ«æ˜¯é›†ç¾¤çš„æ•°æ®åº“ï¼‰çš„å®¹é‡éœ€æ±‚æ˜¯ä¸€ä»¶æ£˜æ‰‹çš„äº‹æƒ…ã€‚ç¡®å®šä½ æ•°æ®åº“çš„æ€§èƒ½ä¸Šé™éå¸¸å›°éš¾ï¼Œå› ä¸ºå¯èƒ½æœ‰äº›éšè—çš„æç«¯é—®é¢˜ä»…åœ¨ä¸€äº›è¾¹ç¼˜æƒ…å†µä¸‹æ‰ä¼šæš´éœ²å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å¯¹äºæ•°æ®åº“è€Œè¨€ï¼Œæ€§èƒ½è°ƒä¼˜æ˜¯éå¸¸é‡è¦çš„ã€‚æ•°æ®åº“çš„æ€§èƒ½é€šå¸¸æ›´å¤šä¾èµ–äºä½ çš„æ–¹æ¡ˆå’ŒæŸ¥è¯¢è€Œä¸æ˜¯ç¡¬ä»¶çš„é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ç¼“å­˜ç³»ç»Ÿ&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;åœ¨Webæ¶æ„ä¸­ï¼Œç¼“å­˜æœ€ç»å¸¸è¢«ç”¨äºå­˜å‚¨æ•°æ®åº“ç»“æœï¼ˆæ¯”å¦‚ç”¨Memcachedï¼‰æˆ–å®é™…æ–‡ä»¶ï¼ˆæ¯”å¦‚ç”¨Squidå’ŒVarnishï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å½±å“ç¼“å­˜å®¹é‡çš„ä¸¤ä¸ªä¸»è¦å› ç´ æ˜¯ä½ çš„å·¥ä½œé›†çš„å¤§å°ï¼Œä»¥åŠä½ çš„æ•°æ®åŠ¨æ€å˜åŒ–çš„ç¨‹åº¦ã€‚ç¼“å­˜æœ‰ä¸€ä¸ªå›ºå®šçš„å¤§å°ã€‚å¯ç¼“å­˜å¯¹è±¡çš„å·¥ä½œé›†æ˜¯æŒ‡åœ¨ç»™å®šæ—¶æœŸå†…è¯·æ±‚çš„ç‹¬ç‰¹å¯¹è±¡çš„æ•°ç›®---ä¸ç®¡æ•°æ®åº“ç»“æœè¿˜æ˜¯æ–‡ä»¶ã€‚
ç†æƒ³çš„æƒ…å†µæ˜¯ï¼Œä½ å°†æ‹¥æœ‰è¶³å¤Ÿçš„ç¼“å­˜å®¹é‡æ¥å¤„ç†æ•´ä¸ªå·¥ä½œé›†ã€‚è¿™æ„å‘³ç€ç»å¤§å¤šæ•°çš„ç¼“å­˜è¯·æ±‚ä¼šå‘½ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Flickrï¼Œæˆ‘ä»¬ä½¿ç”¨Squidä½œä¸ºåå‘ä»£ç†æ¥ç¼“å­˜ç…§ç‰‡ã€‚æˆ‘ä»¬ä½¿ç”¨æ›´æ…¢ã€æ›´ä¾¿å®œã€æ›´å¤§å®¹é‡çš„ç£ç›˜æ¥å­˜å‚¨ç…§ç‰‡ï¼Œä½†æ˜¯åˆ©ç”¨ç¼“å­˜ç³»ç»Ÿæ¥æä¾›ç…§ç‰‡ï¼Œè¿™äº›ç¼“å­˜ç³»ç»Ÿä½¿ç”¨çš„æ˜¯æ›´å°ä½†æ›´å¿«çš„ç£ç›˜ã€‚
éšç€ç…§ç‰‡è¯·æ±‚ç‡å¢é•¿ï¼Œæˆ‘ä»¬æ¨ªå‘æ‰©å±•ç¼“å­˜æœåŠ¡å™¨çš„æ•°é‡ã€‚éšç€ç…§ç‰‡æ•°é‡çš„å¢é•¿ï¼Œæˆ‘ä»¬è¿˜æ¨ªå‘æ‰©å±•åå°å­˜å‚¨çš„æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;è·Ÿè¸ªä»»ä½•ç¼“å­˜è½¯ä»¶æœ€é‡è¦çš„åº¦é‡æŒ‡æ ‡æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¼“å­˜å‘½ä¸­ç‡&lt;/li&gt;
&lt;li&gt;æ€»è¯·æ±‚ç‡&lt;/li&gt;
&lt;li&gt;å¯¹è±¡å¹³å‡æ—¶é—´&lt;/li&gt;
&lt;li&gt;LRUå‚è€ƒæ—¶é—´(å½“ä½¿ç”¨LRUæ–¹æ³•æ—¶)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;APIçš„ä½¿ç”¨ç‡åŠå…¶å¯¹å®¹é‡çš„å½±å“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰ä¸€äº›æ–¹æ³•æ¥æµ‹é‡å¹¶è®°å½•æ¯ä¸ªç”¨æˆ·æˆ–è€…æ¯ä¸ªè¯·æ±‚æ–¹æ³•å¯¹å¼€æ”¾çš„APIçš„ä½¿ç”¨é‡ï¼Œè¿™å¯¹äºé‚£äº›æä¾›APIæ¥å£çš„ç½‘ç«™è¿›è¡Œå®¹é‡è·Ÿè¸ªï¼Œåº”è¢«è§†ä¸ºå¿…é¡»çš„ã€‚
é€šå¸¸é€šè¿‡ç‹¬ç‰¹çš„API keyï¼Œæˆ–è€…æ˜¯å…¶ä»–ç‹¬ç‰¹çš„å‡­æ®æ¥è¿›è¡Œã€‚æ¯æ¬¡è°ƒç”¨APIï¼Œé€šè¿‡keyå°±èƒ½è¯†åˆ«å‡ºåº”ç”¨ç¨‹åºå’Œè´Ÿè´£æ„å»ºåº”ç”¨ç¨‹åºçš„å¼€å‘è€…ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºäº§ç”Ÿå¤§é‡çš„APIè°ƒç”¨æ¯”ä½¿ç”¨å¸¸è§„çš„å®¢æˆ·ç«¯æµè§ˆå™¨è¦å®¹æ˜“å¾—å¤šï¼Œä½ åº”è¯¥è·Ÿè¸ªå“ªä¸ªåº”ç”¨ç¨‹åºæ­£åœ¨ä»¥ä½•ç§é€Ÿç‡è°ƒç”¨ä»€ä¹ˆAPIã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Flickrï¼Œæˆ‘ä»¬æ ¹æ®åœ¨æœåŠ¡æ¡æ¬¾ä¸­åˆ—å‡ºçš„è§„å®šï¼Œä½¿é‚£äº›çœ‹èµ·æ¥æ»¥ç”¨APIçš„keyè‡ªåŠ¨å¤±æ•ˆã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;åŸºç¡€æ¶æ„çš„æ¯ä¸€éƒ¨åˆ†éƒ½å°†èŠ±è´¹ç³»ç»Ÿèµ„æºæ¥ä¸ºç½‘ç«™æœåŠ¡ï¼Œä½ åº”è¯¥ç¡®ä¿å¯¹è¿™äº›èµ„æºè¿›è¡Œé€‚å½“çš„æµ‹é‡ã€‚ç„¶è€Œï¼Œè®°å½•æ­£ç¡®çš„æµ‹é‡å¹¶ä¸è¶³å¤Ÿã€‚
ä½ è¿˜éœ€è¦çŸ¥é“ä½•æ—¶é‚£äº›èµ„æºå°†è€—å°½ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä½ éœ€è¦å®šæœŸåœ°æ¢æµ‹å¹¶å»ºç«‹è¿™äº›ä¸Šé™ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡å¯»æ‰¾åŸºç¡€æ¶æ„ä¸Šé™çš„å®è·µè¿‡ç¨‹ï¼Œå¯æš´éœ²å‡ºä½ ç”šè‡³ä¸çŸ¥é“çš„ç“¶é¢ˆã€‚åŸºäºæ­¤ï¼Œä½ å¯èƒ½éœ€è¦æ”¹å˜åº”ç”¨ç¨‹åºã€ç¡¬ä»¶ã€ç½‘ç»œæˆ–é€ æˆé—®é¢˜çš„å…¶ä»–éƒ¨åˆ†ã€‚
æ¯æ¬¡ä½ å¯¹åŸºç¡€æ¶æ„åšä¸€æ¬¡ä¿®æ”¹ï¼Œéƒ½éœ€è¦å†æ¬¡æ£€æŸ¥ä¸Šé™ï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿå¾ˆæœ‰å¯èƒ½æ”¹å˜ã€‚è¿™ä¸åº”è¯¥ä»¤äººæƒŠå¥‡ï¼Œå› ä¸ºç°åœ¨ä½ çŸ¥é“å®¹é‡è§„åˆ’æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§çš„äº‹ä»¶ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ²¡æœ‰æµ‹é‡ç³»ç»Ÿã€åº”ç”¨å±‚åº¦é‡æŒ‡æ ‡çš„å†å²æ•°æ®ï¼Œåˆ™å®¹é‡è§„åˆ’æ— æ³•å­˜åœ¨ã€‚ä¸çŸ¥é“ç³»ç»Ÿçš„æœ€é«˜æ€§èƒ½ä¸Šé™ä»è€Œé¿å…æ¥è¿‘å®ƒä»¬ï¼Œåˆ™è§„åˆ’ä¹Ÿæ˜¯æ²¡æœ‰æ•ˆæœçš„ã€‚
è¦æ‰¾åˆ°åŸºç¡€æ¶æ„æ¯éƒ¨åˆ†çš„ä¸Šé™ï¼Œéœ€è¦ä¸‹é¢è¿™äº›æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æµ‹é‡å’Œè®°å½•æœåŠ¡å™¨çš„ä¸»è¦åŠŸèƒ½ã€‚&lt;em&gt;ä¾‹å¦‚ï¼šApacheå‘½ä¸­ï¼Œæ•°æ®åº“æŸ¥è¯¢&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;æµ‹é‡å’Œè®°å½•æœåŠ¡å™¨çš„åŸºç¡€ç¡¬ä»¶èµ„æºã€‚&lt;em&gt;ä¾‹å¦‚ï¼šCPUã€å†…å­˜ã€ç¡¬ç›˜ã€ç½‘ç»œä½¿ç”¨é‡&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­æœåŠ¡å™¨çš„ä¸»è¦åŠŸèƒ½å¦‚ä½•ä¸å…¶ç¡¬ä»¶èµ„æºç›¸å…³è”ã€‚&lt;em&gt;ä¾‹å¦‚ï¼šNä¸ªæ•°æ®åº“æŸ¥è¯¢å ç”¨M%çš„CPUä½¿ç”¨é‡&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;é€šè¿‡ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼ŒåŸºäºæœåŠ¡å™¨çš„ä¸»è¦åŠŸèƒ½å’Œç¡¬ä»¶èµ„æºï¼Œæ‰¾åˆ°å¯æ¥å—çš„æœ€å¤§èµ„æºä½¿ç”¨é‡ï¼ˆæˆ–ä¸Šé™ï¼‰ï¼š&lt;ul&gt;
&lt;li&gt;é€šè¿‡ä½¿ç”¨è´Ÿè½½å‡è¡¡æˆ–åº”ç”¨ç¨‹åºæŠ€æœ¯ï¼Œäººå·¥ï¼ˆè€Œå°å¿ƒï¼‰å¢åŠ çœŸå®çš„ç”Ÿäº§è´Ÿè½½åˆ°æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;å°½å¯èƒ½ç¡®åˆ‡åœ°æ¨¡æ‹Ÿä¸€ä¸ªçœŸå®çš„ç”Ÿäº§è´Ÿè½½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;ç¬¬4ç«  è¶‹åŠ¿é¢„æµ‹&lt;/h3&gt;
&lt;p&gt;é¢„æµ‹å®¹é‡éœ€æ±‚éƒ¨åˆ†é ç›´è§‰ï¼Œéƒ¨åˆ†é æ•°å­¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ›²çº¿æ‹Ÿåˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®¹é‡é¢„æµ‹çš„æ•´ä½“è¿‡ç¨‹éå¸¸ç®€å•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¡®å®šã€æµ‹é‡å’Œç»˜åˆ¶å¯¹æ¯ä¸ªèµ„æºå®šä¹‰çš„åº¦é‡æŒ‡æ ‡ &lt;em&gt;ä¾‹å¦‚ï¼šç£ç›˜æ¶ˆè€—&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;å¯¹ä½ æ‹¥æœ‰çš„èµ„æºåº”ç”¨çº¦æŸé™åˆ¶ &lt;em&gt;ä¾‹å¦‚ï¼šæ€»å¯ç”¨ç£ç›˜ç©ºé—´&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨è¶‹åŠ¿åˆ†æï¼ˆæ›²çº¿æ‹Ÿåˆï¼‰è¯´æ˜ä½•æ—¶ä½ çš„ä½¿ç”¨é‡ä¼šè¶…å‡ºé™åˆ¶ &lt;em&gt;ä¾‹å¦‚ï¼šæ‰¾å‡ºç£ç›˜ç©ºé—´è€—å°½çš„æ—¥æœŸ&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;ç¬¬5ç«  éƒ¨ç½²&lt;/h3&gt;
&lt;p&gt;&lt;img alt="racp-5.1" src="https://raw.github.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/tacp-fig-5.1.png"&gt;&lt;/p&gt;
&lt;h3&gt;é™„å½•A è™šæ‹ŸåŒ–å’Œäº‘è®¡ç®—&lt;/h3&gt;
&lt;p&gt;å®¹é‡è§„åˆ’çš„ä¸¤ä¸ªç›®æ ‡ï¼šä¸€æ˜¯ä»¥æœ€æœ‰æ•ˆçš„æ–¹å¼æ¥åˆ©ç”¨ä½ æ‰‹å¤´ä¸Šæ‰€æ‹¥æœ‰çš„èµ„æºï¼ŒäºŒæ˜¯æ ¹æ®ç›®å‰çš„ä½¿ç”¨æ¨¡å¼æ¥é¢„æµ‹æœªæ¥éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è™šæ‹ŸåŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è™šæ‹ŸåŒ–æŒ‡çš„æ˜¯ä¸€å°è®¡ç®—æœºçš„ä¸åŒå±‚é¢çš„è®¡ç®—èµ„æºçš„æŠ½è±¡ã€‚å®é™…ä¸­ï¼Œè™šæ‹ŸåŒ–é€šå¸¸ç”¨äºæè¿°OSï¼ˆæ“ä½œç³»ç»Ÿï¼‰çš„æŠ½è±¡ã€‚&lt;/p&gt;
&lt;h3&gt;é™„å½•B å¯¹ç¬æ—¶å¢é•¿çš„å¤„ç†&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;å‡è½»å¤±è´¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹çš„æ–¹æ³•æ˜¯é’ˆå¯¹é‚£äº›æœ€åæƒ…å†µçš„åœºæ™¯ï¼Œå½“æ‰€æœ‰å…¶ä»–å¢åŠ å®¹é‡çš„é€‰æ‹©éƒ½ä¸èµ·ä½œç”¨ï¼Œå¹¶ä¸”ä»æ ¹æœ¬ä¸Šæ”¹å˜åŸºç¡€è®¾æ–½æœ¬èº«æ˜¯ä¸å¯èƒ½çš„æ—¶å€™ã€‚
åº”è¯¥è¯´è¿™ç§æ•‘ç«ä¼¼çš„åœºæ™¯æ˜¯å®¹é‡è§„åˆ’æ‰€åº”è¯¥æåŠ›é¿å…çš„ï¼›ä½†æ˜¯æœ‰äº›æ—¶å€™å®ƒç¡®å®æ˜¯ä¸å¯é¿å…çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹åˆ—å‡ºçš„æ–¹æ³•å¹¶éä¸‡èƒ½çš„ï¼Œå½“æš´å‘çš„è®¿é—®æµé‡æ¥ä¸´å¹¶ä¸”ä½ çš„æœåŠ¡å™¨åœ¨è´Ÿè½½ä¸‹æ­£è¦æŒ‚æ‰æ—¶ï¼Œèƒ½å¯¹ä½ æœ‰æ‰€å¸®å¿™ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;ç¦ç”¨é‡é‡çº§çš„åŠŸèƒ½&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€ç§å¯èƒ½çš„æ–¹æ³•å°±æ˜¯ç¦ç”¨ç«™ç‚¹çš„ä¸€äº›é‡é‡çº§åŠŸèƒ½ã€‚å°†æ‰“å¼€æˆ–è€…å…³é—­ä¸€äº›åŠŸèƒ½çš„èƒ½åŠ›å†…å»ºåˆ°ç³»ç»Ÿä¸­å°†å¸®åŠ©ä½ å¯¹å®¹é‡é—®é¢˜åšå‡ºæ›´åŠ æœ‰æ•ˆçš„å“åº”ï¼Œ
å³ä½¿æ˜¯åœ¨é‚£äº›é‡å¤§çš„æµé‡é—®é¢˜äº‹ä»¶ä¸­ã€‚æ‹¥æœ‰ä¸€ä¸ªå¿«æ·çš„ï¼Œåªæœ‰ä¸€è¡Œç®€å•çš„æ‰“å¼€æˆ–è€…å…³é—­çš„é…ç½®å‚æ•°åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ˜¯æœ‰å·¨å¤§ä»·å€¼çš„ï¼Œ
ç‰¹åˆ«æ˜¯å½“è¯¥åŠŸèƒ½å°±æ˜¯é—®é¢˜çš„èµ·å› æˆ–è€…æ˜¯é€ æˆä¸å¯æ¥å—æ€§èƒ½çš„æ—¶å€™ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;çƒ˜çƒ¤è¿‡çš„é™æ€é¡µé¢&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£äº›é­é‡éå¸¸ä¸¥é‡æµé‡é—®é¢˜çš„ç½‘ç«™ç»å¸¸é‡‡ç”¨çš„å¦ä¸€ç§æŠ€æœ¯å°±æ˜¯å°†åŠ¨æ€é¡µé¢è½¬å˜ä¸ºé™æ€é¡µé¢ã€‚è¿™å¯èƒ½ä¼šå¾ˆç®€å•ä¹Ÿå¯èƒ½ä¼šå¾ˆéš¾ï¼Œè¿™å–å†³äºé¡µé¢åˆ°åº•æœ‰å¤šåŠ¨æ€ï¼Œ
ä½†ä½ å¯ä»¥ä¿å®ˆçš„åªå°†é‚£äº›æœ€å¸¸è¢«è®¿é—®çš„é¡µé¢æˆ–è€…åŠ¨æ€æ€§æœ€å°‘çš„é¡µé¢è½¬æ¢ä¸ºé™æ€é¡µé¢ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;ç¼“å­˜&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;é™„å½•C å®¹é‡å·¥å…·&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Ganglia, http://ganglia.sourceforge.net/&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nagios, http://www.nagios.org/&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dstatï¼Œç³»ç»Ÿç»Ÿè®¡å·¥å…·æ¨¡å—åŒ–ï¼Œhttp://dag.wiee.rs/home-made/dstat/&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fabric, http://docs.fabfile.org/, https://github.com/fabric/fabric&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="å®¹é‡è§„åˆ’"></category></entry><entry><title>å¦‚ä½•å®ç°Golangçš„httpè¯·æ±‚å¤„ç†ä¸­é—´ä»¶ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2014/01/17/golang-http-handlers-as-middleware/" rel="alternate"></link><published>2014-01-17T00:00:00+08:00</published><updated>2014-01-17T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-01-17:/2014/01/17/golang-http-handlers-as-middleware/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://capotej.com/blog/2013/10/07/golang-http-handlers-as-middleware/"&gt;Golang Http Handlers as Middleware&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°ç°ä»£Webç»„ä»¶æ ˆå…è®¸é€šè¿‡æ ˆå¼/ç»„ä»¶å¼ä¸­é—´ä»¶â€œè¿‡æ»¤â€è¯·æ±‚ï¼Œè¿™æ ·å°±èƒ½å¹²å‡€åœ°ä»webåº”ç”¨ä¸­åˆ†ç¦»å‡ºæ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆè¯‘æ³¨ï¼šé¢å‘æ–¹é¢ç¨‹åºè®¾è®¡ä¸­çš„æ¦‚å¿µï¼Ÿï¼‰ã€‚
æœ¬ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://capotej.com/blog/2013/10/07/golang-http-handlers-as-middleware/"&gt;Golang Http Handlers as Middleware&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°ç°ä»£Webç»„ä»¶æ ˆå…è®¸é€šè¿‡æ ˆå¼/ç»„ä»¶å¼ä¸­é—´ä»¶â€œè¿‡æ»¤â€è¯·æ±‚ï¼Œè¿™æ ·å°±èƒ½å¹²å‡€åœ°ä»webåº”ç”¨ä¸­åˆ†ç¦»å‡ºæ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆè¯‘æ³¨ï¼šé¢å‘æ–¹é¢ç¨‹åºè®¾è®¡ä¸­çš„æ¦‚å¿µï¼Ÿï¼‰ã€‚
æœ¬å‘¨æˆ‘å°è¯•åœ¨Goè¯­è¨€çš„&lt;code&gt;http.FileServer&lt;/code&gt;ä¸­æ¤å…¥é’©å­ï¼Œå‘ç°å®ç°èµ·æ¥ååˆ†ç®€ä¾¿ï¼Œè®©æˆ‘éå¸¸æƒŠè®¶ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬ä»ä¸€ä¸ªåŸºæœ¬çš„æ–‡ä»¶æœåŠ¡å™¨å¼€å§‹è¯´èµ·ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; main() {
    http.ListenAndServe(&lt;span style="color: #a31515"&gt;&amp;quot;:8080&amp;quot;&lt;/span&gt;, http.FileServer(http.Dir(&lt;span style="color: #a31515"&gt;&amp;quot;/tmp&amp;quot;&lt;/span&gt;)))
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ®µç¨‹åºä¼šåœ¨ç«¯å£8080ä¸Šå¼€å¯ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶æœåŠ¡å™¨ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•åœ¨è¿™å…¶ä¸­æ¤å…¥é’©å­ä»è€Œèƒ½å¤Ÿåœ¨æ–‡ä»¶è¯·æ±‚å¤„ç†ä¹‹å‰æ‰§è¡Œä¸€äº›ä»£ç ï¼Ÿæ¥çœ‹ä¸€ä¸‹&lt;code&gt;http.ListenAndServe&lt;/code&gt;çš„æ–¹æ³•ç­¾åï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; ListenAndServe(addr &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;, handler Handler) &lt;span style="color: #2b91af"&gt;error&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;çœ‹èµ·æ¥&lt;code&gt;http.FileServer&lt;/code&gt;è¿”å›äº†ä¸€ä¸ª&lt;code&gt;Handler&lt;/code&gt;---ç»™å®šä¸€ä¸ªæ ¹ç›®å½•å°±èƒ½çŸ¥é“å¦‚ä½•å¤„ç†æ–‡ä»¶è¯·æ±‚ã€‚é‚£æˆ‘ä»¬æ¥çœ‹çœ‹&lt;code&gt;Handler&lt;/code&gt;æ¥å£ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;type&lt;/span&gt; Handler &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt; {
    ServeHTTP(ResponseWriter, *Request)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ ¹æ®Goè¯­è¨€çš„æ¥å£åŸç†ï¼Œä»»ä½•å¯¹è±¡åªè¦å®ç°äº†&lt;code&gt;ServeHTTP&lt;/code&gt;å°±æ˜¯ä¸€ä¸ª&lt;code&gt;Handler&lt;/code&gt;ã€‚é‚£ä¹ˆä¼¼ä¹æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…å°±æ˜¯æ„é€ ä¸€ä¸ªè‡ªå·±çš„&lt;code&gt;Handler&lt;/code&gt;---å°è£…&lt;code&gt;http.FileServer&lt;/code&gt;çš„å¤„ç†æµç¨‹ã€‚
Goè¯­è¨€çš„net/httpæ ‡å‡†åº“æ¨¡å—å†…ç½®äº†ä¸€ä¸ªå¸®åŠ©å‡½æ•°&lt;code&gt;http.HandlerFunc&lt;/code&gt;ï¼Œç”¨äºå°†æ™®é€šå‡½æ•°è½¬å˜ä¸ºè¯·æ±‚å¤„ç†å‡½æ•°ï¼ˆhandlerï¼‰ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;type&lt;/span&gt; HandlerFunc &lt;span style="color: #0000ff"&gt;func&lt;/span&gt;(ResponseWriter, *Request)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬è¿™æ ·å°è£…&lt;code&gt;http.FileServer&lt;/code&gt;å°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; OurLoggingHandler(h http.Handler) http.Handler {
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; http.HandlerFunc(&lt;span style="color: #0000ff"&gt;func&lt;/span&gt;(w http.ResponseWriter, r *http.Request)) {
        fmt.Println(*r.URL)
        h.ServeHTTP(w ,r)
    })
}

&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; main() {
    fileHandler := http.FileServer(http.Dir(&lt;span style="color: #a31515"&gt;&amp;quot;/tmp&amp;quot;&lt;/span&gt;))
    wrappedHandler := OurLoggingHandler(fileHandler)
    http.ListenAndServe(&lt;span style="color: #a31515"&gt;&amp;quot;:8080&amp;quot;&lt;/span&gt;, wrappedHandler)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Goè¯­è¨€çš„net/httpæ ‡å‡†åº“æ¨¡å—æœ‰å¾ˆå¤šå†…ç½®çš„&lt;a href="http://golang.org/pkg/net/http/#Handler"&gt;å¤„ç†å‡½æ•°&lt;/a&gt;ï¼Œå¦‚&lt;a href="http://golang.org/pkg/net/http/#TimeoutHandler"&gt;TimeoutHandler&lt;/a&gt;å’Œ&lt;a href="http://golang.org/pkg/net/http/#RedirectHandler"&gt;RedirectHandler&lt;/a&gt;ï¼Œ
å¯ä»¥ç›¸åŒçš„æ–¹å¼æ··åˆåŒ¹é…ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;è¯‘è€…æ¨èé˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.cnblogs.com/yjf512/archive/2012/08/22/2650873.html"&gt;Golang Http Serveræºç é˜…è¯»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="Golang"></category><category term="ç¿»è¯‘"></category><category term="ä¸­é—´ä»¶"></category></entry><entry><title>ä¸ºä½•Goroutineçš„æ ˆç©ºé—´å¯ä»¥æ— é™å¤§ï¼Ÿï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2014/01/17/goroutine-stack-infinite/" rel="alternate"></link><published>2014-01-17T00:00:00+08:00</published><updated>2014-01-17T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-01-17:/2014/01/17/goroutine-stack-infinite/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://dave.cheney.net/2013/06/02/why-is-a-goroutines-stack-infinite"&gt;Why is a Goroutine's stack infinite?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Goç¼–ç¨‹æ–°æ‰‹å¯èƒ½ä¼šå¶ç„¶å‘ç°&lt;a href="http://golang.org/"&gt;Goè¯­è¨€&lt;/a&gt;---ä¸ä¸€ä¸ªGoroutineå¯ç”¨æ ˆç©ºé—´å¤§å°ç›¸å…³---çš„ä¸€ä¸ªå¤æ€ªç‰¹æ€§ã€‚è¿™é€šå¸¸æ˜¯ç”±äºç¨‹åºå‘˜
æ— æ„é—´æ„é€ äº†ä¸€ä¸ªæ— é™é€’å½’å‡½æ•°è°ƒç”¨è€Œäº§ç”Ÿçš„ã€‚ä¸ºäº†é˜æ˜ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://dave.cheney.net/2013/06/02/why-is-a-goroutines-stack-infinite"&gt;Why is a Goroutine's stack infinite?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Goç¼–ç¨‹æ–°æ‰‹å¯èƒ½ä¼šå¶ç„¶å‘ç°&lt;a href="http://golang.org/"&gt;Goè¯­è¨€&lt;/a&gt;---ä¸ä¸€ä¸ªGoroutineå¯ç”¨æ ˆç©ºé—´å¤§å°ç›¸å…³---çš„ä¸€ä¸ªå¤æ€ªç‰¹æ€§ã€‚è¿™é€šå¸¸æ˜¯ç”±äºç¨‹åºå‘˜
æ— æ„é—´æ„é€ äº†ä¸€ä¸ªæ— é™é€’å½’å‡½æ•°è°ƒç”¨è€Œäº§ç”Ÿçš„ã€‚ä¸ºäº†é˜æ˜è¿™ä¸ªç‰¹æ€§ï¼Œä»¥å¦‚ä¸‹ä»£ç ï¼ˆæœ‰ç‚¹åˆ»æ„è®¾è®¡çš„ï¼‰ä¸ºä¾‹ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;package&lt;/span&gt; main

&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;fmt&amp;quot;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;type&lt;/span&gt; S &lt;span style="color: #0000ff"&gt;struct&lt;/span&gt; {
    a, b &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;
}

&lt;span style="color: #008000"&gt;// String implements the fmt.Stringer interface&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; (s *S) String() &lt;span style="color: #2b91af"&gt;string&lt;/span&gt; {
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; fmt.Sprintf(&lt;span style="color: #a31515"&gt;&amp;quot;%s&amp;quot;&lt;/span&gt;, s)     &lt;span style="color: #008000"&gt;// Sprintf will call s.String()&lt;/span&gt;
}

&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; main() {
    s := &amp;amp;S{a: 1, b: 2}
    fmt.Println(s)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœä½ è¿è¡Œè¿™ä¸ªç¨‹åºï¼ˆæˆ‘ä¸å»ºè®®ä½ è¿™æ ·åšï¼‰ï¼Œä½ ä¼šå‘ç°ä½ çš„æœºå™¨å¼€å§‹é¢‘ç¹åœ°swapï¼ˆè¯‘æ³¨ï¼šä¸äº†è§£swapçš„ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºâ€œå†…å­˜ä¸ç¡¬ç›˜ä¹‹é—´æ•°æ®çš„å¯¼å‡ºå¯¼å…¥â€ï¼‰ï¼Œ
å¹¶ä¸”å¯èƒ½ä¸å†å“åº”æ“ä½œäº‹ä»¶ï¼Œé™¤éä½ åœ¨ä¸€åˆ‡æ— æ³•æŒ½å›ä¹‹å‰åŠæ—¶åœ°æŒ‰ä¸‹^Cã€‚æˆ‘çŸ¥é“æ‰€æœ‰äººéƒ½ä¼šå…ˆåœ¨Goå®˜ç½‘çš„playgroundä¸­å°è¯•è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œ
&lt;a href="http://dave.cheney.net/2013/06/02/why-is-a-goroutines-stack-infinite"&gt;æ‰€ä»¥æˆ‘å·²ç»ä¸ºä½ å‡†å¤‡å¥½äº†&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°ç¨‹åºå‘˜åº”è¯¥éƒ½é‡åˆ°è¿‡æ— é™é€’å½’å¯¼è‡´çš„é—®é¢˜ï¼Œä½†è¿™éƒ½åªæ˜¯å¯¹äºä»–ä»¬çš„ç¨‹åºæ¥è¯´æ˜¯è‡´å‘½çš„ï¼Œå¯¹äºä»–ä»¬çš„æœºå™¨é€šå¸¸æ¥è¯´å¹¶ä¸æ˜¯ã€‚é‚£ä¹ˆï¼Œä¸ºä½•Goç¨‹åºä¼šä¸åŒå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;Goroutineçš„ä¸»è¦ç‰¹å¾ä¹‹ä¸€æ˜¯å…¶å¼€é”€---åœ¨å†…å­˜å ç”¨åˆå§‹åŒ–æ–¹é¢ï¼Œåˆ›å»ºä¸€ä¸ªGoroutineçš„å¼€é”€éå¸¸å°ï¼ˆç›¸æ¯”äºä¸€ä¸ªä¼ ç»ŸPOSIXçº¿ç¨‹çš„1-8Må­—èŠ‚ï¼‰ï¼Œå¹¶ä¸”
Goroutineçš„æ ˆç©ºé—´æ˜¯æŒ‰éœ€æ‰©å¤§å’Œç¼©å°çš„ã€‚è¿™å°±å…è®¸ä¸€ä¸ªGoroutineä»¥å•ä¸ª4096å­—èŠ‚çš„æ ˆç©ºé—´å¼€å§‹ï¼Œç„¶åæŒ‰éœ€æ‰©å®¹ç¼©å®¹ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒæ ˆç©ºé—´è€—å°½çš„é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å®ç°è¿™ä¸€ç‰¹æ€§ï¼Œé“¾æ¥å™¨ï¼ˆ5lï¼Œ6lï¼Œ8lï¼‰åœ¨æ¯ä¸ªå‡½æ•°çš„å¼€å¤´éƒ½æ’å…¥ä¸€å°æ®µå‰å¯¼ä»£ç $ ^1 $ï¼Œè¿™æ®µä»£ç ä¼šæ£€æµ‹è¯¥å‡½æ•°éœ€è¦çš„æ ˆç©ºé—´å¤§å°æ˜¯å¦å°äºå½“å‰å¯ç”¨çš„æ ˆç©ºé—´ã€‚
è‹¥å¤§äºï¼Œåˆ™è°ƒç”¨&lt;code&gt;runtime.morestack&lt;/code&gt;åˆ†é…ä¸€ä¸ªæ–°çš„æ ˆé¡µï¼ˆstack pageï¼‰$ ^2 $ï¼Œæ‹·è´å‡½æ•°è°ƒç”¨æ–¹ä¼ é€’æ¥çš„å‚æ•°ï¼Œç„¶åå°†æ§åˆ¶æƒè¿”å›ç»™åŸæ¥è¦è°ƒç”¨çš„å‡½æ•°ï¼Œ
è¿™æ ·è¿™ä¸ªå‡½æ•°å°±å¯ä»¥å®‰å…¨è¿è¡Œäº†ã€‚å½“è¿™ä¸ªå‡½æ•°é€€å‡ºæ—¶ï¼Œå†æ’¤é”€æ“ä½œï¼Œå°†å‡½æ•°è¿”å›å€¼æ‹·è´å›å‡½æ•°è°ƒç”¨æ–¹çš„æ ˆå¸§ï¼ˆstack frameï¼‰ï¼Œä¸å†éœ€è¦çš„æ ˆç©ºé—´ä¹Ÿè¢«é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡è¿™ä¸ªè¿‡ç¨‹ï¼Œæ ˆç©ºé—´å°±å¥½åƒæ— é™å¤§ä¸€æ ·ï¼Œè‹¥å‡è®¾ä¸ä¼šæŒç»­åœ°è·¨è¶Šä¸¤ä¸ªæ ˆçš„å¤§å°è¾¹ç•Œ-é€šå¸¸ç§°ä¸º&lt;em&gt;æ ˆåˆ‡åˆ†ï¼ˆstack splittingï¼‰&lt;/em&gt;ï¼ˆè¯‘æ³¨ï¼šä¸å¤ªç†è§£è¿™å¥è¯ï¼Œåº”è¯¥æ˜¯æŒ‡ï¼š&lt;strong&gt;ç¨‹åºæ‰§è¡Œ
åˆ°å‡½æ•°è°ƒç”¨æ–¹ï¼Œæ­£å¥½å°†è¿‘è€—å°½é¢„åˆ†é…çš„æ ˆç©ºé—´ï¼Œè€Œå‡½æ•°è°ƒç”¨æ–¹ä¸­åˆä¸æ–­åœ°è°ƒç”¨å…¶ä»–å‡½æ•°ï¼Œè¿™æ ·æ¯æ¬¡å‡½æ•°è°ƒç”¨å°±éœ€è¦åˆ†é…æ–°çš„æ ˆç©ºé—´ï¼Œå‡½æ•°è°ƒç”¨ç»“æŸååˆéœ€è¦
é‡Šæ”¾æ–°åˆ†é…çš„æ ˆç©ºé—´ï¼Œæ‰€ä»¥å¼€é”€ç§¯ç´¯èµ·æ¥å°±æ¯”è¾ƒå¤§&lt;/strong&gt;ï¼‰ï¼Œè¿™ç§æ ˆç©ºé—´åˆ†é…æ–¹å¼çš„å¼€é”€ä¹Ÿä¼šå¾ˆå°ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œç›´åˆ°ç°åœ¨æˆ‘éƒ½è¿˜æœªæŠ«éœ²ä¸€ä¸ªç»†èŠ‚---ç²—å¿ƒåœ°ä½¿ç”¨é€’å½’å‡½æ•°å¯¼è‡´å†…å­˜è€—å°½çš„è¯ï¼Œå½“éœ€è¦æ–°çš„æ ˆé¡µæ—¶ï¼Œå°±ä¼š&lt;em&gt;ä»å †ä¸Šåˆ†é…&lt;/em&gt;ï¼ˆè¯‘æ³¨ï¼šè¿™å¥è¯å¯èƒ½æœ‰ç‚¹é—®é¢˜ã€‚åº”è¯¥æ˜¯Goroutineè€—å°½æ“ä½œç³»ç»Ÿä¸ºGoç¨‹åºåˆ†é…çš„æ ˆå¤§å°çš„è¯ï¼Œ
å°±ä»å †ä¸Šåˆ†é…ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæ— é™é€’å½’å‡½æ•°æŒç»­åœ°è°ƒç”¨è‡ªå·±ï¼Œæ–°çš„æ ˆé¡µæœ€åå°±éœ€è¦ä»å †ä¸Šåˆ†é…ã€‚å †çš„å¤§å°å¾ˆå¿«å°±ä¼šè¶…è¿‡æœºå™¨çš„å¯ç”¨ç‰©ç†å†…å­˜ç©ºé—´ï¼Œåˆ°é‚£æ—¶ï¼Œswappingä¼šå¾ˆå¿«å¯¼è‡´ä½ çš„æœºå™¨ä¸å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Goç¨‹åºå¯ç”¨çš„å †å¤§å°ä¾èµ–äºå¾ˆå¤šä¸œè¥¿ï¼ŒåŒ…æ‹¬æœºå™¨çš„CPUæ¶æ„å’Œæ“ä½œç³»ç»Ÿï¼Œä½†è¿™é€šå¸¸æ˜¯ä¸€ä¸ªè¶…å‡ºæœºå™¨ç‰©ç†å†…å­˜çš„å€¼ï¼Œå› æ­¤æœºå™¨å¾ˆå¯èƒ½åœ¨ç¨‹åºè€—å°½å®ƒçš„å †ç©ºé—´ä¹‹å‰å°±ä¼šé¢‘ç¹åœ°swapã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºGo 1.1ï¼Œæ›¾æœ‰å¼ºçƒˆè¦æ±‚å¢å¤§32ä½ã€64ä½å¹³å°ä¸Šå †çš„æœ€å¤§å€¼ï¼Œä½†è¿™åœ¨æŸç§ç¨‹åº¦ä¸Šæ¶åŒ–äº†è¿™ä¸€é—®é¢˜ï¼Œæ¯”å¦‚ï¼Œä½ çš„æœºå™¨ä¸å¤ªå¯èƒ½æœ‰128GB$ ^3 $çš„ç‰©ç†å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åæä¸€ä¸‹ï¼Œå…³äºè¿™ä¸ªé—®é¢˜æœ‰å‡ ä¸ªæœªè§£å†³çš„issueï¼ˆ&lt;a href="https://code.google.com/p/go/issues/detail?id=4692"&gt;é“¾æ¥&lt;/a&gt;ï¼Œ&lt;a href="https://code.google.com/p/go/issues/detail?id=2556"&gt;é“¾æ¥&lt;/a&gt;ï¼‰,
ç›®å‰è¿˜æ²¡æ‰¾åˆ°ä¸€ä¸ªè§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä¸å½±å“æŒ‰å¸¸è§„ç¼–å†™çš„ç¨‹åºçš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;æ³¨é‡Š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¹Ÿé€‚ç”¨äºæ–¹æ³•ï¼ˆmethodï¼‰ï¼Œè™½ç„¶æ–¹æ³•æ˜¯ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–¹æ³•æ¥å—è€…ï¼ˆthe method receiverï¼‰çš„å‡½æ•°æ¥å®ç°çš„ï¼Œä½†åœ¨è®¨è®ºGoè¯­è¨€ä¸­åˆ†æ®µçš„ï¼ˆsegmentedï¼‰æ ˆå¦‚ä½•å·¥ä½œä¹‹æ—¶ï¼Œå¹¶æ²¡æœ‰å®é™…çš„åŒºåˆ«ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å•è¯pageå¹¶ä¸æ„å‘³ç€ä»…æŒ‰å›ºå®šçš„4096å­—èŠ‚æ¥åˆ†é…ï¼Œå¦‚æœéœ€è¦ï¼Œruntime.morestackä¼šåˆ†é…ä¸€ä¸ªæ›´å¤§çš„ï¼Œå€æ•°äºä¸€ä¸ªé¡µå¤§å°çš„ç©ºé—´ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºGo 1.1å‘å¸ƒå‘¨æœŸä¸­ä¸€ä¸ªåæ¥çš„æ”¹å˜ï¼Œ64ä½çš„Windowså¹³å°ä»…å…è®¸32Gbå¤§å°çš„å †ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;è¯‘è€…è¡¥å……ç›¸å…³æ–‡ç« &lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://blog.nella.org/a-trip-down-the-split-rabbithole/"&gt;A trip down the (split) rabbithole&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://runtime.diandian.com/post/2011-12-24/11488238"&gt;goè¯­è¨€ä¸­split stack(ä¸Š)&lt;/a&gt;ï¼Œ&lt;a href="http://runtime.diandian.com/post/2011-12-26/10119542"&gt;goè¯­è¨€ä¸­split stack(ä¸‹)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://mikespook.com/2011/03/go%E5%9C%A8stack%E4%B8%8A%E5%B9%B2%E4%BA%86%E7%A5%9E%E9%A9%AC%EF%BC%9F/"&gt;goåœ¨stackä¸Šå¹²äº†ç¥é©¬ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="Golang"></category><category term="ç¿»è¯‘"></category></entry><entry><title>Go - ä»¥ä»»æ„ç±»å‹çš„slicesä½œä¸ºè¾“å…¥å‚æ•°ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2014/01/16/go-input-slices-any-type/" rel="alternate"></link><published>2014-01-16T00:00:00+08:00</published><updated>2014-01-16T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-01-16:/2014/01/16/go-input-slices-any-type/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://ahmetalpbalkan.com/blog/golang-take-slices-of-any-type-as-input-parameter/"&gt;Go â€“ taking slices of any type as input parameters&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘å‚ä¸çš„ä¸€ä¸ªä¸šä½™é¡¹ç›®ï¼Œ&lt;a href="https://github.com/ahmetalpbalkan/go-linq"&gt;go-linq&lt;/a&gt;ï¼Œè®©æˆ‘äº†è§£åˆ°Goè¯­è¨€çš„ç±»å‹ç³»ç»Ÿå¹¶ä¸æ˜¯ä¸ºä»»ä½•ç±»é¢å‘
å¯¹è±¡ç¼–ç¨‹è€Œè®¾è®¡çš„ã€‚æ²¡æœ‰æ³›å‹ï¼Œæ²¡æœ‰ç±»å‹ç»§æ‰¿ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://ahmetalpbalkan.com/blog/golang-take-slices-of-any-type-as-input-parameter/"&gt;Go â€“ taking slices of any type as input parameters&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘å‚ä¸çš„ä¸€ä¸ªä¸šä½™é¡¹ç›®ï¼Œ&lt;a href="https://github.com/ahmetalpbalkan/go-linq"&gt;go-linq&lt;/a&gt;ï¼Œè®©æˆ‘äº†è§£åˆ°Goè¯­è¨€çš„ç±»å‹ç³»ç»Ÿå¹¶ä¸æ˜¯ä¸ºä»»ä½•ç±»é¢å‘
å¯¹è±¡ç¼–ç¨‹è€Œè®¾è®¡çš„ã€‚æ²¡æœ‰æ³›å‹ï¼Œæ²¡æœ‰ç±»å‹ç»§æ‰¿ï¼Œä¹Ÿæ²¡æœ‰æä¾›ä»»ä½•å¯¹è¿™äº›ç‰¹æ€§æœ‰ç”¨çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæä¾›äº†ä¸€ä¸ªåä¸º&lt;code&gt;interface{}&lt;/code&gt;çš„ç±»å‹ï¼Œä½ å¯ä»¥å‘å…¶èµ‹äºˆå‡ ä¹ä»»æ„ç±»å‹çš„å€¼ï¼Œä¸ä¼šæŠ›å‡ºç¼–è¯‘é”™è¯¯ï¼Œå°±åƒ.NETçš„&lt;code&gt;Object&lt;/code&gt;æˆ–Javaçš„&lt;code&gt;Object&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; o &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt;{}
o := 3.14
o := Student{Name: &lt;span style="color: #a31515"&gt;&amp;quot;Ahmet&amp;quot;&lt;/span&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬å‡è®¾ä½ éœ€è¦ä¸€ä¸ªå¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹slicesçš„å‡½æ•°ï¼Œå¦‚æœè€ƒè™‘å¦‚ä¸‹è¿™æ ·å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; Method(in []&lt;span style="color: #0000ff"&gt;interface&lt;/span&gt;{}){...}
...
slice := []&lt;span style="color: #2b91af"&gt;int&lt;/span&gt;{1, 2, 3}
Method(slice)   &lt;span style="color: #008000"&gt;// æŠ›å‡ºé”™è¯¯&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·çš„ä»£ç ä¼šæŠ›å‡ºç¼–è¯‘é”™è¯¯ï¼Œå› ä¸º&lt;code&gt;[]int&lt;/code&gt;ä¸æ˜¯&lt;code&gt;[]interface{}&lt;/code&gt;ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä½ å¯ä»¥è¦æ±‚&lt;code&gt;Method&lt;/code&gt;çš„ä½¿ç”¨è€…å…ˆæŠŠslices
è½¬æ¢ä¸º&lt;code&gt;[]interface{}&lt;/code&gt;ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ä»–ä»¬å¿…é¡»å€ŸåŠ©äºå¦‚ä¸‹ç±»ä¼¼å‡½æ•°å°†ä»–ä»¬çš„&lt;code&gt;[]AnyType&lt;/code&gt;ç±»å‹å‚æ•°è½¬æ¢ä¸º&lt;code&gt;[]interface{}&lt;/code&gt;ç±»å‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; conv(in []AnyType) (out []&lt;span style="color: #0000ff"&gt;interface&lt;/span&gt;{}) {
    out = make([]&lt;span style="color: #0000ff"&gt;interface&lt;/span&gt;{}, len(in))
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i, v := &lt;span style="color: #0000ff"&gt;range&lt;/span&gt; in {
        out[i] = v
    }
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½†è¿™ç§å®ç°çš„æ‰©å±•æ€§å¹¶ä¸å¥½ã€‚å¦‚æœ&lt;code&gt;Method&lt;/code&gt;çš„ä½¿ç”¨è€…ï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ªå¸¸ç”¨å‡½æ•°å¦‚&lt;code&gt;Map&lt;/code&gt;ã€&lt;code&gt;Filter&lt;/code&gt;ç­‰ï¼‰æƒ³å‘&lt;code&gt;Method&lt;/code&gt;ä¼ é€’Nç§ä¸åŒç±»å‹çš„å‚æ•°ï¼Œ
é‚£ä¹ˆä»–ä»¬å°±å¿…é¡»ç¼–å†™Nä¸ª&lt;code&gt;conv&lt;/code&gt;å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹æ­¤ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿä½¿ç”¨&lt;strong&gt;reflection&lt;/strong&gt;ï¼ˆåå°„ï¼‰å‘€ï¼å®ç°ä¸€ä¸ªå‡½æ•°ä»¥&lt;code&gt;interface{}&lt;/code&gt;ï¼ˆå¯ä»¥èµ‹ä»»æ„ç±»å‹çš„å€¼ï¼‰ä¸ºè¾“å…¥å‚æ•°ç±»å‹ï¼Œåœ¨å‡½æ•°å†…éƒ¨
å°†è¿™ä¸ªè¾“å…¥å‚æ•°è½¬æ¢ä¸ºä¸€ä¸ªsliceï¼Œç„¶åç”¨äºæˆ‘ä»¬&lt;code&gt;Method&lt;/code&gt;å‡½æ•°ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; takeSliceArg(arg &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt;{}) (out []&lt;span style="color: #0000ff"&gt;interface&lt;/span&gt;{}, ok &lt;span style="color: #2b91af"&gt;bool&lt;/span&gt;) {
    slice, success := takeArg(arg, reflect.Slice)
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; !success {
        ok = &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;
    }
    c := slice.Len()
    out = make([]&lt;span style="color: #0000ff"&gt;interface&lt;/span&gt;{}, c)
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i := 0; i &amp;lt; c; i++ {
        out[i] = slice.Index(i).Interface()
    }
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; out, &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;
}

&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; takeArg(arg &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt;{}, kind reflect.Kind) (val reflect.Value, ok &lt;span style="color: #2b91af"&gt;bool&lt;/span&gt;) {
    val = reflect.ValueOf(arg)
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; val.Kind() == kind {
        ok = &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;
    }
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‡½æ•°&lt;code&gt;takeArg()&lt;/code&gt;å°è¯•å°†ä¼ å…¥çš„å‚æ•°å€¼è½¬æ¢ä¸ºæŒ‡å®šçš„&lt;a href="http://golang.org/pkg/reflect/#Kind"&gt;reflect.Kind&lt;/a&gt;ç±»å‹ï¼Œç„¶åå‡½æ•°&lt;code&gt;takeSliceArg()&lt;/code&gt;
å°è¯•å°†ä¼ é€’ç»™å®ƒçš„å€¼ï¼ˆç»&lt;code&gt;takeArg()&lt;/code&gt;è½¬æ¢åï¼‰è½¬æ¢ä¸ºä¸€ä¸ª&lt;code&gt;interface{}&lt;/code&gt;çš„sliceã€‚è™½ç„¶ï¼Œè¿™æ ·ä¼šå› ä¸ºåå°„è€Œå½±å“åˆ°ä¸€ç‚¹æ€§èƒ½ï¼Œä½†å½±å“å¹¶ä¸å¤§ã€‚&lt;/p&gt;
&lt;p&gt;å°±æ˜¯è¿™æ ·äº†ã€‚è¿™ç§æ–¹æ¡ˆå¯å‘äºTobia Confrontoçš„&lt;a href="https://github.com/tobia/fn"&gt;fné¡¹ç›®&lt;/a&gt;ï¼Œå¹¶&lt;a href="https://github.com/ahmetalpbalkan/go-linq/commit/fa1548dc4ad8126e62c1848df6e6d961753d976e#diff-3"&gt;åº”ç”¨åˆ°go-linqä¸­&lt;/a&gt;ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Golang"></category><category term="ç¿»è¯‘"></category></entry><entry><title>å›é¡¾2013ï¼Œå±•æœ›2014</title><link href="http://youngsterxyf.github.io/2014/01/06/review13-lookin14/" rel="alternate"></link><published>2014-01-06T00:00:00+08:00</published><updated>2014-01-06T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2014-01-06:/2014/01/06/review13-lookin14/</id><summary type="html">&lt;p&gt;2013å·²ç»è¿‡å»äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ—¶é—´æ¶ˆé€å¾—å¤ªå¿«ï¼Œä»¥è‡³äºå¾ˆå¤šäº‹æƒ…åœ¨è®°å¿†ä¸Šç›¸äº’é‡å ï¼Œæ— æ³•æ˜ç¡®åŒºåˆ†äº‹æƒ…å‘ç”Ÿçš„æ—¶é—´ç‚¹ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•å›é¡¾è¿™è¿‡å»çš„ä¸€å¹´ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;2013å·²ç»è¿‡å»äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ—¶é—´æ¶ˆé€å¾—å¤ªå¿«ï¼Œä»¥è‡³äºå¾ˆå¤šäº‹æƒ…åœ¨è®°å¿†ä¸Šç›¸äº’é‡å ï¼Œæ— æ³•æ˜ç¡®åŒºåˆ†äº‹æƒ…å‘ç”Ÿçš„æ—¶é—´ç‚¹ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•å›é¡¾è¿™è¿‡å»çš„ä¸€å¹´ï¼Ÿ&lt;/p&gt;
&lt;h2&gt;å·¥ä½œ&lt;/h2&gt;
&lt;p&gt;2013ï¼Œå‚åŠ å·¥ä½œçš„ç¬¬ä¸€å¹´ï¼Œæˆ‘å‡ ä¹å…¨èº«å¿ƒåœ°æ‰‘åœ¨å·¥ä½œä¸Šï¼Œè‡ªè®¤ä¸ºåšäº†ä¸€äº›äº‹æƒ…ï¼Œä¹Ÿæœ‰å¾ˆå¤šæ”¶è·ï¼Œæ„‰å¿«è€Œå……å®ã€‚æŠ€æœ¯å·¥ä½œäºæˆ‘è€Œè¨€ï¼Œæ›´å¤šçš„
æ˜¯ä¸€ç§å…´è¶£ã€ä¹è¶£ã€‚&lt;/p&gt;
&lt;p&gt;éå¸¸æ„Ÿè°¢é¢†å¯¼ã€å¯¼å¸ˆä»¥åŠä¼™ä¼´ã€‚é¢†å¯¼ã€å¯¼å¸ˆç»™äº†æˆ‘å¾ˆå¤§çš„ç©ºé—´ï¼Œå¯¼å¸ˆå§‹ç»ˆè€å¿ƒåœ°ç»™äºä¸šåŠ¡å’ŒæŠ€æœ¯çš„æŒ‡å¯¼ï¼Œå’Œä¼™ä¼´çš„åˆä½œéå¸¸æ„‰å¿«ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¹´ï¼Œå¦‚æœè¯´æˆ‘æœ‰äº†äº›è®¸æˆé•¿è¿›æ­¥ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå½’åŠŸäºä»–ä»¬ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›è¯è¯´å¾—ä¹Ÿè®¸æœ‰äº›åƒè·å¥–æ„Ÿè¨€ï¼Œå´æ˜¯å‘è‡ªæˆ‘çš„çœŸå¿ƒã€‚&lt;/p&gt;
&lt;h2&gt;ç”Ÿæ´»&lt;/h2&gt;
&lt;p&gt;2013ï¼Œæˆ‘å’Œè€å©†ï¼Œè®¢å©šã€é¢†è¯ï¼Œç»ˆäºç»“æŸäº†é•¿è¾¾5å¹´çš„å¼‚åœ°æ‹ï¼Œä»æ­¤ä»¥åä¼šæœ‰ä¸ªäººå§‹ç»ˆå’Œæˆ‘â€œç›¸ä¾ä¸ºå‘½â€ï¼Œé¢å¯¹æˆ–è®¸çç¢çš„æ¯ä¸€å¤©ï¼Œåœ¨åŸå¸‚é£˜è¡çš„
æ—¥å­ä¹Ÿä¸ä¼šå†å­¤å•ï¼Œæˆ‘å¾ˆå®‰å¿ƒï¼Œå¾ˆè¸å®ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œæˆ‘æ²¡è½¦ã€æ²¡æˆ¿ï¼Œæ¯ä¸ªæœˆçš„å·¥èµ„ä¹Ÿä¸ç®—é«˜ï¼Œä½†æˆ‘å§‹ç»ˆåœ¨åŠªåŠ›ï¼Œé™¤äº†ä¸ºè‡ªå·±ï¼Œè¿˜å› ä¸ºæœ‰ä¸ªäººå€¼å¾—ä½ å»åŠªåŠ›æŠŠç”Ÿæ´»è¿‡å¾—æ›´å¥½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è®°å½•æˆ‘ä»¬ä»¥å‰å’Œä»¥åäººç”Ÿä¸­çš„é‡è¦æ—¶åˆ»ï¼Œæˆ‘ç‰¹æ„åˆ›å»ºäº†ä¸€ä¸ª&lt;a href="http://youngsterxyf.github.io/love"&gt;å¤§äº‹å¹´è¡¨ç½‘é¡µ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2&gt;è¯»ä¹¦&lt;/h2&gt;
&lt;p&gt;2013ï¼Œæˆ‘è¯»è¿‡çš„ä¹¦éå¸¸å°‘ï¼Œå¦‚æœéå¾—ä¸ºæ­¤æ‰¾ä¸ªç†ç”±ï¼Œæˆ‘æƒ³åº”è¯¥æ˜¯ï¼šå¾ˆå¤§éƒ¨åˆ†ç²¾åŠ›éƒ½æ”¾åœ¨äº†å·¥ä½œå’ŒæŠ€æœ¯ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘éå¸¸åº†å¹¸è‡ªå·±é«˜ä¸­ã€å¤§å­¦ã€è¯»ç ”çš„æ—¶å€™é˜…è¯»äº†å¤§é‡çš„æ‚ä¹¦ï¼Œè™½ç„¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šå½±å“äº†æˆ‘çš„å­¦ä¸šï¼Œä½†æˆ‘æ›´åŠ çœ‹é‡æˆ‘å¦‚ä»Šçš„å¿ƒæ€ã€æ€æƒ³ï¼Œæ°”è´¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œç®€å•ç½—åˆ—ä¸€ä¸‹2013å¹´è¯»è¿‡çš„ä¹¦ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜æœé‚£äº›äº‹å„¿ï¼ˆ1-7å…¨ï¼‰ï¼ˆå¼ºçƒˆæ¨èï¼‰&lt;/li&gt;
&lt;li&gt;è¯»è€…ï¼ˆæ¢æ–‡é“è‘—ï¼‰&lt;/li&gt;
&lt;li&gt;Go Webç¼–ç¨‹&lt;/li&gt;
&lt;li&gt;Learning Raphael - JS Vector Graphicï¼ˆå¯¹Webæ•°æ®å¯è§†åŒ–æ„Ÿå…´è¶£çš„è¯ï¼Œéå¸¸æ¨èï¼‰-&amp;gt; &lt;a href="https://github.com/youngsterxyf/Coder-s-code/blob/master/JavaScript/learning_raphael_js_vector_graphic.js"&gt;é˜…è¯»æ‘˜å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Just For Fun - The Story of an Accidental Revolutionary ï¼ˆLinus Torvaldsè‡ªä¼ ï¼Œæ¨èï¼‰-&amp;gt; &lt;a href="http://youngsterxyf.github.io/2013/11/07/read-just_for_fun/"&gt;è¯»ä¹¦ç¬”è®°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Beginning jQuery [è¯»ä¹¦ç¬”è®°ï¼‰-&amp;gt; &lt;a href="https://github.com/youngsterxyf/Coder-s-code/blob/master/JavaScript/beginning-jquery.js"&gt;é˜…è¯»æ‘˜å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Learning from jQueryï¼ˆæ¨èç»™jQueryå­¦ä¹ è€…ï¼‰-&amp;gt; &lt;a href="https://github.com/youngsterxyf/Coder-s-code/blob/master/JavaScript/learning-from-jQuery.js"&gt;é˜…è¯»æ‘˜å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;JavaScriptè¯­è¨€ç²¾ç²¹ -&amp;gt; &lt;a href="http://youngsterxyf.github.io/2013/03/14/read-js-thegoodparts/"&gt;é˜…è¯»æ‘˜å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://git-scm.com/book/zh"&gt;Pro Git&lt;/a&gt; ï¼ˆæœªè¯»å®Œï¼‰&lt;/li&gt;
&lt;li&gt;ç²¾é€šCSS-é«˜çº§Webæ ‡å‡†è§£å†³æ–¹æ¡ˆ ï¼ˆæœªè¯»å®Œï¼‰&lt;/li&gt;
&lt;li&gt;UNIXç¯å¢ƒé«˜çº§ç¼–ç¨‹ ï¼ˆæœªè¯»å®Œï¼‰&lt;/li&gt;
&lt;li&gt;å½“æˆ‘è°ˆè·‘æ­¥æ—¶ï¼Œæˆ‘è°ˆäº›ä»€ä¹ˆï¼ˆæ‘ä¸Šæ˜¥æ ‘è‘—ï¼Œæœªè¯»å®Œï¼‰&lt;/li&gt;
&lt;li&gt;ç ”ç©¶ä¹‹ç¾ ï¼ˆæ˜¯13å¹´è¯»çš„ä¹ˆï¼Ÿï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¹¦å•ä¸­å‡ ä¹éƒ½æ˜¯æŠ€æœ¯ä¹¦ï¼Œè€ŒæŠ€æœ¯ä¹¦åˆæ˜¯å› å·¥ä½œéœ€è¦è€Œé˜…è¯»çš„ï¼Œæ‰€ä»¥å¥½å‡ æœ¬éƒ½æœªè¯»å®Œã€‚&lt;/p&gt;
&lt;p&gt;ä»ç„¶å¸Œæœ›2014å¹´å¤šèŠ±äº›æ—¶é—´é˜…è¯»ï¼Œå¢å¼ºâ€œå†…åŠŸâ€ï¼Œç›®å‰åˆ—å…¥è®¡åˆ’çš„ä¹¦ç±æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†å²ç ”ç©¶ï¼ˆæ±¤å› æ¯”è‘—ï¼‰&lt;/li&gt;
&lt;li&gt;UNIXç¯å¢ƒé«˜çº§ç¼–ç¨‹&lt;/li&gt;
&lt;li&gt;TCP/IPè¯¦è§£ å·1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ±‚ç²¾è€Œä¸æ±‚å¤šï¼ŒåŠªåŠ›è¾¾æˆç›®æ ‡ã€‚&lt;/p&gt;
&lt;h2&gt;åšå®¢&lt;/h2&gt;
&lt;p&gt;åšæŒå†™åšå®¢ï¼Œä¹Ÿæ˜¯13å¹´çš„ä¸€å¤§æ”¶è·ï¼Œä¸€å…±å†™äº†&lt;a href="http://youngsterxyf.github.io/archives.html"&gt;45ç¯‡æ–‡ç« &lt;/a&gt;ï¼Œä¸»è¦åˆ†ä¸ºæŠ€æœ¯è¯‘æ–‡å’Œå·¥ä½œæŠ€æœ¯æ€»ç»“ä¸¤éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;æ·±æ„Ÿå†™åšå®¢å¯¹äºæŠ€æœ¯ã€çŸ¥è¯†ç§¯ç´¯æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ï¼Œç°åœ¨æˆ‘å°±ç»å¸¸ç¿»é˜…ä»¥å‰å†™çš„æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;å‹¤å†™åšå®¢ã€æ€»ç»“å·¥ä½œå¿ƒå¾—ï¼Œå¯¹äºå·¥ä½œçš„å¸®åŠ©ä¹Ÿå¾ˆå¤§ï¼Œä¸è¯´åˆ«çš„ï¼Œå°±è¯´ï¼šæœ‰æ—¶ä¹Ÿè®¸é¢†å¯¼çªç„¶è®©ä½ å°±è¿‘æœŸçš„å·¥ä½œå†™ä¸ªæ€»ç»“ï¼Œå¦‚æœä½ å·²ç»å†™äº†åšå®¢ï¼Œé‚£å°±å¯ä»¥ç›´æ¥æ‹¿è¿‡æ¥æ”¹æ”¹å°±å¯ä»¥Oäº†ï¼Œå“ˆå“ˆã€‚&lt;/p&gt;
&lt;h2&gt;å…¶ä»–&lt;/h2&gt;
&lt;p&gt;13å¹´ï¼Œæˆ‘å¹¶æ²¡æœ‰æ€ä¹ˆè¿åŠ¨é”»ç‚¼ã€‚&lt;a href="http://youngsterxyf.github.io/2013/01/18/review12-lookinto13/"&gt;å›é¡¾2012ï¼Œå±•æœ›2013&lt;/a&gt;ä¸­çš„â€œä¿¡èª“æ—¦æ—¦â€è®©å¦‚ä»Šçš„æˆ‘æ„Ÿåˆ°å¾ˆç¾æ„§ã€‚ä½†ï¼Œä½å¤„ç¦»å…¬å¸è¿‘ï¼Œè¿™ä¸€ä¼˜ç‚¹è®©æˆ‘å…»æˆäº†
èµ°è·¯ä¸Šä¸‹ç­çš„ä¹ æƒ¯ï¼Œä»4æœˆä»½å…¥èŒåˆ°ç°åœ¨ï¼Œ9ä¸ªæœˆï¼Œé™¤äº†ä¸€æ¬¡ç¡è¿‡å¤´äº†æ‰“è½¦åˆ°å…¬å¸ï¼Œæ¯å¤©ä¸Šä¸‹ç­èµ°è·¯å„åŠä¸ªå°æ—¶å·¦å³ï¼Œå¯¹äºæˆ‘çš„èº«ä½“å¥åº·ä¸èƒ½è¯´æ²¡æœ‰ç§¯æçš„å½±å“ã€‚&lt;/p&gt;
&lt;h2&gt;æœªæ¥ä¸€å¹´&lt;/h2&gt;
&lt;p&gt;2014å¹´ï¼Œç›¸æ¯”2013å¹´ï¼Œä¹Ÿè®¸å¹¶ä¸ä¼šæœ‰å¤ªå¤šçš„åŒºåˆ«ï¼Œä½†æˆ‘ä»éå¸¸æœŸæœ›è‡ªå·±---2013å¹´åšå¾—å¥½çš„ç»§ç»­ä¿æŒï¼Œæ²¡æœ‰è¾¾åˆ°è‡ªå·±æœŸæœ›çš„åœ°æ–¹åˆ™åŠ æ²¹åŠªåŠ›ï¼&lt;/p&gt;
&lt;p&gt;â€œæ´»ç€æ˜¯ä¸€ç§ä¿®è¡Œï¼â€&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æ€»ç»“"></category></entry><entry><title>å¾®åš"æ”¶è—/èµ/è½¬å‘"æŠ€æœ¯èµ„æ–™æ±‡æ€»</title><link href="http://youngsterxyf.github.io/2013/12/28/weibo_tech_resources_summary/" rel="alternate"></link><published>2013-12-28T00:00:00+08:00</published><updated>2013-12-28T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-12-28:/2013/12/28/weibo_tech_resources_summary/</id><summary type="html">&lt;p&gt;ä½¿ç”¨æ–°æµªå¾®åšï¼Œæˆ‘å¾ˆå°‘å‘çŠ¶æ€ï¼Œä¸»è¦æ˜¯è·Ÿè¸ªæŠ€æœ¯åœˆçš„ä¸€äº›åŠ¨æ€ï¼ŒæŠ€æœ¯ç‰›äººä»¬éƒ½åœ¨æäº›ä»€ä¹ˆä¸œä¸œï¼Œå› è€Œæ”¶è—å’Œè½¬å‘äº†ä¸€äº›ä¼˜ç§€ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä½¿ç”¨æ–°æµªå¾®åšï¼Œæˆ‘å¾ˆå°‘å‘çŠ¶æ€ï¼Œä¸»è¦æ˜¯è·Ÿè¸ªæŠ€æœ¯åœˆçš„ä¸€äº›åŠ¨æ€ï¼ŒæŠ€æœ¯ç‰›äººä»¬éƒ½åœ¨æäº›ä»€ä¹ˆä¸œä¸œï¼Œå› è€Œæ”¶è—å’Œè½¬å‘äº†ä¸€äº›ä¼˜ç§€çš„æŠ€æœ¯èµ„æºï¼Œ
ä½†æœ‰äº›èµ„æºå½“æ—¶å¹¶æ²¡æœ‰æ¥å¾—åŠé˜…è¯»æ¶ˆåŒ–ï¼Œä¹Ÿæ²¡å¿…è¦é©¬ä¸Šå°±é˜…è¯»å­¦ä¹ çš„ï¼Œæ‰€ä»¥è¿™é‡Œæ•´ç†æ±‡æ€»ä¸€ä¸‹ï¼Œä»¥å…æ¹®æ²¡åœ¨æµ©ç€šçš„ç½‘ç»œä¿¡æ¯æµ·æ´‹ä¸­ã€‚&lt;/p&gt;
&lt;h3&gt;ä¹¦ç±&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;HTTPæƒå¨æŒ‡å— &amp;lt;- &lt;a href="http://weibo.com/fenng"&gt;@Fenng&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://nlp.stanford.edu/IR-book/"&gt;Introduction to Information Retrieval&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/lirenchen"&gt;@é™ˆåˆ©äºº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.codingnow.com/temp/readinglua.pdf"&gt;Lua æºç æ¬£èµ&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/deepcold"&gt;@ç®€æ‚¦äº‘é£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://aosabook.org/en/index.html"&gt;The Architecture of Open Source Applications&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/2169336083"&gt;@CloudFoundry &lt;/a&gt; (å·²é™†ç»­è¯»äº†éƒ¨åˆ†ç« èŠ‚ï¼Œèµï¼å›¾çµç¤¾åŒºæœ‰ç« èŠ‚ç¿»è¯‘)&lt;/li&gt;
&lt;li&gt;ç¨‹åºè®¾è®¡å®è·µ &amp;lt;- &lt;a href="http://weibo.com/wintercn"&gt;@å¯’å†¬winter&lt;/a&gt; &lt;em&gt;æ¨èè¯­ï¼šè–„è–„200é¡µï¼Œå°±èƒ½è®©ä¸€ä¸ªæŒæ¡ä¸€é—¨ç¼–ç¨‹è¯­è¨€åŸºç¡€çš„äººæˆä¸ºä¸€ä¸ªåˆæ ¼çš„ç¨‹åºå‘˜ï¼Œå…¶ä¸­â€œç®—æ³•å’Œæ•°æ®ç»“æ„â€ä¸€ç« ä¸åˆ°30é¡µï¼Œæˆ‘è®¤ä¸ºç»†ç»†è¯»è¿‡è¶³ä»¥åº”ä»˜å¤§å¤šæ•°é¢è¯•å’Œå·¥ä½œéœ€è¦ã€‚&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;ä¸ƒå‘¨ä¸ƒè¯­è¨€ &amp;lt;- &lt;a href="http://weibo.com/tchuba"&gt;@æ·˜å®è¤šéœ¸&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Cè¯­è¨€æ¥å£ä¸å®ç° &amp;lt;- &lt;a href="http://weibo.com/huangz1990"&gt;@huangz1990&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The Linux Programming Interface &amp;lt;- &lt;a href="http://weibo.com/533452688"&gt;@ASTAè°¢&lt;/a&gt; &lt;em&gt;æ¨èè¯­ï¼šæ—¢ã€ŠUnixç½‘ç»œç¼–ç¨‹ã€‹ä¸€äºŒå†Œã€ã€ŠUnixç¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹è¿™ä¸‰æœ¬ä¹¦ä¹‹åçš„æœ€å…¨é¢æœ€å¥½çš„ä¸€æœ¬ä»‹ç»linuxæ–¹é¢çš„ä¹¦ç±ï¼Œéå¸¸æ¨èå¤§å®¶è¯»ä¸€è¯»&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;ä»£ç é˜…è¯»æ–¹æ³•ä¸å®è·µ &amp;lt;- &lt;a href="http://weibo.com/tchuba"&gt;@æ·˜å®è¤šéœ¸&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://addyosmani.com/resources/essentialjsdesignpatterns/book/"&gt;JavaScript è®¾è®¡æ¨¡å¼&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/oschina2010"&gt;@å¼€æºä¸­å›½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://learnvimscriptthehardway.stevelosh.com/"&gt;Learn Vimscript the Hard Way&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/developerworks"&gt;@developerWorks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;C++ çš„è®¾è®¡ä¸æ¼”åŒ– &amp;lt;- &lt;a href="http://weibo.com/marchliu"&gt;@åˆ˜é‘«Mars&lt;/a&gt; &lt;em&gt;æ¨èè¯­ï¼šæ— è®ºä½ å¯¹CPPæ˜¯çˆ±è¿˜æ˜¯æ¨ï¼Œåªè¦å¯¹å®ƒæœ‰å¼ºçƒˆçš„æ„Ÿæƒ…ï¼Œå°±å€¼å¾—è¯»ä¸€è¯»&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;é¡¹ç›®&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://nmon.sourceforge.net/pmwiki.php"&gt;nmon for Linux&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/tchuba"&gt;@æ·˜å®è¤šéœ¸&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://bitbucket.org/kardianos/rsync"&gt;rsync(Goè¯­è¨€å®ç°)&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/533452688"&gt;@ASTAè°¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://plan9.bell-labs.com/plan9/"&gt;plan9&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/codebox"&gt;@CodeBox-è…¾è®¯&lt;/a&gt; &lt;em&gt;æ¨èè¯­ï¼šæ¨èæœ‰æŠ€æœ¯å“å‘³çš„åŒå­¦éƒ½çœ‹çœ‹plan9çš„æºç ï¼ŒçœŸæ­£ä¸–ç•Œçº§å¤§å¸ˆçš„ä½œå“ã€‚plan9çš„éƒ¨åˆ†ä»£ç åæ¥ç›´æ¥ç”¨æ¥å®ç°goè¯­è¨€äº†ã€‚&lt;/em&gt; (å‰å¹´å…³æ³¨è¿‡è¿™ä¸ªé¡¹ç›®ï¼Œå“ˆå“ˆï¼Œæˆ‘çš„Githubå¤´åƒå°±æ˜¯ç”¨çš„plan9çš„å›¾æ ‡)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/square/maximum-awesome"&gt;maximum-awesome&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/developerworks"&gt;@developerWorks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://influxdb.org/"&gt;InFluxDB&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/soddyque"&gt;@æœ‰ç‚¹å„¿æ¬¢ä¹&lt;/a&gt;(ç›®å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨InfluxDBæ¥å®ç°ä¸€ç§æ—¶é—´åºåˆ—æ•°æ®åå¤‡å­˜å‚¨æ–¹æ¡ˆã€‚å®˜æ–¹çš„æ–‡æ¡£è¿˜ä¸å¤ªå®Œå–„ï¼Œä¹Ÿè¿˜æ²¡ç”Ÿäº§åº”ç”¨æ¡ˆä¾‹)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://bitly.github.io/nsq/"&gt;NSQ&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/1855563263"&gt;@å¤æ°¸é”‹_SJTU&lt;/a&gt; (å“ˆå“ˆï¼Œæˆ‘è‡ªå·±ã€‚ç›®å‰æˆ‘ä»¬ä½¿ç”¨NSQæ¥æ¥æ”¶æœåŠ¡å™¨ä¸ŠæŠ¥çš„å„é¡¹æ€§èƒ½æ•°æ®)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;æ–‡ç« &lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://voorloopnul.com/blog/a-python-proxy-in-less-than-100-lines-of-code/"&gt;A python proxy in less than 100 lines of code&lt;/a&gt; &amp;lt;- &lt;a href="http://e.weibo.com/u/2093492691?ref=http%3A%2F%2Fweibo.com%2Ffav%3Fpage%3D5"&gt;@ç¨‹åºå‘˜çš„é‚£äº›äº‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://pymotw.com/2/"&gt;Python Module of the Week&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/royshan"&gt;@éª†é€¸&lt;/a&gt; (æˆ‘ç¿»è¯‘è¿‡å…¶ä¸­&lt;a href="http://youngsterxyf.github.io/2013/03/30/argparse/"&gt;argparse&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://igoro.com/archive/what-really-happens-when-you-navigate-to-a-url/"&gt;What really happens when you navigate to a URL&lt;/a&gt;ï¼Œ&lt;a href="http://www.cnblogs.com/wenanry/archive/2010/02/25/1673368.html"&gt;è¯‘æ–‡&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/lirenchen"&gt;@é™ˆåˆ©äºº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://rxin.github.io/db-readings/"&gt;Readings in Databases&lt;/a&gt; &amp;lt;- &lt;a href="http://e.weibo.com/u/2093492691"&gt;@ç¨‹åºå‘˜çš„é‚£äº›äº‹&lt;/a&gt; (æ•°æ®åº“ç›¸å…³è®ºæ–‡åˆ—è¡¨ï¼Œèµï¼)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.html5rocks.com/en/tutorials/internals/howbrowserswork/"&gt;How Browsers Work: Behind the scenes of modern web browsers&lt;/a&gt;ï¼Œ&lt;a href="http://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/"&gt;è¯‘æ–‡&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/ftqq"&gt;@æ–¹ç³–æ°”çƒ&lt;/a&gt; (å¤§è‡´è¯»è¿‡ä¸€é)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.allthingsdistributed.com/2012/12/paper-readings-2012.html"&gt;The Back-to-Basics Readings of 2012&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/1765260200"&gt;@jametong&lt;/a&gt; (2014å¹´ï¼Œæˆ‘æ‰“ç®—è·Ÿè¸ªé˜…è¯»è¿™ä¸€ç³»åˆ—)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://coderwall.com/p/rklk_a"&gt;Go: Share Memory By Communicating&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/533452688"&gt;@ASTAè°¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.valleytalk.org/2011/06/18/%E5%AF%B9%E5%A4%A7%E9%80%81%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84%E5%B8%88%E7%9A%84%E4%B8%83%E4%B8%AA%E6%9C%9F%E6%9C%9B/"&gt;å¯¹å¤§å®‹ä¸‹ä¸€ä»£ç³»ç»Ÿè½¯ä»¶æ¶æ„å¸ˆçš„ä¸ƒä¸ªæœŸæœ›&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/baoyungang"&gt;@åŒ…äº‘å²—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.usenix.org/system/files/conference/nsdi13/nsdi13-final170_update.pdf"&gt;Scaling Memcache at Facebook&lt;/a&gt;ï¼Œ&lt;a href="http://www.oschina.net/translate/scaling-memcache-facebook"&gt;è¯‘æ–‡&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/emclabschina"&gt;@EMCä¸­å›½ç ”ç©¶é™¢&lt;/a&gt;, &lt;a href="http://weibo.com/developerworks"&gt;@developerWorks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.bigendian123.com/go/2013/11/29/golang-schedule/"&gt;goroutineä¸è°ƒåº¦å™¨&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/marckywu"&gt;@é«˜ç«¯å°æ··æ··&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.golang.org/go-slices-usage-and-internals"&gt;Go Slices: usage and internals&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/533452688"&gt;@ASTAè°¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://journal.stuffwithstuff.com/2013/12/08/babys-first-garbage-collector/"&gt;Baby's First Garbage Collector&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/forhapy"&gt;@å‚…æµ·å¹³ICT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying"&gt;The Log: What every software engineer should know about real-time data's unifying abstraction&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/2216172320"&gt;@ä½•_ç™»æˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://tiewei.github.io/cloud/Docker-Getting-Start/"&gt;Dockerä»‹ç»: ç›¸å…³æŠ€æœ¯&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/ferest"&gt;@fe-rest&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.csdn.net/yzsind/article/details/6059209"&gt;é¢å‘ç¨‹åºå‘˜çš„æ•°æ®åº“è®¿é—®æ€§èƒ½ä¼˜åŒ–æ³•åˆ™&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/2216172320"&gt;@ä½•_ç™»æˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://bash.cumulonim.biz/BashPitfalls.html"&gt;Bash Pitfalls&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/huoding"&gt;@ç«ä¸ç¬”è®°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rational.so/blog/2013/11/09/sosp-2013-analysis/"&gt;SOSP 2013 Analysis&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/1657470871"&gt;@ç‹å¨å»‰&lt;/a&gt; (æŒºæœ‰æ„æ€çš„ä¸€ç¯‡å­¦æœ¯å…«å¦æ–‡)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://rogueleaderr.com/post/65157477648/the-idiomatic-guide-to-deploying-django-in-production"&gt;The Idiomatic Guide to Deploying Django in Production&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/developerworks"&gt;@developerWorks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://zh.learnlayout.com/"&gt;å­¦ä¹ CSSå¸ƒå±€&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/royshan"&gt;@éª†é€¸&lt;/a&gt; (è¯»è¿‡ï¼Œä¸é”™)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.manong.io/technologies-we-use/"&gt;ã€Šç å†œå‘¨åˆŠã€‹ç”¨åˆ°çš„ä¸€äº›æŠ€æœ¯&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/developerworks"&gt;@developerWorks&lt;/a&gt; (ä¸é”™ï¼Œèµï¼)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://chenzhenianqing.cn/articles/943.html"&gt;Redisä¸»ä»åŒæ­¥æºç æµ…æ-Masterç«¯&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/chenzhenianqing"&gt;@è¶ç€å¹´è½»-æµ·æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.disqus.com/post/62187806135/scaling-django-to-8-billion-page-views"&gt;Scaling Django to 8 Billion Page Views&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/developerworks"&gt;@developerWorks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://devo.ps/blog/2013/09/11/zookeeper-vs-doozer-vs-etcd.html"&gt;ZooKeeper vs. Doozer vs. Etcd&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/533452688"&gt;@ASTAè°¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.engineyard.com/2012/linux-scalability"&gt;Linux TCP/IP Tuning for Scalability&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/1765260200"&gt;@jametong&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.gopheracademy.com/day-22-a-journey-into-nsq"&gt;A Journey Into NSQ&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/533452688"&gt;@ASTAè°¢&lt;/a&gt; (æˆ‘ä»¬å·²ç»åœ¨é¡¹ç›®ä¸­ä½¿ç”¨NSQäº†ï¼Œå“ˆå“ˆ)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://highscalability.com/blog/2013/8/26/reddit-lessons-learned-from-mistakes-made-scaling-to-1-billi.html"&gt;Reddit: Lessons Learned From Mistakes Made Scaling To 1 Billion Pageviews A Month&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/developerworks"&gt;@developerWorks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://medium.com/i-m-h-o/231d7499a75"&gt;Programmerâ€™s dilemma&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/developerworks"&gt;@developerWorks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.soimort.org/posts/160/"&gt;ç¨‹åºè¯­è¨€ç®€å²&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/deepcold"&gt;@ç®€æ‚¦äº‘é£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://queue.acm.org/detail.cfm?id=1854041"&gt;Thinking Clearly about Performance&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/1765260200"&gt;@jametong&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://highscalability.com/blog/2013/4/15/scaling-pinterest-from-0-to-10s-of-billions-of-page-views-a.html"&gt;Scaling Pinterest - From 0 To 10s Of Billions Of Page Views A Month In Two Years&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/developerworks"&gt;@developerWorks&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;å›¾ç‰‡/Slide/å…¶ä»–&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://photo.weibo.com/2636918231/wbphotos/large/mid/3527795659267872/pid/9d2c2dd7gw1e082ueq8qpj"&gt;å›¾è§£llinuxå¯åŠ¨æµç¨‹å›¾&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/cnhackers"&gt;@ä¸­å›½é»‘å®¢è”ç›ŸV&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://speakerdeck.com/chriscoyier/lets-do-a-bunch-of-simple-stuff-to-make-websites-faster"&gt;Let's Do A Bunch of Simple Stuff to Make Websites Faster&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/1855563263"&gt;@å¤æ°¸é”‹_SJTU&lt;/a&gt; (å“ˆå“ˆï¼Œæˆ‘è‡ªå·±)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://rivierarb.fr/presentations/messaging-systems/#1"&gt;Messaging Systems - How to make the right choice?&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/1765260200"&gt;@jametong&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://hewgill.com/~greg/stackoverflow/ebooks/"&gt;Stack Overflow ä¸Šçš„é¡¶çº§é—®ç­”ç”µå­ä¹¦æ±‡æ€»&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/idreamland"&gt;@æ± å»ºå¼º&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://denvergophers.com/2013-09/tips-and-tricks.slide#1"&gt;Tips and Tricks with Go&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/533452688"&gt;@ASTAè°¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.igvita.com/slides/2013/fluent-perfcourse.pdf"&gt;Building Faster Websites&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/developerworks"&gt;@developerWorks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/springside/springside4/wiki/Redis"&gt;Redis Wiki&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/huangz1990"&gt;@huangz1990&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.google.com/presentation/d/11VTTGHVNmiiw6GY0WBdX9laBUtLOhmrdgltuth3_pug/edit#slide=id.p"&gt;Golang Server Design Pattern&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/533452688"&gt;@ASTAè°¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://v.163.com/movie/2013/5/N/R/M8TBJIK7D_M8TBLIINR.html"&gt;ä¹”å¸ƒæ–¯ï¼šé—å¤±çš„è®¿è°ˆ(1995)&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/wensong8"&gt;@æ·˜å®æ­£æ˜&lt;/a&gt; (æ¨èï¼Œéå¸¸èµï¼)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://vdisk.weibo.com/s/s55H8"&gt;åˆ†å¸ƒå¼åŸºç¡€ç†è®ºç³»åˆ—è®ºæ–‡ç¿»è¯‘é›†&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/phylipsbmy"&gt;@æˆ‘åœ¨åœ°ä¸Šæ•°æ˜Ÿæ˜Ÿ&lt;/a&gt; (èµï¼è¦èŠ±ç‚¹æ—¶é—´è®¤çœŸè¯»ä¸€ä¸‹)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://research.microsoft.com/en-us/um/people/gray/papers/ieee_HA_Swieorick.pdf"&gt;High Available computer systems&lt;/a&gt;, &lt;a href="http://research.microsoft.com/en-us/um/people/gray/papers/TandemTR85.7_WhyDoComputersStop.pdf"&gt;Why do Computers stop&lt;/a&gt;, &lt;a href="http://roc.cs.berkeley.edu/papers/usits03.pdf"&gt;Why do Internet Services Fail&lt;/a&gt; &amp;lt;- &lt;a href="http://weibo.com/u/1765260200"&gt;@jametong&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="å¾®åš"></category><category term="æŠ€æœ¯"></category></entry><entry><title>IEä¸‹JavaScript Dateå¯¹è±¡çš„ä¸åŒä¹‹å¤„</title><link href="http://youngsterxyf.github.io/2013/12/03/date_difference_in_ie/" rel="alternate"></link><published>2013-12-03T00:00:00+08:00</published><updated>2013-12-03T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-12-03:/2013/12/03/date_difference_in_ie/</id><summary type="html">&lt;p&gt;ä¹‹å‰åœ¨&lt;a href="http://youngsterxyf.github.io/2013/11/29/inner_warehouse_monitor_system/"&gt;ä»“åº“ä½œä¸šæœºå™¨ç›‘æ§ç³»ç»Ÿ&lt;/a&gt;é¡¹ç›®ä¸­ä½¿ç”¨&lt;a href="http://www.highcharts.com/demo/line-time-series"&gt;HighChartsçš„æ—¶é—´åºåˆ—æ•°æ®å›¾&lt;/a&gt;æ¥ç»˜åˆ¶æœºå™¨CPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨é‡ã€ç½‘ç»œæµé‡è¶‹åŠ¿å˜åŒ–å›¾ç­‰ï¼Œè¿™äº›å›¾åœ¨IEä¸‹å´æ²¡æœ‰æ­£å¸¸æ˜¾ç¤ºï¼ŒIEä¹Ÿæ²¡æœ‰æŠ¥é”™ï¼ŒæŒ‰ç†è¯´HighChartsçš„IEå…¼å®¹æ€§æ˜¯è¾ƒå¥½çš„ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä¹‹å‰åœ¨&lt;a href="http://youngsterxyf.github.io/2013/11/29/inner_warehouse_monitor_system/"&gt;ä»“åº“ä½œä¸šæœºå™¨ç›‘æ§ç³»ç»Ÿ&lt;/a&gt;é¡¹ç›®ä¸­ä½¿ç”¨&lt;a href="http://www.highcharts.com/demo/line-time-series"&gt;HighChartsçš„æ—¶é—´åºåˆ—æ•°æ®å›¾&lt;/a&gt;æ¥ç»˜åˆ¶æœºå™¨CPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨é‡ã€ç½‘ç»œæµé‡è¶‹åŠ¿å˜åŒ–å›¾ç­‰ï¼Œè¿™äº›å›¾åœ¨IEä¸‹å´æ²¡æœ‰æ­£å¸¸æ˜¾ç¤ºï¼ŒIEä¹Ÿæ²¡æœ‰æŠ¥é”™ï¼ŒæŒ‰ç†è¯´HighChartsçš„IEå…¼å®¹æ€§æ˜¯è¾ƒå¥½çš„ï¼Œä¸ä¼šå‡ºç°è¿™ç§é—®é¢˜ï¼Œ
æœ€åæŸ¥æ˜åŸå› ---ç¡®å®ä¸æ˜¯HighChartsçš„é—®é¢˜ï¼Œè€Œæ˜¯ç”±äºIEä¸‹JavaScriptçš„Dateå¯¹è±¡ç¼ºå°‘ä¸€ç§æ„é€ å‡½æ•°å¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;p&gt;IEä¸­JavaScriptçš„Dateå¯¹è±¡æœ‰å¦‚ä¸‹&lt;a href="http://msdn.microsoft.com/zh-cn/library/ie/cd9w2te4.aspx"&gt;ä¸‰ç§æ„é€ å‡½æ•°&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dateObj = new Date()
dateObj = new Date(dateVal)
dateObj = new Date(year, month, date[, hours[, minutes[, seconds[,ms]]]])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä»–æµè§ˆå™¨ä¸­é™¤äº†è¿™ä¸‰ç§ä¹‹å¤–ï¼Œ&lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date"&gt;è¿˜æœ‰ä¸€ç§&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dateObj = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Date(dateString);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœåœ¨IEä¸‹ä½¿ç”¨äº†è¿™ç§æ„é€ å‡½æ•°ï¼ŒIEä¸ä¼šæç¤ºé”™è¯¯ï¼Œä½†åœ¨è°ƒç”¨dateObjçš„getMonthã€getDateç­‰ç­‰æ–¹æ³•æ—¶è¿”å›çš„æ˜¯&lt;strong&gt;NaN&lt;/strong&gt;ï¼Œä»è€Œå¯¼è‡´äº†å…¶ä»–é—®é¢˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;æ›´æ–°&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æ³¨ï¼šæ„Ÿè°¢@yiyunæŒ‡å‡ºï¼ŒIEä¸­çš„Dateæ„é€ å‡½æ•°åªæ˜¯ä¸æ”¯æŒ"xxxx-xx-xx"è¿™ç§æ ¼å¼çš„æ—¶é—´å­—ç¬¦ä¸²&lt;/em&gt;ã€‚&lt;a href="http://msdn.microsoft.com/zh-cn/library/ie/cd9w2te4.aspx"&gt;æ–‡æ¡£&lt;/a&gt;ä¹Ÿæœ‰è¯´æ˜ï¼Œæ˜¯æˆ‘é˜…è¯»ä¸ä»”ç»†ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dateVal
    å¿…éœ€ã€‚å¦‚æœæ˜¯æ•°å€¼ï¼ŒdateValè¡¨ç¤ºæŒ‡å®šæ—¥æœŸä¸1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´ç›¸å·®çš„åè°ƒä¸–ç•Œæ—¶çš„æ¯«ç§’æ•°ã€‚   
    å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ ¹æ®æ—¥æœŸå’Œæ—¶é—´å­—ç¬¦ä¸²(JavaScript)ä¸­çš„è§„åˆ™åˆ†ædateValã€‚dateValå‚æ•°ä¹Ÿå¯ä»¥æ˜¯ä»ä¸€äº›ActiveXå¯¹è±¡è¿”å›çš„ VT_DATEå€¼ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ—¥æœŸå’Œæ—¶é—´å­—ç¬¦ä¸²çš„è§„åˆ™è§ï¼š&lt;a href="http://msdn.microsoft.com/zh-cn/library/ie/ff743760.aspx"&gt;http://msdn.microsoft.com/zh-cn/library/ie/ff743760.aspx&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;åœ¨æˆ‘çš„æ¡ˆä¾‹ä¸­ï¼Œæ˜¯éœ€è¦å°†æ—¶é—´å­—ç¬¦ä¸²â€œxxxx-xx-xxâ€ï¼ˆå¦‚â€œ2013-12-03â€ï¼‰è½¬æ¢æˆä¸€ä¸ªDateå¯¹è±¡ï¼Œä¸ºäº†å…¼å®¹IEï¼Œæˆ‘å¦‚ä¸‹å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; newIEDate(dateStr) {
    &lt;span style="color: #008000"&gt;// dateStrçš„æ ¼å¼ï¼šxxxx-xx-xx&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; dateParts = dateStr.split(&lt;span style="color: #a31515"&gt;&amp;quot;-&amp;quot;&lt;/span&gt;);
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Date(parseInt(dateParts[0]), parseInt(dateParts[1])-1, parseInt(dateParts[2]));
}
...
&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; objDate;
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; ($.browser.msie) {
    objDate = newIEDate(queryDate);
} &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; {
    objDate = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Date(queryDate);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»£ç ä¸­ï¼Œ&lt;code&gt;$.browser.msie&lt;/code&gt;æ¥è‡ªjQueryã€‚å¦å¤–ï¼Œæ„é€ å‡½æ•°&lt;code&gt;new Date(year, month, date[, hours[, minutes[, seconds[,ms]]]])&lt;/code&gt;ä¸­çš„&lt;strong&gt;year&lt;/strong&gt;å¿…é¡»æ˜¯å¹´ä»½å…¨ç§°ï¼ˆå¦‚1998ï¼Œè€Œä¸åº”æ˜¯98ï¼‰ï¼Œ&lt;strong&gt;month&lt;/strong&gt;å‚æ•°åˆ™åº”åœ¨0-11ï¼ˆä»£è¡¨1æœˆè‡³12æœˆï¼‰ä¹‹é—´å–å€¼ã€‚&lt;/p&gt;
&lt;h4&gt;å‚è€ƒèµ„æ–™&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://msdn.microsoft.com/zh-cn/library/ie/cd9w2te4.aspx"&gt;MSDN - Date å¯¹è±¡ (JavaScript)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date"&gt;MDN - Date&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="JavaScript"></category><category term="ç¬”è®°"></category></entry><entry><title>æŸè¿è¥å¹³å°æ¶æ„è°ƒæ•´</title><link href="http://youngsterxyf.github.io/2013/12/02/operation_platform_arch_change/" rel="alternate"></link><published>2013-12-02T00:00:00+08:00</published><updated>2013-12-02T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-12-02:/2013/12/02/operation_platform_arch_change/</id><summary type="html">&lt;p&gt;ä¹‹å‰åœ¨&lt;a href="http://youngsterxyf.github.io/2013/10/15/standardization-operation-development/"&gt;è¿è¥å¼€å‘è§„èŒƒåŒ–&lt;/a&gt;ä¸€æ–‡ä¸­æè¿‡å·¥ä½œä¸­æ¶‰åŠä¸€ä¸ª&lt;strong&gt;è¿è¥å¹³å°&lt;/strong&gt;ã€‚æ›¾æœ‰æ®µæ—¶é—´æˆ‘ä¸€ç›´åæ§½è¯¥å¹³å°çš„ä»£ç å®ç°æœ‰å¤šçƒ‚ï¼Œå„ç§åŠŸ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä¹‹å‰åœ¨&lt;a href="http://youngsterxyf.github.io/2013/10/15/standardization-operation-development/"&gt;è¿è¥å¼€å‘è§„èŒƒåŒ–&lt;/a&gt;ä¸€æ–‡ä¸­æè¿‡å·¥ä½œä¸­æ¶‰åŠä¸€ä¸ª&lt;strong&gt;è¿è¥å¹³å°&lt;/strong&gt;ã€‚æ›¾æœ‰æ®µæ—¶é—´æˆ‘ä¸€ç›´åæ§½è¯¥å¹³å°çš„ä»£ç å®ç°æœ‰å¤šçƒ‚ï¼Œå„ç§åŠŸèƒ½çš„é€»è¾‘æœ‰å¤šâ€œé‡è›®â€ï¼Œåº”å°½å¿«æ”¹é€ ï¼Œä½†ä¹Ÿè®¸â€œworse is betterâ€ï¼Œæˆ‘çš„åæ§½åªèƒ½ä»…ä»…æ˜¯åæ§½è€Œå·²äº†ã€‚&lt;/p&gt;
&lt;p&gt;æœ€è¿‘è¯¥å¹³å°ç»ˆäºé¢‘ç¹å‡ºé—®é¢˜äº†ã€‚åŸå› æ˜¯ä¸Šçº¿äº†ä¸€ä¸ªæ–°åŠŸèƒ½---ç”Ÿäº§ç³»ç»Ÿçš„æ¨¡å—ä¹‹é—´æ¯å‘ç”Ÿä¸€æ¬¡æ¨¡å—è°ƒç”¨ï¼Œå°±ä¼šè°ƒç”¨è¯¥è¿è¥å¹³å°çš„APIä¸ŠæŠ¥ä¸€æ¬¡æ•°æ®ï¼Œè¯¥APIçš„é€»è¾‘æ˜¯å°†ä¸ŠæŠ¥çš„æ•°æ®å­˜å…¥Redisä¸­ã€‚APIç”±PHPå®ç°ï¼ŒæœåŠ¡å™¨ä»¥Nginx + PHP-FPMçš„æ–¹å¼å¤„ç†APIè°ƒç”¨è¯·æ±‚ã€‚å½“ç”Ÿäº§ç³»ç»Ÿçš„ä¸šåŠ¡é‡å¢å¤§ï¼Œæ¨¡å—ç›´æ¥çš„è°ƒç”¨æ¬¡æ•°é¢‘ç‡å¢å¤§ç›´æ¥å¯¼è‡´APIè°ƒç”¨çš„é¢‘ç‡å¢å¤§ï¼Œ
åŠ ä¸Šè¯¥å¹³å°æ‰€åœ¨æœåŠ¡å™¨å„ç§cronä»»åŠ¡ç­‰çš„å½±å“ï¼Œå¯¼è‡´åœ¨æŸäº›æ—¶å€™ï¼ŒPHP-FPMå­è¿›ç¨‹æ•°é‡é£™å‡ï¼Œè·‘æ»¡CPUï¼Œå¹¶ä¸”PHP-FPMå­è¿›ç¨‹çš„æ•°ç›®æŒç»­ä¸é™ï¼ˆåŸå› ä¸æ˜ï¼‰ã€‚è¿™æ ·å¯¼è‡´ä¸€æ–¹é¢ç”¨æˆ·æ— æ³•è®¿é—®è¯¥å¹³å°---æœåŠ¡å™¨å“åº”502ï¼ˆNginxæ¥å—è¯·æ±‚ï¼Œä½†PHP-FPMæ— æ³•å¤„ç†è¯¥è¯·æ±‚ï¼‰ï¼Œå¦ä¸€æ–¹é¢æ›´å¤šçš„æ•°æ®ä¸ŠæŠ¥APIè°ƒç”¨æ— æ³•å®Œæˆï¼Œé€ æˆå¤§é‡æ•°æ®ä¸¢å¤±å’Œè¯¯å‘Šè­¦ã€‚
ç”¨æˆ·æ€¨å£°è½½é“ï¼Œé¢†å¯¼ä¹Ÿå¾ˆå¤´ç–¼ï¼Œè¦æ±‚å°½å¿«æå®šè¯¥é—®é¢˜ï¼Œä½†è¿Ÿè¿Ÿæ²¡äººæŒ‘èµ·è¿™ä¸ªæ´»ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å¼€ä¸ªå¤´ï¼Œä¸Šä¸Šä¸ªå‘¨æœ«çš„ä¸€å¤©æˆ‘ç»˜åˆ¶äº†ä¸¤å¼ å¯¹æ¯”å›¾ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ï¼Œå°è¯•ç»™å‡ºå»ºè®®æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="operation_platform_old_arch" src="/assets/uploads/pics/operation_platform_old_arch.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="operation_platform_new_arch" src="/assets/uploads/pics/operation_platform_new_arch.png"&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹æ¡ˆçš„æ—¶é—´æˆæœ¬è¾ƒä½ï¼Œæ— éœ€æ”¹åŠ¨å¯¹å¤–APIï¼Œä¹Ÿæ— éœ€å¤§é‡ä¿®æ”¹ä»£ç ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æ¶æ„"></category><category term="ç¬”è®°"></category></entry><entry><title>HAProxyConsoleç®€ä»‹</title><link href="http://youngsterxyf.github.io/2013/12/02/re_introduce_haproxyconsole/" rel="alternate"></link><published>2013-12-02T00:00:00+08:00</published><updated>2013-12-02T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-12-02:/2013/12/02/re_introduce_haproxyconsole/</id><summary type="html">&lt;p&gt;ä¹‹å‰åœ¨&lt;a href="http://youngsterxyf.github.io/2013/11/01/unescape-html-in-golang-html_template/"&gt;Golangä¸­å¦‚ä½•è®©html/templateä¸è½¬ä¹‰htmlæ ‡ç­¾&lt;/a&gt;ã€&lt;a href="http://youngsterxyf.github.io/2013/10/16/high-availability-load-balancer-and-dns/"&gt;æ­å»ºé«˜å¯ç”¨è´Ÿè½½å‡è¡¡ç»„ä»¶åŠç¼“å­˜DNS&lt;/a&gt;ä¸¤ç¯‡æ–‡ç« ä¸­éƒ½æåˆ°ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨HAProxyï¼Œæˆ‘å®ç°äº†ä¸€ä¸ªç®€å•çš„HAProxyè´Ÿè½½å‡è¡¡ä»»åŠ¡ç®¡ç†ç³»ç»Ÿã€‚å‰äº›å¤©æˆ‘æŠŠ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä¹‹å‰åœ¨&lt;a href="http://youngsterxyf.github.io/2013/11/01/unescape-html-in-golang-html_template/"&gt;Golangä¸­å¦‚ä½•è®©html/templateä¸è½¬ä¹‰htmlæ ‡ç­¾&lt;/a&gt;ã€&lt;a href="http://youngsterxyf.github.io/2013/10/16/high-availability-load-balancer-and-dns/"&gt;æ­å»ºé«˜å¯ç”¨è´Ÿè½½å‡è¡¡ç»„ä»¶åŠç¼“å­˜DNS&lt;/a&gt;ä¸¤ç¯‡æ–‡ç« ä¸­éƒ½æåˆ°ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨HAProxyï¼Œæˆ‘å®ç°äº†ä¸€ä¸ªç®€å•çš„HAProxyè´Ÿè½½å‡è¡¡ä»»åŠ¡ç®¡ç†ç³»ç»Ÿã€‚å‰äº›å¤©æˆ‘æŠŠ&lt;a href="http://youngsterxyf.github.io/haproxyconsole/"&gt;ä»£ç æ”¾åœ¨Githubä¸Š&lt;/a&gt;ï¼Œç®—æ˜¯å¼€æºå§ã€‚&lt;/p&gt;
&lt;p&gt;åŒäº‹ä½¿ç”¨è¯¥ç®¡ç†ç³»ç»Ÿï¼Œé‡åˆ°é—®é¢˜æ—¶ï¼Œç”±äºä¸æ¸…æ¥šå…¶å®ç°ï¼Œä¹Ÿå°±æ— æ³•åˆ†æé—®é¢˜å‡ºåœ¨å“ªï¼ŒåŒæ—¶ä¹Ÿä¼šæœ‰äº›ææ…Œï¼Œç”Ÿæ€•ææŒ‚äº†HAProxyï¼Œæ¯•ç«Ÿä¸Šé¢æ‰¿è½½äº†ä¸€äº›å…³é”®çš„ä¸šåŠ¡ï¼Œæ‰€ä»¥æˆ‘ç»˜åˆ¶ä¸€å¼ å›¾ç”¨äºè¯´æ˜HAProxyConsoleçš„åº”ç”¨åœºæ™¯å’Œå·¥ä½œåŸç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="HAProxyConsole-arch" src="/assets/uploads/pics/HAProxyConsole-arch.png"&gt;&lt;/p&gt;
&lt;p&gt;å›¾ä¸­è“è‰²æ ‡è¯†çš„éƒ¨åˆ†éƒ½å±äºHAProxyConsoleã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·é€šè¿‡Webé¡µé¢å¢/åˆ /æ”¹/æŸ¥è´Ÿè½½å‡è¡¡ä»»åŠ¡ï¼Œä½†è¿™4ä¸ªæ“ä½œç›´æ¥ä¿®æ”¹çš„éƒ½ä»…æ˜¯æ•°æ®åº“ï¼ˆDB.jsonæˆ–MySQLæ•°æ®åº“ï¼‰ã€‚å¦å¤–ï¼ŒHAProxyConsoleçš„Webé¡µé¢ä¸­è¿˜åµŒå…¥äº†ä¸»ä»HAProxyè‡ªå¸¦çš„æ•°æ®ç»Ÿè®¡é¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;åªæœ‰å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®â€œåº”ç”¨åˆ°ä¸»HAProxyâ€æˆ–â€œåº”ç”¨åˆ°ä»HAProxyâ€åï¼ŒHAProxyConsoleæ‰ä¼šæ ¹æ®DB.jsonæˆ–MySQLä¸­å­˜å‚¨çš„æ•°æ®å’Œé…ç½®æ–‡ä»¶haproxy_conf_comm.jsonç”Ÿæˆæœ€æ–°çš„HAProxyé…ç½®æ–‡ä»¶ï¼Œç„¶åæ‹·è´ä¸€ä»½ä¸ºä¸»HAProxyçš„é…ç½®æ–‡ä»¶æˆ–è¿œç¨‹æ‹·è´ä¸€ä»½ä¸ºä»HAProxyçš„é…ç½®æ–‡ä»¶ï¼Œæœ€åé‡å¯HAProxyè¿›ç¨‹ï¼ˆ/path/to/haproxy/sbin/haproxy -f /path/to/haproxy/conf/haproxy.conf -st `cat /path/to/haproxy/haproxy.pid`ï¼‰ï¼Œä½¿æœ€æ–°çš„é…ç½®ç”Ÿæ•ˆã€‚é‡å¯çš„è¿‡ç¨‹ä¸­HAProxyä¼šå…ˆæ£€æµ‹æœ€æ–°é…ç½®æ–‡ä»¶çš„æ­£ç¡®æ€§ï¼Œå¦‚æœä¸æ­£ç¡®ï¼Œåˆ™ä¸ä¼šé‡å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨éƒ¨ç½²HAProxyConsoleï¼Œåº”æŒ‰å®é™…æƒ…å†µä¿®æ”¹é…ç½®æ–‡ä»¶&lt;code&gt;app_conf.ini&lt;/code&gt;ä¸­çš„å‚æ•°å€¼ã€‚å¦å¤–ï¼Œç”±äºHAProxyConsoleåœ¨ä¸ºHAProxyåº”ç”¨æœ€æ–°é…ç½®æ—¶ï¼Œæ˜¯ç›´æ¥è¦†ç›–HAProxyåŸæ¥çš„é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥&lt;code&gt;haproxy_conf_comm.json&lt;/code&gt;ä¸­æŒ‡å®šçš„HAProxyæ•°æ®ç»Ÿè®¡é¡µé¢æ‰€ä½¿ç”¨çš„ç«¯å£åº”ä¸ä½ åŸæ¥ä¸ºHAProxyæŒ‡å®šçš„æ•°æ®ç»Ÿè®¡é¡µé¢çš„ç«¯å£ä¸€è‡´ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="HAProxy"></category><category term="Keepalived"></category><category term="è´Ÿè½½å‡è¡¡"></category><category term="ç¬”è®°"></category><category term="æ€»ç»“"></category></entry><entry><title>ä»“åº“ä½œä¸šæœºå™¨ç›‘æ§ç³»ç»Ÿè®¾è®¡ä¸å®ç°</title><link href="http://youngsterxyf.github.io/2013/11/29/inner_warehouse_monitor_system/" rel="alternate"></link><published>2013-11-29T00:00:00+08:00</published><updated>2013-11-29T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-11-29:/2013/11/29/inner_warehouse_monitor_system/</id><summary type="html">&lt;p&gt;è¿‘æœŸåœ¨å‚ä¸ä¸€ä¸ªä»“åº“ä½œä¸šæœºå™¨ç›‘æ§é¡¹ç›®ã€‚è¯¥é¡¹ç›®çš„éœ€æ±‚èƒŒæ™¯æ˜¯ï¼šå…¬å¸çš„ç”µå•†ä¸šåŠ¡åœ¨å…¨å›½å„åœ°æœ‰å¤šå¤„æˆ–å¤§æˆ–å°çš„ä»“åº“ï¼Œä»“åº“ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;è¿‘æœŸåœ¨å‚ä¸ä¸€ä¸ªä»“åº“ä½œä¸šæœºå™¨ç›‘æ§é¡¹ç›®ã€‚è¯¥é¡¹ç›®çš„éœ€æ±‚èƒŒæ™¯æ˜¯ï¼šå…¬å¸çš„ç”µå•†ä¸šåŠ¡åœ¨å…¨å›½å„åœ°æœ‰å¤šå¤„æˆ–å¤§æˆ–å°çš„ä»“åº“ï¼Œä»“åº“çš„ä½œä¸šäººå‘˜ï¼ˆæ²¡æœ‰ITæŠ€æœ¯èƒŒæ™¯ï¼‰ç»å¸¸åé¦ˆ/æŠ•è¯‰ä½œä¸šæœºå™¨æ–­ç½‘ã€æ–­ç”µã€è¿ä¸äº†æœåŠ¡ç­‰é—®é¢˜ã€‚å®é™…æƒ…å†µç»å¸¸ä¸åé¦ˆçš„ä¸ä¸€è‡´ï¼Œä½†è¿ç»´ä¾§å¹¶æ²¡æœ‰æ•°æ®å¯ä»¥è¯æ˜ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ä¸ªé¡¹ç›®çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥é¡¹ç›®ç¬¬ä¸€æœŸçš„ç›®æ ‡ä»…æ˜¯&lt;em&gt;æ”¶é›†ã€å±•ç¤ºä½œä¸šæœºå™¨æŸäº›ç›‘æ§æŒ‡æ ‡æ•°æ®ï¼Œä»¥ä¾¿åœ¨å¿«é€Ÿå®šä½è§£å†³é—®é¢˜ï¼Œæˆ–è‡³å°‘æœ‰æ•°æ®å¯æŸ¥&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…å¤§é‡ç›‘æ§æ•°æ®ä¸ŠæŠ¥å½±å“åˆ°ç”Ÿäº§ç³»ç»Ÿçš„ç½‘ç»œæœåŠ¡ï¼Œç³»ç»Ÿé‡‡ç”¨å¦‚ä¸‹ç»“æ„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="inner_warehouse_monitor" src="/assets/uploads/pics/inner_warehouse_monitor.png"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®ç°ä¸€ä¸ªagentç”¨äºåœ¨ä»“åº“ä½œä¸šPCæˆ–ä½œä¸šPDAä¸Šè·å–æœºå™¨çš„ç›‘æ§æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨ä»“åº“æœ¬åœ°æœåŠ¡å™¨ä¸Šå®ç°ä¸€ä¸ªæ•°æ®æ”¶é›†å¤„ç†æœåŠ¡ï¼Œæä¾›APIç»™agentä¸Šä¼ ç›‘æ§æ•°æ®ï¼›æ•°æ®æ”¶é›†å¤„ç†æœåŠ¡ä¼šå°†æ¥æ”¶åˆ°çš„æ•°æ®æŒä¹…åŒ–åˆ°æ•°æ®åº“ï¼Œæä¾›ç»™ä»“åº“æœ¬åœ°æœåŠ¡å™¨ä¸Šçš„webAppè¿›è¡Œæ•°æ®å±•ç¤ºç­‰ï¼›&lt;/li&gt;
&lt;li&gt;ä¸­å¿ƒæœåŠ¡å™¨å¯ä»¥è°ƒç”¨å„ä¸ªä»“åº“æœ¬åœ°æœåŠ¡å™¨ä¸Šçš„webAppæä¾›çš„æ•°æ®æŸ¥è¯¢æ¥å£ï¼ˆæ•°æ®ç”¨äºå®šä½ã€å‘ç°é—®é¢˜ï¼‰ï¼›å®šæœŸæŒ‰éœ€å¯¹å„ä¸ªä»“åº“æœ¬åœ°æœåŠ¡å™¨ä¸Šçš„æ•°æ®è¿›è¡Œå½’æ¡£ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ ·ï¼Œä¸»è¦çš„å·¥ä½œéƒ½é›†ä¸­åœ¨&lt;strong&gt;ä½œä¸šæœºå™¨ä¸Šçš„agent&lt;/strong&gt;å’Œ&lt;strong&gt;æ•°æ®æ”¶é›†å¤„ç†æœåŠ¡ã€webApp&lt;/strong&gt;ã€‚è¿™å…¶ä¸­æœ€å…³é”®çš„åˆæ˜¯&lt;strong&gt;æ•°æ®æ”¶é›†å¤„ç†æœåŠ¡&lt;/strong&gt;ã€‚è€ƒè™‘åˆ°éœ€è¦å¤šåœ°éƒ¨ç½²è¿ç»´ä»“åº“æœ¬åœ°æœåŠ¡å™¨ï¼Œè€Œä¸”æŸäº›å¤§ä»“åº“ä½œä¸šæœºå™¨çš„æ•°ç›®ç›®å‰å·²å¤šè¾¾800-1000ï¼Œæˆ‘ä»¬åšäº†å¦‚ä¸‹æŠ€æœ¯é€‰å‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Golangå®ç°agentã€æ•°æ®æ”¶é›†å¤„ç†æœåŠ¡ã€webAppï¼›&lt;/li&gt;
&lt;li&gt;ä»¥SQLiteä½œä¸ºæ•°æ®åº“æ¥å­˜å‚¨agentä¸ŠæŠ¥çš„æ‰€æœ‰æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;ä»¥&lt;a href="http://bitly.github.io/nsq/"&gt;NSQ&lt;/a&gt;ä½œä¸ºå¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é€‰ç”¨Golangçš„ç†ç”±æ˜¯ï¼šå¯ä»¥é™æ€ç¼–è¯‘ï¼Œéƒ¨ç½²ç®€å•ï¼Œåªéœ€å°†ç¼–è¯‘å¥½çš„å¯æ‰§è¡ŒäºŒè¿›åˆ¶ç¨‹åºä¸¢åˆ°æœåŠ¡å™¨ä¸Šè·‘èµ·æ¥å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;é€‰ç”¨SQLiteçš„ç†ç”±æ˜¯ï¼šä¸å¿…åƒMySQLé‚£æ ·å®‰è£…serverç¨‹åºï¼Œæ— éœ€é¢å¤–éƒ¨ç½²ç»´æŠ¤ã€‚å½“ç„¶SQLiteçš„æ–‡ä»¶é”ä¼šå¤§å¤§å½±å“æ•°æ®åº“è¯»å†™æ€§èƒ½ï¼Œæˆ‘ä»¬é€šè¿‡å°½å¯èƒ½æ‹†åˆ†æ•°æ®åº“ï¼Œå°†ä¸åŒçš„æŒ‡æ ‡æ•°æ®å­˜å‚¨åœ¨ä¸åŒçš„SQLite DBæ–‡ä»¶ä¸­ï¼Œç”šè‡³å°†æ¯å°ä½œä¸šæœºå™¨æ¯ä¸ªæŒ‡æ ‡çš„æ¯å¤©çš„æ•°æ®åˆ†åˆ«å­˜å‚¨åœ¨ä¸åŒçš„DBæ–‡ä»¶ä¸­ï¼Œæ¥å°½å¯èƒ½å‡å°æ–‡ä»¶é”çš„æ€§èƒ½å½±å“ï¼Œç›®å‰çœ‹æ¥æ•ˆæœè¿˜ä¸é”™ã€‚&lt;/p&gt;
&lt;p&gt;é€‰æ‹©NSQçš„ç†ç”±æ˜¯ï¼šGolangå®ç°ã€åˆ†å¸ƒå¼ã€ä¼¸ç¼©æ€§å¥½ã€æ€§èƒ½é«˜ã€æ”¯æŒHTTP/TCPåè®®ã€è‡ªå¸¦webç®¡ç†ç•Œé¢ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;è¯¦ç»†çš„ç³»ç»Ÿç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="inner_warehouse_monitor-arch" src="/assets/uploads/pics/inner_warehouse_monitor-arch.png"&gt;&lt;/p&gt;
&lt;p&gt;NSQæ”¯æŒå¤štopicï¼ˆä¸åŒtopicçš„æ•°æ®ä¸åŒï¼‰ï¼Œtopicåˆå¯ä»¥æœ‰å¤šä¸ªchannelï¼ˆåŒä¸€ä¸ªtopicçš„æ‰€æœ‰channelä¸­çš„æ•°æ®ç›¸åŒï¼Œä»¥å¤šæ’­çš„æ–¹å¼å®ç°ï¼Œæ¯ä¸ªchannelåœ¨clientä¸­æœ‰ä¸€ä¸ªå¯¹åº”çš„å¤„ç†æµç¨‹æ¥å¤„ç†channelä¸­çš„æ•°æ®ï¼‰ã€‚æˆ‘ä»¬å°†ä½œä¸šæœºå™¨ä¸åŒçš„ç›‘æ§æŒ‡æ ‡æ•°æ®ä½œä¸ºä¸åŒtopicä¼ å…¥NSQï¼Œå¤šæ•°æŒ‡æ ‡æ•°æ®åªéœ€æŒä¹…åŒ–åˆ°æ•°æ®åº“ä»¥å¤‡åç”¨ï¼Œæ‰€ä»¥è¿™äº›topicä»…éœ€ä¸€ä¸ªchannelã€‚&lt;/p&gt;
&lt;p&gt;webAppåŸºäºBeegoæ¡†æ¶å®ç°ï¼Œé¿å…é‡å¤é€ è½®å­ã€å·¥ä½œé‡å°ã€‚webAppä¸­çš„æ•°æ®å±•ç¤ºé‡‡ç”¨HighChartsã€Raphaelå®ç°ï¼Œå…¼å®¹æ€§å¥½ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæœºå™¨æŒ‡æ ‡æ•°æ®ï¼Œå…¶å®ä¸åº”è¯¥ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“æ¥å­˜å‚¨ï¼Œå› ä¸ºè¿™ç§æ•°æ®çš„ç‰¹ç‚¹æ˜¯ï¼šå†™å…¥ä¹‹ååªè¯»ä¸æ”¹ã€æ—¶é—´åºåˆ—çš„ã€å‡ ä¹æ²¡æœ‰å…³ç³»å‹çš„è¯»å–æ“ä½œã€è¿ç»­æ‰¹é‡æ•°æ®è¯»å–ï¼Œæ‰€ä»¥å¼€æºç›‘æ§ç³»ç»Ÿå¦‚Cactiã€Gangliaç­‰å‡ä½¿ç”¨RRDtoolæ¥è¯»å†™æŒ‡æ ‡æ•°æ®ã€‚æ‰€ä»¥å¦‚ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å°†æŒ‡æ ‡æ•°æ®çš„å­˜å‚¨å°½å¯èƒ½åœ°æ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶ä»¥æé«˜è¯»å†™æ€§èƒ½è€Œä¸ä¼šé€ æˆå…¶ä»–é—®é¢˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç³»ç»Ÿçš„å·¥ä½œæµç¨‹å¦‚ä¸‹æ‰€è¿°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½œä¸šæœºå™¨ä¸Šçš„agentå¯åŠ¨åä¼šå…ˆå‘NSQçš„register topicå‘é€ä¸€ä¸ªæ³¨å†Œæ¶ˆæ¯ï¼ŒNSQ Clientæ ¹æ®è¯¥æ³¨å†Œæ¶ˆæ¯åœ¨registeræ•°æ®è¡¨ä¸­å°†è¯¥ä½œä¸šæœºå™¨çš„çŠ¶æ€æ”¹ä¸ºâ€œæ­£å¸¸è¿è¡Œä¸­â€ï¼›&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œagentå®šæœŸä¸ŠæŠ¥ç›‘æ§æ•°æ®åˆ°NSQï¼ŒNSQ Clientä¸­å„ç§æ•°æ®çš„å¤„ç†æµç¨‹å°†æ•°æ®æŒä¹…åŒ–åˆ°SQLiteæ•°æ®åº“æ–‡ä»¶ï¼›&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·è®¿é—®/ä¸­å¿ƒæœåŠ¡å™¨è°ƒç”¨APIæ—¶ï¼ŒwebAppè¯»å–SQLiteæ•°æ®åº“ï¼›&lt;/li&gt;
&lt;li&gt;æœ‰ä¸€ä¸ªGoroutineé’ˆå¯¹æ³¨å†Œè¿‡çš„ä½œä¸šæœºå™¨å®šæœŸæ£€æµ‹3åˆ†é’Ÿä»¥å†…æ˜¯å¦æ”¶åˆ°è¿‡å…¶ä¸ŠæŠ¥çš„å¿ƒè·³æ•°æ®ï¼Œè‹¥æœªæ”¶åˆ°ï¼Œåˆ™å°†æœºå™¨çŠ¶æ€ä»â€œæ­£å¸¸è¿è¡Œä¸­â€æ”¹æˆâ€œè¿è¡Œå¼‚å¸¸â€ï¼Œè‹¥æ”¶åˆ°ï¼Œåˆ™å°†â€œè¿è¡Œå¼‚å¸¸â€æ”¹ä¸ºâ€œæ­£å¸¸è¿è¡Œä¸­â€ï¼›&lt;/li&gt;
&lt;li&gt;ä½œä¸šæœºå™¨åœ¨æ­£å¸¸å…³æœºæ—¶ä¼šå‘NSQçš„register topicå‘é€ä¸€ä¸ªæ­£å¸¸å…³æœºçš„æ¶ˆæ¯ï¼ŒClientè¯»å–åˆ°è¯¥æ¶ˆæ¯åï¼Œä¼šå°†è¯¥æœºå™¨åœ¨registeræ•°æ®è¡¨ä¸­çš„çŠ¶æ€æ”¹ä¸ºâ€œå·²æ­£å¸¸å…³æœºâ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç›®å‰ï¼Œç³»ç»Ÿå·¥ä½œè‰¯å¥½ã€‚ä¹‹åä¼šå¯¹ç³»ç»Ÿåšå‹æµ‹ï¼Œå¦‚æœå‡ºç°ç“¶é¢ˆï¼Œä¼°è®¡å¯èƒ½è¿˜æ˜¯æ•°æ®å­˜å‚¨ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å¯èƒ½ä¼šå°è¯•RRDtoolæˆ–&lt;a href="http://influxdb.org/"&gt;InfluxDB&lt;/a&gt;ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æŠ€æœ¯"></category><category term="æ€»ç»“"></category><category term="ç¬”è®°"></category><category term="Golang"></category></entry><entry><title>è¯»ä¹¦ç¬”è®°ï¼šJust For Fun - The Story of an Accidental Revolutionary</title><link href="http://youngsterxyf.github.io/2013/11/07/read-just_for_fun/" rel="alternate"></link><published>2013-11-07T00:00:00+08:00</published><updated>2013-11-07T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-11-07:/2013/11/07/read-just_for_fun/</id><summary type="html">&lt;p&gt;å‰äº›å¤©å¶ç„¶åœ¨å›¾çµç¤¾åŒºä¸Šçœ‹åˆ°&lt;a href="http://www.ituring.com.cn/book/1115?q=%E8%B6%8A%E7%8E%A9%E8%B6%8A%E5%A4%A7"&gt;è¿™æœ¬ä¹¦çš„å‡ºç‰ˆè®¡åˆ’&lt;/a&gt;ï¼Œæ‰çŒ›ç„¶æƒ³èµ·ä¹‹å‰çœ‹è¿‡ä¸€ä¸¤ä¸ªç« èŠ‚ï¼Œé‚å†æ¬¡æ‰¾åˆ°è¯¥ä¹¦çš„&lt;a href="http://ishare.iask.sina.com.cn/f/14439267.html"&gt;ä¸­æ–‡ç”µå­ç‰ˆ&lt;/a&gt;ï¼ˆ&lt;em&gt;åŸè°… â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;å‰äº›å¤©å¶ç„¶åœ¨å›¾çµç¤¾åŒºä¸Šçœ‹åˆ°&lt;a href="http://www.ituring.com.cn/book/1115?q=%E8%B6%8A%E7%8E%A9%E8%B6%8A%E5%A4%A7"&gt;è¿™æœ¬ä¹¦çš„å‡ºç‰ˆè®¡åˆ’&lt;/a&gt;ï¼Œæ‰çŒ›ç„¶æƒ³èµ·ä¹‹å‰çœ‹è¿‡ä¸€ä¸¤ä¸ªç« èŠ‚ï¼Œé‚å†æ¬¡æ‰¾åˆ°è¯¥ä¹¦çš„&lt;a href="http://ishare.iask.sina.com.cn/f/14439267.html"&gt;ä¸­æ–‡ç”µå­ç‰ˆ&lt;/a&gt;ï¼ˆ&lt;em&gt;åŸè°…æˆ‘&lt;/em&gt;ï¼‰ï¼ˆå…³äºè¯¥ç”µå­ç‰ˆï¼Œæˆ‘ä¸æ¸…æ¥šå…¶æ¥æºã€‚ä¸­å›½é’å¹´å‡ºç‰ˆç¤¾å‡ºè¿‡è¯¥ä¹¦çš„ä¸­æ–‡ç‰ˆï¼Œè¯‘åä¸ºã€Šä¹è€…ä¸ºç‹ã€‹ï¼Œä¸çŸ¥è¯¥ç”µå­ç‰ˆå³ä¸ºè¯¥ä¸­æ–‡ç‰ˆï¼Œè¿˜æ˜¯å¼€æºçˆ±å¥½è€…è‡ªå·±ç¿»è¯‘ã€‚ä¸è¿‡ç¿»è¯‘è´¨é‡ä¸é«˜ï¼Œåº”è¯¥ä¸æ˜¯æ­£å¼å‡ºç‰ˆçš„ï¼‰ï¼ŒèŠ±äº†ä¸€å¤©å·¦å³æ—¶é—´çœ‹å®Œã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ä¹¦ç”±Linus Torvaldså’ŒDavid Diamondåˆè‘—ï¼Œä¹¦å†™æ–¹å¼æ˜¯Linusè‡ªè¿°ï¼Œç©¿æ’David Diamondçš„ä¸€äº›é‡‡è®¿æ—ç™½ï¼Œä¸»è¦è®²è¿°Linuså¦‚ä½•å¶ç„¶åœ°æˆä¸ºä¿¡æ¯æ—¶ä»£çš„ä¸€ä¸ªé©å‘½è€…ï¼ˆThe Story of an Accidental Revolutionaryï¼‰ã€‚Linusåœ¨ä¹¦ä¸­è¡¨è¾¾äº†å¯¹Linuxè¿™ä¸€ä¼Ÿå¤§çš„å¼€æºé¡¹ç›®çš„çœ‹æ³•ã€å¯¹äºäººç”Ÿæ„ä¹‰ã€äº‹ç‰©å‘å±•è§„å¾‹ç­‰é—®é¢˜çš„ä¸ªäººç†è§£ã€‚ä»¥ä¸‹æ˜¯ä¹¦ä¸­è®©æˆ‘å°è±¡æ¯”è¾ƒæ·±åˆ»çš„å‡ å¤„å†…å®¹ï¼š&lt;/p&gt;
&lt;h3&gt;ç”Ÿæ´»çš„æ„ä¹‰&lt;/h3&gt;
&lt;p&gt;å¯¹äºè¿™ä¸€å“²å­¦æ€§çš„é—®é¢˜ï¼Œä¼°è®¡ç°åœ¨å¾ˆå¤šäººè§åˆ°éƒ½ä¼šå‘ç¬‘ã€‚æœ¬ä¹¦ä»¥è¿™ä¸ªé—®é¢˜çš„è®¨è®ºå¼€å§‹ï¼Œå¹¶ä»¥è¿™ä¸ªé—®é¢˜ç»“å°¾ã€‚Linuså¹¶æ²¡æœ‰ç›´æ¥åœ°å›ç­”ï¼Œè€Œæ˜¯ä¸¾ä¾‹è¯´æ˜äººç±»ç¤¾ä¼šçš„äº‹ç‰©å‘å±•éƒ½å¿…ç„¶ç»è¿‡ä¸‰ä¸ªé˜¶æ®µ---ç”Ÿå­˜ã€ç¤¾ä¼šç§©åºã€å¨±ä¹ï¼Œé‚£ä¹ˆç”Ÿæ´»çš„æ„ä¹‰å°±æ˜¯ä¿ƒæˆè¿™ä¸€å‘å±•è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æçº³æ–¯ï¼šè¿™ä¸ªç­”æ¡ˆåŸºæœ¬ä¸Šç®€å•è€Œæ¼‚äº®ã€‚ å®ƒä¸ä¼šç»™ä½ çš„ç”Ÿæ´»ä»¥ä»»ä½•æ„ä¹‰ï¼Œä½†å¯ä»¥å‘Šè¯‰ä½ å°†å‘ç”Ÿä»€ä¹ˆã€‚
æœ‰ä¸‰ä»¶äº‹å…·æœ‰ç”Ÿå‘½çš„æ„ä¹‰ã€‚å®ƒä»¬æ˜¯ä½ ç”Ÿæ´»å½“ä¸­æ‰€æœ‰äº‹æƒ…çš„åŠ¨æœºï¼ŒåŒ…æ‹¬ä½ æ‰€åšçš„ä»»ä½•äº‹æƒ…å’Œä¸€ä¸ªç”Ÿå‘½ä½“è¯¥åšçš„æ‰€æœ‰äº‹æƒ…ã€‚
ç¬¬ä¸€æ˜¯ç”Ÿå­˜ï¼Œç¬¬äºŒæ˜¯ç¤¾ä¼šç§©åºï¼Œç¬¬ä¸‰æ˜¯å¨±ä¹ã€‚ç”Ÿæ´»ä¸­æ‰€æœ‰çš„äº‹æƒ…éƒ½æ˜¯æŒ‰è¿™ä¸ªé¡ºåºå‘å±•çš„ã€‚å¨±ä¹ä¹‹åä¾¿ä¸€æ— æ‰€çš„ã€‚
å› æ­¤ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œè¿™æ„å‘³ç€ç”Ÿæ´»çš„æ„ä¹‰å°±æ˜¯è¦è¾¾åˆ°ç¬¬ä¸‰ä¸ªé˜¶æ®µã€‚ä½ ä¸€æ—¦è¾¾åˆ°äº†ç¬¬ä¸‰ä¸ªé˜¶æ®µï¼Œå°±ç®—æˆåŠŸäº†ã€‚ä½†é¦–å…ˆè¦è¶Šè¿‡å‰ä¸¤ä¸ªé˜¶æ®µã€‚
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘è®¤ä¸ºè¿™ä¸€ç†è§£æ˜¯éå¸¸æ¼‚äº®çš„ã€‚å¯¹äºè¯¥é—®é¢˜ï¼ˆæˆ‘ä¸ºä»€ä¹ˆè€Œæ´»ï¼Ÿï¼‰ï¼Œä»¥å‰æˆ‘ä¹Ÿæ€è€ƒäº†å¾ˆå¤šï¼Œä½†æœ€åçš„ç­”æ¡ˆç«Ÿç„¶æ˜¯---æ´»ç€æœ¬æ¥å°±æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œä¸€åˆ‡æ„ä¹‰éƒ½æ˜¯äººä¸ºåœ°èµ‹äºˆã€‚ç­”æ¡ˆå¾ˆæ‚²è§‚ï¼ŒLinusçš„ç­”æ¡ˆæœ¬è´¨ä¸Šä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåªä¸è¿‡é¿å…äº†ç›´æ¥é¢å¯¹è¯¥é—®é¢˜ï¼Œä»¥é¡ºä»äº‹ç‰©å‘å±•è§„å¾‹ä½œä¸ºç”Ÿæ´»çš„æ„ä¹‰ï¼Œå¯¹æˆ‘æœ‰æ‰€å¯å‘ï¼Œä¹Ÿè®©æˆ‘å¤šäº†äº›ç”Ÿæ´»çš„â€œæ­£èƒ½é‡â€ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæœªæ¥çš„é¢„è¨€ï¼Œç‰¹åˆ«æ˜¯è®¡ç®—æœºè¡Œä¸šçš„å‘å±•ï¼ŒLinusåŒæ ·å¹¶æ²¡æœ‰ç›´æ¥å›ç­”é—®é¢˜ï¼ŒåŒæ ·åœ°ä»¥æ­¤ä½œä¸ºå›ç­”ï¼šäººä»¬å¹¶ä¸æ˜¯çœŸçš„éœ€è¦è®¡ç®—æœºï¼ˆåŒ…å«ç½‘ç»œç­‰ç­‰ï¼‰ï¼Œè€Œæ˜¯éœ€è¦åŸºäºè®¡ç®—æœºå®ç°ç”Ÿå­˜ã€ç¤¾ä¼šç§©åºã€å¨±ä¹ä¸‰ä¸ªç›®æ ‡ï¼Œé‚£ä¹ˆæœªæ¥çš„ä¸€åˆ‡ã€è®¡ç®—æœºè¡Œä¸šçš„å‘å±•å¿…ç„¶æ˜¯æ›´å¥½åœ°å¸®åŠ©äººä»¬å®ç°è¿™ä¸‰ä¸ªç›®æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å…³äºå¨±ä¹ï¼Œæœ‰æœ¬ä¹¦ã€Šå¨±ä¹è‡³æ­»ã€‹è¡¨è¾¾äº†å¯¹äººç±»ç¤¾ä¼šå‘å±•æ³›å¨±ä¹åŒ–ã€ç‰¹åˆ«æ˜¯æ•™è‚²è¶‹å‘å¨±ä¹åŒ–çš„æ‹…å¿§ã€‚ä»å¦ä¸€è§’åº¦ä½è¯äº†Linusçš„çœ‹æ³•ï¼Œåªä¸è¿‡ä¸€æ¶ˆææ‚²è§‚ï¼Œä¸€ç§¯æä¹è§‚ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;ä¸Andrew S. Tanenbaumçš„äº‰è®º&lt;/h3&gt;
&lt;p&gt;è¿™ä¸€äº‹ä»¶åœ¨Wikipediaä¸Šè¿˜æœ‰ä¸“é—¨çš„è¯æ¡-&lt;a href="http://en.wikipedia.org/wiki/Tanenbaum%E2%80%93Torvalds_debate"&gt;Tanenbaum-Torvalds debate&lt;/a&gt;ã€‚ä»¥å‰ä¹Ÿå…³æ³¨è¿‡è¯¥äº‹ä»¶ï¼Œä½†æŠŠé—®é¢˜çš„é‡å¿ƒæ”¾åœ¨äº†â€œå¾®å†…æ ¸ï¼ˆMicro kernelï¼‰â€å’Œâ€œå®å†…æ ¸ï¼ˆMonolithic kernelï¼‰â€çš„ä¼˜ç¼ºç‚¹ä¸Šï¼Œçœ‹äº†è¯¥ä¹¦ä¹‹åæ‰çœŸæ­£ç†è§£Linusçš„é€‰æ‹©ï¼Œå¹¶èµåŒä»–çš„çœ‹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€äº‰è®ºçš„åŸæ–‡è§&lt;a href="https://groups.google.com/forum/#!topic/comp.os.minix/wlhw16QWltI%5B1-25-false%5D"&gt;é‚®ä»¶åˆ—è¡¨&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºTanenbaumæå‡ºçš„é—®é¢˜ï¼ŒLinusåšäº†å¦‚ä¸‹å›ç­”ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å®‰å¾·é²å¡”å—é²å§†å†™é“ï¼š &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘åœ¨ç¾å›½å¾…äº†å‡ ä¸ªæ˜ŸæœŸï¼Œæ‰€ä»¥æ²¡æ¥å¾—åŠå¯¹Linuxåšå¤šå°‘è¯„è®º(ä¸æ˜¯è¯´å¦‚æœæˆ‘åœ¨ï¼Œæˆ‘å°±ä¼šè¯´ä»€ä¹ˆ)ã€‚ä½†æ˜¯ï¼ŒLinuxç¡®å®å€¼å¾—ä¸€è¯„ã€‚æˆ‘ç°åœ¨å°±æœ‰è¯è¦è¯´ã€‚&lt;/p&gt;
&lt;p&gt;æ­£å¦‚ä½ ä»¬æ‰€çŸ¥ï¼ŒMINIXåªæ˜¯æˆ‘çš„çˆ±å¥½ï¼Œæ¯å½“æ™šä¸Šæˆ‘å†™çƒ¦äº†ä¹¦ï¼Œå¦‚æœå½“æ—¶æ²¡æœ‰ä»€ä¹ˆæˆ˜äº‰ã€ é©å‘½ã€ ç›´æ’­çš„å‚è®®é™¢å¬æ”¿ä¼šï¼Œæˆ‘å°±ä¼šæ‘†å¼„MINIXã€‚æˆ‘çš„çœŸæ­£èŒä¸šæ˜¯å¤§å­¦æ•™æˆå’Œæ“ä½œç³»ç»Ÿé¢†åŸŸä¸­çš„ç ”ç©¶äººå‘˜ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½ ç”¨è¿™ä¸ªä½œä¸ºMINIXå±€é™æ€§çš„å€Ÿå£ï¼Ÿå¯¹ä¸èµ·ï¼Œä½†æ˜¯ä½ è¾“äº†ã€‚æˆ‘çš„å€Ÿå£æ¯”ä½ çš„è¿˜å¤šï¼Œè€ŒLinuxåœ¨å¾ˆå¤šé¢†åŸŸè¿˜æ˜¯èƒœMINIXä¸€ç­¹ã€‚æ›´åˆ«è¯´MINIXçš„å¤§éƒ¨åˆ†ä¼¼ä¹æ˜¯ç”±å¸ƒé²æ–¯?ä¼Šæ–‡æ–¯ç¼–å†™çš„äº†ã€‚ &lt;/p&gt;
&lt;p&gt;åé©³ä¸€ï¼šä½ è¯´ä½ æŠŠ MINIXå½“ä½œçˆ±å¥½æ¥ç©â€•â€•é‚£ä¹ˆï¼Œè¯·é—®æ˜¯è°åœ¨æ‹¿MINIXæŒ£é’±å‘¢ï¼Ÿåˆæ˜¯è°åœ¨å…è´¹å‘é€Linuxå‘¢ï¼Ÿå†æ¥è°ˆè°ˆçˆ±å¥½ã€‚è®©MINIXèƒ½å…è´¹è·å¾—ï¼Œæˆ‘å¯¹MINIXçš„æœ€å¤§æŠ±æ€¨å°±ä¼šæ¶ˆå¤±ã€‚Linuxåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¯¹æˆ‘æ˜¯ä¸€ä¸ªçˆ±å¥½(ä½†æ˜¯ä¸€ä¸ªå¾ˆä¸¥è‚ƒçš„çˆ±å¥½ï¼Œæœ€æ£’çš„ä¸€ç§çˆ±å¥½)ã€‚æˆ‘æ²¡æœ‰ä»æˆ‘çš„çˆ±å¥½ä¸­èµšä¸€åˆ†é’±ï¼Œå®ƒä¹Ÿä¸æ˜¯æˆ‘åœ¨å¤§å­¦è¦ä¿®çš„è¯¾ç¨‹ä¹‹ä¸€ã€‚æˆ‘æ˜¯çº¯ç²¹ç”¨æˆ‘è‡ªå·±çš„æ—¶é—´ï¼Œåœ¨è‡ªå·±çš„æœºå™¨ä¸Šåšå‡ºæ¥çš„ã€‚ &lt;/p&gt;
&lt;p&gt;åé©³äºŒï¼šä½ æ˜¯æ•™æˆå’Œç ”ç©¶äººå‘˜ã€‚è¿™çœŸæ˜¯ä¸€ä¸ª MINIXå‡ºç°æ ¸å¿ƒç¼ºé™·çš„å¥½å€Ÿå£ã€‚æˆ‘åªèƒ½å¸Œæœ› Amoebaä¸ä¼šåƒMINIXé‚£æ ·å®æ‰ã€‚ &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1.å¾®å†…æ ¸å¯¹Monolithic system &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ²¡é”™ï¼ŒLinuxæ˜¯Monolithicçš„ï¼Œæˆ‘åŒæ„å¾®å†…æ ¸æ˜¯å¥½ä¸€ç‚¹å„¿ã€‚ å¦‚æœä¸æ˜¯ä½ çš„è¯é¢˜æœ‰äº‰è®®æ€§ï¼Œæˆ‘å¯èƒ½ä¼šåŒæ„ä½ çš„å¤§éƒ¨åˆ†æ„è§ã€‚ä»ç†è®ºè§’åº¦(åŠå®¡ç¾è§’åº¦)è€Œè¨€ï¼ŒLinuxè¾“äº†ã€‚å¦‚æœGNUçš„kernelåœ¨å»å¹´æ˜¥å¤©å°±å·²å®Œå–„çš„è¯ï¼Œæˆ‘å¯èƒ½å°±ä¸ä¼šå¼€å§‹è¿™ä¸ªå·¥ç¨‹ã€‚è€Œäº‹å®æ˜¯ï¼ŒGNUè¿˜æ²¡æœ‰å®Œå–„ï¼Œä¹Ÿè¿œéå¦‚æ­¤ã€‚å¦‚æœç°åœ¨å°±å·²å®ç°çš„è¿™ä¸€ç‚¹è€Œè®ºï¼ŒLinuxæ‰å¤§è·å…¨èƒœã€‚ &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;MINIXæ˜¯ä¸€ä¸ªåŸºäºå¾®å†…æ ¸çš„ç³»ç»Ÿã€‚Linuxæ˜¯Monolithicçš„ç³»ç»Ÿã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœè¿™æ˜¯åˆ¤æ–­ä¸€ä¸ªkernelå¥½åçš„å”¯ä¸€æ ‡å‡†ï¼Œä½ çš„è§‚ç‚¹å°±å¯¹äº†ã€‚ä½†ä½ æ²¡æåˆ°çš„æ˜¯ï¼ŒMINIXåœ¨å¾®å†…æ ¸æ–¹é¢çš„è¡¨ç°å¹¶ä¸å‡ºè‰²ï¼Œè€Œä¸”å¯¹æ ¸å†…çœŸæ­£çš„å¤šä»»åŠ¡æ“ä½œä»å­˜åœ¨ç€é—®é¢˜ã€‚ å¦‚æœæˆ‘åšçš„æ˜¯ä¸€ä¸ªåœ¨å¤šçº¿ç¨‹æ–‡ä»¶ç³»ç»Ÿä¸Šæœ‰é—®é¢˜çš„OSçš„è¯ï¼Œæˆ‘å°±ä¸ä¼šè¿™ä¹ˆå¿«æ¥è´£å¤‡åˆ«äººã€‚è€Œäº‹å®ä¸Šï¼Œæˆ‘ç«­å°½æ‰€èƒ½æ¥ä½¿äººä»¬å¿˜è®°è½¯ä»¶è®¾è®¡è€…åœ¨æ­¤é—®é¢˜ä¸Šçš„æƒ¨è´¥ã€‚(æ˜¯çš„ï¼Œæˆ‘çŸ¥é“MINIXæ‹¥æœ‰ä¼—å¤šé»‘å®¢æ”¯æŒè€…ï¼Œä½†ä»–ä»¬åªæ˜¯é»‘å®¢ã€‚è€Œå¸ƒé²æ–¯?ä¼Šæ–‡æ–¯å‘Šè¯‰æˆ‘æœ‰å¾ˆå¤šå¯ä»¥ç«äº‰çš„æœºä¼šã€‚) &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2.å¯ç§»æ¤æ€§ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€œå¯ç§»æ¤æ€§æ˜¯ç»™é‚£äº›å†™ä¸å‡ºæ–°ç¨‹åºçš„äººä»¬å‡†å¤‡çš„ã€‚â€ &lt;/p&gt;
&lt;p&gt;â€•â€•æˆ‘ï¼Œç°åœ¨åˆšè¯´çš„ï¼Œå£å‡ºç‹‚è¨€ &lt;/p&gt;
&lt;p&gt;äº‹å®ä¸Šï¼ŒLinuxæ¯”MINIXæ›´å…·æœ‰å¯ç§»æ¤æ€§ã€‚ â€œä½ è¯´ä»€ä¹ˆï¼Ÿâ€æˆ‘å¬è§ä½ è¯´ã€‚ æ˜¯çœŸçš„â€•â€•ä½†å´ä¸æ˜¯åœ¨ä½ æ‰€è¯´çš„æ„ä¹‰ä¸Šã€‚æˆ‘ä½¿Linuxå°½é‡ç¬¦åˆæ ‡å‡†(æˆ‘å½“æ—¶æ‰‹è¾¹å¹¶æ²¡æœ‰POSIXæ ‡å‡†)ã€‚ æŠŠç¨‹åºç§»æ¤åˆ°Linuxä¸Šæ¯”åˆ°MINIXä¸Šè¦å®¹æ˜“å¾—å¤šã€‚ &lt;/p&gt;
&lt;p&gt;æˆ‘åŒæ„ï¼Œå¯ç§»æ¤æ€§æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œä½†æ˜¯åªæœ‰åœ¨å®ƒç¡®å®æœ‰æ„ä¹‰çš„åœ°æ–¹æ‰æ˜¯ä¸ªä»¤äººå‘å¾€çš„ç‰¹æ€§ã€‚æ²¡æœ‰å¿…è¦ä¸“é—¨ä½¿ä¸€ä¸ªæ“ä½œç³»ç»Ÿå¤ªå…·æœ‰å¯ç§»æ¤æ€§ï¼šèƒ½ç²˜åˆ°å¯ç§»æ¤çš„APIä¸Šå°±è¡Œäº†ã€‚æ“ä½œç³»ç»Ÿçš„å®è´¨å°±æ˜¯åˆ©ç”¨ç¡¬ä»¶çš„ç‰¹ç‚¹ï¼Œå¹¶å°†å…¶éšè—åœ¨ä¸€å±‚é«˜çº§çš„ç³»ç»Ÿè°ƒç”¨åé¢ã€‚è€ŒLinuxå°±æ˜¯å¦‚æ­¤ï¼Œå®ƒæ¯”ä»»ä½•kerneléƒ½æ›´å¤šåœ°åˆ©ç”¨äº†386çš„ç‰¹æ€§ã€‚å½“ç„¶è¿™ä½¿å¾—kernelç¡®å®ä¸å¯ç§»æ¤ï¼Œä½†æ˜¯è¿™ä¹Ÿä½¿è®¾è®¡å¤§ä¸ºç®€åŒ–ï¼Œæ˜¯ä¸€ä¸ªå¯ä»¥æ¥å—çš„æƒå®œä¹‹è®¡ï¼Œå› ä¸ºè¿™é¦–å…ˆä¿è¯äº†Linuxçš„è¯ç”Ÿã€‚æˆ‘ä¹ŸåŒæ„ï¼ŒLinuxåˆå¤ªä¸å…·æœ‰å¯ç§»æ¤æ€§äº†ã€‚å»å¹´ä¸€æœˆæˆ‘æ‹¥æœ‰äº†è‡ªå·±çš„386ï¼Œè€ŒLinuxç³»ç»Ÿçš„åˆ›å»ºåœ¨ä¸€å®šç¨‹åº¦ä¸Šæˆä¸ºäº†ä¸€ä¸ªè®©æˆ‘è®¤è¯†386çš„é¡¹ç›®ã€‚å¦‚æœè¦æˆä¸ºä¸€ä¸ªçœŸæ­£çš„é¡¹ç›®ï¼Œå¿…é¡»èƒ½å¤Ÿåœ¨å¯ç§»æ¤æ€§æ–¹é¢åšä¸€äº›äº‹æƒ…ã€‚ ä½†æ˜¯ï¼Œæˆ‘æœ€åˆçš„è®¾è®¡æ€æƒ³å°±æ˜¯æ²¡æœ‰è€ƒè™‘åˆ°å¯ç§»æ¤æ€§ï¼Œå¦‚æœæˆ‘è¿™æ ·è¯´å¹¶ä¸æ˜¯å¤ªè¿‡åˆ†åœ°ä¸ºè‡ªå·±è¾©æŠ¤ã€‚å»å¹´å››æœˆæˆ‘å¼€å§‹è¿™ä¸ªé¡¹ç›®æ—¶ï¼Œè®¤ä¸ºä¸ä¼šæœ‰ä»€ä¹ˆäººä¼šçœŸçš„ä½¿ç”¨å®ƒã€‚æˆ‘å¾ˆé«˜å…´æˆ‘çš„è¿™ä¸ªæƒ³æ³•é”™äº†ã€‚ éšç€æˆ‘å¯¹æºä»£ç çš„å‘å¸ƒï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥å…è´¹æ¥è£…æˆªLinuxï¼Œå“ªæ€•è¿˜ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚ &lt;/p&gt;
&lt;p&gt;æçº³æ–¯ &lt;/p&gt;
&lt;p&gt;é™„ï¼šå¾ˆæŠ±æ­‰æˆ‘æœ‰æ—¶è¨€è¾è¿‡æ¿€ã€‚å¦‚æœä½ æ²¡æœ‰å…¶ä»–çš„æ“ä½œç³»ç»Ÿå¯ä¾›é€‰æ‹©çš„è¯ï¼ŒMINIXå·²ç»æŒºå¥½çš„äº†ã€‚å¦‚æœä½ æœ‰äº”åˆ°åä¸ª386æœºå™¨é—²ç€æ²¡ç”¨ï¼Œé‚£ä¹ˆAmoebaä¹Ÿä¼šä¸é”™ï¼Œåªæ˜¯æˆ‘ç¡®å®šæ— ç–‘æ˜¯æ²¡æœ‰çš„ã€‚æˆ‘ä¸€èˆ¬ä¸ä¼šå‹ƒç„¶å¤§æ€’ï¼Œä½†æ˜¯åœ¨æ¶‰åŠåˆ°Linuxçš„é—®é¢˜æ—¶ï¼Œæˆ‘æ˜¯æœ‰ç‚¹å®¹æ˜“æ„Ÿæƒ…ç”¨äº‹ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸€åé©³éå¸¸ç²¾å½©ï¼Œå¹¶ä¸”æœ‰è¯´æœåŠ›ï¼ç‰¹åˆ«æ˜¯å¯¹äºâ€œå¯ç§»æ¤æ€§â€é—®é¢˜çš„è¯´æ˜ï¼Œå€¼å¾—æ¯ä¸ªç¨‹åºå‘˜é˜…è¯»ã€‚&lt;/p&gt;
&lt;h3&gt;çŸ¥è¯†äº§æƒ&lt;/h3&gt;
&lt;p&gt;å…³äºçŸ¥è¯†äº§æƒï¼Œé€šå¸¸æœ‰ä¸¤ç§æˆªç„¶ä¸åŒçš„è§‚ç‚¹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ‰äº›äººè®¤ä¸ºï¼Œä¸“åˆ©å’ŒåŠ³åŠ¨ä¿é™©å½¢å¼çš„çŸ¥è¯†äº§æƒæ³•è§„æ˜¯è‡ªç”±ä¸–ç•Œçš„ç¥¸å®³ï¼Œä¿¡æ¯æä¾›è€…(IP)æ³•è§„å¹¶ä¸ä»…ä»…æ˜¯è®­å¯¼ï¼Œå®é™…ä¸Šç®€ç›´å°±æ˜¯ç½ªæ¶ï¼Œåº”è¯¥å°½å¿«åœ°åŠ ä»¥é“²é™¤ã€‚ å¦ä¸€äº›äººè®¤ä¸ºæ•´ä¸ªä¸–ç•Œç»æµå®é™…ä¸Šæ˜¯ç”±çŸ¥è¯†äº§æƒæ‰€é©±åŠ¨çš„ã€‚è¿™äº›äººæƒ³é€šè¿‡ä»–ä»¬çš„åŠªåŠ›æ¥åŠ å¼ºIPæ³•è§„çš„æ³•å¾‹åœ°ä½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è€ŒLinusæ˜¯è¿™ä¹ˆè®¤ä¸ºï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹äºè®¸å¤šäººï¼ŒåŒ…æ‹¬å¯¹æˆ‘è‡ªå·±è€Œè¨€ï¼ŒçŸ¥è¯†äº§æƒæ˜¯æœ‰å…³äººç±»çš„åˆ›é€ æ´»åŠ¨çš„è§„åˆ™ï¼Œæ˜¯å…³äºé‚£äº›ä½¿æˆ‘ä»¬æˆä¸ºäººç±»â€•â€•è€Œä¸æ˜¯åŠ¨ç‰©(å½“ç„¶ï¼Œè¿™æœ¬èº«æ˜¯ä¸€ä»¶å¥½äº‹)çš„æ´»åŠ¨çš„è§„åˆ™ã€‚æ­£æ˜¯åœ¨è¿™ä¸ªæ„ä¹‰ä¸Šï¼Œâ€œçŸ¥è¯†äº§æƒâ€è¿™ä¸€åç§°æœ¬èº«å°±æ˜¯ä¸€ç§ä¾®è¾±ã€‚ å®ƒå¹¶ä¸æ˜¯å¦‚æœ‰å½¢è´¢äº§é‚£æ ·å¯ä»¥å‡ºå”®ï¼Œå®ƒæ˜¯åˆ›é€ æ€§æ´»åŠ¨æœ¬èº«ï¼Œè¿™æ˜¯äººç±»æ‰€èƒ½å¤Ÿåšåˆ°çš„æœ€ä¼Ÿå¤§çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ç§åˆ›é€ â€•â€•ä¸ç®¡å®ƒæ˜¯ä»¥ç»˜ç”»ã€ éŸ³ä¹ã€ é›•å¡‘ã€ è±æˆ–æ˜¯ç¨‹åºçš„æ–¹å¼å‡ºç°ï¼Œéƒ½åº”å½“å—åˆ°å°Šé‡ï¼šåˆ›é€ è€…å’Œä»–æ‰€åˆ›é€ çš„äº‹ç‰©ä¹‹é—´æœ‰ç€ä½ æ‰€æ— æ³•åˆ‡æ–­çš„å¯†åˆ‡è”ç³»ã€‚è¿™å°±åƒæ¯äº²ä¸å­©å­ä¹‹é—´çš„è”ç³»ï¼Œæˆ–è€…å¦‚åŒä¸­å›½èœä¸å‘³ç²¾ä¹‹é—´çš„è”ç³»ã€‚ ä½†æ˜¯ä¸æ­¤åŒæ—¶ï¼Œå®ƒå´åˆæ˜¯ä¸–ç•Œä¸Šæ¯ä¸€ä¸ªäººéƒ½åº”å½“åˆ†äº«çš„äº‹ç‰©ï¼Œå› ä¸ºå®ƒæ˜¯å±äºäººç±»å…±åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½ æ‹¥æœ‰ä½ æ‰€åˆ›é€ çš„ä¸œè¥¿å°±æ„å‘³ç€ä½ å¯ä»¥æ§åˆ¶å®ƒçš„ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼Œä½ æœ‰æƒå°†è¿™ä¸€è‰ºæœ¯æˆæœå‡ºå”®ç»™å…¶ä»–äººï¼Œè€Œä¸”åœ¨è¿™ä¸ªé—®é¢˜ä¸Šï¼Œé™¤äº†ç¾å›½å›½ç¨å±€ä»¥å¤–ï¼Œä»»ä½•äººéƒ½ä¸ä¼šè¯´ä»€ä¹ˆã€‚ ä½†æ˜¯ï¼Œå®ƒå…¶å®å¹¶ä¸ä»…ä»…æ˜¯é’±çš„é—®é¢˜ï¼Œè€Œæ˜¯å…¶ä»–äººåœ¨åŒæ ·çš„é—®é¢˜ä¸Šé™·äºå›°æƒ‘æ—¶å¸®ä»–ä»¬è§£å†³äº†é—®é¢˜ï¼Œçœå´äº†æ—¶é—´ä¸ç²¾åŠ›ã€‚ &lt;/p&gt;
&lt;p&gt;è®¸å¤šè¦æ±‚åŠ å¼ºçŸ¥è¯†äº§æƒç«‹æ³•çš„è®¨è®ºæ˜¯åŸºäºè¿™æ ·ä¸€ç§è§‚ç‚¹ï¼Œå³ï¼šç»™åˆ›é€ è€…å’Œè‰ºæœ¯å®¶ä»¥æ›´å¤šçš„â€œä¿æŠ¤â€ã€‚è€Œäººä»¬ä¼¼ä¹ä¸æ›¾ã€æˆ–è€…è¯´æ˜¯ä»æœªæ„è¯†åˆ°ï¼Œè¿™æ ·ä¸€ç§å¼ºæœ‰åŠ›çš„æƒåˆ©å¯¼è‡´ä¸€äº›äººå‰¥å¤ºäº†å¦ä¸€äº›äººçš„æƒåˆ©ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çƒ­çˆ±ç‰ˆæƒã€‚æˆ‘åªæ˜¯è®¤ä¸ºæ²¡å¿…è¦å°†ç‰ˆæƒæ‰€æœ‰è€…çš„æƒåˆ©æ— é™æ‰©å¤§ã€‚ä¸è¦æ‰©å¤§åˆ°å°†æ¶ˆè´¹è€…çš„æƒåˆ©éƒ½è¢«å‰¥å¤ºæ®†å°½ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆæ˜¾ç„¶ï¼Œåªæœ‰æå°‘çš„ä¸ªäººè·å¾—äº†ä¸“åˆ©ã€‚ å¦ä¸€æ–¹é¢ï¼Œå…¬å¸å´è·å¾—äº†å¤§é‡çš„ä¸“åˆ©ã€‚è¿™äº›ä¸“åˆ©æ˜¯ä»–ä»¬ç”¨æ¥å¯¹ä»˜å…¶ä»–å…¬å¸çš„æœ‰åŠ›æ­¦å™¨ï¼Œå¯ä»¥å¨èƒåˆ«äººå› ä¸“åˆ©ä¾µæƒè€Œè¦é¢ä¸´èµ·è¯‰ã€‚ç°ä»Šçš„ä¸“åˆ©ç³»ç»ŸåŸºæœ¬ä¸Šå¯ä»¥è¯´æ˜¯ä¿¡æ¯æä¾›è€…è¿™é—´çš„å†·æˆ˜ï¼Œè€Œä¸æ˜¯ä»–ä»¬ä¹‹å‰çš„æ ¸æˆ˜äº‰ã€‚ç›®å‰è¿™ç§æƒ…å†µä¹Ÿä¸è§å¾—æ¯”è¿‡å»çš„å†·æˆ˜å¥½ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³é¿å…ä¸“åˆ©ç”³è¯·è¿‡ç¨‹ä¸­çš„éº»çƒ¦ï¼Œä½ å¯ä»¥é‡‡ç”¨æ›´ä¸ºå‰å®³çš„æ‰‹æ®µï¼šå•†ä¸šç§˜å¯†ã€‚å•†ä¸šç§˜å¯†çš„ä¼˜ç‚¹åœ¨äºï¼Œä½ ä¸å¿…æ‹…å¿ƒä»€ä¹ˆå•†ä¸šç§˜å¯†åŠå…¬å®¤æˆ–è€…ç±»ä¼¼çš„æœºæ„ï¼šä½ åªéœ€è¦å°†å…¶å°å­˜èµ·æ¥ï¼Œç„¶åå°±ä¸å¿…é¡¾è™‘é‚£ä¹ˆå¤šäº†ã€‚
è¿‡å»äººä»¬ä¸€ç›´æ˜¯è¿™æ ·åšçš„ï¼Œå®é™…ä¸Šè¿™ä¹Ÿå°±æ˜¯æ³•è§„ä¹‹æ‰€ä»¥è¢«å¼•å…¥çš„åŸå› æ‰€åœ¨ã€‚ä¸ºäº†é¼“åŠ±ä¸ªäººå’Œå…¬å¸å…¬å¼€å…¶ç§˜å¯†ï¼Œä¸“åˆ©æ³•å…è®¸åœ¨ä¸€å®šæœŸé™å†…ä¿æŠ¤å¸‚åœºâ€•â€•å¦‚æœä½ å…¬å¼€ä½ æ‰€æ‹¥æœ‰çš„ç§˜å¯†çš„è¯ã€‚ä¸€ä¸ªé’ˆé”‹ç›¸å¯¹çš„åŸºæœ¬å½¢å¼æ˜¯ï¼šä½ å‘Šè¯‰å¤§å®¶ä½ æ˜¯å¦‚ä½•åšæˆæŸäº‹çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å…è®¸ä½ æ‹¥æœ‰ä¸€å®šå¹´é™çš„ç‰¹æ®Šæƒåˆ©ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸“åˆ©äº§ç”Ÿä¹‹å‰ï¼Œäººä»¬ä¼šå……æ»¡çŒœå¿Œåœ°ä¿å®ˆä»–ä»¬è‡ªå·±çš„æŠ€æœ¯ä¼˜åŠ¿ï¼Œä¸€ç›´åˆ°å°†å®ƒä»¬å¸¦å…¥åŸå¢“ã€‚å¾ˆæ˜¾ç„¶ï¼Œé‚£æ˜¯ä¸åˆ©äºæŠ€æœ¯è¿›æ­¥çš„ï¼Œå› ä¸ºæœ‰å‰é€”çš„æŠ€æœ¯ä»æ¥æ²¡æœ‰å‘å…¶ä»–äººå…¬å¼€è¿‡ã€‚å¯¹äºä¸“åˆ©ç‰¹æƒçš„æ‰¿è¯ºä½¿å¾—ä¸“åˆ©æˆä¸ºå°†ç§˜å¯†å‘Šè¯‰å¤§å®¶çš„ä¸€ç§å¼ºæœ‰åŠ›çš„åˆºæ¿€ï¼Œå› ä¸ºä½ å†ä¹Ÿä¸ç”¨æ‹…å¿ƒä½ çš„ç«äº‰å¯¹æ‰‹ä¼šå‘ç°ä½ åœ¨åšä»€ä¹ˆäº†ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œé‚£æ˜¯è¿‡å»ï¼Œç°åœ¨æƒ…å½¢ä¸åŒäº†ã€‚ å¦‚ä»Šï¼Œå³ä½¿æ˜¯å•†ä¸šç§˜å¯†ä¹Ÿæœ‰äº†æ³•å¾‹ä¿æŠ¤ï¼Œå°½ç®¡å®ƒä»¬çš„ç†ç”±ä¸–äººæ— æ³•ç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¤§ç¨‹åº¦ä¸Šï¼Œåœ¨è¿™åœºçŸ¥è¯†äº§æƒæˆ˜äº‰ä¸­å¯»æ±‚å’Œå¹³çš„è§£å†³ä¹‹é“æ­£æ˜¯å…¬å¼€æºä»£ç æ‰€åŠªåŠ›çš„ç›®æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;åŒä¸€äº‹ç‰©çš„å¦ä¸€é¢åœ¨äºï¼Œçš„ç¡®ï¼ŒçŸ¥è¯†äº§æƒå¯èƒ½æ˜¯ä¸å…¬å¹³çš„ï¼Œçš„ç¡®ï¼ŒçŸ¥è¯†äº§æƒæ³•è§„åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå°†å…¶ç›®æ ‡å®šä½äºå¤§å…¬å¸è€Œä¸æ˜¯æ¶ˆè´¹è€…æƒåˆ©ï¼Œç”šè‡³ä¹Ÿä¸æ˜¯ä¸ªäººè‘—ä½œè€…æˆ–åˆ›æ–°è€…ã€‚ ç„¶è€Œå…¶ä¸»ä½“æ˜¯ç§¯ææœ‰åˆ©çš„ã€‚çŸ¥è¯†äº§æƒé›†ä¸­äºå¼ºæœ‰åŠ›çš„æƒåˆ©ä¹‹ä¸Šï¼Œä¸ä¹‹ç›¸å¯¹åº”çš„äº‹å®æ˜¯è¿™ä¸€å¼ºæœ‰åŠ›çš„æ­¦å™¨åœ¨å¸‚åœºä¸Šæ˜¯å¦‚æ­¤çš„æœ‰æ•ˆã€‚ æ ¸æ­¦å™¨æ˜¯å†·æˆ˜æ—¶ä»£çš„ç»ˆæåŠ›é‡ï¼ŒåŒæ ·çš„åŸå› ä½¿å¾—çŸ¥è¯†äº§æƒåœ¨æŠ€æœ¯æˆ˜äº‰æ—¶ä»£é‡Œå¤§å—æ¬¢è¿ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶å¤§é‡çš„æ–°æªæ–½ä½¿éæ³•ä½¿ç”¨ä»–äººçš„çŸ¥è¯†äº§æƒå˜å¾—æ›´åŠ å›°éš¾ï¼Œä½†åŒæ—¶ä¹Ÿä½¿å¾—åˆæ³•ä½¿ç”¨ä»–äººçš„çŸ¥è¯†äº§æƒå˜å¾—æ›´åŠ å›°éš¾ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;åŸè°…æˆ‘å–‹å–‹ä¸ä¼‘åœ°æ‘˜å½•äº†è¿™ä¹ˆå¤šå†…å®¹ï¼Œä½†å…¶å®ä¹¦ä¸­è¿™éƒ¨åˆ†çš„å†…å®¹è¿˜æœ‰å¾ˆå¤šç²¾å½©ä¹‹å¤„ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;çŸ¥è¯†äº§æƒæœ¬æ¥çš„ç›®çš„æ˜¯ä¿æŠ¤åˆ›é€ è€…çš„åŸºæœ¬æƒåˆ©ï¼Œä»¥ä¿ƒè¿›åˆ›æ–°å’Œåˆ†äº«ï¼Œä½†çŸ¥è¯†äº§æƒå¦‚æœèµ°è¿‡äº†å¤´ï¼ˆä¾‹å¦‚å¦‚ä»Šçš„ä¸“åˆ©æˆ˜äº‰ï¼‰å°±ä¼šå¯¼è‡´åˆ›æ–°éš¾ä»¥æ™®åŠï¼Œä»–äººæ— æ³•åˆæ³•åˆç†åœ°ä½¿ç”¨è¿™äº›åˆ›æ–°ã€‚å¼€æºè¿åŠ¨åˆ™é¼“åŠ±å……åˆ†åœ°å¼€æ”¾åˆ†äº«åˆ›æ–°ï¼ŒåŒæ—¶é€šè¿‡å„ç§å½¢å¼è®¸å¯è¯æ¥ä¿æŠ¤åˆ›é€ è€…çš„åŸºæœ¬æƒåˆ©ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€å¼€æºè¿åŠ¨çš„ç†å¿µä¸ä»…åªæ˜¯å½±å“è®¡ç®—æœºè¡Œä¸šï¼Œä¹Ÿä¼šå¯¹æ‰€æœ‰è¡Œä¸šäº§ç”Ÿå·¨å¤§çš„æ­£é¢å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;äººç±»ç¤¾ä¼šçš„å‘å±•æ˜¯ä¸€ä¸ªç§¯ç´¯çš„è¿‡ç¨‹ï¼Œåˆ›æ–°çŸ¥è¯†çš„åˆ†äº«è¶Šå……åˆ†ï¼Œç§¯ç´¯ä¹Ÿå°±è¶Šå¿«ï¼Œäººç±»ç¤¾ä¼šçš„å‘å±•ä¹Ÿå°±è¶Šå¿«ã€‚è¿™ä¹Ÿæ˜¯æˆ‘æ¬£èµæ”¯æŒé»‘å®¢ç²¾ç¥å’Œå¼€æºè¿åŠ¨çš„ç¼˜ç”±ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4&gt;å…³äºä¹¦åçš„ç¿»è¯‘&lt;/h4&gt;
&lt;p&gt;è¿™æœ¬ä¹¦çš„ä¹¦åï¼Œä¸­å›½é’å¹´å‡ºç‰ˆç¤¾çš„ç‰ˆæœ¬æ˜¯è¯‘ä¸ºã€Šä¹è€…ä¸ºç‹ã€‹ï¼Œè€Œå°†è¦å‡ºç‰ˆçš„äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾çš„ç‰ˆæœ¬è²Œä¼¼è¦è¯‘ä¸ºã€Šè¶Šç©è¶Šå¤§-æˆ‘å’ŒLinuxçš„æ•…äº‹ã€‹ï¼ˆæ­£å¼å‡ºç‰ˆå‰çš„æš‚è¯‘åï¼Ÿï¼‰ã€‚å¯¹äºè¿™ä¸¤ä¸ªè¯‘åæˆ‘éƒ½ä¸æ»¡æ„ã€‚åŸä¹¦å–åã€ŠJust For Fun --- The Story of an Accidental Revolutionaryã€‹ï¼Œæˆ‘æƒ³åº”è¯¥æ˜¯è€ƒè™‘äº†ä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Linuséå¸¸çœ‹é‡å°Šé‡è‡ªå·±çš„å…´è¶£ã€‚å…¶å®Linuxå°±æ˜¯å§‹äºå®ƒçš„ä¸ªäººå…´è¶£ï¼Œä¹Ÿå› æ­¤Linuxåˆ°å¦‚ä»Šçš„å‘å±•åŠå…¶é€ æˆçš„å¹¿æ³›å½±å“ä¹Ÿæ˜¯å½“åˆLinusæ²¡æœ‰æ–™æƒ³ä¹Ÿä¸å¯èƒ½æ–™æƒ³åˆ°çš„ï¼Œäººç”Ÿå¾€å¾€å¦‚æ­¤ï¼Œå¾ˆå¤šäº‹æƒ…éƒ½æ˜¯Accidentalçš„ï¼›&lt;/li&gt;
&lt;li&gt;Linusè®¤ä¸ºä»»ä½•äººç±»ç¤¾ä¼šäº‹ç‰©å‘å±•çš„ç»ˆæé˜¶æ®µå°±æ˜¯---å¨±ä¹ï¼Œé‚£ä¹ˆç”Ÿæ´»çš„æ„ä¹‰å°±æ˜¯ä¸æ–­åŠªåŠ›ä¸ºè¾¾åˆ°è¿™ä¸€ç»ˆæé˜¶æ®µè€Œè´¡çŒ®è‡ªå·±çš„ä¸€ä»½åŠ›é‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹äºç¬¬äºŒç‚¹ï¼Œè¯¥ä¹¦çš„æœ€åä¸€èŠ‚ä¸­ä½œè€…åšäº†æ˜ç¡®çš„è¯´æ˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹äº†ï¼Œå°±æ˜¯è¿™ä¸‰ä»¶äº‹ï¼šç”Ÿå­˜ã€ä½ åœ¨ç¤¾ä¼šä¸­çš„ä½ç½®ã€è¿˜æœ‰å¿«ä¹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸‰ä»¶äº‹å°±æ˜¯æˆ‘ä»¬æ­£åœ¨åšç€çš„äº‹æƒ…ã€‚ ä»»ä½•å…¶ä»–çš„äº‹ç‰©ï¼Œéƒ½æ˜¯ç¤¾ä¼šå­¦å®¶å¯èƒ½ä¼šç§°ä¹‹ä¸ºâ€œçªå‘è¡Œä¸ºâ€çš„ä¸œè¥¿ï¼Œå®ƒä»¬æºäºé‚£äº›è§„åˆ™æ›´ä¸ºç®€å•çš„è¡Œä¸ºæ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œäº‹æƒ…ä¸ä»…ä»…æ˜¯â€œè¿™å°±æ˜¯æ¿€åŠ±äººç”Ÿæ´»çš„äº‹ç‰©â€ã€‚å¦‚æœæƒ…å½¢æ˜¯è¿™æ ·çš„è¯ï¼Œé‚£å®ƒä»¬ä¹Ÿå°±ä¸ä¼šæˆä¸ºå…³äºç”Ÿå‘½çš„ç†è®ºäº†ã€‚ä»¤äººæ„Ÿå…´è¶£çš„ï¼Œè¿™ä¸‰ç§æ¿€åŠ±å› ç´ æœ‰ç€å†…åœ¨çš„æ¬¡åºï¼Œè€Œè¿™ä¸€æ¬¡åºè¡¨æ˜äº†ç”Ÿå‘½çš„æ‰€åœ¨ã€‚äº‹æƒ…å¹¶ä¸ä»…ä»…æ˜¯ï¼Œæˆ‘ä»¬äººç±»è¢«è¿™ä¸‰ç§äº‹ç‰©æ‰€é©±ä½¿â€•â€•å¯¹äºäººç±»ä»¥å¤–çš„å…¶ä»–ç”Ÿå‘½è¡Œä¸ºä¹Ÿæ˜¯å¦‚æ­¤ã€‚ &lt;/p&gt;
&lt;p&gt;è¿™ä¸€æ¬¡åºæ˜¯ï¼šç”Ÿå­˜ï¼›ç¤¾ä¼šäº¤å¾€ï¼›å¯»æ‰¾ä¹è¶£ã€‚ &lt;/p&gt;
&lt;p&gt;å®ƒä¹Ÿæ˜¯è¿›åŒ–çš„æ¬¡åºã€‚è¿™å°±æ˜¯æˆ‘ä»¬é€‰æ‹©äº†â€œJust for Funâ€ä½œä¸ºæœ¬ä¹¦åç§°çš„åŸå› ã€‚
å› ä¸ºæˆ‘ä»¬æ›¾ç»æ‰€åšçš„ä¸€åˆ‡äº‹æƒ…ï¼Œä¼¼ä¹æœ€ç»ˆéƒ½æ˜¯ä¸ºäº†æˆ‘ä»¬è‡ªå·±çš„ä¹è¶£ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¯‘åã€Šä¹è€…ä¸ºç‹ã€‹è™½ç„¶ç®€ç»ƒï¼Œå´ä¸èƒ½æ˜ç¡®åœ°è¡¨è¾¾è¿™ä¸¤å±‚æ„æ€ã€‚ã€Šè¶Šç©è¶Šå¤§-æˆ‘å’ŒLinuxçš„æ•…äº‹ã€‹åˆ™è·Ÿé—¹ç€ç©ä¼¼çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆä¸ç›´è¯‘ä¸ºã€Šåªä¸ºä¹è¶£ã€‹å‘¢ï¼Ÿ&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;å…³äºæœ¬ä¹¦ï¼Œé˜®ä¸€å³°ä¹Ÿå†™è¿‡ä¸€ç¯‡é˜…è¯»ç¬”è®°ï¼Œè§&lt;a href="http://www.ruanyifeng.com/blog/2012/09/linus_torvalds.html"&gt;ã€ŠLinus Torvaldsè‡ªä¼ ã€‹æ‘˜å½•&lt;/a&gt;&lt;/em&gt;ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="é˜…è¯»"></category><category term="ç¬”è®°"></category></entry><entry><title>ä¿®æ”¹PyPIæº</title><link href="http://youngsterxyf.github.io/2013/11/01/change-pypi-mirror/" rel="alternate"></link><published>2013-11-01T00:00:00+08:00</published><updated>2013-11-01T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-11-01:/2013/11/01/change-pypi-mirror/</id><summary type="html">&lt;p&gt;ä½¿ç”¨easy_installæˆ–pipå®‰è£…Pythonç¬¬ä¸‰æ–¹åº“ï¼Œé»˜è®¤çš„æºåœ°å€æ˜¯ï¼šhttps://pypi.python.org/simple/ ã€‚ä½¿ç”¨è¯¥æºæœ‰ä¸¤ä¸ªé—®é¢˜:&lt;/p&gt;
&lt;p&gt;1.
å›½å†…è®¿é—®é€Ÿåº¦è¾ƒæ…¢&lt;/p&gt;
&lt;p&gt;2.
ç”±äºè¯¥æºä½¿ç”¨httpsåè®®ï¼Œè‹¥æœºå™¨ä¸Šæ²¡æœ‰å®‰è£…opensslæˆ–sslé…ç½®ä¸å¯¹ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä½¿ç”¨easy_installæˆ–pipå®‰è£…Pythonç¬¬ä¸‰æ–¹åº“ï¼Œé»˜è®¤çš„æºåœ°å€æ˜¯ï¼šhttps://pypi.python.org/simple/ ã€‚ä½¿ç”¨è¯¥æºæœ‰ä¸¤ä¸ªé—®é¢˜:&lt;/p&gt;
&lt;p&gt;1.
å›½å†…è®¿é—®é€Ÿåº¦è¾ƒæ…¢&lt;/p&gt;
&lt;p&gt;2.
ç”±äºè¯¥æºä½¿ç”¨httpsåè®®ï¼Œè‹¥æœºå™¨ä¸Šæ²¡æœ‰å®‰è£…opensslæˆ–sslé…ç½®ä¸å¯¹ï¼Œå°†å¯¼è‡´easy_installæˆ–pipè®¿é—®è¯¥æºå¤±è´¥&lt;/p&gt;
&lt;p&gt;è‹¥æƒ³è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å›½å†…çš„PyPIé•œåƒæºã€‚&lt;/p&gt;
&lt;p&gt;ä» &lt;a href="http://www.pypi-mirrors.org/"&gt;http://www.pypi-mirrors.org/&lt;/a&gt; å¯ä»¥çœ‹åˆ°å›½å†…çš„PyPIé•œåƒæºä¸»è¦æœ‰ä¸‰ä¸ª:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;e.pypi.python.org&lt;/li&gt;
&lt;li&gt;pypi.douban.com&lt;/li&gt;
&lt;li&gt;pypi.hustunique.com&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;ä¿®æ”¹easy_installå’Œpipä½¿ç”¨çš„æºæœ‰ä¸¤ç§æ–¹å¼ï¼ˆä»¥Linuxä¸Šä»é•œåƒæºe.pypi.python.orgä¸‹è½½å®‰è£…requestsä¸ºä¾‹ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‘½ä»¤æ–¹å¼ï¼šé’ˆå¯¹ä¸€æ¬¡ä½¿ç”¨ï¼Œä¸´æ—¶ä¿®æ”¹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;easy_install&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;easy_install -i http://e.pypi.python.org/simple requests
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;pip&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pip install requests -i http://e.pypi.python.org/simple
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ³¨ï¼š&lt;em&gt;1. æºè·¯å¾„è¦åŒ…å«/simpleéƒ¨åˆ†ï¼›2. ä½¿ç”¨pipæ—¶-iå‚æ•°åº”æ”¾åœ¨install xxxçš„åé¢&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¿®æ”¹ï¼ˆè‹¥æ²¡æœ‰ï¼Œåˆ™åˆ›å»ºï¼‰easy_install/pipçš„é…ç½®æ–‡ä»¶&lt;/strong&gt; &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;easy_installï¼šåœ¨&lt;code&gt;~/.pydistutils.cfg&lt;/code&gt;é…ç½®æ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;[easy_install]
index_url = http://e.pypi.python.org/simple
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;pipï¼šåœ¨&lt;code&gt;~/.pip/pip.conf&lt;/code&gt;é…ç½®æ–‡ä»¶ä¸­å†™å…¥ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;[global]
index-url = http://e.pypi.python.org/simple
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3&gt;å‚è€ƒ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.lidaren.com/archives/886"&gt;ä¿®æ”¹easy_installå’Œpipçš„é•œåƒåœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://pythonhosted.org/setuptools/easy_install.html"&gt;easy_install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.pip-installer.org/en/latest/configuration.html"&gt;pip configuration&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category><category term="PyPI"></category><category term="pip"></category><category term="easy_install"></category><category term="ssl"></category></entry><entry><title>Golangä¸­å¦‚ä½•è®©html/templateä¸è½¬ä¹‰htmlæ ‡ç­¾</title><link href="http://youngsterxyf.github.io/2013/11/01/unescape-html-in-golang-html_template/" rel="alternate"></link><published>2013-11-01T00:00:00+08:00</published><updated>2013-11-01T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-11-01:/2013/11/01/unescape-html-in-golang-html_template/</id><summary type="html">&lt;p&gt;è¿‘æœŸåœ¨ä½¿ç”¨Golangçš„&lt;a href="http://golang.org/pkg/net/http/"&gt;net/http&lt;/a&gt;å’Œ&lt;a href="http://golang.org/pkg/html/template/"&gt;html/template&lt;/a&gt;å¼€å‘ä¸€ä¸ªç®€å•çš„HAProxyè´Ÿè½½å‡è¡¡ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼ˆè§&lt;a href="http://youngsterxyf.github.io/2013/10/16/high-availability-load-balancer-and-dns/"&gt;æ­å»ºé«˜å¯ç”¨è´Ÿè½½å‡è¡¡ç»„ä»¶åŠç¼“å­˜DNS&lt;/a&gt;ä¸€æ–‡è¯´æ˜ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://golang.org/pkg/html/template/"&gt;htmp/template&lt;/a&gt;åœ¨æ¸²æŸ“é¡µé¢æ¨¡æ¿çš„æ—¶ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;è¿‘æœŸåœ¨ä½¿ç”¨Golangçš„&lt;a href="http://golang.org/pkg/net/http/"&gt;net/http&lt;/a&gt;å’Œ&lt;a href="http://golang.org/pkg/html/template/"&gt;html/template&lt;/a&gt;å¼€å‘ä¸€ä¸ªç®€å•çš„HAProxyè´Ÿè½½å‡è¡¡ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼ˆè§&lt;a href="http://youngsterxyf.github.io/2013/10/16/high-availability-load-balancer-and-dns/"&gt;æ­å»ºé«˜å¯ç”¨è´Ÿè½½å‡è¡¡ç»„ä»¶åŠç¼“å­˜DNS&lt;/a&gt;ä¸€æ–‡è¯´æ˜ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://golang.org/pkg/html/template/"&gt;htmp/template&lt;/a&gt;åœ¨æ¸²æŸ“é¡µé¢æ¨¡æ¿çš„æ—¶å€™é»˜è®¤ä¼šè½¬ä¹‰å­—ç¬¦ä¸²ä¸­çš„htmlæ ‡ç­¾ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬å¹¶ä¸æƒ³è½¬ä¹‰htmlæ ‡ç­¾ï¼Œä»¥ä¸‹å›¾æ‰€ç¤ºä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="add_haproxy_balance_task" src="/assets/uploads/pics/haproxy_task_add.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="list_haproxy_balance_task" src="/assets/uploads/pics/haproxy_task_list.jpg"&gt;&lt;/p&gt;
&lt;p&gt;å›¾1ä¸­â€œip:portåˆ—è¡¨(ä¸€è¡Œä¸€ä¸ª)â€å’Œâ€œè¯´æ˜â€ä¸¤ä¸ªè¾“å…¥æ¡†çš„å†…å®¹è¡Œä¸è¡Œæ˜¯ä»¥&lt;code&gt;\n&lt;/code&gt;åˆ†éš”çš„ï¼›å›¾2ä¸­ï¼Œè¿™ä¸¤éƒ¨åˆ†å†…å®¹åˆ†åˆ«åœ¨è¡¨æ ¼çš„â€œåç«¯æœºå™¨åˆ—è¡¨â€å’Œâ€œè¯´æ˜â€ä¸¤åˆ—ä¸­å±•ç¤ºï¼Œä½†è¡Œä¸è¡Œå…¶å®æ˜¯ä»¥&lt;code&gt;&amp;lt;br /&amp;gt;&lt;/code&gt;åˆ†éš”çš„ï¼›é‚£ä¹ˆåœ¨å°†æ•°æ®å­˜å…¥æ•°æ®åº“ä¹‹å‰æˆ–ä»æ•°æ®åº“ä¸­å–å‡ºæ•°æ®åï¼Œä¼šå°†å­—ç¬¦ä¸²ä¸­çš„&lt;code&gt;\n&lt;/code&gt;æ›¿æ¢ä¸º&lt;code&gt;&amp;lt;br /&amp;gt;&lt;/code&gt;ã€‚å¦‚æœå°†æ›¿æ¢åçš„æ•°æ®ä»¥å­—ç¬¦ä¸²ç±»å‹ä¼ å…¥æ¨¡æ¿ï¼Œ&lt;code&gt;&amp;lt;br /&amp;gt;&lt;/code&gt;æ ‡ç­¾æ¸²æŸ“åçš„æ•ˆæœå°±æ˜¯&lt;code&gt;&amp;lt;br /&amp;gt;&lt;/code&gt;æ–‡æœ¬è€Œä¸æ˜¯æ¢è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ç§æ–¹å¼é¿å…&lt;code&gt;html/template&lt;/code&gt;è½¬ä¹‰htmlæ ‡ç­¾ï¼š&lt;/p&gt;
&lt;p&gt;1.
æŠŠå­—ç¬¦ä¸²ç±»å‹æ•°æ®è½¬æ¢æˆ&lt;code&gt;template.HTML&lt;/code&gt;ç±»å‹å†ä¼ å…¥æ¨¡æ¿è¿›è¡Œæ¸²æŸ“ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lti := listenTaskInfo{
    Seq:      seq,
    Id:       row.Id,
    Servers:  template.HTML(strings.Join(strings.Split(row.Servers, &lt;span style="color: #a31515"&gt;&amp;quot;-&amp;quot;&lt;/span&gt;), &lt;span style="color: #a31515"&gt;&amp;quot;&amp;lt;br /&amp;gt;&amp;quot;&lt;/span&gt;)),
    Vip:      appConf.Vip,
    Vport:    row.VPort,
    Comment:  template.HTML(strings.Join(strings.Split(row.Comment, &lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;), &lt;span style="color: #a31515"&gt;&amp;quot;&amp;lt;br /&amp;gt;&amp;quot;&lt;/span&gt;)),
    LogOrNot: row.LogOrNot,
    DateTime: row.DateTime,
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.
&lt;code&gt;html/template&lt;/code&gt;å…è®¸æ ¹æ®éœ€è¦ä¸ºæ¨¡æ¿å˜é‡æ·»åŠ ä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œåœ¨æ¨¡æ¿è§£æçš„æ—¶å€™è¯¥å‡½æ•°å°±èƒ½å¯¹æ¨¡æ¿å˜é‡åšè¿›ä¸€æ­¥çš„å¤„ç†ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;a href=&amp;quot;/search?q={{. | urlquery}}&amp;quot;&amp;gt;{{. | html}}&amp;lt;/a&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;html/template&lt;/code&gt;è²Œä¼¼å¹¶æ²¡æœ‰å†…ç½®è¿™æ ·çš„å‡½æ•°è®©å…¶ä¸è½¬ä¹‰htmlæ ‡ç­¾ï¼Œä½†æä¾›äº†æ¥å£è®©æˆ‘ä»¬æŒ‰éœ€è‡ªå®šä¹‰è¿™ç±»å‡½æ•°ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°-åœ¨æ¨¡æ¿è§£æçš„æ—¶å€™å°†æ¨¡æ¿å˜é‡è½¬æ¢æˆ&lt;code&gt;template.HTML&lt;/code&gt;ç±»å‹ï¼Œå¦‚ï¼ˆè¯¥ä¾‹å­æ¥è‡ª&lt;a href="http://coderdave.com/view/how-to-unescape-text-in-a-golang-html-template"&gt;How To Unescape Text In A Golang Html Template&lt;/a&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; unescaped (x &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt;{} { &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; template.HTML(x) }

&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; renderTemplate(w http.ResponseWriter, tmpl &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;, view *Page) {
    t := template.New(&lt;span style="color: #a31515"&gt;&amp;quot;&amp;quot;&lt;/span&gt;)  
    t = t.Funcs(template.FuncMap{&lt;span style="color: #a31515"&gt;&amp;quot;unescaped&amp;quot;&lt;/span&gt;: unescaped})
    t, err := t.ParseFiles(&lt;span style="color: #a31515"&gt;&amp;quot;view.html&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;edit.html&amp;quot;&lt;/span&gt;)
    err = t.ExecuteTemplate(w, tmpl + &lt;span style="color: #a31515"&gt;&amp;quot;.html&amp;quot;&lt;/span&gt;, view)
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; err != &lt;span style="color: #0000ff"&gt;nil&lt;/span&gt; {
        http.Error(w, err.Error(), http.StatusInternalServerError)
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ®µä»£ç ä½¿å¾—æ¨¡æ¿è§£æçš„æ—¶å€™å¯ä»¥ä½¿ç”¨unescapedå‡½æ•°å°†æ¨¡æ¿å˜é‡xè½¬æ¢æˆ&lt;code&gt;template.HTML&lt;/code&gt;ç±»å‹ï¼Œå…³é”®æ˜¯å¦‚ä¸‹ä¸¤å¥ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;// å®šä¹‰å‡½æ•°unescaped&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;func&lt;/span&gt; unescaped (x &lt;span style="color: #2b91af"&gt;string&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt;{} { &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; template.HTML(x) }
&lt;span style="color: #008000"&gt;// åœ¨æ¨¡æ¿å¯¹è±¡tä¸­æ³¨å†Œunescaped&lt;/span&gt;
t = t.Funcs(template.FuncMap{&lt;span style="color: #a31515"&gt;&amp;quot;unescaped&amp;quot;&lt;/span&gt;: unescaped})
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·ï¼Œåœ¨æ¨¡æ¿ä¸­å°±å¯ä»¥ä½¿ç”¨unescapedå‡½æ•°äº†ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;{{printf &lt;span style="color: #a31515"&gt;&amp;quot;%s&amp;quot;&lt;/span&gt; .Body | unescaped}} &lt;span style="color: #008000"&gt;//[]byte&lt;/span&gt;
{{.Body | unescaped}} &lt;span style="color: #008000"&gt;//string&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å®ç°ä¸è½¬ä¹‰HTMLæ ‡ç­¾ï¼Œæœ¬è´¨ä¸Šï¼Œè¿™ä¸¤ç§æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡ä¸€ç§æ˜¯åœ¨å­—ç¬¦ä¸²ä¼ å…¥æ¨¡æ¿ä¹‹å‰å°†å…¶è½¬æ¢æˆ&lt;code&gt;template.HTML&lt;/code&gt;ç±»å‹ï¼Œå¦ä¸€ç§æ˜¯åœ¨å­—ç¬¦ä¸²ä¼ å…¥æ¨¡æ¿ä¹‹åè§£æä¹‹æ—¶è½¬æ¢ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†&lt;code&gt;template.HTML&lt;/code&gt;ç±»å‹ï¼Œ&lt;code&gt;text/template&lt;/code&gt;è¿˜å®šä¹‰äº†&lt;code&gt;template.JS&lt;/code&gt;ã€&lt;code&gt;template.CSS&lt;/code&gt;ç­‰æ•°æ®ç±»å‹ã€‚&lt;/p&gt;
&lt;h3&gt;å‚è€ƒ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://golang.org/pkg/html/template/"&gt;html/template&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://coderdave.com/view/how-to-unescape-text-in-a-golang-html-template"&gt;How To Unescape Text In A Golang Html Template&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="Golang"></category><category term="template"></category></entry><entry><title>å­¦åœ¨è…¾è®¯ï¼šç®€è€Œç¾çš„å¾®ä¿¡åå°æ¶æ„</title><link href="http://youngsterxyf.github.io/2013/10/23/learning-in-tencent-backend-arch-of-weixin/" rel="alternate"></link><published>2013-10-23T00:00:00+08:00</published><updated>2013-10-23T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-10-23:/2013/10/23/learning-in-tencent-backend-arch-of-weixin/</id><summary type="html">&lt;p&gt;æ³¨ï¼š&lt;em&gt;å…¬å¸åˆ†äº«è®²åº§çš„ä¸€ç‚¹ç¬”è®°ï¼Œä¸ä¿è¯å‡†ç¡®æ€§ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;é—®é¢˜&lt;/h2&gt;
&lt;h4&gt;æè‡´çš„ä¸šåŠ¡ç‰¹æ€§&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æµç•…çš„æ¶ˆæ¯æ”¶å‘&lt;/li&gt;
&lt;li&gt;åŠæ—¶çš„é€šçŸ¥&lt;/li&gt;
&lt;li&gt;çœç”µ&lt;/li&gt;
&lt;li&gt;çœæµé‡&lt;/li&gt;
&lt;li&gt;ç˜¦å®¢æˆ·ç«¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;å›°éš¾ â€¦&lt;/h4&gt;</summary><content type="html">&lt;p&gt;æ³¨ï¼š&lt;em&gt;å…¬å¸åˆ†äº«è®²åº§çš„ä¸€ç‚¹ç¬”è®°ï¼Œä¸ä¿è¯å‡†ç¡®æ€§ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;é—®é¢˜&lt;/h2&gt;
&lt;h4&gt;æè‡´çš„ä¸šåŠ¡ç‰¹æ€§&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æµç•…çš„æ¶ˆæ¯æ”¶å‘&lt;/li&gt;
&lt;li&gt;åŠæ—¶çš„é€šçŸ¥&lt;/li&gt;
&lt;li&gt;çœç”µ&lt;/li&gt;
&lt;li&gt;çœæµé‡&lt;/li&gt;
&lt;li&gt;ç˜¦å®¢æˆ·ç«¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;å›°éš¾çš„åå°-ç»ˆç«¯åŒæ­¥&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åŒæ­¥å¤šæ ·æ•°æ®ï¼šè´¦æˆ·ä¿¡æ¯ã€é€šè®¯å½•ã€æ¶ˆæ¯ã€æœ‹å‹åœˆç­‰&lt;/li&gt;
&lt;li&gt;åŠæ—¶é€šçŸ¥ä¸åŒæ­¥&lt;/li&gt;
&lt;li&gt;ç§»åŠ¨ç½‘ç»œä¸‹çš„å¯é åŒæ­¥&lt;/li&gt;
&lt;li&gt;çœæµé‡ä¸ç”µé‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;æ–¹æ¡ˆ&lt;/h2&gt;
&lt;h4&gt;æç®€çš„åŒæ­¥åè®®&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åå°ä¸ç»ˆç«¯åªéœ€è¦æ²Ÿé€šä¸€ä¸ªæ•°å­—ï¼Œåå°å³å¯çŸ¥é“ç»ˆç«¯ç¼ºå¤±çš„æ‰€æœ‰æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;å˜æ›´åºåˆ—å·/ç‰ˆæœ¬å·ï¼š&lt;ul&gt;
&lt;li&gt;åå°å¯¹ç”¨æˆ·æ•°æ®çš„æ¯é¡¹å˜æ›´ï¼Œéƒ½èµ‹äºˆä¸€ä¸ªå•è°ƒé€’å¢çš„åºåˆ—å·ï¼Œå³ç”¨æˆ·çš„æ¯é¡¹æ•°æ®éƒ½æœ‰ä¸€ä¸ªå…¨å±€é€’å¢åºåˆ—å·ã€‚&lt;/li&gt;
&lt;li&gt;åå°æ¯æ¬¡ç»™ç»ˆç«¯å‘é€æ•°æ®éƒ½ä¼šå¸¦ä¸Šæ‰€å‘é€çš„æ‰€æœ‰æ•°æ®çš„æœ€å¤§åºåˆ—å·ã€‚&lt;/li&gt;
&lt;li&gt;ç»ˆç«¯æ¯æ¬¡è¯·æ±‚æ•°æ®æ—¶éƒ½ä¼šå¸¦ä¸Šå·²ç»æ¥å—åˆ°çš„æœ€å¤§åºåˆ—å·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;é«˜æ•ˆçš„é€šçŸ¥æœºåˆ¶&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ios Apple Push Network Service&lt;/li&gt;
&lt;li&gt;Androidç­‰-é•¿è¿æ¥&lt;/li&gt;
&lt;li&gt;GPRS/EDGEä¿¡ä»¤é£æš´ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;è‡ªé€‚åº”å¿ƒè·³é—´éš”è°ƒèŠ‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;ä¸‰å±‚åå°æ¶æ„&lt;/h4&gt;
&lt;p&gt;&lt;img alt="Arch of weixin backend" src="/assets/uploads/pics/arch-of-weixin-backend.png"&gt;&lt;/p&gt;
&lt;h4&gt;ç»Ÿä¸€çš„RPCæ¡†æ¶&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æ ¹æ®ProtocolBufferå®šä¹‰ç”ŸæˆæœåŠ¡å™¨æ¡†æ¶å’Œå®¢æˆ·ç«¯&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨ï¼šå¼€å‘äººå‘˜å¡«å……æ¥å£å®ç°&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ï¼š åº”ç”¨æ–¹æœ¬åœ°è°ƒç”¨å®¢æˆ·ç«¯æä¾›çš„æ¥å£å‡½æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å±è”½ç½‘ç»œç»†èŠ‚&lt;ul&gt;
&lt;li&gt;æ”¯æŒåŸºäºTCP/UDPçš„ç½‘ç»œè°ƒç”¨&lt;/li&gt;
&lt;li&gt;æ”¯æŒé•¿çŸ­è¿æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸°å¯Œçš„åŠŸèƒ½&lt;ul&gt;
&lt;li&gt;åŸºäºshardingçš„SETåˆ†å¸ƒ&lt;/li&gt;
&lt;li&gt;åŸºäºä¸€è‡´æ€§å“ˆå¸Œçš„æ— çŠ¶æ€å­˜å‚¨&lt;/li&gt;
&lt;li&gt;æœåŠ¡é€æ˜é‡å®šå‘&lt;/li&gt;
&lt;li&gt;ä¸°å¯Œçš„è‡ªåŠ¨åŒ–ç›‘æ§ï¼š(1)QPSï¼›(2)å“åº”æ—¶é—´ï¼›(3)æ’é˜Ÿæ—¶é—´ï¼›(4)å„ä¸ªæ¥å£çš„è°ƒç”¨é¢‘ç‡ä¸è¿”å›çŠ¶æ€ç åˆ†å¸ƒï¼›(5)å„ä¸ªæœåŠ¡ä¹‹é—´çš„è°ƒç”¨æ‹“æ‰‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;é«˜å¹¶å‘çš„åç¨‹RPC&lt;/h4&gt;
&lt;p&gt;æœåŠ¡å™¨åŒæ­¥çš„è°ƒç”¨æ¨¡å‹ç›¸è¾ƒå¼‚æ­¥æ¨¡å‹æ›´å®¹æ˜“å­¦ä¹ ã€ä½¿ç”¨å’Œè°ƒé”™ã€‚ä½†ä¸€å°æœåŠ¡å™¨æ”¯æ’‘çš„è¿›ç¨‹æ•°å’Œçº¿ç¨‹æ•°æ˜¯éå¸¸æœ‰é™çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åŸºäºç”¨æˆ·æ€çº¿ç¨‹ï¼ˆåç¨‹ï¼‰çš„RPC&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•æœºå¯ä»¥æ”¯æ’‘æ•°ä¸‡ç”šè‡³åä¸‡çš„ç”¨æˆ·æ€çº¿ç¨‹ï¼Œä»…å—CPUå’Œå†…å­˜çº¦æŸ&lt;/li&gt;
&lt;li&gt;æé«˜å¹¶å‘æ€§å’Œæ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç”¨æˆ·æ€çº¿ç¨‹RPCçš„å®ç°&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäºmakecontext/getcontext/swapcontext&lt;/li&gt;
&lt;li&gt;Hook Network: read/write/epoll&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·æ€çº¿ç¨‹è°ƒåº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;å°±è¿‘è®¿é—®&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å°±è¿‘è®¿é—®IDC&lt;/li&gt;
&lt;li&gt;å°±è¿‘ç½‘ç»œæ¥å…¥ï¼šè¦†ç›–å„å¤§è¿è¥å•†&lt;/li&gt;
&lt;li&gt;CDNï¼šä¸Šä¼ ä¸‹è½½å›¾ç‰‡&lt;ul&gt;
&lt;li&gt;è…¾è®¯è‡ªå»ºCDN&lt;/li&gt;
&lt;li&gt;AKAMAI&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;å¤šIDCåˆ†å¸ƒæå‡ç”¨æˆ·ä½“éªŒ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å›½å†…å¤æ‚çš„ç½‘ç»œç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;è¶…è¿‡1äº¿çš„æµ·å¤–ç”¨æˆ·&lt;ul&gt;
&lt;li&gt;åˆ†å¸ƒåœ¨å…¨çƒ&lt;/li&gt;
&lt;li&gt;æ›´ä¸ºå¤šæ ·åŒ–çš„ç½‘ç»œç¯å¢ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªIDCéƒ½æä¾›å®Œæ•´çš„åŠŸèƒ½å’Œæ‰€éœ€è®¿é—®çš„æ‰€æœ‰æ•°æ®&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªIDCæœ‰å…±åŒçš„æ•°æ®å’Œç‹¬ç«‹æ•°æ®&lt;ul&gt;
&lt;li&gt;è´¦æˆ·ä¿¡æ¯å…¨çƒä¸€è‡´&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·æ•°æ®å„è‡ªç‹¬ç«‹ï¼š(1)ä¸€ä¸ªç”¨æˆ·åªå±äºæŸä¸ªIDCï¼›(2)ç”¨æˆ·å±æ€§ã€å…³ç³»é“¾ã€æ¶ˆæ¯ï¼›(3)æŒ‰éœ€å…±äº«çš„SNSæ•°æ®-ç…§ç‰‡ã€è¯„è®ºã€çº¢å¿ƒï¼Œå‡å°‘ç½‘ç»œåŒæ­¥å¸¦å®½æ¶ˆè€—&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;IDCåˆ†å¸ƒæ•°æ®çš„é«˜å¯é æœ€ç»ˆä¸€è‡´æ€§ä¿è¯&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;è´¦æˆ·æ•°æ®å’ŒSNSæ•°æ®ä¸»å¤‡è®¿é—®æ¨¡å‹&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·æ‰€åœ¨çš„IDCæ˜¯ä¸»IDC&lt;/li&gt;
&lt;li&gt;å…¶ä»–IDCç›¸å¯¹è¿™ä¸ªç”¨æˆ·æ‰€åœ¨IDCéƒ½æ˜¯å¤‡IDC&lt;/li&gt;
&lt;li&gt;æ›´æ–°ç”±ä¸»æ‰©æ•£åˆ°å¤‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¼±å®æ—¶æ€§è·¨IDCæ›´æ–°é‡‡ç”¨åŸºäºZookeeperä»²è£çš„ä¸»å¤‡ä»»åŠ¡é˜Ÿåˆ—&lt;ul&gt;
&lt;li&gt;æ”¶æ‹¢è·¨IDCè®¿é—®æ¥å£&lt;/li&gt;
&lt;li&gt;é‡åšä¿è¯è·¨IDCæ›´æ–°çš„å¯é æ€§&lt;/li&gt;
&lt;li&gt;æ•°æ®åºåˆ—å·åœ¨é‡åšæ—¶ä¿è¯è¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…³ç³»é“¾è·¨IDCæ›´æ–°&lt;ul&gt;
&lt;li&gt;éšç§æ§åˆ¶è¦æ±‚å®æ—¶æ€§&lt;/li&gt;
&lt;li&gt;ç›´æ¥è·¨IDCç½‘ç»œè°ƒç”¨&lt;/li&gt;
&lt;li&gt;åå°æ‰¹å¤„ç†é‡è¯•å¤±è´¥è¯·æ±‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;å®¹é”™å’Œå®¹ç¾æœºåˆ¶&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å•IDC&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·æŒ‰SETåˆ†å¸ƒï¼Œå„ä¸ªSETä¹‹é—´ç‹¬ç«‹&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é«˜å¯ç”¨çš„å¼‚åœ°å®¹ç¾&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªæœåŠ¡çš„ä¸»IDCéƒ½æœ‰ä¸€ä¸ªç¾å¤‡IDC&lt;/li&gt;
&lt;li&gt;æŒ‘æˆ˜ï¼šç»ˆç«¯åœ¨ä¸»å¤‡IDCåˆ‡æ¢æ—¶çš„æ— ç¼è¿æ¥ï¼›ä¸»å¤‡é—´çš„æ•°æ®ä¸€è‡´æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="è…¾è®¯"></category><category term="å¾®ä¿¡"></category><category term="æ¶æ„"></category></entry><entry><title>æ­å»ºé«˜å¯ç”¨è´Ÿè½½å‡è¡¡ç»„ä»¶åŠç¼“å­˜DNS</title><link href="http://youngsterxyf.github.io/2013/10/16/high-availability-load-balancer-and-dns/" rel="alternate"></link><published>2013-10-16T00:00:00+08:00</published><updated>2013-10-16T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-10-16:/2013/10/16/high-availability-load-balancer-and-dns/</id><summary type="html">&lt;p&gt;è¯¥é¡¹å·¥ä½œï¼Œå¦‚é¢˜æ‰€ç¤ºï¼Œä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šé«˜å¯ç”¨è´Ÿè½½å‡è¡¡ç»„ä»¶ã€ç¼“å­˜DNSã€‚&lt;/p&gt;
&lt;h3&gt;é«˜å¯ç”¨è´Ÿè½½å‡è¡¡ç»„ä»¶&lt;/h3&gt;
&lt;p&gt;éœ€æ±‚ï¼šä¼˜åŒ–ä¸šåŠ¡ç³»ç»Ÿæ¶æ„ä¸­æŸäº›å…³ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;è¯¥é¡¹å·¥ä½œï¼Œå¦‚é¢˜æ‰€ç¤ºï¼Œä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šé«˜å¯ç”¨è´Ÿè½½å‡è¡¡ç»„ä»¶ã€ç¼“å­˜DNSã€‚&lt;/p&gt;
&lt;h3&gt;é«˜å¯ç”¨è´Ÿè½½å‡è¡¡ç»„ä»¶&lt;/h3&gt;
&lt;p&gt;éœ€æ±‚ï¼šä¼˜åŒ–ä¸šåŠ¡ç³»ç»Ÿæ¶æ„ä¸­æŸäº›å…³é”®ç¯èŠ‚ï¼Œé’ˆå¯¹TCPå±‚æ•°æ®æµé‡è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œå¹¶ä¿è¯æœåŠ¡çš„é«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æŠ€æœ¯é€‰å‹ï¼šHAProxy + Keepalivedï¼Œè¿™å¯¹ç»„åˆæ¯”è¾ƒå¸¸è§æˆç†Ÿã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œç”±äºHAProxyçš„è´Ÿè½½å‡è¡¡ä»»åŠ¡å¯èƒ½æ¯”è¾ƒå¤šï¼Œé äººå·¥ä¿®æ”¹é…ç½®æ¥å¢åˆ æ”¹ä»»åŠ¡ä¸æ–¹ä¾¿å¯é ï¼Œæ‰€ä»¥å®ç°äº†ä¸€ä¸ªç®€å•çš„HAProxyç®¡ç†ç³»ç»Ÿï¼Œ
ä»¥åç»å®é™…ä½¿ç”¨éªŒè¯å’Œå®Œå–„ä¼šå¼€æ”¾æºç ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="high availability load balancer" src="/assets/uploads/pics/high-availability-load-balancer.png"&gt;&lt;/p&gt;
&lt;h3&gt;ç¼“å­˜DNS&lt;/h3&gt;
&lt;p&gt;å…ˆä»¥www.qq.comä¸ºä¾‹ï¼Œè§£é‡Šä¸€ä¸‹åŸŸåè§£æè¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="resolve qq.com" src="/assets/uploads/pics/resolve-qq-com.jpg"&gt;&lt;/p&gt;
&lt;p&gt;1.
ç”¨æˆ·å‘Local DNSå‘èµ·www.qq.com.æŸ¥è¯¢è¯·æ±‚ï¼›&lt;/p&gt;
&lt;p&gt;2.
Local DNSå‘æ ¹æœåŠ¡å™¨å‘èµ·com.æŸ¥è¯¢è¯·æ±‚ï¼›&lt;/p&gt;
&lt;p&gt;3.
æ ¹æœåŠ¡å™¨å‘Local DNSè¿”å›com.è§£æè®°å½•ï¼›&lt;/p&gt;
&lt;p&gt;4.
Local DNSå‘com.æƒå¨æœåŠ¡å™¨å‘èµ·qq.com.æŸ¥è¯¢è¯·æ±‚ï¼›&lt;/p&gt;
&lt;p&gt;5.
com.æƒå¨æœåŠ¡å™¨å‘Local DNSè¿”å›qq.com.è§£æè®°å½•ï¼›&lt;/p&gt;
&lt;p&gt;6.
Local DNSå‘qq.com.æƒå¨æœåŠ¡å™¨å‘èµ·www.qq.com.æŸ¥è¯¢è¯·æ±‚ï¼›&lt;/p&gt;
&lt;p&gt;7.
qq.com.æƒå¨æœåŠ¡å™¨å‘Local DNSè¿”å›www.qq.com.è§£æè®°å½•ï¼›&lt;/p&gt;
&lt;p&gt;8.
Local DNSå‘ç”¨æˆ·è¿”å›www.qq.comè§£æè®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;Local DNSä¸€èˆ¬ç”±ç½‘ç»œè¿è¥å•†ï¼ˆå¦‚ç”µä¿¡ã€ç½‘é€šç­‰ï¼‰æä¾›ã€‚&lt;/p&gt;
&lt;p&gt;ç¼“å­˜DNSå¤„äºç”¨æˆ·ç«¯ï¼ˆè¿™æ˜¯ä¸€ä¸ªç›¸å¯¹çš„æ¦‚å¿µï¼‰ä¸local DNSä¹‹é—´ï¼Œåˆ©ç”¨DNSæœåŠ¡å™¨è½¯ä»¶çš„ç¼“å­˜åŠŸèƒ½ä»¥åŠç¼“å­˜DNSä¸ç”¨æˆ·ç«¯çš„è¿‘è·ç¦»ç‰¹ç‚¹æ¥åŠ é€ŸåŸŸåè§£æã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨ç¼“å­˜DNSä¸ŠæŒ‰éœ€æ±‚è¿›è¡ŒåŸŸååŠ«æŒã€‚è¿è¥å•†ä¸ºäº†ç‰Ÿåˆ©ï¼Œä¹Ÿä¼šåœ¨local DNSä¸Šè¿›è¡ŒåŸŸååŠ«æŒï¼Œè¿™å¯¹äºå„å¤§äº’è”ç½‘å…¬å¸å¯¹å¤–æä¾›çš„æœåŠ¡æ¥è¯´æ˜¯ä¸ªå¾ˆå¤§çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;åœ¨å®Œæˆè¯¥å·¥ä½œåï¼Œæˆ‘ç¼–å†™äº†ä¸€ä»½å®‰è£…é…ç½®æ–‡æ¡£ï¼Œæ–¹ä¾¿å…¶ä»–åŒäº‹å‚è€ƒã€‚æ–‡æ¡£è§ï¼š
&lt;a href="/assets/uploads/files/high-availability-load-balancer-and-dns.pdf"&gt;HAProxy+HAProxyConsole+Keepalived+BINDå®‰è£…é…ç½®æ–‡æ¡£.pdf&lt;/a&gt;ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="é«˜å¯ç”¨"></category><category term="è´Ÿè½½å‡è¡¡"></category><category term="HAProxy"></category><category term="Keepalived"></category><category term="HAProxyConsole"></category><category term="DNS"></category><category term="BIND"></category></entry><entry><title>è¿è¥å¼€å‘è§„èŒƒåŒ–</title><link href="http://youngsterxyf.github.io/2013/10/15/standardization-operation-development/" rel="alternate"></link><published>2013-10-15T00:00:00+08:00</published><updated>2013-10-15T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-10-15:/2013/10/15/standardization-operation-development/</id><summary type="html">&lt;p&gt;ä»Šå¹´3æœˆåº•æ¯•ä¸šï¼Œå…¥èŒè…¾è®¯åšè¿è¥å¼€å‘ï¼Œè‡³ä»Š6ä¸ªæœˆæœ‰ä½™ã€‚å…¥èŒä¹‹æ—¶ç»„å†…ä»…æœ‰1ä¸ªè¿è¥å¼€å‘çš„åŒäº‹ï¼Œåˆ°ç›®å‰å·²æ‰©å……åˆ°5äººï¼ŒåŠ 3ä¸ªå®ä¹ ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;å…¥èŒä¹‹æ—¶çš„è¿è¥å¼€å‘è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ â€¦&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;ä»Šå¹´3æœˆåº•æ¯•ä¸šï¼Œå…¥èŒè…¾è®¯åšè¿è¥å¼€å‘ï¼Œè‡³ä»Š6ä¸ªæœˆæœ‰ä½™ã€‚å…¥èŒä¹‹æ—¶ç»„å†…ä»…æœ‰1ä¸ªè¿è¥å¼€å‘çš„åŒäº‹ï¼Œåˆ°ç›®å‰å·²æ‰©å……åˆ°5äººï¼ŒåŠ 3ä¸ªå®ä¹ ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;å…¥èŒä¹‹æ—¶çš„è¿è¥å¼€å‘è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨åŠå…¬æœºå™¨ï¼ˆWindowsï¼‰ä¸Šç¼–å†™ä»£ç ï¼ŒåŠŸèƒ½æµ‹è¯•é€šè¿‡åï¼Œ&lt;/li&gt;
&lt;li&gt;sshè¿œç¨‹è¿æ¥åˆ°ç”Ÿäº§æœåŠ¡å™¨ï¼ˆLinuxï¼‰ï¼Œvimæ‰“å¼€ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¤åˆ¶åŠå…¬æœºå™¨ä¸Šçš„ä»£ç ï¼Œç²˜è´´åˆ°vimä¸­ï¼Œä¿å­˜ï¼Œ&lt;/li&gt;
&lt;li&gt;æ‰“å¼€æµè§ˆå™¨æµ‹è¯•ä¸Šçº¿çš„åŠŸèƒ½/æ•ˆæœæ˜¯å¦æ­£ç¡®ï¼Œè‹¥ä¸æ­£ç¡®ï¼Œ&lt;/li&gt;
&lt;li&gt;ç›´æ¥åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šç¼–è¾‘ä»£ç æ–‡ä»¶ï¼Œç›´åˆ°è¾¾åˆ°éœ€è¦çš„åŠŸèƒ½æ•ˆæœï¼Œ&lt;/li&gt;
&lt;li&gt;å†ä»ç”Ÿäº§æœåŠ¡å™¨ä¸Šå°†ä¿®æ”¹åçš„ä»£ç å¤åˆ¶ç²˜è´´åˆ°åŠå…¬æœºå™¨ï¼ˆä¹Ÿè®¸ä¸ä¼šæœ‰è¿™ä¸€æ­¥ï¼Œä¹‹åæ‰€æœ‰çš„ä¿®æ”¹éƒ½ç›´æ¥åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šæ“ä½œï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹å­˜åœ¨å¦‚ä¸‹é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»£ç æ²¡æœ‰ç‰ˆæœ¬æ§åˆ¶&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰ä¸ç”Ÿäº§æœåŠ¡å™¨ä¸€è‡´çš„æµ‹è¯•ç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;ä»£ç éƒ¨ç½²è¿‡ç¨‹ç¹ç&lt;/li&gt;
&lt;li&gt;åŠå…¬å¼€å‘æœºå™¨ä¸Šä»£ç å¾ˆå¯èƒ½æ¯”ç”Ÿäº§æœåŠ¡å™¨ä¸Šä»£ç è¿˜æ—§&lt;/li&gt;
&lt;li&gt;ä¸Šé¢4ç‚¹éƒ½ä¼šå¯¼è‡´æ··ä¹±&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œå½“å›¢é˜Ÿä»1äººæ‰©å……åˆ°å¤šäººåï¼Œä¸å¯é¿å…åœ°ä¼šé‡åˆ°åä½œçš„é—®é¢˜ï¼Œè§£å†³ä»£ç å¼€å‘åä½œé—®é¢˜ä¸€èˆ¬æ¶‰åŠå¦‚ä¸‹å‡ æ–¹é¢ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨ä»£ç ç‰ˆæœ¬æ§åˆ¶&lt;/li&gt;
&lt;li&gt;è§„å®šç‰ˆæœ¬æ§åˆ¶çš„å·¥ä½œæµ&lt;/li&gt;
&lt;li&gt;ç¼–ç è§„èŒƒ&lt;/li&gt;
&lt;li&gt;é¡¹ç›®/ä»£ç æ–‡æ¡£&lt;/li&gt;
&lt;li&gt;å®šæœŸcode review&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘é™†ç»­åœ°åšäº†å¦‚ä¸‹å·¥ä½œï¼š&lt;/p&gt;
&lt;h3&gt;æ­å»ºGitlabæœåŠ¡å™¨ã€æµ‹è¯•æœåŠ¡å™¨&lt;/h3&gt;
&lt;p&gt;ä¸ªäººè®¤ä¸ºå¼€å‘å·¥ä½œè§„èŒƒåŒ–çš„ç¬¬ä¸€ç‚¹å°±æ˜¯ç‰ˆæœ¬æ§åˆ¶ï¼ŒåŸºäºç‰ˆæœ¬æ§åˆ¶å¯ä»¥å®Œæˆå¾ˆå¤šè‡ªåŠ¨åŒ–çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å¹³æ—¶ä¸ªäººçš„ä»£ç ã€æ–‡æ¡£éƒ½é€šè¿‡Gitç‰ˆæœ¬æ§åˆ¶å­˜æ”¾åœ¨Githubä¸Šï¼Œæ‰€ä»¥é€‰æ‹©Gitlabæ¥è‡ªå»ºç±»Githubå¹³å°ï¼ŒæœåŠ¡å™¨çš„æ­å»ºè¿‡ç¨‹è§ï¼š &lt;a href="http://youngsterxyf.github.io/2013/06/18/setup-testing-server/"&gt;æ­å»ºæµ‹è¯•æœåŠ¡å™¨(æºç ç¼–è¯‘æ–¹å¼)&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æµ‹è¯•æœåŠ¡å™¨å’ŒGitlabæœåŠ¡å™¨æ˜¯åŒä¸€å°æœºå™¨ï¼Œåœ¨GitæœåŠ¡å™¨ç«¯æŸä¸ªç‰ˆæœ¬åº“çš„hooksç›®å½•ä¸‹æ·»åŠ post-receive hookè„šæœ¬ï¼Œå½“æœ‰ä»£ç æäº¤æ—¶ï¼Œè§¦å‘æ‰§è¡Œè¯¥è„šæœ¬ï¼Œè„šæœ¬ä¼šå°†è¯¥ç‰ˆæœ¬åº“å„ä¸ªåˆ†æ”¯çš„ä»£ç æ›´æ–°åˆ°ç‰¹å®šç›®å½•ä¸­ï¼Œ
ç„¶åä»¥æ¯ä¸ªç›®å½•ä¸ºrootæ·»åŠ Nginxè™šæ‹Ÿä¸»æœºé…ç½®ã€‚è¿™æ ·æ¯æ¬¡ä»£ç æäº¤åï¼Œå°±å¯ä»¥ç›´æ¥æ‰“å¼€æµè§ˆå™¨æŸ¥çœ‹æ•ˆæœäº†ã€‚hookè„šæœ¬ä»£ç è§ï¼š&lt;a href="https://gist.github.com/youngsterxyf/6988132"&gt;post-receive.py&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥hookè„šæœ¬çš„å®ç°æ¯”è¾ƒæš´åŠ›---ä»»ä½•ä»£ç æäº¤éƒ½ä¼šæ£€æŸ¥ç­¾å‡ºæ‰€æœ‰åˆ†æ”¯ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰ä¸ºæ­¢ï¼ŒGitlabå¹³å°å·²å¾—åˆ°è¾ƒå¥½çš„ä½¿ç”¨ï¼Œä½†ç”±äºæ‰€è¦å¼€å‘çš„è¿è¥å¹³å°æ¶‰åŠåˆ°ä¸€äº›ç›‘æ§æ•°æ®APIé—®é¢˜ï¼Œå¾ˆéš¾æœ‰æ•ˆåœ°ä½¿ç”¨æµ‹è¯•æœåŠ¡å™¨ï¼Œæ‰€ä»¥æµ‹è¯•æœåŠ¡å™¨ä¸€ç›´æ²¡æœ‰æ­£å¼ä½¿ç”¨èµ·æ¥ã€‚&lt;/p&gt;
&lt;h3&gt;é€‰æ‹©ä¸€ç§Gitå·¥ä½œæµ&lt;/h3&gt;
&lt;p&gt;è‹¥æ˜¯å•ä¸ªä½¿ç”¨Gitï¼Œé‚£ä¹ˆGitçš„å·¥ä½œæµåŸºæœ¬ä¸Šå°±æ˜¯ï¼š&lt;code&gt;git status&lt;/code&gt;ï¼Œ&lt;code&gt;git add xxx&lt;/code&gt;ï¼Œ &lt;code&gt;git commit -m "xxx"&lt;/code&gt;ï¼Œ&lt;code&gt;git pull&lt;/code&gt;ï¼Œ&lt;code&gt;git push origin master&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ¶‰åŠå¤šäººåä½œæ—¶ï¼Œä¸ºäº†å‡å°‘æ‰‹åŠ¨åˆå¹¶ä»£ç çš„å·¥ä½œé‡ä»¥åŠå°½å¯èƒ½é¿å…æ±¡æŸ“Gitè¿œç¨‹æœåŠ¡å™¨ç‰ˆæœ¬ä¿¡æ¯ï¼ŒGitå·¥ä½œæµå°±è¦å¤æ‚ä¸€äº›ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„Gitå·¥ä½œæµå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="our-git-workflow" src="/assets/uploads/pics/git-workflow.png"&gt;&lt;/p&gt;
&lt;p&gt;Gitè¿œç¨‹æœåŠ¡å™¨ç«¯å’ŒåŠå…¬æœºç«¯ç‰ˆæœ¬åº“éƒ½ä¿æŒä¸¤ä¸ªå…±äº«åˆ†æ”¯ï¼šmasterå’Œdevelopã€‚masteråˆ†æ”¯æ˜¯ç¨³å®šåˆ†æ”¯ï¼Œå…¶æœ€æ–°ä»£ç ä¸ç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„ä»£ç ä¸€è‡´ã€‚developæ˜¯æµ‹è¯•åˆ†æ”¯ã€‚&lt;/p&gt;
&lt;p&gt;å¼€å‘äººå‘˜å¼€å‘æ–°åŠŸèƒ½æˆ–fix bugæ—¶ï¼Œå…ˆåœ¨æœ¬åœ°æœºå™¨ä»masteråˆ†æ”¯åˆ›å»ºä¸€ä¸ªéå…±äº«åˆ†æ”¯xxxï¼Œåœ¨xxxåˆ†æ”¯ä¸­ç¼–å†™ä»£ç ï¼›éœ€è¦åœ¨æµ‹è¯•æœåŠ¡å™¨æµ‹è¯•ä»£ç æ—¶ï¼Œå°†xxxåˆ†æ”¯åˆå¹¶å…¥developåˆ†æ”¯ï¼Œå°†developåˆ†æ”¯pushåˆ°è¿œç¨‹æœåŠ¡å™¨ï¼›
ç»æµ‹è¯•åï¼Œç¡®å®šéœ€è¦ä¸Šçº¿ç”Ÿäº§æœåŠ¡å™¨ï¼Œåˆ™å°†xxxåˆ†æ”¯åˆå¹¶å…¥masteråˆ†æ”¯ï¼Œå¹¶pushè¿œç¨‹æœåŠ¡å™¨ï¼Œç”Ÿäº§æœåŠ¡å™¨ä»masteråˆ†æ”¯pullä»£ç è¿›è¡Œéƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§å·¥ä½œæµèƒ½é¿å…â€œå…ˆæäº¤çš„ä»£ç åä¸Šçº¿â€è€Œå¯¼è‡´çš„ç‰ˆæœ¬å›æ»šé—®é¢˜ã€‚&lt;/p&gt;
&lt;h3&gt;ç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„ä»£ç è¿å…¥ç‰ˆæœ¬æ§åˆ¶&lt;/h3&gt;
&lt;p&gt;è¿™é¡¹å·¥ä½œè™½ç„¶å·¥ä½œé‡ä¸å¤§ï¼Œå´å€¼å¾—ä¸€æã€‚å› ä¸ºä¸èƒ½å½±å“æ­£å¸¸çš„æœåŠ¡ï¼Œä¹Ÿä¸èƒ½å¯¼è‡´ä»»ä½•æ–‡ä»¶çš„ä¸¢å¤±æŸåï¼Œæ‰€ä»¥åº”è¯¥æ…ä¹‹åˆæ…ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘é€‰æ‹©å‘¨æœ«åœ¨å…¬å¸å®Œæˆè¯¥å·¥ä½œï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨Gitlabä¸Šæ–°å»ºä¸€ä¸ªç‰ˆæœ¬åº“ï¼Œå¦‚&lt;em&gt;xxx&lt;/em&gt;ï¼›&lt;/li&gt;
&lt;li&gt;å°†ç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„ä»£ç æ‰“åŒ…å¤‡ä»½ä¸€ä¸‹ï¼›&lt;/li&gt;
&lt;li&gt;è¿›å…¥ä»£ç æ ¹ç›®å½•ï¼Œæ‰§è¡Œ&lt;code&gt;git init&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºç¼–å†™.gitignoreæ–‡ä»¶ï¼Œå› ä¸ºä¸€äº›éä»£ç æ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡ã€è§†é¢‘ç­‰ï¼Œæ˜¯ä¸éœ€è¦è¿›å…¥ç‰ˆæœ¬æ§åˆ¶çš„ï¼Œåº”å‘Šè¯‰gitå¿½ç•¥ã€‚æ³¨æ„ï¼šå·²è¿›å…¥ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ï¼Œå³ä½¿åœ¨.gitignoreé‡Œåˆ—å‡ºï¼Œgitä¹Ÿä¸ä¼šå¿½ç•¥çš„ã€‚
ç”±äºæ–‡ä»¶æ¯”è¾ƒå¤šï¼Œç›®å½•ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥å¯èƒ½å¾ˆéš¾ä¸€æ¬¡æ€§æ‰¾åˆ°æ‰€æœ‰éœ€è¦è¿‡æ»¤çš„æ–‡ä»¶ï¼Œå¯ä»¥å…ˆ&lt;code&gt;git add *&lt;/code&gt;ï¼Œç„¶åé€šè¿‡&lt;code&gt;git status&lt;/code&gt;æ¥æŸ¥çœ‹å“ªäº›æ–‡ä»¶å·²è¢«åŠ å…¥æš‚å­˜åŒºï¼Œå¦‚æœæœ‰éœ€è¦è¿‡æ»¤çš„æ–‡ä»¶è¢«åŠ å…¥äº†æš‚å­˜åŒºï¼Œåˆ™æ‰§è¡Œ&lt;code&gt;git reset&lt;/code&gt;å–æ¶ˆ
æš‚å­˜åŒºå†…å®¹ï¼Œå†æ¬¡ç¼–è¾‘.gitignoreï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¡®è®¤éœ€è¦è¿‡æ»¤çš„æ–‡ä»¶éƒ½èƒ½è¢«.gitignoreä¸­çš„å†…å®¹åŒ¹é…åæ‰§è¡Œ&lt;code&gt;git add * &amp;amp;&amp;amp; git commit -m "init"&lt;/code&gt;ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†æœ¬åœ°çš„gitç‰ˆæœ¬åº“ä¸GitlabæœåŠ¡å™¨ç«¯çš„gitç‰ˆæœ¬åº“å…³è”èµ·æ¥ã€‚å‡è®¾GitlabæœåŠ¡å™¨ç«¯ç‰ˆæœ¬åº“çš„httpé“¾æ¥ä¸º&lt;em&gt;http://gitlab.server.com/xxx.git&lt;/em&gt;ï¼Œæ‰§è¡Œ&lt;code&gt;git remote add origin http://gitlab.server.com/xxx.git&lt;/code&gt;ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†æœ¬åœ°ç‰ˆæœ¬åº“ä»£ç æ¨é€åˆ°è¿œç¨‹GitlabæœåŠ¡å™¨ç«¯ã€‚æ‰§è¡Œ&lt;code&gt;git push origin master&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ ·ï¼Œç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„ä»£ç å°±è¿å…¥ç‰ˆæœ¬æ§åˆ¶äº†ï¼Œä¹‹åä»£ç éƒ¨ç½²ï¼Œåªéœ€ä»Gitè¿œç¨‹æœåŠ¡å™¨æ‹‰å–ï¼ˆpullï¼‰ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç éƒ¨ç½²è¿‡ç¨‹ï¼ŒåŸæœ¬ä¹Ÿæƒ³é€šè¿‡hookæ–¹å¼---åœ¨ä»£ç æäº¤è¿›å…¥masteråˆ†æ”¯æ—¶ï¼Œè§¦å‘hookè„šæœ¬ï¼Œå°†masteråˆ†æ”¯æœ€æ–°çš„ä»£ç æ‹‰å–åˆ°ç”Ÿäº§æœåŠ¡å™¨ä¸Šï¼Œä½†ä¸€æ–¹é¢ç”±äºç½‘ç»œè®¾å®š---æµ‹è¯•æœåŠ¡å™¨ä¸èƒ½ä¸»åŠ¨è¿æ¥ç”Ÿäº§æœåŠ¡å™¨ï¼Œ
å¦ä¸€æ–¹é¢è°¨æ…èµ·è§ï¼Œæ²¡æœ‰é‡‡ç”¨è¿™ç§è‡ªåŠ¨æ–¹å¼ã€‚åœ¨ä»£ç æäº¤åˆ°GitlabæœåŠ¡å™¨ç«¯åï¼Œéœ€è¦ç™»å½•åˆ°ç”Ÿäº§æœåŠ¡å™¨æ‰§è¡Œ&lt;code&gt;git pull&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h3&gt;é¡¹ç›®/ä»£ç æ–‡æ¡£&lt;/h3&gt;
&lt;p&gt;å…¥èŒä¸€æ®µæ—¶é—´åï¼Œè™½ç„¶ä¸ºè¿è¥å¹³å°å†™äº†å‡ ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œä½†å¯¹äºä¸è¿™å‡ ä¸ªæ¨¡å—å…³è”çš„å…¶ä»–æ¨¡å—çš„å®ç°é€»è¾‘å¹¶ä¸æ¸…æ¥šã€‚å¯¹äºéæˆ‘å®ç°çš„æ¨¡å—å…·ä½“è¦è§£å†³çš„é—®é¢˜ã€ä»¥åŠå„ä¸ªæ¨¡å—çš„æ•°æ®æ¥æºç­‰ä¹Ÿä¸æ¸…æ¥šï¼Œä¹Ÿæ²¡æœ‰æ–‡æ¡£å¯æŸ¥é˜…ï¼Œæ‰€ä»¥ç€æ‰‹å†™ä¸€ä»½ä»£ç æ–‡æ¡£---&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¯´æ˜å„ä¸ªåŠŸèƒ½æ¨¡å—è§£å†³çš„é—®é¢˜ã€å®ç°é€»è¾‘ã€APIã€ç›¸å…³cronè„šæœ¬ã€æ•°æ®è¡¨ï¼›&lt;/li&gt;
&lt;li&gt;è¯´æ˜è¿è¥å¹³å°çš„è¯·æ±‚å¤„ç†è¿‡ç¨‹ã€ç”¨æˆ·èº«ä»½è®¤è¯æ–¹å¼ï¼›&lt;/li&gt;
&lt;li&gt;å‰ç«¯é¡µé¢çš„æ„æˆï¼ˆå› ä¸ºè¯¥è¿è¥å¹³å°æ‰€æœ‰é¡µé¢ç»Ÿä¸€ä½¿ç”¨ä¸€ç§iframeç»„åˆçš„ç»“æ„ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;æŒ‡å‡ºä»£ç ä¸­ä¸€äº›éšè—çš„bugã€ä»£ç ä¸­çš„â€œåå‘³é“â€ï¼Œå¹¶é’ˆå¯¹ä»£ç å­˜åœ¨çš„é—®é¢˜ï¼Œæå‡ºä¸€äº›ç¼–ç¨‹å»ºè®®ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹äºå‰ç«¯é¡µé¢HTMLã€CSSã€JSï¼Œæˆ‘æ²¡æœ‰è¿‡å¤šçº ç»“ã€‚æˆ‘ä»¬å‰ç«¯æ–¹é¢çš„æŠ€èƒ½ä¸å’‹åœ°ï¼Œå‰ç«¯å®ç°ä¾èµ–äºBootStrapã€jQueryç­‰å¼€æºä»£ç åº“ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é¡¹å·¥ä½œèŠ±è´¹çš„è¾ƒå¤šæ—¶é—´ï¼Œå¯¼è‡´åˆ°åæ¥æœ‰ç‚¹èµ¶å·¥ä½œï¼Œæ–‡æ¡£ä¹Ÿå†™å¾—æ¯”è¾ƒç²—ç³™ã€‚ç°åœ¨æ¥çœ‹ï¼Œè¿™ä»½æ–‡æ¡£å†™å¾—å¾ˆä¸å¥½ï¼Œåªæœ‰æ–‡å­—å™è¿°ï¼Œæ²¡æœ‰å›¾è¡¨ï¼Œæ¯”è¾ƒæ¯ç‡¥ï¼Œå½“ç„¶éƒ¨åˆ†åŸå› ä¹Ÿæ˜¯è¯¥è¿è¥å¹³å°æ²¡æœ‰é‡‡ç”¨ä¸€ä¸ªå®Œæ•´çš„æ¡†æ¶ï¼Œå„ä¸ªæ¨¡å—é€šè¿‡å‰ç«¯é¡µé¢æ‹¼å‡‘èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥æ–‡æ¡£ä¸­æå‡ºçš„ä¸€äº›ç¼–ç¨‹å»ºè®®å´æœ‰ä¸€äº›å¯å–ä¹‹å¤„ï¼š&lt;/p&gt;
&lt;p&gt;1.
&lt;strong&gt;ä»£ç ä¸Šçº¿ä¹‹å‰ï¼ŒåŠ¡å¿…å…ˆåˆ é™¤è°ƒè¯•è¯­å¥&lt;/strong&gt;ï¼Œæ¯”å¦‚&lt;code&gt;common.php&lt;/code&gt;ä¸­çš„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;file_put_contents(&amp;#39;/tmp/cron_test_ip.txt&amp;#39;, print_r($ip, true));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è°ƒè¯•è¯­å¥å¯¹äºæ­£å¼ä¸Šçº¿çš„ä»£ç æ¥è¯´æ˜¯å¤šä½™çš„ï¼Œä¼šå½±å“åº”ç”¨çš„æ€§èƒ½ï¼Œä¹Ÿå¯èƒ½å¸¦æ¥å®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;2.
&lt;strong&gt;æ¸…æ¥šåœ°ç†è§£ä½ å†™ä¸‹çš„æ¯è¡Œä»£ç ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºéå‡½æ•°å¼è¯­è¨€æ¥è¯´ï¼Œæ¯è¡Œä»£ç éƒ½å¯èƒ½æœ‰ä¸€äº›â€œå‰¯ä½œç”¨â€ï¼Œå¦‚æœä½ æ²¡æœ‰ç†è§£å¥½ä½ å†™çš„ä»£ç ï¼Œå°±å¯èƒ½å¸¦æ¥ä½ æ— æ³•é¢„æ–™çš„åæœï¼Œä¹Ÿä¼šèŠ±è´¹ä½ å¤§é‡è°ƒè¯•æ—¶é—´ï¼Œæ‰€ä»¥ä¸è¦è½»æ˜“ä½¿ç”¨ä½ è¿˜ä¸æ˜¯å¾ˆç†è§£çš„å‡½æ•°ã€ç±»ä»¥åŠè¯­è¨€ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;3.
&lt;strong&gt;ä¸€ä»½ä»£ç â€œå†™ä¸‰éâ€ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç¼–ç¨‹æ˜¯ä¸€ä¸ªå°†å¤§è„‘ä¸­çš„æƒ³æ³•è½¬åŒ–ä¸ºå¯æ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹ï¼Œå¦‚æœæƒ³æ³•è¿˜ä¸æ¸…æ¥šï¼Œä¹Ÿå°±ä¸å¯èƒ½å†™å‡ºæ­£ç¡®çš„ç¨‹åºï¼Œå³ä½¿å†™å‡ºçš„ç¨‹åºå¯æ‰§è¡Œï¼Œä¹Ÿå¯èƒ½ä¼šå­˜åœ¨é€»è¾‘ä¸Šçš„æ¼æ´ï¼Œæˆä¸ºéšè—çš„bugã€‚å†™ç¨‹åºä¹Ÿå¹¶ä¸æ˜¯ä¸€æ°”å‘µæˆçš„ï¼Œè€Œæ˜¯ä¸€ä¸ªåå¤ç¼–å†™è°ƒè¯•çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹éå¸¸å…³æ³¨ç»†èŠ‚ï¼Œå¯èƒ½å¯¼è‡´ä½ æ— æ³•ä»æ•´ä½“ä¸ŠæŠŠæ¡ç¨‹åºçš„ç»“æ„ã€æ€§èƒ½ç­‰é—®é¢˜ï¼Œæ‰€ä»¥åœ¨å†™å®Œä¸€ä¸ªç¨‹åºï¼Œç¨‹åºä¹Ÿèƒ½æ‰§è¡Œäº†ï¼Œä½ è¿˜å¾—é‡æ–°é˜…è¯»æ€è€ƒä¸€éä½ å†™çš„ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€éï¼šä»”ç»†æ€è€ƒè¦ç”¨ç¨‹åºæ¥å®ç°çš„ä»»åŠ¡é€»è¾‘ï¼Œé¿å…é€»è¾‘é”™è¯¯ã€æ¼æ´ï¼›&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒéï¼šç¼–å†™ç¨‹åºï¼Œæ—¨åœ¨å®ç°ä¸€ä¸ªå¯æ‰§è¡Œçš„ç¨‹åºï¼›&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰éï¼šé‡æ–°å®Œæ•´åœ°é˜…è¯»ä¸€éç¨‹åºï¼Œå»é™¤ä¸å¿…è¦çš„è¯­å¥ï¼Œä¼˜åŒ–ä»£ç ç»“æ„ï¼Œæé«˜ç¨‹åºæ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;4.
&lt;strong&gt;æ°å½“å¤„ç†cronè„šæœ¬/APIæ–‡ä»¶ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åº”å°†cronè„šæœ¬/APIæ–‡ä»¶æ”¾åœ¨æ°å½“çš„ç›®å½•ä¸‹ï¼Œåœ¨cronè„šæœ¬/APIæ–‡ä»¶æ•°ç›®è¾ƒå¤šæ—¶ï¼Œåº”ä½¿ç”¨è¾ƒä¸ºç»†åˆ†çš„ç›®å½•ç»“æ„å¯¹cronè„šæœ¬/APIæ–‡ä»¶è¿›è¡Œå½’ç±»ã€‚å¦å¤–ï¼Œåº”åŠæ—¶æ¸…é™¤å¼ƒç”¨çš„ä»£ç æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;5.
&lt;strong&gt;å‰ç«¯é¡µé¢ä»£ç å°½å¯èƒ½åˆ†ç¦»HTMLã€CSSã€JSã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŠ¡å¿…ä¸è¦å†…è”å¼•ç”¨CSSï¼Œå³ä¸è¦é€šè¿‡ä½¿ç”¨HTMLæ ‡ç­¾çš„styleå±æ€§æ¥ä¸ºæ ‡ç­¾æ·»åŠ CSSæ•ˆæœï¼Œå› ä¸ºè¿™ä¼šé€ æˆå¤§é‡çš„å†—ä½™ä»£ç ï¼Œå¹¶ä¸”å½±å“äº†HTMLä»£ç çš„ç®€æ´ã€‚&lt;/p&gt;
&lt;p&gt;æœ€å¥½æ˜¯å°†HTMLã€CSSã€JSä»£ç åˆ†ç¦»æˆä¸åŒçš„æ–‡ä»¶ï¼Œå³ä½¿ç”¨å¤–éƒ¨å¼•ç”¨JSã€CSSã€‚ä¼˜ç‚¹æœ‰3ï¼š1)æé«˜HTMLã€JSã€CSSä»£ç å„è‡ªçš„ç®€æ´æ˜“è¯»æ€§ï¼›2)èƒ½å¤Ÿåœ¨å¤šä¸ªé¡µé¢ï¼ˆç”šè‡³æ•´ä¸ªç½‘ç«™ï¼‰ä¹‹é—´å…±äº«JSã€CSSï¼Œæé«˜ä»£ç å¤ç”¨ï¼Œå‡è½»ä»£ç æ›´æ–°çš„å·¥ä½œé‡ï¼Œæé«˜ç½‘ç«™é£æ ¼çš„ä¸€è‡´æ€§ï¼›3)æ–¹ä¾¿ç½‘ç«™å†…å®¹åŠ¨é™åˆ†ç¦»ï¼Œåˆ†åˆ«å¯¹JSã€CSSä»£ç è¿›è¡Œå‹ç¼©å¤„ç†ï¼Œä¹Ÿèƒ½ä½¿ç”¨CDNæ¥åŠ é€Ÿè¯·æ±‚å“åº”ã€‚&lt;/p&gt;
&lt;p&gt;é€€ä¸€æ­¥ï¼Œä¹Ÿå¯ä»¥åœ¨HTMLçš„&lt;code&gt;&amp;lt;style&amp;gt;&lt;/code&gt;ã€&lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt;æ ‡ç­¾ä¸­ç¼–å†™CSSã€JSä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;6.
&lt;strong&gt;DRYï¼ˆDon't Repeat Yourselfï¼‰ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸è¦å¤åˆ¶ç²˜è´´ä»£ç ã€‚åœ¨å‘ç°ç›¸åŒä»£ç åœ¨ä¸åŒåœ°æ–¹å‡ºç°ä¸¤æ¬¡ä»¥ä¸Šæ—¶ï¼Œå°±åº”ä½¿ç”¨å‡½æ•°ã€ç±»ã€å…¬å…±æ–‡ä»¶ç­‰æ–¹å¼æ¥é¿å…é‡å¤ä»£ç çš„å‡ºç°ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œä¹Ÿä¸ºæœªæ¥æ›´æ–°ä»£ç å‡å°‘å·¥ä½œé‡ã€‚&lt;/p&gt;
&lt;p&gt;7.
&lt;strong&gt;å°½å¯èƒ½é¿å…ä½¿ç”¨ä¾èµ–ç‰¹å®šæ“ä½œç³»ç»Ÿã€æ–‡ä»¶ç³»ç»Ÿçš„æ“ä½œã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰å°½å¯èƒ½é¿å…é€šè¿‡ç»å¯¹è·¯å¾„å¼•å…¥æ–‡ä»¶ï¼Œå› ä¸ºå½“ä»£ç ä¸­å‡ºç°å¤§é‡ç»å¯¹è·¯å¾„æ—¶ï¼Œä»£ç è¿ç§»æˆ–å˜æ›´çš„å·¥ä½œé‡å°±ä¼šå¤§å¾—å¤šï¼Œè€Œä¸”å¯èƒ½ä¼šé—æ¼æ›´æ”¹ï¼Œä»è€Œå¯¼è‡´bugã€‚å¯ä»¥é€šè¿‡åœ¨ä¸€ä¸ªå…¬å…±æ–‡ä»¶ä¸­ä¸ºé¡¹ç›®æ ¹ç›®å½•å®šä¹‰å¸¸é‡ï¼Œåœ¨éœ€è¦æ—¶åŸºäºè¯¥å¸¸é‡æ¥å¼•å…¥æ–‡ä»¶ï¼Œä»£ç è¿ç§»æˆ–å˜æ›´æ—¶åªéœ€æ›´æ”¹è¯¥å˜é‡çš„å€¼å°±å¯ä»¥äº†ã€‚å¦å¤–ï¼Œå¦‚æœå¯è¡Œï¼Œåˆ™å°½å¯èƒ½ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰å°½å¯èƒ½é¿å…ç›´æ¥è°ƒç”¨æ“ä½œç³»ç»Ÿæä¾›çš„shellå‘½ä»¤æ¥å®Œæˆä»»åŠ¡ã€‚ä¸€æ–¹é¢æŸäº›ç‰¹æ®Šç¬¦å·å¯¹äºshellæ¥è¯´æ˜¯æœ‰ç‰¹æ®Šæ„ä¹‰çš„ï¼Œå¦‚æœå‚æ•°ä¸­å¸¦æœ‰è¿™äº›ç‰¹æ®Šç¬¦å·å°±éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼›å¦ä¸€æ–¹é¢å¯¹äºä»£ç çš„å¯ç§»æ¤æ€§æ¥è¯´ï¼Œç›´æ¥è°ƒç”¨shellå‘½ä»¤æ˜¯å¾ˆå¤§çš„é—®é¢˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç¼–ç¨‹è¯­è¨€éƒ½æœ‰ä¸€äº›åº“æ¥æ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿç­‰å¯¹è±¡çš„æ“ä½œï¼Œåº”å°½å¯èƒ½ä½¿ç”¨è¿™äº›åº“æ¥å®Œæˆä»»åŠ¡ã€‚&lt;/p&gt;
&lt;h3&gt;è§„èŒƒå®£å¯¼&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†æ¨è¡Œè§„èŒƒï¼Œéœ€è¦å’Œç»„å†…è¿è¥å¼€å‘åŒäº‹è¯´æ˜&lt;strong&gt;è§„èŒƒçš„å¿…è¦æ€§&lt;/strong&gt;ã€&lt;strong&gt;å¦‚ä½•æ‰§è¡Œè§„èŒƒï¼ˆå¦‚Gitçš„ä½¿ç”¨ã€Gitå·¥ä½œæµï¼‰&lt;/strong&gt;ã€&lt;strong&gt;å“ªäº›ä¸œè¥¿å¯ä»¥ä»ä»£ç æ–‡æ¡£ä¸­æŸ¥è¯¢&lt;/strong&gt;ç­‰ï¼Œæ‰€ä»¥ç®€å•äº†åšäº†ä¸ªåˆ†äº«ï¼Œpptè§ï¼š&lt;a href="/assets/uploads/files/s-o-p.pdf"&gt;è§„èŒƒåŒ–è¿è¥å¼€å‘&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3&gt;å¦‚ä½•æ¨è¡Œâ€œå®šæœŸcode reviewâ€&lt;/h3&gt;
&lt;p&gt;You know, i am a newcomerï¼Œåœ¨å·¥ä½œä¸­å¾ˆéš¾è®©åŒäº‹ä»¬å®šæœŸèŠ±ç‚¹æ—¶é—´åä¸‹æ¥reviewä»£ç ï¼Œsoï¼Œæˆ‘åªå¥½å®ç°ä¸€ä¸ªè‡ªåŠ¨åŒ–å·¥å…·---ä¸€ä¸ªcronè„šæœ¬ï¼Œæ¯å‘¨æ‰§è¡Œä¸€æ¬¡ï¼Œè·å–ä¸€å‘¨ä»¥æ¥çš„commitï¼Œä¸ºå…¶ä¸­æ¯ä¸ªcommitteréšæœºåˆ†é…å¦ä¸€ä¸ªcommitterä¸€å‘¨ä»¥æ¥çš„æ‰€æœ‰commitä½œä¸ºreviewä»»åŠ¡ï¼Œå°†ä»»åŠ¡ä¸­çš„commitåœ¨gitlabä¸Šçš„è¶…é“¾æ¥å‘é€åˆ°å„è‡ªçš„é‚®ç®±ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç è§ï¼š&lt;a href="https://gist.github.com/youngsterxyf/7002279"&gt;pack_git_commit.py&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç ä¸­å¯¼å…¥çš„TofApiæ˜¯æˆ‘å¯¹å…¬å¸æä¾›çš„ç»Ÿä¸€æ¶ˆæ¯å‘é€æ¥å£çš„Pythonå°è£…ã€‚&lt;/p&gt;
&lt;h3&gt;å¦‚ä½•æ¨è¡Œâ€œç¼–ç è§„èŒƒâ€&lt;/h3&gt;
&lt;p&gt;ä¸â€œå¦‚ä½•æ¨è¡Œâ€˜å®šæœŸcode reviewâ€™â€ä¸€æ ·ï¼Œæˆ‘ä¹Ÿæ˜¯ç¼–å†™äº†ä¸€ä¸ªè‡ªåŠ¨åŒ–å°å·¥å…·æ¥å¸®åŠ©æ¨è¡Œç¼–ç è§„èŒƒ---ä¸€ä¸ªcronè„šæœ¬ï¼Œå…ˆå®šåˆ¶git logå‘½ä»¤å‚æ•°ï¼Œè„šæœ¬ä¸­è°ƒç”¨è¯¥git logå‘½ä»¤ï¼Œè§£æå‡ºéœ€è¦çš„æ•°æ®ï¼Œå¯¹ä¸åŒç±»å‹çš„ä»£ç æ–‡ä»¶ä½¿ç”¨ä¸åŒçš„é™æ€åˆ†æç¨‹åºæ¥åˆ†ææ¯è¡Œä»£ç ä¸ç¬¦åˆç¼–ç é£æ ¼ä¹‹å¤„ï¼Œç„¶åå°†ç»“æœæäº¤åˆ°gitlabçš„ä¸€ä¸ªç‰¹å®šä»£ç åº“ä¸­ï¼Œå¹¶å°†ç»“æœçš„è¶…é“¾æ¥å‘é€åˆ°æ¯ä¸ªä»£ç æ–‡ä»¶ç›¸å…³äººå‘˜ï¼ˆå¯¹è¯¥æ–‡ä»¶åšè¿‡å¢åˆ çš„äººï¼‰çš„é‚®ç®±ï¼Œä»¥æä¾›ç¼–ç é£æ ¼æ”¹è¿›å‚è€ƒã€‚&lt;/p&gt;
&lt;p&gt;è¯¥å·¥å…·ç›®å‰æ”¯æŒjsã€phpã€pythonæ–‡ä»¶ä»£ç çš„åˆ†æï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;jsä»£ç çš„åˆ†ææ˜¯ä»¥Google JavaScript Style Guideä¸ºæ ‡å‡†ï¼Œå€ŸåŠ©Googleçš„closure_linterå·¥å…·è¿›è¡Œåˆ†æï¼ˆæˆ‘å¯¹è¯¥å·¥å…·çš„ä»£ç è¿›è¡Œäº†hackï¼Œä»¥æ”¯æŒè¿‡æ»¤æ­£åˆ™è¡¨è¾¾å¼æ–‡ä»¶åè¡¨ç¤ºçš„æ–‡ä»¶ï¼‰&lt;/li&gt;
&lt;li&gt;phpä»£ç çš„åˆ†ææ˜¯ä»¥Zend  Coding Standardsï¼ˆhttp://framework.zend.com/wiki/display/ZFDEV2/Coding+Standardsï¼‰ ä¸ºæ ‡å‡†ï¼Œå€ŸåŠ©phpcsè¿›è¡Œåˆ†æ&lt;/li&gt;
&lt;li&gt;pythonä»£ç çš„åˆ†ææ˜¯ä»¥PEP 8ä¸ºæ ‡å‡†ï¼Œå€ŸåŠ©flake8è¿›è¡Œåˆ†æ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸»ä»£ç è§ï¼š&lt;a href="https://gist.github.com/youngsterxyf/7002350"&gt;codelintset.go&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæœ€è¿‘å¯¹golangæ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œæ‰€ä»¥ä¸»ç¨‹åºä½¿ç”¨golangå®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ç ä¸­æ¶‰åŠçš„send_mail.pyä¹Ÿæ˜¯ä½¿ç”¨ä¸Šé¢æåˆ°çš„TofApiçš„ä¸€ä¸ªé‚®ä»¶å‘é€è„šæœ¬ï¼Œtemplate.tmplæ˜¯ä¸€ä¸ªgolangæ¨¡æ¿ï¼Œç”¨äºç”Ÿæˆé™æ€åˆ†æç»“æœï¼ŒåŒ…æ‹¬æºç ã€åˆ†æç»“æœã€ç›¸å…³äººå‘˜ä¸‰ä¸ªéƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç¨‹åºè¿˜æœ‰ç‚¹é—®é¢˜ --- gitåœ¨æ¯ä¸ªcommitä¸­ä¼šè®°å½•ä¸¤ä¸ªæ—¶é—´ï¼šauthor dateï¼ˆæ–‡ä»¶å¢åˆ æ”¹çš„æ—¶é—´ï¼‰å’Œcommitter dateï¼ˆcommitçš„æ—¶é—´ï¼‰ï¼Œä½†å¾ˆæœ‰å¯èƒ½æŸä¸ªå˜æ›´åœ¨commitåˆ°æœ¬åœ°ç‰ˆæœ¬åº“åï¼Œè¿‡äº†å¾ˆé•¿æ—¶é—´æ‰pushåˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚
è¯¥ç¨‹åºæ˜¯åœ¨gitlabæœåŠ¡å™¨ä¸Šæ¯å¤©æ‰§è¡Œä¸€æ¬¡ï¼Œå…¶ä¸­git logçš„å‚æ•°&lt;code&gt;--since&lt;/code&gt;æ˜¯å¯¹committer dateèµ·ä½œç”¨ã€‚å³ä½¿ä¸€å¤©ä¹‹å†…æœ‰æ–°commit pushåˆ°gitlabæœåŠ¡å™¨ï¼Œè¯¥ç¨‹åºæ‰§è¡Œå®šåˆ¶çš„git logå‘½ä»¤ï¼Œç»“æœä¹Ÿå¾ˆå¯èƒ½ä¸ºç©ºï¼Œå› ä¸ºæ˜¯commitä¸€å¤©ä¹‹åæ‰pushçš„ã€‚
æŸ¥äº†ä¸€ä¸‹gitlabçš„APIï¼Œå¥½åƒä¹Ÿæ²¡æ‰¾åˆ°commit pushçš„æ—¶é—´çš„APIï¼Œä¼°è®¡å¾—è‡ªå·±å»åˆ†ægitlabçš„æ•°æ®åº“ï¼Œç„¶åè¯»å–commit pushçš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2013-10-22 æ›´æ–°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;codelintset.go&lt;/em&gt;å·²æ›´æ–°ä¸º&lt;a href="https://gist.github.com/youngsterxyf/7093991"&gt;ç¬¬äºŒç‰ˆ&lt;/a&gt;ï¼Œé€šè¿‡è¯»å–gitlabæ•°æ®åº“ä¸­çš„ç›¸å…³æ•°æ®æ¥è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå¹¶å°†åŸæ¥éœ€è¦é…ç½®çš„å¸¸é‡å…¨éƒ¨æ”¾åˆ°jsonæ–‡ä»¶ï¼Œç¨‹åºè¿è¡Œæ—¶ä¼šè§£æè¯¥jsonæ–‡ä»¶ã€‚è¿™æ ·ï¼Œä¿®æ”¹é…ç½®ä¸éœ€è¦é‡æ–°ç¼–è¯‘æºç ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æœåŠ¡å™¨"></category><category term="Linux"></category><category term="Git"></category><category term="Golang"></category><category term="Python"></category></entry><entry><title>ä¸€é¡¹å·¥ä½œä¸­æ¶‰åŠçš„å‡ ä¸ªå‘½ä»¤</title><link href="http://youngsterxyf.github.io/2013/10/14/several-command-in-one-task/" rel="alternate"></link><published>2013-10-14T00:00:00+08:00</published><updated>2013-10-14T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-10-14:/2013/10/14/several-command-in-one-task/</id><summary type="html">&lt;p&gt;ä»Šå¤©å†™äº†ç‚¹shellè„šæœ¬ï¼Œåœ¨ä¸€äº›CentOSæœåŠ¡å™¨ä¸Šè¿›è¡Œäº†ä¸€äº›æ“ä½œï¼Œæ¶‰åŠå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;h3&gt;ç»Ÿè®¡ç‰¹å®šè¿›ç¨‹ä¸ªæ•°&lt;/h3&gt;
&lt;p&gt;å¦‚ç»Ÿè®¡haproxyè¿›ç¨‹çš„ä¸ªæ•°&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -e | grep haproxy | wc -l
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;è·å–ç‰¹å®šè¿›ç¨‹çš„pid&lt;/h3&gt;
&lt;p&gt;å¦‚è·å–haproxyè¿›ç¨‹çš„pid&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -e | grep haproxy â€¦&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;ä»Šå¤©å†™äº†ç‚¹shellè„šæœ¬ï¼Œåœ¨ä¸€äº›CentOSæœåŠ¡å™¨ä¸Šè¿›è¡Œäº†ä¸€äº›æ“ä½œï¼Œæ¶‰åŠå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;h3&gt;ç»Ÿè®¡ç‰¹å®šè¿›ç¨‹ä¸ªæ•°&lt;/h3&gt;
&lt;p&gt;å¦‚ç»Ÿè®¡haproxyè¿›ç¨‹çš„ä¸ªæ•°&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -e | grep haproxy | wc -l
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;è·å–ç‰¹å®šè¿›ç¨‹çš„pid&lt;/h3&gt;
&lt;p&gt;å¦‚è·å–haproxyè¿›ç¨‹çš„pid&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -e | grep haproxy | awk &lt;span style="color: #a31515"&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;ä¸€å¯¹å¤šæ·»åŠ sshä¿¡ä»»å…³ç³»&lt;/h3&gt;
&lt;p&gt;å¦‚192.168.2.1ç”¨æˆ·usernameAåˆ°192.168.2.xç”¨æˆ·usernameBçš„ä¿¡ä»»å…³ç³»&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨192.168.2.1åˆ›å»ºè‡ªå·±çš„å…¬é’¥ç§é’¥ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh-keygen -t rsa   &lt;span style="color: #008000"&gt;# æç¤ºè¾“å…¥æ—¶ï¼Œå…¨éƒ¨ç•™ç©ºå›è½¦ã€‚&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‹·è´192.168.2.1çš„å…¬é’¥åˆ°192.168.2.xæœºå™¨ä¸Šï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ssh-copy-id &lt;span style="color: #a31515"&gt;&amp;quot;-p 22 usernameB@192.168.2.x&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™é‡Œ192.168.2.xçš„sshdæœåŠ¡æ˜¯å¼€æ”¾22ç«¯å£ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®æç¤ºè¾“å…¥usernameBçš„å¯†é’¥åï¼Œå°±ä¼šå°†192.168.2.1ä¸Š/home/usernameA/.ssh/id_rsa.pubçš„å†…å®¹æ‹·è´192.168.2.xçš„/home/usernameB/.ssh/authorized_keysæ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥åé€šè¿‡&lt;code&gt;ssh -p 22 usernameB@192.168.2.x&lt;/code&gt;è®¿é—®192.168.2.xæ—¶éƒ½ä¸åœ¨éœ€è¦è¾“å…¥usernameBçš„å¯†ç ã€‚&lt;/p&gt;
&lt;h3&gt;ä¿®æ”¹ç½‘å¡ip&lt;/h3&gt;
&lt;p&gt;å¦‚ä¿®æ”¹ç½‘å¡eth0çš„ipã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶/etc/sysconfig/network-scripts/ifcfg-eth0å¤§è‡´æœ‰å¦‚ä¸‹æ‰€ç¤ºå†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;DEVICE=&amp;#39;eth0&amp;#39;
HWADDR=&amp;#39;&amp;#39;
NM_CONTROLLED=&amp;#39;yes&amp;#39;
ONBOOT=&amp;#39;yes&amp;#39;
IPADDR=&amp;#39;192.168.2.193&amp;#39;
NETMASK=&amp;#39;255.255.255.0&amp;#39;
GATEWAY=&amp;#39;192.168.2.1&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°†IPADDRçš„å€¼ä¿®æ”¹ä¸ºéœ€æŒ‡å®šçš„ipï¼Œä¿å­˜åï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;service network restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ–&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/etc/init.d/network restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;ä¿®æ”¹ç³»ç»Ÿæ—¶é—´&lt;/h3&gt;
&lt;p&gt;é€šè¿‡å‘½ä»¤&lt;code&gt;date&lt;/code&gt;å¯ä»¥æŸ¥çœ‹LinuxæœåŠ¡å™¨å½“å‰çš„æ—¶é—´ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ date
Mon Oct 14 17:44:31 CST 2013
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;date&lt;/code&gt;å‘½ä»¤åŠ &lt;code&gt;-s&lt;/code&gt;å‚æ•°ï¼Œå³å¯ä¿®æ”¹ç³»ç»Ÿçš„æ—¶é—´ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ date -s &amp;quot;Mon Oct 14 20:44:31 CST 2013&amp;quot;
Mon Oct 14 20:44:31 CST 2013
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶ï¼ŒLinuxç³»ç»Ÿå°†æ—¶é—´ä»CMOSä¸­è¯»åˆ°ç³»ç»Ÿæ—¶é—´å˜é‡ä¸­ï¼Œä»¥åä¿®æ”¹æ—¶é—´é€šè¿‡ä¿®æ”¹ç³»ç»Ÿæ—¶é—´å®ç°ã€‚ä¸ºäº†ä¿æŒç³»ç»Ÿæ—¶é—´ä¸CMOSæ—¶é—´çš„ä¸€è‡´æ€§ï¼Œ Linuxæ¯éš”ä¸€æ®µæ—¶é—´ä¼šå°†ç³»ç»Ÿæ—¶é—´å†™å…¥CMOSã€‚
ç”±äºè¯¥åŒæ­¥æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´ï¼ˆå¤§æ¦‚æ˜¯å‡ åˆ†é’Ÿï¼‰è¿›è¡Œçš„ï¼Œåœ¨æ‰§è¡Œ&lt;code&gt;date -s "xxx"&lt;/code&gt;åï¼Œå¦‚æœé©¬ä¸Šé‡å¯æœºå™¨ï¼Œä¿®æ”¹æ—¶é—´å°±æœ‰å¯èƒ½æ²¡æœ‰è¢«å†™å…¥CMOS,è¿™å°±æ˜¯é—®é¢˜çš„åŸå› ã€‚å¦‚æœè¦ç¡®ä¿ä¿®æ”¹ç”Ÿæ•ˆå¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;clock -w
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‚è€ƒï¼šhttp://www.blogjava.net/itvincent/archive/2007/08/03/134242.html&lt;/p&gt;
&lt;h3&gt;å¼€æœºè‡ªå¯åŠ¨ç¨‹åºè®¾ç½®&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä¸ºhaproxyç¼–å†™å¼€æœºè‡ªå¯åŠ¨shellè„šæœ¬-haproxy.shï¼Œå†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;#!/bin/bash&lt;/span&gt;
&lt;span style="color: #008000"&gt;#&lt;/span&gt;
&lt;span style="color: #008000"&gt;# chkconfig: 2345 25 9&lt;/span&gt;
&lt;span style="color: #008000"&gt;# description: haproxy is a level 4 LB&lt;/span&gt;

. /etc/rc.d/init.d/functions

PID=/usr/local/haproxy/haproxy.pid
SBIN=/usr/local/haproxy/sbin/haproxy
CONF=/usr/local/haproxy/conf/haproxy.conf
logfile=/root/app.log

restart () {
    $SBIN -f $CONF -st &lt;span style="color: #a31515"&gt;`&lt;/span&gt;cat $PID&lt;span style="color: #a31515"&gt;`&lt;/span&gt;
    echo &lt;span style="color: #a31515"&gt;&amp;quot;Restart haproxy At `date`&amp;quot;&lt;/span&gt;&amp;gt;&amp;gt;$logfile
}

start () {
    &lt;span style="color: #008000"&gt;#if [ -f $PID ]; then&lt;/span&gt;
    &lt;span style="color: #008000"&gt;#        echo &amp;quot;started already&amp;quot;&lt;/span&gt;
    &lt;span style="color: #008000"&gt;#        exit 0;&lt;/span&gt;
    &lt;span style="color: #008000"&gt;#fi&lt;/span&gt;
    $SBIN -c -f $CONF
    $SBIN -f $CONF
    echo &lt;span style="color: #a31515"&gt;&amp;quot;Start haproxy Process pid:`cat &lt;/span&gt;$PID&lt;span style="color: #a31515"&gt;`&amp;quot;&lt;/span&gt;
    echo &lt;span style="color: #a31515"&gt;&amp;quot;Start haproxy At `date`&amp;quot;&lt;/span&gt;&amp;gt;&amp;gt;$logfile
}

stop () {
        echo &lt;span style="color: #a31515"&gt;&amp;quot;Kill haproxy Process pid:`cat &lt;/span&gt;$PID&lt;span style="color: #a31515"&gt;`&amp;quot;&lt;/span&gt;
        kill -SIGINT &lt;span style="color: #a31515"&gt;`&lt;/span&gt;cat $PID&lt;span style="color: #a31515"&gt;`&lt;/span&gt;
        echo &lt;span style="color: #a31515"&gt;&amp;quot;Stop haproxy At `date`&amp;quot;&lt;/span&gt;&amp;gt;&amp;gt;$logfile
}

pid () {
        ps -ef|grep master|grep &lt;span style="color: #a31515"&gt;&amp;quot;&lt;/span&gt;$SBIN&lt;span style="color: #a31515"&gt;&amp;quot;&lt;/span&gt;
        echo &lt;span style="color: #a31515"&gt;&amp;quot;haproxy Pid Is:`cat &lt;/span&gt;$PID&lt;span style="color: #a31515"&gt;`&amp;quot;&lt;/span&gt;
}

&lt;span style="color: #0000ff"&gt;case&lt;/span&gt; $1 &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; 
reload|restart)
        pid
        restart
        pid
        ;;
start)
        start
        ;;
stop)
        stop
        ;;
check|-t)
        $SBIN -c -f $CONF
        ;;
pid|p|-p)
        pid
        ;;
*)
        echo &lt;span style="color: #a31515"&gt;&amp;quot;Please Use ( restart|start|stop|check|pid ) as argument&amp;quot;&lt;/span&gt;
        ;;
&lt;span style="color: #0000ff"&gt;esac&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤åˆ¶haproxy.shåˆ°/etc/init.d/ç›®å½•ä¸‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†haproxyåŠ å…¥å¼€æœºå¯åŠ¨ï¼Œå³è®¾ç½®åœ¨å¼€æœºæ—¶è‡ªåŠ¨æ‰§è¡Œhaproxy.shè„šæœ¬ï¼š&lt;code&gt;chkconfig --add haproxy.sh&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…³é—­å¼€æœºå¯åŠ¨ï¼š&lt;code&gt;chkconfig haproxy.sh off&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼€å¯å¼€æœºå¯åŠ¨ï¼š&lt;code&gt;chkconfig haproxy.sh on&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‚è€ƒï¼šhttp://blog.csdn.net/jiedushi/article/details/6767445&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="å‘½ä»¤è¡Œ"></category></entry><entry><title>ä»URLç›‘æ§é—®é¢˜è°ˆç½‘ç«™Webæ¶æ„</title><link href="http://youngsterxyf.github.io/2013/10/12/url-monitoring-and-web-arch/" rel="alternate"></link><published>2013-10-12T00:00:00+08:00</published><updated>2013-10-12T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-10-12:/2013/10/12/url-monitoring-and-web-arch/</id><summary type="html">&lt;p&gt;ä¹‹å‰å·¥ä½œä¸­å®ç°äº†ä¸€ä¸ªå¯¹ç«™ç‚¹è¿›è¡ŒURLç›‘æ§çš„åŠŸèƒ½ã€‚åŸç†æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;cronè„šæœ¬å®šæ—¶ä»ä¸€å°NginxæœåŠ¡å™¨ä¸Šè·å¾—Nginxé…ç½®æ–‡ä»¶ï¼ˆåŒ…æ‹¬upstreamé…ç½®ï¼‰ï¼Œåœ¨è§£æé…ç½®å¾—åˆ°ï¼š&lt;code&gt;åŸŸå-&amp;gt;upstreamå&lt;/code&gt;ï¼ˆå¯èƒ½æœ‰å¤šä¸ªï¼‰ã€&lt;code&gt;upstreamå-&amp;gt;å±äºè¯¥upstreamçš„æœåŠ¡å™¨ipåˆ—è¡¨&lt;/code&gt;ï¼Œå­˜å…¥æ•°æ®åº“ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æˆ· â€¦&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;ä¹‹å‰å·¥ä½œä¸­å®ç°äº†ä¸€ä¸ªå¯¹ç«™ç‚¹è¿›è¡ŒURLç›‘æ§çš„åŠŸèƒ½ã€‚åŸç†æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;cronè„šæœ¬å®šæ—¶ä»ä¸€å°NginxæœåŠ¡å™¨ä¸Šè·å¾—Nginxé…ç½®æ–‡ä»¶ï¼ˆåŒ…æ‹¬upstreamé…ç½®ï¼‰ï¼Œåœ¨è§£æé…ç½®å¾—åˆ°ï¼š&lt;code&gt;åŸŸå-&amp;gt;upstreamå&lt;/code&gt;ï¼ˆå¯èƒ½æœ‰å¤šä¸ªï¼‰ã€&lt;code&gt;upstreamå-&amp;gt;å±äºè¯¥upstreamçš„æœåŠ¡å™¨ipåˆ—è¡¨&lt;/code&gt;ï¼Œå­˜å…¥æ•°æ®åº“ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æˆ·é€šè¿‡Webç•Œé¢é…ç½®URLç›‘æ§é¡¹ï¼Œé…ç½®è¿‡ç¨‹ä¸ºï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¾“å…¥è¦ç›‘æ§çš„URLï¼Œå¦‚http://www.sample.com/test.php ï¼Œå‰ç«¯JSè§£æå‡ºåŸŸåéƒ¨åˆ†www.sample.comï¼Œå‘åç«¯å‘é€AJAXè¯·æ±‚ï¼Œå¾—åˆ°è¯¥åŸŸåç›¸å…³çš„upstreamï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·é€‰æ‹©æ­£ç¡®çš„é‚£ä¸ªupstreamï¼ˆNginxå¯ä»¥å°†å¯¹ä¸åŒURLçš„è¯·æ±‚è½¬å‘åˆ°ä¸åŒçš„upstreamåç«¯æœºå™¨ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åå¡«å†™ç›‘æ§å‘Šè­¦ä¿¡æ¯æ¥æ”¶äººç­‰å…¶ä»–é…ç½®ä¿¡æ¯ï¼Œæäº¤å³å¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦ä¸€ä¸ªcronè„šæœ¬å®šæ—¶åœ°:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»æ•°æ®åº“ä¸­è¯»å–URLç›‘æ§é¡¹æ•°æ®ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;æ ¹æ®ç›‘æ§é¡¹ä¸­çš„upstreamåï¼Œä»æ•°æ®åº“ä¸­è¯»å–å±äºè¯¥upstreamçš„ipåˆ—è¡¨ï¼›&lt;/li&gt;
&lt;li&gt;é€ä¸ªä½¿ç”¨ipåˆ—è¡¨ä¸­çš„ipæ›¿æ¢URLçš„åŸŸåéƒ¨åˆ†ï¼Œå°†åŸŸåéƒ¨åˆ†ä½œä¸ºHTTPè¯·æ±‚å¤´çš„HOSTå­—æ®µçš„å€¼ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨libcurlåº“æˆ–curlå‘½ä»¤å‘å‡ºè¯·æ±‚ï¼ˆå¦‚ä½¿ç”¨curlå‘½ä»¤ï¼š&lt;code&gt;curl -H "www.sample.com" http://192.168.1.1/test.php&lt;/code&gt;ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœå“åº”ç é200æˆ–é3xxç­‰ï¼Œåˆ™å‘é€å‘Šè­¦ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯&lt;strong&gt;ä¸ä»…èƒ½å¤Ÿæ£€æµ‹URLæŒ‡ä»£çš„webé¡µé¢æˆ–æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Œè¿˜èƒ½æ£€æµ‹æä¾›è¯¥webé¡µé¢æˆ–æœåŠ¡çš„æ¯å°æœåŠ¡å™¨æ˜¯å¦æœåŠ¡æ­£å¸¸&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥URLç›‘æ§åŠŸèƒ½åŸºäºçš„ç½‘ç«™Webæ¶æ„ä¹Ÿæ˜¯ä¸Šäº†ä¸€å®šæµé‡çš„ç½‘ç«™é€šå¸¸é‡‡ç”¨çš„æ¶æ„ï¼Œå¤§è‡´å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="nginx-frontend-forward" src="/assets/uploads/pics/nginx_frontend_forward.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/assets/uploads/pics/nginx_frontend_forward.png"&gt;é«˜æ¸…æ— ç å¤§å›¾&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯¥Webæ¶æ„ä¸­ï¼Œä½¿ç”¨ä¸€å°NginxæœåŠ¡å™¨ä½œä¸ºç»Ÿä¸€å…¥å£æ¥æ¥æ”¶æ‰€æœ‰è¯·æ±‚ï¼Œå¯¹è¯·æ±‚è¿›è¡Œè§„åˆ™åŒ¹é…å’Œè´Ÿè½½å‡è¡¡åè½¬å‘åˆ°æŸå°åç«¯å®é™…æä¾›æœåŠ¡çš„æœåŠ¡å™¨ä¸Šã€‚&lt;strong&gt;åœ¨è½¬å‘è¯·æ±‚ä¹‹å‰ï¼Œè¯¥NginxæœåŠ¡å™¨å¯èƒ½ä¼šå› ä¸ºæŸäº›åŸå› å¯¹è¯·æ±‚çš„æŸäº›å‚æ•°ï¼ˆå¦‚è¯·æ±‚çš„å¤´éƒ¨å­—æ®µï¼‰è¿›è¡Œä¿®æ”¹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œè¯¥URLç›‘æ§æ–¹å¼è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼šç›‘æ§çš„è¯·æ±‚ä¸éœ€è¦ç»è¿‡Nginxå‰ç«¯è½¬å‘æœºã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è¿‘å‡ å¤©ï¼Œè¯¥URLç›‘æ§åŠŸèƒ½å‡ºç°äº†è¯¯æŠ¥çš„é—®é¢˜ï¼ŒåŸå› ä¸ºï¼šå¯¹äºæŸäº›åŸŸåæˆ–URLçš„è¯·æ±‚ï¼Œåœ¨ç»è¿‡Nginxå‰ç«¯è½¬å‘æœºæ—¶è¢«Nginxä¿®æ”¹äº†è¯·æ±‚å¤´HOSTå­—æ®µï¼Œç„¶åæ‰è½¬å‘åˆ°åç«¯æœºå™¨ï¼Œè€Œ&lt;strong&gt;åç«¯æœºå™¨Nginxè™šæ‹Ÿä¸»æœºé…ç½®çš„server_nameå­—æ®µçš„å€¼æ˜¯ä¸å‰ç«¯è½¬å‘æœºä¿®æ”¹åçš„è¯·æ±‚å¤´HOSTå­—æ®µä¸€è‡´çš„&lt;/strong&gt;ï¼Œè€Œè¯¥URLç›‘æ§åŠŸèƒ½çš„è¯·æ±‚æ˜¯ç»•è¿‡å‰ç«¯è½¬å‘æœºç›´æ¥å‘åç«¯æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚å¤´HOSTå­—æ®µä¸ºURLä¸­çš„åŸŸåéƒ¨åˆ†ï¼Œä¸åç«¯æœåŠ¡å™¨Nginxè™šæ‹Ÿä¸»æœºé…ç½®çš„server_nameå­—æ®µçš„å€¼ä¸ä¸€è‡´ï¼Œæ‰€ä»¥åç«¯æœåŠ¡å™¨ä¸ä¼šæ¥å—è¯¥è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ€æ ·åœ¨ä¿æŒè¯¥URLç›‘æ§æ–¹å¼çš„ä¸‰å¤§å¥½å¤„çš„å‰æä¸‹è§£å†³è¯¥é—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç›®å‰æˆ‘èƒ½æƒ³åˆ°çš„å°±æ˜¯&lt;strong&gt;ç¼–å†™ç¨‹åºä»Nginxé…ç½®æ–‡ä»¶ä¸­è§£æå¾—ä»€ä¹ˆæ ·çš„è¯·æ±‚è¢«ä¿®æ”¹äº†å¤´éƒ¨HOSTå­—æ®µ&lt;/strong&gt;ï¼Œä½†è¿™ä¸ªéš¾åº¦åˆå®åœ¨å¤ªå¤§ï¼Œä¸å¯è¡Œï¼Œäº†è§£Nginxçš„äººåº”è¯¥çŸ¥é“Nginxé…ç½®å¯ä»¥æœ‰å¤šçµæ´»å¤šå¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;æ¢ä¸ªæ€è·¯æƒ³æƒ³ï¼ŒURLç›‘æ§çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ&lt;strong&gt;æ˜¯ç›‘æ§æœåŠ¡äºç‰¹å®šURLçš„æ‰€æœ‰æœåŠ¡å™¨éƒ½æ­£å¸¸ï¼Œè¿˜æ˜¯ä»…ç›‘æ§ç‰¹å®šURLæœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ªäººè®¤ä¸ºï¼ŒURLç›‘æ§çš„ç›®çš„åº”è¯¥æ˜¯&lt;strong&gt;ç›‘æ§ç‰¹å®šURLæœåŠ¡æ˜¯å¦æ­£å¸¸&lt;/strong&gt;ï¼Œè€Œ&lt;strong&gt;å®é™…æä¾›è¯¥URLæœåŠ¡çš„æ¯å°åç«¯æœåŠ¡å™¨æ˜¯å¦å·¥ä½œæ­£å¸¸ï¼Œåº”è¯¥é€šè¿‡å¿ƒè·³æ£€æµ‹ã€æœåŠ¡å™¨ä¸Šçš„è¿›ç¨‹ç›‘æ§ç¨‹åºã€Nginxå‰ç«¯è½¬å‘æœºè´Ÿè½½å‡è¡¡çŠ¶æ€ç­‰æ¥ç›‘æ§&lt;/strong&gt;ã€‚è¿™æ ·ï¼Œä¹Ÿå°±ç»•è¿‡äº†ä¸Šè¿°çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä¸Šè¿°é—®é¢˜çš„å­˜åœ¨ä¸€æ–¹é¢ä¹Ÿæ˜¯å› ä¸ºç½‘ç«™çš„Webæ¶æ„ä¸­æœ‰ä¸€ä¸ªå‰ç«¯è½¬å‘æœºï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦æœ‰è¿™ä¸ªå‰ç«¯è½¬å‘æœºå‘¢ï¼Ÿå¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿå¼Šå¤„åˆæ˜¯ä»€ä¹ˆï¼Ÿè‹¥æœ‰å¼Šå¤„ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸ªäººç†è§£ï¼Œå¥½å¤„ä¸»è¦æœ‰å¦‚ä¸‹ä¸‰ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç½‘ç»œå®‰å…¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Nginxæä¾›çš„è´Ÿè½½å‡è¡¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†ç³»ç»Ÿä½œä¸ºä¸€ä¸ªæ•´ä½“æ¥çœ‹ï¼Œå…¶æä¾›çš„æœåŠ¡å¯ä»¥é€šè¿‡GSLBåŸºäºç”¨æˆ·ipåœ°ç†ä¿¡æ¯å’Œè¿è¥å•†ï¼Œå°½å¯èƒ½åŠ é€Ÿè®¿é—®é€Ÿåº¦&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ç½‘ç»œå®‰å…¨&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å‰ç«¯è½¬å‘æœºé€šè¿‡é˜²ç«å¢™ã€Nginxç™½åå•ç­‰æ–¹å¼ä¸ºæ‰€æœ‰åç«¯æœåŠ¡å™¨æä¾›ç»Ÿä¸€çš„å®‰å…¨ç­–ç•¥ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‰ç«¯è½¬å‘æœºå°†å®é™…æä¾›æœåŠ¡çš„æœºå™¨ä¸äº’è”ç½‘éš”ç¦»ï¼Œåç«¯æœåŠ¡å™¨ä¸Šä»£ç å’Œæ•°æ®ä¸ä¼šç›´æ¥å—åˆ°æ”»å‡»å’Œçªƒå–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Nginxæä¾›çš„è´Ÿè½½å‡è¡¡&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºæŸäº›æœåŠ¡ï¼Œå•å°åç«¯æœåŠ¡å™¨å¯èƒ½æ— æ³•æ”¯æ’‘è´Ÿè½½ï¼ŒåŸºäºNginxçš„è´Ÿè½½å‡è¡¡åŠŸèƒ½å¯ä»¥ä½¿ç”¨å¤šå°æœºå™¨æ¥åˆ†æµè¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;é€šè¿‡GSLBåŠ é€Ÿæ•´ä¸ªç³»ç»Ÿæä¾›çš„æœåŠ¡&lt;/h3&gt;
&lt;p&gt;è¦æƒ³åˆ©ç”¨GSLBè¿›è¡ŒåŠ é€Ÿï¼Œéœ€è¦ä¸ºç³»ç»Ÿåœ¨æ¯ä¸ªï¼ˆå¤§ï¼‰è¿è¥å•†çš„ç½‘ç»œä¸­éƒ½éƒ¨ç½²ä¸€å°å‰ç«¯è½¬å‘æœºï¼Œå„ä¸ªå‰ç«¯è½¬å‘æœºä»¥ä¸“çº¿æˆ–è€…å…¶ä»–æœ‰æ•ˆæ–¹å¼ä¸åç«¯æœåŠ¡å™¨è¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æ‰€æœ‰å‰ç«¯è½¬å‘æœºå…±äº«åŸŸåx.xxx.comï¼Œåœ¨è®°å½•æœ‰è¯¥åŸŸåä¿¡æ¯çš„DNSæœåŠ¡å™¨ä¸Šå¯¹åº”è¯¥åŸŸåå°±æœ‰å¤šä¸ªipã€‚è¯¥ç³»ç»Ÿå¯¹å¤–æä¾›www.example.comã€www.a.example.comã€www.b.example.comç­‰ç«™ç‚¹çš„æœåŠ¡ã€‚ç”¨æˆ·åœ¨è®¿é—®è¿™å‡ ä¸ªç«™ç‚¹æ—¶ï¼ŒåŸŸåwww.example.comã€www.a.example.comã€www.b.example.comçš„DNSè§£æè¿‡ç¨‹æ˜¯å…ˆå°†è¿™äº›åŸŸåéƒ½CNAMEä¸ºx.xxx.comï¼Œç„¶åæŸ¥æ‰¾åˆ°x.xxx.comå¯¹åº”çš„ipè¿”å›ç»™ç”¨æˆ·ç«¯ã€‚è®°å½•x.xxx.comçš„æˆæƒDNSæœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°åŸŸåx.xxx.comçš„DNSè¯·æ±‚åï¼Œé€šè¿‡ä¸è¯¥DNSæœåŠ¡å™¨å…³è”çš„GSLBæ§åˆ¶è®¾å¤‡æ ¹æ®è¯·æ±‚æ¥è‡ªçš„è¿è¥å•†ï¼ˆä»¥åŠåœ°ç†ä¿¡æ¯ç­‰å…¶ä»–ä¿¡æ¯ï¼‰å¾—åˆ°è®¿é—®æœ€å¿«çš„å‰ç«¯è½¬å‘æœºipè¿”å›ç»™ç”¨æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;å„ä¸ªå‰ç«¯è½¬å‘æœåŠ¡å™¨é€šè¿‡Nginxè™šæ‹Ÿä¸»æœºé…ç½®çš„server_nameå‚æ•°å’ŒHTTPè¯·æ±‚çš„å¤´éƒ¨HOSTå­—æ®µæ¥åŒºåˆ†å¯¹ä¸åŒç«™ç‚¹çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šè¿°ç¯èŠ‚ä¸­ï¼Œè®°å½•x.xxx.comçš„æˆæƒæœåŠ¡å™¨å¦‚æœæ”¾åœ¨æŸä¸ªè¿è¥å•†ç½‘ç»œé‡Œï¼Œå¯¹äºå…¶ä»–è¿è¥å•†ç½‘ç»œé‡Œçš„ç”¨æˆ·ï¼ŒDNSè§£æè¿‡ç¨‹å°±ä¼šæ¯”è¾ƒæ…¢ï¼Œä»è€Œå¤§å¤§å½±å“äº†è®¿é—®é€Ÿåº¦ã€‚ä¸€ä¸ªæœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šè¯¥DNSæœåŠ¡å™¨åŒæ—¶æ¥å…¥å¤šä¸ªè¿è¥å•†ç½‘ç»œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç½‘ç«™ä»£ç è¿›è¡ŒåŠ¨é™åˆ†ç¦»ï¼Œé™æ€å†…å®¹é€šå¸¸ä¼šé‡‡ç”¨CDNæ–¹å¼æ¥åŠ é€Ÿï¼Œæˆ‘æƒ³CDNæŠ€æœ¯ä¹Ÿæ˜¯åŸºäºGSLBæ¥å®ç°çš„å§ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¯¹äºæœ‰é’±çš„å¤§å‚æ¥è¯´ï¼ŒæŒ‰åŒºåŸŸéƒ¨ç½²IDCåï¼ŒGSLBæ›´èƒ½æ˜¾ç¤ºå…¶ä¼˜åŠ¿å§ï¼Ÿï¼&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä¸Šå›¾ä¸­æ‰€ç¤ºçš„ç½‘ç«™Webæ¶æ„å½“ç„¶ä¹Ÿæœ‰å…¶å¼Šå¤„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nginxå‰ç«¯è½¬å‘æœºä¼šæˆä¸ºç³»ç»Ÿå•ç‚¹&lt;/li&gt;
&lt;li&gt;Nginxå‰ç«¯è½¬å‘æœºå¯èƒ½ä¼šæˆä¸ºç³»ç»Ÿçš„æ€§èƒ½ç“¶é¢ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ç³»ç»Ÿå•ç‚¹&lt;/h3&gt;
&lt;p&gt;å¯¹äºè¯¥é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨keepalivedæ¥å®ç°åŒæœºçƒ­å¤‡ã€‚&lt;/p&gt;
&lt;h3&gt;æ€§èƒ½ç“¶é¢ˆ&lt;/h3&gt;
&lt;p&gt;å¦‚æœçœŸçš„æˆäº†æ€§èƒ½ç“¶é¢ˆï¼Œå¯ä»¥å¯¹å‰ç«¯è½¬å‘æœºNginxçš„åŠŸèƒ½è¿›è¡Œæ‹†åˆ†ï¼Œå³å°½å¯èƒ½ç®€åŒ–å‰ç«¯è½¬å‘æœºNginxçš„é…ç½®ï¼Œå¦‚æ¯ä¸ªè™šæ‹Ÿä¸»æœºé…ç½®ä¸ºä»…è½¬å‘è¯·æ±‚ã€‚åœ¨å‰ç«¯è½¬å‘æœºä¸åç«¯æœåŠ¡å™¨ä¹‹é—´å¢åŠ ä¸€å±‚è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼Œè´Ÿè½½å‡è¡¡ã€è®¿é—®æ§åˆ¶ã€rewriteç­‰åŠŸèƒ½æ”¾åœ¨è¯¥å±‚å®Œæˆã€‚æ¼”å˜åçš„ç³»ç»Ÿç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt="add_load_balance_level" src="/assets/uploads/pics/add_load_balance_level.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/assets/uploads/pics/add_load_balance_level.png"&gt;é«˜æ¸…æ— ç å¤§å›¾&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œæˆ‘æƒ³åªèƒ½åŠ å¼ºæœåŠ¡å™¨ç¡¬ä»¶æˆ–è€…å°†ç³»ç»Ÿæ‹†åˆ†æˆå¤šä¸ªå°ç³»ç»Ÿäº†å§ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ¬¢è¿æ‹ç –ï¼&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç›‘æ§"></category><category term="æ¶æ„"></category><category term="Web"></category><category term="å·¥ä½œç¬”è®°"></category></entry><entry><title>é€šè¿‡ç¤ºä¾‹å­¦ä¹ Gitå†…éƒ¨æ„é€ ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/09/28/learning-git-internals-by-example/" rel="alternate"></link><published>2013-09-28T00:00:00+08:00</published><updated>2013-09-28T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-09-28:/2013/09/28/learning-git-internals-by-example/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://teohm.github.io/blog/2011/05/30/learning-git-internals-by-example/"&gt;Learning Git Internals by Example&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;çŠ¶æ€ï¼šè‰ç¨¿&lt;/p&gt;
&lt;p&gt;è®¡åˆ’ä¿®è®¢æœ¬æ–‡ï¼Œæœªæ¥å¯èƒ½ä¼šç®€åŒ–ä¸€äº›...&lt;/p&gt;
&lt;h2&gt;åŠ¨æœº&lt;/h2&gt;
&lt;p&gt;ä»Subversionå’ŒMercurialåˆ‡æ¢åˆ°Gitä¹‹åçš„å‡ ä¸ªæœˆï¼Œæˆ‘å§‹ç»ˆè§‰å¾—Gitåœ¨æœ¬è´¨ä¸Šæ˜¯ä¸åŒäºSubversionå’ŒMercurialçš„ï¼Œä½†æ²¡æ³•ç¡®åˆ‡åœ°è¯´å‡ºåŒºåˆ«ã€‚
æˆ‘ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://teohm.github.io/blog/2011/05/30/learning-git-internals-by-example/"&gt;Learning Git Internals by Example&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;çŠ¶æ€ï¼šè‰ç¨¿&lt;/p&gt;
&lt;p&gt;è®¡åˆ’ä¿®è®¢æœ¬æ–‡ï¼Œæœªæ¥å¯èƒ½ä¼šç®€åŒ–ä¸€äº›...&lt;/p&gt;
&lt;h2&gt;åŠ¨æœº&lt;/h2&gt;
&lt;p&gt;ä»Subversionå’ŒMercurialåˆ‡æ¢åˆ°Gitä¹‹åçš„å‡ ä¸ªæœˆï¼Œæˆ‘å§‹ç»ˆè§‰å¾—Gitåœ¨æœ¬è´¨ä¸Šæ˜¯ä¸åŒäºSubversionå’ŒMercurialçš„ï¼Œä½†æ²¡æ³•ç¡®åˆ‡åœ°è¯´å‡ºåŒºåˆ«ã€‚
æˆ‘ç»å¸¸åœ¨Githubä¸Šçœ‹åˆ°treeã€parentç­‰æœ¯è¯­ï¼Œä¹Ÿæä¸æ¸…æ¥šå®ƒä»¬ç¡®åˆ‡çš„å«ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤æˆ‘å†³å®šèŠ±äº›æ—¶é—´å­¦å­¦Gitã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¼šå°è¯•æ¦‚è¿°ï¼Œå¹¶é˜è¿°ä¸€è·¯èµ°æ¥å­¦åˆ°çš„å…³äºGitçš„å…³é”®ä¿¡æ¯...ä½†è¿™ä»…æ˜¯æœ‰åŠ©äºæˆ‘å›ç­”Gitä¸å…¶ä»–æºç æ§åˆ¶å·¥å…·åŒºåˆ«çš„Gitå†…éƒ¨æ„é€ åŸºæœ¬çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;h2&gt;å®ä½“ã€å¼•ç”¨ã€ç´¢å¼•ï¼ˆObjectsï¼ŒReferencesï¼ŒThe Indexï¼‰&lt;/h2&gt;
&lt;p&gt;è¦ç†è§£Gitå†…éƒ¨æ„é€ çš„æ ¸å¿ƒï¼Œæˆ‘ä»¬åº”ç†è§£ä¸‰ä¸ªä¸œè¥¿ï¼š &lt;strong&gt;å®ä½“&lt;/strong&gt;ã€&lt;strong&gt;å¼•ç”¨&lt;/strong&gt;ã€ &lt;strong&gt;ç´¢å¼•&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å‘ç°è¿™ä¸ªæ¨¡å‹éå¸¸ä¼˜é›…ã€‚ç”¨ä¸€ä¸ªå°å°çš„å›¾è¡¨å°±èƒ½å®Œå…¨å±•ç°ï¼Œä¹Ÿæ˜“äºç†è§£è®°å¿†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="Big Picture" src="/assets/uploads/pics/git-internals/big-picture.png"&gt;&lt;/p&gt;
&lt;h3&gt;å®ä½“&lt;/h3&gt;
&lt;p&gt;ä½ æäº¤åˆ°ä¸€ä¸ªGitä»£ç ä»“åº“ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬æ¯ä¸ªæäº¤çš„è¯´æ˜ä¿¡æ¯ï¼ˆthe commit infoï¼‰éƒ½åœ¨ç›®å½• &lt;code&gt;.git/objects/&lt;/code&gt;ä¸­å­˜å‚¨ä¸º&lt;strong&gt;å®ä½“&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå®ä½“ä»¥ä¸€ä¸ª40å­—ç¬¦é•¿åº¦çš„å­—ç¬¦ä¸²ï¼ˆè¯¥å®ä½“å†…å®¹çš„SHA1å“ˆå¸Œå€¼ï¼‰æ¥æ ‡è¯†ã€‚&lt;/p&gt;
&lt;p&gt;å®ä½“æœ‰&lt;strong&gt;4ç±»&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;em&gt;blob&lt;/em&gt; - å­˜å‚¨æ–‡ä»¶å†…å®¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;tree&lt;/em&gt; - å­˜å‚¨ç›®å½•ç»“æ„å’Œæ–‡ä»¶åã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;commit&lt;/em&gt; - å­˜å‚¨æäº¤çš„è¯´æ˜ï¼Œç»„æˆGitçš„æäº¤å›¾è°±ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;tag&lt;/em&gt; - å­˜å‚¨å¸¦æ³¨é‡Šçš„æ ‡ç­¾ï¼ˆtagï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸‹æ–‡çš„ç¤ºä¾‹ä¼šé˜æ˜è¿™äº›å®ä½“æ˜¯å¦‚ä½•ç›¸äº’å…³è”çš„ã€‚&lt;/p&gt;
&lt;h3&gt;å¼•ç”¨&lt;/h3&gt;
&lt;p&gt;Gitä¸­ï¼Œä¸€ä¸ª&lt;em&gt;åˆ†æ”¯ï¼ˆbranchï¼‰&lt;/em&gt;ã€&lt;em&gt;è¿œç¨‹åˆ†æ”¯ï¼ˆremote branchï¼‰&lt;/em&gt;æˆ–ä¸€ä¸ª&lt;em&gt;æ ‡ç­¾ï¼ˆtagï¼‰&lt;/em&gt;ï¼ˆä¹Ÿç§°ä¸ºè½»é‡æ ‡ç­¾ï¼‰ä»…æ˜¯&lt;strong&gt;æŒ‡å‘ä¸€ä¸ªå®ä½“çš„ä¸€ä¸ªæŒ‡é’ˆ&lt;/strong&gt;ï¼Œè¿™é‡Œçš„å®ä½“é€šå¸¸æ˜¯ä¸€ä¸ªcommitå®ä½“ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›å¼•ç”¨ä»¥æ–‡æœ¬æ–‡ä»¶çš„å½¢å¼å­˜å‚¨åœ¨ç›®å½•&lt;code&gt;.git/refs/&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;
&lt;h4&gt;ç¬¦å·å¼•ç”¨ï¼ˆSymbolic Referencesï¼‰&lt;/h4&gt;
&lt;p&gt;Gitæœ‰ä¸€ç§ç‰¹æ®Šçš„å¼•ç”¨ï¼Œç§°ä¸º&lt;em&gt;ç¬¦å·å¼•ç”¨&lt;/em&gt;ã€‚å®ƒå¹¶ä¸ç›´æ¥æŒ‡å‘ä¸€ä¸ªå®ä½“ï¼Œè€Œæ˜¯&lt;strong&gt;æŒ‡å‘å¦ä¸€ä¸ªå¼•ç”¨&lt;/strong&gt;ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ&lt;code&gt;.git/HEAD&lt;/code&gt;å°±æ˜¯ä¸€ä¸ªç¬¦å·å¼•ç”¨ã€‚å®ƒæŒ‡å‘ä½ æ­£åœ¨å·¥ä½œçš„å½“å‰åˆ†æ”¯ã€‚&lt;/p&gt;
&lt;h3&gt;ç´¢å¼•&lt;/h3&gt;
&lt;p&gt;ç´¢å¼•æ˜¯ä¸€ä¸ªæš‚å­˜åŒºï¼Œä»¥äºŒè¿›åˆ¶æ–‡ä»¶çš„å½¢å¼å­˜å‚¨ä¸ºæ–‡ä»¶&lt;code&gt;.git/index&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“&lt;code&gt;git add&lt;/code&gt;ä¸€ä¸ªæ–‡ä»¶ï¼ŒGitå°†è¯¥æ–‡ä»¶çš„ä¿¡æ¯æ·»åŠ åˆ°ç´¢å¼•ä¸­ã€‚å½“&lt;code&gt;git commit&lt;/code&gt;ï¼ŒGitä»…æäº¤ç´¢å¼•æ–‡ä»¶ä¸­åˆ—å‡ºçš„æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;ç¤ºä¾‹&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬æ¥æ¼”ç»ƒä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªGitä»£ç ä»“åº“ï¼Œæäº¤ä¸€äº›æ–‡ä»¶ï¼Œçœ‹çœ‹å¹•å&lt;code&gt;.git&lt;/code&gt;ç›®å½•ä¸­éƒ½å‘ç”Ÿäº†äº›ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;h3&gt;åˆå§‹åŒ–æ–°çš„ä»£ç ä»“åº“&lt;/h3&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git init canai
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="åˆå§‹åŒ–ä»£ç ä»“åº“å" src="/assets/uploads/pics/git-internals/init.png"&gt;&lt;/p&gt;
&lt;p&gt;å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºäº†ç©ºç›®å½•&lt;code&gt;.git/objects/&lt;/code&gt;å’Œ&lt;code&gt;.git/refs/&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è¿˜æ²¡æœ‰ç´¢å¼•ï¼ˆIndexï¼‰æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;åˆ›å»ºäº†ç¬¦å·ç´¢å¼•æ–‡ä»¶&lt;code&gt;HEAD&lt;/code&gt;ã€‚&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ cat .git/HEAD
ref: refs/heads/master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;æ·»åŠ æ–°æ–‡ä»¶&lt;/h3&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ echo &amp;quot;A roti canai project.&amp;quot; &amp;gt;&amp;gt; README
$ git add README
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="æ·»åŠ æ–°æ–‡ä»¶å" src="/assets/uploads/pics/git-internals/new-file.png"&gt;&lt;/p&gt;
&lt;p&gt;å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†ç´¢å¼•ï¼ˆIndexï¼‰æ–‡ä»¶ã€‚å®ƒæœ‰ä¸€ä¸ªSHA1å“ˆå¸Œå€¼æŒ‡å‘ä¸€ä¸ªblobå®ä½“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git ls-files --stage
100644 5f89c6f016cad2d419e865df380595e39b1256db 0 README
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†ä¸€ä¸ªblobå®ä½“ã€‚READMEæ–‡ä»¶çš„å†…å®¹å­˜å‚¨åœ¨è¯¥blobä¸­ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# .git/objects/5f/89c6f016cad2d419e865df380595e39b1256db
$ git cat-file blob 5f89c6
A roti canai project.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;é¦–æ¬¡æäº¤&lt;/h3&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git commit -m&amp;#39;first commit&amp;#39;
[master (root-commit) d9976cf] first commit
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 README
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="é¦–æ¬¡æäº¤å" src="/assets/uploads/pics/git-internals/first-commit.png"&gt;&lt;/p&gt;
&lt;p&gt;å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†åˆ†æ”¯â€˜masterâ€™å¼•ç”¨ï¼ŒæŒ‡å‘â€˜masterâ€™åˆ†æ”¯ä¸­æœ€æ–°çš„commitå®ä½“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ cat .git/refs/heads/master 
d9976cfe0430557885d162927dd70186d0f521e8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†ç¬¬ä¸€ä¸ªcommitå®ä½“ï¼ŒæŒ‡å‘ä»£ç ä»“åº“æ ¹ç›®å½•treeå®ä½“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# .git/objects/d9/976cfe0430557885d162927dd70186d0f521e8
$ git cat-file commit d9976cf
tree 0ff699bbafc5d17d0637bf058c924ab405b5dcfe
author Huiming Teo &amp;lt;huiming@favoritemedium.com&amp;gt; 1306739524 +0800
committer Huiming Teo &amp;lt;huiming@favoritemedium.com&amp;gt; 1306739524 +0800

first commit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†treeå®ä½“ã€‚è¯¥treeä»£è¡¨ç›®å½•â€œcanaiâ€ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# .git/objects/0f/f699bbafc5d17d0637bf058c924ab405b5dcfe
$ git ls-tree 0ff699
100644 blob 5f89c6f016cad2d419e865df380595e39b1256db  README
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;æ·»åŠ ä¸€ä¸ªä¿®æ”¹è¿‡çš„æ–‡ä»¶&lt;/h3&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ echo &amp;quot;Welcome everyone.&amp;quot; &amp;gt;&amp;gt; README
$ git add README
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="æ·»åŠ ä¸€ä¸ªä¿®æ”¹è¿‡çš„æ–‡ä»¶å" src="/assets/uploads/pics/git-internals/modified-file.png"&gt;&lt;/p&gt;
&lt;p&gt;å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ–°äº†ç´¢å¼•ï¼ˆIndexï¼‰æ–‡ä»¶ã€‚æ³¨æ„åˆ°äº†å—ï¼Ÿå®ƒè®°å½•äº†ä¸€ä¸ªæ–°blobã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git ls-files --stage
100644 1192db4c15e019da7fc053225d09dea14bc3ac07 0 README
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„blobå®ä½“ã€‚READMEçš„æ•´ä¸ªå†…å®¹è¢«å­˜å…¥ä¸€ä¸ªæ–°çš„blobã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# .git/objects/11/92db4c15e019da7fc053225d09dea14bc3ac07
$ git cat-file blob 1192db
A roti canai project.
Welcome everyone.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;å‘å­ç›®å½•ä¸­æ·»åŠ æ–‡ä»¶&lt;/h3&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ mkdir doc
$ echo &amp;quot;[[TBD]] manual toc&amp;quot; &amp;gt;&amp;gt; doc/manual.txt
$ git add doc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="å‘å­ç›®å½•æ·»åŠ æ–‡ä»¶å" src="/assets/uploads/pics/git-internals/subdir.png"&gt;&lt;/p&gt;
&lt;p&gt;å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ–°äº†ç´¢å¼•ï¼ˆIndexï¼‰æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git ls-files --stage
100644 1192db4c15e019da7fc053225d09dea14bc3ac07 0 README
100644 ea283e4fb22719fad512405d41dffa050cd16f9a 0 doc/manual.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„blobå®ä½“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# .git/objects/ea/283e4fb22719fad512405d41dffa050cd16f9a
$ git cat-file blob ea283
[[TBD]] manual toc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ç¬¬äºŒæ¬¡æäº¤&lt;/h3&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git commit -m&amp;#39;second commit&amp;#39;
[master 556eaf3] second commit
 2 files changed, 2 insertions(+), 0 deletions(-)
 create mode 100644 doc/manual.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="ç¬¬äºŒæ¬¡æäº¤å" src="/assets/uploads/pics/git-internals/second-commit.png"&gt;&lt;/p&gt;
&lt;p&gt;å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ–°äº†åˆ†æ”¯â€œmasterâ€å¼•ç”¨ï¼ŒæŒ‡å‘è¯¥åˆ†æ”¯ä¸­æœ€æ–°çš„commitå®ä½“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ cat .git/refs/heads/master 
556eaf374886d4c07a1906b9fdcaba195292b96
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†ç¬¬äºŒä¸ªcommitå®ä½“ã€‚æ³¨æ„å®ƒçš„â€œparentâ€æ˜¯æŒ‡å‘é¦–ä¸ªcommitå®ä½“ã€‚è¿™æ ·å½¢æˆäº†ä¸€ä¸ªæäº¤å›¾è°±ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git cat-file commit 556e
tree 7729a8b15b747bce541a9752a8f10d57daf221b6
parent d9976cfe0430557885d162927dd70186d0f521e8
author Huiming Teo &amp;lt;huiming@favoritemedium.com&amp;gt; 1306743598 +0800
committer Huiming Teo &amp;lt;huiming@favoritemedium.com&amp;gt; 1306743598 +0800

second commit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ä»£ç ä»“åº“æ ¹ç›®å½•treeå®ä½“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git ls-tree 7729
100644 blob 1192db4c15e019da7fc053225d09dea14bc3ac07  README
040000 tree 6ff17d485bf857514f299f0bde0e2a5c932bd055  doc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å­ç›®å½•treeå®ä½“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git ls-tree 6ff1
100644 blob ea283e4fb22719fad512405d41dffa050cd16f9a  manual.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;æ·»åŠ ä¸€ä¸ªæ³¨é‡Šæ ‡ç­¾ï¼ˆannotated tagï¼‰&lt;/h3&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git tag -a -m&amp;#39;this is annotated tag&amp;#39; v0.1 d9976
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="æ·»åŠ ä¸€ä¸ªæ³¨é‡Šæ ‡ç­¾å" src="/assets/uploads/pics/git-internals/annotated-tag.png"&gt;&lt;/p&gt;
&lt;p&gt;å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†ä¸€ä¸ªæ ‡ç­¾å¼•ç”¨ï¼ŒæŒ‡å‘ä¸€ä¸ªtagå®ä½“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ cat .git/refs/tags/v0.1 
c758f4820f02acf20bb3f6d7f6098f25ee6ed730
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºäº†ä¸€ä¸ªtagå®ä½“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git cat-file tag c758
object d9976cfe0430557885d162927dd70186d0f521e8
type commit
tag v0.1
tagger Huiming Teo &amp;lt;huiming@favoritemedium.com&amp;gt; 1306744918 +0800

this is annotated tag
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;æ·»åŠ ä¸€ä¸ªæ–°çš„ï¼ˆè½»é‡çš„ï¼‰æ ‡ç­¾&lt;/h3&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git tag root-commit d9976
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="æ·»åŠ ä¸€ä¸ªæ–°çš„è½»é‡æ ‡ç­¾å" src="/assets/uploads/pics/git-internals/new-tag.png"&gt;&lt;/p&gt;
&lt;p&gt;å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºäº†ä¸€ä¸ªæ ‡ç­¾å¼•ç”¨ï¼ŒæŒ‡å‘ä¸€ä¸ªcommitå®ä½“ã€‚&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ cat .git/refs/tags/root-commit 
d9976cfe0430557885d162927dd70186d0f521e8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;è¡¥å……é˜…è¯»&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://book.git-scm.com/index.html"&gt;Gitç¤¾åŒºä¹¦&lt;/a&gt;â€œç¬¬7ç« ï¼šå†…éƒ¨æ„é€ æ¢ç©¶â€&lt;/li&gt;
&lt;li&gt;&lt;a href="http://progit.org/book/ch9-0.html"&gt;Pro Git&lt;/a&gt;â€œç¬¬9ç« ï¼šGitå†…éƒ¨æ„é€ â€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;æ¥ä¸‹æ¥åšä»€ä¹ˆå‘¢ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å¯»æ‰¾é€‚åˆåˆ†å¸ƒå¼å›¢é˜Ÿã€é•¿æœŸé¡¹ç›®çš„ä¸€ä¸ªæœ€å°åŒ–gitå·¥ä½œæµã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Git"></category><category term="ç¿»è¯‘"></category></entry><entry><title>æ—¶é—´çš„å¿ƒ</title><link href="http://youngsterxyf.github.io/2013/08/22/heart-of-time/" rel="alternate"></link><published>2013-08-22T00:00:00+08:00</published><updated>2013-08-22T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-08-22:/2013/08/22/heart-of-time/</id><summary type="html">&lt;p&gt;è¿‘æœŸå·¥ä½œç”Ÿæ´»çš„ä¸€ç‚¹å¿ƒå¾—ï¼š&lt;/p&gt;
&lt;h3&gt;çæƒœè‡ªå·±çš„æ—¶é—´&lt;/h3&gt;
&lt;p&gt;ä¹äºåŠ©äººæ˜¯å¥½äº‹ï¼Œä½†ï¼Œæ˜¯éœ€è¦è€—è´¹æ—¶é—´çš„ï¼Œé‚£ä¹ˆåœ¨åŠ©äººä¹‹å‰å°±å¾—ç¡®è®¤å¸®åŠ©åˆ«äººæ‰€ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;è¿‘æœŸå·¥ä½œç”Ÿæ´»çš„ä¸€ç‚¹å¿ƒå¾—ï¼š&lt;/p&gt;
&lt;h3&gt;çæƒœè‡ªå·±çš„æ—¶é—´&lt;/h3&gt;
&lt;p&gt;ä¹äºåŠ©äººæ˜¯å¥½äº‹ï¼Œä½†ï¼Œæ˜¯éœ€è¦è€—è´¹æ—¶é—´çš„ï¼Œé‚£ä¹ˆåœ¨åŠ©äººä¹‹å‰å°±å¾—ç¡®è®¤å¸®åŠ©åˆ«äººæ‰€åšçš„äº‹æƒ…æœ‰å¤šå¤§æ„ä¹‰ï¼Œæ˜¯å¦å¯¹å¾—èµ·æ‰€è€—è´¹çš„æ—¶é—´ç²¾åŠ›ã€‚æ¯ä¸ªäººçš„æ—¶é—´éƒ½å¾ˆçè´µï¼Œåº”å°½å¯èƒ½ç”¨æ¥åšæœ‰ä»·å€¼çš„äº‹æƒ…ï¼Œä¸è¦æŠŠè‡ªå·±çš„æ—¶é—´çœ‹å¾—è¿‡äºå»‰ä»·ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¹‹åæœ‰äººè¯·æˆ‘å¸®å¿™æ—¶ï¼Œæˆ‘ä¼šå…ˆé—®ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é€šè¿‡è¿™ä¸¤ä¸ªé—®é¢˜æ¥åˆ¤æ–­æ˜¯å¦å€¼å¾—å¸®å¿™ã€‚&lt;/p&gt;
&lt;h3&gt;å¹³å¸¸å¿ƒ&lt;/h3&gt;
&lt;p&gt;ä¸€å¿ƒè¿½æ±‚æŠ€æœ¯ï¼Œå¯¹æŠ€æœ¯å¥½åæœ‰è‡ªå·±çš„â€œæ­£ä¹‰æ„Ÿâ€ï¼Œæ˜¯å¥½äº‹ã€‚ä½†ï¼Œä¸èƒ½è‹›æ±‚åˆ«äººï¼Œæ›´ä¸èƒ½ä¸åœè¯„ä»·åæ§½ï¼Œå¦åˆ™äºå·±äºäººéƒ½æ— ç›Šå¤„ã€‚å¯¹åˆ«äººã€åˆ«äººçš„æŠ€æœ¯æ°´å¹³å®½å®¹ä¸€ç‚¹ï¼ŒæŠŠè‹›æ±‚ç•™ç»™è‡ªå·±ï¼Œä¸æ–­æé«˜è‡ªå·±ï¼ŒåŠªåŠ›æŠŠäº‹æƒ…åšå¾—æ›´å¥½ï¼Œå…¶ä»–çš„åˆ™åº”ä¿æŒå¹³å¸¸å¿ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è‡³äºæœ¬æ–‡çš„é¢˜ç›®ï¼Œåˆ™çº¯å±æ‰¯æ·¡ï¼Œæ•…ä½œçŸ«æƒ…ï¼Œä»ä¸¤ä¸ªéƒ¨åˆ†çš„æ ‡é¢˜ä¸­å–å‡ºæœ€åä¸€è¯ç»„åˆè€Œæˆã€‚&lt;/em&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æ€»ç»“"></category><category term="è‡ªçœ"></category></entry><entry><title>Yåˆ†é’Ÿå­¦ä¼šPythonï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/06/29/learn-python-in-y-minutes/" rel="alternate"></link><published>2013-06-29T00:00:00+08:00</published><updated>2013-06-29T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-06-29:/2013/06/29/learn-python-in-y-minutes/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://learnxinyminutes.com/docs/python/"&gt;Learn Python in Y Minutes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Pythonç”±Guido Van Rossumå‘æ˜äº90å¹´ä»£åˆæœŸï¼Œæ˜¯ç›®å‰æœ€æµè¡Œçš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ï¼Œå› å…¶è¯­æ³•çš„æ¸…æ™°ç®€æ´æˆ‘çˆ±ä¸Šäº†Pythonï¼Œå…¶ä»£ç åŸºæœ¬ä¸Šå¯ä»¥
è¯´æ˜¯ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://learnxinyminutes.com/docs/python/"&gt;Learn Python in Y Minutes&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Pythonç”±Guido Van Rossumå‘æ˜äº90å¹´ä»£åˆæœŸï¼Œæ˜¯ç›®å‰æœ€æµè¡Œçš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ï¼Œå› å…¶è¯­æ³•çš„æ¸…æ™°ç®€æ´æˆ‘çˆ±ä¸Šäº†Pythonï¼Œå…¶ä»£ç åŸºæœ¬ä¸Šå¯ä»¥
è¯´æ˜¯å¯æ‰§è¡Œçš„ä¼ªä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;éå¸¸æ¬¢è¿åé¦ˆï¼ä½ å¯ä»¥é€šè¿‡æ¨ç‰¹&lt;a href="https://twitter.com/louiedinh"&gt;@louiedinh&lt;/a&gt;æˆ–louiedinh AT gmailè”ç³»æˆ‘ã€‚&lt;/p&gt;
&lt;p&gt;å¤‡æ³¨ï¼šæœ¬æ–‡æ˜¯ä¸“é—¨é’ˆå¯¹Python 2.7çš„ï¼Œä½†åº”è¯¥æ˜¯é€‚ç”¨äºPython 2.xçš„ã€‚å¾ˆå¿«æˆ‘ä¹Ÿä¼šä¸ºPython 3å†™è¿™æ ·çš„ä¸€ç¯‡æ–‡ç« ï¼&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# å•è¡Œæ³¨é‡Šä»¥äº•å­—ç¬¦å¼€å¤´&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;quot;&amp;quot;&amp;quot; æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‰ä¸ªåŒå¼•å·ï¼ˆ&amp;quot;ï¼‰æˆ–å•å¼•å·ï¼ˆ&amp;#39;ï¼‰&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    æ¥ç¼–å†™å¤šè¡Œæ³¨é‡Š&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;


&lt;span style="color: #008000"&gt;##########################################################&lt;/span&gt;
&lt;span style="color: #008000"&gt;## 1. åŸºæœ¬æ•°æ®ç±»å‹å’Œæ“ä½œç¬¦&lt;/span&gt;
&lt;span style="color: #008000"&gt;##########################################################&lt;/span&gt;

&lt;span style="color: #008000"&gt;# æ•°å­—&lt;/span&gt;
3 &lt;span style="color: #008000"&gt;#=&amp;gt; 3&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä½ é¢„æƒ³çš„æ•°å­¦è¿ç®—&lt;/span&gt;
1 + 1 &lt;span style="color: #008000"&gt;#=&amp;gt; 2&lt;/span&gt;
8 - 1 &lt;span style="color: #008000"&gt;#=&amp;gt; 7&lt;/span&gt;
10 * 2 &lt;span style="color: #008000"&gt;#=&amp;gt; 20&lt;/span&gt;
35 / 5 &lt;span style="color: #008000"&gt;#=&amp;gt; 7&lt;/span&gt;

&lt;span style="color: #008000"&gt;# é™¤æ³•ç•¥æ˜¾è¯¡å¼‚ã€‚æ•´æ•°ç›¸é™¤ä¼šè‡ªåŠ¨å‘ä¸‹å–å°äºç»“æœçš„æœ€å¤§æ•´æ•°&lt;/span&gt;
11 / 4 &lt;span style="color: #008000"&gt;#=&amp;gt; 2&lt;/span&gt;

&lt;span style="color: #008000"&gt;# è¿˜æœ‰æµ®ç‚¹æ•°å’Œæµ®ç‚¹æ•°é™¤æ³•ï¼ˆè¯‘æ³¨ï¼šé™¤æ•°å’Œè¢«é™¤æ•°ä¸¤è€…è‡³å°‘ä¸€ä¸ªä¸ºæµ®ç‚¹æ•°ï¼Œç»“æœæ‰ä¼šæ˜¯æµ®ç‚¹æ•°ï¼‰&lt;/span&gt;
2.0     &lt;span style="color: #008000"&gt;# è¿™æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°&lt;/span&gt;
5.0 / 2.0 &lt;span style="color: #008000"&gt;#=&amp;gt; 2.5 é¢...è¯­æ³•æ›´æ˜ç¡®ä¸€äº›&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä½¿ç”¨æ‹¬å·æ¥å¼ºåˆ¶ä¼˜å…ˆçº§&lt;/span&gt;
(1 + 3) * 2 &lt;span style="color: #008000"&gt;#=&amp;gt; 8&lt;/span&gt;


&lt;span style="color: #008000"&gt;# å¸ƒå°”å€¼ä¹Ÿæ˜¯åŸºæœ¬ç±»å‹æ•°æ®&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;True&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä½¿ç”¨notæ¥æ±‚å&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;not&lt;/span&gt; &lt;span style="color: #0000ff"&gt;True&lt;/span&gt; &lt;span style="color: #008000"&gt;#=&amp;gt; False&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;not&lt;/span&gt; &lt;span style="color: #0000ff"&gt;False&lt;/span&gt; &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ç›¸ç­‰æ¯”è¾ƒä½¿ç”¨==&lt;/span&gt;
1 == 1 &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;
2 == 1 &lt;span style="color: #008000"&gt;#=&amp;gt; False&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä¸ç›¸ç­‰æ¯”è¾ƒä½¿ç”¨!=&lt;/span&gt;
1 != 1 &lt;span style="color: #008000"&gt;#=&amp;gt; False&lt;/span&gt;
2 != 1 &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;

&lt;span style="color: #008000"&gt;# æ›´å¤šçš„æ¯”è¾ƒæ–¹å¼&lt;/span&gt;
1 &amp;lt; 10 &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;
1 &amp;gt; 10 &lt;span style="color: #008000"&gt;#=&amp;gt; False&lt;/span&gt;
2 &amp;lt;= 2 &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;
2 &amp;gt;= 2 &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;

&lt;span style="color: #008000"&gt;# æ¯”è¾ƒæ“ä½œå¯ä»¥ä¸²æ¥ï¼&lt;/span&gt;
1 &amp;lt; 2 &amp;lt; 3 &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;
2 &amp;lt; 3 &amp;lt; 2 &lt;span style="color: #008000"&gt;#=&amp;gt; False&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å¯ä»¥ä½¿ç”¨&amp;quot;æˆ–&amp;#39;åˆ›å»ºå­—ç¬¦ä¸²&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;quot;This is a string.&amp;quot;&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;#39;This is also a string.&amp;#39;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç›¸åŠ ï¼&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;quot;Hello &amp;quot;&lt;/span&gt; + &lt;span style="color: #a31515"&gt;&amp;quot;world!&amp;quot;&lt;/span&gt; &lt;span style="color: #008000"&gt;#=&amp;gt; &amp;quot;Hello world!&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å­—ç¬¦ä¸²å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå­—ç¬¦åˆ—è¡¨&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;quot;This is a string&amp;quot;&lt;/span&gt;[0] &lt;span style="color: #008000"&gt;#=&amp;gt; &amp;#39;T&amp;#39;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# Noneæ˜¯ä¸€ä¸ªå¯¹è±¡&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;None&lt;/span&gt; &lt;span style="color: #008000"&gt;#=&amp;gt; None&lt;/span&gt;


&lt;span style="color: #008000"&gt;####################################################&lt;/span&gt;
&lt;span style="color: #008000"&gt;## 2. å˜é‡ä¸æ•°æ®å®¹å™¨&lt;/span&gt;
&lt;span style="color: #008000"&gt;####################################################&lt;/span&gt;

&lt;span style="color: #008000"&gt;# æ‰“å°è¾“å‡ºéå¸¸ç®€å•&lt;/span&gt;
print &lt;span style="color: #a31515"&gt;&amp;quot;I&amp;#39;m Python. Nice to meet you!&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# èµ‹å€¼ä¹‹å‰ä¸éœ€è¦å£°æ˜å˜é‡&lt;/span&gt;
some_var = 5    &lt;span style="color: #008000"&gt;# çº¦å®šä½¿ç”¨ å°å†™_å­—æ¯_å’Œ_ä¸‹åˆ’çº¿ çš„å‘½åæ–¹å¼&lt;/span&gt;
some_var &lt;span style="color: #008000"&gt;#=&amp;gt; 5&lt;/span&gt;

&lt;span style="color: #008000"&gt;# è®¿é—®ä¹‹å‰æœªèµ‹å€¼çš„å˜é‡ä¼šäº§ç”Ÿä¸€ä¸ªå¼‚å¸¸&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
    some_other_var
&lt;span style="color: #0000ff"&gt;except&lt;/span&gt; NameError:
    print &lt;span style="color: #a31515"&gt;&amp;quot;Raises a name error&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# èµ‹å€¼æ—¶å¯ä»¥ä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼&lt;/span&gt;
some_var = a &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; a &amp;gt; b &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; b
&lt;span style="color: #008000"&gt;# å¦‚æœaå¤§äºbï¼Œåˆ™å°†aèµ‹ç»™some_varï¼Œ&lt;/span&gt;
&lt;span style="color: #008000"&gt;# å¦åˆ™å°†bèµ‹ç»™some_var&lt;/span&gt;

&lt;span style="color: #008000"&gt;# åˆ—è¡¨ç”¨äºå­˜å‚¨æ•°æ®åºåˆ—&lt;/span&gt;
li = []
&lt;span style="color: #008000"&gt;# ä½ å¯ä»¥ä¸€ä¸ªé¢„å…ˆå¡«å……çš„åˆ—è¡¨å¼€å§‹&lt;/span&gt;
other_li = [4, 5, 6]

&lt;span style="color: #008000"&gt;# ä½¿ç”¨appendå°†æ•°æ®æ·»åŠ åˆ°åˆ—è¡¨çš„æœ«å°¾&lt;/span&gt;
li.append(1)    &lt;span style="color: #008000"&gt;#liç°åœ¨ä¸º[1]&lt;/span&gt;
li.append(2)    &lt;span style="color: #008000"&gt;#liç°åœ¨ä¸º[1, 2]&lt;/span&gt;
li.append(4)    &lt;span style="color: #008000"&gt;#liç°åœ¨ä¸º[1, 2, 4]&lt;/span&gt;
li.append(3)    &lt;span style="color: #008000"&gt;#liç°åœ¨ä¸º[1, 2, 4, 3]&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä½¿ç”¨popä»åˆ—è¡¨æœ«å°¾åˆ é™¤æ•°æ®&lt;/span&gt;
li.pop()    &lt;span style="color: #008000"&gt;#=&amp;gt; 3ï¼Œliç°åœ¨ä¸º[1, 2, 4]&lt;/span&gt;
&lt;span style="color: #008000"&gt;# æŠŠåˆšåˆšåˆ é™¤çš„æ•°æ®å­˜å›æ¥&lt;/span&gt;
li.append(3)    &lt;span style="color: #008000"&gt;# ç°åœ¨liå†ä¸€æ¬¡ä¸º[1, 2, 4, 3]&lt;/span&gt;

&lt;span style="color: #008000"&gt;# åƒè®¿é—®æ•°ç»„ä¸€æ ·è®¿é—®åˆ—è¡¨&lt;/span&gt;
li[0] &lt;span style="color: #008000"&gt;#=&amp;gt; 1&lt;/span&gt;
&lt;span style="color: #008000"&gt;# çœ‹çœ‹æœ€åä¸€ä¸ªå…ƒç´ &lt;/span&gt;
li[-1] &lt;span style="color: #008000"&gt;#=&amp;gt; 3&lt;/span&gt;

&lt;span style="color: #008000"&gt;# è¶Šç•Œè®¿é—®ä¼šäº§ç”Ÿä¸€ä¸ªIndexError&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
    li[4] &lt;span style="color: #008000"&gt;# æŠ›å‡ºä¸€ä¸ªIndexErrorå¼‚å¸¸&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;except&lt;/span&gt; IndexError:
    print &lt;span style="color: #a31515"&gt;&amp;quot;Raises an IndexError&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å¯ä»¥é€šè¿‡åˆ†ç‰‡(slice)è¯­æ³•æ¥æŸ¥çœ‹åˆ—è¡¨ä¸­æŸä¸ªåŒºé—´çš„æ•°æ®&lt;/span&gt;
&lt;span style="color: #008000"&gt;# ä»¥æ•°å­¦è§’åº¦æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªé—­åˆ/å¼€æ”¾åŒºé—´&lt;/span&gt;
li[1:3] &lt;span style="color: #008000"&gt;#=&amp;gt; [2, 4]&lt;/span&gt;
&lt;span style="color: #008000"&gt;# çœç•¥ç»“æŸä½ç½®&lt;/span&gt;
li[2:] &lt;span style="color: #008000"&gt;#=&amp;gt; [4, 3]&lt;/span&gt;
&lt;span style="color: #008000"&gt;# çœç•¥å¼€å§‹ä½ç½®&lt;/span&gt;
li[:3] &lt;span style="color: #008000"&gt;#=&amp;gt; [1, 2, 4]&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä½¿ç”¨delä»åˆ—è¡¨ä¸­åˆ é™¤ä»»æ„å…ƒç´ &lt;/span&gt;
&lt;span style="color: #0000ff"&gt;del&lt;/span&gt; li[2] &lt;span style="color: #008000"&gt;#liç°åœ¨ä¸º[1, 2, 3]&lt;/span&gt;

&lt;span style="color: #008000"&gt;# åˆ—è¡¨å¯ä»¥ç›¸åŠ &lt;/span&gt;
li + other_li &lt;span style="color: #008000"&gt;#=&amp;gt; [1, 3, 3, 4, 5, 6] - æ³¨æ„ï¼šliå’Œother_liå¹¶æœªæ”¹å˜&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä»¥extendæ¥è¿ç»“åˆ—è¡¨&lt;/span&gt;
li.extend(other_li) &lt;span style="color: #008000"&gt;# ç°åœ¨liä¸º[1, 2, 3, 4, 5, 6]&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä»¥inæ¥æ£€æµ‹åˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨æŸå…ƒç´ &lt;/span&gt;
1 &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; li &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä»¥lenå‡½æ•°æ¥æ£€æµ‹åˆ—è¡¨é•¿åº¦&lt;/span&gt;
len(li) &lt;span style="color: #008000"&gt;#=&amp;gt; 6&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å…ƒç»„ç±»ä¼¼åˆ—è¡¨ï¼Œä½†ä¸å¯å˜&lt;/span&gt;
tup  = (1, 2, 3)
tup[0] &lt;span style="color: #008000"&gt;#=&amp;gt; 1&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
    tup[0] = 3 &lt;span style="color: #008000"&gt;# æŠ›å‡ºä¸€ä¸ªTypeErrorå¼‚å¸¸&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;except&lt;/span&gt; TypeError:
    print &lt;span style="color: #a31515"&gt;&amp;quot;Tuples cannot be mutated.&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å¯ä»¥åœ¨å…ƒç»„ä¸Šä½¿ç”¨å’Œåˆ—è¡¨ä¸€æ ·çš„æ“ä½œ&lt;/span&gt;
len(tup) &lt;span style="color: #008000"&gt;#=&amp;gt; 3&lt;/span&gt;
tup + (4, 5, 6) &lt;span style="color: #008000"&gt;#=&amp;gt; (1, 2, 3, 4, 5, 6)&lt;/span&gt;
tup[:2] &lt;span style="color: #008000"&gt;#=&amp;gt; (1, 2)&lt;/span&gt;
2 &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; tup &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å¯ä»¥å°†å…ƒç»„è§£åŒ…åˆ°å˜é‡&lt;/span&gt;
a, b, c = (1, 2, 3) &lt;span style="color: #008000"&gt;# ç°åœ¨aç­‰äº1ï¼Œbç­‰äº2ï¼Œcç­‰äº3&lt;/span&gt;
&lt;span style="color: #008000"&gt;# å¦‚æœä½ çœç•¥æ‹¬å·ï¼Œé»˜è®¤ä¹Ÿä¼šåˆ›å»ºå…ƒç»„&lt;/span&gt;
d, e, f = 4, 5, 6
&lt;span style="color: #008000"&gt;# çœ‹çœ‹ä¸¤ä¸ªå˜é‡äº’æ¢å€¼æœ‰å¤šç®€å•&lt;/span&gt;
e, d = d, e     &lt;span style="color: #008000"&gt;#ç°åœ¨dä¸º5ï¼Œeä¸º4&lt;/span&gt;


&lt;span style="color: #008000"&gt;# å­—å…¸å­˜å‚¨æ˜ å°„å…³ç³»&lt;/span&gt;
empty_dict = {}
&lt;span style="color: #008000"&gt;# è¿™æ˜¯ä¸€ä¸ªé¢„å…ˆå¡«å……çš„å­—å…¸&lt;/span&gt;
filled_dict = {&lt;span style="color: #a31515"&gt;&amp;quot;one&amp;quot;&lt;/span&gt;: 1, &lt;span style="color: #a31515"&gt;&amp;quot;two&amp;quot;&lt;/span&gt;: 2, &lt;span style="color: #a31515"&gt;&amp;quot;three&amp;quot;&lt;/span&gt;: 3}

&lt;span style="color: #008000"&gt;# ä»¥[]è¯­æ³•æŸ¥æ‰¾å€¼&lt;/span&gt;
filled_dict[&lt;span style="color: #a31515"&gt;&amp;#39;one&amp;#39;&lt;/span&gt;] &lt;span style="color: #008000"&gt;#=&amp;gt; 1&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä»¥åˆ—è¡¨å½¢å¼è·å–æ‰€æœ‰çš„é”®&lt;/span&gt;
filled_dict.keys() &lt;span style="color: #008000"&gt;#=&amp;gt; [&amp;quot;three&amp;quot;, &amp;quot;two&amp;quot;, &amp;quot;one&amp;quot;]&lt;/span&gt;
&lt;span style="color: #008000"&gt;# æ³¨æ„ - å­—å…¸é”®çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„&lt;/span&gt;
&lt;span style="color: #008000"&gt;# ä½ çš„ç»“æœä¹Ÿè®¸å’Œä¸Šé¢çš„è¾“å‡ºç»“æœå¹¶ä¸ä¸€è‡´&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä»¥inæ¥æ£€æµ‹å­—å…¸ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé”®&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;quot;one&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; filled_dict &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;
1 &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; filled_dict &lt;span style="color: #008000"&gt;#=&amp;gt; False&lt;/span&gt;

&lt;span style="color: #008000"&gt;# è¯•å›¾ä½¿ç”¨æŸä¸ªä¸å­˜åœ¨çš„é”®ä¼šæŠ›å‡ºä¸€ä¸ªKeyErrorå¼‚å¸¸&lt;/span&gt;
filled_dict[&lt;span style="color: #a31515"&gt;&amp;#39;four&amp;#39;&lt;/span&gt;] &lt;span style="color: #008000"&gt;#=&amp;gt; æŠ›å‡ºKeyErrorå¼‚å¸¸&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä½¿ç”¨getæ–¹æ³•æ¥é¿å…KeyError&lt;/span&gt;
filled_dict.get(&lt;span style="color: #a31515"&gt;&amp;quot;one&amp;quot;&lt;/span&gt;) &lt;span style="color: #008000"&gt;#=&amp;gt; 1&lt;/span&gt;
filled_dict.get(&lt;span style="color: #a31515"&gt;&amp;quot;four&amp;quot;&lt;/span&gt;) &lt;span style="color: #008000"&gt;#=&amp;gt; None&lt;/span&gt;

&lt;span style="color: #008000"&gt;# getæ–¹æ³•æ”¯æŒä¸€ä¸ªé»˜è®¤å‚æ•°ï¼Œä¸å­˜åœ¨æŸä¸ªé”®æ—¶è¿”å›è¯¥é»˜è®¤å‚æ•°å€¼&lt;/span&gt;
filled_dict.get(&lt;span style="color: #a31515"&gt;&amp;quot;one&amp;quot;&lt;/span&gt;, 4) &lt;span style="color: #008000"&gt;#=&amp;gt; 1&lt;/span&gt;
filled_dict.get(&lt;span style="color: #a31515"&gt;&amp;quot;four&amp;quot;&lt;/span&gt;, 4) &lt;span style="color: #008000"&gt;#=&amp;gt; 4&lt;/span&gt;

&lt;span style="color: #008000"&gt;# setdefaultæ–¹æ³•æ˜¯ä¸€ç§æ·»åŠ æ–°çš„é”®-å€¼å¯¹åˆ°å­—å…¸çš„å®‰å…¨æ–¹å¼&lt;/span&gt;
filled_dict.setdefault(&lt;span style="color: #a31515"&gt;&amp;quot;five&amp;quot;&lt;/span&gt;, 5) &lt;span style="color: #008000"&gt;#filled_dict[&amp;quot;five&amp;quot;]è®¾ç½®ä¸º5&lt;/span&gt;
filled_dict.setdefault(&lt;span style="color: #a31515"&gt;&amp;quot;five&amp;quot;&lt;/span&gt;, 6) &lt;span style="color: #008000"&gt;#filled_dict[&amp;quot;five&amp;quot;]ä»ä¸º5&lt;/span&gt;


&lt;span style="color: #008000"&gt;# é›†åˆ&lt;/span&gt;
empty_set = set()
&lt;span style="color: #008000"&gt;# ä»¥å‡ ä¸ªå€¼åˆå§‹åŒ–ä¸€ä¸ªé›†åˆ&lt;/span&gt;
filled_set = set([1, 2, 2, 3, 4]) &lt;span style="color: #008000"&gt;# filled_setç°ä¸ºset([1, 2, 3, 4, 5])&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä»¥&amp;amp;æ‰§è¡Œé›†åˆäº¤è¿ç®—&lt;/span&gt;
other_set = set([3, 4, 5, 6])
filled_set &amp;amp; other_set &lt;span style="color: #008000"&gt;#=&amp;gt; set([3, 4, 5])&lt;/span&gt;
&lt;span style="color: #008000"&gt;# ä»¥|æ‰§è¡Œé›†åˆå¹¶è¿ç®—&lt;/span&gt;
filled_set | other_set &lt;span style="color: #008000"&gt;#=&amp;gt; set([1, 2, 3, 4, 5, 6])&lt;/span&gt;
&lt;span style="color: #008000"&gt;# ä»¥-æ‰§è¡Œé›†åˆå·®è¿ç®—&lt;/span&gt;
set([1, 2, 3, 4]) - set([2, 3, 5]) &lt;span style="color: #008000"&gt;#=&amp;gt; set([1, 4])&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä»¥inæ¥æ£€æµ‹é›†åˆä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼&lt;/span&gt;
2 &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; filled_set &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;
10 &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; filled_set &lt;span style="color: #008000"&gt;#=&amp;gt; False&lt;/span&gt;


&lt;span style="color: #008000"&gt;####################################################&lt;/span&gt;
&lt;span style="color: #008000"&gt;## 3. æ§åˆ¶æµç¨‹&lt;/span&gt;
&lt;span style="color: #008000"&gt;####################################################&lt;/span&gt;

&lt;span style="color: #008000"&gt;# åˆ›å»ºä¸ªå˜é‡&lt;/span&gt;
some_var = 5

&lt;span style="color: #008000"&gt;# ä»¥ä¸‹æ˜¯ä¸€ä¸ªifè¯­å¥ã€‚ç¼©è¿›åœ¨Pythonæ˜¯æœ‰é‡è¦æ„ä¹‰çš„ã€‚&lt;/span&gt;
&lt;span style="color: #008000"&gt;# æ‰“å° &amp;quot;some_var is smaller than 10&amp;quot;&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; some_var &amp;gt; 10:
    print &lt;span style="color: #a31515"&gt;&amp;quot;some_var is totally bigger than 10.&amp;quot;&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;elif&lt;/span&gt; some_var &amp;lt; 10:
    print &lt;span style="color: #a31515"&gt;&amp;quot;some_var is smaller than 10.&amp;quot;&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
    print &lt;span style="color: #a31515"&gt;&amp;quot;some_var is indeed 10.&amp;quot;&lt;/span&gt;


&lt;span style="color: #a31515"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span style="color: #a31515"&gt;Forå¾ªç¯åœ¨åˆ—è¡¨ä¸Šè¿­ä»£&lt;/span&gt;
&lt;span style="color: #a31515"&gt;è¾“å‡ºï¼š&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    dog is a mammal&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    cat is a mammal&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    mouse is a mammal&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt; animal &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; [&lt;span style="color: #a31515"&gt;&amp;quot;dog&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;cat&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;mouse&amp;quot;&lt;/span&gt;]:
    &lt;span style="color: #008000"&gt;# å¯ä»¥ä½¿ç”¨%æ¥æ’è¡¥æ ¼å¼åŒ–å­—ç¬¦ä¸²&lt;/span&gt;
    print &lt;span style="color: #a31515"&gt;&amp;quot;%s is a mammal&amp;quot;&lt;/span&gt; % animal

&lt;span style="color: #a31515"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span style="color: #a31515"&gt;whileå¾ªç¯ç›´åˆ°æœªæ»¡è¶³æŸä¸ªæ¡ä»¶ã€‚&lt;/span&gt;
&lt;span style="color: #a31515"&gt;è¾“å‡ºï¼š&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    0&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    1&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    2&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    3&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
x = 0
&lt;span style="color: #0000ff"&gt;while&lt;/span&gt; x &amp;lt; 4:
    print x
    x += 1    &lt;span style="color: #008000"&gt;# x = x + 1çš„ä¸€ç§ç®€å†™&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä½¿ç”¨try/exceptå—æ¥å¤„ç†å¼‚å¸¸&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å¯¹Python 2.6åŠä»¥ä¸Šç‰ˆæœ¬æœ‰æ•ˆ&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
    &lt;span style="color: #008000"&gt;# ä½¿ç”¨raiseæ¥æŠ›å‡ºä¸€ä¸ªé”™è¯¯&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;raise&lt;/span&gt; IndexError(&lt;span style="color: #a31515"&gt;&amp;quot;This is an index error&amp;quot;&lt;/span&gt;)
&lt;span style="color: #0000ff"&gt;except&lt;/span&gt; IndexError &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; e:
    &lt;span style="color: #0000ff"&gt;pass&lt;/span&gt;    &lt;span style="color: #008000"&gt;# passå°±æ˜¯ä»€ä¹ˆéƒ½ä¸å¹²ã€‚é€šå¸¸è¿™é‡Œç”¨æ¥åšä¸€äº›æ¢å¤å·¥ä½œ&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å¯¹äºPython 2.7åŠä»¥ä¸‹ç‰ˆæœ¬æœ‰æ•ˆ&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
    &lt;span style="color: #0000ff"&gt;raise&lt;/span&gt; IndexError(&lt;span style="color: #a31515"&gt;&amp;quot;This is an index error&amp;quot;&lt;/span&gt;)
&lt;span style="color: #0000ff"&gt;except&lt;/span&gt; IndexError, e:   &lt;span style="color: #008000"&gt;# æ²¡æœ‰&amp;quot;as&amp;quot;ï¼Œä»¥é€—å·æ›¿ä»£&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;pass&lt;/span&gt;


&lt;span style="color: #008000"&gt;####################################################&lt;/span&gt;
&lt;span style="color: #008000"&gt;## 4. å‡½æ•°&lt;/span&gt;
&lt;span style="color: #008000"&gt;####################################################&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä½¿ç”¨defæ¥åˆ›å»ºæ–°å‡½æ•°&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; add(x, y):
    print &lt;span style="color: #a31515"&gt;&amp;quot;x is %s and y is %s&amp;quot;&lt;/span&gt; % (x, y)
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; x + y    &lt;span style="color: #008000"&gt;# ä»¥ä¸€ä¸ªreturnè¯­å¥æ¥è¿”å›å€¼&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä»¥å‚æ•°è°ƒç”¨å‡½æ•°&lt;/span&gt;
add(5, 6) &lt;span style="color: #008000"&gt;#=&amp;gt; 11 å¹¶è¾“å‡º &amp;quot;x is 5 and y is 6&amp;quot;&lt;/span&gt;
&lt;span style="color: #008000"&gt;# å¦ä¸€ç§è°ƒç”¨å‡½æ•°çš„æ–¹å¼æ˜¯å…³é”®å­—å‚æ•°&lt;/span&gt;
add(x=5, y=6)   &lt;span style="color: #008000"&gt;# å…³é”®å­—å‚æ•°å¯ä»¥ä»»æ„é¡ºåºè¾“å…¥&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å¯å®šä¹‰æ¥å—å¯å˜æ•°é‡çš„ä½ç½®å‚æ•°çš„å‡½æ•°&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; varargs(*args):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; args

varargs(1, 2, 3) &lt;span style="color: #008000"&gt;#=&amp;gt; (1, 2, 3)&lt;/span&gt;


&lt;span style="color: #008000"&gt;# ä¹Ÿå¯ä»¥å®šä¹‰æ¥å—å¯å˜æ•°é‡å…³é”®å­—å‚æ•°çš„å‡½æ•°&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; keyword_args(**kwargs):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; kwargs

&lt;span style="color: #008000"&gt;# è°ƒç”¨ä¸€ä¸‹è¯¥å‡½æ•°çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ&lt;/span&gt;
keyword_args(big=&lt;span style="color: #a31515"&gt;&amp;quot;foot&amp;quot;&lt;/span&gt;, loch=&lt;span style="color: #a31515"&gt;&amp;quot;ness&amp;quot;&lt;/span&gt;) &lt;span style="color: #008000"&gt;#=&amp;gt; {&amp;quot;big&amp;quot;: &amp;quot;foo&amp;quot;, &amp;quot;loch&amp;quot;: &amp;quot;ness&amp;quot;}&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä¹Ÿå¯ä»¥ä¸€æ¬¡æ€§æ¥å—ä¸¤ç§å‚æ•°&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; all_the_args(*args, **kwargs):
    print args
    print kwargs
&lt;span style="color: #a31515"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span style="color: #a31515"&gt;all_the_args(1, 2, a=3, b=4)è¾“å‡ºï¼š&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    [1, 2]&lt;/span&gt;
&lt;span style="color: #a31515"&gt;    {&amp;quot;a&amp;quot;: 3, &amp;quot;b&amp;quot;: 4}&lt;/span&gt;
&lt;span style="color: #a31515"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# åœ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨*å’Œ**&lt;/span&gt;
args = (1, 2, 3, 4)
kwargs = {&lt;span style="color: #a31515"&gt;&amp;quot;a&amp;quot;&lt;/span&gt;: 3, &lt;span style="color: #a31515"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;: 4}
foo(*args)  &lt;span style="color: #008000"&gt;#ç­‰ä»·äºfoo(1, 2, 3, 4)&lt;/span&gt;
foo(**kwargs)   &lt;span style="color: #008000"&gt;# ç­‰ä»·äºfoo(a=3, b=4)&lt;/span&gt;
foo(*args, **kwargs)    &lt;span style="color: #008000"&gt;# ç­‰ä»·äºfoo(1, 2, 3, 4, a=3, b=4)&lt;/span&gt;

&lt;span style="color: #008000"&gt;# Pythonçš„å‡½æ•°æ˜¯ä¸€ç­‰å‡½æ•°&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; create_adder(x):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; adder(y):
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; x + y
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; adder

add_10 = create_adder(10)
add_10(3) &lt;span style="color: #008000"&gt;#=&amp;gt; 13&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä¹Ÿæœ‰åŒ¿åå‡½æ•°&lt;/span&gt;
(lamda x: x &amp;gt; 2)(3) &lt;span style="color: #008000"&gt;#=&amp;gt; True&lt;/span&gt;

&lt;span style="color: #008000"&gt;# æœ‰ä¸€äº›å†…ç½®çš„é«˜é˜¶å‡½æ•°&lt;/span&gt;
map(add_10, [1, 2, 3]) &lt;span style="color: #008000"&gt;#=&amp;gt; [11, 12, 13]&lt;/span&gt;
filter(lamda x: x &amp;gt; 5, [3, 4, 5, 6, 7]) &lt;span style="color: #008000"&gt;#=&amp;gt;[6, 7]&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å¯ä»¥ä½¿ç”¨åˆ—è¡¨æ¨å¯¼æ¥å®ç°æ˜ å°„å’Œè¿‡æ»¤&lt;/span&gt;
[add_10(i) &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; [1, 2, 3]] &lt;span style="color: #008000"&gt;#=&amp;gt; [11, 13, 13]&lt;/span&gt;
[x &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; x &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; [3, 4, 5, 6,7 ] &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; x &amp;gt; 5] &lt;span style="color: #008000"&gt;#=&amp;gt; [6, 7]&lt;/span&gt;

&lt;span style="color: #008000"&gt;####################################################&lt;/span&gt;
&lt;span style="color: #008000"&gt;## 5. ç±»&lt;/span&gt;
&lt;span style="color: #008000"&gt;####################################################&lt;/span&gt;

&lt;span style="color: #008000"&gt;# åˆ›å»ºä¸€ä¸ªå­ç±»ç»§æ‰¿è‡ªobjectæ¥å¾—åˆ°ä¸€ä¸ªç±»&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Human&lt;/span&gt;(object):

    &lt;span style="color: #008000"&gt;# ç±»å±æ€§ã€‚åœ¨è¯¥ç±»çš„æ‰€æœ‰ç¤ºä¾‹ä¹‹é—´å…±äº«&lt;/span&gt;
    species = &lt;span style="color: #a31515"&gt;&amp;quot;H. sapiens&amp;quot;&lt;/span&gt;

    &lt;span style="color: #008000"&gt;# åŸºæœ¬åˆå§‹åŒ–æ„é€ æ–¹æ³•&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __init__(self, name):
        &lt;span style="color: #008000"&gt;# å°†å‚æ•°èµ‹å€¼ç»™å®ä¾‹çš„nameå±æ€§&lt;/span&gt;
        self.name = name

    &lt;span style="color: #008000"&gt;# å®ä¾‹æ–¹æ³•ã€‚æ‰€æœ‰ç¤ºä¾‹æ–¹æ³•éƒ½ä»¥selfä¸ºç¬¬ä¸€ä¸ªå‚æ•°&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; say(self, msg):
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;%s: %s&amp;quot;&lt;/span&gt; % (self.name, msg)

    &lt;span style="color: #008000"&gt;# ç±»æ–¹æ³•ç”±æ‰€æœ‰å®ä¾‹å…±äº«&lt;/span&gt;
    &lt;span style="color: #008000"&gt;# ä»¥è°ƒç”¨ç±»ä¸ºç¬¬ä¸€ä¸ªå‚æ•°è¿›è¡Œè°ƒç”¨&lt;/span&gt;
    @classmethod
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; get_species(cls):
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; cls.species

    &lt;span style="color: #008000"&gt;# é™æ€æ–¹æ³•çš„è°ƒç”¨ä¸éœ€è¦ä¸€ä¸ªç±»æˆ–å®ä¾‹çš„å¼•ç”¨&lt;/span&gt;
    @staticmethod
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; grunt():
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;*grunt*&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# å®ä¾‹åŒ–ä¸€ä¸ªç±»&lt;/span&gt;
i = Human(name=&lt;span style="color: #a31515"&gt;&amp;quot;Ian&amp;quot;&lt;/span&gt;)
print i.say(&lt;span style="color: #a31515"&gt;&amp;quot;hi&amp;quot;&lt;/span&gt;)       &lt;span style="color: #008000"&gt;# è¾“å‡º&amp;quot;Ian: hi&amp;quot;&lt;/span&gt;

j = Human(&lt;span style="color: #a31515"&gt;&amp;quot;Joel&amp;quot;&lt;/span&gt;)
print j.say(&lt;span style="color: #a31515"&gt;&amp;quot;hello&amp;quot;&lt;/span&gt;)        &lt;span style="color: #008000"&gt;# è¾“å‡º&amp;quot;Joel: hello&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# è°ƒç”¨ç±»æ–¹æ³•&lt;/span&gt;
i.get_species() &lt;span style="color: #008000"&gt;#=&amp;gt; &amp;quot;H. sapiens&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# ä¿®æ”¹å…±äº«å±æ€§&lt;/span&gt;
Human.species = &lt;span style="color: #a31515"&gt;&amp;quot;H. neanderthalensis&amp;quot;&lt;/span&gt;
i.get_species() &lt;span style="color: #008000"&gt;#=&amp;gt; &amp;quot;H. neanderthalensis&amp;quot;&lt;/span&gt;
j.get_species() &lt;span style="color: #008000"&gt;#=&amp;gt; &amp;quot;H. neanderthalensis&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# è°ƒç”¨é™æ€æ–¹æ³•&lt;/span&gt;
Human.grunt()   &lt;span style="color: #008000"&gt;#=&amp;gt; &amp;quot;*grunt*&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/h3&gt;
&lt;p&gt;æƒ³è¦å­¦ä¹ æ›´å¤šï¼Ÿè¯•è¯•&lt;a href="http://learnpythonthehardway.org/book/"&gt;ç¬¨æ–¹æ³•å­¦ä¹ Python&lt;/a&gt;ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category><category term="ç¿»è¯‘"></category></entry><entry><title>FTPæ˜¯90å¹´ä»£çš„ï¼Œä½¿ç”¨Gitå–ä»£å®ƒæ¥éƒ¨ç½²ä»£ç å§ï¼ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/06/24/deploy-via-git/" rel="alternate"></link><published>2013-06-24T00:00:00+08:00</published><updated>2013-06-24T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-06-24:/2013/06/24/deploy-via-git/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://coderwall.com/p/xczkaq?&amp;amp;p=1&amp;amp;q="&gt;FTP is so 90's. Let's deploy via Git instead!&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œåœ¨ä½ çš„æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„gitä»“åº“ã€‚æˆ‘å–œæ¬¢ä½¿ç”¨&lt;code&gt;~/www/&lt;/code&gt;ç›®å½•æ¥ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://coderwall.com/p/xczkaq?&amp;amp;p=1&amp;amp;q="&gt;FTP is so 90's. Let's deploy via Git instead!&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œåœ¨ä½ çš„æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„gitä»“åº“ã€‚æˆ‘å–œæ¬¢ä½¿ç”¨&lt;code&gt;~/www/&lt;/code&gt;ç›®å½•æ¥å­˜æ”¾ç½‘ç«™ä»£ç ï¼Œ
å› æ­¤æˆ‘ä¼šè¿™ä¹ˆåšï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;mkdir ~/www/example.com &amp;amp;&amp;amp; cd ~/www/example.com
git init
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ¥ç€ï¼Œè®¾ç½®ä½ æœåŠ¡å™¨ä¸Šçš„gitä»“åº“ä»¥ä¾¿å¾ˆå¥½åœ°é€šè¿‡&lt;code&gt;git push&lt;/code&gt;æ¥éƒ¨ç½²ä»£ç ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git config core.worktree ~/www/example.com
git config receive.denycurrentbranch ignore
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æœ€åï¼Œä¸ºgitè®¾ç½®ä¸€ä¸ªpost-receiveé’©å­æ¥æ£€å‡º&lt;code&gt;master&lt;/code&gt;åˆ†æ”¯ï¼Œè¿™æ ·ï¼Œä½ çš„webæœåŠ¡å™¨å°±å¯ä»¥ä¸ºé‚£ä¸ªåˆ†æ”¯çš„ä»£ç æ–‡ä»¶æœåŠ¡äº†ã€‚
ï¼ˆè®°ä½ï¼Œ&lt;code&gt;^D&lt;/code&gt;æ˜¯Control+Dï¼Œæˆ–ä»»ä½•ä¸€ç§ä½ shellçš„&lt;a href="http://en.wikipedia.org/wiki/End-of-transmission_character"&gt;EOTå­—ç¬¦&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cat &amp;gt; .git/hooks/post-receive
&lt;span style="color: #008000"&gt;#!/bin/sh&lt;/span&gt;
git checkout -f
^D
chmod +x .git/hooks/post-receive
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è°¨è®°ï¼šè‹¥éœ€è¦ä¸€ä¸ªæ„å»ºè¿‡ç¨‹ï¼Œä½ å¯ä»¥åœ¨post-receiveé’©å­ä¸­æ·»åŠ ä»»ä½•ä½ æƒ³è¦æ·»åŠ çš„ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œæˆ‘çš„sinatraé¡¹ç›®å…¶ä¸­ä¹‹ä¸€ä½¿ç”¨äº†å¦‚ä¸‹çš„
post-receiveé’©å­ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;#!/bin/sh&lt;/span&gt;
git checkout -f
bundle install
touch ~/www/example.com/tmp/restart.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å›åˆ°ä½ çš„æœ¬åœ°æœºå™¨ï¼Œä¸ºä»£ç éƒ¨ç½²å‡†å¤‡å¥½ä½ çš„gitä»“åº“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cd ~/www/dev/example.com
git remote add origin &lt;span style="color: #a31515"&gt;\&lt;/span&gt;
ssh://user@example.com/home/user/www/example.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºç¬¬ä¸€æ¬¡æ¨é€ä»£ç åˆ°æœåŠ¡å™¨ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git push origin master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç°åœ¨ï¼Œä»»ä½•æ—¶å€™ä½ æƒ³éƒ¨ç½²æœ¬åœ°çš„å˜æ›´ï¼Œåªè¦ç®€å•åœ°æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git push
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Git"></category><category term="ç¿»è¯‘"></category></entry><entry><title>æ­å»ºæµ‹è¯•æœåŠ¡å™¨(æºç ç¼–è¯‘æ–¹å¼)</title><link href="http://youngsterxyf.github.io/2013/06/18/setup-testing-server/" rel="alternate"></link><published>2013-06-18T00:00:00+08:00</published><updated>2013-06-18T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-06-18:/2013/06/18/setup-testing-server/</id><summary type="html">&lt;p&gt;ç›®å‰å·¥ä½œä¸­å¼€å‘æµç¨‹è¿˜æ¯”è¾ƒåˆçº§ï¼Œç”šè‡³è¿æµ‹è¯•æœåŠ¡å™¨éƒ½æ²¡æœ‰ï¼Œä»£ç çš„å˜æ›´éƒ½æ˜¯ç›´æ¥å…ˆåœ¨å¼€å‘äººå‘˜çš„æœ¬åœ°æœºå™¨ä¸Šç®€å•æµ‹è¯• â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ç›®å‰å·¥ä½œä¸­å¼€å‘æµç¨‹è¿˜æ¯”è¾ƒåˆçº§ï¼Œç”šè‡³è¿æµ‹è¯•æœåŠ¡å™¨éƒ½æ²¡æœ‰ï¼Œä»£ç çš„å˜æ›´éƒ½æ˜¯ç›´æ¥å…ˆåœ¨å¼€å‘äººå‘˜çš„æœ¬åœ°æœºå™¨ä¸Šç®€å•æµ‹è¯•ä¸€ä¸‹ï¼Œç„¶åç›´æ¥éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨ä¸Šï¼Œè¿™å°±ç›¸å½“äºç”Ÿäº§æœåŠ¡å™¨åŒæ—¶å……å½“äº†æµ‹è¯•æœåŠ¡å™¨çš„è§’è‰²ï¼Œè™½ç„¶å¼€å‘çš„æ˜¯é¢å‘å…¬å¸å†…éƒ¨çš„ç³»ç»Ÿï¼Œä½†ä½œä¸ºä¸€ä¸ªæœ‰ç†æƒ³æœ‰è¿½æ±‚çš„ç å†œï¼Œæ˜¯ä¸å…è®¸è¿™æ ·ç²—ç³™æ··ä¹±çš„å¼€å‘æµç¨‹çš„ï¼Œæ‰€ä»¥ç”³è¯·äº†å°æœåŠ¡å™¨ï¼Œè‡ªå·±æ­å»ºä¸ªæµ‹è¯•æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºå…¬å¸çš„æœåŠ¡å™¨ç»Ÿä¸€ä½¿ç”¨SUSE Linux Serveræ“ä½œç³»ç»Ÿï¼Œå¹¶ä¸”ç‰ˆæœ¬è¾ƒè€ã€‚ä¸Ubuntuã€Centosç­‰Linuxå‘è¡Œç‰ˆä¸åŒï¼ŒSUSE Linuxæ²¡æœ‰å¯ç”¨çš„è½¯ä»¶æºï¼ˆä¸çŸ¥æ˜¯å¦ä¸OpenSUSEçš„è½¯ä»¶æºå…¼å®¹ï¼Ÿï¼‰ï¼Œå³æ²¡æ³•ä½¿ç”¨ç³»ç»Ÿçš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ã€‚è¿™æ ·é—®é¢˜å°±å¾ˆå¤šäº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘é€‰æ‹©æºç ç¼–è¯‘çš„æ–¹å¼æ¥å®‰è£…æ‰€æœ‰æ¶‰åŠçš„è½¯ä»¶ã€‚ä¹Ÿè®¸æœ‰äººä¼šè¯´ï¼Œä¸ºä»€ä¹ˆä¸åœ¨ç½‘ç»œä¸ŠæŸ¥æ‰¾RPMåŒ…ç„¶åå®‰è£…å‘¢ï¼Ÿé‚£ä¹ˆå…ˆæƒ³ä¸€ä¸‹RPMåŒ…æœ¬è´¨ä¸Šæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿å‘¢ï¼ŸRPMåŒ…ï¼ˆä»¥åŠDEBåŒ…ï¼‰å…¶å®å°±æ˜¯å°†ç¼–è¯‘å¥½çš„ä¸€äº›ç¨‹åºä»¥ä¸€å®šçš„è§„åˆ™æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç„¶åç³»ç»Ÿçš„åŒ…ç®¡ç†å·¥å…·ï¼ˆyumã€zypperï¼‰æŒ‰ç…§ç›¸åŒçš„è§„åˆ™ï¼ˆåœ¨ä¾èµ–æ»¡è¶³çš„æƒ…å†µä¸‹ï¼‰å°†RPMåŒ…é‡Œæ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šå¥½çš„ç›®å½•é‡Œã€‚å¦‚æœRPMåŒ…çš„ä¾èµ–æ²¡æœ‰è§£å†³ï¼Œæ˜¯æ— æ³•æˆåŠŸå®‰è£…çš„ã€‚å³ä½¿å®‰è£…å¥½äº†ï¼Œè‹¥ç¨‹åºä¾èµ–çš„åŠ¨æ€é“¾æ¥åº“ç­‰ä¸å­˜åœ¨æˆ–ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œä¹Ÿæ˜¯æ— æ³•æ­£ç¡®è¿è¡Œçš„ï¼Œæ¯”å¦‚libcåº“çš„ç‰ˆæœ¬è¿‡ä½ï¼Œä½†æ˜æ˜¾ä½ ä¸èƒ½è½»æ˜“æ›¿æ¢libcåº“ï¼Œå› ä¸ºç³»ç»Ÿä¸­å·²å®‰è£…çš„å¾ˆå¤šç¨‹åºéƒ½ä¾èµ–äºlibcåº“ã€‚é‚£ä¹ˆç›¸æ¯”æºç ç¼–è¯‘æ–¹å¼ï¼ŒRPMåŒ…æ–¹å¼çš„é—®é¢˜æ›´éš¾è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦å®‰è£…çš„è½¯ä»¶æœ‰Nginxã€PHPã€MySQLã€Memcachedã€Redisã€Mongodbã€Python2.7ï¼ˆç³»ç»Ÿä¸Šè‡ªå¸¦äº†2.4ç‰ˆæœ¬ï¼Œç‰ˆæœ¬è¿‡è€ï¼‰ã€Gitã€Gitlabã€Rubyï¼ˆGitlabåŸºäºRuby on Railså®ç°ï¼‰ï¼Œè¿ç»´å·¥å…·tmuxã€htopï¼Œä»¥åŠåŸºç¡€ä¾èµ–åº“curlï¼ˆlibcurlï¼‰ã€cmakeã€libxml2ã€libxsltã€opensslã€pcreã€readlineã€zlibã€ic4cã€libeventç­‰ã€‚&lt;/p&gt;
&lt;p&gt;é™¤Gitlabä¹‹å¤–ï¼ˆå› ä¸ºGitlabæ˜¯ä¸ªWebåº”ç”¨ï¼‰çš„æ‰€æœ‰è½¯ä»¶ç¼–è¯‘å®‰è£…æµç¨‹éƒ½ç±»ä¼¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;wget [ä¸‹è½½é“¾æ¥]&lt;/code&gt;   # å¯¹äºhttpsåè®®çš„é“¾æ¥ï¼Œä¹Ÿè®¸éœ€è¦æ·»åŠ  &lt;code&gt;--no-check-certificate&lt;/code&gt; æ¥é¿å…è¯ä¹¦éªŒè¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tar -xvf [è½¯ä»¶æºç å‹ç¼©åŒ…(*.tar.gz/*.tar)] / unzip [è½¯ä»¶æºç å‹ç¼©åŒ…(*.zip)]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd [æºç ç›®å½•] &amp;amp;&amp;amp; ./configure [--prefix=...] [...]&lt;/code&gt;  # opensslçš„æ˜¯./config [...]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make &amp;amp;&amp;amp; make install&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…¶ä¸­æœ€é‡è¦çš„æ­¥éª¤æ˜¯&lt;code&gt;./configure&lt;/code&gt;ã€‚åœ¨è¿™ä¸€æ­¥ä¸­å°†æŒ‡å®šè½¯ä»¶çš„å®‰è£…ç›®å½•ï¼Œä»¥åŠå…¶ä»–å‚æ•°ï¼ˆæ¯”å¦‚ä¾èµ–çš„è·¯å¾„ï¼‰ã€‚å¯ä»¥é€šè¿‡&lt;code&gt;./configure --help&lt;/code&gt;æ¥æŸ¥çœ‹configureçš„é€‰é¡¹åˆ—è¡¨ï¼Œè®¤çœŸé˜…è¯»ä¸€ä¸‹ï¼Œçœ‹çœ‹è‡ªå·±çš„ç¼–è¯‘æ˜¯å¦éœ€è¦å¸¦ä¸ŠæŸäº›é€‰é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;è½¯ä»¶åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å¯èƒ½ä¼šè‡ªåŠ¨æŸ¥æ‰¾å€ŸåŠ©æŸäº›å·¥å…·ï¼Œè‹¥æ‰¾ä¸åˆ°å¯èƒ½å°±ä¼šç¼–è¯‘å¤±è´¥ï¼Œå…¶æŸ¥æ‰¾çš„è§„åˆ™ä¸€èˆ¬å°±æ˜¯ç¯å¢ƒå˜é‡PATHã€‚æ‰€ä»¥è‹¥å‘ç°æ˜¯å› ä¸ºæ‰¾ä¸åˆ°æŸäº›å·¥å…·è½¯ä»¶å¯¼è‡´ç¼–è¯‘å¤±è´¥ï¼Œé‚£å¾—ç¡®è®¤ä¸€ä¸‹ç³»ç»Ÿæ˜¯å¦å®‰è£…è¯¥å·¥å…·ï¼Œè‹¥å·²å®‰è£…ï¼Œåˆ™é…ç½®ä¸€ä¸‹PATHï¼ˆ&lt;code&gt;export PATH=$PATH:/path/to/tool/&lt;/code&gt;æˆ–&lt;code&gt;export PATH=/path/to/tool/:$PATH&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è½¯ä»¶ä¹Ÿå¯èƒ½ä¾èµ–ä¸€äº›åŠ¨æ€æˆ–é™æ€é“¾æ¥åº“ï¼Œå…¶æŸ¥æ‰¾è§„åˆ™æ˜¯&lt;code&gt;/etc/ld.so.conf&lt;/code&gt;æ–‡ä»¶ä¸­æŒ‡å®šçš„æŸ¥æ‰¾è·¯å¾„ã€‚ç¼–è¯‘è¿‡ç¨‹ä¸­ç»å¸¸ä¼šå› ä¸ºæœªæ‰¾åˆ°åŠ¨æ€é“¾æ¥åº“è€Œå¤±è´¥ï¼Œå¦‚æœè¯¥åº“å·²å­˜åœ¨ï¼Œå¯èƒ½éœ€é…ç½®ä¸€ä¸‹ld.so.confï¼Œå°†ä¾èµ–åº“çš„è·¯å¾„æ·»åŠ åˆ°ld.so.confä¸­ï¼Œç„¶åæ‰§è¡Œldconfigã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šæ—¶å€™ç¼–è¯‘å¤±è´¥äº†ï¼Œä½†ä½ å¹¶ä¸çŸ¥é“ç¼–è¯‘è¿‡ç¨‹å°è¯•è¿‡å»å“ªäº›è·¯å¾„ä¸­æŸ¥æ‰¾æŸä¸ªä¾èµ–åº“ã€‚ç›´æ¥é˜…è¯»Makefileå¹¶ä¿®æ”¹ä¸æ˜¯ä¸ªå¥½ä¸»æ„ã€‚è¿™æ—¶straceç¥å™¨å°±æ´¾ä¸Šç”¨åœºäº†ã€‚&lt;strong&gt;strace is a system call tracer, i.e. a debugging tool which prints out a trace of all the system calls made by a another process/program&lt;/strong&gt;ã€‚æ¯”å¦‚ï¼š&lt;code&gt;strace make&lt;/code&gt;ï¼Œå°±ä¼šè¾“å‡ºå¤§é‡è·Ÿè¸ªä¿¡æ¯ã€‚å½“ç¼–è¯‘å› æœªæ‰¾åˆ°ä¾èµ–è€Œä¸­æ­¢åï¼Œå›æº¯è¾“å‡ºçš„è·Ÿè¸ªä¿¡æ¯ï¼Œçœ‹çœ‹makeè¿‡ç¨‹æ‰¾è¿‡å“ªäº›è·¯å¾„ï¼Œç„¶åå°†ä¾èµ–æ–‡ä»¶è½¯é“¾æ¥åˆ°è¿™äº›è·¯å¾„ä¸­æŸä¸€ä¸ªï¼Œå†é‡æ–°ç¼–è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;ä»ä¸Šè¿°4ä¸ªæ–¹é¢å¯ä»¥è§£å†³å¤§å¤šæ•°ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ä¾èµ–é—®é¢˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å…³äºç¼–è¯‘å®‰è£…è·¯å¾„ï¼Œæˆ‘ä¸ªäººçš„çœ‹æ³•æ˜¯ï¼ŒåŸºç¡€ä¾èµ–åº“ï¼Œå¦‚opensslã€zlibç­‰åœ¨configureçš„æ—¶å€™ä¸ä½¿ç”¨--prefixé€‰é¡¹ï¼Œå³ä½¿ç”¨é»˜è®¤çš„å®‰è£…è·¯å¾„ï¼Œè¿™æ ·å…¶ä»–ä¾èµ–äºè¿™äº›åŸºç¡€åº“çš„è½¯ä»¶ç¼–è¯‘è¿‡ç¨‹ä¸­å‘ç”Ÿä¾èµ–ç¼ºå¤±é—®é¢˜çš„å¯èƒ½æ€§è¦å°ä¸€äº›ã€‚è‹¥ç³»ç»ŸåŸæ¥å­˜åœ¨è€ç‰ˆæœ¬çš„ä¾èµ–åº“ï¼Œè¿™æ ·çš„é»˜è®¤å®‰è£…è·¯å¾„æ–¹å¼ä¸€èˆ¬å¹¶ä¸ä¼šè¦†ç›–è€ç‰ˆæœ¬æ–‡ä»¶ï¼Œæ‰€ä»¥ä¹Ÿä¸ç”¨æ‹…å¿ƒä¼šå¯¼è‡´ç³»ç»Ÿä¸­å·²å®‰è£…çš„è½¯ä»¶è¿è¡Œå­˜åœ¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å…³äºmysqlçš„ç¼–è¯‘å®‰è£…è¿‡ç¨‹å¯å‚è€ƒï¼š&lt;a href="http://www.linuxidc.com/linux/2011-08/40087.htm"&gt;Linuxä¸‹æºç ç¼–è¯‘MySQL 5.5 ä¸å®‰è£…è¿‡ç¨‹å…¨è®°å½•&lt;/a&gt;ï¼Œè¿‡ç¨‹è¾ƒä¸ºå¤æ‚ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;PHPæºç ç¼–è¯‘é»˜è®¤ä¸ä¼šäº§ç”Ÿphp-fpmï¼ˆPHP-FPM (FastCGI Process Manager) is an alternative PHP FastCGI implementation with some additional features useful for sites of any size, especially busier sites.ï¼‰ï¼Œä»&lt;code&gt;./configure --help&lt;/code&gt;çš„è¾“å‡ºä¸­å¯ä»¥çœ‹åˆ°è¿™æ ·å‡ è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;--enable-fpm              Enable building of the fpm SAPI executable
--with-fpm-user=USER  Set the user for php-fpm to run as. (default: nobody)
--with-fpm-group=GRP  Set the group for php-fpm to run as. For a system user, this
              should usually be set to match the fpm username (default: nobody)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·åªè¦åœ¨configureçš„æ—¶å€™æä¾›è¿™å‡ ä¸ªé€‰é¡¹å°±å¯ä»¥å¯ç”¨php-fpmäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä¿è¯æµ‹è¯•æœåŠ¡å™¨ä¸Šçš„PHPå¯ç”¨çš„æ‰©å±•æ¨¡å—ä¸ç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„PHPä¸€è‡´ï¼Œå¯é€šè¿‡phpinfo()å‡½æ•°æ¥è·çŸ¥ç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„PHPåœ¨configureç¼–è¯‘çš„æ—¶å€™å¸¦äº†å“ªäº›é€‰é¡¹ã€‚å¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src="/assets/uploads/pics/php-configure.jpg" alt="php-configure.jpg"&gt;&lt;/p&gt;
&lt;p&gt;ä½†è¿™æ ·ä½ å¾—é¢å¤–ç¼–è¯‘å®‰è£…zlibã€libmcryptã€libpngã€freetypeç­‰åº“ã€‚&lt;/p&gt;
&lt;p&gt;PHP configureçš„é€‰é¡¹ç‰¹åˆ«å¤šã€‚&lt;/p&gt;
&lt;p&gt;æœ€åæˆ‘çš„configureå‘½ä»¤ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;./configure --prefix=/usr/local/php --enable-fpm --with-mysql=/usr/local/mysql \
        --with-mysqli=/usr/local/mysql/bin/mysql_config --with-gd --enable-sockets \
        --enable-bcmath --enable-mbstring --enable-zip --with-zlib=/usr/local/zlib \
        --with-mcrypt --with-freetype-dir=/usr --with-curl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;PHPå®‰è£…å®Œæˆåï¼Œå¯èƒ½è¿˜éœ€ç¼–è¯‘å®‰è£…ä¸€äº›æ‰©å±•æ¨¡å—ï¼Œæ¯”å¦‚ï¼šRedisã€memcacheã€APCç­‰ã€‚PHPæ‰©å±•æ¨¡å—çš„ç¼–è¯‘å®‰è£…æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;/usr/local/php/bin/phpize&lt;/li&gt;
&lt;li&gt;./configure --with-php-config=/usr/local/php/bin/php-config [...]    # å¯é€šè¿‡./configure --helpæŸ¥çœ‹è¯¥æ‰©å±•configureå¯å¸¦çš„é€‰é¡¹&lt;/li&gt;
&lt;li&gt;make &amp;amp;&amp;amp; make install&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœæ‰©å±•æ¨¡å—æœ€åå®‰è£…çš„è·¯å¾„å¹¶ä¸æ˜¯ä½ æœŸæœ›çš„ï¼Œåˆ™å¯ä»¥å°†æ‰€æœ‰ç¼–è¯‘å¥½çš„æ‰©å±•æ¨¡å—ç»Ÿä¸€å¤åˆ¶åˆ°åŒä¸€ä¸ªè·¯å¾„ä¹‹ä¸‹ï¼Œç„¶åä¿®æ”¹php.iniï¼ˆå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å¯åœ¨/path/to/php/libç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªï¼‰ä¸­extension_dirä¸€é¡¹çš„å€¼ä¸ºæ‰©å±•æ¨¡å—çš„ç»Ÿä¸€è·¯å¾„ï¼Œå¹¶ä¸ºæ¯ä¸ªæ–°å¢çš„æ‰©å±•æ¨¡å—æ·»åŠ ä¸€è¡Œ&lt;code&gt;extension=xxx.so&lt;/code&gt;ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;extension=redis.so
extension=memcache.so
extension=apc.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æœ€åå¯é€šè¿‡phpinfo()å‡½æ•°æ¥ç¡®è®¤æ˜¯å¦æˆåŠŸå®‰è£…æ‰©å±•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å…³äºPythonæºç ç¼–è¯‘ï¼Œé™¤äº†å¯èƒ½å­˜åœ¨ä¾èµ–é—®é¢˜å¤–ï¼Œé»˜è®¤çš„é…ç½®ï¼ˆModules/Setup.distï¼‰æ²¡æœ‰å¯ç”¨ä¸€äº›æ ‡å‡†åº“æ¨¡å—ï¼Œè¿™äº›æ¨¡å—åœ¨å®é™…ä¸­åˆéå¸¸åŸºç¡€å¸¸ç”¨ã€‚æ‰€ä»¥åœ¨configureä¹‹å‰éœ€è¦ç¼–è¾‘Modules/Setup.distæ–‡ä»¶ï¼Œå¯ç”¨æŸäº›å¿…è¦çš„æ¨¡å—ï¼ˆåªéœ€å»é™¤æŸäº›è¡Œå‰&lt;code&gt;#&lt;/code&gt;ç¬¦å·ï¼Œç¨å¾®é˜…è¯»ä¸€ä¸‹è¯¥æ–‡ä»¶å°±çŸ¥é“äº†ï¼‰ï¼Œä½†æŸäº›æ¨¡å—åˆæœ‰å…¶ä»–ä¾èµ–ï¼Œä»è€Œå¯¼è‡´Pythonç¼–è¯‘å¤±è´¥ï¼Œè¿™æ ·çš„æ¨¡å—å¯ä»¥ä¸å¯ç”¨ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦å¤šæ¬¡æ¥å›å°è¯•ã€‚åœ¨makeç¼–è¯‘ç»“æŸæ—¶çš„è¾“å‡ºä¿¡æ¯ä¸­ä¼šæç¤ºå“ªäº›å¿…è¦çš„æ¨¡å—æ²¡æœ‰å¯ç”¨ï¼Œä»¥åŠå“ªäº›æ¨¡å—å·²å¯ç”¨ä½†ç¼–è¯‘å¤±è´¥äº†ã€‚ä½ å¯ä»¥å¿½ç•¥è¿™äº›æ¨¡å—ï¼Œä½†ä¹‹åPythonçš„ä½¿ç”¨å¯èƒ½ä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç”±äºGitå¯ä»¥æ”¯æŒHTTPã€GITã€HTTPSã€SSHåè®®ï¼Œä¼šä¾èµ–libsslã€libcryptoã€libcurlã€libmcryptç­‰åº“ï¼Œlibsslã€libcryptoè¿™ä¸¤ä¸ªåº“éƒ½ç”±opensslç¼–è¯‘äº§ç”Ÿï¼Œlibcurlç”±curlç¼–è¯‘äº§ç”Ÿã€‚å¦‚æœæœªèƒ½æˆåŠŸç¼–è¯‘sslæ”¯æŒï¼Œä¹Ÿèƒ½é€šè¿‡ç¼–è¯‘ï¼Œåªæ˜¯åœ¨ä¹‹åçš„ä½¿ç”¨ä¸­é‡åˆ°HTTPSåè®®å¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚å¦‚æœä½¿ç”¨Gité‡åˆ°HTTPSåè®®ä¸èƒ½æˆåŠŸéªŒè¯è¯ä¹¦æ—¶ï¼Œå¯ä»¥è®¾ç½®&lt;code&gt;git config --global http.sslVerify false&lt;/code&gt;æ¥é¿å…è¯ä¹¦éªŒè¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Gitlabæ˜¯åŸºäºRuby on Railså®ç°çš„ç±»Githubä»£ç æ‰˜ç®¡å¹³å°ã€‚å…¶å®˜æ–¹çš„å®‰è£…æ•™ç¨‹è§ï¼š&lt;a href="https://github.com/gitlabhq/gitlabhq/blob/5-0-stable/doc/install/installation.md"&gt;https://github.com/gitlabhq/gitlabhq/blob/5-0-stable/doc/install/installation.md&lt;/a&gt;ï¼Œä¸åŒGitlabç‰ˆæœ¬çš„å®‰è£…è¿‡ç¨‹æœ‰äº›ä¸åŒï¼Œé“¾æ¥æŒ‡å‘çš„æ˜¯5-0-stableç‰ˆæœ¬çš„å®‰è£…æ•™ç¨‹ã€‚å®˜æ–¹çš„å®‰è£…æ•™ç¨‹æ˜¯é’ˆå¯¹Ubuntu/Debiançš„ï¼Œå…¶ä»–Linuxå‘è¡Œç‰ˆçš„å®‰è£…è¿‡ç¨‹ä¼šç•¥æœ‰ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ç”±äºæˆ‘å¯¹äºRubyä»¥åŠRuby on Railså¹¶ä¸äº†è§£ï¼Œä»¥ä¸‹å†…å®¹å¯èƒ½æœ‰äº›è¡¨è¿°ä¸æ­£ç¡®çš„åœ°æ–¹ï¼Œè¯·æ³¨æ„ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ä¸Pythonçš„pipå’Œeasy_installä¸€æ ·ï¼ŒRubyä½¿ç”¨gemæ¥ç®¡ç†ç¬¬ä¸‰æ–¹åº“ï¼Œå¹¶é€šå¸¸ä½¿ç”¨bundleæ¥ç®¡ç†åº”ç”¨çš„ä¾èµ–é—®é¢˜ï¼ˆRuby on Railså°±ä½¿ç”¨bundleæ¥ç®¡ç†ä¾èµ–ï¼‰ï¼Œbundleå…¶å®åˆå€ŸåŠ©äº†gemã€‚&lt;/p&gt;
&lt;p&gt;ä¸Pythonçš„pypiä»¥åŠLinuxå‘è¡Œç‰ˆçš„è½¯ä»¶æºä¸€æ ·ï¼ŒRubyGemsåœ¨ä¸–ç•Œå„åœ°ä¹Ÿæœ‰å¾ˆå¤šé•œåƒã€‚ä¸ºäº†åŠ å¿«gemå®‰è£…ç¬¬ä¸‰æ–¹åº“çš„è¿‡ç¨‹ï¼Œå›½å†…å¯ä»¥é€‰æ‹©&lt;a href="http://ruby.taobao.org/"&gt;æ·˜å®çš„RubyGemsé•œåƒ&lt;/a&gt;ï¼Œæ›´æ”¹é•œåƒçš„æ–¹æ³•è§&lt;a href="http://ruby.taobao.org/"&gt;æ·˜å®RubyGemsé•œåƒç½‘ç«™&lt;/a&gt;ä¸Šçš„è¯´æ˜ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºbundleï¼Œè¦æƒ³ä¿®æ”¹å®ƒæ‰€ä½¿ç”¨çš„RubyGemsé•œåƒï¼Œå¯ä»¥é€šè¿‡ç¼–è¾‘åº”ç”¨æ ¹ç›®å½•ä¸­çš„Gemfileæ–‡ä»¶çš„ç¬¬ä¸€è¡Œ&lt;code&gt;source "http://xxxxx"&lt;/code&gt;æ¥ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…Gitlabè¿‡ç¨‹ä½¿ç”¨bundleå®‰è£…Mysql2 gemç­‰ä¾èµ–æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°è¿™ç§ç±»ä¼¼çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Installing mysql2 (0.3.11) with native extensions
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ˜¯ç”±äºgemæœªæ‰¾åˆ°mysqlçš„ä¸€äº›å¤´æ–‡ä»¶ï¼Œå³includeç›®å½•ä¸­çš„æ–‡ä»¶ã€‚åœ¨Ubuntu/Debianä¸­ï¼Œå¯èƒ½å¯ä»¥é€šè¿‡&lt;code&gt;sudo apt-get install libmysqlclient-dev&lt;/code&gt;æ¥è§£å†³é—®é¢˜ï¼ˆå¯ä»¥é€šè¿‡ç³»ç»ŸåŒ…ç®¡ç†å™¨å®‰è£…çš„è½¯ä»¶çš„devåŒ…ï¼Œå…¶å®å°±æ˜¯æºç ç¼–è¯‘å®‰è£…åincludeç›®å½•ä¸­çš„å†…å®¹ï¼‰ã€‚å¯¹äºæˆ‘æ‰€å¤„çš„ç³»ç»Ÿç¯å¢ƒï¼Œåªèƒ½æƒ³æ³•å­è®©gemèƒ½æ‰¾åˆ°includeç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œ&lt;code&gt;bundle install [...]&lt;/code&gt;åï¼Œæ‰¾åˆ°mysql2 gemçš„ç›®å½•ï¼Œæ¯”å¦‚åœ¨æˆ‘çš„Gitlabä¸­è·¯å¾„ä¸º&lt;code&gt;gitlab/vendor/bundle/ruby/1.9.1/gems/mysql2-0.3.11&lt;/code&gt;ï¼Œå†æŸ¥çœ‹ä»å­ç›®å½•&lt;code&gt;ext/mysql2&lt;/code&gt;ä¸­çš„extconf.rbæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­æœ‰è¿™æ ·ä¸€æ®µï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dirs = ENV[&amp;#39;PATH&amp;#39;].split(File::PATH_SEPARATOR) + %w[
/opt
/opt/local
/opt/local/mysql
/opt/local/lib/mysql5
/usr
/usr/local
/usr/local/mysql
/usr/local/mysql-*
/usr/local/lib/mysql5
].map{|dir| &amp;quot;#{dir}/bin&amp;quot; }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘bundle installçš„æ—¶å€™ä¹‹æ‰€ä»¥å¤±è´¥ï¼Œæ˜¯å› ä¸ºæˆ‘æŠŠmysqlå®‰è£…åˆ°äº†/usr/local/mysql56ç›®å½•ï¼Œæ‰€ä»¥gemæ‰¾ä¸åˆ°mysqlçš„includeç›®å½•ã€‚ç›´æ¥åœ¨extconf.rbæ–‡ä»¶ä¸­æ·»åŠ mysqlå®‰è£…è·¯å¾„æ˜¯æ²¡ç”¨çš„ï¼Œå› ä¸ºæ¯æ¬¡æ‰§è¡Œbundle installéƒ½ä¼šé‡æ–°ç”Ÿæˆè¯¥æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘æ‰§è¡Œ&lt;code&gt;cp -r /usr/local/mysql56 /usr/local/mysql&lt;/code&gt;æ¥åˆ›å»ºäº†mysqlç›®å½•ï¼Œåº”è¯¥ä¹Ÿå¯ä»¥é€šè¿‡è½¯é“¾æ¥æ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä»–æŸäº›gemä¾èµ–å¯èƒ½ä¹Ÿä¼šæœ‰è¿™æ ·çš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡è¿™æ ·ç±»ä¼¼çš„æ–¹å¼è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;Ubuntu/Debianä¸­å®‰è£…nginxåï¼Œåœ¨nginxé…ç½®ç›®å½•/etc/nginxä¸­ä¼šè‡ªåŠ¨ç”Ÿæˆsites-availableã€sites-enabledè¿™ä¸¤ä¸ªç›®å½•ï¼Œè¿™ä¸¤ç›®å½•çš„å…³ç³»æ˜¯è¿™æ ·çš„ï¼šåœ¨sites-availableç›®å½•ä¸­ä¸ºæ¯ä¸ªå¯èƒ½éœ€è¦nginxæœåŠ¡çš„åº”ç”¨ç¼–å†™ä¸€ä¸ªè™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ï¼ˆå¯¹äºnginxé…ç½®å³serveræ¨¡å—ï¼‰ï¼Œè‹¥æŸä¸ªåº”ç”¨ç°åœ¨éœ€è¦nginxæœåŠ¡ï¼Œåˆ™å°†å®ƒçš„é…ç½®æ–‡ä»¶ä»sites-availableè½¯é“¾æ¥åˆ°sites-enabledï¼Œè€Œnginxçš„ä¸»é…ç½®æ–‡ä»¶nginx.confçš„httpæ¨¡å—çš„æœ€åé€šè¿‡&lt;code&gt;include sites-enabled/*&lt;/code&gt;å°†sites-enabledä¸­æ‰€æœ‰çš„è½¯é“¾æ¥é…ç½®æ–‡ä»¶åŒ…å«è¿›æ¥ã€‚è¿™ç§æ–¹å¼çš„å¥½å¤„åœ¨äºæ¨¡å—åŒ–é…ç½®æ–‡ä»¶ï¼Œéå¸¸çµæ´»æ–¹ä¾¿ã€‚ä½†åœ¨SUSEä¸­ç¼–è¯‘å®‰è£…åï¼Œconfç›®å½•ä¸‹å¹¶æ²¡æœ‰è¿™ä¸¤ä¸ªç›®å½•ï¼Œæ‰€ä»¥åªèƒ½è‡ªå·±åˆ›å»ºï¼Œå¹¶ä¿®æ”¹nginx.confçš„httpæ¨¡å—æœ€åæ‰‹åŠ¨æ·»åŠ &lt;code&gt;include sites-enabled/*&lt;/code&gt;ä¸€è¡Œå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹ååœ¨è¯•ç”¨Gitlabæ—¶ï¼Œå‘ç°æ— æ³•æŸ¥çœ‹ä»£ç æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œé€šè¿‡æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·çœ‹åˆ°æ˜¯ä¸ª500 Server Errorå“åº”ã€‚æŸ¥çœ‹gitlab/logç›®å½•ä¸­çš„unicorn.stderr.logæ—¥å¿—æ–‡ä»¶ï¼Œæœ‰å¦‚ä¸‹é”™è¯¯ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ActionView::Template::Error (Failed to get header.):
9:   .file_content.code
10:     - unless blob.empty?
11:       %div{class: user_color_scheme_class}
12:         = raw blob.colorize(formatter: :gitlab)
13:     - else
14:       %p.nothing_here_message Empty file
app/models/tree.rb:6:in `colorize&amp;#39;
app/views/tree/blob/_text.html.haml:12:in `_app_views_tree_blob__text_html_haml__128024721089489703_57418280&amp;#39;
app/views/tree/_blob.html.haml:9:in `_app_views_tree__blob_html_haml__1829533197002461340_55995660&amp;#39;
app/views/tree/_tree.html.haml:16:in `_app_views_tree__tree_html_haml___4517474428772753218_46927720&amp;#39;
app/views/tree/show.html.haml:4:in `_app_views_tree_show_html_haml__3020201194833589280_44750920&amp;#39;
app/controllers/tree_controller.rb:17:in `show&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æŸ¥çœ‹ç½‘ç»œèµ„æ–™å¯ä»¥çŸ¥é“è¿™æ˜¯ç”±äºä»£ç é«˜äº®æ¸²æŸ“çš„æ—¶å€™å‡ºäº†é—®é¢˜ã€‚Gitlabä½¿ç”¨pygments.rbæ¥é«˜äº®ä»£ç ã€‚pygments.rbæ˜¯&lt;strong&gt;Ruby wrapper for the Python &lt;a href="http://pygments.org/"&gt;pygments syntax highlighter&lt;/a&gt;&lt;/strong&gt;ã€‚é‚£ä¹ˆï¼Œé«˜äº®æ¸²æŸ“å¤±è´¥å¯èƒ½æœ‰ä¸‰ç§å¯èƒ½ï¼š(1)æœªæ‰¾åˆ°åˆé€‚çš„Pythonç‰ˆæœ¬ï¼Œpygments.rbä¾èµ–äºPython 2.5+ï¼Œ(2)æ²¡æœ‰å®‰è£…Pythonçš„pygmentsç¬¬ä¸‰æ–¹åº“ï¼Œ(3)å…¶ä»–åŸå› ã€‚å¾ˆä¸å¹¸ï¼Œæˆ‘é‡åˆ°çš„æ˜¯ç¬¬ä¸‰ç§å¯èƒ½ã€‚å®˜æ–¹&lt;a href="https://github.com/gitlabhq/gitlab-public-wiki/wiki/Trouble-Shooting-Guide"&gt;Trouble-Shooting-Guide&lt;/a&gt;å¯¹äºè¯¥é—®é¢˜ç»™å‡º&lt;a href="https://github.com/gitlabhq/gitlabhq/issues/2214#issuecomment-11137058"&gt;è§£å†³æ–¹æ¡ˆ&lt;/a&gt;æ˜¯é’ˆå¯¹ç¬¬ä¸€ç§å¯èƒ½çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨pyments.rb gemç›®å½•&lt;code&gt;gitlab/vendor/bundle/ruby/1.9.1/gems/pygments.rb-0.4.2&lt;/code&gt;çš„å­ç›®å½•&lt;code&gt;lib/pygments&lt;/code&gt;ä¸­æœ‰(ä¸”ä»…æœ‰)ä¸€ä¸ªå¯æ‰§è¡Œçš„pythonæºç æ–‡ä»¶mentos.pyï¼Œpygments.rbåº”è¯¥å°±æ˜¯é€šè¿‡è¯¥ç¨‹åºæ–‡ä»¶è°ƒç”¨Pythonçš„pygmentsåº“æ¥é«˜äº®ä»£ç çš„ï¼Œæˆ‘å°è¯•æ‰§è¡Œè¯¥æ–‡ä»¶ï¼Œæ‰§è¡Œå¤±è´¥ï¼ŒåŸå› æ˜¯æ ‡å‡†åº“jsonçš„æŸè¡Œä»£ç ä¸­å¯¹è±¡è°ƒç”¨äº†encode('hex')æ–¹æ³•å¤±è´¥ï¼Œæç¤ºä¸å­˜åœ¨hexç¼–ç ã€‚ç»åˆ†ææŸ¥æ‰¾åŸå› ï¼Œé—®é¢˜å‡ºåœ¨æ ‡å‡†åº“æ¨¡å—&lt;a href="http://docs.python.org/2/library/binascii.html"&gt;binascii&lt;/a&gt;(The binascii module contains a number of methods to convert between binary and various ASCII-encoded binary representations)æœªç¼–è¯‘å®‰è£…ã€‚è¯¥æ¨¡å—éœ€è¦ç¼–è¾‘Modules/Setup.distæ–‡ä»¶å¯ç”¨ã€‚å¯ç”¨åï¼ˆå¯èƒ½è¿˜æœ‰å…¶ä»–ç›¸å…³æ¨¡å—ï¼Œæˆ‘æ˜¯æŠŠå…¶ä»–å¾ˆå¤šæ¨¡å—ä¸€èµ·å¯ç”¨äº†ï¼‰é‡æ–°ç¼–è¯‘Pythonå°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æºç ç¼–è¯‘å®‰è£…è½¯ä»¶é‡åˆ°æœ€å¤šçš„é—®é¢˜æ˜¯ä¾èµ–ç¼ºå¤±ï¼Œæœ‰æ—¶ä¼šéå¸¸ç¹çã€‚ç»è¿‡è¿™æ¬¡ç»å†ï¼Œæˆ‘æ·±æ„Ÿæ“ä½œç³»ç»Ÿçš„è½¯ä»¶åŒ…ç®¡ç†å™¨æ˜¯å¤šä¹ˆçš„é‡è¦ï¼Œèƒ½èŠ‚çœæˆ‘ä»¬å¾ˆå¤šå¾ˆå¤šæ—¶é—´å’Œç²¾åŠ›ï¼&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="PHP"></category><category term="MySQL"></category><category term="Nginx"></category><category term="æœåŠ¡å™¨"></category><category term="Python"></category><category term="Git"></category></entry><entry><title>PHPæœ€ä½³å®è·µï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/06/01/php-best-practices/" rel="alternate"></link><published>2013-06-01T00:00:00+08:00</published><updated>2013-06-01T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-06-01:/2013/06/01/php-best-practices/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š &lt;a href="https://phpbestpractices.org/"&gt;PHP Best Practices-A short, practical guide for common and confusing PHP tasks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;æœ€åä¿®è®¢æ—¥æœŸ&amp;amp;ç»´æŠ¤è€…&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æ¡£æœ€åå®¡é˜…äº2013å¹´3æœˆ8æ—¥ã€‚æœ€åä¿®æ”¹äº2013å¹´5æœˆ8æ—¥ã€‚&lt;/p&gt;
&lt;p&gt;ç”±æˆ‘ï¼Œ&lt;a href="https://alexcabal.com/"&gt;Alex Cabal&lt;/a&gt;ï¼Œç»´æŠ¤è¯¥æ–‡æ¡£ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š &lt;a href="https://phpbestpractices.org/"&gt;PHP Best Practices-A short, practical guide for common and confusing PHP tasks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;æœ€åä¿®è®¢æ—¥æœŸ&amp;amp;ç»´æŠ¤è€…&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æ¡£æœ€åå®¡é˜…äº2013å¹´3æœˆ8æ—¥ã€‚æœ€åä¿®æ”¹äº2013å¹´5æœˆ8æ—¥ã€‚&lt;/p&gt;
&lt;p&gt;ç”±æˆ‘ï¼Œ&lt;a href="https://alexcabal.com/"&gt;Alex Cabal&lt;/a&gt;ï¼Œç»´æŠ¤è¯¥æ–‡æ¡£ã€‚æˆ‘ç¼–å†™PHPç¨‹åºå·²æœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œå½“å‰æˆ‘
ç»è¥ç€&lt;a href="http://www.scribophile.com/"&gt;Scribophileï¼Œç”±è®¤çœŸä½œå®¶ç»„æˆçš„ä¸€ä¸ªåœ¨çº¿å†™ä½œå›¢ä½“&lt;/a&gt;,
&lt;a href="http://writerfolio.com/"&gt;Writerfolioï¼Œä¸ºè‡ªç”±èŒä¸šè€…æä¾›çš„ä¸€ä¸ªæ˜“ç”¨å†™ä½œå·¥å…·é›†&lt;/a&gt;ï¼Œä»¥åŠ
&lt;a href="https://standardebooks.com"&gt;Standard Ebooksï¼Œä¸€ä¸ªå›¾æ–‡å¹¶èŒ‚ã€æ— æ•°å­—ç‰ˆæƒç®¡ç†çš„å…¬å…±é¢†åŸŸç”µå­ä¹¦å‡ºç‰ˆå•†&lt;/a&gt;ã€‚
æœ‰æ—¶æˆ‘æ˜¯ä¸ªä¸ºå¸å¼•æˆ‘çš„é¡¹ç›®æˆ–å®¢æˆ·è€Œå·¥ä½œçš„è‡ªç”±èŒä¸šè€…ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ è®¤ä¸ºæˆ‘åœ¨æŸäº›äº‹æƒ…ä¸Šèƒ½å¤Ÿå¸®åˆ°ä½ ï¼Œæˆ–è€…å¯¹æœ¬æ–‡æ¡£æœ‰ç‚¹å»ºè®®æˆ–çº æ­£å­˜åœ¨çš„é”™è¯¯ï¼Œ&lt;a href="https://alexcabal.com/contact/"&gt;è¯·ç»™æˆ‘å†™å°é‚®ä»¶&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;PHPæ˜¯ä¸€é—¨å¤æ‚çš„è¯­è¨€ï¼Œç»è¿‡å¤šå¹´æŠ˜è…¾ï¼Œä½¿å…¶ä¸åŒç‰ˆæœ¬ä¹‹é—´é«˜åº¦ä¸ä¸€è‡´ï¼Œæœ‰æ—¶è¿˜æœ‰äº›bugã€‚
æ¯ä¸ªç‰ˆæœ¬éƒ½æœ‰è‡ªå·±ç‹¬æœ‰çš„ç‰¹æ€§ã€å¤šä½™å’Œæ€ªå¼‚ä¹‹å¤„ï¼Œä¹Ÿå¾ˆéš¾è·Ÿè¸ªå“ªä¸ªç‰ˆæœ¬æœ‰å“ªäº›é—®é¢˜ã€‚è¿™ä¹Ÿå°±
å¾ˆå¥½ç†è§£ä¸ºä»€ä¹ˆæœ‰æ—¶å®ƒä¼šé­åˆ°é‚£ä¹ˆå¤šçš„åŒæ¶ã€‚&lt;/p&gt;
&lt;p&gt;å°½ç®¡å¦‚æ­¤ï¼Œå¦‚ä»Šå®ƒè¿˜æ˜¯Webå¼€å‘æ–¹é¢æœ€æµè¡Œçš„è¯­è¨€ã€‚å› å…¶æ‚ ä¹…çš„å†å²ï¼Œå¯¹äºå®ç°å¯†ç å“ˆå¸Œå’Œ
æ•°æ®åº“è®¿é—®è¯¸å¦‚æ­¤ç±»çš„åŸºæœ¬ä»»åŠ¡ä½ èƒ½å¤Ÿæ‰¾åˆ°å¾ˆå¤šæ•™ç¨‹ã€‚ä½†é—®é¢˜åœ¨äºï¼Œ5ä¸ªæ•™ç¨‹ï¼Œä½ å°±å¾ˆæœ‰å¯èƒ½
æ‰¾åˆ°5ç§å®Œå…¨ä¸åŒçš„å®Œæˆä»»åŠ¡çš„æ–¹å¼ï¼Œé‚£ä¹ˆå“ªç§æ˜¯â€œæ­£ç¡®â€çš„æ–¹å¼å‘¢ï¼Ÿå…¶ä»–æ–¹å¼æœ‰éš¾ä»¥æ‰æ‘¸çš„bug
æˆ–è€…é™·é˜±ï¼Ÿç¡®å®å¾ˆéš¾ææ˜ç™½ï¼Œæ‰€ä»¥ä½ ç»å¸¸è¦åœ¨äº’è”ç½‘ä¸Šåå¤æŸ¥æ‰¾å°è¯•ç¡®è®¤æ­£ç¡®çš„ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯PHPç¼–ç¨‹æ–°æ‰‹é¢‘ç¹åœ°å› ä¸ºä¸‘é™‹ã€è¿‡æ—¶ã€æˆ–ä¸å®‰å…¨çš„ä»£ç è€Œé­åˆ°è´£å¤‡çš„åŸå› ä¹‹ä¸€ã€‚å¦‚æœ
Googleæœç´¢çš„ç¬¬ä¸€ä¸ªç»“æœæ˜¯ä¸€ç¯‡4å¹´å‰çš„æ–‡ç« ï¼Œè®²è¿°ä¸€ç§5å¹´å‰çš„æ–¹æ³•ï¼Œé‚£ä¹ˆPHPæ–°æ‰‹ä»¬ä¹Ÿå°±
å¾ˆéš¾æ”¹å˜ç»å¸¸é­å—è´£å¤‡çš„ç°çŠ¶ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ¡£é€šè¿‡ä¸ºPHPä¸­å¸¸è§çš„ä»¤äººå›°æƒ‘çš„é—®é¢˜å’Œä»»åŠ¡ç¼–è¾‘ç»„ç»‡ä¸€ç³»åˆ—è¢«è®¤ä¸ºæœ€ä½³å®è·µçš„åŸºæœ¬åšæ³•ï¼Œ
æ¥å°è¯•è§£å†³ä¸Šè¿°é—®é¢˜ã€‚è‹¥ä¸€ä¸ªä½å±‚æ¬¡çš„ä»»åŠ¡åœ¨PHPä¸­æœ‰å¤šç§ä»¤äººå›°æƒ‘çš„å®ç°æ–¹å¼ï¼Œæœ¬æ–‡ä¹Ÿä¼šæ¶µç›–ã€‚&lt;/p&gt;
&lt;h3&gt;æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä»½æŒ‡å—ï¼Œåœ¨PHPç¨‹åºå‘˜é‡åˆ°ä¸€äº›å¸¸è§ä½å±‚æ¬¡ä»»åŠ¡ä½†ä¸æ˜ç¡®æœ€ä½³åšæ³•ï¼ˆç”±äºPHPå¯èƒ½æä¾›
äº†å¤šç§è§£å†³æ–¹æ¡ˆï¼‰ä¹‹æ—¶ï¼Œä¸ºå…¶å»ºè®®æœ€ä½³å®è·µã€‚ä¾‹å¦‚ï¼šè¿æ¥æ•°æ®åº“æ˜¯ä¸€ä¸ªå¸¸è§ä»»åŠ¡ï¼ŒPHPä¸­æä¾›äº†
å¤§é‡å¯è¡Œçš„æ–¹æ¡ˆï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„éƒ½æ˜¯å¥½çš„åšæ³•ï¼Œå› æ­¤ï¼Œæœ¬æ–‡ä¹Ÿä¼šåŒ…å«è¯¥é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡åŒ…å«çš„æ˜¯ä¸€ç³»åˆ—ç®€çŸ­çš„ã€å…¥é—¨æ€§è´¨çš„æ–¹æ¡ˆã€‚æ¶‰åŠçš„ç¤ºä¾‹åœ¨åŸºæœ¬è®¾å®šä¸‹å°±èƒ½å¤Ÿè¿è¡Œèµ·æ¥ï¼Œ
ä½ ç ”ç©¶ä¸€ä¸‹åº”è¯¥å°±èƒ½æŠŠå®ƒä»¬å˜ä¸ºå¯¹ä½ æœ‰ç”¨çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†æŒ‡å‡ºä¸€äº›æˆ‘ä»¬è®¤ä¸ºæ˜¯PHPä¸­æœ€æ–°æœ€å¥½çš„ä¸œè¥¿ã€‚ç„¶è€Œï¼Œè¿™æ„å‘³å¦‚æœä½ åœ¨ä½¿ç”¨è€ç‰ˆæœ¬çš„PHPï¼Œ
ä¸€äº›ç”¨æ¥å®ç°è¿™äº›è§£å†³æ–¹æ¡ˆçš„ç‰¹æ€§å¯¹ä½ å¹¶ä¸å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä»½æ–‡æ¡£ä¼šä¸€ç›´æ›´æ–°ï¼Œæˆ‘ä¼šå°½æˆ‘æœ€å¤§åŠªåŠ›ä¿æŒè¯¥æ–‡æ¡£ä¸PHPçš„å‘å±•åŒæ­¥ã€‚&lt;/p&gt;
&lt;h3&gt;ä¸æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;æœ¬æ–‡æ¡£ä¸æ˜¯ä¸€ä»½PHPæ•™ç¨‹ã€‚ä½ åº”è¯¥åœ¨åˆ«å¤„å­¦ä¹ è¯­è¨€åŸºç¡€å’Œè¯­æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä¹Ÿä¸æ˜¯ä¸€ä»½é’ˆå¯¹webåº”ç”¨å¸¸è§é—®é¢˜ï¼Œå¦‚cookieå­˜å‚¨ã€ç¼“å­˜ã€ç¼–ç¨‹é£æ ¼ã€æ–‡æ¡£ç­‰çš„æŒ‡å—ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä¹Ÿä¸æ˜¯ä¸€ä¸ªå®‰å…¨æŒ‡å—ã€‚å½“æœ¬æ–‡æ¡£è§¦ç¢°åˆ°ä¸€äº›å®‰å…¨ç›¸å…³çš„é—®é¢˜æ—¶ï¼Œä¹Ÿæ˜¯å¸Œæœ›ä½ è‡ªå·±åšäº›ç ”ç©¶æ¥
ç¡®ä¿ä½ çš„PHPåº”ç”¨çš„å®‰å…¨é—®é¢˜ã€‚ä½ çš„ä»£ç é€ æˆçš„é—®é¢˜åº”è¯¥éƒ½æ˜¯è‡ªå·±çš„è¿‡é”™ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥æ–‡æ¡£ä¹Ÿå¹¶ä¸æ˜¯åœ¨ä¸»å¼ ä¸€ç§ç‰¹å®šçš„ç¼–ç¨‹é£æ ¼ã€æ¨¡å¼æˆ–è€…æ¡†æ¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿä¸æ˜¯åœ¨ä¸»å¼ ä¸€ç§ç‰¹å®šçš„æ–¹å¼æ¥å®Œæˆé«˜å±‚æ¬¡ä»»åŠ¡å¦‚ç”¨æˆ·æ³¨å†Œã€ç™»å½•ç³»ç»Ÿç­‰ã€‚æœ¬æ–‡æ¡£åªé™äº
PHPçš„æ‚ ä¹…å†å²æ‰€é€ æˆçš„ä¸€äº›æ˜“æ··æ·†æˆ–ä¸æ˜ç¡®çš„ä½å±‚æ¬¡ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒä¸æ˜¯ä¸€ä¸ªä¸€åŠ³æ°¸é€¸çš„è§£å†³æ–¹æ¡ˆï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªå”¯ä¸€çš„æ–¹æ¡ˆã€‚ä¸‹é¢è¦è®²è¿°çš„ä¸€äº›æ–¹æ³•å¯¹äºä½ çš„
ç‰¹å®šåœºæ™¯æ¥è¯´ä¹Ÿè®¸å¹¶ä¸æ˜¯æœ€å¥½çš„ï¼Œå­˜åœ¨å¾ˆå¤šä¸åŒçš„æ–¹å¼æ¥è¾¾åˆ°åŒæ ·çš„ç›®çš„ã€‚ç‰¹åˆ«æ˜¯ï¼Œé«˜è´Ÿè½½web
åº”ç”¨ä¹Ÿè®¸èƒ½ä»æ›´åŠ éš¾æ‡‚çš„æ–¹æ¡ˆä¸­è·ç›Šæ›´å¤šã€‚&lt;/p&gt;
&lt;h2&gt;æˆ‘ä»¬åœ¨ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„PHPï¼Ÿ&lt;/h2&gt;
&lt;h3&gt;å¸¦Suhosin-Patchçš„PHP 5.3.10-1ubuntu3.6ï¼Œå®‰è£…åœ¨Ubuntu 12.04 LTSä¸Šã€‚&lt;/h3&gt;
&lt;p&gt;PHPæ˜¯Webä¸–ç•Œé‡Œçš„ç™¾å¹´è€é¾Ÿï¼Œå®ƒçš„å£³ä¸Šé“­åˆ»ç€ä¸€æ®µä¸°å¯Œã€å¤æ‚ã€è€Œç²—ç³™çš„å†å²ã€‚åœ¨ä¸€ä¸ªå…±äº«
ä¸»æœºçš„ç¯å¢ƒé‡Œï¼Œå®ƒçš„é…ç½®å¯èƒ½ä¼šé™åˆ¶ä½ èƒ½åšçš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä¿æŒæ¸…æ™°åœ°å™è¿°ï¼Œæˆ‘ä»¬å°†ä»…é’ˆå¯¹ä¸€ä¸ªç‰ˆæœ¬çš„PHPè¿›è¡Œè®²è¿°ã€‚åœ¨2013å¹´4æœˆ30æ—¥æ—¶ï¼Œè¯¥ç‰ˆæœ¬
ä¸º&lt;strong&gt;PHP 5.3.10-1ubuntu3.6 with Suhosin-Patch&lt;/strong&gt;ã€‚è‹¥ä½ åœ¨&lt;strong&gt;Ubuntu 12.04 LTS&lt;/strong&gt;æœåŠ¡å™¨
ä¸Šä½¿ç”¨apt-getè¿›è¡Œå®‰è£…çš„å°±æ˜¯è¯¥ç‰ˆæœ¬çš„PHPã€‚&lt;/p&gt;
&lt;p&gt;ä½ ä¹Ÿè®¸å‘ç°è¿™äº›æ–¹æ¡ˆä¸­çš„ä¸€äº›åœ¨å…¶ä»–æˆ–è€…æ›´è€ç‰ˆæœ¬çš„PHPä¸Šä¹Ÿèƒ½å·¥ä½œã€‚å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œå°±&lt;em&gt;ç”±
ä½ æ¥ç ”ç©¶åœ¨è¿™äº›æ›´è€ç‰ˆæœ¬ä¸Šæ½œåœ¨çš„éš¾ä»¥æ‰æ‘¸çš„bugæˆ–å®‰å…¨é—®é¢˜&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;h2&gt;å­˜å‚¨å¯†ç &lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨&lt;a href="http://www.openwall.com/phpass/"&gt;phpass&lt;/a&gt;åº“æ¥å“ˆå¸Œå’Œæ¯”è¾ƒå¯†ç &lt;/h3&gt;
&lt;p&gt;&lt;em&gt;ç»phpass 0.3æµ‹è¯•&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å­˜å…¥æ•°æ®åº“ä¹‹å‰è¿›è¡Œå“ˆå¸Œä¿æŠ¤ç”¨æˆ·å¯†ç çš„æ ‡å‡†æ–¹å¼ã€‚è®¸å¤šå¸¸ç”¨çš„å“ˆå¸Œç®—æ³•å¦‚md5,ç”šè‡³æ˜¯sha1
å¯¹äºå¯†ç å­˜å‚¨éƒ½æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸º&lt;a href="http://arstechnica.com/security/2013/05/how-crackers-make-minced-meat-out-of-your-passwords/"&gt;éª‡å®¢èƒ½å¤Ÿä½¿ç”¨é‚£äº›ç®—æ³•è½»è€Œæ˜“ä¸¾åœ°ç ´è§£å¯†ç &lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹å¯†ç è¿›è¡Œå“ˆå¸Œæœ€å®‰å…¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨bcryptç®—æ³•ã€‚å¼€æºçš„phpassåº“ä»¥ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„ç±»æ¥æä¾›
è¯¥åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Include the phpass library&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;require_once&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;phpass-03/PasswordHash.php&amp;#39;&lt;/span&gt;)

&lt;span style="color: #008000"&gt;// Initialize the hasher without portable hashes (this is more secure)&lt;/span&gt;
$hasher = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; PasswordHash(8, &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Hash the password. $hashedPassword will be a 60-character string.&lt;/span&gt;
$hashedPassword = $hasher-&amp;gt;HashPassword(&lt;span style="color: #a31515"&gt;&amp;#39;my super cool password&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// You can now safely store the contents of $hashedPassword in your database!&lt;/span&gt;

&lt;span style="color: #008000"&gt;// Check if a user has provided the correct password by comparing what they&lt;/span&gt;
&lt;span style="color: #008000"&gt;// typed with our hash&lt;/span&gt;
$hasher-&amp;gt;CheckPassword(&lt;span style="color: #a31515"&gt;&amp;#39;the wrong password&amp;#39;&lt;/span&gt;, $hashedPassword);  &lt;span style="color: #008000"&gt;// false&lt;/span&gt;

$hasher-&amp;gt;CheckPassword(&lt;span style="color: #a31515"&gt;&amp;#39;my super cool password&amp;#39;&lt;/span&gt;, $hashedPassword);  &lt;span style="color: #008000"&gt;// true&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é™·é˜±&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¸å¤šèµ„æºå¯èƒ½æ¨èä½ åœ¨å“ˆå¸Œä¹‹å‰å¯¹ä½ çš„å¯†ç â€œåŠ ç›â€ã€‚æƒ³æ³•å¾ˆå¥½ï¼Œä½†phpassåœ¨HashPassword()å‡½æ•°ä¸­å·²ç»å¯¹ä½ çš„å¯†ç â€œåŠ ç›â€äº†ï¼Œè¿™æ„å‘³ç€ä½ ä¸éœ€è¦è‡ªå·±â€œåŠ ç›â€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.openwall.com/phpass/"&gt;phpass&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blogs.msdn.com/b/lixiong/archive/2011/12/25/md5-sha1-salt-and-bcrypt.aspx"&gt;ä¸ºä»€ä¹ˆä½¿ç”¨md5æˆ–shaå“ˆå¸Œå¯†ç æ˜¯ä¸å®‰å…¨çš„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://codahale.com/how-to-safely-store-a-password/"&gt;æ€æ ·å®‰å…¨åœ°å­˜å‚¨å¯†ç &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;è¿æ¥å¹¶æŸ¥è¯¢MySQLæ•°æ®åº“&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨&lt;a href="http://php.net/manual/en/book.pdo.php"&gt;PDO&lt;/a&gt;åŠå…¶é¢„å¤„ç†è¯­å¥åŠŸèƒ½ã€‚&lt;/h3&gt;
&lt;p&gt;åœ¨PHPä¸­ï¼Œæœ‰å¾ˆå¤šæ–¹å¼æ¥è¿æ¥åˆ°ä¸€ä¸ªMySQLæ•°æ®åº“ã€‚PDOï¼ˆPHPæ•°æ®å¯¹è±¡ï¼‰æ˜¯å…¶ä¸­æœ€æ–°ä¸”æœ€å¥å£®çš„ä¸€ç§ã€‚PDOè·¨å¤šç§ä¸åŒç±»å‹æ•°æ®åº“æœ‰ä¸€ä¸ªä¸€è‡´çš„æ¥å£ï¼Œä½¿ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼ï¼Œæ”¯æŒæ›´å¤šçš„æ–°æ•°æ®åº“æ”¯æŒçš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä½ åº”è¯¥ä½¿ç”¨PDOçš„é¢„å¤„ç†è¯­å¥å‡½æ•°æ¥å¸®åŠ©é˜²èŒƒSQLæ³¨å…¥æ”»å‡»ã€‚ä½¿ç”¨å‡½æ•°&lt;a href="http://php.net/manual/en/pdostatement.bindvalue.php"&gt;bindValue&lt;/a&gt;æ¥ç¡®ä¿ä½ çš„SQLå…äºä¸€çº§SQLæ³¨å…¥æ”»å‡»ã€‚ï¼ˆè™½ç„¶å¹¶ä¸æ˜¯100%å®‰å…¨çš„ï¼ŒæŸ¥çœ‹è¿›ä¸€æ­¥é˜…è¯»è·å–æ›´å¤šç»†èŠ‚ã€‚ï¼‰åœ¨ä»¥å‰ï¼Œè¿™å¿…é¡»ä½¿ç”¨ä¸€äº›â€œé­”æœ¯å¼•å·(magic
quotes)â€å‡½æ•°çš„ç»„åˆæ¥å®ç°ã€‚PDOä½¿å¾—é‚£å †ä¸œè¥¿ä¸å†éœ€è¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;try&lt;/span&gt;{
    &lt;span style="color: #008000"&gt;// Create a new connection.&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// You&amp;#39;ll probably want to replace hostname with localhost in the first parameter.&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// The PDO options we pass do the following:&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// \PDO::ATTR_ERRMODE enables exceptions for errors.  This is optional but can be handy.&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// \PDO::ATTR_PERSISTENT disables persistent connections, which can cause concurrency issues in certain cases.  See &amp;quot;Gotchas&amp;quot;.&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// \PDO::MYSQL_ATTR_INIT_COMMAND alerts the connection that we&amp;#39;ll be passing UTF-8 data.&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// This may not be required depending on your configuration, but it&amp;#39;ll save you headaches down the road&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// if you&amp;#39;re trying to store Unicode strings in your database.  See &amp;quot;Gotchas&amp;quot;.&lt;/span&gt;
    $link = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; \PDO( &lt;span style="color: #a31515"&gt;&amp;#39;mysql:host=your-hostname;dbname=your-db&amp;#39;&lt;/span&gt;, 
                        &lt;span style="color: #a31515"&gt;&amp;#39;your-username&amp;#39;&lt;/span&gt;, 
                        &lt;span style="color: #a31515"&gt;&amp;#39;your-password&amp;#39;&lt;/span&gt;, 
                        &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(
                            \PDO::ATTR_ERRMODE =&amp;gt; \PDO::ERRMODE_EXCEPTION, 
                            \PDO::ATTR_PERSISTENT =&amp;gt; &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;, 
                            \PDO::MYSQL_ATTR_INIT_COMMAND =&amp;gt; &lt;span style="color: #a31515"&gt;&amp;#39;set names utf8mb4&amp;#39;&lt;/span&gt;
                        )
                    );

    $handle = $link-&amp;gt;prepare(&lt;span style="color: #a31515"&gt;&amp;#39;select Username from Users where UserId = ? or Username = ? limit ?&amp;#39;&lt;/span&gt;);

    &lt;span style="color: #008000"&gt;// PHP bug: if you don&amp;#39;t specify PDO::PARAM_INT, PDO may enclose the argument in quotes.&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// This can mess up some MySQL queries that don&amp;#39;t expect integers to be quoted.&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// See: https://bugs.php.net/bug.php?id=44639&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// If you&amp;#39;re not sure whether the value you&amp;#39;re passing is an integer, use the is_int() function.&lt;/span&gt;
    $handle-&amp;gt;bindValue(1, 100, PDO::PARAM_INT);
    $handle-&amp;gt;bindValue(2, &lt;span style="color: #a31515"&gt;&amp;#39;Bilbo Baggins&amp;#39;&lt;/span&gt;);
    $handle-&amp;gt;bindValue(3, 5, PDO::PARAM_INT);

    $handle-&amp;gt;execute();

    &lt;span style="color: #008000"&gt;// Using the fetchAll() method might be too resource-heavy if you&amp;#39;re selecting a truly massive amount of rows.&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// If that&amp;#39;s the case, you can use the fetch() method and loop through each result row one by one.&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// You can also return arrays and other things instead of objects.  See the PDO documentation for details.&lt;/span&gt;
    $result = $handle-&amp;gt;fetchAll(\PDO::FETCH_OBJ);

    &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;($result &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; $row){
        &lt;span style="color: #0000ff"&gt;print&lt;/span&gt;($row-&amp;gt;Username);
    }
}
&lt;span style="color: #0000ff"&gt;catch&lt;/span&gt;(\PDOException $ex){
    &lt;span style="color: #0000ff"&gt;print&lt;/span&gt;($ex-&amp;gt;getMessage());
}
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é™·é˜±&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ç»‘å®šæ•´å‹å˜é‡æ—¶ï¼Œå¦‚æœä¸ä¼ é€’PDO::PARAM_INTå‚æ•°æœ‰äº‹å¯èƒ½ä¼šå¯¼è‡´PDOå¯¹æ•°æ®åŠ å¼•å·ã€‚è¿™ä¼š
æåç‰¹å®šçš„MySQLæŸ¥è¯¢ã€‚æŸ¥çœ‹&lt;a href="https://bugs.php.net/bug.php?id=44639"&gt;è¯¥bugæŠ¥å‘Š&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æœªä½¿ç”¨ &lt;code&gt;set names utf8mb4&lt;/code&gt; ä½œä¸ºé¦–ä¸ªæŸ¥è¯¢ï¼Œå¯èƒ½ä¼šå¯¼è‡´Unicodeæ•°æ®é”™è¯¯åœ°å­˜å‚¨è¿›æ•°æ®åº“ï¼Œè¿™ä¾èµ–äºä½ çš„é…ç½®ã€‚å¦‚æœä½ 
ç»å¯¹æœ‰æŠŠæ¡ä½ çš„Unicodeç¼–ç æ•°æ®ä¸ä¼šå‡ºé—®é¢˜ï¼Œé‚£ä½ å¯ä»¥ä¸ç®¡è¿™ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;å¯ç”¨æŒä¹…è¿æ¥å¯èƒ½ä¼šå¯¼è‡´æ€ªå¼‚çš„å¹¶å‘ç›¸å…³çš„é—®é¢˜ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªPHPçš„é—®é¢˜ï¼Œè€Œæ˜¯ä¸€ä¸ªåº”ç”¨å±‚é¢
çš„é—®é¢˜ã€‚åªè¦ä½ ä»”ç»†è€ƒè™‘äº†åæœï¼ŒæŒä¹…è¿æ¥ä¸€èˆ¬ä¼šæ˜¯å®‰å…¨çš„ã€‚æŸ¥çœ‹&lt;a href="http://stackoverflow.com/questions/3332074/what-are-the-disadvantages-of-using-persistent-connection-in-pdo"&gt;Stack
Overfilowè¿™ä¸ªé—®é¢˜&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å³ä½¿ä½ ä½¿ç”¨äº† &lt;code&gt;set names utf8mb4&lt;/code&gt; ï¼Œä½ ä¹Ÿå¾—ç¡®è®¤å®é™…çš„æ•°æ®åº“è¡¨ä½¿ç”¨çš„æ˜¯utf8mb4å­—ç¬¦é›†ï¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯ä»¥åœ¨å•ä¸ªexecute()è°ƒç”¨ä¸­æ‰§è¡Œå¤šæ¡SQLè¯­å¥ã€‚åªéœ€ä½¿ç”¨åˆ†å·åˆ†éš”è¯­å¥ï¼Œä½†æ³¨æ„&lt;a href="https://bugs.php.net/bug.php?id=61207"&gt;è¿™ä¸ªbug&lt;/a&gt;ï¼Œåœ¨è¯¥æ–‡æ¡£æ‰€é’ˆå¯¹çš„PHPç‰ˆæœ¬ä¸­è¿˜æ²¡ä¿®å¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/book.pdo.php"&gt;PHPæ‰‹å†Œï¼šPDO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://net.tutsplus.com/tutorials/php/why-you-should-be-using-phps-pdo-for-database-access/"&gt;ä¸ºä»€ä¹ˆä½ åº”è¯¥ä½¿ç”¨PHPçš„PDOè®¿é—®æ•°æ®åº“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/1402017/php-pdo-vs-normal-mysql-connect"&gt;Stack Overflow: PHP PDO vs æ™®é€šçš„mysql_connect&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/134099/are-pdo-prepared-statements-sufficient-to-prevent-sql-injection"&gt;Stack Overflow: PDOé¢„å¤„ç†è¯­å¥è¶³ä»¥é˜²èŒƒSQLæ³¨å…¥å—ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/2159434/set-names-utf8-in-mysql"&gt;Stack Overflow: åœ¨MySQLä¸­ä½¿ç”¨SET NAMES utf8ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;PHPæ ‡ç­¾&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨ &lt;code&gt;&amp;lt;?php ?&amp;gt;&lt;/code&gt; ã€‚&lt;/h3&gt;
&lt;p&gt;æœ‰å‡ ç§ä¸åŒçš„æ–¹å¼ç”¨æ¥åŒºåˆ†PHPç¨‹åºå—ï¼š&lt;code&gt;&amp;lt;?php ?&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;?= ?&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;? ?&amp;gt;&lt;/code&gt;, ä»¥åŠ&lt;code&gt;&amp;lt;%
%&amp;gt;&lt;/code&gt;ã€‚å¯¹äºæ‰“å­—æ¥è¯´ï¼Œæ›´çŸ­çš„æ ‡ç­¾æ›´æ–¹ä¾¿äº›ï¼Œä½†å”¯ä¸€ä¸€ç§åœ¨æ‰€æœ‰PHPæœåŠ¡å™¨ä¸Šéƒ½ä¸€å®šèƒ½å·¥ä½œçš„æ ‡ç­¾
æ˜¯&lt;code&gt;&amp;lt;?php
?&amp;gt;&lt;/code&gt;ã€‚è‹¥ä½ è®¡åˆ’å°†ä½ çš„PHPåº”ç”¨éƒ¨ç½²åˆ°ä¸€å°ä¸Šé¢çš„PHPé…ç½®ä½ æ— æ³•æ§åˆ¶çš„æœåŠ¡å™¨ä¸Šï¼Œé‚£ä¹ˆä½ åº”å§‹ç»ˆä½¿ç”¨
&lt;code&gt;&amp;lt;?php ?&amp;gt;&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è‹¥ä½ ä»…ä»…æ˜¯ä¸ºè‡ªå·±ç¼–ç ï¼Œä¹Ÿèƒ½æ§åˆ¶ä½ å°†ä½¿ç”¨çš„PHPé…ç½®ï¼Œä½ å¯èƒ½è§‰å¾—çŸ­æ ‡ç­¾æ›´æ–¹ä¾¿äº›ã€‚ä½†è®°ä½
&lt;code&gt;&amp;lt;? ?&amp;gt;&lt;/code&gt;å¯èƒ½ä¼šå’ŒXMLå£°æ˜å†²çªï¼Œå¹¶ä¸”&lt;code&gt;&amp;lt;? ?&amp;gt;&lt;/code&gt;å®é™…ä¸Šæ˜¯ASPçš„é£æ ¼ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºä½ é€‰æ‹©å“ªä¸€ç§ï¼Œç¡®ä¿ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é™·é˜±&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ä¸€ä¸ªçº¯PHPæ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼Œä»…åŒ…å«ä¸€ä¸ªç±»å®šä¹‰çš„æ–‡ä»¶ï¼‰ä¸­åŒ…å«ä¸€ä¸ªå…³é—­&lt;code&gt;?&amp;gt;&lt;/code&gt;æ ‡ç­¾æ—¶ï¼Œç¡®ä¿å…¶å
ä¸ä¼šè·Ÿç€ä»»ä½•æ¢è¡Œã€‚å½“PHPè§£æå™¨å®‰å…¨åœ°åƒè¿›è·Ÿåœ¨å…³é—­æ ‡ç­¾ä¹‹åçš„å•ä¸ªæ¢è¡Œç¬¦æ—¶ï¼Œä»»ä½•å…¶ä»–çš„æ¢è¡Œ
éƒ½å¯èƒ½è¢«è¾“å‡ºåˆ°æµè§ˆå™¨ï¼Œå¦‚æœä¹‹åè¦è¾“å‡ºæŸäº›HTTPå¤´ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šé€ æˆæ··æ·†ã€‚&lt;/li&gt;
&lt;li&gt;ç¼–å†™Webåº”ç”¨æ—¶ï¼Œç¡®ä¿åœ¨å…³é—­&lt;code&gt;?&amp;gt;&lt;/code&gt;æ ‡ç­¾ä¸htmlçš„&lt;code&gt;&amp;lt;!doctype&amp;gt;&lt;/code&gt;æ ‡ç­¾ä¹‹é—´ä¸ä¼šç•™ä¸‹æ¢è¡Œã€‚æ­£ç¡®çš„HTML
æ–‡ä»¶ä¸­ï¼Œ&lt;code&gt;&amp;lt;!doctype&amp;gt;&lt;/code&gt;æ ‡ç­¾å¿…é¡»æ˜¯æ–‡ä»¶ä¸­çš„ç¬¬ä¸€æ ·ä¸œè¥¿---åœ¨å…¶ä¹‹å‰çš„ä»»ä½•ç©ºæ ¼æˆ–æ¢è¡Œéƒ½ä¼šä½¿å…¶
æ— æ•ˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/200640/are-php-short-tags-acceptable-to-use"&gt;Stack Overflow: å¯ä»¥ä½¿ç”¨PHPçŸ­æ ‡ç­¾å—ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;è‡ªåŠ¨åŠ è½½ç±»&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨&lt;a href="http://php.net/manual/en/function.spl-autoload-register.php"&gt;spl_autoload_register()&lt;/a&gt;æ¥æ³¨å†Œä½ çš„è‡ªåŠ¨åŠ è½½å‡½æ•°ã€‚&lt;/h3&gt;
&lt;p&gt;PHPæä¾›äº†è‹¥å¹²æ–¹å¼æ¥è‡ªåŠ¨åŠ è½½åŒ…å«è¿˜æœªåŠ è½½çš„ç±»çš„æ–‡ä»¶ã€‚è€çš„æ–¹æ³•æ˜¯ä½¿ç”¨åä¸º&lt;a href="http://php.net/manual/en/function.autoload.php"&gt;&lt;code&gt;__autoload()&lt;/code&gt;&lt;/a&gt;é­”æœ¯å…¨å±€å‡½æ•°ã€‚ç„¶è€Œä½ ä¸€æ¬¡ä»…èƒ½å®šä¹‰ä¸€ä¸ª&lt;code&gt;__autoload()&lt;/code&gt;å‡½æ•°ï¼Œå› æ­¤å¦‚æœä½ çš„ç¨‹åº
åŒ…å«ä¸€ä¸ªä¹Ÿä½¿ç”¨äº†&lt;code&gt;__autoload()&lt;/code&gt;å‡½æ•°çš„åº“ï¼Œå°±ä¼šå‘ç”Ÿå†²çªã€‚&lt;/p&gt;
&lt;p&gt;å¤„ç†è¿™ä¸ªé—®é¢˜çš„æ­£ç¡®æ–¹æ³•æ˜¯å”¯ä¸€åœ°å‘½åä½ çš„è‡ªåŠ¨åŠ è½½å‡½æ•°ï¼Œç„¶åä½¿ç”¨&lt;code&gt;spl_autoload_register()&lt;/code&gt;å‡½æ•°
æ¥æ³¨å†Œå®ƒã€‚è¯¥å‡½æ•°å…è®¸å®šä¹‰å¤šä¸ª&lt;code&gt;__autoload()&lt;/code&gt;è¿™æ ·çš„å‡½æ•°ï¼Œå› æ­¤ä½ ä¸å¿…æ‹…å¿ƒå…¶ä»–ä»£ç çš„&lt;code&gt;__autoload()&lt;/code&gt;å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// First, define your auto-load function&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; MyAutoload($className){
    &lt;span style="color: #0000ff"&gt;include_once&lt;/span&gt;($className . &lt;span style="color: #a31515"&gt;&amp;#39;.php&amp;#39;&lt;/span&gt;);
}

&lt;span style="color: #008000"&gt;// Next, register it with PHP&lt;/span&gt;
spl_autoload_register(&lt;span style="color: #a31515"&gt;&amp;#39;MyAutoload&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Try it out!&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Since we haven&amp;#39;t included a file defining the MyClass object, our&lt;/span&gt;
&lt;span style="color: #008000"&gt;// auto-loader will kick in and include MyClass.php.&lt;/span&gt;
&lt;span style="color: #008000"&gt;// For this example, assume the MyClass class is defined in the MyClass.php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// file.&lt;/span&gt;
$var = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; MyClass();
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/function.spl-autoload-register.php"&gt;PHPæ‰‹å†Œï¼šspl_autoload_register()&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/791899/efficient-php-auto-loading-and-naming-strategies"&gt;Stack Overflow: é«˜æ•ˆçš„PHPè‡ªåŠ¨åŠ è½½å’Œå‘½åç­–ç•¥&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;ä»æ€§èƒ½è§’åº¦æ¥çœ‹å•å¼•å·å’ŒåŒå¼•å·&lt;/h2&gt;
&lt;h3&gt;å…¶å®å¹¶ä¸é‡è¦ã€‚&lt;/h3&gt;
&lt;p&gt;å·²æœ‰å¾ˆå¤šäººèŠ±è´¹å¾ˆå¤šç¬”å¢¨æ¥è®¨è®ºæ˜¯ä½¿ç”¨å•å¼•å·ï¼ˆ&lt;code&gt;'&lt;/code&gt;ï¼‰è¿˜æ˜¯åŒå¼•å·ï¼ˆ&lt;code&gt;"&lt;/code&gt;ï¼‰æ¥å®šä¹‰å­—ç¬¦ä¸²ã€‚
å•å¼•å·å­—ç¬¦ä¸²ä¸ä¼šè¢«è§£æï¼Œå› æ­¤æ”¾å…¥å­—ç¬¦ä¸²çš„ä»»ä½•ä¸œè¥¿éƒ½ä¼šä»¥åŸæ ·æ˜¾ç¤ºã€‚åŒå¼•å·å­—ç¬¦ä¸²ä¼šè¢«è§£æï¼Œ
å­—ç¬¦ä¸²ä¸­çš„ä»»ä½•PHPå˜é‡éƒ½ä¼šè¢«æ±‚å€¼ã€‚å¦å¤–ï¼Œè½¬ä¹‰å­—ç¬¦å¦‚æ¢è¡Œç¬¦&lt;code&gt;\n&lt;/code&gt;å’Œåˆ¶è¡¨ç¬¦&lt;code&gt;\t&lt;/code&gt;åœ¨å•å¼•å·å­—ç¬¦ä¸²ä¸­
ä¸ä¼šè¢«æ±‚å€¼ï¼Œä½†åœ¨åŒå¼•å·å­—ç¬¦ä¸²ä¸­ä¼šè¢«æ±‚å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºåŒå¼•å·å­—ç¬¦ä¸²åœ¨ç¨‹åºè¿è¡Œæ—¶è¦æ±‚å€¼ï¼Œä»è€Œç†è®ºä¸Šä½¿ç”¨å•å¼•å·å­—ç¬¦ä¸²èƒ½æé«˜æ€§èƒ½ï¼Œå› ä¸ºPHP
ä¸ä¼šå¯¹å•å¼•å·å­—ç¬¦ä¸²æ±‚å€¼ã€‚è¿™å¯¹äºä¸€å®šè§„æ¨¡çš„åº”ç”¨æ¥è¯´ä¹Ÿè®¸ç¡®å®å¦‚æ­¤ï¼Œä½†å¯¹äºç°å®ä¸­ä¸€èˆ¬çš„åº”ç”¨æ¥è¯´ï¼Œ
åŒºåˆ«éå¸¸å°ä»¥è‡³äºæ ¹æœ¬ä¸ç”¨åœ¨æ„ã€‚å› æ­¤å¯¹äºæ™®é€šåº”ç”¨ï¼Œä½ é€‰æ‹©å“ªç§å­—ç¬¦ä¸²å¹¶ä¸é‡è¦ã€‚å¯¹äºè´Ÿè½½
æå…¶é«˜çš„åº”ç”¨æ¥è¯´ï¼Œæ˜¯æœ‰ç‚¹ä½œç”¨çš„ã€‚æ ¹æ®ä½ çš„åº”ç”¨çš„éœ€è¦æ¥åšé€‰æ‹©ï¼Œä½†æ— è®ºä½ é€‰æ‹©ä»€ä¹ˆï¼Œè¯·ä¿æŒä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/language.types.string.php"&gt;PHPæ‰‹å†Œï¼šå­—ç¬¦ä¸²&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://phpbench.com/"&gt;PHPåŸºå‡†&lt;/a&gt;ï¼ˆå‘ä¸‹æ»šåŠ¨åˆ°å¼•å·ç±»å‹(Quote Types)ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/13620/speed-difference-in-using-inline-strings-vs-concatenation-in-php5"&gt;Stack Overflow: PHPä¸­å•å¼•å·å­—ç¬¦ä¸²ç›¸æ¯”åŒå¼•å·å­—ç¬¦ä¸²æœ‰æ€§èƒ½ä¼˜åŠ¿ä¹ˆï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;define() vs. const&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨&lt;a href="http://www.php.net/manual/en/function.define.php"&gt;define()&lt;/a&gt;ï¼Œé™¤éè€ƒè™‘åˆ°å¯è¯»æ€§ã€ç±»å¸¸é‡ã€æˆ–å…³æ³¨å¾®ä¼˜åŒ–&lt;/h3&gt;
&lt;p&gt;ä¹ æƒ¯ä¸Šï¼Œåœ¨PHPä¸­æ˜¯ä½¿ç”¨define()å‡½æ•°æ¥å®šä¹‰å¸¸é‡ã€‚ä½†ä»æŸä¸ªæ—¶å€™å¼€å§‹ï¼ŒPHPä¸­ä¹Ÿèƒ½å¤Ÿä½¿ç”¨&lt;a href="http://php.net/manual/en/language.oop5.constants.php"&gt;const&lt;/a&gt;
å…³é”®å­—æ¥å£°æ˜å¸¸é‡äº†ã€‚é‚£ä¹ˆå½“å®šä¹‰å¸¸é‡æ—¶ï¼Œè¯¥ä½¿ç”¨å“ªç§æ–¹å¼å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆåœ¨äºè¿™ä¸¤ç§æ–¹æ³•ä¹‹é—´çš„åŒºåˆ«ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;define()åœ¨æ‰§è¡ŒæœŸå®šä¹‰å¸¸é‡ï¼Œè€Œconståœ¨ç¼–è¯‘æœŸå®šä¹‰å¸¸é‡ã€‚è¿™æ ·constå°±æœ‰è½»å¾®çš„é€Ÿåº¦ä¼˜åŠ¿ï¼Œ
ä½†ä¸å€¼å¾—è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œé™¤éä½ åœ¨æ„å»ºå¤§è§„æ¨¡çš„è½¯ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;define()å°†å¸¸é‡æ”¾å…¥å…¨å±€ä½œç”¨åŸŸï¼Œè™½ç„¶ä½ å¯ä»¥åœ¨å¸¸é‡åä¸­åŒ…å«å‘½åç©ºé—´ã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½
ä½¿ç”¨define()å®šä¹‰ç±»å¸¸é‡ã€‚&lt;/li&gt;
&lt;li&gt;define()å…è®¸ä½ åœ¨å¸¸é‡åå’Œå¸¸é‡å€¼ä¸­ä½¿ç”¨è¡¨è¾¾å¼ï¼Œè€Œconståˆ™éƒ½ä¸å…è®¸ã€‚è¿™ä½¿å¾—define()
æ›´åŠ çµæ´»ã€‚&lt;/li&gt;
&lt;li&gt;define()å¯ä»¥åœ¨if()ä»£ç å—ä¸­è°ƒç”¨ï¼Œä½†constä¸è¡Œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Let&amp;#39;s see how the two methods treat namespaces&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; MiddleEarth\Creatures\Dwarves;
&lt;span style="color: #0000ff"&gt;const&lt;/span&gt; GIMLI_ID = 1;
define(&lt;span style="color: #a31515"&gt;&amp;#39;MiddleEarth\Creatures\Elves\LEGOLAS_ID&amp;#39;&lt;/span&gt;, 2);

&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt;(\MiddleEarth\Creatures\Dwarves\GIMLI_ID);  &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt;(\MiddleEarth\Creatures\Elves\LEGOLAS_ID);  &lt;span style="color: #008000"&gt;// 2; note that we used define()&lt;/span&gt;

&lt;span style="color: #008000"&gt;// Now let&amp;#39;s declare some bit-shifted constants representing ways to enter Mordor.&lt;/span&gt;
define(&lt;span style="color: #a31515"&gt;&amp;#39;TRANSPORT_METHOD_SNEAKING&amp;#39;&lt;/span&gt;, 1 &amp;lt;&amp;lt; 0); &lt;span style="color: #008000"&gt;// OK!&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;const&lt;/span&gt; TRANSPORT_METHOD_WALKING = 1 &amp;lt;&amp;lt; 1; &lt;span style="color: #008000"&gt;//Compile error! const can&amp;#39;t use expressions as values&lt;/span&gt;

&lt;span style="color: #008000"&gt;// Next, conditional constants.&lt;/span&gt;
define(&lt;span style="color: #a31515"&gt;&amp;#39;HOBBITS_FRODO_ID&amp;#39;&lt;/span&gt;, 1);

&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($isGoingToMordor){
    define(&lt;span style="color: #a31515"&gt;&amp;#39;TRANSPORT_METHOD&amp;#39;&lt;/span&gt;, TRANSPORT_METHOD_SNEAKING); &lt;span style="color: #008000"&gt;// OK!&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; PARTY_LEADER_ID = HOBBITS_FRODO_ID &lt;span style="color: #008000"&gt;// Compile error: const can&amp;#39;t be used in an if block&lt;/span&gt;
}

&lt;span style="color: #008000"&gt;// Finally, class constants&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;OneRing&lt;/span&gt;{
    &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; MELTING_POINT_DEGREES = 1000000; &lt;span style="color: #008000"&gt;// OK!&lt;/span&gt;
    define(&lt;span style="color: #a31515"&gt;&amp;#39;SHOW_ELVISH_DEGREES&amp;#39;&lt;/span&gt;, 200); &lt;span style="color: #008000"&gt;// Compile error: can&amp;#39;t use define() within a class&lt;/span&gt;
}
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸ºdefine()æ›´åŠ çµæ´»ï¼Œä½ åº”è¯¥ä½¿ç”¨å®ƒä»¥é¿å…ä¸€äº›ä»¤äººå¤´ç–¼çš„äº‹æƒ…ï¼Œé™¤éä½ æ˜ç¡®åœ°éœ€è¦ç±»
å¸¸é‡ã€‚ä½¿ç”¨consté€šå¸¸ä¼šäº§ç”Ÿæ›´åŠ å¯è¯»çš„ä»£ç ï¼Œä½†æ˜¯ä»¥ç‰ºç‰²çµæ´»æ€§ä¸ºä»£ä»·çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºä½ é€‰æ‹©å“ªä¸€ç§ï¼Œè¯·ä¿æŒä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/2447791/define-vs-const"&gt;Stack Overflow: define() vs. const&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.php.net/manual/en/language.constants.syntax.php"&gt;PHPæ‰‹å†Œï¼šå¸¸é‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/1225082/define-vs-variable-in-php"&gt;Stack Overflow: define() vs. å˜é‡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;ç¼“å­˜PHP opcode&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨&lt;a href="http://php.net/manual/en/book.apc.php"&gt;APC&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªæ ‡å‡†çš„PHPç¯å¢ƒä¸­ï¼Œæ¯æ¬¡è®¿é—®PHPè„šæœ¬æ—¶ï¼Œè„šæœ¬éƒ½ä¼šè¢«ç¼–è¯‘ç„¶åæ‰§è¡Œã€‚ä¸€æ¬¡åˆä¸€æ¬¡åœ°èŠ±è´¹
æ—¶é—´ç¼–è¯‘ç›¸åŒçš„è„šæœ¬å¯¹äºå¤§å‹ç«™ç‚¹ä¼šé€ æˆæ€§èƒ½é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆæ˜¯é‡‡ç”¨ä¸€ä¸ªopcodeç¼“å­˜ã€‚opcodeç¼“å­˜æ˜¯ä¸€ä¸ªèƒ½å¤Ÿè®°ä¸‹æ¯ä¸ªè„šæœ¬ç»è¿‡ç¼–è¯‘çš„ç‰ˆæœ¬ï¼Œè¿™æ ·
æœåŠ¡å™¨å°±ä¸éœ€è¦æµªè´¹æ—¶é—´ä¸€æ¬¡åˆä¸€æ¬¡åœ°ç¼–è¯‘äº†ã€‚é€šå¸¸è¿™äº›opcodeç¼“å­˜ç³»ç»Ÿä¹Ÿèƒ½æ™ºèƒ½åœ°æ£€æµ‹åˆ°
ä¸€ä¸ªè„šæœ¬æ˜¯å¦å‘ç”Ÿæ”¹å˜ï¼Œå› æ­¤å½“ä½ å‡çº§PHPæºç æ—¶ï¼Œå¹¶ä¸éœ€è¦æ‰‹åŠ¨æ¸…ç©ºç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å‡ ä¸ªPHP
opcodeç¼“å­˜å¯ç”¨ï¼Œå…¶ä¸­å€¼å¾—å…³æ³¨çš„æœ‰&lt;a href="http://sourceforge.net/projects/eaccelerator/"&gt;eaccelerator&lt;/a&gt;ï¼Œ
&lt;a href="http://xcache.lighttpd.net/"&gt;xcache&lt;/a&gt;ï¼Œä»¥åŠ&lt;a href="http://php.net/manual/en/book.apc.php"&gt;APC&lt;/a&gt;ã€‚
APCæ˜¯PHPé¡¹ç›®å®˜æ–¹æ”¯æŒçš„ï¼Œæœ€ä¸ºæ´»è·ƒï¼Œä¹Ÿæœ€å®¹æ˜“å®‰è£…ã€‚å®ƒä¹Ÿæä¾›ä¸€ä¸ªå¯é€‰çš„ç±»&lt;a href="http://memcached.org/"&gt;memcached&lt;/a&gt;
çš„æŒä¹…åŒ–é”®-å€¼å¯¹å­˜å‚¨ï¼Œå› æ­¤ä½ åº”ä½¿ç”¨å®ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®‰è£…APC&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨Ubuntu 12.04ä¸Šä½ å¯ä»¥é€šè¿‡åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…APCï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;user@localhost: sudo apt-get install php-apc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œä¸éœ€è¦è¿›ä¸€æ­¥çš„é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å°†APCä½œä¸ºä¸€ä¸ªæŒä¹…åŒ–é”®-å€¼å­˜å‚¨ç³»ç»Ÿæ¥ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;APCä¹Ÿæä¾›äº†å¯¹äºä½ çš„è„šæœ¬é€æ˜çš„ç±»ä¼¼äºmemcachedçš„åŠŸèƒ½ã€‚ä¸ä½¿ç”¨memcachedç›¸æ¯”ä¸€ä¸ªå¤§çš„ä¼˜åŠ¿æ˜¯
APCæ˜¯é›†æˆåˆ°PHPæ ¸å¿ƒçš„ï¼Œå› æ­¤ä½ ä¸éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šç»´æŠ¤å¦ä¸€ä¸ªè¿è¡Œçš„éƒ¨ä»¶ï¼Œå¹¶ä¸”PHPå¼€å‘è€…åœ¨APC
ä¸Šçš„å·¥ä½œå¾ˆæ´»è·ƒã€‚ä½†ä»å¦ä¸€æ–¹é¢æ¥è¯´ï¼ŒAPCå¹¶ä¸æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç¼“å­˜ï¼Œå¦‚æœä½ éœ€è¦è¿™ä¸ªç‰¹æ€§ï¼Œä½ å°±
å¿…é¡»ä½¿ç”¨memcachedäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Store some values in the APC cache.  We can optionally pass a time-to-live, &lt;/span&gt;
&lt;span style="color: #008000"&gt;// but in this example the values will live forever until they&amp;#39;re garbage-collected by APC.&lt;/span&gt;
apc_store(&lt;span style="color: #a31515"&gt;&amp;#39;username-1532&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;Frodo Baggins&amp;#39;&lt;/span&gt;);
apc_store(&lt;span style="color: #a31515"&gt;&amp;#39;username-958&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;Aragorn&amp;#39;&lt;/span&gt;);
apc_store(&lt;span style="color: #a31515"&gt;&amp;#39;username-6389&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;Gandalf&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// After storing these values, any PHP script can access them, no matter when it&amp;#39;s run!&lt;/span&gt;
$value = apc_fetch(&lt;span style="color: #a31515"&gt;&amp;#39;username-958&amp;#39;&lt;/span&gt;, $success);
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($success === &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;print&lt;/span&gt;($value); &lt;span style="color: #008000"&gt;// Aragorn&lt;/span&gt;

$value = apc_fetch(&lt;span style="color: #a31515"&gt;&amp;#39;username-1&amp;#39;&lt;/span&gt;, $success); &lt;span style="color: #008000"&gt;// $success will be set to boolean false, because this key doesn&amp;#39;t exist.&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($success !== &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;) &lt;span style="color: #008000"&gt;// Note the !==, this checks for true boolean false, not &amp;quot;falsey&amp;quot; values like 0 or empty string.&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;print&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;Key not found&amp;#39;&lt;/span&gt;);

apc_delete(&lt;span style="color: #a31515"&gt;&amp;#39;username-958&amp;#39;&lt;/span&gt;); &lt;span style="color: #008000"&gt;// This key will no longer be available.&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é™·é˜±&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœä½ ä½¿ç”¨çš„ä¸æ˜¯&lt;a href="https://phpbestpractices.org/#serving-php"&gt;PHP-FPM&lt;/a&gt;ï¼ˆä¾‹å¦‚ä½ åœ¨
ä½¿ç”¨&lt;a href="http://stackoverflow.com/questions/2712825/what-is-mod-php"&gt;mod_php&lt;/a&gt;
æˆ–&lt;a href="http://www.fastcgi.com/mod_fastcgi/docs/mod_fastcgi.html"&gt;mod_fastcgi&lt;/a&gt;ï¼‰ï¼Œé‚£ä¹ˆ
æ¯ä¸ªPHPè¿›ç¨‹éƒ½ä¼šæœ‰è‡ªå·±ç‹¬æœ‰çš„APCå®ä¾‹ï¼ŒåŒ…æ‹¬é”®-å€¼å­˜å‚¨ã€‚è‹¥ä½ ä¸æ³¨æ„ï¼Œè¿™å¯èƒ½ä¼šåœ¨ä½ çš„åº”ç”¨
ä»£ç ä¸­é€ æˆåŒæ­¥é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/book.apc.php"&gt;PHPæ‰‹å†Œï¼šAPC&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;PHPä¸Memcached&lt;/h2&gt;
&lt;h3&gt;è‹¥ä½ éœ€è¦ä¸€ä¸ªåˆ†å¸ƒå¼ç¼“å­˜ï¼Œé‚£å°±ä½¿ç”¨&lt;a href="http://php.net/manual/en/book.memcached.php"&gt;Memcached&lt;/a&gt;å®¢æˆ·ç«¯åº“ã€‚å¦åˆ™ï¼Œä½¿ç”¨APCã€‚&lt;/h3&gt;
&lt;p&gt;ç¼“å­˜ç³»ç»Ÿé€šå¸¸èƒ½å¤Ÿæå‡åº”ç”¨çš„æ€§èƒ½ã€‚Memcachedæ˜¯ä¸€ä¸ªå—æ¬¢è¿çš„é€‰æ‹©ï¼Œå®ƒèƒ½é…åˆè®¸å¤šè¯­è¨€ä½¿ç”¨ï¼Œ
åŒ…æ‹¬PHPã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œä»ä¸€ä¸ªPHPè„šæœ¬ä¸­è®¿é—®ä¸€ä¸ªMemcachedæœåŠ¡å™¨ï¼Œä½ æœ‰ä¸¤ä¸ªä¸åŒä¸”å‘½åå¾ˆæ„šè ¢çš„å®¢æˆ·ç«¯åº“é€‰æ‹©é¡¹ï¼š
&lt;a href="http://php.net/manual/en/book.memcache.php"&gt;Memcache&lt;/a&gt;å’Œ&lt;a href="http://php.net/manual/en/book.memcached.php"&gt;Memcached&lt;/a&gt;ã€‚
å®ƒä»¬æ˜¯ä¸¤ä¸ªåå­—å‡ ä¹ç›¸åŒçš„ä¸åŒåº“ï¼Œä¸¤è€…éƒ½å¯ç”¨äºè®¿é—®ä¸€ä¸ªMemcachedå®ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;äº‹å®è¯æ˜ï¼ŒMemcachedåº“å¯¹äºMemcachedåè®®çš„å®ç°æœ€å¥½ï¼ŒåŒ…å«äº†ä¸€äº›Mmecacheåº“æ²¡æœ‰çš„æœ‰ç”¨çš„ç‰¹æ€§ï¼Œ
å¹¶ä¸”çœ‹èµ·æ¥Memcachedåº“çš„å¼€å‘ä¹Ÿæœ€ä¸ºæ´»è·ƒã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå¦‚æœä¸éœ€è¦è®¿é—®æ¥è‡ªä¸€ç»„åˆ†å¸ƒå¼æœåŠ¡å™¨çš„ä¸€ä¸ªMemcachedå®ä¾‹ï¼Œé‚£å°±&lt;a href="https://phpbestpractices.org/#opcode-cache"&gt;ä½¿ç”¨APC&lt;/a&gt;ã€‚
APCå¾—åˆ°PHPé¡¹ç›®çš„æ”¯æŒï¼Œå…·å¤‡å¾ˆå¤šå’ŒMemcachedç›¸åŒçš„åŠŸèƒ½ï¼Œå¹¶ä¸”èƒ½å¤Ÿç”¨ä½œopcodeç¼“å­˜ï¼Œè¿™èƒ½æé«˜PHPè„šæœ¬çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®‰è£…Memcachedå®¢æˆ·ç«¯åº“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å®‰è£…MemcachedæœåŠ¡å™¨ä¹‹åï¼Œéœ€è¦å®‰è£…Memcachedå®¢æˆ·ç«¯åº“ã€‚æ²¡æœ‰è¯¥åº“ï¼ŒPHPè„šæœ¬å°±æ²¡æ³•ä¸
MemcachedæœåŠ¡å™¨é€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Ubuntu 12.04ä¸Šï¼Œä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥å®‰è£…Memcachedå®¢æˆ·ç«¯åº“ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;user@localhost: sudo apt-get install php5-memcached
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ä½¿ç”¨APCä½œä¸ºæ›¿ä»£&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹&lt;a href="https://phpbestpractices.org/#opcode-cache"&gt;opcodeç¼“å­˜ä¸€èŠ‚&lt;/a&gt;é˜…è¯»æ›´å¤šä¸ä½¿ç”¨APCä½œä¸º
Memcachedæ›¿ä»£æ–¹æ¡ˆç›¸å…³çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/book.memcached.php"&gt;PHPæ‰‹å†Œï¼šMemcached&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/book.apc.php"&gt;PHPæ‰‹å†Œï¼šAPC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/1442411/using-memcache-vs-memcached-with-php"&gt;Stack Overflow: PHPä¸­ä½¿ç”¨Memcache vs. Memcached&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/815041/memcached-vs-apc-which-one-should-i-choose"&gt;Stack Overflow: Memcached vs APCï¼Œæˆ‘è¯¥é€‰æ‹©å“ªä¸€ä¸ªï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;PHPä¸æ­£åˆ™è¡¨è¾¾å¼&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨ &lt;a href="http://php.net/manual/en/book.pcre.php"&gt;PCRE&lt;/a&gt; ( &lt;code&gt;preg_*&lt;/code&gt; ) å®¶æ—å‡½æ•°&lt;/h3&gt;
&lt;p&gt;PHPæœ‰ä¸¤ç§ä½¿ç”¨ä¸åŒçš„æ–¹å¼æ¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼šPCREï¼ˆPerlå…¼å®¹è¡¨ç¤ºæ³•ï¼Œ&lt;code&gt;preg_*&lt;/code&gt;ï¼‰å‡½æ•°
å’Œ&lt;a href="http://php.net/manual/en/book.regex.php"&gt;POSIX&lt;/a&gt;ï¼ˆPOSIXæ‰©å±•è¡¨ç¤ºæ³•ï¼Œ&lt;code&gt;ereg_*&lt;/code&gt;ï¼‰
å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªå‡½æ•°å®¶æ—å„è‡ªä½¿ç”¨ä¸€ç§é£æ ¼ç¨å¾®ä¸åŒçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚å¹¸è¿çš„æ˜¯ï¼ŒPOSIXå®¶æ—å‡½æ•°ä»PHP
5.3.0å¼€å§‹å°±è¢«å¼ƒç”¨äº†ã€‚å› æ­¤ï¼Œä½ ç»ä¸åº”è¯¥ä½¿ç”¨POSIXå®¶æ—å‡½æ•°ç¼–å†™æ–°çš„ä»£ç ã€‚å§‹ç»ˆä½¿ç”¨
PRCEå®¶æ—å‡½æ•°ï¼Œå³&lt;code&gt;preg_*&lt;/code&gt;å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/book.pcre.php"&gt;PHPæ‰‹å†Œï¼šPCRE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.noupe.com/php/php-regular-expressions.html"&gt;PHPæ­£åˆ™è¡¨è¾¾å¼èµ·æ­¥&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;é…ç½®WebæœåŠ¡å™¨æä¾›PHPæœåŠ¡&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨&lt;a href="http://php.net/manual/en/install.fpm.php"&gt;PHP-FPM&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;æœ‰å¤šç§æ–¹å¼æ¥é…ç½®ä¸€ä¸ªwebæœåŠ¡å™¨ä»¥æä¾›PHPæœåŠ¡ã€‚ä¼ ç»Ÿï¼ˆå¹¶ä¸”ç³Ÿç³•çš„ï¼‰çš„æ–¹å¼æ˜¯ä½¿ç”¨Apacheçš„
&lt;a href="http://stackoverflow.com/questions/2712825/what-is-mod-php"&gt;mod_php&lt;/a&gt;ã€‚Mod_phpå°†PHP
ç»‘å®šåˆ°Apacheè‡ªèº«ï¼Œä½†æ˜¯Apacheå¯¹äºè¯¥æ¨¡å—åŠŸèƒ½çš„ç®¡ç†å·¥ä½œéå¸¸ç³Ÿç³•ã€‚ä¸€æ—¦é‡åˆ°è¾ƒå¤§çš„æµé‡ï¼Œ
å°±ä¼šé­å—ä¸¥é‡çš„å†…å­˜é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥ä¸¤ä¸ªæ–°çš„å¯é€‰é¡¹å¾ˆå¿«æµè¡Œèµ·æ¥ï¼š&lt;a href="http://www.fastcgi.com/mod_fastcgi/docs/mod_fastcgi.html"&gt;mod_fastcgi&lt;/a&gt;
å’Œ&lt;a href="http://httpd.apache.org/mod_fcgid/"&gt;mod_fcgid&lt;/a&gt;ã€‚ä¸¤è€…å‡ä¿æŒä¸€å®šæ•°é‡çš„PHPæ‰§è¡Œè¿›ç¨‹ï¼Œ
Apacheå°†è¯·æ±‚å‘é€åˆ°è¿™äº›ç«¯å£æ¥å¤„ç†PHPçš„æ‰§è¡Œã€‚ç”±äºè¿™äº›åº“é™åˆ¶äº†å­˜æ´»çš„PHPè¿›ç¨‹çš„æ•°é‡ï¼Œ
ä»è€Œå¤§å¤§å‡å°‘äº†å†…å­˜ä½¿ç”¨è€Œæ²¡æœ‰å½±å“æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€äº›èªæ˜çš„äººåˆ›å»ºä¸€ä¸ªfastcgiçš„å®ç°ï¼Œä¸“é—¨ä¸ºçœŸæ­£ä¸PHPå·¥ä½œè‰¯å¥½è€Œè®¾è®¡ï¼Œä»–ä»¬ç§°ä¹‹ä¸º
&lt;a href="http://php.net/manual/en/install.fpm.php"&gt;PHP-FPM&lt;/a&gt;ã€‚PHP 5.3.0ä¹‹å‰ï¼Œä¸ºå®‰è£…å®ƒï¼Œ
ä½ å¾—è·¨è¶Šè®¸å¤šéšœç¢ï¼Œä½†å¹¸è¿çš„æ˜¯ï¼ŒPHP 5.3.3çš„æ ¸å¿ƒåŒ…å«äº†PHP-FPMï¼Œå› æ­¤åœ¨Ubuntu 12.04ä¸Šå®‰è£…å®ƒéå¸¸æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹ç¤ºä¾‹æ˜¯é’ˆå¯¹Apache 2.2.22çš„ï¼Œä½†PHP-FPMä¹Ÿèƒ½ç”¨äºå…¶ä»–webæœåŠ¡å™¨å¦‚Nginxã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®‰è£…PHP-FPMå’ŒApache&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨Ubuntu 12.04ä¸Šä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…PHP-FPMå’ŒApacheï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;user@localhost: sudo apt-get install apache2-mpm-worker
libapache2-mod-fastcgi php5-fpm
user@localhost: sudo a2enmod actions alias fastcgi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„æˆ‘ä»¬&lt;em&gt;å¿…é¡»&lt;/em&gt;ä½¿ç”¨apache2-mpm-workerï¼Œè€Œä¸æ˜¯apache2-mpm-preforkæˆ–apache2-mpm-threadedã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥é…ç½®Aapacheè™šæ‹Ÿä¸»æœºå°†PHPè¯·æ±‚è·¯ç”±åˆ°PHP-FPMè¿›ç¨‹ã€‚å°†å¦‚ä¸‹é…ç½®è¯­å¥æ”¾å…¥Apache
é…ç½®æ–‡ä»¶ï¼ˆåœ¨Ubuntu 12.04ä¸Šé»˜è®¤é…ç½®æ–‡ä»¶æ˜¯/etc/apache2/sites-available/defaultï¼‰ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;VirtualHost *:80&amp;gt;
    AddHandler php5-fcgi .php
    Action php5-fcgi /php5-fcgi
    Alias /php5-fcgi /usr/lib/cgi-bin/php5-fcgi
    FastCgiExternalServer /usr/lib/cgi-bin/php5-fcgi -host 127.0.0.1:9000 -idle-timeout 120 -pass-header Authorization
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æœ€åï¼Œé‡å¯Apacheå’ŒFPMè¿›ç¨‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;user@localhost: sudo service apache2 restart &amp;amp;&amp;amp; sudo service php5-fpm
restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/install.fpm.php"&gt;PHPæ‰‹å†Œï¼šPHP-FPM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://php-fpm.org/"&gt;PHP-FPMä¸»é¡µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://alexcabal.com/installing-apache-mod_fastcgi-php-fpm-on-ubuntu-server-maverick/"&gt;åœ¨UbuntuæœåŠ¡å™¨Maverickä¸Šå®‰è£…Apache + mod_fastcgi + PHP-FPM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.joomlaperformance.com/articles/webcasts/why_mod_php_is_bad_for_performance_52_58.html"&gt;ä¸ºä»€ä¹ˆmod_phpçš„æ€§èƒ½å¾ˆç³Ÿç³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;å‘é€é‚®ä»¶&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨&lt;a href="https://code.google.com/a/apache-extras.org/p/phpmailer/"&gt;PHPMailer&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;ç»PHPMailer 5.1æµ‹è¯•&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;PHPæä¾›äº†ä¸€ä¸ª&lt;a href="http://php.net/manual/en/function.mail.php"&gt;mail()&lt;/a&gt;å‡½æ•°ï¼Œçœ‹èµ·æ¥å¾ˆç®€å•æ˜“ç”¨ã€‚
ä¸å¹¸çš„æ˜¯ï¼Œä¸PHPä¸­çš„å¾ˆå¤šä¸œè¥¿ä¸€æ ·ï¼Œå®ƒçš„ç®€å•æ€§æ˜¯ä¸ªå¹»è±¡ï¼Œå› å…¶è™šå‡çš„è¡¨é¢ä½¿ç”¨å®ƒä¼šå¯¼è‡´
ä¸¥é‡çš„å®‰å…¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;Emailæ˜¯ä¸€ç»„ç½‘ç»œåè®®ï¼Œæ¯”PHPçš„å†å²è¿˜æ›²æŠ˜ã€‚å®Œå…¨å¯ä»¥è¯´å‘é€é‚®ä»¶ä¸­çš„é™·é˜±ä¸PHPçš„mail()
å‡½æ•°ä¸€æ ·å¤šï¼Œè¿™ä¸ªå¯èƒ½ä¼šä»¤ä½ æœ‰ç‚¹â€œä¸å¯’è€Œæ —â€å§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://code.google.com/a/apache-extras.org/p/phpmailer/"&gt;PHPMailer&lt;/a&gt;æ˜¯ä¸€ä¸ªæµè¡Œè€Œ
æˆç†Ÿçš„å¼€æºåº“ï¼Œä¸ºå®‰å…¨åœ°å‘é€é‚®ä»¶æä¾›ä¸€ä¸ªæ˜“ç”¨çš„æ¥å£ã€‚å®ƒå…³æ³¨å¯èƒ½é™·é˜±ï¼Œè¿™æ ·ä½ å¯ä»¥ä¸“æ³¨
äºæ›´é‡è¦çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Include the PHPMailer library&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;require_once&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;phpmailer-5.1/class.phpmailer.php&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Passing &amp;#39;true&amp;#39; enables exceptions.  This is optional and defaults to false.&lt;/span&gt;
$mailer = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; PHPMailer(&lt;span style="color: #0000ff"&gt;true&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Send a mail from Bilbo Baggins to Gandalf the Grey&lt;/span&gt;

&lt;span style="color: #008000"&gt;// Set up to, from, and the message body.  The body doesn&amp;#39;t have to be HTML;&lt;/span&gt;
&lt;span style="color: #008000"&gt;// check the PHPMailer documentation for details.&lt;/span&gt;
$mailer-&amp;gt;Sender = &lt;span style="color: #a31515"&gt;&amp;#39;bbaggins@example.com&amp;#39;&lt;/span&gt;;
$mailer-&amp;gt;AddReplyTo(&lt;span style="color: #a31515"&gt;&amp;#39;bbaggins@example.com&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;Bilbo Baggins&amp;#39;&lt;/span&gt;);
$mailer-&amp;gt;SetFrom(&lt;span style="color: #a31515"&gt;&amp;#39;bbaggins@example.com&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;Bilbo Baggins&amp;#39;&lt;/span&gt;);
$mailer-&amp;gt;AddAddress(&lt;span style="color: #a31515"&gt;&amp;#39;gandalf@example.com&amp;#39;&lt;/span&gt;);
$mailer-&amp;gt;Subject = &lt;span style="color: #a31515"&gt;&amp;#39;The finest weed in the South Farthing&amp;#39;&lt;/span&gt;;
$mailer-&amp;gt;MsgHTML(&lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;p&amp;gt;You really must try it, Gandalf!&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;-Bilbo&amp;lt;/p&amp;gt;&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Set up our connection information.&lt;/span&gt;
$mailer-&amp;gt;IsSMTP();
$mailer-&amp;gt;SMTPAuth = &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
$mailer-&amp;gt;SMTPSecure = &lt;span style="color: #a31515"&gt;&amp;#39;ssl&amp;#39;&lt;/span&gt;;
$mailer-&amp;gt;Port = 465;
$mailer-&amp;gt;Host = &lt;span style="color: #a31515"&gt;&amp;#39;my smpt host&amp;#39;&lt;/span&gt;;
$mailer-&amp;gt;Username = &lt;span style="color: #a31515"&gt;&amp;#39;my smtp username&amp;#39;&lt;/span&gt;;
$mailer-&amp;gt;Password = &lt;span style="color: #a31515"&gt;&amp;#39;my smtp password&amp;#39;&lt;/span&gt;;

&lt;span style="color: #008000"&gt;// All done!&lt;/span&gt;
$mailer-&amp;gt;Send();
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;éªŒè¯é‚®ä»¶åœ°å€&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨&lt;a href="http://php.net/manual/en/function.filter-var.php"&gt;filter_var()&lt;/a&gt;å‡½æ•°&lt;/h3&gt;
&lt;p&gt;Webåº”ç”¨å¯èƒ½éœ€è¦åšçš„ä¸€ä»¶å¸¸è§ä»»åŠ¡æ˜¯æ£€æµ‹ç”¨æˆ·æ˜¯å¦è¾“å…¥äº†ä¸€ä¸ªæœ‰æ•ˆçš„é‚®ä»¶åœ°å€ã€‚æ¯«æ— ç–‘é—®
ä½ å¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸€äº›å£°ç§°å¯ä»¥è§£å†³è¯¥é—®é¢˜çš„å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½†æ˜¯æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨
PHPçš„å†…å»º&lt;code&gt;filter_var()&lt;/code&gt;å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
filter_var(&lt;span style="color: #a31515"&gt;&amp;#39;sgamgee@example.com&amp;#39;&lt;/span&gt;, FILTER_VALIDATE_EMAIL);
&lt;span style="color: #008000"&gt;//Returns &amp;quot;sgamgee@example.com&amp;quot;. This is a valid email address.&lt;/span&gt;

filter_var(&lt;span style="color: #a31515"&gt;&amp;#39;sauron@mordor&amp;#39;&lt;/span&gt;, FILTER_VALIDATE_EMAIL);
&lt;span style="color: #008000"&gt;// Returns boolean false! This is *not* a valid email address.&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/function.filter-var.php"&gt;PHPæ‰‹å†Œï¼šfilter_var()&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/filter.filters.php"&gt;PHPæ‰‹å†Œï¼šè¿‡æ»¤å™¨çš„ç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;å‡€åŒ–HTMLè¾“å…¥å’Œè¾“å‡º&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å¯¹äºç®€å•çš„æ•°æ®å‡€åŒ–ï¼Œä½¿ç”¨&lt;a href="http://php.net/manual/en/function.htmlentities.php"&gt;htmlentities()&lt;/a&gt;å‡½æ•°,
å¤æ‚çš„æ•°æ®å‡€åŒ–åˆ™ä½¿ç”¨&lt;a href="http://htmlpurifier.org/"&gt;HTML Purifier&lt;/a&gt;åº“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ç»HTML Purifier 4.4.0æµ‹è¯•&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ä»»ä½•webåº”ç”¨ä¸­å±•ç¤ºç”¨æˆ·è¾“å‡ºæ—¶ï¼Œé¦–å…ˆå¯¹å…¶è¿›è¡Œâ€œå‡€åŒ–â€å»é™¤ä»»ä½•æ½œåœ¨å±é™©çš„HTMLæ˜¯éå¸¸å¿…è¦çš„ã€‚
ä¸€ä¸ªæ¶æ„çš„ç”¨æˆ·å¯ä»¥åˆ¶ä½œæŸäº›HTMLï¼Œè‹¥è¢«ä½ çš„webåº”ç”¨ç›´æ¥è¾“å‡ºï¼Œå¯¹æŸ¥çœ‹å®ƒçš„äººæ¥è¯´ä¼šå¾ˆå±é™©ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶å¯ä»¥å°è¯•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥å‡€åŒ–HTMLï¼Œä½†ä¸è¦è¿™æ ·åšã€‚HTMLæ˜¯ä¸€ç§å¤æ‚çš„è¯­è¨€ï¼Œè¯•å›¾
ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥å‡€åŒ–HTMLå‡ ä¹æ€»æ˜¯å¤±è´¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯èƒ½ä¼šæ‰¾åˆ°å»ºè®®ä½ ä½¿ç”¨&lt;a href="http://php.net/manual/en/function.strip-tags.php"&gt;strip_tags()&lt;/a&gt;
å‡½æ•°çš„è§‚ç‚¹ã€‚è™½ç„¶strip_tags()ä»æŠ€æœ¯ä¸Šæ¥è¯´æ˜¯å®‰å…¨çš„ï¼Œä½†å¦‚æœè¾“å…¥çš„ä¸åˆæ³•çš„HTMLï¼ˆæ¯”å¦‚ï¼Œ
æ²¡æœ‰ç»“æŸæ ‡ç­¾ï¼‰ï¼Œå®ƒå°±æˆäº†ä¸€ä¸ªâ€œæ„šè ¢â€çš„å‡½æ•°ï¼Œå¯èƒ½ä¼šå»é™¤æ¯”ä½ æœŸæœ›çš„æ›´å¤šçš„å†…å®¹ã€‚ç”±äºéæŠ€æœ¯ç”¨æˆ·
åœ¨é€šä¿¡ä¸­ç»å¸¸ä½¿ç”¨&lt;code&gt;&amp;lt;&lt;/code&gt;å’Œ&lt;code&gt;&amp;gt;&lt;/code&gt;å­—ç¬¦ï¼Œ&lt;code&gt;strip_tags()&lt;/code&gt;ä¹Ÿå°±ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœé˜…è¯»äº†&lt;a href="https://phpbestpractices.org/#validating-emails"&gt;éªŒè¯é‚®ä»¶åœ°å€&lt;/a&gt;ä¸€èŠ‚ï¼Œ
ä½ ä¹Ÿè®¸ä¹Ÿä¼šè€ƒè™‘ä½¿ç”¨&lt;a href="http://php.net/manual/en/function.filter-var.php"&gt;filter_var()&lt;/a&gt;
å‡½æ•°ã€‚ç„¶è€Œ&lt;a href="http://stackoverflow.com/questions/3150413/filter-sanitize-special-chars-problem-with-line-breaks"&gt;filter_var()å‡½æ•°åœ¨é‡åˆ°æ–­è¡Œæ—¶ä¼šå‡ºç°é—®é¢˜&lt;/a&gt;ï¼Œ
å¹¶ä¸”éœ€è¦ä¸ç›´è§‚çš„é…ç½®ä»¥æ¥è¿‘&lt;a href="http://php.net/manual/en/function.htmlentities.php"&gt;htmlentities()&lt;/a&gt;å‡½æ•°çš„æ•ˆæœï¼Œ
å› æ­¤ä¹Ÿä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¯¹äºç®€å•éœ€æ±‚çš„å‡€åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ çš„webåº”ç”¨ä»…éœ€è¦å®Œå…¨åœ°è½¬ä¹‰ï¼ˆå› æ­¤å¯ä»¥æ— å®³åœ°å‘ˆç°ï¼Œä½†ä¸æ˜¯å®Œå…¨å»é™¤ï¼‰HTMLï¼Œåˆ™ä½¿ç”¨
PHPçš„å†…å»º&lt;a href="http://php.net/manual/en/function.htmlentities.php"&gt;htmlentities()&lt;/a&gt;å‡½æ•°ã€‚
è¿™ä¸ªå‡½æ•°è¦æ¯”HTML Purifierå¿«å¾—å¤šï¼Œå› æ­¤å®ƒä¸å¯¹HTMLåšä»»ä½•éªŒè¯---ä»…è½¬ä¹‰æ‰€æœ‰ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;htmlentities()ä¸åŒäºç±»ä¼¼åŠŸèƒ½çš„å‡½æ•°&lt;a href="http://php.net/manual/en/function.htmlspecialchars.php"&gt;htmlspecialchars()&lt;/a&gt;ï¼Œ
å®ƒä¼šç¼–ç æ‰€æœ‰é€‚ç”¨çš„HTMLå®ä½“ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªå°çš„å­é›†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Oh no!  The user has submitted malicious HTML, and we have to display it in our web app!&lt;/span&gt;
$evilHtml = &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;div onclick=&amp;quot;xss();&amp;quot;&amp;gt;Mua-ha-ha!  Twiddling my evil mustache...&amp;lt;/div&amp;gt;&amp;#39;&lt;/span&gt;;

&lt;span style="color: #008000"&gt;// Use the ENT_QUOTES flag to make sure both single and double quotes are escaped.&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Use the UTF-8 character encoding if you&amp;#39;ve stored the text as UTF-8 (as you should have).&lt;/span&gt;
&lt;span style="color: #008000"&gt;// See the UTF-8 section in this document for more details.&lt;/span&gt;
$safeHtml = htmlentities($evilHtml, ENT_QUOTES, &lt;span style="color: #a31515"&gt;&amp;#39;UTF-8&amp;#39;&lt;/span&gt;);
&lt;span style="color: #008000"&gt;// $safeHtml is now fully escaped HTML.  You can output $safeHtml to your users without fear!&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å¯¹äºå¤æ‚éœ€æ±‚çš„å‡€åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºå¾ˆå¤šwebåº”ç”¨æ¥è¯´ï¼Œç®€å•åœ°è½¬ä¹‰HTMLæ˜¯ä¸å¤Ÿçš„ã€‚ä½ å¯èƒ½æƒ³å®Œå…¨å»é™¤ä»»ä½•HTMLï¼Œæˆ–è€…å…è®¸
ä¸€å°éƒ¨åˆ†å­é›†çš„HTMLå­˜åœ¨ã€‚è‹¥æ˜¯å¦‚æ­¤ï¼Œåˆ™ä½¿ç”¨&lt;a href="http://htmlpurifier.org/"&gt;HTML Purifier&lt;/a&gt;
åº“ã€‚&lt;/p&gt;
&lt;p&gt;HTML Purifieræ˜¯ä¸€ä¸ªç»è¿‡å……åˆ†æµ‹è¯•ä½†æ•ˆç‡æ¯”è¾ƒä½çš„åº“ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¦‚æœä½ çš„éœ€æ±‚å¹¶ä¸å¤æ‚
å°±åº”ä½¿ç”¨&lt;a href="http://php.net/manual/en/function.htmlentities.php"&gt;htmlentities()&lt;/a&gt;ï¼Œå› ä¸º
å®ƒçš„æ•ˆç‡è¦å¿«å¾—å¤šã€‚&lt;/p&gt;
&lt;p&gt;HTML Purifierç›¸æ¯”&lt;a href="http://php.net/manual/en/function.strip-tags.php"&gt;strip_tags()&lt;/a&gt;
æ˜¯æœ‰ä¼˜åŠ¿çš„ï¼Œå› ä¸ºå®ƒåœ¨å‡€åŒ–HTMLä¹‹å‰ä¼šå¯¹å…¶æ ¡éªŒã€‚è¿™æ„å‘³ç€å¦‚æœç”¨æˆ·è¾“å…¥æ— æ•ˆHTMLï¼ŒHTML 
Purifierç›¸æ¯”strip_tags()æ›´èƒ½ä¿ç•™HTMLçš„åŸæ„ã€‚HTML
Purifieré«˜åº¦å¯å®šåˆ¶ï¼Œå…è®¸ä½ ä¸ºHTMLçš„ä¸€ä¸ªå­é›†å»ºç«‹ç™½åå•æ¥å…è®¸è¿™ä¸ªHTMLå­é›†çš„å®ä½“å­˜åœ¨
è¾“å‡ºä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å…¶ç¼ºç‚¹å°±æ˜¯ç›¸å½“çš„æ…¢ï¼Œå®ƒè¦æ±‚ä¸€äº›è®¾ç½®ï¼Œåœ¨ä¸€ä¸ªå…±äº«ä¸»æœºçš„ç¯å¢ƒé‡Œå¯èƒ½æ˜¯ä¸å¯è¡Œçš„ã€‚å…¶æ–‡æ¡£
é€šå¸¸ä¹Ÿå¤æ‚è€Œä¸æ˜“ç†è§£ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ä½¿ç”¨é…ç½®ã€‚æŸ¥çœ‹&lt;a href="http://htmlpurifier.org/docs"&gt;æ–‡æ¡£&lt;/a&gt;
é˜…è¯»HTML Purifieræä¾›çš„æ›´å¤šæ›´é«˜çº§çš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Include the HTML Purifier library&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;require_once&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;htmlpurifier-4.4.0/HTMLPurifier.auto.php&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Oh no!  The user has submitted malicious HTML, and we have to display it in our web app!&lt;/span&gt;
$evilHtml = &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;div onclick=&amp;quot;xss();&amp;quot;&amp;gt;Mua-ha-ha!  Twiddling my evil mustache...&amp;lt;/div&amp;gt;&amp;#39;&lt;/span&gt;;

&lt;span style="color: #008000"&gt;// Set up the HTML Purifier object with the default configuration.&lt;/span&gt;
$purifier = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; HTMLPurifier(HTMLPurifier_Config::createDefault());

$safeHtml = $purifier-&amp;gt;purify($evilHtml);
&lt;span style="color: #008000"&gt;// $safeHtml is now sanitized.  You can output $safeHtml to your users without fear!&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é™·é˜±&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»¥é”™è¯¯çš„å­—ç¬¦ç¼–ç ä½¿ç”¨htmlentities()ä¼šé€ æˆæ„æƒ³ä¸åˆ°çš„è¾“å‡ºã€‚åœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶å§‹ç»ˆç¡®è®¤
æŒ‡å®šäº†ä¸€ç§å­—ç¬¦ç¼–ç ï¼Œå¹¶ä¸”è¯¥ç¼–ç ä¸å°†è¢«å‡€åŒ–çš„å­—ç¬¦ä¸²çš„ç¼–ç ç›¸åŒ¹é…ã€‚æ›´å¤šç»†èŠ‚è¯·æŸ¥çœ‹
&lt;a href="https://phpbestpractices.org/#utf-8"&gt;UTF-8ä¸€èŠ‚&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨htmlentities()æ—¶ï¼Œå§‹ç»ˆåŒ…å«ENT_QUOTESå’Œå­—ç¬¦ç¼–ç å‚æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œhtmlentities()
ä¸ä¼šå¯¹å•å¼•å·ç¼–ç ã€‚å¤šæ„šè ¢çš„é»˜è®¤åšæ³•ï¼&lt;/li&gt;
&lt;li&gt;HTML
Purifierå¯¹äºå¤æ‚çš„HTMLæ•ˆç‡æå…¶çš„ä½ã€‚å¯ä»¥è€ƒè™‘è®¾ç½®ä¸€ä¸ªç¼“å­˜æ–¹æ¡ˆå¦‚APCæ¥ä¿å­˜ç»è¿‡å‡€åŒ–çš„ç»“æœ
ä»¥å¤‡åç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://htmlpurifier.org/comparison"&gt;PHP HTMLå‡€åŒ–å·¥å…·å¯¹æ¯”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/3605629/php-prevent-xss-with-strip-tags"&gt;Stack Overflow: ä½¿ç”¨strip_tags()æ¥é˜²æ­¢XSSï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/129677/whats-the-best-method-for-sanitizing-user-input-with-php"&gt;Stack Overflow: PHPä¸­å‡€åŒ–ç”¨æˆ·è¾“å…¥çš„æœ€ä½³æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/3150413/filter-sanitize-special-chars-problem-with-line-breaks"&gt;Stack Overflow: æ–­è¡Œæ—¶çš„FILTER_SANITIZE_SPECIAL_CHARSé—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;PHPä¸UTF-8&lt;/h2&gt;
&lt;h3&gt;æ²¡æœ‰ä¸€è¡Œå¼è§£å†³æ–¹æ¡ˆã€‚å°å¿ƒã€æ³¨æ„ç»†èŠ‚ï¼Œä»¥åŠä¸€è‡´æ€§ã€‚&lt;/h3&gt;
&lt;p&gt;PHPä¸­çš„UTF-8ç³Ÿé€äº†ã€‚åŸè°…æˆ‘çš„ç”¨è¯ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰PHPåœ¨ä½å±‚æ¬¡ä¸Šè¿˜ä¸æ”¯æŒUnicodeã€‚æœ‰å‡ ç§æ–¹å¼å¯ä»¥ç¡®ä¿UTF-8å­—ç¬¦ä¸²èƒ½å¤Ÿè¢«æ­£ç¡®å¤„ç†ï¼Œ
ä½†å¹¶ä¸å®¹æ˜“ï¼Œéœ€è¦æ·±å…¥åˆ°webåº”ç”¨çš„æ‰€æœ‰å±‚é¢ï¼Œä»HTMLï¼Œåˆ°SQLï¼Œåˆ°PHPã€‚æˆ‘ä»¬æ—¨åœ¨æä¾›ä¸€ä¸ªç®€æ´ã€
å®ç”¨çš„æ¦‚è¿°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PHPå±‚é¢çš„UTF-8&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŸºæœ¬çš„&lt;a href="http://php.net/manual/en/language.operators.string.php"&gt;å­—ç¬¦ä¸²æ“ä½œ&lt;/a&gt;ï¼Œå¦‚ä¸²æ¥
ä¸¤ä¸ªå­—ç¬¦ä¸²ã€å°†å­—ç¬¦ä¸²èµ‹ç»™å˜é‡ï¼Œå¹¶ä¸éœ€è¦ä»»ä½•é’ˆå¯¹UTF-8çš„ç‰¹æ®Šä¸œè¥¿ã€‚ç„¶è€Œï¼Œå¤šæ•°
&lt;a href="http://php.net/manual/en/ref.strings.php"&gt;å­—ç¬¦ä¸²å‡½æ•°&lt;/a&gt;ï¼Œå¦‚&lt;a href="http://php.net/manual/en/function.strpos.php"&gt;strpos()&lt;/a&gt;
å’Œ&lt;a href="http://php.net/manual/en/function.strlen.php"&gt;strlen&lt;/a&gt;ï¼Œå°±éœ€è¦ç‰¹æ®Šçš„è€ƒè™‘ã€‚è¿™äº›
å‡½æ•°éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„&lt;code&gt;mb_*&lt;/code&gt;å‡½æ•°ï¼šä¾‹å¦‚ï¼Œ&lt;a href="http://php.net/manual/en/function.mb-strpos.php"&gt;mb_strpos()&lt;/a&gt;
å’Œ&lt;a href="http://php.net/manual/en/function.mb-strlen.php"&gt;mb_strlen()&lt;/a&gt;ã€‚è¿™äº›å¯¹åº”çš„å‡½æ•°
ç»Ÿç§°ä¸º&lt;a href="http://php.net/manual/en/ref.mbstring.php"&gt;å¤šå­—èŠ‚å­—ç¬¦ä¸²å‡½æ•°&lt;/a&gt;ã€‚è¿™äº›å¤šå­—èŠ‚å­—ç¬¦ä¸²
å‡½æ•°æ˜¯ä¸“é—¨ä¸ºæ“ä½œUnicodeå­—ç¬¦ä¸²è€Œè®¾è®¡çš„ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½ æ“ä½œUnicodeå­—ç¬¦ä¸²æ—¶ï¼Œå¿…é¡»ä½¿ç”¨&lt;code&gt;mb_*&lt;/code&gt;å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ä½¿ç”¨&lt;a href="http://php.net/manual/en/function.substr.php"&gt;substr()&lt;/a&gt;
æ“ä½œä¸€ä¸ªUTF-8å­—ç¬¦ä¸²ï¼Œå…¶ç»“æœå°±å¾ˆå¯èƒ½åŒ…å«ä¸€äº›ä¹±ç ã€‚æ­£ç¡®çš„å‡½æ•°åº”è¯¥æ˜¯å¯¹åº”çš„å¤šå­—èŠ‚å‡½æ•°ï¼Œ
&lt;a href="http://php.net/manual/en/function.mb-substr.php"&gt;mb_substr()&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;éš¾çš„æ˜¯å§‹ç»ˆè®°å¾—ä½¿ç”¨&lt;code&gt;mb_*&lt;/code&gt;å‡½æ•°ã€‚å³ä½¿ä½ ä»…ä¸€æ¬¡å¿˜äº†ï¼Œä½ çš„Unicodeå­—ç¬¦ä¸²åœ¨æ¥ä¸‹æ¥çš„å¤„ç†ä¸­
å°±å¯èƒ½äº§ç”Ÿä¹±ç ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶ä¸æ˜¯æ‰€æœ‰çš„å­—ç¬¦ä¸²å‡½æ•°éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„&lt;code&gt;mb_*&lt;/code&gt;ã€‚å¦‚æœä¸å­˜åœ¨ä½ æƒ³è¦çš„é‚£ä¸€ä¸ªï¼Œé‚£ä½ å°±åªèƒ½
è‡ªè®¤å€’éœ‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œåœ¨æ¯ä¸ªPHPè„šæœ¬çš„é¡¶éƒ¨ï¼ˆæˆ–è€…åœ¨å…¨å±€åŒ…å«è„šæœ¬çš„é¡¶éƒ¨ï¼‰ä½ éƒ½åº”ä½¿ç”¨
&lt;a href="http://php.net/manual/en/function.mb-internal-encoding.php"&gt;mb_internal_encoding&lt;/a&gt;
å‡½æ•°ï¼Œå¦‚æœä½ çš„è„šæœ¬ä¼šè¾“å‡ºåˆ°æµè§ˆå™¨ï¼Œé‚£ä¹ˆè¿˜å¾—ç´§è·Ÿå…¶ååŠ ä¸ª&lt;a href="http://php.net/manual/en/function.mb-http-output.php"&gt;mb_http_output()&lt;/a&gt;
å‡½æ•°ã€‚åœ¨æ¯ä¸ªè„šæœ¬ä¸­æ˜¾å¼åœ°å®šä¹‰å­—ç¬¦ä¸²çš„ç¼–ç åœ¨ä»¥åèƒ½ä¸ºä½ å‡å°‘å¾ˆå¤šä»¤äººå¤´ç–¼çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œè®¸å¤šæ“ä½œå­—ç¬¦ä¸²çš„PHPå‡½æ•°éƒ½æœ‰ä¸€ä¸ªå¯é€‰å‚æ•°è®©ä½ æŒ‡å®šå­—ç¬¦ç¼–ç ã€‚è‹¥æœ‰è¯¥é€‰é¡¹ï¼Œ ä½ åº”
å§‹ç»ˆæ˜¾å¼åœ°æŒ‡æ˜UTF-8ç¼–ç ã€‚ä¾‹å¦‚ï¼Œ&lt;a href="http://php.net/manual/en/function.htmlentities.php"&gt;htmlentities()&lt;/a&gt;
å°±æœ‰ä¸€ä¸ªå­—ç¬¦ç¼–ç æ–¹å¼é€‰é¡¹ï¼Œåœ¨å¤„ç†è¿™æ ·çš„å­—ç¬¦ä¸²æ—¶åº”å§‹ç»ˆæŒ‡å®šUTF-8ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MySQLå±‚é¢çš„UTF-8&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ çš„PHPè„šæœ¬ä¼šè®¿é—®MySQLï¼Œå³ä½¿ä½ éµä»äº†å‰è¿°çš„æ³¨æ„äº‹é¡¹ï¼Œä½ çš„å­—ç¬¦ä¸²ä¹Ÿæœ‰å¯èƒ½åœ¨æ•°æ®åº“
ä¸­å­˜å‚¨ä¸ºéUTF-8å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;ç¡®ä¿ä»PHPåˆ°MySQLçš„å­—ç¬¦ä¸²ä¸ºUTF-8ç¼–ç çš„ï¼Œç¡®ä¿ä½ çš„æ•°æ®åº“ä»¥åŠæ•°æ®è¡¨å‡è®¾ç½®ä¸ºutf8mb4å­—ç¬¦é›†ï¼Œ
å¹¶ä¸”åœ¨ä½ çš„æ•°æ®åº“ä¸­æ‰§è¡Œä»»ä½•å…¶ä»–æŸ¥è¯¢ä¹‹å‰å…ˆæ‰§è¡ŒMySQLæŸ¥è¯¢`set names
utf8mb4`ã€‚è¿™æ˜¯è‡³å…³é‡è¦çš„ã€‚ç¤ºä¾‹
è¯·æŸ¥çœ‹&lt;a href="https://phpbestpractices.org/#mysql"&gt;è¿æ¥å¹¶æŸ¥è¯¢MySQLæ•°æ®åº“&lt;/a&gt;ä¸€èŠ‚å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ä½ å¿…é¡»ä½¿ç”¨`utf8mb4`å­—ç¬¦é›†æ¥è·å¾—å®Œæ•´çš„UTF-8æ”¯æŒï¼Œè€Œä¸æ˜¯`utf8`å­—ç¬¦é›†ï¼åŸå› 
è¯·æŸ¥çœ‹&lt;a href="https://phpbestpractices.org/#utf8-further-reading"&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æµè§ˆå™¨å±‚é¢çš„UTF-8&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;a href="http://php.net/manual/en/function.mb-http-output.php"&gt;mb_http_output()&lt;/a&gt;å‡½æ•°
æ¥ç¡®ä¿ä½ çš„PHPè„šæœ¬è¾“å‡ºUTF-8å­—ç¬¦ä¸²åˆ°æµè§ˆå™¨ã€‚å¹¶ä¸”åœ¨HTMLé¡µé¢çš„&lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt;æ ‡ç­¾å—ä¸­åŒ…å«
&lt;a href="http://htmlpurifier.org/docs/enduser-utf8.html"&gt;å­—ç¬¦é›†&lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt;æ ‡ç­¾å—&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Tell PHP that we&amp;#39;re using UTF-8 strings until the end of the script&lt;/span&gt;
mb_internal_encoding(&lt;span style="color: #a31515"&gt;&amp;#39;UTF-8&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Tell PHP that we&amp;#39;ll be outputting UTF-8 to the browser&lt;/span&gt;
mb_http_output(&lt;span style="color: #a31515"&gt;&amp;#39;UTF-8&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Our UTF-8 test string&lt;/span&gt;
$string = &lt;span style="color: #a31515"&gt;&amp;#39;AÅ¡ galiu valgyti stiklÄ… ir jis manÄ™s neÅ¾eidÅ¾ia&amp;#39;&lt;/span&gt;;

&lt;span style="color: #008000"&gt;// Transform the string in some way with a multibyte function&lt;/span&gt;
$string = mb_substr($string, 0, 10);

&lt;span style="color: #008000"&gt;// Connect to a database to store the transformed string&lt;/span&gt;
&lt;span style="color: #008000"&gt;// See the PDO example in this document for more information&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Note the `set names utf8mb4` commmand!&lt;/span&gt;
$link = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; \PDO(   &lt;span style="color: #a31515"&gt;&amp;#39;mysql:host=your-hostname;dbname=your-db&amp;#39;&lt;/span&gt;,
                    &lt;span style="color: #a31515"&gt;&amp;#39;your-username&amp;#39;&lt;/span&gt;,
                    &lt;span style="color: #a31515"&gt;&amp;#39;your-password&amp;#39;&lt;/span&gt;,
                    &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(
                        \PDO::ATTR_ERRMODE =&amp;gt; \PDO::ERRMODE_EXCEPTION,
                        \PDO::ATTR_PERSISTENT =&amp;gt; &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;,
                        \PDO::MYSQL_ATTR_INIT_COMMAND =&amp;gt; &lt;span style="color: #a31515"&gt;&amp;#39;set names utf8mb4&amp;#39;&lt;/span&gt;
                    )
                );

&lt;span style="color: #008000"&gt;// Store our transformed string as UTF-8 in our database&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Assume our DB and tables are in the utf8mb4 character set and collation&lt;/span&gt;
$handle = $link-&amp;gt;prepare(&lt;span style="color: #a31515"&gt;&amp;#39;insert into Sentences (Id, Body) values (?, ?)&amp;#39;&lt;/span&gt;);
$handle-&amp;gt;bindValue(1, 1, PDO::PARAM_INT);
$handle-&amp;gt;bindValue(2, $string);
$handle-&amp;gt;execute();

&lt;span style="color: #008000"&gt;// Retrieve the string we just stored to prove it was stored correctly&lt;/span&gt;
$handle = $link-&amp;gt;prepare(&lt;span style="color: #a31515"&gt;&amp;#39;select * from Sentences where Id = ?&amp;#39;&lt;/span&gt;);
$handle-&amp;gt;bindValue(1, 1, PDO::PARAM_INT);
$handle-&amp;gt;execute();

&lt;span style="color: #008000"&gt;// Store the result into an object that we&amp;#39;ll output later in our HTML&lt;/span&gt;
$result = $handle-&amp;gt;fetchAll(\PDO::FETCH_OBJ);
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;&amp;lt;!doctype html&amp;gt;
&amp;lt;html&amp;gt;
    &amp;lt;head&amp;gt;
        &amp;lt;meta http-equiv=&amp;quot;Content-Type&amp;quot; content=&amp;quot;text/html; charset=UTF-8&amp;quot; /&amp;gt;
        &amp;lt;title&amp;gt;UTF-8 test page&amp;lt;/title&amp;gt;
    &amp;lt;/head&amp;gt;
    &amp;lt;body&amp;gt;
        &lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;($result &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; $row){
            &lt;span style="color: #0000ff"&gt;print&lt;/span&gt;($row-&amp;gt;Body);  &lt;span style="color: #008000"&gt;// This should correctly output our transformed UTF-8 string to the browser&lt;/span&gt;
        }
        &lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
    &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/ref.mbstring.php"&gt;PHPæ‰‹å†Œï¼šå¤šå­—èŠ‚å­—ç¬¦ä¸²å‡½æ•°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.loftdigital.com/blog/php-utf-8-cheatsheet"&gt;PHP UTF-8å¤‡å¿˜å•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/571694/what-factors-make-php-unicode-incompatible"&gt;Stack Overflow: ä»€ä¹ˆå› ç´ è‡´ä½¿PHPä¸å…¼å®¹Unicodeï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/140728/best-practices-in-php-and-mysql-with-international-strings"&gt;Stack Overflow: PHPä¸MySQLä¹‹é—´å›½é™…åŒ–å­—ç¬¦ä¸²çš„æœ€ä½³å®è·µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://mathiasbynens.be/notes/mysql-utf8mb4"&gt;æ€æ ·åœ¨MySQLæ•°æ®åº“ä¸­å®Œæ•´æ”¯æŒUnicode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;å¤„ç†æ—¥æœŸå’Œæ—¶é—´&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨&lt;a href="http://www.php.net/manual/en/class.datetime.php"&gt;DateTimeç±»&lt;/a&gt;ã€‚&lt;/h3&gt;
&lt;p&gt;åœ¨PHPç³Ÿç³•çš„è€æ—¶å…‰é‡Œï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨&lt;a href="http://www.php.net/manual/en/function.date.php"&gt;date()&lt;/a&gt;ï¼Œ
&lt;a href="http://www.php.net/manual/en/function.gmdate.php"&gt;gmdate()&lt;/a&gt;ï¼Œ
&lt;a href="http://www.php.net/manual/en/function.date-timezone-set.php"&gt;date_timezone_set()&lt;/a&gt;ï¼Œ
&lt;a href="http://www.php.net/manual/en/function.strtotime.php"&gt;strtotime()&lt;/a&gt;ç­‰ç­‰ä»¤äººè¿·æƒ‘çš„
ç»„åˆæ¥å¤„ç†æ—¥æœŸå’Œæ—¶é—´ã€‚æ‚²å“€çš„æ˜¯ç°åœ¨ä½ ä»æ—§ä¼šæ‰¾åˆ°å¾ˆå¤šåœ¨çº¿æ•™ç¨‹åœ¨è®²è¿°è¿™äº›ä¸æ˜“ä½¿ç”¨çš„è€å¼å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬æ­£åœ¨è®¨è®ºçš„PHPç‰ˆæœ¬åŒ…å«å‹å¥½å¾—å¤šçš„&lt;a href="http://www.php.net/manual/en/class.datetime.php"&gt;DateTimeç±»&lt;/a&gt;ã€‚
è¯¥ç±»å°è£…äº†è€å¼æ—¥æœŸå‡½æ•°æ‰€æœ‰åŠŸèƒ½ï¼Œç”šè‡³æ›´å¤šï¼Œåœ¨ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„ç±»ä¸­ï¼Œå¹¶ä¸”ä½¿å¾—æ—¶åŒºè½¬æ¢æ›´åŠ å®¹æ˜“ã€‚
åœ¨PHPä¸­å§‹ç»ˆä½¿ç”¨DateTimeç±»æ¥åˆ›å»ºï¼Œæ¯”è¾ƒï¼Œæ”¹å˜ä»¥åŠå±•ç¤ºæ—¥æœŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Construct a new UTC date.  Always specify UTC unless you really know what you&amp;#39;re doing!&lt;/span&gt;
$date = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; DateTime(&lt;span style="color: #a31515"&gt;&amp;#39;2011-05-04 05:00:00&amp;#39;&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; DateTimeZone(&lt;span style="color: #a31515"&gt;&amp;#39;UTC&amp;#39;&lt;/span&gt;));

&lt;span style="color: #008000"&gt;// Add ten days to our initial date&lt;/span&gt;
$date-&amp;gt;add(&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; DateInterval(&lt;span style="color: #a31515"&gt;&amp;#39;P10D&amp;#39;&lt;/span&gt;));

&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt;($date-&amp;gt;format(&lt;span style="color: #a31515"&gt;&amp;#39;Y-m-d h:i:s&amp;#39;&lt;/span&gt;)); &lt;span style="color: #008000"&gt;// 2011-05-14 05:00:00&lt;/span&gt;

&lt;span style="color: #008000"&gt;// Sadly we don&amp;#39;t have a Middle Earth timezone&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Convert our UTC date to the PST (or PDT, depending) time zone&lt;/span&gt;
$date-&amp;gt;setTimezone(&lt;span style="color: #0000ff"&gt;new&lt;/span&gt; DateTimeZone(&lt;span style="color: #a31515"&gt;&amp;#39;America/Los_Angeles&amp;#39;&lt;/span&gt;));

&lt;span style="color: #008000"&gt;// Note that if you run this line yourself, it might differ by an hour depending on daylight savings&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt;($date-&amp;gt;format(&lt;span style="color: #a31515"&gt;&amp;#39;Y-m-d h:i:s&amp;#39;&lt;/span&gt;)); &lt;span style="color: #008000"&gt;// 2011-05-13 10:00:00&lt;/span&gt;

$later = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; DateTime(&lt;span style="color: #a31515"&gt;&amp;#39;2012-05-20&amp;#39;&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; DateTimeZone(&lt;span style="color: #a31515"&gt;&amp;#39;UTC&amp;#39;&lt;/span&gt;));

&lt;span style="color: #008000"&gt;// Compare two dates&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($date &amp;lt; $later)
    &lt;span style="color: #0000ff"&gt;echo&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;Yup, you can compare dates using these easy operators!&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Find the difference between two dates&lt;/span&gt;
$difference = $date-&amp;gt;diff($later);

&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;The 2nd date is &amp;#39;&lt;/span&gt; . $difference[&lt;span style="color: #a31515"&gt;&amp;#39;days&amp;#39;&lt;/span&gt;] . &lt;span style="color: #a31515"&gt;&amp;#39; later than 1st date.&amp;#39;&lt;/span&gt;);
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é™·é˜±&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœä½ ä¸æŒ‡å®šä¸€ä¸ªæ—¶åŒºï¼Œ&lt;a href="http://www.php.net/manual/en/datetime.construct.php"&gt;DateTime::__construct()&lt;/a&gt;
å°±ä¼šå°†ç”Ÿæˆæ—¥æœŸçš„æ—¶åŒºè®¾ç½®ä¸ºæ­£åœ¨è¿è¡Œçš„è®¡ç®—æœºçš„æ—¶åŒºã€‚ä¹‹åï¼Œè¿™ä¼šå¯¼è‡´å¤§é‡ä»¤äººå¤´ç–¼çš„äº‹æƒ…ã€‚
&lt;strong&gt;åœ¨åˆ›å»ºæ–°æ—¥æœŸæ—¶å§‹ç»ˆæŒ‡å®šUTCæ—¶åŒºï¼Œé™¤éä½ ç¡®å®æ¸…æ¥šè‡ªå·±åœ¨åšçš„äº‹æƒ…ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ åœ¨DateTime::__construct()ä¸­ä½¿ç”¨Unixæ—¶é—´æˆ³ï¼Œé‚£ä¹ˆæ—¶åŒºå°†å§‹ç»ˆè®¾ç½®ä¸ºUTCè€Œä¸ç®¡
ç¬¬äºŒä¸ªå‚æ•°ä½ æŒ‡å®šäº†ä»€ä¹ˆã€‚&lt;/li&gt;
&lt;li&gt;å‘DateTime::__construct()ä¼ é€’é›¶å€¼æ—¥æœŸï¼ˆå¦‚ï¼šâ€œ0000-00-00â€ï¼Œå¸¸è§MySQLç”Ÿæˆè¯¥å€¼ä½œä¸º
DateTimeç±»å‹æ•°æ®åˆ—çš„é»˜è®¤å€¼ï¼‰ä¼šäº§ç”Ÿä¸€ä¸ªæ— æ„ä¹‰çš„æ—¥æœŸï¼Œè€Œä¸æ˜¯â€œ0000-00-00â€ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨32ä½ç³»ç»Ÿä¸Šä½¿ç”¨&lt;a href="http://www.php.net/manual/en/datetime.gettimestamp.php"&gt;DateTime::getTimestamp()&lt;/a&gt;
ä¸ä¼šäº§ç”Ÿä»£è¡¨2038å¹´ä¹‹åæ—¥æœŸçš„æ—¶é—´æˆ³ã€‚64ä½ç³»ç»Ÿåˆ™æ²¡æœ‰é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.php.net/manual/en/book.datetime.php"&gt;PHPæ‰‹å†Œï¼šDateTimeç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/5319710/accessing-dates-in-php-beyond-2038"&gt;Stack Overflow: è®¿é—®è¶…å‡º2038çš„æ—¥æœŸ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;æ£€æµ‹ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºnullæˆ–false&lt;/h2&gt;
&lt;h3&gt;ä½¿ç”¨&lt;a href="http://php.net/manual/en/language.operators.comparison.php"&gt;===&lt;/a&gt;æ“ä½œç¬¦æ¥æ£€æµ‹nullå’Œå¸ƒå°”falseå€¼ã€‚&lt;/h3&gt;
&lt;p&gt;PHPå®½æ¾çš„ç±»å‹ç³»ç»Ÿæä¾›äº†è®¸å¤šä¸åŒçš„æ–¹æ³•æ¥æ£€æµ‹ä¸€ä¸ªå˜é‡çš„å€¼ã€‚ç„¶è€Œè¿™ä¹Ÿé€ æˆäº†å¾ˆå¤šé—®é¢˜ã€‚
ä½¿ç”¨&lt;code&gt;==&lt;/code&gt;æ¥æ£€æµ‹ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºnullæˆ–falseï¼Œå¦‚æœè¯¥å€¼å®é™…ä¸Šæ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²æˆ–0ï¼Œä¹Ÿä¼šè¯¯æŠ¥
ä¸ºfalseã€‚&lt;a href="http://php.net/manual/en/function.isset.php"&gt;isset&lt;/a&gt;æ˜¯æ£€æµ‹ä¸€ä¸ªå˜é‡æ˜¯å¦æœ‰å€¼ï¼Œ
è€Œä¸æ˜¯æ£€æµ‹è¯¥å€¼æ˜¯å¦ä¸ºnullæˆ–falseï¼Œå› æ­¤åœ¨è¿™é‡Œä½¿ç”¨æ˜¯ä¸æ°å½“çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://php.net/manual/en/function.is-null.php"&gt;is_null()&lt;/a&gt;å‡½æ•°èƒ½å‡†ç¡®åœ°æ£€æµ‹ä¸€ä¸ªå€¼
æ˜¯å¦ä¸ºnullï¼Œ&lt;a href="http://php.net/manual/en/function.is-bool.php"&gt;is_bool&lt;/a&gt;å¯ä»¥æ£€æµ‹ä¸€ä¸ªå€¼
æ˜¯å¦æ˜¯å¸ƒå°”å€¼ï¼ˆæ¯”å¦‚falseï¼‰ï¼Œä½†å­˜åœ¨ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ï¼š&lt;code&gt;===&lt;/code&gt;æ“ä½œç¬¦ã€‚&lt;code&gt;===&lt;/code&gt;æ£€æµ‹ä¸¤ä¸ªå€¼æ˜¯å¦åŒä¸€ï¼Œ
è¿™ä¸åŒäºPHPå®½æ¾ç±»å‹ä¸–ç•Œé‡Œçš„&lt;em&gt;ç›¸ç­‰&lt;/em&gt;ã€‚å®ƒä¹Ÿæ¯”is_null()å’Œis_bool()è¦å¿«ä¸€äº›ï¼Œå¹¶ä¸”æœ‰äº›äºº
è®¤ä¸ºè¿™æ¯”ä½¿ç”¨å‡½æ•°æ¥åšæ¯”è¾ƒæ›´å¹²å‡€äº›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$x = 0;
$y = &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;

&lt;span style="color: #008000"&gt;// Is $x null?&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($x == &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;print&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;Oops! $x is 0, not null!&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Is $y null?&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(is_null($y))
    &lt;span style="color: #0000ff"&gt;print&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;Great, but could be faster.&amp;#39;&lt;/span&gt;);

&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;($y === &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;print&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;Perfect!&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;// Does the string abc contain the character a?&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(strpos(&lt;span style="color: #a31515"&gt;&amp;#39;abc&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;))
    &lt;span style="color: #008000"&gt;// GOTCHA!  strpos returns 0, indicating it wishes to return the position of the first character.&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// But PHP interpretes 0 as false, so we never reach this print statement!&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;print&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;Found it!&amp;#39;&lt;/span&gt;);

&lt;span style="color: #008000"&gt;//Solution: use !== (the opposite of ===) to see if strpos() returns 0, or boolean false.   &lt;/span&gt;
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(strpos(&lt;span style="color: #a31515"&gt;&amp;#39;abc&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;) !== &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;)
    &lt;span style="color: #0000ff"&gt;print&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;Found it for real this time!&amp;#39;&lt;/span&gt;);
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é™·é˜±&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æµ‹è¯•ä¸€ä¸ªè¿”å›0æˆ–å¸ƒå°”falseçš„å‡½æ•°çš„è¿”å›å€¼æ—¶ï¼Œå¦‚strpos()ï¼Œå§‹ç»ˆä½¿ç”¨&lt;code&gt;===&lt;/code&gt;å’Œ&lt;code&gt;!==&lt;/code&gt;ï¼Œå¦åˆ™
ä½ å°±ä¼šç¢°åˆ°é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è¿›ä¸€æ­¥é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/language.operators.comparison.php"&gt;PHPæ‰‹å†Œï¼šæ¯”è¾ƒæ“ä½œç¬¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/8228837/is-nullx-vs-x-null-in-php"&gt;Stack Overflow: is_null() vs ===&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;å»ºè®®ä¸æŒ‡æ­£&lt;/h2&gt;
&lt;p&gt;æ„Ÿè°¢é˜…è¯»ï¼å¦‚æœä½ æœ‰äº›åœ°æ–¹è¿˜ä¸å¤ªç†è§£ï¼Œå¾ˆæ­£å¸¸ï¼ŒPHPæ˜¯å¤æ‚çš„ï¼Œå¹¶ä¸”å……æ–¥ç€é™·é˜±ã€‚å› ä¸ºæˆ‘ä¹Ÿ
åªæ˜¯ä¸€ä¸ªäººï¼Œæ‰€ä»¥æœ¬æ–‡æ¡£ä¸­éš¾å…å­˜åœ¨é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³ä¸ºæœ¬æ–‡æ¡£è´¡çŒ®å»ºè®®æˆ–çº æ­£é”™è¯¯ä¹‹å¤„ï¼Œè¯·ä½¿ç”¨&lt;a href="https://phpbestpractices.org/#maintainers"&gt;æœ€åä¿®è®¢æ—¥æœŸ&amp;amp;ç»´æŠ¤è€…&lt;/a&gt;
ä¸€èŠ‚ä¸­çš„ä¿¡æ¯è”ç³»æˆ‘ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="PHP"></category></entry><entry><title>åŸå¸‚çš„æ—¥å­</title><link href="http://youngsterxyf.github.io/2013/05/19/life-of-city/" rel="alternate"></link><published>2013-05-19T00:00:00+08:00</published><updated>2013-05-19T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-05-19:/2013/05/19/life-of-city/</id><summary type="html">&lt;p&gt;æˆ‘ä»é¡»ä¸€ä¸ªäºº&lt;br /&gt;
é¢å¯¹è¿™ä¸ªåŸå¸‚ï¼Œ&lt;br /&gt;
ä»¥åŠå¦‚æ­¤é›·åŒçš„æ—¥å¤æ—¥ã€‚&lt;br /&gt;
&lt;br /&gt;
ç”µè¯ã€ç½‘ç»œï¼Œ&lt;br /&gt;
å·¥ä½œã€æŠ€æœ¯ã€é˜…è¯»ã€çˆ±å¥½ï¼Œ&lt;br /&gt;
æœ‹å‹ï¼Œ&lt;br /&gt;
è¿˜æœ‰æˆ‘çš„æ€è€ƒï¼Œ&lt;br /&gt;
éƒ½æ”¹å˜ä¸äº†ï¼Œ&lt;br /&gt;
è¿™åŸå¸‚ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;æˆ‘ä»é¡»ä¸€ä¸ªäºº&lt;br /&gt;
é¢å¯¹è¿™ä¸ªåŸå¸‚ï¼Œ&lt;br /&gt;
ä»¥åŠå¦‚æ­¤é›·åŒçš„æ—¥å¤æ—¥ã€‚&lt;br /&gt;
&lt;br /&gt;
ç”µè¯ã€ç½‘ç»œï¼Œ&lt;br /&gt;
å·¥ä½œã€æŠ€æœ¯ã€é˜…è¯»ã€çˆ±å¥½ï¼Œ&lt;br /&gt;
æœ‹å‹ï¼Œ&lt;br /&gt;
è¿˜æœ‰æˆ‘çš„æ€è€ƒï¼Œ&lt;br /&gt;
éƒ½æ”¹å˜ä¸äº†ï¼Œ&lt;br /&gt;
è¿™åŸå¸‚çš„æ—¥å­ã€‚&lt;br /&gt;
&lt;br /&gt;
æ‰€ä»¥ï¼Œ&lt;br /&gt;
æˆ‘æƒ³å¥¹ã€‚&lt;br /&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="è¯—æ­Œ"></category><category term="ç¬”è®°"></category><category term="ç”Ÿæ´»"></category></entry><entry><title>ç¼–è¯‘å®‰è£…MemcacheQ</title><link href="http://youngsterxyf.github.io/2013/04/27/compile-and-install-memcacheq/" rel="alternate"></link><published>2013-04-27T00:00:00+08:00</published><updated>2013-04-27T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-04-27:/2013/04/27/compile-and-install-memcacheq/</id><summary type="html">&lt;p&gt;MemcacheQæ˜¯ä¸€ä¸ªMemcacheDBçš„å˜ç§ï¼Œç”¨æ¥æä¾›ç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ã€‚ï¼ˆæ³¨ï¼šMemcacheDBå¹¶ä¸æ˜¯ä¸€ä¸ªæ•°æ®ç¼“å­˜è§£å†³æ–¹æ¡ˆï¼Œè€Œæ˜¯ä¸€ä¸ªä¸ºæ•°æ®æŒä¹…åŒ–è®¾è®¡çš„åˆ†å¸ƒå¼çš„é”®-å€¼å¯¹æ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œé‡‡ç”¨memcacheåè®®ï¼Œä»¥BerkeleyDBä½œä¸ºå­˜å‚¨åç«¯ï¼Œ&lt;a href="http://memcachedb.org/"&gt;ä¸»é¡µ&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;MemcacheQä¾èµ–äºBerkeleyDBå’Œlibevent â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;MemcacheQæ˜¯ä¸€ä¸ªMemcacheDBçš„å˜ç§ï¼Œç”¨æ¥æä¾›ç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ã€‚ï¼ˆæ³¨ï¼šMemcacheDBå¹¶ä¸æ˜¯ä¸€ä¸ªæ•°æ®ç¼“å­˜è§£å†³æ–¹æ¡ˆï¼Œè€Œæ˜¯ä¸€ä¸ªä¸ºæ•°æ®æŒä¹…åŒ–è®¾è®¡çš„åˆ†å¸ƒå¼çš„é”®-å€¼å¯¹æ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œé‡‡ç”¨memcacheåè®®ï¼Œä»¥BerkeleyDBä½œä¸ºå­˜å‚¨åç«¯ï¼Œ&lt;a href="http://memcachedb.org/"&gt;ä¸»é¡µ&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;MemcacheQä¾èµ–äºBerkeleyDBå’Œlibeventï¼Œæ‰€ä»¥éœ€å…ˆç¼–è¯‘å®‰è£…è¿™ä¸¤è€…ã€‚&lt;/p&gt;
&lt;p&gt;1.
ä»&lt;a href="http://www.oracle.com/technetwork/products/berkeleydb/downloads/index.html"&gt;Oracleå®˜ç½‘&lt;/a&gt;ä¸Šä¸‹è½½æŸä¸€ç‰ˆæœ¬çš„BerkeleyDBï¼ˆè¿™é‡Œä»¥5.0.32ç‰ˆæœ¬ä¸ºä¾‹ï¼‰&lt;/p&gt;
&lt;p&gt;è§£å‹ç¼©ï¼š &lt;code&gt;tar -xvf db-5.0.32.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿›å…¥db-5.0.32/build_unixç›®å½•åæ‰§è¡Œï¼š 1) &lt;code&gt;../dist/configure&lt;/code&gt; , 2) &lt;code&gt;make&lt;/code&gt; , 3) &lt;code&gt;sudo make install&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šæŠŠBerkeleyDBå®‰è£…åˆ°&lt;code&gt;/usr/local/BerkeleyDB.5.3&lt;/code&gt;ç›®å½•ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;2.
ä»&lt;a href="http://libevent.org/"&gt;libeventå®˜ç½‘&lt;/a&gt;ä¸‹è½½libevent, è¿™é‡Œä»¥2.0.21ç‰ˆæœ¬ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;åŒæ ·è§£å‹ç¼©ï¼Œè¿›å…¥libevent-2.0.21-stable/ç›®å½•ï¼Œæ‰§è¡Œ 1) &lt;code&gt;./configure&lt;/code&gt; , 2) &lt;code&gt;make&lt;/code&gt; , 3) &lt;code&gt;sudo make install&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™æ ·ä¼šæŠŠlibeventç¼–è¯‘å¥½åçš„ä¸€äº›åº“æ–‡ä»¶æ”¾åˆ°&lt;code&gt;/usr/local/lib&lt;/code&gt;ç›®å½•ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;3.
ä»&lt;a href="https://code.google.com/p/memcacheq/downloads/list"&gt;https://code.google.com/p/memcacheq/downloads/list&lt;/a&gt;ä¸‹è½½memcacheqï¼Œå½“å‰ç‰ˆæœ¬ä¸º0.2.0ã€‚ç”±äºmemcacheqçš„configureæ–‡ä»¶ç¬¬3571è¡Œï¼š&lt;code&gt;bdbdir="/usr/local/BerkeleyDB.4.7"&lt;/code&gt;ï¼Œç¡¬ç¼–ç äº†ä¾èµ–äºBerkeleyDB 4.7ç‰ˆæœ¬ï¼Œä½†åœ¨Oracleå®˜ç½‘ä¸Šå·²ç»ä¸æä¾›4.7ç‰ˆæœ¬çš„ä¸‹è½½ï¼Œæ‰€ä»¥éœ€è¦å°†è¯¥å¤„çš„ç‰ˆæœ¬4.7æ”¹ä¸ºä¹‹å‰æ‰€ç¼–è¯‘çš„BerkeleyDBç‰ˆæœ¬ï¼Œå¦‚5.0ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæ‰§è¡Œ 1) &lt;code&gt;./configure -prefix=/usr/local/memcacheq -enable-threads&lt;/code&gt;ï¼ˆ&lt;code&gt;-prefix&lt;/code&gt;é€‰é¡¹æŒ‡å®šå°†memcacheqå®‰è£…åˆ°/usr/local/memcacheqç›®å½•ä¸‹ï¼‰ï¼Œ2) &lt;code&gt;make&lt;/code&gt; , 3) &lt;code&gt;sudo make install&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;4.
åœ¨Linuxä¸Šï¼Œmemcacheqå¯åŠ¨æ—¶è¦æƒ³æˆåŠŸåŠ¨æ€é“¾æ¥BerkeleyDBå’Œlibeventçš„åº“æ–‡ä»¶ï¼Œå¾—å…ˆæ‰‹åŠ¨é…ç½®åŠ¨æ€é“¾æ¥åº“æŸ¥æ‰¾è·¯å¾„ï¼šç¼–è¾‘æ–‡ä»¶&lt;code&gt;/etc/ld.so.conf&lt;/code&gt;ï¼Œåœ¨æœ«å°¾æ·»åŠ ä¸¤è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/usr/local/lib
/usr/local/BerkeleyDB.5.0/lib
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¿å­˜åï¼Œåœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼š &lt;code&gt;ldconfig&lt;/code&gt;å³å¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¯åŠ¨memcacheq: &lt;code&gt;/usr/local/memcacheq/bin/memcacheq -d -r -H /tmp/memcacheq -N -R -v -L 1024 -B 1024 &amp;gt; /tmp/mq_error.log 2&amp;gt;&amp;amp;1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç›¸å…³é€‰é¡¹çš„å«ä¹‰å¯ä»¥é€šè¿‡&lt;code&gt;memcacheq -h&lt;/code&gt;æ¥æŸ¥çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;memcacheqé»˜è®¤æ‰“å¼€çš„ç½‘ç»œç«¯å£ä¸º22201ï¼Œå¯é€šè¿‡å‘½ä»¤&lt;code&gt;netstat -tlnp&lt;/code&gt;æ¥æŸ¥çœ‹ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è‹¥æƒ³ç¼–å†™PHPç¨‹åºæ¥æµ‹è¯•ä½¿ç”¨memcacheqï¼Œéœ€è¦å…ˆå®‰è£…é…ç½®PHP &lt;a href="http://cn2.php.net/memcache"&gt;memcacheæ‰©å±•æ¨¡å—&lt;/a&gt;ï¼Œå¯å…ˆé€šè¿‡&lt;code&gt;php -m | grep memcache&lt;/code&gt;æ¥æŸ¥çœ‹æ˜¯å¦å·²å®‰è£…ã€‚æµ‹è¯•ç¨‹åºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$memcache_obj = memcache_connect(&lt;span style="color: #a31515"&gt;&amp;#39;127.0.0.1&amp;#39;&lt;/span&gt;, 22201);

&lt;span style="color: #008000"&gt;// pushæ•°æ®è¿›å…¥é˜Ÿåˆ—demoqueue1&lt;/span&gt;
$set_rs = memcache_set($memcache_obj, &lt;span style="color: #a31515"&gt;&amp;#39;demoqueue1&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;message body here&amp;#39;&lt;/span&gt;, 0, 0);
var_dump($set_rs);

&lt;span style="color: #008000"&gt;// ä»é˜Ÿåˆ—demoqueue1ä¸­popå‡ºæ•°æ®&lt;/span&gt;
$get_rs = memcache_get($memcache_obj, &lt;span style="color: #a31515"&gt;&amp;#39;demoqueue1&amp;#39;&lt;/span&gt;);
var_dump($get_rs);

memcache_close($memcache_obj);
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;å‚è€ƒèµ„æ–™&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://memcachedb.org/memcacheq/"&gt;http://memcachedb.org/memcacheq/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://memcachedb.org/memcacheq/INSTALL.html"&gt;http://memcachedb.org/memcacheq/INSTALL.html&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="å·¥ä½œ"></category><category term="æœåŠ¡å™¨"></category><category term="æŠ€æœ¯"></category></entry><entry><title>å·¥ä½œä¸­çš„æŠ€æœ¯äºº</title><link href="http://youngsterxyf.github.io/2013/04/23/technical-person/" rel="alternate"></link><published>2013-04-23T00:00:00+08:00</published><updated>2013-04-23T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-04-23:/2013/04/23/technical-person/</id><summary type="html">&lt;p&gt;å·¥ä½œå…¥èŒåŠä¸ªæœˆï¼Œæœ‰äº›äº‹æƒ…ä¸å¤ªé¡ºåˆ©ï¼Œè¿˜æ²¡æœ‰æ­£å¼ä¸Šæ‰‹å·¥ä½œï¼Œä¹Ÿè®¸å¤§å…¬å¸çš„èŠ‚å¥ä¾¿æ˜¯å¦‚æ­¤ï¼Œä½†æˆ‘å†…å¿ƒæ˜¯æ¯”è¾ƒæ€¥çš„ï¼Œå¸Œæœ›èƒ½å°½å¿« â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å·¥ä½œå…¥èŒåŠä¸ªæœˆï¼Œæœ‰äº›äº‹æƒ…ä¸å¤ªé¡ºåˆ©ï¼Œè¿˜æ²¡æœ‰æ­£å¼ä¸Šæ‰‹å·¥ä½œï¼Œä¹Ÿè®¸å¤§å…¬å¸çš„èŠ‚å¥ä¾¿æ˜¯å¦‚æ­¤ï¼Œä½†æˆ‘å†…å¿ƒæ˜¯æ¯”è¾ƒæ€¥çš„ï¼Œå¸Œæœ›èƒ½å°½å¿«åœ°ä¸Šæ‰‹åšå®é™…çš„å·¥ä½œï¼Œè€Œä¸æ˜¯å­¦ä¹ å’Œç­‰å¾…ã€‚&lt;/p&gt;
&lt;p&gt;è¿™åŠä¸ªæœˆé‡Œï¼Œä¸»è¦æ˜¯ç†Ÿæ‚‰å·¥ä½œç¯å¢ƒï¼Œå­¦ä¹ äº†è§£å·¥ä½œç›¸å…³çš„æŠ€æœ¯ã€‚è™½è¯´å­¦ä¹ ï¼Œä½†å…¶å®å¤§éƒ¨åˆ†ç›¸å…³æŠ€æœ¯ä»¥å‰éƒ½äº†è§£æˆ–ä½¿ç”¨è¿‡ï¼Œåªæ˜¯ç»éªŒè¿˜ä¸å¤Ÿã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€å‘¨ï¼Œé™¤äº†å¸¸è§„çš„å…¥èŒäº‹å®œï¼Œæ­å»ºäº†å¼€å‘æµ‹è¯•ç¯å¢ƒï¼Œå¹¶é˜…è¯»ç†è§£å·¥ä½œä¸­ä½¿ç”¨çš„webæ¡†æ¶ã€‚å¯¹äºè¿™ä¸ªæ¡†æ¶ï¼Œæœ‰å¤ªå¤šçš„åæ§½ç‚¹ï¼Œä¸¥æ ¼åœ°è¯´ç®—ä¸ä¸Šæ˜¯ä¸ªæ¡†æ¶ï¼Œå¯èƒ½æ˜¯å› ä¸ºå†™å¾—æ¯”è¾ƒæ—©ã€‚å¯¹äºæ¡†æ¶ï¼Œæˆ‘è®¤ä¸ºæœ€é‡è¦çš„æ˜¯ä¸ºå¤šäººåä½œå®Œæˆä¸€ä»¶äº‹æƒ…æä¾›å®ç°ä¸Šçš„è§„èŒƒï¼Œå…¶æ¬¡æ˜¯ä»£ç å¤ç”¨ï¼Œå‡å°‘å·¥ä½œé‡ã€‚ä½†è¿™ä¸ªæ¡†æ¶é™¤äº†ä¸€äº›ä¾›å¤ç”¨çš„ä»£ç ï¼Œå°±å•¥éƒ½æ²¡æœ‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒå‘¨ï¼Œå­¦ä¹ å·©å›ºPHPåŸºç¡€ï¼Œä¸€ç›´æ²¡è®¤çœŸåœ°å­¦ä¹ è¿‡PHPï¼Œåªæ˜¯åœ¨å®ä¹ çš„æ—¶å€™åšäº†ä¸€äº›å¼€å‘ï¼Œç¨å¾®äº†è§£äº†ä¸‹Yiiæ¡†æ¶å’ŒZendæ¡†æ¶ï¼Œè§‰å¾—å¤ªå¤æ‚äº†ç‚¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåˆæ­¥äº†è§£ç»„å†…çš„è¿ç»´å·¥ä½œï¼Œç‰¹åˆ«æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ¶æ„ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡ä¸€ç•ªæ€è€ƒï¼ŒåŸºäºè‡ªå·±çš„ç†è§£ï¼Œæ˜¨å¤©ç¼–å†™äº†ä¸€ä¸ªç©å…·æ€§è´¨çš„MVC webæ¡†æ¶åŸå‹&lt;a href="https://github.com/youngsterxyf/minibean"&gt;minibean&lt;/a&gt;ï¼Œè¯¥æ¡†æ¶ä»¥è·¯ç”±è½¬å‘å’Œæ§åˆ¶å™¨ä¸ºæ ¸å¿ƒï¼Œæ‰€æœ‰éé™æ€æ–‡ä»¶è¯·æ±‚çš„å¤„ç†éƒ½ä»¥Applicationç±»å¯¹è±¡ä¸ºå…¥å£ï¼ŒæŒ‰ç…§ä¸€å®šè§„åˆ™å¯¹è¯·æ±‚URIç»è·¯ç”±è½¬å‘æ‰¾åˆ°å¯¹åº”çš„æ§åˆ¶å™¨ç±»ï¼Œæ§åˆ¶å™¨å¯¹è±¡ä¸­è°ƒç”¨æ¨¡å‹ä¸è§†å›¾çš„ç±»å¯¹è±¡ç­‰ã€‚ä»¥åéšç€å¼€å‘ç»éªŒçš„å¢åŠ ä»¥åŠå¯¹å…¶ä»–å¼€æºæˆç†Ÿæ¡†æ¶çš„å­¦ä¹ ï¼Œä¼šä¸æ–­åœ°å®Œå–„è¯¥æ¡†æ¶ã€‚åœ¨ç¼–å†™è¯¥æ¡†æ¶çš„è¿‡ç¨‹ä¸­ï¼Œæ·±æ„Ÿè‡ªå·±ç»éªŒçš„ä¸è¶³ï¼Œç‰¹åˆ«æ˜¯å¯¹äºModelå±‚ï¼Œä»¥åå¯èƒ½ä¼šåˆ»æ„é˜…è¯»æŸäº›å¼€æºæ¡†æ¶çš„Modelå±‚å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰ç»„å†…å¼€å‘å·¥ä½œè¿˜å¾ˆåˆæ­¥ï¼Œè¿˜æ²¡æœ‰ä¸€ä¸ªæ­£è§„çš„å¼€å‘æµç¨‹ï¼Œä¹Ÿæ²¡æœ‰æ˜ç¡®çš„å¼€å‘è§„èŒƒã€‚è¿™æ ·è™½ç„¶æ²¡æ³•ä»å·²æœ‰çš„å·¥ä½œä¸­å­¦ä¹ å¾ˆå¤šï¼Œä½†ä¹Ÿè®¸æœ‰æœºä¼šå‚ä¸åˆ°è¿™äº›äº‹æƒ…åˆ›é€ è¿‡ç¨‹ä¸­ï¼Œæ”¶è·ä¼šæ›´å¤§ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡å’Œè€åŒäº‹è®¨è®ºï¼Œä»¥åå¼€å‘å·¥ä½œæ¶‰åŠçš„è¯­è¨€å’Œå·¥å…·åŒ…æ‹¬ï¼šNginxã€MySQLã€PHPã€Redis/Memcachedã€SVNç­‰ï¼Œå¯¹äºè¿™äº›ä¸œè¥¿ï¼Œæˆ‘éƒ½æ˜¯éœ€è¦æ·±å…¥å­¦ä¹ åŠ å¼ºçš„ï¼ˆå½“ç„¶é¦–å…ˆæ˜¯è¦è§£å†³ä¸šåŠ¡éœ€æ±‚ï¼‰ã€‚å¦å¤–ï¼Œé‰´äºåŸæœ‰çš„é‚£ä¸ªæ¡†æ¶å®åœ¨ä¸æ€ä¹ˆæ ·ï¼Œä»¥åæ–°çš„å·¥ä½œå¯èƒ½ä¼šé€‰æ‹©Zend Frameworkä½œä¸ºå¼€å‘æ¡†æ¶ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå·¥ä½œç¯å¢ƒï¼Œæˆ‘è§‰å¾—ä¸å¤ªæ»¡æ„çš„åœ°æ–¹ä¸»è¦æ˜¯æŠ€æœ¯æ°›å›´ä¸å¤ªæµ“åšï¼Œä»¥åæœ‰æœºä¼šå’Œå¤§å®¶ä¸€èµ·å»ºç«‹èµ·å¥½çš„æŠ€æœ¯æ°›å›´ï¼ŒæææŠ€æœ¯åˆ†äº«è®¨è®ºä»€ä¹ˆçš„ã€‚å¦å¤–ï¼Œæœ‰ç‚¹æ†‹å±ˆçš„æ˜¯ï¼Œè§‰ç€è‡ªå·±è¢«å°çœ‹äº†ï¼Œè€åŒäº‹è€è§‰å¾—åº”å±Šæ¯•ä¸šç”Ÿå•¥çš„ä¸æ‡‚ï¼Œæ‰€ä»¥ä¹Ÿä¸æ€¥ç€åˆ†é…å…·ä½“çš„å·¥ä½œç»™æˆ‘ï¼Œè€è®©æˆ‘å­¦ä¹ å­¦ä¹ å†å­¦ä¹ ã€‚ä¸ªäººè®¤ä¸ºæœ€å¥½çš„å­¦ä¹ æ–¹å¼æ˜¯ç»™ä¸ªå…·ä½“çš„éœ€æ±‚ï¼Œå…·ä½“çš„é—®é¢˜è®©æˆ‘å»è§£å†³ï¼Œæœ‰ç»éªŒçš„åŒäº‹åªéœ€å¯¹ç»“æœæŠŠæŠŠå…³å°±å¯ä»¥ã€‚å½“æˆ‘åœ¨è¿™è¿‡ç¨‹ä¸­é‡åˆ°æä¸å®šçš„é—®é¢˜å†å‘ä»–ä»¬è¯·æ•™ï¼Œä»¥è¿™ç§æ–¹å¼æ¥ä¸Šæ‰‹ç†Ÿæ‚‰å·¥ä½œä¹Ÿè®¸æ›´å¥½ã€‚æˆ‘ä¸ªäººä¹Ÿæ¯”è¾ƒå–œæ¬¢ç›´æ¥ä¸¢ä¸ªå®é™…çš„é—®é¢˜è®©æˆ‘å»è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºä»Šåçš„è‡ªå·±ï¼Œæˆ‘æœ‰ä¸¤ç‚¹å¿ å‘Šï¼š&lt;/p&gt;
&lt;p&gt;1.
æ—¶åˆ»è­¦æƒ•è¿·å¤±&lt;/p&gt;
&lt;p&gt;è™½ç„¶å·¥ä½œå¾ˆé‡è¦ï¼Œè¦è§£å†³ä¸šåŠ¡éœ€æ±‚ï¼Œå·¥ä½œæ‰€æ¶‰åŠçš„æŠ€æœ¯ä¹Ÿåº”è¯¥æ‰å®æŒæ¡ï¼Œæ·±å…¥ç†è§£ï¼Œä½†ä¸èƒ½æŠŠè‡ªå·±å±€é™åœ¨æ­¤ï¼Œä¹Ÿä¸èƒ½è®©è‡ªå·±è¿·å¤±åœ¨è¿‡äºç»†èŠ‚çš„åœ°æ–¹ã€‚å…¬å¸æä¾›äº†ä¸€ä¸ªå®Œå–„çš„å¹³å°ï¼Œä½†è¿™ä¸ªå¹³å°åœ¨æˆ‘çœ‹æ¥è‡ªè¶³å¾—æœ‰äº›å°é—­ï¼Œæ‰€ä»¥éœ€è­¦æƒ•ï¼Œè¦ä¸æ–­åœ°å’ŒåŒäº‹ï¼Œå’Œå…¬å¸å¤–é¢çš„äººäº¤æµå­¦ä¹ ã€‚è¦ç»å¸¸è‡ªæˆ‘åæ€ï¼Œå›é¡¾è‡ªå·±èµ°è¿‡çš„è·¯ï¼Œè¦è®©è‡ªå·±çš„å¤§è„‘ç©ºé—²ä¸‹æ¥èŠ±äº›æ—¶é—´æ•´ä½“è§„åˆ’å³å°†è¦åšçš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;2.
ä¿æŒé”æ°”&lt;/p&gt;
&lt;p&gt;åˆæ­¥è§‰ç€æœ‰äº›åŒäº‹æ²¡ä»€ä¹ˆå·¥ä½œç”Ÿæ´»æŠ€æœ¯çš„æ¿€æƒ…ï¼Œå¯èƒ½æ˜¯é•¿æ—¶é—´å·¥ä½œçš„ç¼˜æ•…ï¼Œä¹Ÿå¯èƒ½æ˜¯å› ä¸ºæˆ‘è¿˜å¤ªå¹´è½»ã€‚ä½†ç›®å‰æˆ‘è¿˜ä¸æ„¿æ„è‡ªå·±è¿›å…¥é‚£ç§çŠ¶æ€ã€‚è‡ªå·±ä»¥ååº”è¯¥æ›´åŠ ä¸»åŠ¨ç§¯æåœ°å¯¹å¾…å·¥ä½œã€‚æˆ‘å–œæ¬¢ç§°å‘¼è‡ªå·±ä¸ºâ€œæŠ€æœ¯äººâ€ï¼Œå› ä¸ºâ€œæŠ€æœ¯äººâ€ä¸ä»…æ˜¯ææŠ€æœ¯çš„ï¼Œæ›´é‡è¦çš„æ˜¯å¯¹æŠ€æœ¯æœ‰çƒ­æƒ…ï¼Œæœ‰ä½¿å‘½æ„Ÿã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="å·¥ä½œ"></category><category term="æ„Ÿæ‚Ÿ"></category></entry><entry><title>Windowsä¸Šå®‰è£…PHPå¼€å‘æµ‹è¯•ç¯å¢ƒ</title><link href="http://youngsterxyf.github.io/2013/04/15/install-php-development-environment-on-windows/" rel="alternate"></link><published>2013-04-15T00:00:00+08:00</published><updated>2013-04-15T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-04-15:/2013/04/15/install-php-development-environment-on-windows/</id><summary type="html">&lt;p&gt;å…ˆä»HTTPè¯·æ±‚å¤„ç†æµç¨‹å›¾æ¥çœ‹çœ‹æˆ‘ä»¬æ‰€éœ€çš„PHPå¼€å‘æµ‹è¯•ç¯å¢ƒåŒ…å«å“ªäº›ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="/assets/uploads/pics/php-development-env.jpg" alt="PHPå¼€å‘æµ‹è¯•ç¯å¢ƒ"&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºç³»ç»ŸåŒ…å«å¦‚ä¸‹å‡ ç§ç»„ä»¶ä¹‹é—´çš„äº¤äº’ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nginxä¸PHP-CGI(PHP)çš„äº¤äº’&lt;/li&gt;
&lt;li&gt;PHP-CGI(PHP)ä¸æ–‡ä»¶ç³»ç»Ÿã€åˆ†å¸ƒå¼å†…å­˜å¯¹è±¡ç¼“å­˜ç³»ç»Ÿã€æ•°æ® â€¦&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;å…ˆä»HTTPè¯·æ±‚å¤„ç†æµç¨‹å›¾æ¥çœ‹çœ‹æˆ‘ä»¬æ‰€éœ€çš„PHPå¼€å‘æµ‹è¯•ç¯å¢ƒåŒ…å«å“ªäº›ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="/assets/uploads/pics/php-development-env.jpg" alt="PHPå¼€å‘æµ‹è¯•ç¯å¢ƒ"&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºç³»ç»ŸåŒ…å«å¦‚ä¸‹å‡ ç§ç»„ä»¶ä¹‹é—´çš„äº¤äº’ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nginxä¸PHP-CGI(PHP)çš„äº¤äº’&lt;/li&gt;
&lt;li&gt;PHP-CGI(PHP)ä¸æ–‡ä»¶ç³»ç»Ÿã€åˆ†å¸ƒå¼å†…å­˜å¯¹è±¡ç¼“å­˜ç³»ç»Ÿã€æ•°æ®åº“ä¹‹é—´çš„äº¤äº’&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é™¤äº†PHPä¸æ–‡ä»¶ç³»ç»Ÿä¹‹é—´çš„äº¤äº’ï¼Œå…¶ä»–å‡ ç§äº¤äº’å‡ä¸ºå®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å¼ï¼Œä»¥Socketæ–¹å¼è¿›è¡Œè¿æ¥ï¼Œéƒ½éœ€è¦å®‰è£…é…ç½®ç›¸å…³ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºNginxä¸PHP-CGI(PHP)çš„äº¤äº’ï¼ŒPHP-CGIé»˜è®¤æ‰“å¼€9000ç«¯å£ï¼Œç­‰å¾…Nginxè½¬å‘è¿‡æ¥çš„è¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç±»ä¼¼äºå¦‚ä¸‹æ‰€ç¤ºçš„è™šæ‹Ÿä¸»æœºé…ç½®ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;server {
    listen  8000;
    server_name localhost;

    location / {
        root    html;   # è¿™é‡Œä¸ºä½ çš„ç½‘ç«™çš„æ ¹ç›®å½•
        index   index.php index.html index.htm;
    }

    location ~ \.php$ {
        root    html;   # è¿™é‡Œä¹Ÿè®¾ç½®ä¸ºä½ çš„ç½‘ç«™çš„æ ¹ç›®å½•
        fastcgi_pass    127.0.0.1:9000; # è¿™é‡Œè®¾ç½®ä¸ºä½ çš„PHP-CGIç›‘å¬çš„ç½‘ç»œåœ°å€
        fastcgi_index   index.php;
        fastcgi_param   SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨Windowsä¸Šï¼Œç›´æ¥åŒå‡»è¿è¡Œphp-cgi.exeæ–‡ä»¶æ‰“å¼€PHP-CGIæœåŠ¡ï¼Œè²Œä¼¼æ²¡ç”¨ï¼Œå¯ä»¥åœ¨CMDä¸­æ‰§è¡Œ&lt;code&gt;php-cgi.exe -b 127.0.0.1:9000&lt;/code&gt;æ¥æ‰“å¼€æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºNginx.exeï¼Œå¯ä»¥ç›´æ¥åŒå‡»nginx.exeæ¥è¿è¡Œï¼Œä½†å¦‚æœè¦åœæ­¢nginxçš„è¿è¡Œæˆ–è€…é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œåˆ™å¯ä»¥åœ¨CMDä¸­æ‰§è¡Œå¦‚ä¸‹ç›¸åº”çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;nginx -s stop   fast shutdown
nginx -s quit   graceful shutdown
nginx -s reload  changing configuration, starting new worker processes with a new configuration, graceful shutdown of old worker processes
nginx -s reopen re-opening log files
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦å¤–ï¼ŒNginxçš„è™šæ‹Ÿä¸»æœºé…ç½®ä¿¡æ¯ä¸­ï¼ŒrootæŒ‡ä»¤æŒ‡å®šçš„ç½‘ç«™æ ¹ç›®å½•è·¯å¾„åº”éµä»Unixçš„æ ¼å¼ï¼Œè€Œä¸æ˜¯Windowsçš„æ ¼å¼ï¼Œå³ä½¿ç”¨&lt;strong&gt;/&lt;/strong&gt;è€Œä¸æ˜¯&lt;strong&gt;\&lt;/strong&gt;æ¥åˆ†å‰²ç›®å½•å±‚æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;Nginxä¸PHPçš„Windowsç‰ˆæœ¬å¯åˆ†åˆ«ä»ï¼š&lt;a href="http://nginx.org/en/download.html"&gt;Nginx for Windows&lt;/a&gt;ï¼Œ&lt;a href="http://windows.php.net/download/"&gt;PHP for Windows&lt;/a&gt;ã€‚æ— éœ€å®‰è£…ï¼Œè§£å‹ç¼©å³å¯ã€‚PHP-CGIçš„å¯æ‰§è¡Œæ–‡ä»¶php-cgi.exeä¹Ÿåœ¨PHPçš„å‹ç¼©åŒ…ä¸­ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¯¹äºåˆ†å¸ƒå¼å†…å­˜å¯¹è±¡ç³»ç»Ÿï¼Œä»¥Memcachedå’ŒRedisä¸ºä¾‹ã€‚PHPé€šè¿‡æ‰©å±•åŒ…ä¸å®ƒä»¬äº¤äº’ï¼Œæ‰€ä»¥éœ€è¦ä¸‹è½½ç›¸åº”çš„æ‰©å±•åŒ…ï¼Œå¹¶é…ç½®PHPã€‚&lt;/p&gt;
&lt;p&gt;ä»¥PHP 5.3ç‰ˆæœ¬ä¸ºä¾‹ï¼Œå¯åˆ†åˆ«ä»&lt;a href="http://downloads.php.net/pierre/"&gt;http://downloads.php.net/pierre/&lt;/a&gt;ã€&lt;a href="http://blog.phpwind.me/wp-content/plugins/download-monitor/download.php?id=9"&gt;http://blog.phpwind.me/wp-content/plugins/download-monitor/download.php?id=9&lt;/a&gt;ä¸‹è½½PHPçš„memcachedæ‰©å±•åŒ…ä¸redisæ‰©å±•åŒ…ï¼Œæ³¨æ„æ‰©å±•åŒ…å¯¹åº”çš„phpç‰ˆæœ¬å·å¿…é¡»ä¸ä½ å®‰è£…çš„PHPçš„ç‰ˆæœ¬å·ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;è§£å‹ç¼©åå°†php_memcache.dllå’Œphp_redis.dllæ–‡ä»¶å¤åˆ¶åˆ°PHPçš„extç›®å½•ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå°†PHPç›®å½•ä¸‹çš„php.ini-developmentæ–‡ä»¶é‡å‘½åä¸ºphp.iniï¼Œæ‰“å¼€php.iniï¼Œé¦–å…ˆåˆ é™¤&lt;code&gt;;extension_dir="ext"&lt;/code&gt;ä¸€è¡Œè¡Œé¦–çš„åˆ†å·ï¼Œç„¶ååˆ é™¤&lt;code&gt;;extension=php_memcache.dll&lt;/code&gt;ä¸€è¡Œè¡Œé¦–çš„åˆ†å·ï¼Œå¹¶åœ¨å…¶åæ·»åŠ ä¸€è¡Œ&lt;code&gt;extension=php_redis.dll&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºMemcachedå’ŒRedisçš„æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œå¯åˆ†åˆ«ä»ï¼š&lt;a href="http://downloads.northscale.com/memcached-win32-1.4.4-14.zip"&gt;Memcached for Windows&lt;/a&gt;ã€&lt;a href="https://github.com/dmajkic/redis/downloads"&gt;Redis for Windows&lt;/a&gt;ä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;Memcachedçš„é»˜è®¤ç«¯å£ä¸º11211ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºRedisçš„é…ç½®è§ï¼š&lt;a href="http://redis.io/topics/config"&gt;http://redis.io/topics/config&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…³äºwindowsä¸‹rediså’Œphpçš„redisæ‰©å±•çš„å®‰è£…ï¼Œå¯è¿›ä¸€æ­¥å‚è€ƒ&lt;a href="http://blog.phpwind.me/?p=152"&gt;http://blog.phpwind.me/?p=152&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;PHPä¸MySQLä¹‹é—´çš„äº¤äº’ï¼Œç±»ä¼¼äºPHPä¸åˆ†å¸ƒå¼å†…å­˜å¯¹è±¡ç³»ç»Ÿä¹‹é—´çš„äº¤äº’ã€‚åªä¸è¿‡PHPçš„å‹ç¼©åŒ…çš„extç›®å½•ä¸‹å·²ç»åŒ…å«äº†&lt;code&gt;php_mysql.dll&lt;/code&gt;å’Œ&lt;code&gt;php_mysqli.dll&lt;/code&gt;æ‰©å±•åŒ…ï¼Œåªéœ€ä¿®æ”¹php.inié…ç½®æ–‡ä»¶å³å¯ï¼šåˆ é™¤&lt;code&gt;;extension=php_mysql.dll&lt;/code&gt;å’Œ&lt;code&gt;;extension=php_mysqli.dll&lt;/code&gt;ä¸¤è¡Œè¡Œé¦–çš„åˆ†å·ã€‚&lt;/p&gt;
&lt;p&gt;MySQLçš„æœåŠ¡å™¨ç«¯ç¨‹åºä»MySQLå®˜ç½‘ä¸‹è½½ï¼Œé»˜è®¤ç«¯å£ä¸º3306ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é™¤äº†ä¸Šè¿°å®‰è£…é…ç½®ï¼Œä½ å¯èƒ½è¿˜éœ€è¦åœ¨php.iniä¸­å¯ç”¨&lt;code&gt;extension=php_mbstring.dll&lt;/code&gt;ã€&lt;code&gt;extension=php_soap.dll&lt;/code&gt;ç­‰æ‰©å±•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å®‰è£…é…ç½®å®Œæ¯•åï¼Œå¯åŠ¨Nginxã€PHP-CGIã€MySQLï¼ˆå¯é€‰ï¼‰ã€Redis/Memcachedï¼ˆå¯é€‰ï¼‰ã€‚åœ¨æŸä¸ªNginxè™šæ‹Ÿä¸»æœºä¸­æŒ‡å®šçš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ·»åŠ æµ‹è¯•æ–‡ä»¶phpinfo.phpï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
    phpinfo();
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é€šè¿‡æµè§ˆå™¨è®¿é—®è¯¥ç½‘é¡µï¼Œè‹¥PHPç¯å¢ƒé…ç½®æˆåŠŸï¼Œåˆ™ä¼šçœ‹åˆ°ä¸€ä¸ªå½“å‰PHPç¯å¢ƒçš„è¯¦ç»†ä¿¡æ¯åˆ—è¡¨ï¼Œä»ä¸­å¯ä»¥çœ‹åˆ°å½“å‰æ‰€å¯åŠ¨çš„PHPæ‰©å±•ï¼Œè‹¥æœªæ‰¾åˆ°memcacheã€redisã€mysqlè¿™å‡ ä¸ªæ‰©å±•åŒ…ä¿¡æ¯ï¼Œåˆ™è¯´æ˜æœªæˆåŠŸå¯ç”¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¦‚æœä½ æµ‹è¯•æŸäº›ä»¥å‰åˆ«äººå†™çš„PHPä»£ç ï¼Œå‘ç°ç»“æœä¸é¢„æœŸçš„ä¸ç›¸ç¬¦ï¼Œåˆ™çœ‹çœ‹æ˜¯ä¸æ˜¯é‚£äº›ä»£ç ä¸­ä½¿ç”¨äº†PHPçŸ­æ ‡è®°&lt;code&gt;&amp;lt;?&lt;/code&gt;å’Œ&lt;code&gt;?&amp;gt;&lt;/code&gt;ã€‚PHPé»˜è®¤ä¸å¯ç”¨çŸ­æ ‡è®°ï¼Œæ‰€ä»¥ä½ éœ€è¦ä¿®æ”¹php.iniï¼Œåˆ é™¤&lt;code&gt;;short_open_tag = On&lt;/code&gt;ä¸€è¡Œä¹‹å‰çš„åˆ†å·ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œæ³¨æ„Nginxè™šæ‹Ÿä¸»æœºæ‰€ä½¿ç”¨çš„ç«¯å£ä¸è¦å’ŒWindowsä¸­å…¶ä»–ç½‘ç»œåº”ç”¨çš„ç«¯å£å†²çªã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="PHP"></category></entry><entry><title>å¼„æ¸…é—®é¢˜ï¼Œå†æ±‚è§£å†³</title><link href="http://youngsterxyf.github.io/2013/04/09/understand-before-solve/" rel="alternate"></link><published>2013-04-09T00:00:00+08:00</published><updated>2013-04-09T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-04-09:/2013/04/09/understand-before-solve/</id><summary type="html">&lt;p&gt;ä»Šå¤©åŒäº‹é—®æˆ‘ï¼šæ˜¯å¦æœ‰ä»€ä¹ˆpythonåº“æˆ–å·¥å…·èƒ½å¤Ÿå°†ç½‘é¡µå†…å®¹è½¬æ¢æˆå›¾ç‰‡æ ¼å¼çš„ã€‚ä»–åœ¨åšè¿™æ–¹é¢çš„äº‹æƒ…ï¼Œè¿˜æ²¡æœ‰å¥½çš„æ–¹æ³•ï¼Œå› ä¸ºè§‰å¾—æˆ‘å¯¹pythonæ¯”è¾ƒç†Ÿæ‚‰ï¼Œæ‰€ä»¥é—®ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æˆ‘ä»ä¸€å¼€å§‹æˆ‘å°±çŠ¯ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä»Šå¤©åŒäº‹é—®æˆ‘ï¼šæ˜¯å¦æœ‰ä»€ä¹ˆpythonåº“æˆ–å·¥å…·èƒ½å¤Ÿå°†ç½‘é¡µå†…å®¹è½¬æ¢æˆå›¾ç‰‡æ ¼å¼çš„ã€‚ä»–åœ¨åšè¿™æ–¹é¢çš„äº‹æƒ…ï¼Œè¿˜æ²¡æœ‰å¥½çš„æ–¹æ³•ï¼Œå› ä¸ºè§‰å¾—æˆ‘å¯¹pythonæ¯”è¾ƒç†Ÿæ‚‰ï¼Œæ‰€ä»¥é—®ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æˆ‘ä»ä¸€å¼€å§‹æˆ‘å°±çŠ¯é”™è¯¯äº†ã€‚å…¶å®æˆ‘è‡³å°‘åº”è¯¥é—®ä¸€ä¸‹ï¼šä¸ºä»€ä¹ˆè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿä¹Ÿå°±æ˜¯ä¸šåŠ¡éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿå¹¶ä¸”ç¨å¾®ä¸€æƒ³è¿™ä¸ªé—®é¢˜å…¶å®æ¯”è¾ƒå«ç³Šã€‚ç°åœ¨çš„webé¡µé¢å¯ä»¥å¾ˆç®€å•ï¼Œä¹Ÿå¯èƒ½å¾ˆå¤æ‚ã€‚é‚£ä¹ˆè¿™ä¸ªé—®é¢˜é‡Œçš„â€œç½‘é¡µâ€æ˜¯ä»€ä¹ˆæ ·çš„ç½‘é¡µå‘¢ï¼Ÿæ˜¯ä»»ä½•å¯èƒ½çš„ç½‘é¡µä¹ˆï¼Ÿç›®çš„æ˜¯éœ€è¦é€šè¿‡å›¾ç‰‡æ¥å±•ç¤ºç½‘é¡µçš„å“ªä¸ªéƒ¨åˆ†çš„ä¿¡æ¯è¿˜æ˜¯æ•´ä¸ªç½‘é¡µï¼Ÿè¿™äº›é—®é¢˜æˆ‘éƒ½æ²¡é—®ï¼Œä¹Ÿæ²¡ä»”ç»†è€ƒè™‘ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ²¡æœ‰æ˜ç¡®éœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œæˆ‘å°±è®¤ä¸ºæ˜¯å°†ä»»ä½•å½¢å¼çš„ç½‘é¡µå®Œæ•´åœ°è½¬æ¢æˆå›¾ç‰‡ï¼Œä½†åˆæ²¡å¼„æ¸…å¦‚æœæ˜¯è¿™ç§æƒ…å†µé—®é¢˜çš„éš¾åº¦æœ‰å¤šå¤§ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¬å®Œé—®é¢˜åï¼Œæˆ‘å°±æƒ³åˆ°å¯èƒ½æœ‰ä¸¤ç§æ–¹æ³•ï¼š1. å…ˆå°†ç½‘é¡µè½¬æ¢æˆpdfï¼Œç„¶åè½¬æ¢æˆå›¾ç‰‡ï¼Œå› ä¸ºæˆ‘å¯¹äºå°†ç½‘é¡µè½¬æ¢æˆpdfæ ¼å¼çš„æ–¹æ³•æœ‰ç‚¹å°è±¡ï¼›2.å¯èƒ½å­˜åœ¨pythonå®ç°çš„å·¥å…·ç›´æ¥å°†ç½‘é¡µè½¬æ¢æˆå›¾ç‰‡æ ¼å¼ã€‚ä½ æ˜¯å¦å‘ç°æˆ‘çš„æ€è·¯æœ‰ä¸ªè¯¯åŒºï¼šé—®é¢˜çš„è§£å†³æ–¹æ¡ˆéœ€è¦pythonä»£ç å®ç°ï¼Œæˆ‘å‡è®¾äº†éœ€è¦å°†è¿™ä¸ªåŠŸèƒ½åµŒå…¥åˆ°ä¸€ä¸ªå¤§çš„ç¨‹åºä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘å°±å¼€å§‹è’™å¤´googleæ‰¾æ–¹æ¡ˆã€‚ç»è¿‡ä¸€ç•ªâ€œè‰°è‹¦å“ç»â€çš„æŸ¥æ‰¾ï¼Œå‘ç°ï¼š1.ç¡®å®æœ‰å¦‚xhtml2pdfç­‰å·¥å…·èƒ½å°†ç½‘é¡µè½¬æ¢æˆpdfæ ¼å¼ï¼Œä½†è²Œä¼¼å¯¹äºä¸­æ–‡çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼›2.æ²¡æœ‰å¥½çš„pythonåº“æˆ–å·¥å…·èƒ½å¤Ÿç›´æ¥å°†ç½‘é¡µè½¬æ¢æˆå›¾ç‰‡æ ¼å¼ï¼Œæœ‰çš„æ–¹æ¡ˆè¦æ”¶è´¹ï¼Œæœ‰çš„æ–¹æ¡ˆéœ€è¦è°ƒç”¨ç¬¬ä¸‰æ–¹APIï¼Œè€Œå…¬å¸çš„æ•°æ®æ˜æ˜¾æ˜¯ä¸èƒ½è®©ç¬¬ä¸‰æ–¹è·å¾—çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æŸ¥æ‰¾è§£å†³æ–¹æ¡ˆçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿé€æ­¥æ„è¯†åˆ°ä¸Šè¿°çš„é‚£äº›é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯è‹¥å‡è®¾éœ€è¦å°†ä»»ä½•å½¢å¼çš„ç½‘é¡µè½¬æ¢æˆå›¾ç‰‡æ ¼å¼ï¼Œè¿™ä¸ªéš¾åº¦éå¸¸å¤§ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºç°åœ¨å¾ˆå¤šç½‘é¡µçš„éƒ¨åˆ†å†…å®¹éƒ½æ˜¯ç”±JSç”Ÿæˆçš„ï¼Œè‹¥ä½ çš„ç¨‹åºåªæ˜¯ç®€å•åœ°ä»æœåŠ¡å™¨è·å–ç½‘é¡µï¼Œè¯¥ç½‘é¡µå«æœ‰çš„JSä»£ç å¹¶ä¸ä¼šæ‰§è¡Œï¼Œå°†è¯¥ç½‘é¡µè½¬æ¢æˆå›¾ç‰‡æ ¼å¼ï¼Œå›¾ç‰‡æ‰€åŒ…å«çš„ä¿¡æ¯ä¸æµè§ˆå™¨ä¸­å±•ç¤ºçš„å¹¶ä¸ç›¸åŒã€‚æ‰€ä»¥ä½ çš„ç¨‹åºèµ·ç éœ€è¦åŒ…å«ä¸€ä¸ªJSè§£é‡Šå™¨ã€‚OKï¼Œéš¾åº¦ä¸€ä¸‹å­å°±ä¸Šå»äº†ã€‚åœ¨æˆ‘é€æ­¥äº†è§£å…¶ä¸­çš„éš¾åº¦åï¼Œæˆ‘å¼€å§‹å°è¯•æ¢ä¸ªè§’åº¦æ¥è€ƒè™‘é—®é¢˜ï¼Œåæ€åŒäº‹æ‰€è¦è§£å†³çš„ä¸šåŠ¡éœ€æ±‚æ˜¯ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸ä»–çš„è¿›ä¸€æ­¥æ²Ÿé€šä¹‹åï¼Œæˆ‘æ‰çŸ¥é“ï¼šä¸€äº›æ€»ç»“æ±‡æŠ¥é‚®ä»¶ä¸­éœ€è¦æ·»åŠ æ•°æ®ç»Ÿè®¡å›¾ï¼Œè€ŒåŸæœ‰çš„æ•°æ®ç»Ÿè®¡å›¾åœ¨Webç›‘æ§é¡µé¢ä¸­ï¼Œç”±Raphaeljsåº“ç»˜åˆ¶æˆSVGçŸ¢é‡å›¾ã€‚ç”±äºæ— æ³•æœŸæœ›é‚®ä»¶çš„æ¥æ”¶è€…æ˜¯ä»ç½‘é¡µç‰ˆé‚®ç®±é˜…è¯»é‚®ä»¶ï¼ˆä»–ä»¬å¾ˆå¯èƒ½ä½¿ç”¨å„ç§é‚®ä»¶å®¢æˆ·ç«¯å¦‚OutlookæŸ¥çœ‹é‚®ä»¶ï¼‰ï¼Œæ‰€ä»¥å‘é€å¸¦æœ‰JSçš„HTMLæ ¼å¼çš„é‚®ä»¶æ˜¯æ²¡ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨äº†è§£ä¸šåŠ¡éœ€æ±‚åï¼Œæˆ‘ä»¬å°±æ˜ç™½äº†å…¶å®é—®é¢˜æœ¬è´¨ä¸Šä¸æ˜¯è¦å°†ç½‘é¡µè½¬æ¢æˆå›¾ç‰‡ï¼Œè€Œæ˜¯è¦è·å¾—&lt;strong&gt;å›¾ç‰‡æ ¼å¼çš„æ•°æ®å¯è§†åŒ–ç»“æœ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆé—®é¢˜å°±ç®€å•å¤šäº†ï¼Œå¯èƒ½ä»ä»¥ä¸‹ä¸‰ä¸ªè§’åº¦å¯»æ‰¾è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°†ç½‘é¡µå®Œæ•´åœ°è½¬æ¢æˆå›¾ç‰‡æ ¼å¼&lt;/li&gt;
&lt;li&gt;å°†ç½‘é¡µä¸­çš„SVGå†…å®¹è½¬æ¢æˆå›¾ç‰‡æ ¼å¼&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æœ¬åœ°çš„æ•°æ®å¯è§†åŒ–å·¥å…·å°†ç»Ÿè®¡æ•°æ®æºï¼Œå³Raphaeljsç»˜åˆ¶SVGçŸ¢é‡å›¾çš„JSONæ•°æ®æºç»˜åˆ¶æˆå›¾ç‰‡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸‰ç§æ–¹æ¡ˆä¸­ç¬¬äºŒç§æœ€ä½³ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºç¬¬ä¸€ç§éœ€è¦åšä¸€äº›é¢å¤–çš„è½¬æ¢å·¥ä½œï¼Œè‡ªå·±å®ç°çš„éš¾åº¦è¾ƒå¤§ï¼Œç¬¬ä¸‰ç§æ–¹æ¡ˆä¸Webç›‘æ§é¡µé¢æ‰€ä½¿ç”¨çš„æ˜¯ä¸åŒçš„æ•°æ®å¯è§†åŒ–å·¥å…·ï¼Œæ‰€ä»¥äº§ç”Ÿçš„ç»“æœä¸€èˆ¬æ˜¯ä¸ç›¸åŒçš„ï¼Œé™¤éRaphaeljsæ”¯æŒå›¾ç‰‡æ ¼å¼çš„è¾“å‡ºï¼Œé‚£ä¹ˆåº”è¯¥å°±å¯ä»¥ä½¿ç”¨nodejsæ¥å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡ç½‘ç»œæŸ¥æ‰¾ï¼Œå‘ç°ç¬¬ä¸€ç§æ–¹æ¡ˆä¸ç¬¬äºŒç§æ–¹æ¡ˆéƒ½æœ‰ç°æˆçš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ç§æ–¹æ¡ˆï¼š&lt;a href="https://github.com/ariya/phantomjs"&gt;phantomjs&lt;/a&gt;å¯ä»¥å®Œæˆï¼ŒphantomjsåŒ…å«äº†webkitï¼Œæ‰€ä»¥è§£é‡ŠJSä»€ä¹ˆçš„å°±ä¸å†æ˜¯ä¸ªé—®é¢˜äº†ï¼Œå®ƒæœ‰ä¸ª&lt;a href="https://github.com/ariya/phantomjs/wiki/Screen-Capture"&gt;Screen Capture&lt;/a&gt;çš„åŠŸèƒ½æ¨¡å—æ”¯æŒå°†ç½‘é¡µå®Œæ•´åœ°è½¬æ¢æˆå›¾ç‰‡æ ¼å¼ï¼Œä½†ç”±äºè¦åšå¾ˆå¤šé¢å¤–çš„å·¥ä½œï¼Œæ‰€ä»¥æ•ˆç‡æ¯”è¾ƒä½ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒç§æ–¹æ¡ˆæ˜¯ä»Highchartsçš„&lt;a href="http://www.highcharts.com/demo/"&gt;Demo&lt;/a&gt;ä¸­æŒ–æ˜å‡ºæ¥çš„ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src="/assets/uploads/pics/highchartjsdemo.png" alt="highchartjs_demo"&gt;&lt;/p&gt;
&lt;p&gt;Demoä¸­å¯ä»¥è¾“å‡ºå¤šç§å›¾ç‰‡æ ¼å¼ï¼Œé€šè¿‡chromeæµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·å¯ä»¥å‘ç°å…¶å®ç°æ˜¯å‘æœåŠ¡å™¨export.highcharts.comå‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œè¯·æ±‚ä¸­åŒ…å«ç½‘é¡µä¸­ç”Ÿæˆçš„SVGçŸ¢é‡å›¾æ•°æ®ã€ç›®æ ‡å›¾ç‰‡æ ¼å¼ç­‰ä¿¡æ¯ï¼ŒæœåŠ¡å™¨å¯¹è¯¥è¯·æ±‚è¿›è¡Œå¤„ç†åè¿”å›ç›®æ ‡æ ¼å¼å›¾ç‰‡ã€‚é‚£ä¹ˆæœåŠ¡å™¨ç«¯æ˜¯å¦‚ä½•å°†SVGè½¬æ¢æˆå›¾ç‰‡æ ¼å¼çš„å‘¢ï¼Ÿåœ¨Highchartsçš„&lt;a href="http://docs.highcharts.com/"&gt;æ–‡æ¡£&lt;/a&gt;ä¸­æœ‰ä¸ªåä¸º&lt;code&gt;Export module&lt;/code&gt;çš„éƒ¨åˆ†ï¼Œå…¶ä¸­è¯´æ˜äº†å®ç°åŸç†ä»¥åŠå¦‚ä½•æ­å»ºè¿™æ ·çš„ä¸€ä¸ªæ ¼å¼è½¬æ¢æœåŠ¡å™¨ã€‚ä»æ–‡æ¡£å¯ä»¥çœ‹å‡ºè¿™ä¸ªå®ç°æ–¹æ³•çš„æ ¸å¿ƒæ˜¯å€ŸåŠ©äº†&lt;a href="http://xmlgraphics.apache.org/batik/tools/rasterizer.html"&gt;batik-rasterizer.jar&lt;/a&gt;è¿™ä¸ªJavaå·¥å…·åŒ…ï¼Œå®ƒèƒ½å°†SVGè½¬æ¢æˆå›¾ç‰‡æˆ–PDFæ ¼å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä»ä¸Šè¿°è¯¥é—®é¢˜è§£å†³æ–¹æ¡ˆçš„å¯»æ‰¾è¿‡ç¨‹å¯ä»¥çœ‹å‡ºï¼Œ&lt;strong&gt;å¾ˆå¤šæ—¶å€™å¹¶ä¸æ˜¯é—®é¢˜æœ‰å¤šå¤æ‚æˆ–æœ‰å¤šéš¾ï¼Œè€Œæ˜¯æˆ‘ä»¬æ ¹æœ¬æ²¡æœ‰æ˜ç¡®ä¸šåŠ¡éœ€æ±‚ï¼Œæ²¡æœ‰ææ¸…æ¥šçœŸæ­£éœ€è¦è§£å†³çš„é—®é¢˜ï¼Œè€Œå¯¹æ¨¡ç³Šçš„é—®é¢˜æè¿°è‡ªä»¥ä¸ºæ˜¯åœ°ä½œå‡ºä¸€äº›å‡è®¾ï¼Œç„¶åè’™å¤´å»è§£å†³é”™è¯¯çš„é—®é¢˜ï¼Œä»è€Œæµªè´¹äº†å¾ˆå¤šæ—¶é—´&lt;/strong&gt;ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="å·¥ä½œ"></category></entry><entry><title>argparse - å‘½ä»¤è¡Œé€‰é¡¹ä¸å‚æ•°è§£æï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/03/30/argparse/" rel="alternate"></link><published>2013-03-30T00:00:00+08:00</published><updated>2013-03-30T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-03-30:/2013/03/30/argparse/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://pymotw.com/2/argparse/"&gt;argparse â€“ Command line option and argument parsing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;argparseæ¨¡å—ä½œä¸ºoptparseçš„ä¸€ä¸ªæ›¿ä»£è¢«æ·»åŠ åˆ°Python2.7ã€‚argparseçš„å®ç°æ”¯æŒä¸€äº›ä¸æ˜“äºæ·»åŠ åˆ°optparseä»¥åŠè¦æ±‚å‘åä¸å…¼å®¹APIå˜åŒ–çš„ç‰¹æ€§ï¼Œå› æ­¤ä»¥ä¸€ä¸ªæ–°æ¨¡å—æ·»åŠ åˆ°æ ‡å‡†åº“ã€‚&lt;/p&gt;
&lt;h3&gt;ä¸optparseç›¸æ¯”è¾ƒ&lt;/h3&gt;
&lt;p&gt;argparseçš„APIç±»ä¼¼äºoptparseï¼Œç”šè‡³åœ¨å¾ˆå¤šæƒ…å†µä¸‹é€šè¿‡æ›´æ–°æ‰€ä½¿ç”¨çš„ç±»å â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://pymotw.com/2/argparse/"&gt;argparse â€“ Command line option and argument parsing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;argparseæ¨¡å—ä½œä¸ºoptparseçš„ä¸€ä¸ªæ›¿ä»£è¢«æ·»åŠ åˆ°Python2.7ã€‚argparseçš„å®ç°æ”¯æŒä¸€äº›ä¸æ˜“äºæ·»åŠ åˆ°optparseä»¥åŠè¦æ±‚å‘åä¸å…¼å®¹APIå˜åŒ–çš„ç‰¹æ€§ï¼Œå› æ­¤ä»¥ä¸€ä¸ªæ–°æ¨¡å—æ·»åŠ åˆ°æ ‡å‡†åº“ã€‚&lt;/p&gt;
&lt;h3&gt;ä¸optparseç›¸æ¯”è¾ƒ&lt;/h3&gt;
&lt;p&gt;argparseçš„APIç±»ä¼¼äºoptparseï¼Œç”šè‡³åœ¨å¾ˆå¤šæƒ…å†µä¸‹é€šè¿‡æ›´æ–°æ‰€ä½¿ç”¨çš„ç±»åå’Œæ–¹æ³•åï¼Œä½¿ç”¨argparseä½œä¸ºä¸€ä¸ªç®€å•çš„æ›¿ä»£ã€‚ç„¶è€Œï¼Œæœ‰äº›åœ°æ–¹åœ¨æ·»åŠ æ–°ç‰¹æ€§æ—¶ä¸èƒ½ä¿æŒç›´æ¥å…¼å®¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¿…é¡»è§†æƒ…å†µå†³å®šæ˜¯å¦å‡çº§å·²æœ‰çš„ç¨‹åºã€‚å¦‚æœä½ å·²ç¼–å†™äº†é¢å¤–çš„ä»£ç ä»¥å¼¥è¡¥optparseçš„å±€é™ï¼Œä¹Ÿè®¸ä½ æƒ³å‡çº§ç¨‹åºä»¥å‡å°‘ä½ éœ€è¦ç»´æŠ¤çš„ä»£ç é‡ã€‚è‹¥argparseåœ¨æ‰€æœ‰éƒ¨ç½²å¹³å°ä¸Šéƒ½å¯ç”¨ï¼Œé‚£ä¹ˆæ–°çš„ç¨‹åºåº”å°½å¯èƒ½ä½¿ç”¨argparseã€‚&lt;/p&gt;
&lt;h3&gt;è®¾ç½®ä¸€ä¸ªè§£æå™¨&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨argparseçš„ç¬¬ä¸€æ­¥å°±æ˜¯åˆ›å»ºä¸€ä¸ªè§£æå™¨å¯¹è±¡ï¼Œå¹¶å‘Šè¯‰å®ƒå°†ä¼šæœ‰äº›ä»€ä¹ˆå‚æ•°ã€‚é‚£ä¹ˆå½“ä½ çš„ç¨‹åºè¿è¡Œæ—¶ï¼Œè¯¥è§£æå™¨å°±å¯ä»¥ç”¨äºå¤„ç†å‘½ä»¤è¡Œå‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è§£æå™¨ç±»æ˜¯ &lt;strong&gt;ArgumentParser&lt;/strong&gt; ã€‚æ„é€ æ–¹æ³•æ¥æ”¶å‡ ä¸ªå‚æ•°æ¥è®¾ç½®ç”¨äºç¨‹åºå¸®åŠ©æ–‡æœ¬çš„æè¿°ä¿¡æ¯ä»¥åŠå…¶ä»–å…¨å±€çš„è¡Œä¸ºæˆ–è®¾ç½®ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse
parser = argparse.ArgumentParser(description=&lt;span style="color: #a31515"&gt;&amp;#39;This is a PyMOTW sample program&amp;#39;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;å®šä¹‰å‚æ•°&lt;/h3&gt;
&lt;p&gt;argparseæ˜¯ä¸€ä¸ªå…¨é¢çš„å‚æ•°å¤„ç†åº“ã€‚å‚æ•°å¯ä»¥è§¦å‘ä¸åŒçš„åŠ¨ä½œï¼ŒåŠ¨ä½œç”± &lt;strong&gt;add_argument()&lt;/strong&gt; æ–¹æ³•çš„ &lt;em&gt;action&lt;/em&gt; å‚æ•°æŒ‡å®šã€‚
æ”¯æŒçš„åŠ¨ä½œåŒ…æ‹¬ä¿å­˜å‚æ•°ï¼ˆé€ä¸ªåœ°ï¼Œæˆ–è€…ä½œä¸ºåˆ—è¡¨çš„ä¸€éƒ¨åˆ†ï¼‰ï¼Œå½“è§£æåˆ°æŸå‚æ•°æ—¶ä¿å­˜ä¸€ä¸ªå¸¸é‡å€¼ï¼ˆåŒ…æ‹¬å¯¹å¸ƒå°”å¼€å…³çœŸ/å‡å€¼çš„ç‰¹æ®Šå¤„ç†ï¼‰ï¼Œç»Ÿè®¡æŸä¸ªå‚æ•°å‡ºç°çš„æ¬¡æ•°ï¼Œä»¥åŠè°ƒç”¨ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤çš„åŠ¨ä½œæ˜¯ä¿å­˜å‚æ•°å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæä¾›ä¸€ä¸ªç±»å‹ï¼Œé‚£ä¹ˆåœ¨å­˜å‚¨ä¹‹å‰ä¼šå…ˆæŠŠè¯¥å‚æ•°å€¼è½¬æ¢æˆè¯¥ç±»å‹ã€‚å¦‚æœæä¾› &lt;em&gt;dest&lt;/em&gt; å‚æ•°ï¼Œå‚æ•°å€¼å°±ä¿å­˜ä¸ºå‘½ä»¤è¡Œå‚æ•°è§£ææ—¶è¿”å›çš„å‘½åç©ºé—´å¯¹è±¡ä¸­åä¸ºè¯¥ &lt;em&gt;dest&lt;/em&gt; å‚æ•°å€¼çš„ä¸€ä¸ªå±æ€§ã€‚&lt;/p&gt;
&lt;h3&gt;è§£æä¸€ä¸ªå‘½ä»¤è¡Œ&lt;/h3&gt;
&lt;p&gt;å®šä¹‰äº†æ‰€æœ‰å‚æ•°ä¹‹åï¼Œä½ å°±å¯ä»¥ç»™ &lt;strong&gt;parse_args()&lt;/strong&gt; ä¼ é€’ä¸€ç»„å‚æ•°å­—ç¬¦ä¸²æ¥è§£æå‘½ä»¤è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå‚æ•°æ˜¯ä» &lt;code&gt;sys.argv[1:]&lt;/code&gt; ä¸­è·å–ï¼Œä½†ä½ ä¹Ÿå¯ä»¥ä¼ é€’è‡ªå·±çš„å‚æ•°åˆ—è¡¨ã€‚é€‰é¡¹æ˜¯ä½¿ç”¨GNU/POSIXè¯­æ³•æ¥å¤„ç†çš„ï¼Œæ‰€ä»¥åœ¨åºåˆ—ä¸­é€‰é¡¹å’Œå‚æ•°å€¼å¯ä»¥æ··åˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;parse_args()&lt;/strong&gt; çš„è¿”å›å€¼æ˜¯ä¸€ä¸ª&lt;strong&gt;å‘½åç©ºé—´&lt;/strong&gt;ï¼ŒåŒ…å«ä¼ é€’ç»™å‘½ä»¤çš„å‚æ•°ã€‚è¯¥å¯¹è±¡å°†å‚æ•°ä¿å­˜å…¶å±æ€§ï¼Œå› æ­¤å¦‚æœä½ çš„å‚æ•° &lt;code&gt;dest&lt;/code&gt; æ˜¯ &lt;code&gt;"myoption"&lt;/code&gt;ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥&lt;code&gt;args.myoption&lt;/code&gt; æ¥è®¿é—®è¯¥å€¼ã€‚&lt;/p&gt;
&lt;h3&gt;ç®€å•ç¤ºä¾‹&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸‹ç®€å•ç¤ºä¾‹å¸¦æœ‰3ä¸ªä¸åŒçš„é€‰é¡¹ï¼šä¸€ä¸ªå¸ƒå°”é€‰é¡¹ï¼ˆ&lt;code&gt;-a&lt;/code&gt;ï¼‰ï¼Œä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²é€‰é¡¹ï¼ˆ&lt;code&gt;-b&lt;/code&gt;ï¼‰ï¼Œä»¥åŠä¸€ä¸ªæ•´æ•°é€‰é¡¹ï¼ˆ&lt;code&gt;-c&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(description=&lt;span style="color: #a31515"&gt;&amp;#39;Short sample app&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-c&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;, type=int)

print parser.parse_args([&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;-bval&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;-c&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æœ‰å‡ ç§æ–¹å¼ä¼ é€’å€¼ç»™å•å­—ç¬¦é€‰é¡¹ã€‚ä»¥ä¸Šä¾‹å­ä½¿ç”¨äº†ä¸¤ç§ä¸åŒçš„å½¢å¼ï¼Œ&lt;code&gt;-bval&lt;/code&gt;å’Œ&lt;code&gt;-c val&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_short.py
Namespace(a=True, b=&amp;#39;val&amp;#39;, c=3)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨è¾“å‡ºä¸­ä¸&lt;code&gt;'c'&lt;/code&gt;å…³è”çš„å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå› ä¸ºç¨‹åºå‘Šè¯‰&lt;strong&gt;ArgumentParser&lt;/strong&gt;åœ¨ä¿å­˜ä¹‹å‰å…ˆè½¬æ¢è¯¥å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;â€œé•¿â€é€‰é¡¹åå­—ï¼Œå³é€‰é¡¹çš„åå­—å¤šäºä¸€ä¸ªå­—ç¬¦ï¼Œä»¥ç›¸åŒçš„æ–¹å¼è¿›è¡Œå¤„ç†ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(description=&lt;span style="color: #a31515"&gt;&amp;#39;Example with long option names&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--noarg&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--witharg&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;witharg&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--witharg2&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;witharg2&amp;quot;&lt;/span&gt;, type=int)

print parser.parse_args([&lt;span style="color: #a31515"&gt;&amp;#39;--noarg&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;--witharg&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;val&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;--withargs=3&amp;#39;&lt;/span&gt;])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç»“æœä¹Ÿç±»ä¼¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_long.py
Namespace(noarg=True, witharg=&amp;#39;val&amp;#39;, witharg2=3)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;argparseåŒºåˆ«äºoptparseçš„ä¸€ä¸ªåœ°æ–¹æ˜¯å¯¹éé€‰é¡¹å‚æ•°å€¼çš„å¤„ç†ã€‚optparseåªè¿›è¡Œé€‰é¡¹è§£æï¼Œè€Œargparseæ˜¯ä¸€ä¸ªå…¨é¢çš„å‘½ä»¤è¡Œå‚æ•°è§£æå·¥å…·ï¼Œä¹Ÿå¤„ç†éé€‰é¡¹å‚æ•°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(description=&lt;span style="color: #a31515"&gt;&amp;#39;Example with non-optional arguments&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;count&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, type=int)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;units&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;)

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œâ€œcountâ€å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œâ€œunitsâ€å‚æ•°å­˜å‚¨ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å…¶ä¸­ä»»æ„ä¸€ä¸ªå‚æ•°è‹¥æ²¡æœ‰åœ¨å‘½ä»¤è¡Œä¸­æä¾›ï¼Œæˆ–ç»™å®šçš„å€¼ä¸èƒ½è¢«è½¬æ¢ä¸ºæ­£ç¡®çš„ç±»å‹ï¼Œå°±ä¼šæŠ¥å‘Šä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_arguments.py 3 inches

Namespace(count=3, units=&amp;#39;inches&amp;#39;)

$ python argparse_arguments.py some inches

usage: argparse_arguments.py [-h] count units
argparse_arguments.py: error: argument count: invalid int value: &amp;#39;some&amp;#39;

$ python argparse_arguments.py

usage: argparse_arguments.py [-h] count units
argparse_arguments.py: error: too few arguments
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;å‚æ•°åŠ¨ä½œ&lt;/h3&gt;
&lt;p&gt;argparseå†…ç½®6ç§åŠ¨ä½œå¯ä»¥åœ¨è§£æåˆ°ä¸€ä¸ªå‚æ•°æ—¶è¿›è¡Œè§¦å‘ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;store&lt;/code&gt;
    ä¿å­˜å‚æ•°å€¼ï¼Œå¯èƒ½ä¼šå…ˆå°†å‚æ•°å€¼è½¬æ¢æˆå¦ä¸€ä¸ªæ•°æ®ç±»å‹ã€‚è‹¥æ²¡æœ‰æ˜¾å¼æŒ‡å®šåŠ¨ä½œï¼Œåˆ™é»˜è®¤ä¸ºè¯¥åŠ¨ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;store_const&lt;/code&gt;
    ä¿å­˜ä¸€ä¸ªè¢«å®šä¹‰ä¸ºå‚æ•°è§„æ ¼ä¸€éƒ¨åˆ†çš„å€¼ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ¥è‡ªå‚æ•°è§£æè€Œæ¥çš„å€¼ã€‚è¿™é€šå¸¸ç”¨äºå®ç°éå¸ƒå°”å€¼çš„å‘½ä»¤è¡Œæ ‡è®°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;store_ture&lt;/code&gt;/&lt;code&gt;store_false&lt;/code&gt;
    ä¿å­˜ç›¸åº”çš„å¸ƒå°”å€¼ã€‚è¿™ä¸¤ä¸ªåŠ¨ä½œè¢«ç”¨äºå®ç°å¸ƒå°”å¼€å…³ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;append&lt;/code&gt;
    å°†å€¼ä¿å­˜åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚è‹¥å‚æ•°é‡å¤å‡ºç°ï¼Œåˆ™ä¿å­˜å¤šä¸ªå€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;append_const&lt;/code&gt;
    å°†ä¸€ä¸ªå®šä¹‰åœ¨å‚æ•°è§„æ ¼ä¸­çš„å€¼ä¿å­˜åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;version&lt;/code&gt;
    æ‰“å°å…³äºç¨‹åºçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œç„¶åé€€å‡º&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser()

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-s&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;store&amp;#39;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;#39;simple_value&amp;#39;&lt;/span&gt;,
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Store a simple value&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-c&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;store_const&amp;#39;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;#39;constant_value&amp;#39;&lt;/span&gt;,
        const=&lt;span style="color: #a31515"&gt;&amp;#39;value-to-store&amp;#39;&lt;/span&gt;,
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Store a constant value&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-t&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;store_true&amp;#39;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;,
        dest=&lt;span style="color: #a31515"&gt;&amp;#39;boolean_switch&amp;#39;&lt;/span&gt;,
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Set a switch to true&amp;#39;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-f&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;store_false&amp;#39;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;,
        dest=&lt;span style="color: #a31515"&gt;&amp;#39;boolean_switch&amp;#39;&lt;/span&gt;,
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Set a switch to false&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;append&amp;#39;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;#39;collection&amp;#39;&lt;/span&gt;,
        default=[],
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Add repeated values to a list&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-A&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;append_const&amp;#39;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;#39;const_collection&amp;#39;&lt;/span&gt;,
        const=&lt;span style="color: #a31515"&gt;&amp;#39;value-1-to-append&amp;#39;&lt;/span&gt;,
        default=[],
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Add different values to list&amp;#39;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-B&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;append_const&amp;#39;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;#39;const_collection&amp;#39;&lt;/span&gt;,
        const=&lt;span style="color: #a31515"&gt;&amp;#39;value-2-to-append&amp;#39;&lt;/span&gt;,
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Add different values to list&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--version&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;version&amp;#39;&lt;/span&gt;, version=&lt;span style="color: #a31515"&gt;&amp;#39;%(prog)s 1.0&amp;#39;&lt;/span&gt;)

results = parser.parse_args()
print &lt;span style="color: #a31515"&gt;&amp;#39;simple_value     =&amp;#39;&lt;/span&gt;, results.simple_value
print &lt;span style="color: #a31515"&gt;&amp;#39;constant_value   =&amp;#39;&lt;/span&gt;, results.constant_value
print &lt;span style="color: #a31515"&gt;&amp;#39;boolean_switch   =&amp;#39;&lt;/span&gt;, results.boolean_switch
print &lt;span style="color: #a31515"&gt;&amp;#39;collection       =&amp;#39;&lt;/span&gt;, results.collection
print &lt;span style="color: #a31515"&gt;&amp;#39;const_collection =&amp;#39;&lt;/span&gt;, results.const_collection
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_action.py -h

usage: argparse_action.py [-h] [-s SIMPLE_VALUE] [-c] [-t] [-f]
                          [-a COLLECTION] [-A] [-B] [--version]

optional arguments:
  -h, --help       show this help message and exit
  -s SIMPLE_VALUE  Store a simple value
  -c               Store a constant value
  -t               Set a switch to true
  -f               Set a switch to false
  -a COLLECTION    Add repeated values to a list
  -A               Add different values to list
  -B               Add different values to list
  --version        show program&amp;#39;s version number and exit

$ python argparse_action.py -s value

simple_value     = value
constant_value   = None
boolean_switch   = False
collection       = []
const_collection = []

$ python argparse_action.py -c

simple_value     = None
constant_value   = value-to-store
boolean_switch   = False
collection       = []
const_collection = []

$ python argparse_action.py -t

simple_value     = None
constant_value   = None
boolean_switch   = True
collection       = []
const_collection = []

$ python argparse_action.py -f

simple_value     = None
constant_value   = None
boolean_switch   = False
collection       = []
const_collection = []

$ python argparse_action.py -a one -a two -a three

simple_value     = None
constant_value   = None
boolean_switch   = False
collection       = [&amp;#39;one&amp;#39;, &amp;#39;two&amp;#39;, &amp;#39;three&amp;#39;]
const_collection = []

$ python argparse_action.py -B -A

simple_value     = None
constant_value   = None
boolean_switch   = False
collection       = []
const_collection = [&amp;#39;value-2-to-append&amp;#39;, &amp;#39;value-1-to-append&amp;#39;]

$ python argparse_action.py --version

argparse_action.py 1.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;é€‰é¡¹å‰ç¼€&lt;/h3&gt;
&lt;p&gt;argparseé€‰é¡¹çš„é»˜è®¤è¯­æ³•æ˜¯åŸºäºUnixçº¦å®šçš„ï¼Œä½¿ç”¨ä¸€ä¸ªâ€œ-â€å‰ç¼€æ¥è¡¨ç¤ºå‘½ä»¤è¡Œå¼€å…³ã€‚argparseæ”¯æŒå…¶ä»–å‰ç¼€ï¼Œå› æ­¤ä½ å¯ä»¥ä½¿å¾—ä½ çš„ç¨‹åºéµç…§æœ¬åœ°å¹³å°çš„é»˜è®¤è¯­æ³•ï¼ˆä¾‹å¦‚ï¼Œåœ¨Windowä¸Šä½¿ç”¨â€œ/â€ï¼‰æˆ–è€…éµå¾ªä¸åŒçš„çº¦å®šã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(description=&lt;span style="color: #a31515"&gt;&amp;#39;Change the option prefix charaters&amp;#39;&lt;/span&gt;, 
        prefix_chars=&lt;span style="color: #a31515"&gt;&amp;#39;-+/&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_false&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;,
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Turn A off&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;+a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;,
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Turn A on&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;//noarg&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;++noarg&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°†&lt;strong&gt;ArgumentParser&lt;/strong&gt; æ–¹æ³•çš„&lt;em&gt;prefix_chars&lt;/em&gt; å‚æ•°è®¾ç½®ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²åŒ…å«æ‰€æœ‰å…è®¸ç”¨æ¥è¡¨ç¤ºé€‰é¡¹çš„å­—ç¬¦ã€‚éœ€è¦ç†è§£çš„æ˜¯è™½ç„¶&lt;em&gt;prefix_chars&lt;/em&gt;åŒ…å«å…è®¸ç”¨äºå¼€å…³çš„å­—ç¬¦ï¼Œä½†å•ä¸ªå‚æ•°å®šä¹‰åªèƒ½ä½¿ç”¨ä¸€ç§ç»™å®šçš„å¼€å…³è¯­æ³•ã€‚è¿™è®©ä½ å¯ä»¥å¯¹ä½¿ç”¨ä¸åŒå‰ç¼€çš„é€‰é¡¹æ˜¯å¦æ˜¯åˆ«åï¼ˆæ¯”å¦‚ç‹¬ç«‹äºå¹³å°çš„å‘½ä»¤è¡Œè¯­æ³•çš„æƒ…å†µï¼‰æˆ–æ›¿ä»£é€‰æ‹©ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨â€œ+â€è¡¨æ˜æ‰“å¼€ä¸€ä¸ªå¼€å‘ï¼Œâ€œ-â€åˆ™ä¸ºå…³é—­ä¸€ä¸ªå¼€å…³ï¼‰è¿›è¡Œæ˜¾å¼åœ°æ§åˆ¶ã€‚åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ&lt;code&gt;+a&lt;/code&gt;å’Œ&lt;code&gt;-a&lt;/code&gt;æ˜¯ä¸åŒçš„å‚æ•°ï¼Œ&lt;code&gt;//noarg&lt;/code&gt; ä¹Ÿå¯ä»¥ &lt;code&gt;++noarg&lt;/code&gt; æä¾›ï¼Œä½†ä¸æ˜¯ &lt;code&gt;--noarg&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_prefix_chars.py -h

usage: argparse_prefix_chars.py [-h] [-a] [+a] [//noarg]

Change the option prefix characters

optional arguments
    -h, --help  show this help message and exit
    -a  Turn A off
    +a  Turn A on
    //noarg,++noarg

$ python argparse_prefix_chars.py +a

Namespace(a=True, noarg=False)

$ python argparse_prefix_chars.py -a

Namespace(a=False, noarg=False)

$ python argparse_prefix_chars.py //noarg

Namespace(a=None, noarg=True)

$ python argparse_prefix_chars.py ++noarg

Namespace(a=None, noarg=True)

$ python argparse_prefix_chars.py --noarg

usage: argparse_prefix_chars.py [-h] [-a] [+a] [//noarg]
argparse_prefix_chars.py: error: unrecognized arguments: --noarg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;å‚æ•°æ¥æº&lt;/h3&gt;
&lt;p&gt;ç›®å‰ä¸ºæ­¢æ‰€è§çš„ä¾‹å­ä¸­ï¼Œæä¾›ç»™è§£æå™¨çš„å‚æ•°åˆ—è¡¨æ¥è‡ªäºæ˜¾å¼ä¼ é€’çš„ä¸€ä¸ªåˆ—è¡¨ï¼Œæˆ–éšå¼åœ°ä»sys.argvè·å–çš„ã€‚æ˜¾å¼ä¼ é€’åˆ—è¡¨åœ¨ä½ ä½¿ç”¨argparseæ¥å¤„ç†ç±»å‘½ä»¤è¡Œä½†å¹¶ä¸æ˜¯æ¥è‡ªå‘½ä»¤è¡Œï¼ˆæ¯”å¦‚æ¥è‡ªä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼‰çš„æŒ‡ä»¤ä¹‹æ—¶æ¯”è¾ƒæœ‰ç”¨ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse
&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; ConfigParser &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; ConfigParser
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; shlex

parser = argparse.ArgumentParser(description=&lt;span style="color: #a31515"&gt;&amp;#39;Short sample app&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-c&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;, type=int)

config = ConfigParser()
config.read(&lt;span style="color: #a31515"&gt;&amp;#39;argparse_witH_shlex.ini&amp;#39;&lt;/span&gt;)
config_value = config.get(&lt;span style="color: #a31515"&gt;&amp;#39;cli&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;options&amp;#39;&lt;/span&gt;)
print &lt;span style="color: #a31515"&gt;&amp;#39;Config: &amp;#39;&lt;/span&gt;, config_value

argument_list = shlex.split(config_value)
print &lt;span style="color: #a31515"&gt;&amp;#39;Arg List:&amp;#39;&lt;/span&gt;, argument_list

print &lt;span style="color: #a31515"&gt;&amp;#39;Results:&amp;#39;&lt;/span&gt;, parser.parse_args(argument_list)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;shlexä½¿å¾—åˆ‡åˆ†å­˜å‚¨åœ¨é…ç½®æ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸²éå¸¸å®¹æ˜“ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_with_shlex.py

Config: -a -b 2
Arg List: [&amp;#39;-a&amp;#39;, &amp;#39;-b&amp;#39;, &amp;#39;2&amp;#39;]
Results: Namespace(a=True, b=&amp;#39;2&amp;#39;, c=None)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦ä¸€ç§è‡ªå·±å¤„ç†é…ç½®æ–‡ä»¶çš„æ–¹æ³•æ˜¯ä½¿ç”¨&lt;em&gt;fromfile_prefix_chars&lt;/em&gt;æŒ‡å®šä¸€ä¸ªåŒ…å«ä¸€ç»„è¦å¾…å¤„ç†å‚æ•°çš„è¾“å…¥æ–‡ä»¶æ¥å‘Šè¯‰argparseæ€æ ·è¯†åˆ«å‚æ•°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse
&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; ConfigParser &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; ConfigParser
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; shlex

parser = argparse.ArgumentParser(description=&lt;span style="color: #a31515"&gt;&amp;#39;Short sample app&amp;#39;&lt;/span&gt;,
        fromfile_prefix_chars=&lt;span style="color: #a31515"&gt;&amp;#39;@&amp;#39;&lt;/span&gt;
        )

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-c&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;, type=int)

print parser.parse_args([&lt;span style="color: #a31515"&gt;&amp;#39;@argparse_fromfile_prefix_chars.txt&amp;#39;&lt;/span&gt;])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¯¥ç¤ºä¾‹ä»£ç åœ¨æ‰¾åˆ°ä¸€ä¸ªä»¥&lt;em&gt;@&lt;/em&gt;ä¸ºå‰ç¼€çš„å‚æ•°æ—¶å³åœæ­¢å¾€ä¸‹è¯»å–ï¼Œç„¶åä»ä»¥è¯¥å‚æ•°å‘½åçš„æ–‡ä»¶ä¸­æŸ¥æ‰¾æ›´å¤šçš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥æ–‡ä»¶&lt;code&gt;argparse_fromfile_prefix_chars.txt&lt;/code&gt;åŒ…å«ä¸€ç³»åˆ—å‚æ•°ï¼Œä¸€è¡Œä¸€ä¸ªï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-a
-b
2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é‚£ä¹ˆå¤„ç†è¯¥æ–‡ä»¶äº§ç”Ÿçš„è¾“å‡ºä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_fromfile_prefix_chars.py

Namespace(a=True, b=&amp;#39;2&amp;#39;, c=None)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;è‡ªåŠ¨ç”Ÿæˆé€‰é¡¹&lt;/h3&gt;
&lt;p&gt;ç»è¿‡é…ç½®argparseä¼šè‡ªåŠ¨æ·»åŠ é€‰é¡¹ç”¨æ¥ç”Ÿæˆå¸®åŠ©ä¿¡æ¯ä»¥åŠä¸ºä½ çš„åº”ç”¨ç¨‹åºæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ArgumentParser&lt;/strong&gt;çš„å‚æ•°&lt;em&gt;add_help&lt;/em&gt; æ§åˆ¶å¸®åŠ©ä¿¡æ¯ç›¸å…³çš„é€‰é¡¹ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(add_help=&lt;span style="color: #0000ff"&gt;True&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-c&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;, type=int)

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¸®åŠ©é€‰é¡¹ï¼ˆ-hå’Œ--helpï¼‰é»˜è®¤æ˜¯æ·»åŠ çš„ï¼Œä½†å¯ä»¥é€šè¿‡å°†&lt;em&gt;add_help&lt;/em&gt;è®¾ç½®ä¸ºfalseæ¥ç¦ç”¨ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(add_help=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-c&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;, type=int)

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è™½ç„¶&lt;code&gt;-h&lt;/code&gt;å’Œ&lt;code&gt;--help&lt;/code&gt;æ˜¯äº‹å®ä¸Šçš„è¯·æ±‚å¸®åŠ©çš„æ ‡å‡†é€‰é¡¹åç§°ï¼Œä½†ä¸€äº›åº”ç”¨æˆ–argparseçš„ä½¿ç”¨è¦ä¹ˆä¸éœ€è¦æä¾›å¸®åŠ©è¦ä¹ˆéœ€è¦å°†è¿™ä¸¤ä¸ªé€‰é¡¹åç§°ç”¨äºå…¶ä»–ç›®æ ‡ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_with_help.py -h

usage: argparse_with_help.py [-h] [-a] [-b B] [-c C]

optional arguments:
    -h, --help  show this help message and exit
    -a
    -b B
    -c C

$ python argparse_without_help.py -h

usage: argparse_without_help.py [-a] [-b B] [-c C]
argparse_without_help.py: error: unrecognized arguments: -h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å½“åœ¨&lt;strong&gt;ArgumentParser&lt;/strong&gt;æ„é€ æ–¹æ³•è®¾ç½®&lt;em&gt;ç‰ˆæœ¬&lt;/em&gt;åï¼Œå°±ä¼šæ·»åŠ ç‰ˆæœ¬é€‰é¡¹ï¼ˆ&lt;code&gt;-v&lt;/code&gt;å’Œ&lt;code&gt;--version&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(version=&lt;span style="color: #a31515"&gt;&amp;#39;1.0&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-c&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;quot;c&amp;quot;&lt;/span&gt;, type=int)

print parser.parse_args()

print &lt;span style="color: #a31515"&gt;&amp;#39;This is not printed&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸¤ç§å½¢å¼çš„é€‰é¡¹çˆ±é‚£ä¸ªéƒ½ä¼šæ‰“å°ç¨‹åºçš„ç‰ˆæœ¬å­—ç¬¦ä¸²ï¼Œç„¶åç«‹å³é€€å‡ºç¨‹åºã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_with_version.py -h

usage: argparse_with_version.py [-h] [-v] [-a] [-b B] [-c C]

optional arguments:
    -h, --help  show this help message and exit
    -v, --version   show program&amp;#39;s version number and exit
    -a
    -b B
    -c C

$ python argparse_with_version.py -v

1.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;è§£æå™¨ç»„&lt;/h3&gt;
&lt;p&gt;argparseåŒ…å«è‹¥å¹²ç‰¹æ€§ç”¨äºç»„ç»‡ä½ çš„å‚æ•°è§£æå™¨ï¼Œä½¿å¾—å®ç°æ›´ä¸ºç®€å•ï¼Œä¹Ÿèƒ½æé«˜è¾“å‡ºå¸®åŠ©ä¿¡æ¯çš„å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…±äº«è§£æå™¨è§„åˆ™&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¸¸å¸¸éœ€è¦å®ç°ä¸€å¥—å‘½ä»¤è¡Œç¨‹åºï¼Œè¿™äº›ç¨‹åºéƒ½å¸¦ä¸€ç»„å‚æ•°ï¼Œåªæ˜¯åœ¨æŸäº›æ–¹é¢æœ‰ç‰¹æ®ŠåŒ–ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‰€æœ‰ç¨‹åºéƒ½éœ€è¦åœ¨ç”¨æˆ·è¿›è¡Œä»»ä½•å®é™…çš„æ“ä½œä¹‹å‰å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ï¼Œé‚£ä¹ˆå®ƒä»¬å°±éƒ½éœ€è¦æ”¯æŒ&lt;code&gt;--user&lt;/code&gt;å’Œ&lt;code&gt;--password&lt;/code&gt;é€‰é¡¹ã€‚ä½ å¯ä»¥å…±äº«çš„é€‰é¡¹æ¥å®šä¹‰ä¸€ä¸ªâ€œçˆ¶æ¯â€è§£æå™¨ï¼Œç„¶åä»¤å•ä¸ªç¨‹åºçš„è§£æå™¨ä»è¯¥â€œçˆ¶æ¯â€è§£æå™¨ç»§æ‰¿å…±äº«é€‰é¡¹ï¼Œè¿™æ ·å°±ä¸å¿…æ˜¾å¼ä¸ºæ¯ä¸ª&lt;strong&gt;ArgumentParser&lt;/strong&gt;æ·»åŠ å…±äº«é€‰é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥æ˜¯ä»¥å…±äº«çš„å‚æ•°å®šä¹‰å»ºç«‹â€œçˆ¶æ¯â€è§£æå™¨ã€‚ç”±äºâ€œçˆ¶æ¯â€è§£æå™¨çš„åä»£ä½¿ç”¨è€…ä¼šæ·»åŠ ç›¸åŒçš„å¸®åŠ©é€‰é¡¹ï¼Œä»è€Œä¼šå¼•å‘ä¸€ä¸ªå¼‚å¸¸ï¼Œæ‰€ä»¥åœ¨åŸºç¡€è§£æå™¨ä¸­æˆ‘ä»¬å…³é—­è‡ªåŠ¨å¸®åŠ©é€‰é¡¹ç”Ÿæˆã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(add_help=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--user&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--password&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ¥ä¸‹æ¥ï¼Œä»¥&lt;em&gt;çˆ¶æ¯è§£æå™¨&lt;/em&gt;é›†åˆ›å»ºå¦ä¸€ä¸ªè§£æå™¨ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse_parent_base

parser = argparse.ArgumentParser(parents=[argparse_parent_base.parser])

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--local-arg&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¾—åˆ°çš„ç¨‹åºå¸¦æœ‰ä¸‰ä¸ªé€‰é¡¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_uses_parent.py -h

usage: argparse_uses_parent.py [-h] [--user USER] [--password PASSWORD]
                           [--local-arg]

optional arguments:
    -h, --help           show this help message and exit
    --user USER
    --password PASSWORD
    --local-arg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å†²çªçš„é€‰é¡¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å‰ä¸€ä¸ªä¾‹å­æŒ‡å‡ºä»¥ç›¸åŒçš„å‚æ•°åå­—ä¸ºä¸€ä¸ªè§£æå™¨æ·»åŠ ä¸¤ä¸ªå‚æ•°å¤„ç†å™¨ä¼šå¼•å‘ä¸€ä¸ªå¼‚å¸¸ã€‚å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ª&lt;em&gt;conflict_handler&lt;/em&gt;æ¥æ”¹å˜å†²çªæ¶ˆé™¤è¡Œä¸ºã€‚argparseæœ‰ä¸¤ä¸ªå†…ç½®çš„å†²çªå¤„ç†å™¨&lt;code&gt;error&lt;/code&gt;ï¼ˆé»˜è®¤ï¼‰å’Œ&lt;code&gt;resolve&lt;/code&gt;ï¼Œ&lt;code&gt;resolve&lt;/code&gt;ä¼šåŸºäºå†²çªé€‰é¡¹çš„æ·»åŠ é¡ºåºæ¥é€‰æ‹©ä¸€ä¸ªå‚æ•°å¤„ç†å™¨ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(conflict_handler=&lt;span style="color: #a31515"&gt;&amp;#39;resolve&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, help=&lt;span style="color: #a31515"&gt;&amp;quot;Short alone&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--long-b&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, help=&lt;span style="color: #a31515"&gt;&amp;quot;Long and short together&amp;quot;&lt;/span&gt;)

print parser.parse_args([&lt;span style="color: #a31515"&gt;&amp;#39;-h&amp;#39;&lt;/span&gt;])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç”±äºæœ€åä¸€ä¸ªå¤„ç†å™¨æ‰€ç»™å®šçš„å‚æ•°åå·²è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆæœ¬ä¾‹ä¸­ç‹¬ç«‹é€‰é¡¹&lt;code&gt;-b&lt;/code&gt;å°†è¢«&lt;code&gt;--long-b&lt;/code&gt;çš„åˆ«åæ‰€è¦†ç›–ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_conflict_handler_resolve.py

usage: argparse_conflict_handler_resolve.py [-h] [-a A] [--long-b LONG_B]

optional arguments:
    -h, --help  show this help message and exit
    -a A
    --long-b LONG_B, -b LONG_B
            Long and short together
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åˆ‡æ¢&lt;strong&gt;add_argument()&lt;/strong&gt;çš„è°ƒç”¨é¡ºåºå°±å¯ä»¥å¯ç”¨ç‹¬ç«‹çš„é€‰é¡¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(conflict_handler=&lt;span style="color: #a31515"&gt;&amp;#39;resolve&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--long-b&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, help=&lt;span style="color: #a31515"&gt;&amp;#39;Long and short together&amp;#39;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;, help=&lt;span style="color: #a31515"&gt;&amp;#39;Short alone&amp;#39;&lt;/span&gt;)

print parser.parse_args([-h])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç°åœ¨ä¸¤ä¸ªé€‰é¡¹å¯ä»¥ä¸€èµ·ä½¿ç”¨äº†ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_conflict_handler_resolve2.py

usage: argparse_conflict_handler_resolve2.py [-h] [-a A] [--long-b LONG_B] [-b B]

optional arguments:
    -h, --help  show this help message and exit
    -a A
    --long-b LONG_B Long and short together
    -b B    Short alone
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å‚æ•°ç¾¤ç»„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;argparseèƒ½å°†å‚æ•°å®šä¹‰ç»„åˆæˆâ€œç¾¤ç»„â€ã€‚é»˜è®¤æƒ…å†µä¸‹æ˜¯ä½¿ç”¨ä¸¤ä¸ªç¾¤ç»„ï¼Œä¸€ä¸ªæ˜¯é€‰é¡¹çš„ç¾¤ç»„ï¼Œå¦ä¸€ä¸ªæ˜¯å¿…é¡»çš„ä¸ä½ç½®ç›¸å…³çš„å‚æ•°ç¾¤ç»„ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser(description=&lt;span style="color: #a31515"&gt;&amp;#39;Short sample app&amp;#39;&lt;/span&gt;)

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--optional&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;positional&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;)

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç¾¤ç»„åœ¨è¾“å‡ºçš„å¸®åŠ©ä¿¡æ¯ä¸­æ˜¾ç¤ºä¸ºåˆ†å¼€çš„â€œä¸ä½ç½®ç›¸å…³çš„å‚æ•°â€å’Œâ€œå¯é€‰å‚æ•°â€ä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_default_grouping.py

usage: argparse_default_grouping.py [-h] [--optional] positional

Short sample app

positional arguments:
    positional

optional arguments:
    -h, --help  show this help message and exit
    --optional
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½ å¯ä»¥è°ƒæ•´ç¾¤ç»„æ¥æé«˜å¸®åŠ©ä¿¡æ¯ä¸­ç¾¤ç»„çš„é€»è¾‘æ€§ï¼Œè¿™æ ·ç›¸å…³é€‰é¡¹æˆ–å€¼èƒ½è®°å½•åœ¨ä¸€èµ·ã€‚å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç¾¤ç»„æ¥é‡å†™ä¹‹å‰çš„å…±äº«é€‰é¡¹çš„ç¤ºä¾‹ï¼Œå¦‚æ­¤åœ¨å¸®åŠ©ä¿¡æ¯ä¸­èº«ä»½è®¤è¯çš„é€‰é¡¹å°±å¯ä»¥æ˜¾ç¤ºåœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åŸºç¡€è§£æå™¨ä¸­ä½¿ç”¨&lt;strong&gt;add_argument_group()&lt;/strong&gt;æ¥åˆ›å»ºä¸€ä¸ªâ€œèº«ä»½è®¤è¯â€ç¾¤ç»„ï¼Œç„¶åé€ä¸ªæ·»åŠ èº«ä»½è®¤è¯ç›¸å…³çš„é€‰é¡¹åˆ°è¯¥ç¾¤ç»„ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparser.ArgumentParser(add_help=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)

group = parser.add_argument_group(&lt;span style="color: #a31515"&gt;&amp;#39;authentication&amp;#39;&lt;/span&gt;)

group.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--user&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;)
group.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--password&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store&amp;quot;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸ä¹‹å‰ä¸€æ ·ï¼Œç¨‹åºä½¿ç”¨åŸºäºç¾¤ç»„çš„çˆ¶æ¯è§£æå™¨åˆ—è¡¨ä½œä¸º&lt;em&gt;parents&lt;/em&gt;çš„å€¼ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse_parent_with_group

parser = argparse.ArgumentParser(parents=[argparse_parent_with_group.parser])

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--local-arg&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;)

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç°åœ¨è¾“å‡ºçš„å¸®åŠ©ä¿¡æ¯ä¸€èµ·æ˜¾ç¤ºèº«ä»½è®¤è¯é€‰é¡¹ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_uses_parent_with_group.py -h

usage: argparse_uses_parent_with_group.py [-h] [--user USER] [--password PASSWORD] [--local-arg]

optional arguments:
    -h, --help  show this message and exit
    --local-arg

authentication:
    --user USER
    --password PASSWORD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;äº’æ–¥é€‰é¡¹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®šä¹‰äº’æ–¥çš„é€‰é¡¹æ˜¯é€‰é¡¹åˆ†ç»„ç‰¹æ€§çš„ä¸€ä¸ªç‰¹ä¾‹ï¼Œä½¿ç”¨&lt;strong&gt;add_mutually_exclusive_group()&lt;/strong&gt;è€Œä¸æ˜¯&lt;strong&gt;add_argument_group()&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser()

group = parser.add_mutually_exclusive_group()
group.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;store_true&amp;#39;&lt;/span&gt;)
group.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-b&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;quot;store_true&amp;quot;&lt;/span&gt;)

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;argparseä¼šä¸ºä½ å¼ºåˆ¶æ‰§è¡Œäº’æ–¥æ€§ï¼Œå› æ­¤ä¸€æ¬¡ä½¿ç”¨ä»…èƒ½ç»™å‡ºè¯¥ç¾¤ç»„çš„é€‰é¡¹ä¸­çš„ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_mutually_exclusive.py -h

usage: argparse_mutually_exclusive.py [-h] [-a | -b]

optional arguments:
    -h, --help  show this help message and exit
    -a
    -b

$ python argparse_mutually_exclusive.py -a

Namespace(a=True, b=False)

$ python argparse_mutually_exclusive.py -b

Namespace(a=False, b=True)

$ python argparse_mutually_exclusive.py -a -b

usage: argparse_mutually_exclusive.py [-h] [-a | -b]
argparse_mutually_exclusive.py: error: argument -b: not allowed with argument -a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åµŒå¥—è§£æå™¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šè¿°çš„çˆ¶æ¯è§£æå™¨æ–¹å¼æ˜¯åœ¨ç›¸å…³å‘½ä»¤ä¹‹é—´å…±äº«é€‰é¡¹çš„æ–¹å¼ä¹‹ä¸€ã€‚å¦ä¸€ç§æ–¹å¼æ˜¯å°†å¤šä¸ªå‘½ä»¤ç»„åˆè¿›ä¸€ä¸ªç¨‹åºä¸­ï¼Œä½¿ç”¨å­è§£æå™¨æ¥å¤„ç†å‘½ä»¤è¡Œçš„æ¯ä¸ªéƒ¨åˆ†ã€‚å°±åƒ&lt;code&gt;svn&lt;/code&gt;ï¼Œ&lt;code&gt;hg&lt;/code&gt;ï¼Œä»¥åŠå…¶ä»–å¸¦æœ‰å¤šä¸ªå‘½ä»¤è¡Œè¡Œä¸ºæˆ–å­å‘½ä»¤çš„ç¨‹åºé‚£æ ·ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç”¨äºå¤„ç†æ–‡ä»¶ç³»ç»Ÿç›®å½•çš„ç¨‹åºå¯èƒ½ä¼šåƒè¿™æ ·å®šä¹‰å‘½ä»¤ç”¨äºåˆ›å»ºã€åˆ é™¤ã€ä»¥åŠåˆ—å‡ºä¸€ä¸ªç›®å½•çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser()

subparsers = parser.add_subparsers(help=&lt;span style="color: #a31515"&gt;&amp;#39;commands&amp;#39;&lt;/span&gt;)

&lt;span style="color: #008000"&gt;# A list command&lt;/span&gt;
list_parser = subparsers.add_parser(&lt;span style="color: #a31515"&gt;&amp;#39;list&amp;#39;&lt;/span&gt;, help=&lt;span style="color: #a31515"&gt;&amp;#39;List contents&amp;#39;&lt;/span&gt;)
list_parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;dirname&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;store&amp;#39;&lt;/span&gt;, help=&lt;span style="color: #a31515"&gt;&amp;#39;Directory to list&amp;#39;&lt;/span&gt;)

&lt;span style="color: #008000"&gt;# A create command&lt;/span&gt;
create_parser = subparsers.add_parser(&lt;span style="color: #a31515"&gt;&amp;#39;create&amp;#39;&lt;/span&gt;, help=&lt;span style="color: #a31515"&gt;&amp;#39;Create a directory&amp;#39;&lt;/span&gt;)
create_parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;dirname&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;store&amp;#39;&lt;/span&gt;, help=&lt;span style="color: #a31515"&gt;&amp;#39;New directory to create&amp;#39;&lt;/span&gt;)
create_parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--read-only&amp;#39;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;store_true&amp;#39;&lt;/span&gt;,
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Set permissions to prevent writing to the directory&amp;#39;&lt;/span&gt;)

&lt;span style="color: #008000"&gt;# A delete command&lt;/span&gt;
delete_parser = subparsers.add_parser(&lt;span style="color: #a31515"&gt;&amp;#39;delete&amp;#39;&lt;/span&gt;, help=&lt;span style="color: #a31515"&gt;&amp;#39;Remove a directory&amp;#39;&lt;/span&gt;)
delete_parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;dirname&amp;#39;&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;store&amp;#39;&lt;/span&gt;, help=&lt;span style="color: #a31515"&gt;&amp;#39;The directory to remove&amp;#39;&lt;/span&gt;)
delete_parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--recursive&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;-r&amp;#39;&lt;/span&gt;, default=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;, action=&lt;span style="color: #a31515"&gt;&amp;#39;store_true&amp;#39;&lt;/span&gt;,
        help=&lt;span style="color: #a31515"&gt;&amp;#39;Remove the contents of the directory, too&amp;#39;&lt;/span&gt;)

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¾“å‡ºçš„å¸®åŠ©ä¿¡æ¯æ˜¾ç¤ºä½œä¸ºâ€œå‘½ä»¤â€çš„å‘½åå­è§£æå™¨èƒ½å¤Ÿåœ¨å‘½ä»¤è¡Œä¸­ä½œä¸ºä½ç½®å‚æ•°è¿›è¡ŒæŒ‡å®šã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_subparsers.py -h

usage: argparse_subparsers.py [-h] {list, create, delete} ...

positional arguments:
    {list, create, delete} commands
        list    List contents
        create  Create a directory
        delete  Remove a directory

optional arguments:
    -h, --help  show this help message and exit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ¯ä¸ªå­è§£æå™¨ä¹Ÿæœ‰è‡ªå·±çš„å¸®åŠ©ä¿¡æ¯ï¼Œæè¿°é‚£ä¸ªå‘½ä»¤çš„å‚æ•°å’Œé€‰é¡¹ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_subparsers.py create -h

usage: argparse_subparsers.py create [-h] [--read-only] dirname

positional arguments:
    dirname New directory to create

optional arguments:
    -h, --help  show this help message and exit
    --read-only Set permissions to prevent writing to the directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‚æ•°è¢«è§£æåï¼Œ&lt;strong&gt;parse_args()&lt;/strong&gt;è¿”å›çš„&lt;strong&gt;Namespace&lt;/strong&gt;å¯¹è±¡ä»…åŒ…å«ä¸æŒ‡å®šçš„å‘½ä»¤ç›¸å…³çš„å€¼ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_subparsers.py delete -r foo

Namespace(dirname=&amp;#39;foo&amp;#39;, recursive=True)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;é«˜çº§å‚æ•°å¤„ç†&lt;/h3&gt;
&lt;p&gt;è‡³ä»Šä¸ºæ­¢çš„ç¤ºä¾‹å±•ç¤ºäº†ç®€å•çš„å¸ƒå°”æ ‡è¯†ã€å­—ç¬¦ä¸²æˆ–æ•°å­—å‚æ•°é€‰é¡¹ã€ä»¥åŠä½ç½®å‚æ•°ã€‚å¯¹äºå˜é•¿å‚æ•°åˆ—è¡¨ã€æšä¸¾ç±»å‹æ•°æ®ã€ä»¥åŠå¸¸é‡ï¼Œargparseæ”¯æŒå¤æ‚çš„å‚æ•°è§„æ ¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¯å˜å½¢å‚åˆ—è¡¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥é…ç½®å•ä¸ªå‚æ•°çš„å®šä¹‰ä½¿å…¶èƒ½å¤ŸåŒ¹é…æ‰€è§£æçš„å‘½ä»¤è¡Œçš„å¤šä¸ªå‚æ•°ã€‚æ ¹æ®éœ€è¦æˆ–æœŸæœ›çš„å‚æ•°ä¸ªæ•°ï¼Œè®¾ç½®&lt;em&gt;nargs&lt;/em&gt;ä¸ºè¿™äº›æ ‡è¯†å€¼ä¹‹ä¸€ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;å€¼  å«ä¹‰
N   å‚æ•°çš„ç»å¯¹ä¸ªæ•°ï¼ˆä¾‹å¦‚ï¼š3ï¼‰
?   0æˆ–1ä¸ªå‚æ•°
*   0æˆ–æ‰€æœ‰å‚æ•°
+   æ‰€æœ‰ï¼Œå¹¶ä¸”è‡³å°‘ä¸€ä¸ªå‚æ•°
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser()

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--three&amp;#39;&lt;/span&gt;, nargs=3)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--optional&amp;#39;&lt;/span&gt;, nargs=&lt;span style="color: #a31515"&gt;&amp;#39;?&amp;#39;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--all&amp;#39;&lt;/span&gt;, nargs=&lt;span style="color: #a31515"&gt;&amp;#39;*&amp;#39;&lt;/span&gt;, dest=&lt;span style="color: #a31515"&gt;&amp;#39;all&amp;#39;&lt;/span&gt;)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--one-or-more&amp;#39;&lt;/span&gt;, nargs=&lt;span style="color: #a31515"&gt;&amp;#39;+&amp;#39;&lt;/span&gt;)

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è§£æå™¨å¼ºåˆ¶æ‰§è¡Œå‚æ•°è®¡æ•°æŒ‡ä»¤ï¼Œç”Ÿæˆä¸€ä¸ªç²¾ç¡®çš„è¯­æ³•å›¾ä½œä¸ºå‘½ä»¤å¸®åŠ©æ–‡æœ¬çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_nargs.py -h

usage: argparse_nargs.py [-h] [--three THREE THREE THREE]
                     [--optional [OPTIONAL]] [--all [ALL [ALL ...]]]
                     [--one-or-more ONE_OR_MORE [ONE_OR_MORE ...]]

optional arguments:
-h, --help            show this help message and exit
--three THREE THREE THREE
--optional [OPTIONAL]
--all [ALL [ALL ...]]
--one-or-more ONE_OR_MORE [ONE_OR_MORE ...]

$ python argparse_nargs.py

Namespace(all=None, one_or_more=None, optional=None, three=None)

$ python argparse_nargs.py --three

usage: argparse_nargs.py [-h] [--three THREE THREE THREE]
                     [--optional [OPTIONAL]] [--all [ALL [ALL ...]]]
                     [--one-or-more ONE_OR_MORE [ONE_OR_MORE ...]]
argparse_nargs.py: error: argument --three: expected 3 argument(s)

$ python argparse_nargs.py --three a b c

Namespace(all=None, one_or_more=None, optional=None, three=[&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;])

$ python argparse_nargs.py --optional

Namespace(all=None, one_or_more=None, optional=None, three=None)

$ python argparse_nargs.py --optional with_value

Namespace(all=None, one_or_more=None, optional=&amp;#39;with_value&amp;#39;, three=None)

$ python argparse_nargs.py --all with multiple values

Namespace(all=[&amp;#39;with&amp;#39;, &amp;#39;multiple&amp;#39;, &amp;#39;values&amp;#39;], one_or_more=None, optional=None, three=None)

$ python argparse_nargs.py --one-or-more with_value

Namespace(all=None, one_or_more=[&amp;#39;with_value&amp;#39;], optional=None, three=None)

$ python argparse_nargs.py --one-or-more with multiple values

Namespace(all=None, one_or_more=[&amp;#39;with&amp;#39;, &amp;#39;multiple&amp;#39;, &amp;#39;values&amp;#39;], optional=None, three=None)

$ python argparse_nargs.py --one-or-more

usage: argparse_nargs.py [-h] [--three THREE THREE THREE]
                     [--optional [OPTIONAL]] [--all [ALL [ALL ...]]]
                     [--one-or-more ONE_OR_MORE [ONE_OR_MORE ...]]
argparse_nargs.py: error: argument --one-or-more: expected at least one argument
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å‚æ•°ç±»å‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;argparseå°†æ‰€æœ‰å‚æ•°å€¼éƒ½çœ‹ä½œæ˜¯å­—ç¬¦ä¸²ï¼Œé™¤éä½ å‘Šè¯‰å®ƒå°†å­—ç¬¦ä¸²è½¬æ¢æˆå¦ä¸€ç§æ•°æ®ç±»å‹ã€‚&lt;strong&gt;add_argument()&lt;/strong&gt;çš„&lt;em&gt;type&lt;/em&gt;å‚æ•°ä»¥ä¸€ä¸ªè½¬æ¢å‡½æ•°ä½œä¸ºå€¼ï¼Œè¢«&lt;strong&gt;ArgumentParser&lt;/strong&gt;ç”¨æ¥å°†å‚æ•°å€¼ä»ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆå¦ä¸€ç§æ•°æ®ç±»å‹ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser()

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-i&amp;#39;&lt;/span&gt;, type=int)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-f&amp;#39;&lt;/span&gt;, type=float)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--file&amp;#39;&lt;/span&gt;, type=file)

&lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
    print parser.parse_args()
&lt;span style="color: #0000ff"&gt;except&lt;/span&gt; IOError, msg:
    parser.error(str(msg))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»»ä½•éœ€è¦å•ä¸ªå­—ç¬¦ä¸²å‚æ•°çš„å¯è°ƒç”¨å¯¹è±¡éƒ½å¯ä»¥ä¼ é€’ç»™&lt;em&gt;type&lt;/em&gt;ï¼ŒåŒ…å«å†…ç½®ç±»å‹å¦‚&lt;strong&gt;int()&lt;/strong&gt;, &lt;strong&gt;float()&lt;/strong&gt;, ä»¥åŠ&lt;strong&gt;file()&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_type.py -i 1

Namespace(f=None, file=None, i=1)

$ python argparse_type.py -f 3.14

Namespace(f=3.14, file=None, i=None)

$ python argparse_type.py --file argparse_type.py

Namespace(f=None, file=&amp;lt;open file &amp;#39;argparse_type.py&amp;#39;, mode &amp;#39;r&amp;#39; at 0x1004de270&amp;gt;, i=None)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœç±»å‹è½¬æ¢å¤±è´¥ï¼Œargparseä¼šå¼•å‘ä¸€ä¸ªå¼‚å¸¸ã€‚&lt;em&gt;TypeError&lt;/em&gt;å’Œ&lt;em&gt;ValueError&lt;/em&gt;ä¼šè¢«è‡ªåŠ¨æ•è·ï¼Œå¹¶ä¸ºç”¨æˆ·è½¬æ¢ä¸ºä¸€ä¸ªç®€å•çš„é”™è¯¯æ¶ˆæ¯ã€‚å…¶ä»–å¼‚å¸¸ï¼Œå¦‚ä¸‹é¢ä¸€ä¸ªä¾‹å­ä¸­è¾“å…¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™å…¶&lt;em&gt;IOError&lt;/em&gt;å¿…é¡»ç”±è°ƒç”¨è€…æ¥å¤„ç†ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_type.py -i a

usage: argparse_type.py [-h] [-i I] [-f F] [--file FILE]
argparse_type.py: error: argument -i: invalid int value: &amp;#39;a&amp;#39;

$ python argparse_type.py -f 3.14.15

usage: argparse_type.py [-h] [-i I] [-f F] [--file FILE]
argparse_type.py: error: argument -f: invalid float value: &amp;#39;3.14.15&amp;#39;

$ python argparse_type.py --file does_not_exist.txt

usage: argparse_type.py [-h] [-i I] [-f F] [--file FILE]
argparse_type.py: error: [Errno 2] No such file or directory: &amp;#39;does_not_exist.txt&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¦æƒ³å°†ä¸€ä¸ªè¾“å…¥å‚æ•°é™åˆ¶ä¸ºä¸€ä¸ªé¢„å®šä¹‰é›†ä¸­çš„æŸä¸ªå€¼ï¼Œåˆ™ä½¿ç”¨&lt;em&gt;choices&lt;/em&gt;å‚æ•°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser()

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;--mode&amp;#39;&lt;/span&gt;, choices=(&lt;span style="color: #a31515"&gt;&amp;#39;read-only&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;read-write&amp;#39;&lt;/span&gt;))

print parser.parse_args()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœ&lt;code&gt;--mode&lt;/code&gt;çš„å‚æ•°å€¼ä¸æ˜¯æ‰€å…è®¸çš„å€¼ä¸­çš„ä¸€ä¸ªï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯å¹¶åœæ­¢æ‰§è¡Œã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_choices.py -h

usage: argparse_choices.py [-h] [--mode {read-only,read-write}]

optional arguments:
-h, --help            show this help message and exit
--mode {read-only,read-write}

$ python argparse_choices.py --mode read-only

Namespace(mode=&amp;#39;read-only&amp;#39;)

$ python argparse_choices.py --mode invalid

usage: argparse_choices.py [-h] [--mode {read-only,read-write}]
argparse_choices.py: error: argument --mode: invalid choice: &amp;#39;invalid&amp;#39;
(choose from &amp;#39;read-only&amp;#39;, &amp;#39;read-write&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ–‡ä»¶å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è™½ç„¶&lt;strong&gt;æ–‡ä»¶&lt;/strong&gt;å¯¹è±¡å¯ä»¥å•ä¸ªå­—ç¬¦ä¸²å‚æ•°å€¼æ¥å®ä¾‹åŒ–ï¼Œä½†å¹¶ä¸å…è®¸ä½ æŒ‡å®šè®¿é—®æ¨¡å¼ã€‚&lt;strong&gt;FileType&lt;/strong&gt;è®©ä½ èƒ½å¤Ÿæ›´åŠ çµæ´»åœ°æŒ‡å®šæŸä¸ªå‚æ•°åº”è¯¥æ˜¯ä¸ªæ–‡ä»¶ï¼ŒåŒ…æ‹¬å…¶è®¿é—®æ¨¡å¼å’Œç¼“å†²åŒºå¤§å°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

parser = argparse.ArgumentParser()

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-i&amp;#39;&lt;/span&gt;, metavar=&lt;span style="color: #a31515"&gt;&amp;#39;in-file&amp;#39;&lt;/span&gt;, type=argparse.FileType(&lt;span style="color: #a31515"&gt;&amp;#39;rt&amp;#39;&lt;/span&gt;))
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-o&amp;#39;&lt;/span&gt;, metavar=&lt;span style="color: #a31515"&gt;&amp;#39;out-file&amp;#39;&lt;/span&gt;, type=argparse.FileType(&lt;span style="color: #a31515"&gt;&amp;#39;wt&amp;#39;&lt;/span&gt;))

&lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
    results = parser.parse_args()
    print &lt;span style="color: #a31515"&gt;&amp;#39;Input file:&amp;#39;&lt;/span&gt;, results.i
    print &lt;span style="color: #a31515"&gt;&amp;#39;Output file:&amp;#39;&lt;/span&gt;, results.o
&lt;span style="color: #0000ff"&gt;except&lt;/span&gt; IOError, msg:
    parser.error(str(msg))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šä¾‹ä¸­ä¸å‚æ•°åå…³è”çš„å€¼æ˜¯ä¸€ä¸ªæ‰“å¼€æ–‡ä»¶å¥æŸ„ã€‚åœ¨ä½¿ç”¨å®Œè¯¥æ–‡ä»¶ååº”è‡ªå·±è´Ÿè´£å…³é—­è¯¥æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_FileType.py -h

usage: argparse_FileType.py [-h] [-i in-file] [-o out-file]

optional arguments:
-h, --help   show this help message and exit
-i in-file
-o out-file

$ python argparse_FileType.py -i argparse_FileType.py -o temporary_file.\
txt

Input file: &amp;lt;open file &amp;#39;argparse_FileType.py&amp;#39;, mode &amp;#39;rt&amp;#39; at 0x1004de270&amp;gt;
Output file: &amp;lt;open file &amp;#39;temporary_file.txt&amp;#39;, mode &amp;#39;wt&amp;#39; at 0x1004de300&amp;gt;

$ python argparse_FileType.py -i no_such_file.txt

usage: argparse_FileType.py [-h] [-i in-file] [-o out-file]
argparse_FileType.py: error: argument -i: can&amp;#39;t open &amp;#39;no_such_file.txt&amp;#39;: [Errno 2] No such file or directory: &amp;#39;no_such_file.txt&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è‡ªå®šä¹‰åŠ¨ä½œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº†å‰é¢æè¿°çš„å†…ç½®åŠ¨ä½œä¹‹å¤–ï¼Œä½ ä¹Ÿå¯ä»¥æä¾›ä¸€ä¸ªå®ç°äº†Action APIçš„å¯¹è±¡æ¥è‡ªå®šä¹‰åŠ¨ä½œã€‚ä½œä¸º&lt;em&gt;action&lt;/em&gt;ä¼ é€’ç»™&lt;strong&gt;add_argument()&lt;/strong&gt;çš„å¯¹è±¡åº”æ¥å—æè¿°æ‰€å®šä¹‰å½¢å‚çš„å®å‚ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œä½œä¸º&lt;em&gt;parser&lt;/em&gt;çš„å®å‚æ¥å¤„ç†å½¢å‚ï¼Œ&lt;em&gt;namespace&lt;/em&gt;å­˜æ”¾è§£æçš„ç»“æœã€å‚æ•°å€¼ï¼Œä»¥åŠè§¦å‘åŠ¨ä½œçš„&lt;em&gt;option_string&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;p&gt;argparseæä¾›äº†ä¸€ä¸ª&lt;strong&gt;Action&lt;/strong&gt;ç±»ä½œä¸ºè¦å®šä¹‰çš„æ–°åŠ¨ä½œçš„åŸºç±»ã€‚æ„é€ æ–¹æ³•æ˜¯å¤„ç†å‚æ•°å®šä¹‰çš„ï¼Œæ‰€ä»¥ä½ åªè¦åœ¨å­ç±»ä¸­è¦†ç›–&lt;strong&gt;&lt;strong&gt;call&lt;/strong&gt;()&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; argparse

&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;CustomAction&lt;/span&gt;(argparse.Action):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __init__(self,
            option_strings,
            dest,
            nargs=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;,
            const=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;,
            default=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;,
            type=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;,
            choices=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;,
            required=&lt;span style="color: #0000ff"&gt;False&lt;/span&gt;,
            help=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;,
            metavar=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;):
        argparse.Action.__init__(self,
                option_strings=option_strings,
                dest=dest,
                nargs=nargs,
                const=const,
                default=default,
                type=type,
                choices=choices,
                required=required,
                help=help,
                metavar=metavar)
        print
        print &lt;span style="color: #a31515"&gt;&amp;#39;Initializing CustomAction&amp;#39;&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; name,value &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; sorted(locals().items()):
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; name == &lt;span style="color: #a31515"&gt;&amp;#39;self&amp;#39;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;or&lt;/span&gt; value &lt;span style="color: #0000ff"&gt;is&lt;/span&gt; &lt;span style="color: #0000ff"&gt;None&lt;/span&gt;:
                &lt;span style="color: #0000ff"&gt;continue&lt;/span&gt;
            print &lt;span style="color: #a31515"&gt;&amp;#39;  %s = %r&amp;#39;&lt;/span&gt; % (name, value)
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __call__(self, parser, namespace, values, option_string=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;):
        print
        print &lt;span style="color: #a31515"&gt;&amp;#39;Processing CustomAction for &amp;quot;%s&amp;quot;&amp;#39;&lt;/span&gt; % self.dest
        print &lt;span style="color: #a31515"&gt;&amp;#39;  parser = %s&amp;#39;&lt;/span&gt; % id(parser)
        print &lt;span style="color: #a31515"&gt;&amp;#39;  values = %r&amp;#39;&lt;/span&gt; % values
        print &lt;span style="color: #a31515"&gt;&amp;#39;  option_string = %r&amp;#39;&lt;/span&gt; % option_string

        &lt;span style="color: #008000"&gt;# Do some arbitrary processing of the input values&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; isinstance(values, list):
            values = [ v.upper() &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; v &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; values ]
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
            values = values.upper()
        &lt;span style="color: #008000"&gt;# Save the results in the namespace using the destination&lt;/span&gt;
        &lt;span style="color: #008000"&gt;# variable given to our constructor.&lt;/span&gt;
        setattr(namespace, self.dest, values)

parser = argparse.ArgumentParser()

parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, action=CustomAction)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;-m&amp;#39;&lt;/span&gt;, nargs=&lt;span style="color: #a31515"&gt;&amp;#39;*&amp;#39;&lt;/span&gt;, action=CustomAction)
parser.add_argument(&lt;span style="color: #a31515"&gt;&amp;#39;positional&amp;#39;&lt;/span&gt;, action=CustomAction)

results = parser.parse_args([&lt;span style="color: #a31515"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;value&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;-m&amp;#39;&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;multi-value&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;positional-value&amp;#39;&lt;/span&gt;])
print
print results
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;values&lt;/em&gt;çš„ç±»å‹å–å†³äº&lt;em&gt;nargs&lt;/em&gt;çš„å€¼ã€‚å¦‚æœè¯¥å‚æ•°å…è®¸å¤šä¸ªå€¼ï¼Œåˆ™&lt;em&gt;values&lt;/em&gt;ä¼šæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå³ä½¿å…¶ä»…åŒ…å«ä¸€ä¸ªåˆ—è¡¨é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;option_string&lt;/em&gt;çš„å€¼ä¹Ÿå–å†³äºåŸæœ‰çš„å‚æ•°è§„èŒƒã€‚å¯¹äºä½ç½®ç›¸å…³çš„ã€å¿…éœ€çš„å‚æ•°ï¼Œ&lt;em&gt;option_string&lt;/em&gt;å§‹ç»ˆä¸º&lt;strong&gt;None&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ python argparse_custom_action.py

Initializing CustomAction
    dest = &amp;#39;a&amp;#39;
    option_strings = [&amp;#39;-a&amp;#39;]
    required = False

Initializing CustomAction
    dest = &amp;#39;m&amp;#39;
    nargs = &amp;#39;*&amp;#39;
    option_strings = [&amp;#39;-m&amp;#39;]
    required = False

Initializing CustomAction
    dest = &amp;#39;positional&amp;#39;
    option_strings = []
    required = True

Processing CustomAction for &amp;quot;a&amp;quot;
    parser = 4299616464
    values = &amp;#39;value&amp;#39;
    option_string = &amp;#39;-a&amp;#39;

Processing CustomAction for &amp;quot;m&amp;quot;
    parser = 4299616464
    values = [&amp;#39;multi-value&amp;#39;]
    option_string = &amp;#39;-m&amp;#39;

Processing CustomAction for &amp;quot;positional&amp;quot;
    parser = 4299616464
    values = &amp;#39;positional-value&amp;#39;
    option_string = None

Namespace(a=&amp;#39;VALUE&amp;#39;, m=[&amp;#39;MULTI-VALUE&amp;#39;], positional=&amp;#39;POSITIONAL-VALUE&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category><category term="ç¿»è¯‘"></category></entry><entry><title>è¯»æ–‡ç¬”è®°ï¼šWhat Powers Instagram</title><link href="http://youngsterxyf.github.io/2013/03/27/what-powers-instagram/" rel="alternate"></link><published>2013-03-27T00:00:00+08:00</published><updated>2013-03-27T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-03-27:/2013/03/27/what-powers-instagram/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://instagram-engineering.tumblr.com/post/13649370142/what-powers-instagram-hundreds-of-instances-dozens-of"&gt;What Powers Instagram: Hundreds of Instances, Dozens of Technologies&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è¯¥æ–‡ä»å¤šä¸ªæ–¹é¢ä»‹ç»Instagramæ•´ä¸ªç³»ç»Ÿæ ˆ(stack)çš„ç»„æˆï¼Œç½—åˆ—æ‰€ä½¿ç”¨çš„ç»„ä»¶ã€‚æˆ‘è§‰å¾—é‡è¦çš„ä¸æ˜¯ç”¨äº†å“ªäº›ç»„ä»¶å’Œå·¥å…· â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://instagram-engineering.tumblr.com/post/13649370142/what-powers-instagram-hundreds-of-instances-dozens-of"&gt;What Powers Instagram: Hundreds of Instances, Dozens of Technologies&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è¯¥æ–‡ä»å¤šä¸ªæ–¹é¢ä»‹ç»Instagramæ•´ä¸ªç³»ç»Ÿæ ˆ(stack)çš„ç»„æˆï¼Œç½—åˆ—æ‰€ä½¿ç”¨çš„ç»„ä»¶ã€‚æˆ‘è§‰å¾—é‡è¦çš„ä¸æ˜¯ç”¨äº†å“ªäº›ç»„ä»¶å’Œå·¥å…·ï¼Œè€Œæ˜¯åœ¨æ„å»ºä¸€ä¸ªç³»ç»Ÿæ—¶ï¼Œåº”æ³¨æ„å“ªäº›é—®é¢˜ï¼Œä»å“ªäº›å±‚é¢å¯¹ç³»ç»Ÿè¿›è¡Œä¼˜åŒ–ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æ„å»ºç³»ç»Ÿçš„æ ¸å¿ƒåŸåˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¿æŒç®€å•&lt;/li&gt;
&lt;li&gt;ä¸é‡å¤é€ è½®å­&lt;/li&gt;
&lt;li&gt;å°½å¯èƒ½ä½¿ç”¨ç»å®è·µéªŒè¯å¯é çš„æŠ€æœ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;OS/è™šæ‹Ÿä¸»æœº&lt;/h3&gt;
&lt;p&gt;åœ¨Amazon EC2ä¸Šè¿è¡ŒUbuntu Linux 11.04ã€‚ä¹‹å‰çš„Ubuntuç‰ˆæœ¬åœ¨é«˜æµé‡çš„æƒ…å†µä¼šäº§ç”Ÿå„ç§ä¸å¯é¢„æ–™çš„å†»ç»“äº‹ä»¶ï¼ˆfreezing episodesï¼‰ã€‚&lt;/p&gt;
&lt;h3&gt;è´Ÿè½½å‡è¡¡&lt;/h3&gt;
&lt;p&gt;å¯¹Instagramçš„æ¯ä¸ªè¯·æ±‚éƒ½ä¼šç»è¿‡è´Ÿè½½å‡è¡¡æœºå™¨ã€‚ä»¥å‰ä½¿ç”¨ä¸¤å°&lt;strong&gt;Nginx&lt;/strong&gt;æœºå™¨ï¼Œå¹¶åœ¨ä¸¤è€…ä¹‹é—´ä½¿ç”¨DNSè½®å¾ªï¼ˆRound-Robinï¼‰ã€‚
è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯å½“æœ‰æœºå™¨é€€å‡ºä½¿ç”¨æ—¶DNSéœ€è¦èŠ±äº›æ—¶é—´æ¥æ›´æ–°ã€‚åæ¥ä½¿ç”¨Amazonçš„Elasticè´Ÿè½½å‡è¡¡å™¨ï¼Œå¹¶åœ¨ELBå±‚é¢ç»ˆæ­¢SSLï¼ˆæ³¨ï¼šä¸å¤ªæ‡‚è¿™ä¸ªï¼‰ï¼Œ
ä»è€Œé™ä½nginxçš„CPUè´Ÿè½½ã€‚&lt;/p&gt;
&lt;h3&gt;åº”ç”¨æœåŠ¡å™¨&lt;/h3&gt;
&lt;p&gt;Djangoï¼›å¤šä¸ªåº”ç”¨æœåŠ¡å™¨ï¼Œç”±äºæ— çŠ¶æ€ï¼Œæ‰€ä»¥å®¹æ˜“æ¨ªå‘æ‰©å±•ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;a href="http://gunicorn.org/"&gt;Gunicorn&lt;/a&gt;ä½œä¸ºWSGIæœåŠ¡å™¨ã€‚æ›¾ä½¿ç”¨mod_wsgiå’ŒApacheï¼Œä½†Gunicornæ›´å®¹æ˜“é…ç½®ï¼ŒCPUè´Ÿè½½æ›´å°ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;a href="http://fabric.readthedocs.org/en/1.3.3/index.html"&gt;Fabric&lt;/a&gt;æ¥ä¸€æ¬¡æ€§åœ¨å¤šä¸ªè™šæ‹Ÿä¸»æœºå®ä¾‹ä¸Šè¿è¡Œå‘½ä»¤ï¼ˆæ¯”å¦‚éƒ¨ç½²ä»£ç ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;æ•°æ®å­˜å‚¨&lt;/h3&gt;
&lt;p&gt;å¤§å¤šæ•°æ•°æ®ï¼ˆç”¨æˆ·ä¿¡æ¯ã€å›¾ç‰‡å…ƒæ•°æ®ã€æ ‡ç­¾ç­‰ï¼‰éƒ½å­˜åœ¨PostgreSQLä¸­ã€‚å°†æ•°æ®åˆ‡åˆ†åˆ°å¤šä¸ªä¸»æœºå®ä¾‹ä¸Šï¼ˆåˆ†åŒºé›†ç¾¤shard clusterï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;a href="http://hoytech.com/vmtouch/"&gt;vmtouch&lt;/a&gt;æ¥è¯Šæ–­ä¸æ§åˆ¶æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼ˆå³å“ªäº›æ•°æ®åœ¨å†…å­˜ä¸­ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰PostgreSQLå®ä¾‹éƒ½ä½¿ç”¨æµå¼å¤åˆ¶ä»¥ä¸»-å‰¯æœ¬é…ç½®æ–¹å¼è¿è¡Œï¼Œå¹¶ä½¿ç”¨EBSå¿«ç…§é¢‘ç¹å¤‡ä»½ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;a href="http://pgfoundry.org/projects/pgbouncer/"&gt;Pgbouncer&lt;/a&gt;ä½œä¸ºPostgreSQLçš„è¿æ¥æ± ã€‚&lt;/p&gt;
&lt;p&gt;å›¾ç‰‡ç›´æ¥å­˜å‚¨åœ¨Amazon S3ä¸Šã€‚ä½¿ç”¨Amazon CloudFrontä½œä¸ºCDNã€‚&lt;/p&gt;
&lt;p&gt;å¹¿æ³›ä½¿ç”¨&lt;a href="http://redis.io/"&gt;Redis&lt;/a&gt;ï¼Œé©±åŠ¨ä¸»è¦çš„æ•°æ®æº(main feed)ã€æ´»åŠ¨æ•°æ®æº(activity feed)ã€ä¼šè¯ç³»ç»Ÿï¼ˆ&lt;a href="https://gist.github.com/mikeyk/910392"&gt;Instagramçš„Djangoä¼šè¯åç«¯&lt;/a&gt;ï¼‰ã€‚ä¹Ÿä»¥ä¸»-å‰¯æœ¬è®¾ç½®è¿è¡ŒRedisï¼Œå‰¯æœ¬æœºå™¨ä¸æ–­åœ°å°†æ•°æ®åº“ä¿å­˜åˆ°ç£ç›˜ï¼Œå¹¶ä½¿ç”¨EBSå¿«ç…§æ¥å¤‡ä»½è¿™äº›DBè½¬å‚¨æ•°æ®ã€‚å› ä¸ºRedisæ”¯æŒå†™å‰¯æœ¬ï¼Œæ‰€ä»¥åœ¨å¤šå°Redisæœºå™¨ä¹‹é—´è¿›è¡Œåœ¨çº¿æ•…éšœè½¬ç§»ï¼ˆonline failoverï¼‰éå¸¸å®¹æ˜“ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨Memcachedåšç¼“å­˜ï¼Œé€šè¿‡pylibmcå’Œlibmemcachedè¿æ¥memcachedã€‚&lt;/p&gt;
&lt;h3&gt;ä»»åŠ¡é˜Ÿåˆ—ä¸æ¨é€é€šçŸ¥&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿï¼š&lt;a href="http://gearman.org/"&gt;Gearman&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æ¨é€é€šçŸ¥ï¼š&lt;a href="https://github.com/samuraisam/pyapns"&gt;pyapns&lt;/a&gt;ï¼Œæ€§ä»·æ¯”é«˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ç›‘æ§&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;a href="http://munin-monitoring.org/"&gt;Munin&lt;/a&gt;ä¸ºæ•´ä¸ªç³»ç»Ÿçš„å„ç§æŒ‡æ ‡ç»˜åˆ¶å›¾è¡¨ï¼Œå¦‚æœæŸäº›æŒ‡æ ‡è¶…å‡ºäº†å¸¸è§„èŒƒå›´ä¼šæé†’ç®¡ç†å‘˜ã€‚åŸºäº&lt;a href="http://samuelks.com/python-munin/"&gt;Python-Munin&lt;/a&gt;ç¼–å†™Muninæ’ä»¶ä¸ºéç³»ç»Ÿçº§çš„æŒ‡æ ‡ç»˜åˆ¶å›¾è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;a href="http://pingdom.com/"&gt;Pingdom&lt;/a&gt;å¯¹æœåŠ¡è¿›è¡Œå¤–éƒ¨ç›‘æ§ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;a href="http://pagerduty.com/"&gt;PagerDuty&lt;/a&gt;æ¥å¤„ç†é€šçŸ¥å’Œäº‹ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;a href="https://pypi.python.org/pypi/django-sentry"&gt;Sentry&lt;/a&gt;æ¥è®°å½•Pythoné”™è¯¯æŠ¥å‘Šï¼Œè¿™æ ·ä»»ä½•æ—¶å€™éƒ½å¯ä»¥ç™»å½•ç³»ç»Ÿï¼ˆå®æ—¶åœ°ï¼‰çœ‹åˆ°ç³»ç»Ÿä¸­æ­£åœ¨å‘ç”Ÿä»€ä¹ˆé”™è¯¯ã€‚&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category></entry><entry><title>å­¦ä¹ JavaScript - æˆ‘çš„ç»éªŒä¸å»ºè®®ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/03/25/learning-js/" rel="alternate"></link><published>2013-03-25T00:00:00+08:00</published><updated>2013-03-25T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-03-25:/2013/03/25/learning-js/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://sivers.org/learn-js"&gt;learning JavaScript - my experience and advice&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è‡ªä»æˆ‘æ›¾&lt;a href="http://sivers.org/os"&gt;å‡ &lt;/a&gt;&lt;a href="http://sivers.org/srs"&gt;æ¬¡&lt;/a&gt;&lt;a href="http://sivers.org/prog"&gt;æåˆ°&lt;/a&gt;è‡ªå·±åœ¨åˆšè¿‡å»çš„å‡ ä¸ªæœˆä¸­å­¦ä¹ äº†JavaScriptï¼Œå¾ˆå¤šäººå°±å‘emailç»™æˆ‘è¯¢é—®æˆ‘æ˜¯å¦‚ä½•å­¦ä¹ JavaScriptçš„ä»¥åŠæ¨èå¦‚ä½•å­¦ä¹ ã€‚ä»¥ä¸‹å°±æ˜¯æˆ‘çš„ç»éªŒå’Œæœ€ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://sivers.org/learn-js"&gt;learning JavaScript - my experience and advice&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è‡ªä»æˆ‘æ›¾&lt;a href="http://sivers.org/os"&gt;å‡ &lt;/a&gt;&lt;a href="http://sivers.org/srs"&gt;æ¬¡&lt;/a&gt;&lt;a href="http://sivers.org/prog"&gt;æåˆ°&lt;/a&gt;è‡ªå·±åœ¨åˆšè¿‡å»çš„å‡ ä¸ªæœˆä¸­å­¦ä¹ äº†JavaScriptï¼Œå¾ˆå¤šäººå°±å‘emailç»™æˆ‘è¯¢é—®æˆ‘æ˜¯å¦‚ä½•å­¦ä¹ JavaScriptçš„ä»¥åŠæ¨èå¦‚ä½•å­¦ä¹ ã€‚ä»¥ä¸‹å°±æ˜¯æˆ‘çš„ç»éªŒå’Œæœ€ä½³å»ºè®®ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šæˆ‘æ˜¯æƒ³çœŸæ­£åœ°å­¦ä¹ JavaScript---ä¸æ˜¯æ·å¾„ï¼Œæˆ–å¿«é€ŸæŠ€å·§ï¼Œæˆ–å…ƒå·¥å…·ï¼ˆmeta-toolsï¼‰ä¹‹ç±»è®©æˆ‘ä¸å¿…è¦å­¦ä¹ JavaScriptçš„ä¸œè¥¿ã€‚æˆ‘æƒ³å­¦ä¹ ã€æŒæ¡ã€é˜…è¯»ã€ç†è§£ä»¥åŠè®°ä½JavaScriptè¿™é—¨è¯­è¨€ï¼Œä»è€Œåœ¨ä»¥åçš„æ—¥å­é‡Œèƒ½å¤Ÿç†è§£æ‰€æœ‰å…¶ä»–ä»¥JavaScriptç¼–å†™çš„å¾ˆé…·çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆ---å¾ˆå¤šäººå¯èƒ½ä¼šå‘Šè¯‰ä½ å»é˜…è¯»&lt;a href="http://shop.oreilly.com/product/9780596517748.do"&gt;Douglas Crockfordçš„è‘—ä½œã€ŠJavaScriptè¯­è¨€ç²¾ç²¹ã€‹&lt;/a&gt;ã€‚ä½†å½“æˆ‘å¼€å§‹é˜…è¯»è¿™æœ¬ä¹¦æ—¶ï¼Œæ‰å‘ç°å®ƒæ˜¯å¦‚æ­¤çš„ç´§å‡‘ç®€æ´ä»¥è‡´æˆ‘æ ¹æœ¬ä¸çŸ¥é“å®ƒåœ¨è¯´å•¥ï¼&lt;/p&gt;
&lt;p&gt;ä½ çŸ¥é“ä½•æ—¶ä¸€ä¸ªä¸“å®¶æ˜¯åœ¨è°ˆè®ºè‡ªå·±çš„é¢†åŸŸï¼Œå°±ä¸çŸ¥é“å¦‚ä½•ä¸ºå…¶ä»–äººåšç‚¹ç®€åŒ–ä¹ˆï¼Ÿæ„Ÿè§‰è¿™æœ¬ä¹¦å¯¹äºé‚£äº›å·²æœ‰20å¹´çš„Cã€Javaæˆ–C++ç¼–ç¨‹ç»éªŒæ¥è¯´éå¸¸å®Œç¾ï¼Œä»–ä»¬åªéœ€è¦å¿«é€Ÿæ¦‚è§ˆå¿…çŸ¥çš„JavaScriptçŸ¥è¯†ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å®ƒçœŸçš„ä¸æ˜¯è¦æ•™ä½ å­¦ä¹ JavaScriptã€‚å®ƒä¸ä¼šæŒ‡å¯¼ä½ å­¦ä¹ ä»»ä½•ä¸œè¥¿ã€‚å› æ­¤æˆ‘å»ºè®®å…ˆè·³è¿‡è¿™æœ¬ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸åï¼Œä»&lt;a href="http://eloquentjavascript.net/"&gt;Marijn Haverbekeçš„è‘—ä½œã€ŠJavaScriptç¼–ç¨‹ç²¾è§£ã€‹&lt;/a&gt;å¼€å§‹å­¦ä¹ å§ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æœ¬ä¹¦ä¸€å¼€å§‹éå¸¸ç®€å•æ˜“å­¦ï¼Œç®€ç›´æ˜¯å¤ªç®€å•äº†ï¼Œè¿™èƒ½é¼“èˆä½ ï¼Œè®©ä½ è‡ªä¿¡èµ·æ¥ã€‚ä½ å°±èƒ½å¾—æ„æ´‹æ´‹åœ°è¯´â€œè¿™å¾ˆç®€å•å˜›ï¼â€&lt;/p&gt;
&lt;p&gt;&lt;a href="http://eloquentjavascript.net/contents.html"&gt;é˜…è¯»è¿™é‡Œçš„åœ¨çº¿ç‰ˆæœ¬&lt;/a&gt;ï¼Œå› ä¸ºä½ å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•å®éªŒã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œåœ¨è¯»å®Œå‡ ä¸ªç« èŠ‚åï¼Œ&lt;strong&gt;è½¬è€Œé˜…è¯»&lt;/strong&gt;&lt;a href="http://www.wrox.com/WileyCDA/WroxTitle/Professional-JavaScript-for-Web-Developers-3rd-Edition.productCd-1118222199.html"&gt;ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ï¼Œç¬¬ä¸‰ç‰ˆ---Nicholas Zakasè‘—&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€æœ¬ç»ˆææ•™ç¨‹ï¼ŒèŠ±å¾ˆå¤šç¯‡å¹…è¯¦ç»†è§£é‡Šå¤§é‡çŸ¥è¯†ç‚¹ï¼Œè¦†ç›–å‡ ä¹æ‰€æœ‰ä¸œè¥¿ã€‚æ¯ä¸ªç« èŠ‚ä½ éƒ½åº”èŠ±è´¹å‡ ä¸ªå°æ—¶æ¥é˜…è¯»ï¼Œç­‰ä½ è¯»å®Œè¿™æœ¬ä¹¦æ—¶ï¼Œä½ çŸ¥é“çš„ä¹Ÿå°±å’Œå¤§å¤šæ•°è‡ªç§°JavaScriptç¨‹åºå‘˜çš„äººä¸€æ ·å¤šäº†ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰è¶£çš„æ˜¯ï¼Œè¯»å®Œè¿™æœ¬ä¹¦åï¼Œæˆ‘åˆå›è¿‡å¤´æ¥é˜…è¯»&lt;a href="http://shop.oreilly.com/product/9780596517748.do"&gt;ã€ŠJavaScriptè¯­è¨€ç²¾ç²¹ã€‹&lt;/a&gt;ï¼Œç°åœ¨æˆ‘èƒ½ç†è§£ä¹¦ä¸­è®²è¿°çš„ä¸œè¥¿äº†ã€‚ä½†ç”±äº&lt;a href="http://www.wrox.com/WileyCDA/WroxTitle/Professional-JavaScript-for-Web-Developers-3rd-Edition.productCd-1118222199.html"&gt;ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹&lt;/a&gt;ä¸€ä¹¦çš„å†…å®¹æ˜¯å¦‚æ­¤å…¨é¢ï¼Œæ‰€ä»¥ä¹Ÿå°±è¦†ç›–äº†æ‰€æœ‰çš„â€œç²¾ç²¹â€äº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä½ å¿…é¡»è®°ä½ä½ æ­£åœ¨å­¦ä¹ çš„ä¸œè¥¿ï¼Œå› æ­¤æˆ‘å¼ºçƒˆæ¨èä½ è®°ä¸‹å­¦ä¹ çš„æ¯ä¸ªæ–°çŸ¥è¯†ç‚¹ï¼Œæœ€å¥½æ˜¯è®°åœ¨ä¸€ä¸ªæŠ½è®¤å¡ç¨‹åºä¸­ï¼Œ&lt;a href="http://sivers.org/srs"&gt;å°±åƒè¿™æ ·&lt;/a&gt;ã€‚å› ä¸ºè¦å­¦ä¹ å¾ˆå¤šä¸œè¥¿ï¼Œæ‰€ä»¥ä½ å¿…é¡»åœ¨å‡ å‘¨æˆ–å‡ ä¸ªæœˆåæé†’è‡ªå·±å­¦ä¹ è¿‡å“ªäº›ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³é˜…è¯»æ›´å¤šä¹¦ç±æ¥åœ¨å¤§è„‘ä¸­å·©å›ºJavaScriptï¼Œé‚£ç»§ç»­å­¦ä¹ ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://shop.oreilly.com/product/9780596806149.do"&gt;ã€ŠJavaScript Cookbookã€‹ - Shelley Powersè‘—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://effectivejs.com/"&gt;ã€ŠJavaScripté«˜æ•ˆç¼–ç¨‹ã€‹ - David Hermanè‘—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.manning.com/resig/"&gt;ã€ŠJavaScriptå¿è€…çš„ç§˜å¯†ã€‹ - John Resigå’ŒBear Bibeaultè‘—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›ä¹¦éƒ½éå¸¸å¥½ã€‚ä½ ä¼šå‘ç°è‡ªå·±èƒ½æ›´å¿«åœ°é˜…è¯»è¿™äº›ä¹¦ï¼Œå› ä¸ºä½ å·²æ¯”è¾ƒç†Ÿæ‚‰JavaScriptã€‚é˜…è¯»çš„åŒæ—¶æœ€å¥½å†™å†™ä¹¦ä¸­çš„ç¤ºä¾‹ç¨‹åºï¼ŒæŠŠç©æŠŠç©ã€‚&lt;/p&gt;
&lt;h3&gt;é˜…è¯»ä¸€äº›çœŸå®ä¸–ç•Œçš„JavaScriptä»£ç &lt;/h3&gt;
&lt;p&gt;åœ¨å†™äº†ä¸Šåƒé¡µçŸ­å°ç¤ºä¾‹ä»£ç ç‰‡æ®µåï¼Œä½ ä¼šæƒ³çœ‹çœ‹ä¸¤ä¸ªéå¸¸æµè¡Œè€Œå¼ºå¤§çš„JavaScripté¡¹ç›®çš„æºä»£ç ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://underscorejs.org/docs/underscore.html"&gt;Underscore.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://backbonejs.org/docs/backbone.html"&gt;Backbone.js&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½ ä¼šå‘ç°ä¹‹å‰çš„ä¸€åˆ‡éƒ½æ˜¯æœ‰æ„ä¹‰çš„ï¼Œç°åœ¨ä½ èƒ½å¤Ÿé¡ºç•…åœ°é˜…è¯»å’Œç†è§£JavaScriptä»£ç ã€‚&lt;/p&gt;
&lt;h3&gt;ç„¶åæ˜¯jQueryï¼Œä»¥åŠæ›´å¤š...&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://jquery.com/"&gt;jQuery&lt;/a&gt;ç»å¯¹æ˜¯æ— å¤„ä¸åœ¨çš„ï¼Œä½ è¦æƒ³å®Œæ•´åœ°å­¦ä¹ JavaScriptå°±å¿…é¡»å­¦ä¹ å®ƒã€‚&lt;/p&gt;
&lt;p&gt;å­¦ä¹ äº†çº¯JavaScriptå†—é•¿çš„å¤„ç†é—®é¢˜çš„æ–¹å¼ï¼Œä½ ä¼šå¾ˆå–œæ¬¢jQueryæä¾›çš„å¿«æ·æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çœŸçš„å¾ˆå–œæ¬¢&lt;a href="http://www.headfirstlabs.com/books/hfjquery/"&gt;ã€Šæ·±å…¥æµ…å‡ºjQueryã€‹&lt;/a&gt;ä¸€ä¹¦ï¼Œç»å¯¹æ˜¯å‚»ç“œå¼ä¹¦ç±ã€‚è¿™æœ¬ä¹¦éå¸¸ç²¾å½©åœ°å¼•å¯¼ä½ å­¦ä¹ jQueryï¼Œè¾¹å­¦è¾¹åº”ç”¨ä½ å­¦ä¹ è¿‡çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä»ç„¶æ¸´æœ›å­¦ä¹ æ›´å¤šå…³äºJavaScriptçš„ä¸œè¥¿ï¼Œé‚£ä¹ˆæ·±å…¥å­¦ä¹ ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡&lt;a href="http://shop.oreilly.com/product/0636920024309.do"&gt;ã€ŠCoffeeScriptå°ä¹¦ã€‹ - Alex MacCawè‘—&lt;/a&gt;å­¦ä¹ &lt;a href="http://coffeescript.org/"&gt;CoffeeScript&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://javascriptissexy.com/learn-backbone-js-completely/"&gt;æ²¿ç€è¿™æ¡è·¯çº¿&lt;/a&gt;å­¦ä¹ &lt;a href="http://backbonejs.org/"&gt;Backbone.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://javascriptissexy.com/learn-node-js-completely-and-with-confidence/"&gt;æ²¿ç€è¿™æ¡è·¯çº¿&lt;/a&gt;å­¦ä¹ &lt;a href="http://nodejs.org/"&gt;Node.js&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ç„¶åæ”¾ä¸‹ä¹¦ï¼Œå»ä½¿ç”¨JavaScriptå§ï¼&lt;/h3&gt;
&lt;p&gt;ä½ ä¹Ÿè®¸ä¼šæƒ³è¿™è¿˜ç”¨è¯´å—ï¼Œä½†å¦‚æœæˆ‘ä¸è¯´ï¼Œæœ‰äº›äººåˆä¼šæŠ±æ€¨äº†ã€‚å› æ­¤ï¼Œçœ‹çœ‹ä½ ç°æœ‰çš„ç½‘ç«™ï¼Œå»åº”ç”¨ä½ å­¦ä¼šçš„ä¸œè¥¿ã€‚æˆ–è€…ä»å¤´å¼€å§‹åšä¸ªæ–°çš„ç«™ç‚¹ï¼Œå°½å¯èƒ½ç”¨JavaScriptæ¥å®ç°ï¼Œå³ä½¿åªæ˜¯ä¸€ä¸ªå®éªŒæ€§ä½œå“ã€‚&lt;/p&gt;
&lt;h3&gt;å…¶ä»–å»ºè®®ï¼Ÿçœ‹ä½ çš„äº†ï¼&lt;/h3&gt;
&lt;p&gt;å¥½äº†...ä¸Šè¿°å°±æ˜¯æˆ‘çš„ä¸€ç‚¹ç»éªŒï¼Œå¯¹äºç»“æœæˆ‘ç›¸å½“æ»¡æ„ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿè¯·ä½ åœ¨æ­¤åˆ†äº«å…¶ä»–çš„å»ºè®®æˆ–ç»éªŒå§ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="JavaScript"></category><category term="ç¿»è¯‘"></category></entry><entry><title>pip install lxmlç¼–è¯‘å¤±è´¥é—®é¢˜è§£å†³</title><link href="http://youngsterxyf.github.io/2013/03/17/pip-install-lxml-problem/" rel="alternate"></link><published>2013-03-17T00:00:00+08:00</published><updated>2013-03-17T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-03-17:/2013/03/17/pip-install-lxml-problem/</id><summary type="html">&lt;p&gt;ä»¥å‰åœ¨é‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶ï¼Œéƒ½æ˜¯å·æ‡’ä½¿ç”¨&lt;code&gt;sudo apt-get install python-lxml&lt;/code&gt;ï¼ˆDebianç³»çš„Linuxå‘è¡Œç‰ˆï¼‰ç›´æ¥å®‰è£…å·²æ‰“åŒ…å¥½çš„debåŒ…ã€‚ä½†ä¸€æ–¹é¢è¿™æ ·å®‰è£…çš„ä¸æ˜¯æœ€æ–°çš„åº“ï¼Œå¦ä¸€æ–¹é¢ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä»¥å‰åœ¨é‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶ï¼Œéƒ½æ˜¯å·æ‡’ä½¿ç”¨&lt;code&gt;sudo apt-get install python-lxml&lt;/code&gt;ï¼ˆDebianç³»çš„Linuxå‘è¡Œç‰ˆï¼‰ç›´æ¥å®‰è£…å·²æ‰“åŒ…å¥½çš„debåŒ…ã€‚ä½†ä¸€æ–¹é¢è¿™æ ·å®‰è£…çš„ä¸æ˜¯æœ€æ–°çš„åº“ï¼Œå¦ä¸€æ–¹é¢æˆ‘å¸Œæœ›æŠŠæ‰€æœ‰çš„Pythonç¬¬ä¸‰æ–¹åº“éƒ½é™åˆ¶åœ¨virtualenvä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥å¸Œæœ›ä½¿ç”¨&lt;code&gt;pip install lxml&lt;/code&gt;ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å°±å¿…é¡»è§£å†³äº†ã€‚&lt;/p&gt;
&lt;p&gt;Googleäº†ä¸€æŠŠï¼Œåœ¨&lt;a href="http://stackoverflow.com/questions/5178416/pip-install-lxml-error"&gt;è¿™é‡Œ&lt;/a&gt;æ‰¾åˆ°äº†è§£ç­”ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®åœ¨ç¼–è¯‘å¤±è´¥çš„logé‡Œï¼Œå·²ç»æœ‰æç¤ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;make sure the development packages of libxml2 and libxslt are installed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ‰€ä»¥æ­£ç¡®ç¼–è¯‘éœ€å…ˆå®‰è£…libxml2å’Œlibxsltè¿™ä¸¤ä¸ªåŒ…ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt-get install libxml2
sudo apt-get install libxslt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦å¤–ï¼Œè¿˜éœ€å®‰è£…Pythonå¼€å‘åŒ…python-devï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt-get install python-dev
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;OKï¼Œå†æ‰§è¡Œ&lt;code&gt;pip install lxml&lt;/code&gt;å°±æ²¡é—®é¢˜å•¦ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category></entry><entry><title>è¯»ä¹¦ç¬”è®°ï¼šJavaScriptè¯­è¨€ç²¾ç²¹</title><link href="http://youngsterxyf.github.io/2013/03/14/read-js-thegoodparts/" rel="alternate"></link><published>2013-03-14T00:00:00+08:00</published><updated>2013-03-14T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-03-14:/2013/03/14/read-js-thegoodparts/</id><summary type="html">&lt;h2&gt;ç¬¬2ç« ï¼šè¯­æ³•&lt;/h2&gt;
&lt;p&gt;JavaScriptæä¾›ä¸¤ç§æ³¨é‡Šå½¢å¼ï¼Œä¸€ç§æ˜¯ç”¨&lt;code&gt;/* */&lt;/code&gt;åŒ…å›´çš„æ³¨é‡Šå—ï¼Œå¦ä¸€ç§æ˜¯ä»¥&lt;code&gt;//&lt;/code&gt;ä¸ºå¼€å¤´çš„è¡Œæ³¨é‡Šã€‚
å»ºè®®é¿å…ä½¿ç”¨&lt;code&gt;/* */&lt;/code&gt;ï¼Œè€Œç”¨&lt;code&gt;//&lt;/code&gt;æ³¨é‡Šä»£æ›¿å®ƒã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ ‡è¯†ç¬¦ç”±ä¸€ä¸ªå­—æ¯å¼€å¤´ â€¦&lt;/p&gt;</summary><content type="html">&lt;h2&gt;ç¬¬2ç« ï¼šè¯­æ³•&lt;/h2&gt;
&lt;p&gt;JavaScriptæä¾›ä¸¤ç§æ³¨é‡Šå½¢å¼ï¼Œä¸€ç§æ˜¯ç”¨&lt;code&gt;/* */&lt;/code&gt;åŒ…å›´çš„æ³¨é‡Šå—ï¼Œå¦ä¸€ç§æ˜¯ä»¥&lt;code&gt;//&lt;/code&gt;ä¸ºå¼€å¤´çš„è¡Œæ³¨é‡Šã€‚
å»ºè®®é¿å…ä½¿ç”¨&lt;code&gt;/* */&lt;/code&gt;ï¼Œè€Œç”¨&lt;code&gt;//&lt;/code&gt;æ³¨é‡Šä»£æ›¿å®ƒã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ ‡è¯†ç¬¦ç”±ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œå…¶åå¯é€‰æ‹©æ€§åœ°åŠ ä¸Šä¸€ä¸ªæˆ–å¤šä¸ªå­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;JavaScriptåªæœ‰ä¸€ä¸ªæ•°å­—ç±»å‹ã€‚å®ƒåœ¨å†…éƒ¨è¢«è¡¨ç¤ºä¸º64ä½çš„æµ®ç‚¹æ•°ã€‚ä¸å…¶ä»–å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸åŒçš„æ˜¯ï¼Œå®ƒæ²¡æœ‰åˆ†ç¦»å‡ºæ•´æ•°ç±»å‹ï¼Œæ‰€ä»¥1å’Œ1.0çš„å€¼ç›¸åŒã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªæ•°å­—å­—é¢é‡æœ‰æŒ‡æ•°éƒ¨åˆ†ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—é¢é‡çš„å€¼ç­‰äºeä¹‹å‰çš„æ•°å­—ä¸10çš„eä¹‹åæ•°å­—çš„æ¬¡æ–¹ç›¸ä¹˜ã€‚&lt;/p&gt;
&lt;p&gt;NaNæ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªä¸èƒ½äº§ç”Ÿæ­£å¸¸ç»“æœçš„è¿ç®—ç»“æœã€‚NaNä¸ç­‰äºä»»ä½•å€¼ï¼ŒåŒ…æ‹¬å®ƒè‡ªå·±ã€‚å¯ä»¥ç”¨å‡½æ•°isNaN(number)æ£€æµ‹NaN.&lt;/p&gt;
&lt;p&gt;Infinityè¡¨ç¤ºæ‰€æœ‰å¤§äº1.79769313486231570e+308çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;JavaScriptæœ‰ä¸€ä¸ªå¯¹è±¡Mathï¼Œå®ƒåŒ…å«ä¸€å¥—ä½œç”¨äºæ•°å­—çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥è¢«åŒ…åœ¨ä¸€å¯¹å•å¼•å·æˆ–åŒå¼•å·ä¸­ï¼Œå®ƒå¯èƒ½åŒ…å«0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚\ï¼ˆåæ–œæ ï¼‰æ˜¯è½¬ä¹‰å­—ç¬¦ã€‚JavaScriptä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯16ä½çš„ã€‚&lt;/p&gt;
&lt;p&gt;JavaScriptæ²¡æœ‰å­—ç¬¦ç±»å‹ã€‚è¦è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œåªéœ€åˆ›å»ºä»…åŒ…å«ä¸€ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ã€‚ä¸€æ—¦å­—ç¬¦ä¸²è¢«åˆ›å»ºï¼Œå°±æ°¸è¿œæ— æ³•æ”¹å˜å®ƒã€‚ä½†å¯ä»¥é€šè¿‡+è¿ç®—ç¬¦è¿æ¥å…¶ä»–å­—ç¬¦ä¸²æ¥åˆ›å»ºä¸€ä¸ªæ–°å­—ç¬¦ä¸²ã€‚ä¸¤ä¸ªåŒ…å«ç€å®Œå…¨ç›¸åŒçš„å­—ç¬¦ä¸”å­—ç¬¦é¡ºåºä¹Ÿç›¸åŒçš„å­—ç¬¦ä¸²è¢«è®¤ä¸ºæ˜¯ç›¸åŒï¼ˆ===ï¼‰çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä¸€ä¸ªç¼–è¯‘å•å…ƒåŒ…å«ä¸€ç»„å¯æ‰§è¡Œçš„è¯­å¥ã€‚åœ¨Webæµè§ˆå™¨ä¸­ï¼Œæ¯ä¸ª&lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt;æ ‡ç­¾æä¾›ä¸€ä¸ªè¢«ç¼–è¯‘ä¸”ç«‹å³æ‰§è¡Œçš„ç¼–è¯‘å•å…ƒã€‚å› ä¸ºç¼ºå°‘é“¾æ¥å™¨ï¼ŒJavaScriptæŠŠå®ƒä»¬ä¸€èµ·æŠ›åˆ°ä¸€ä¸ªå…¬å…±çš„å…¨å±€åå­—ç©ºé—´ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å½“varè¯­å¥è¢«ç”¨åœ¨å‡½æ•°å†…éƒ¨æ—¶ï¼Œå®ƒå®šä¹‰çš„æ˜¯è¿™ä¸ªå‡½æ•°çš„ç§æœ‰å˜é‡ã€‚ï¼ˆæœ€ä½³å®è·µï¼šå®šä¹‰ä»»ä½•å˜é‡éƒ½ä½¿ç”¨varï¼‰&lt;/p&gt;
&lt;p&gt;&lt;code&gt;for in&lt;/code&gt;è¯­å¥ä¼šæšä¸¾ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§åï¼ˆé”®åï¼‰ã€‚é€šå¸¸éœ€è¦æ£€æµ‹&lt;code&gt;object.hasOwnProperty(variable)&lt;/code&gt;æ¥ç¡®å®šè¿™ä¸ªå±æ€§åæ˜¯è¯¥å¯¹è±¡çš„æˆå‘˜ï¼Œè¿˜æ˜¯æ¥è‡ªäºåŸå‹é“¾ã€‚&lt;/p&gt;
&lt;h2&gt;ç¬¬3ç« ï¼šå¯¹è±¡&lt;/h2&gt;
&lt;p&gt;JavaScriptçš„ç®€å•æ•°æ®ç±»å‹åŒ…æ‹¬æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼ˆtrueå’Œfalseï¼‰ã€nullå€¼å’Œundefinedå€¼ã€‚å…¶ä»–æ‰€æœ‰çš„å€¼éƒ½æ˜¯å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;æ•°å­—ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼â€œè²Œä¼¼â€å¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬æ‹¥æœ‰æ–¹æ³•ï¼Œä½†å®ƒä»¬æ˜¯ä¸å¯å˜çš„ã€‚JavaScriptä¸­çš„å¯¹è±¡æ˜¯å¯å˜çš„é”®æ§é›†åˆï¼ˆkeyed collectionsï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹è±¡æ˜¯å±æ€§çš„å®¹å™¨ï¼Œå…¶ä¸­æ¯ä¸ªå±æ€§éƒ½æ‹¥æœ‰åå­—å’Œå€¼ã€‚å±æ€§çš„åå­—å¯ä»¥æ˜¯åŒ…æ‹¬ç©ºå­—ç¬¦ä¸²åœ¨å†…çš„ä»»æ„å­—ç¬¦ä¸²ã€‚å±æ€§å€¼å¯ä»¥æ˜¯é™¤undefinedå€¼ä¹‹å¤–çš„ä»»ä½•å€¼ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è¦æ£€ç´¢å¯¹è±¡é‡ŒåŒ…å«çš„å€¼ï¼Œå¯ä»¥é‡‡ç”¨åœ¨&lt;code&gt;[]&lt;/code&gt;åç¼€ä¸­æ‹¬ä½ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼çš„æ–¹å¼ã€‚å¦‚æœå­—ç¬¦ä¸²è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ï¼Œè€Œä¸”å®ƒæ˜¯ä¸€ä¸ªåˆæ³•çš„JavaScriptæ ‡è¯†ç¬¦ä¸”ä¸æ˜¯ä¿ç•™å­—ï¼Œåˆ™ä¹Ÿå¯ä»¥ç”¨&lt;code&gt;.&lt;/code&gt;è¡¨ç¤ºæ³•ä»£æ›¿ã€‚ä¼˜ç§€è€ƒè™‘ä½¿ç”¨&lt;code&gt;.&lt;/code&gt;è¡¨ç¤ºæ³•ï¼Œå› ä¸ºå®ƒæ›´ç´§å‡‘ä¸”å¯è¯»æ€§æ›´å¥½ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å°è¯•æ£€ç´¢ä¸€ä¸ªå¹¶ä¸å­˜åœ¨çš„æˆå‘˜å±æ€§çš„å€¼ï¼Œå°†è¿”å›undefinedã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;||&lt;/code&gt;è¿ç®—ç¬¦å¯ä»¥ç”¨æ¥å¡«å……é»˜è®¤å€¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; status = flight.status || &lt;span style="color: #a31515"&gt;&amp;quot;unknow&amp;quot;&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°è¯•ä»undefinedçš„æˆå‘˜å±æ€§ä¸­å–å€¼å°†ä¼šå¯¼è‡´TypeErrorå¼‚å¸¸ã€‚å¯ä»¥é€šè¿‡&lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt;è¿ç®—ç¬¦æ¥é¿å…é”™è¯¯ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;flight.equipment        &lt;span style="color: #008000"&gt;// undefined&lt;/span&gt;
flight.equipment.model      &lt;span style="color: #008000"&gt;// throw &amp;quot;TypeError&amp;quot;&lt;/span&gt;
flight.equipment &amp;amp;&amp;amp; flight.equipment.model  &lt;span style="color: #008000"&gt;// undefined&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;å¯¹è±¡é€šè¿‡å¼•ç”¨æ¥ä¼ é€’ã€‚å®ƒä»¬æ°¸è¿œä¸ä¼šè¢«æ‹·è´ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; x = stooge;
x.nickname = &lt;span style="color: #a31515"&gt;&amp;#39;Curly&amp;#39;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; nick = stooge.nickname;
&lt;span style="color: #008000"&gt;// å› ä¸ºxå’Œstoogeæ˜¯æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥nickä¸º&amp;#39;Curly&amp;#39;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; a = {}, b = {}, c = {};
&lt;span style="color: #008000"&gt;// aã€bå’Œcæ¯ä¸ªéƒ½å¼•ç”¨ä¸€ä¸ªä¸åŒçš„ç©ºå¯¹è±¡&lt;/span&gt;
a = b = c = {};
&lt;span style="color: #008000"&gt;// aã€bå’Œcéƒ½å¼•ç”¨åŒä¸€ä¸ªç©ºå¯¹è±¡&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;æ¯ä¸ªå¯¹è±¡éƒ½è¿æ¥åˆ°ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå¹¶ä¸”å®ƒå¯ä»¥ä»ä¸­ç»§æ‰¿å±æ€§ã€‚æ‰€æœ‰é€šè¿‡å¯¹è±¡å­—é¢é‡åˆ›å»ºçš„å¯¹è±¡éƒ½è¿æ¥åˆ°&lt;code&gt;Object.prototype&lt;/code&gt;è¿™ä¸ªJavaScriptä¸­æ ‡å‡†çš„å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;åŸå‹è¿æ¥åœ¨æ›´æ–°æ—¶æ˜¯ä¸èµ·ä½œç”¨çš„ã€‚å½“å¯¹æŸä¸ªå¯¹è±¡åšå‡ºæ”¹å˜æ—¶ï¼Œä¸ä¼šè§¦åŠè¯¥å¯¹è±¡çš„åŸå‹ã€‚åŸå‹è¿æ¥åªæœ‰åœ¨æ£€ç´¢å€¼çš„æ—¶å€™æ‰è¢«ç”¨åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;åŸå‹å…³ç³»æ˜¯ä¸€ç§åŠ¨æ€çš„å…³ç³»ã€‚å¦‚æœæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§åˆ°åŸå‹ä¸­ï¼Œè¯¥å±æ€§ä¼šç«‹å³å¯¹æ‰€æœ‰åŸºäºè¯¥åŸå‹åˆ›å»ºçš„å¯¹è±¡å¯è§ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;for in&lt;/code&gt;æšä¸¾ä¸€ä¸ªå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§åæ—¶ï¼Œå±æ€§åå‡ºç°çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚å¦‚æœæƒ³è¦ç¡®ä¿å±æ€§ä»¥ç‰¹å®šçš„é¡ºåºå‡ºç°ï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯å®Œå…¨é¿å…ä½¿ç”¨&lt;code&gt;for in&lt;/code&gt;è¯­å¥ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œåœ¨å…¶ä¸­ä»¥æ­£ç¡®çš„é¡ºåºåŒ…å«å±æ€§åã€‚é€šè¿‡ä½¿ç”¨&lt;code&gt;for&lt;/code&gt;è€Œä¸æ˜¯&lt;code&gt;for in&lt;/code&gt;ï¼Œå¯ä»¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„å±æ€§ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;deleteè¿ç®—ç¬¦å¯ä»¥ç”¨æ¥åˆ é™¤å¯¹è±¡çš„å±æ€§ã€‚å®ƒå°†ç§»é™¤å¯¹è±¡ä¸­ç¡®å®šåŒ…å«çš„å±æ€§ï¼Œä½†ä¸ä¼šè§¦åŠåŸå‹é“¾ä¸­çš„ä»»ä½•å¯¹è±¡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æœ€å°åŒ–ä½¿ç”¨å…¨å±€å˜é‡çš„ä¸€ä¸ªæ–¹æ³•æ˜¯åœ¨ä½ çš„åº”ç”¨ä¸­åªåˆ›å»ºå”¯ä¸€ä¸€ä¸ªå…¨å±€å˜é‡ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; MYAPP = {};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¯¥å˜é‡æ­¤æ—¶å˜æˆäº†ä½ çš„åº”ç”¨çš„å®¹å™¨ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;MYAPP.stooge = {
    &lt;span style="color: #a31515"&gt;&amp;quot;first-name&amp;quot;&lt;/span&gt;: &lt;span style="color: #a31515"&gt;&amp;quot;Joe&amp;quot;&lt;/span&gt;,
    &lt;span style="color: #a31515"&gt;&amp;quot;last-name&amp;quot;&lt;/span&gt;: &lt;span style="color: #a31515"&gt;&amp;quot;Howard&amp;quot;&lt;/span&gt;
};

MYAPP.flight = {
    airline: &lt;span style="color: #a31515"&gt;&amp;quot;Oceanic&amp;quot;&lt;/span&gt;,
    number: 815,
    departure: {
        IATA: &lt;span style="color: #a31515"&gt;&amp;quot;SYD&amp;quot;&lt;/span&gt;,
        time: &lt;span style="color: #a31515"&gt;&amp;quot;2004-09-22 14:55&amp;quot;&lt;/span&gt;,
        city: &lt;span style="color: #a31515"&gt;&amp;quot;Sydney&amp;quot;&lt;/span&gt;
    },
    arrival: {
        IATA: &lt;span style="color: #a31515"&gt;&amp;quot;LAX&amp;quot;&lt;/span&gt;,
        time: &lt;span style="color: #a31515"&gt;&amp;quot;2004-09-23 10:42&amp;quot;&lt;/span&gt;,
        city: &lt;span style="color: #a31515"&gt;&amp;quot;Los Angeles&amp;quot;&lt;/span&gt;
    }
};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;ç¬¬4ç« ï¼šå‡½æ•°&lt;/h2&gt;
&lt;p&gt;é™¤äº†å£°æ˜æ—¶å®šä¹‰çš„å½¢å¼å‚æ•°ï¼Œæ¯ä¸ªå‡½æ•°åœ¨è°ƒç”¨ä¹‹æ—¶ä¼šæ¥æ”¶ä¸¤ä¸ªé™„åŠ çš„å‚æ•°ï¼šthiså’Œargumentsã€‚å‚æ•°thisçš„å€¼å–å†³äºè°ƒç”¨çš„æ¨¡å¼ã€‚åœ¨JavaScriptä¸­ä¸€å…±æœ‰å››ç§è°ƒç”¨æ¨¡å¼ï¼šæ–¹æ³•è°ƒç”¨æ¨¡å¼ã€å‡½æ•°è°ƒç”¨æ¨¡å¼ã€æ„é€ å™¨è°ƒç”¨æ¨¡å¼å’Œapplyè°ƒç”¨æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;JavaScriptä¸­ï¼Œå½“å®å‚ï¼ˆargumentsï¼‰çš„ä¸ªæ•°ä¸å½¢å‚ï¼ˆparametersï¼‰çš„ä¸ªæ•°ä¸åŒ¹é…æ—¶ä¸ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚å¦‚æœå®å‚å€¼è¿‡å¤šæ—¶ï¼Œè¶…å‡ºçš„å‚æ•°å€¼å°†è¢«å¿½ç•¥ã€‚å¦‚æœå®å‚å€¼è¿‡å°‘ï¼Œç¼ºå¤±çš„å€¼å°†ä¼šè¢«æ›¿æ¢ä¸ºundefinedã€‚å¯¹å‚æ•°å€¼ä¸ä¼šè¿›è¡Œç±»å‹æ£€æŸ¥ï¼šä»»ä½•ç±»å‹çš„å€¼éƒ½å¯ä»¥è¢«ä¼ é€’ç»™å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;argumentså¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ã€‚å®ƒåªæ˜¯ä¸€ä¸ªâ€œç±»ä¼¼æ•°ç»„(array-like)â€çš„å¯¹è±¡ã€‚argumentsæ‹¥æœ‰ä¸€ä¸ªlengthå±æ€§ï¼Œä½†å®ƒç¼ºå°‘æ‰€æœ‰çš„æ•°ç»„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å‡½æ•°è°ƒç”¨æ¨¡å¼ä¸­ï¼Œthisè¢«ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå‡½æ•°æ€»æ˜¯ä¼šè¿”å›ä¸€ä¸ªå€¼ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šè¿”å›å€¼ï¼Œåˆ™è¿”å›undefinedã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå‡½æ•°ä»¥åœ¨å‰é¢åŠ ä¸Šnewå‰ç¼€çš„æ–¹å¼æ¥è°ƒç”¨(å³æ„é€ å‡½æ•°)ï¼Œä¸”è¿”å›å€¼ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™è¿”å›thisï¼ˆè¯¥æ–°å¯¹è±¡ï¼‰ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;JavaScriptæä¾›çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ä¸­ï¼Œä¸€ä¸ªtryè¯­å¥åªä¼šæœ‰ä¸€ä¸ªå°†æ•è·æ‰€æœ‰å¼‚å¸¸çš„catchä»£ç å—ã€‚å¦‚æœä½ çš„å¤„ç†æ‰‹æ®µå–å†³äºå¼‚å¸¸çš„ç±»å‹ï¼Œé‚£ä¹ˆå¼‚å¸¸å¤„ç†å™¨å¿…é¡»æ£€æŸ¥å¼‚å¸¸å¯¹è±¡çš„nameå±æ€§ä»¥ç¡®å®šå¼‚å¸¸çš„ç±»å‹ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¯¹äºå˜é‡å£°æ˜ï¼Œç”±äºJavaScriptç¼ºå°‘å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥æœ€å¥½çš„åšæ³•æ˜¯åœ¨å‡½æ•°ä½“çš„é¡¶éƒ¨å£°æ˜å‡½æ•°ä¸­å¯èƒ½ç”¨åˆ°çš„æ‰€æœ‰å˜é‡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡é—­åŒ…å®ç°å¯¹è±¡çš„ç§æœ‰å±æ€§ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; myObject = &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; value = 0;
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; {
        increment: &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; (inc) {
            value += &lt;span style="color: #0000ff"&gt;typeof&lt;/span&gt; inc === &lt;span style="color: #a31515"&gt;&amp;#39;number&amp;#39;&lt;/span&gt; ? inc : 1;
        },
        getValue: &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; value;
        }
    }
}();        &lt;span style="color: #008000"&gt;//æ³¨æ„è¿™é‡Œè°ƒç”¨äº†åŒ¿åå‡½æ•°&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;æ¨¡å—æ˜¯ä¸€ä¸ªæä¾›æ¥å£å´éšè—çŠ¶æ€ä¸å®ç°çš„å‡½æ•°æˆ–å¯¹è±¡ã€‚é€šè¿‡ä½¿ç”¨å‡½æ•°å»äº§ç”Ÿæ¨¡å—ï¼Œå‡ ä¹å¯ä»¥å®Œå…¨æ‘’å¼ƒå…¨å±€å˜é‡çš„ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;String.prototype.method = &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; (name, func) {
    &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.prototype[name] = func;
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;;
};

String.method(&lt;span style="color: #a31515"&gt;&amp;#39;deentityify&amp;#39;&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
    &lt;span style="color: #008000"&gt;// å­—ç¬¦å®ä½“è¡¨ã€‚æ˜ å°„å­—ç¬¦å®ä½“çš„åå­—åˆ°å¯¹åº”çš„å­—ç¬¦ã€‚&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; entity = {
        quot: &lt;span style="color: #a31515"&gt;&amp;#39;&amp;quot;&amp;#39;&lt;/span&gt;,
        lt: &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt;,
        gt: &lt;span style="color: #a31515"&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt;
    };
    &lt;span style="color: #008000"&gt;// è¿”å›deentityifyæ–¹æ³•&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
    &lt;span style="color: #008000"&gt;// è¿™æ‰æ˜¯deentityifyæ–¹æ³•ã€‚å®ƒè°ƒç”¨å­—ç¬¦ä¸²çš„replaceçš„æ–¹æ³•ï¼Œ&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// æŸ¥æ‰¾â€˜&amp;amp;â€™å¼€å¤´å’Œâ€˜;â€™ç»“æŸçš„å­å­—ç¬¦ä¸²ã€‚å¦‚æœè¿™äº›å­—ç¬¦å¯ä»¥åœ¨å­—ç¬¦å®ä½“è¡¨ä¸­æ‰¾åˆ°ï¼Œ&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// é‚£ä¹ˆå°±å°†è¯¥å­—ç¬¦å®ä½“æ›¿æ¢ä¸ºæ˜ å°„è¡¨ä¸­çš„å€¼ã€‚&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.replace(&lt;span style="color: #a31515"&gt;/&amp;amp;([^&amp;amp;;]+);/g&lt;/span&gt;,
            &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; (a, b){
                &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; r = entity[b];
                &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;typeof&lt;/span&gt; r === &lt;span style="color: #a31515"&gt;&amp;#39;string&amp;#39;&lt;/span&gt; ? r : a;
            }
        );
    };
}());   &lt;span style="color: #008000"&gt;// æ³¨æ„è¿™é‡Œï¼ŒåŒ¿åå‡½æ•°å·²è¢«è°ƒç”¨&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ¨¡å—æ¨¡å¼åˆ©ç”¨äº†å‡½æ•°ä½œç”¨åŸŸå’Œé—­åŒ…æ¥åˆ›å»ºç»‘å®šå¯¹è±¡ä¸ç§æœ‰æˆå‘˜çš„å…³è”ï¼Œåœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œåªæœ‰deentityifyæ–¹æ³•æœ‰æƒè®¿é—®å­—ç¬¦å®ä½“è¡¨è¿™ä¸ªæ•°æ®å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨æ¨¡å—æ¨¡å¼å°±å¯ä»¥æ‘’å¼ƒå…¨å±€å˜é‡çš„ä½¿ç”¨ã€‚å®ƒä¿ƒè¿›äº†ä¿¡æ¯éšè—å’Œå…¶ä»–ä¼˜ç§€çš„è®¾è®¡å®è·µã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æœ‰äº›æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚ä¾‹å¦‚ï¼Œä¸€äº›è®¾ç½®æˆ–ä¿®æ”¹å¯¹è±¡çš„æŸä¸ªçŠ¶æ€å´ä¸è¿”å›ä»»ä½•å€¼çš„æ–¹æ³•å°±æ˜¯å…¸å‹çš„ä¾‹å­ã€‚å¦‚æœè®©è¿™äº›æ–¹æ³•è¿”å›thisè€Œä¸æ˜¯undefinedï¼Œå°±å¯ä»¥å¯ç”¨çº§è”ã€‚åœ¨ä¸€ä¸ªçº§è”ä¸­ï¼Œå¯ä»¥åœ¨å•ç‹¬ä¸€æ¡çš„è¯­å¥ä¸­ä¾æ¬¡è°ƒç”¨åŒä¸€ä¸ªå¯¹è±¡çš„å¾ˆå¤šæ–¹æ³•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¥—ç”¨(curry)å…è®¸å°†å‡½æ•°ä¸ä¼ é€’ç»™å®ƒçš„å‚æ•°ç›¸ç»“åˆå»äº§ç”Ÿä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;curryæ–¹æ³•é€šè¿‡åˆ›å»ºä¸€ä¸ªä¿å­˜ç€åŸå§‹å‡½æ•°å’Œè¢«å¥—ç”¨çš„å‚æ•°çš„é—­åŒ…æ¥å·¥ä½œã€‚å®ƒè¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è°ƒç”¨åŸå§‹å‡½æ•°çš„ç»“æœï¼Œå¹¶ä¼ é€’è°ƒç”¨curryæ—¶çš„å‚æ•°åŠ ä¸Šå½“å‰è°ƒç”¨å‡½æ•°çš„æ‰€æœ‰å‚æ•°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Function.prototype.method = &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; (name, func) {
    &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.prototype[name] = func;
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;;
};
Function.method(&lt;span style="color: #a31515"&gt;&amp;#39;curry&amp;#39;&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
    &lt;span style="color: #008000"&gt;// ç”±äºargumentså¹¶éçœŸæ­£çš„æ•°ç»„ï¼Œæ‰€ä»¥éœ€è¦åº”ç”¨sliceæ–¹æ³•æ¥æ„é€ å¸¸è§„çš„æ•°ç»„&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; slice = Array.prototype.slice,
        args = slice.apply(arguments),
        that = &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;;
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; that.apply(&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;, args.concat(slice.apply(arguments)));
    };
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;ç¬¬5ç« ï¼šç»§æ‰¿&lt;/h2&gt;
&lt;p&gt;å½“ä¸€ä¸ªå‡½æ•°å¯¹è±¡è¢«åˆ›å»ºæ—¶ï¼ŒFunctionæ„é€ å™¨äº§ç”Ÿçš„å‡½æ•°å¯¹è±¡ä¼šè¿è¡Œç±»ä¼¼è¿™æ ·çš„ä¸€äº›ä»£ç ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.prototype = {&lt;span style="color: #0000ff"&gt;constructor&lt;/span&gt;: &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ–°å‡½æ•°å¯¹è±¡è¢«èµ‹äºˆä¸€ä¸ªprototypeå±æ€§ï¼Œå…¶å€¼åŒ…å«ä¸€ä¸ªconstructorå±æ€§ä¸”å±æ€§å€¼ä¸ºè¯¥æ–°å‡½æ•°å¯¹è±¡ã€‚è¯¥prototypeå¯¹è±¡æ˜¯å­˜æ”¾ç»§æ‰¿ç‰¹å¾çš„åœ°æ–¹ã€‚å› ä¸ºJavaScriptè¯­è¨€æ²¡æœ‰æä¾›ä¸€ç§æ–¹æ³•å»ç¡®å®šå“ªä¸ªå‡½æ•°æ˜¯æ‰“ç®—ç”¨æ¥ä½œæ„é€ å™¨çš„ï¼Œæ‰€ä»¥æ¯ä¸ªå‡½æ•°éƒ½ä¼šå¾—åˆ°ä¸€ä¸ªprototypeå¯¹è±¡ã€‚constructorå±æ€§æ²¡ä»€ä¹ˆç”¨ï¼Œé‡è¦çš„æ˜¯prototypeå¯¹è±¡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;å‡½æ•°åŒ–æ„é€ å™¨å®ç°ç§æœ‰ä¿æŠ¤&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; people = &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; (spec) {
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; that = {
        prefix: &lt;span style="color: #a31515"&gt;&amp;#39;People: &amp;#39;&lt;/span&gt;
    };
    that.get_name = &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.prefix + spec.name;
    };
    that.says = &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.prefix + (spec.saying || &lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;);
    };
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; that;
};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;ç¬¬6ç« ï¼šæ•°ç»„&lt;/h2&gt;
&lt;p&gt;JavaScriptä¸­ï¼Œæ¯ä¸ªæ•°ç»„éƒ½æœ‰ä¸€ä¸ªlengthå±æ€§ã€‚å¦‚æœä½ ç”¨å¤§äºæˆ–ç­‰äºå½“å‰lengthçš„æ•°å­—ä½œä¸ºä¸‹æ ‡æ¥å­˜å‚¨ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆlengthå€¼ä¼šè¢«å¢å¤§ä»¥å®¹çº³æ–°å…ƒç´ ï¼Œä¸ä¼šå‘ç”Ÿæ•°ç»„è¶Šç•Œé”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;lengthå±æ€§çš„å€¼æ˜¯è¿™ä¸ªæ•°ç»„çš„æœ€å¤§æ•´æ•°å±æ€§ååŠ ä¸Š1.å®ƒä¸ä¸€å®šç­‰äºæ•°ç»„é‡Œçš„å±æ€§çš„ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥ç›´æ¥è®¾ç½®lengthçš„å€¼ã€‚è®¾ç½®æ›´å¤§çš„lengthä¸ä¼šç»™æ•°ç»„åˆ†é…æ›´å¤šçš„ç©ºé—´ã€‚è€ŒæŠŠlengthè®¾å°å°†å¯¼è‡´æ‰€æœ‰ä¸‹æ ‡å¤§äºç­‰äºæ–°lengthçš„å±æ€§è¢«åˆ é™¤ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ç”±äºJavaScriptçš„æ•°ç»„å…¶å®å°±æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥deleteè¿ç®—ç¬¦å¯ä»¥ç”¨æ¥ä»æ•°ç»„ä¸­ç§»é™¤å…ƒç´ ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™æ ·ä¼šåœ¨æ•°ç»„ä¸­ç•™ä¸‹ä¸€ä¸ªç©ºæ´ã€‚è¿™æ˜¯å› ä¸ºæ’åœ¨è¢«åˆ é™¤å…ƒç´ ä¹‹åçš„å…ƒç´ ä¿ç•™ç€å®ƒä»¬æœ€åˆçš„å±æ€§ã€‚JavaScriptçš„æ•°ç»„æœ‰ä¸€ä¸ªspliceæ–¹æ³•ï¼Œå¯ä»¥åˆ é™¤ä¸€äº›å…ƒç´ å¹¶å°†å®ƒä»¬æ›¿æ¢ä¸ºå…¶ä»–çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;numbers = [&lt;span style="color: #a31515"&gt;&amp;#39;zero&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;one&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;two&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;shi&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;go&amp;#39;&lt;/span&gt;];

&lt;span style="color: #0000ff"&gt;delete&lt;/span&gt; numbers[2];
&lt;span style="color: #008000"&gt;// ç°åœ¨numbersä¸º[&amp;#39;zero&amp;#39;, &amp;#39;one&amp;#39;, undefined, &amp;#39;shi&amp;#39;, &amp;#39;go&amp;#39;]&lt;/span&gt;

numbers.splice(2, 1);
&lt;span style="color: #008000"&gt;// ç°åœ¨numbersä¸º[&amp;#39;zero&amp;#39;, &amp;#39;one&amp;#39;, &amp;#39;shi&amp;#39;, &amp;#39;go&amp;#39;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;p&gt;åœ¨JavaScriptç¼–ç¨‹ä¸­ï¼Œä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯åœ¨å¿…é¡»ä½¿ç”¨æ•°ç»„æ—¶ä½¿ç”¨äº†å¯¹è±¡ï¼Œæˆ–è€…åœ¨å¿…é¡»ä½¿ç”¨å¯¹è±¡æ—¶ä½¿ç”¨äº†æ•°ç»„ã€‚å…¶å®è§„åˆ™å¾ˆç®€å•ï¼šå½“å±æ€§åæ˜¯å°è€Œè¿ç»­çš„æ•´æ•°æ—¶ï¼Œåº”è¯¥ä½¿ç”¨æ•°ç»„ã€‚å¦åˆ™ï¼Œä½¿ç”¨å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºå¯¹æ•°ç»„ä½¿ç”¨&lt;code&gt;typeof&lt;/code&gt;çš„ç»“æœä¸º&lt;code&gt;object&lt;/code&gt;ï¼Œæ‰€ä»¥éœ€è¦å…¶ä»–æ–¹æ³•æ¥åˆ¤åˆ«ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºæ•°ç»„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; is_array = &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; (value) {
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; Object.prototype.toString.apply(value) === &lt;span style="color: #a31515"&gt;&amp;#39;[object Array]&amp;#39;&lt;/span&gt;;
};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;ç¬¬7ç« ï¼šæ­£åˆ™è¡¨è¾¾å¼&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ª&lt;em&gt;æ­£åˆ™è¡¨è¾¾å¼åˆ†æ”¯&lt;/em&gt;åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª&lt;em&gt;æ­£åˆ™è¡¨è¾¾å¼åºåˆ—&lt;/em&gt;ã€‚è¿™äº›åºåˆ—è¢«|ï¼ˆç«–çº¿ï¼‰å­—ç¬¦åˆ†éš”ã€‚å¦‚æœè¿™äº›åºåˆ—ä¸­çš„ä»»ä½•ä¸€é¡¹ç¬¦åˆåŒ¹é…æ¡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªé€‰æ‹©å°±è¢«åŒ¹é…ã€‚å®ƒå°è¯•æŒ‰é¡ºåºä¾æ¬¡åŒ¹é…è¿™äº›åºåˆ—é¡¹ã€‚æ‰€ä»¥ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #a31515"&gt;&amp;quot;into&amp;quot;&lt;/span&gt;.match(&lt;span style="color: #a31515"&gt;/in|int/&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¼šåœ¨intoä¸­åŒ¹é…ï¼Œä½†å®ƒä¸ä¼šåŒ¹é…intï¼Œå› ä¸ºinå·²è¢«æˆåŠŸåŒ¹é…äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª&lt;em&gt;æ­£åˆ™è¡¨è¾¾å¼åºåˆ—&lt;/em&gt;åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª&lt;em&gt;æ­£åˆ™è¡¨è¾¾å¼å› å­&lt;/em&gt;ã€‚æ¯ä¸ªå› å­èƒ½é€‰æ‹©æ˜¯å¦è·Ÿéšä¸€ä¸ªé‡è¯ï¼Œè¿™ä¸ªé‡è¯å†³å®šç€è¿™ä¸ªå› å­è¢«å…è®¸å‡ºç°çš„æ¬¡æ•°ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šè¿™ä¸ªé‡è¯ï¼Œé‚£ä¹ˆè¯¥å› å­åªä¼šè¢«åŒ¹é…ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª&lt;em&gt;æ­£åˆ™è¡¨è¾¾å¼å› å­&lt;/em&gt;å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ã€ä¸€ä¸ªç”±åœ†æ‹¬å·åŒ…å›´çš„ç»„ã€ä¸€ä¸ªå­—ç¬¦ç±»ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªè½¬ä¹‰åºåˆ—ã€‚é™¤äº†æ§åˆ¶å­—ç¬¦å’Œç‰¹æ®Šå­—ç¬¦ä»¥å¤–ï¼Œæ‰€æœ‰çš„å­—ç¬¦éƒ½ä¼šè¢«æŒ‰ç…§å­—é¢å¤„ç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;\ / [ ] ( ) { } ? + * | . ^ $&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå¸Œæœ›ä¸Šé¢åˆ—å‡ºçš„å­—ç¬¦æŒ‰å­—é¢å»åŒ¹é…ï¼Œé‚£ä¹ˆå¿…é¡»è¦ç”¨ä¸€ä¸ª\å‰ç¼€æ¥è¿›è¡Œè½¬ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæœªè¢«è½¬ä¹‰çš„&lt;code&gt;.&lt;/code&gt;ä¼šåŒ¹é…é™¤è¡Œç»“æŸç¬¦ä»¥å¤–çš„ä»»ä½•å­—ç¬¦ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼åˆ†ç»„å…±æœ‰4ç§ï¼š&lt;/p&gt;
&lt;p&gt;1.
æ•è·å‹ï¼šä¸€ä¸ªæ•è·å‹åˆ†ç»„æ˜¯ä¸€ä¸ªè¢«åŒ…å›´åœ¨åœ†æ‹¬å·ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼åˆ†æ”¯ã€‚ä»»ä½•åŒ¹é…è¿™ä¸ªåˆ†ç»„çš„å­—ç¬¦éƒ½ä¼šè¢«æ•è·ã€‚æ¯ä¸ªæ•è·å‹åˆ†ç»„éƒ½è¢«æŒ‡å®šäº†ä¸€ä¸ªæ•°å­—ã€‚åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ç¬¬1ä¸ªæ•è·&lt;code&gt;(&lt;/code&gt;çš„æ˜¯åˆ†ç»„1ï¼Œç¬¬2ä¸ªæ•è·&lt;code&gt;(&lt;/code&gt;çš„æ˜¯åˆ†ç»„2ã€‚&lt;/p&gt;
&lt;p&gt;2.
éæ•è·å‹ï¼šéæ•è·å‹åˆ†ç»„æœ‰ä¸€ä¸ª&lt;code&gt;(?:&lt;/code&gt;å‰ç¼€ã€‚éæ•è·å‹åˆ†ç»„ä»…åšç®€å•çš„åŒ¹é…ï¼Œå¹¶ä¸ä¼šæ•è·æ‰€åŒ¹é…çš„æ–‡æœ¬ã€‚è¿™ä¼šå¸¦æ¥å¾®å¼±çš„æ€§èƒ½ä¼˜åŠ¿ã€‚éæ•è·å‹åˆ†ç»„ä¸ä¼šå¹²æ‰°æ•è·å‹åˆ†ç»„çš„ç¼–å·ã€‚&lt;/p&gt;
&lt;p&gt;3.
å‘å‰æ­£å‘åŒ¹é…ï¼ˆPositive lookaheadï¼‰ï¼šå‘å‰æ­£å‘åŒ¹é…åˆ†ç»„æœ‰ä¸€ä¸ª&lt;code&gt;(?=&lt;/code&gt;å‰ç¼€ã€‚å®ƒç±»ä¼¼äºéæ•è·å‹åˆ†ç»„ï¼Œä½†åœ¨è¿™ä¸ªç»„åŒ¹é…åï¼Œæ–‡æœ¬ä¼šå€’å›åˆ°å®ƒå¼€å§‹çš„åœ°æ–¹ï¼Œå®é™…ä¸Šå¹¶ä¸åŒ¹é…ä»»ä½•ä¸œè¥¿ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„ç‰¹æ€§ã€‚ï¼ˆä»€ä¹ˆæ„æ€ï¼Ÿï¼‰&lt;/p&gt;
&lt;p&gt;4.
å‘å‰è´Ÿå‘åŒ¹é…ï¼ˆNegative lookaheadï¼‰ï¼šå‘å‰è´Ÿå‘åŒ¹é…åˆ†ç»„æœ‰ä¸€ä¸ª&lt;code&gt;(?!&lt;/code&gt;å‰ç¼€ã€‚ç±»ä¼¼äºå‘å‰æ­£å‘åŒ¹é…åˆ†ç»„ï¼Œä½†åªæœ‰å½“å®ƒåŒ¹é…å¤±è´¥æ—¶å®ƒæ‰ç»§ç»­å‘å‰è¿›è¡ŒåŒ¹é…ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;h2&gt;ç¬¬8ç« ï¼šæ–¹æ³•&lt;/h2&gt;
&lt;h3&gt;Array&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;array.concat(item...)&lt;/strong&gt;æ–¹æ³•ä¼šäº§ç”Ÿä¸€ä¸ªæ–°æ•°ç»„ï¼Œå®ƒåŒ…å«ä¸€ä»½arrayçš„æµ…å¤åˆ¶ï¼ˆshallow copyï¼‰å¹¶æŠŠä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°itemé™„åŠ åœ¨å…¶åã€‚å¦‚æœå‚æ•°itemæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå®ƒçš„æ¯ä¸ªå…ƒç´ ä¼šè¢«åˆ†åˆ«æ·»åŠ ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; a = [&lt;span style="color: #a31515"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;c&amp;#39;&lt;/span&gt;];
&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; b = [&lt;span style="color: #a31515"&gt;&amp;#39;x&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;y&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;z&amp;#39;&lt;/span&gt;];
&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; c = a.concat(b, &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;);
&lt;span style="color: #008000"&gt;// cä¸º[&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;, &amp;#39;x&amp;#39;, &amp;#39;y&amp;#39;, &amp;#39;z&amp;#39;, true]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;array.join(separator)&lt;/strong&gt;æ–¹æ³•æŠŠä¸€ä¸ªarrayæ„é€ æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ç›®å‰åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯¹å­—ç¬¦ä¸²è¿æ¥å»ºè®®é¦–é€‰ä½¿ç”¨+è¿ç®—ç¬¦ï¼Œå› ä¸ºç›¸æ¯”joinæ–¹æ³•ï¼Œ+è¿ç®—ç¬¦çš„æ€§èƒ½æ›´é«˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;array.pop()&lt;/strong&gt;ï¼Œå…¶å¯ä»¥è¿™æ ·å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Array.method(&lt;span style="color: #a31515"&gt;&amp;#39;pop&amp;#39;&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.splice(&lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.length - 1, 1)[0];
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;array.push(item...)&lt;/strong&gt;ä¸concatæ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œè¯¥æ–¹æ³•ä¼šä¿®æ”¹arrayã€‚å¯ä»¥è¿™æ ·å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Array.method(&lt;span style="color: #a31515"&gt;&amp;#39;push&amp;#39;&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
    &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.splice.apply(
        &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;,
        [&lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.length, 0].
            concat(Array.prototype.slice.apply(arguments)));
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.length;
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;array.reverse()&lt;/strong&gt;æ–¹æ³•åè½¬arrayé‡Œçš„å…ƒç´ çš„é¡ºåºï¼Œå¹¶è¿”å›arrayæœ¬èº«ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; a = [&lt;span style="color: #a31515"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;c&amp;#39;&lt;/span&gt;];
&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; b = a.reverse();
&lt;span style="color: #008000"&gt;// aå’Œbéƒ½æ˜¯[&amp;#39;c&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;a&amp;#39;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;array.shift()&lt;/strong&gt;æ–¹æ³•ç§»é™¤æ•°ç»„arrayä¸­çš„ç¬¬1ä¸ªå…ƒç´ å¹¶è¿”å›è¯¥å…ƒç´ ã€‚å¦‚æœæ•°ç»„arrayä¸ºç©ºï¼Œåˆ™ä¼šè¿”å›undefinedã€‚shiftæ“ä½œé€šå¸¸è¦æ¯”popæ…¢å¾—å¤šï¼Œå¯ä»¥è¿™æ ·å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Array.method(&lt;span style="color: #a31515"&gt;&amp;#39;shift&amp;#39;&lt;/span&gt;, &lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.splice(0, 1)[0];
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;array.slice(start, end)&lt;/strong&gt;æ–¹æ³•å¯¹arrayä¸­çš„ä¸€æ®µåšæµ…å¤åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;array.sort(comparefn)&lt;/strong&gt;æ–¹æ³•å¯¹arrayä¸­çš„å†…å®¹è¿›è¡Œæ’åºã€‚é»˜è®¤æ¯”è¾ƒå‡½æ•°æŠŠè¦æ’åºçš„å…ƒç´ éƒ½è§†ä¸ºå­—ç¬¦ä¸²ã€‚å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æ¯”è¾ƒå‡½æ•°æ¥æ›¿æ¢é»˜è®¤çš„æ¯”è¾ƒå‡½æ•°ã€‚ä½ çš„æ¯”è¾ƒå‡½æ•°åº”è¯¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”å¦‚æœè¿™ä¸¤ä¸ªå‚æ•°ç›¸ç­‰åˆ™è¿”å›0ï¼Œå¦‚æœç¬¬1ä¸ªå‚æ•°åº”è¯¥æ’åˆ—åœ¨å‰é¢ï¼Œåˆ™è¿”å›ä¸€ä¸ªè´Ÿæ•°ï¼Œå¦‚æœç¬¬2ä¸ªå‚æ•°åº”è¯¥æ’åˆ—åœ¨å‰é¢ï¼Œåˆ™è¿”å›ä¸€ä¸ªæ­£æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;array.splice(start, deleteCount, item...)&lt;/strong&gt;æ–¹æ³•ä»arrayä¸­ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶ç”¨æ–°çš„itemæ›¿æ¢å®ƒä»¬ã€‚å…¶è¿”å›ä¸€ä¸ªåŒ…å«è¢«ç§»é™¤å…ƒç´ çš„æ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;array.unshift(item...)&lt;/strong&gt;æ–¹æ³•åƒpushæ–¹æ³•ä¸€æ ·ï¼Œç”¨äºæŠŠå…ƒç´ æ·»åŠ åˆ°æ•°ç»„ä¸­ï¼Œä½†å®ƒæ˜¯æŠŠitemæ’å…¥åˆ°arrayçš„å¼€å§‹éƒ¨åˆ†è€Œä¸æ˜¯å°¾éƒ¨ï¼Œè¿”å›arrayçš„æ–°çš„lengthã€‚&lt;/p&gt;
&lt;h3&gt;Function&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;function.apply(thisArg, argArray)&lt;/strong&gt;æ–¹æ³•è°ƒç”¨functionï¼Œä¼ é€’ä¸€ä¸ªä¼šè¢«ç»‘å®šåˆ°thisä¸Šçš„å¯¹è±¡å’Œä¸€ä¸ªå¯é€‰çš„æ•°ç»„ä½œä¸ºå‚æ•°ã€‚&lt;/p&gt;
&lt;h3&gt;Number&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;number.toFixed(fractionDigits)&lt;/strong&gt;æ–¹æ³•æŠŠnumberè½¬æ¢æˆä¸€ä¸ªåè¿›åˆ¶æ•°å½¢å¼çš„å­—ç¬¦ä¸²ã€‚å¯é€‰å‚æ•°fractionDigitsæ§åˆ¶å…¶å°æ•°ç‚¹åçš„æ•°å­—ä½æ•°ï¼Œå¿…é¡»åœ¨0ï½20ä¹‹é—´ï¼Œé»˜è®¤ä¸º0ã€‚&lt;strong&gt;number.toPrecision(precision)&lt;/strong&gt;æ–¹æ³•çš„åŠŸèƒ½ä¸å…¶å‡ ä¹ç›¸åŒï¼Œé™¤äº†precisionçš„å€¼ä¸º0~21ä¹‹é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;number.toString(radix)&lt;/strong&gt;æ–¹æ³•æŠŠnumberè½¬æ¢æˆä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¯é€‰å‚æ•°radixæ§åˆ¶åŸºæ•°ï¼Œé»˜è®¤ä¸º10ã€‚&lt;/p&gt;
&lt;h3&gt;String&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;string.charAt(pos)&lt;/strong&gt;æ–¹æ³•è¿”å›åœ¨stringä¸­posä½ç½®å¤„çš„å­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;string.charCodeAt(pos)&lt;/strong&gt;æ–¹æ³•åŒcharAtä¸€æ ·ï¼Œåªä¸è¿‡è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä»¥æ•´æ•°å½¢å¼è¡¨æ­»çš„åœ¨stringä¸­posä½ç½®å¤„çš„å­—ç¬¦çš„å­—ç¬¦ç ä½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;string.indexOf(searchString, position)&lt;/strong&gt;æ–¹æ³•åœ¨stringå†…æŸ¥æ‰¾å¦ä¸€ä¸ªå­—ç¬¦ä¸²searchStringã€‚å¦‚æœæ‰¾åˆ°ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…å­—ç¬¦çš„ä½ç½®ï¼Œå¦åˆ™è¿”å›-1ã€‚å¯é€‰å‚æ•°positionå¯è®¾ç½®ä»stringçš„æŸä¸ªæŒ‡å®šä½ç½®å¼€å§‹è¶…æ‰¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;string.lastIndexOf(searchString, position)&lt;/strong&gt;æ–¹æ³•å’ŒindexOfæ–¹æ³•ç±»ä¼¼ï¼Œåªä¸è¿‡å®ƒæ˜¯ä»è¯¥å­—ç¬¦ä¸²çš„æœ«å°¾å¼€å§‹æŸ¥æ‰¾è€Œä¸æ˜¯ä»å¼€å¤´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;string.search(regexp)&lt;/strong&gt;æ–¹æ³•å’ŒindexOfæ–¹æ³•ç±»ä¼¼ï¼Œåªæ˜¯å®ƒæ¥å—ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ä½œä¸ºå‚æ•°è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;h2&gt;ç¬¬9ç« ï¼šä»£ç é£æ ¼&lt;/h2&gt;
&lt;p&gt;ä¼˜ç§€çš„ç¨‹åºæ‹¥æœ‰ä¸€ä¸ªå‰ç»æ€§çš„ç»“æ„ï¼Œå®ƒä¼šé¢„è§åˆ°æœªæ¥æ‰€éœ€è¦çš„å¯èƒ½ä¿®æ”¹ï¼Œä½†ä¸ä¼šè®©å…¶æˆä¸ºè¿‡åº¦çš„è´Ÿæ‹…ã€‚ä¼˜ç§€çš„ç¨‹åºä¹Ÿæœ‰ä¸€ç§æ¸…æ™°çš„è¡¨è¾¾æ–¹å¼ã€‚å¦‚æœä¸€ä¸ªç¨‹åºè¢«è¡¨è¾¾å¾—å¾ˆå¥½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½æ›´åŠ å®¹æ˜“åœ°å»ç†è§£å®ƒï¼Œä»¥ä¾¿æˆåŠŸåœ°ä¿®æ”¹æˆ–ä¿®å¤å®ƒã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡åœ¨ä¸€ä¸ªæ¸…æ™°ä¸”å§‹ç»ˆå¦‚ä¸€çš„é£æ ¼ä¸‹ç¼–å†™ï¼Œä½ çš„ç¨‹åºä¼šå˜å¾—æ˜“äºé˜…è¯»ã€‚&lt;/p&gt;
&lt;h2&gt;é™„å½•Aï¼šç³Ÿç²•&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å…¨å±€å˜é‡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ‰ä¸‰ç§æ–¹å¼å®šä¹‰å…¨å±€å˜é‡ã€‚ç¬¬ä¸€ç§æ˜¯è„±ç¦»ä»»ä½•å‡½æ•°å®‰æ’ä¸€ä¸ªvarè¯­å¥ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; foo = value;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç¬¬äºŒç§æ˜¯ç›´æ¥æ·»åŠ ä¸€ä¸ªå±æ€§åˆ°å…¨å±€å¯¹è±¡ä¸Šã€‚å…¨å±€å¯¹è±¡æ˜¯æ‰€æœ‰å…¨å±€å˜é‡çš„å®¹å™¨ã€‚åœ¨Webæµè§ˆå™¨é‡Œï¼Œå…¨å±€å¯¹è±¡åä¸ºwindowï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;window.foo = value;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç¬¬ä¸‰ç§æ˜¯ç›´æ¥ä½¿ç”¨æœªç»å£°æ˜çš„å˜é‡ã€‚è¿™è¢«ç§°ä¸ºéšå¼çš„å…¨å±€å˜é‡ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;foo = value;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æœ¬æ¥æ˜¯ä¸ºäº†æ–¹ä¾¿åˆå­¦è€…è€Œæœ‰æ„è®©å˜é‡åœ¨ä½¿ç”¨å‰æ— é¡»å£°æ˜ã€‚JavaScriptçš„ç­–ç•¥æ˜¯è®©é‚£äº›å¿˜è®°é¢„å…ˆå£°æ˜çš„å˜é‡æˆä¸ºå…¨å±€å˜é‡ï¼Œè¿™å¯¼è‡´æŸ¥æ‰¾bugéå¸¸å›°éš¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä½œç”¨åŸŸ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºJavaScriptæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥æœ€å¥½æ˜¯åœ¨æ¯ä¸ªå‡½æ•°çš„å¼€å¤´éƒ¨åˆ†å£°æ˜æ‰€æœ‰å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è‡ªåŠ¨æ’å…¥åˆ†å·&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;JavaScriptæœ‰ä¸€ä¸ªæœºåˆ¶ï¼Œå®ƒè¯•å›¾é€šè¿‡è‡ªåŠ¨æ’å…¥åˆ†å·æ¥ä¿®æ­£æœ‰ç¼ºæŸçš„ç¨‹åºã€‚åƒä¸‡ä¸è¦ä¾é å®ƒï¼Œå®ƒå¯èƒ½ä¼šæ©ç›–æ›´ä¸ºä¸¥é‡çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;parseInt&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;parseIntæ˜¯ä¸€ä¸ªå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°çš„å‡½æ•°ã€‚å®ƒåœ¨é‡åˆ°éæ•°å­—æ—¶åœæ­¢è§£æã€‚å¦‚æœè¯¥å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯0,é‚£ä¹ˆè¯¥å­—ç¬¦ä¸²å°†è¢«åŸºäºå…«è¿›åˆ¶è€Œä¸æ˜¯åè¿›åˆ¶æ¥æ±‚å€¼ã€‚å¹¸è¿çš„æ˜¯ï¼ŒparseIntå¯ä»¥æ¥å—ä¸€ä¸ªåŸºæ•°ä½œä¸ºå‚æ•°ã€‚æˆ‘å»ºè®®ä½ æ€»æ˜¯æä¾›è¿™ä¸ªåŸºæ•°å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;+&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;+è¿ç®—ç¬¦å¯ä»¥ç”¨äºåŠ æ³•è¿ç®—æˆ–å­—ç¬¦ä¸²è¿æ¥ã€‚ä½†ç©¶ç«Ÿä¼šå¦‚ä½•æ‰§è¡Œå–å†³äºå…¶å‚æ•°çš„ç±»å‹ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªè¿ç®—æ•°æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œå®ƒä¼šæŠŠå¦ä¸€ä¸ªè¿ç®—æ•°è½¬æ¢æˆå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚å¦‚æœä¸¤ä¸ªè¿ç®—æ•°éƒ½æ˜¯æ•°å­—ï¼Œåˆ™è¿”å›ä¸¤è€…ä¹‹å’Œã€‚å¦åˆ™ï¼Œå®ƒæŠŠä¸¤ä¸ªè¿ç®—æ•°éƒ½è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¿æ¥èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¯¹è±¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;JavaScriptçš„å¯¹è±¡æ°¸è¿œä¸ä¼šæœ‰çœŸçš„ç©ºå¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ä»åŸå‹é“¾ä¸­å–å¾—æˆå‘˜å…ƒç´ ã€‚&lt;/p&gt;
&lt;h2&gt;é™„å½•Bï¼šé¸¡è‚‹&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;==&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å»ºè®®æ°¸è¿œä¸è¦ä½¿ç”¨&lt;code&gt;==&lt;/code&gt;å’Œ&lt;code&gt;!=&lt;/code&gt;ã€‚ç›¸åï¼Œè¯·å§‹ç»ˆä½¿ç”¨&lt;code&gt;===&lt;/code&gt;å’Œ&lt;code&gt;!==&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;withè¯­å¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;eval&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;functionè¯­å¥å¯¹æ¯”å‡½æ•°è¡¨è¾¾å¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;JavaScriptæ—¢æœ‰functionè¯­å¥ï¼ˆ&lt;em&gt;å‡½æ•°å£°æ˜&lt;/em&gt;ï¼‰ï¼ŒåŒæ—¶ä¹Ÿæœ‰å‡½æ•°è¡¨è¾¾å¼ï¼ˆåŒ¿åå‡½æ•°ï¼ŸåŒ…å«èµ‹å€¼è¿‡ç¨‹ä¹ˆï¼Ÿï¼‰ã€‚ä»¤äººå›°æƒ‘çš„æ˜¯ä¸¤è€…çœ‹èµ·æ¥å¥½åƒå°±æ˜¯ç›¸åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆ&lt;em&gt;åŒºåˆ†ï¼šå‡½æ•°å£°æ˜æ‰€æœ‰ä»£ç è¢«æ‰§è¡Œä¹‹å‰è¿è¡Œã€‚å‡½æ•°è¡¨è¾¾å¼ä»…å½“è§£é‡Šå™¨åˆ°è¾¾ä»£ç æ—¶å€™æ‰è¿è¡Œã€‚&lt;/em&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;functionè¯­å¥åœ¨è§£ææ—¶ä¼šå‘ç”Ÿè¢«æå‡çš„æƒ…å†µã€‚è¿™æ„å‘³ç€ä¸ç®¡functionè¯­å¥è¢«é˜²æ²»åœ¨å“ªé‡Œï¼Œå®ƒéƒ½ä¼šè¢«ç§»åŠ¨åˆ°è¢«å®šä¹‰æ—¶æ‰€åœ¨ä½œç”¨åŸŸçš„é¡¶å±‚ã€‚è¿™æ”¾å®½äº†å‡½æ•°å¿…é¡»å…ˆå£°æ˜åä½¿ç”¨çš„è¦æ±‚ï¼Œè€Œæˆ‘è®¤ä¸ºè¿™ä¼šå¯¼è‡´æ··ä¹±ã€‚åœ¨ifè¯­å¥ä¸­ä½¿ç”¨functionè¯­å¥ä¹Ÿæ˜¯è¢«ç¦æ­¢çš„ã€‚ç»“æœè¡¨æ˜å¤§å¤šæ•°çš„æµè§ˆå™¨éƒ½å…è®¸åœ¨ifè¯­å¥é‡Œä½¿ç”¨functionè¯­å¥ï¼Œä½†å®ƒä»¬åœ¨è§£ææ—¶çš„å¤„ç†ä¸Šå„ä¸ç›¸åŒï¼Œä»è€Œé€ æˆäº†å¯ç§»æ¤æ€§çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªè¯­å¥ä¸èƒ½ä»¥ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼å¼€å¤´ï¼Œå› ä¸ºå®˜æ–¹çš„è¯­æ³•å‡å®šä»¥å•è¯functionå¼€å¤´çš„è¯­å¥æ˜¯ä¸€ä¸ªfunctionè¯­å¥ï¼ˆ&lt;em&gt;è¿™é‡Œè¯´å¾—æˆ‘æœ‰ç‚¹ç³Šæ¶‚äº†å•Šï¼&lt;/em&gt;ï¼‰ã€‚è§£å†³æ–¹æ³•å°±æ˜¯æŠŠå‡½æ•°è¡¨è¾¾å¼æ‹¬åœ¨ä¸€ä¸ªåœ†æ‹¬å·ä¹‹ä¸­ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;(&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; () {
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; hidden_variable;
    &lt;span style="color: #008000"&gt;// è¿™ä¸ªå‡½æ•°å¯èƒ½å¯¹ç¯å¢ƒæœ‰ä¸€äº›å½±å“ï¼Œä½†ä¸ä¼šå¼•å…¥æ–°çš„å…¨å±€å˜é‡ã€‚&lt;/span&gt;
})();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;void&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å¾ˆå¤šè¯­è¨€ä¸­ï¼Œvoidæ˜¯ä¸€ç§ç±»å‹ï¼Œè¡¨ç¤ºæ²¡æœ‰å€¼ã€‚è€Œåœ¨JavaScriptä¸­ï¼Œvoidæ˜¯ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œæ¥å—ä¸€ä¸ªè¿ç®—æ•°å¹¶è¿”å›undefinedã€‚è¿™æ²¡ä»€ä¹ˆç”¨ã€‚&lt;/p&gt;
&lt;h2&gt;é™„å½•Cï¼šJSLint&lt;/h2&gt;
&lt;p&gt;ï¼ˆ&lt;em&gt;å¾…é˜…è¯»&lt;/em&gt;ï¼‰&lt;/p&gt;
&lt;h2&gt;é™„å½•Eï¼šJSON&lt;/h2&gt;
&lt;p&gt;JSONæœ‰6ç§ç±»å‹çš„å€¼ï¼šå¯¹è±¡ã€æ•°ç»„ã€å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ï¼ˆtrueå’Œfalseï¼‰å’Œç‰¹æ®Šå€¼nullã€‚ç©ºç™½ï¼ˆç©ºæ ¼ç¬¦ã€åˆ¶è¡¨ç¬¦ã€å›è½¦ç¬¦å’Œæ¢è¡Œç¬¦ï¼‰å¯è¢«æ’åˆ°ä»»ä½•å€¼çš„å‰åï¼Œä»è€Œä½¿å¾—JSONæ–‡æœ¬æ›´å®¹æ˜“è¢«äººé˜…è¯»ã€‚ä¸ºäº†å‡å°‘ä¼ è¾“å’Œå­˜å‚¨çš„æˆæœ¬ï¼Œç©ºç™½å¯ä»¥è¢«çœç•¥ã€‚&lt;/p&gt;
&lt;p&gt;JSONå¯¹è±¡æ˜¯ä¸€ä¸ªå®¹çº³â€œå/å€¼â€å¯¹çš„æ— åºé›†åˆã€‚&lt;/p&gt;
&lt;p&gt;JSONæ•°ç»„æ˜¯ä¸€ä¸ªå€¼çš„æœ‰åºåºåˆ—ã€‚å…¶å€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„JSONå€¼ï¼ŒåŒ…æ‹¬æ•°ç»„å’Œå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;JSONå­—ç¬¦ä¸²è¦è¢«åŒ…å›´åœ¨ä¸€å¯¹åŒå¼•å·ä¹‹é—´ã€‚\å­—ç¬¦è¢«ç”¨äºè½¬ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;JSONæ•°å­—ä¸JavaScriptçš„æ•°å­—ç›¸ä¼¼ã€‚æ•´æ•°çš„é¦–ä½ä¸å…è®¸ä¸º0,å› ä¸ºä¸€äº›è¯­è¨€ç”¨å®ƒæ¥æ ‡ç¤ºå…«è¿›åˆ¶ã€‚è¿™ç§åŸºæ•°çš„æ··ä¹±åœ¨æ•°æ®äº¤æ¢æ ¼å¼ä¸­æ˜¯ä¸å¯å–çš„ã€‚æ•°å­—å¯ä»¥æ˜¯æ•´æ•°ã€å®æ•°æˆ–ç§‘å­¦è®¡æ•°ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;JSONç‰¹åˆ«æ˜“äºç”¨åœ¨Webåº”ç”¨ä¸­ï¼Œå› ä¸ºJSONå°±æ˜¯JavaScriptã€‚ä½¿ç”¨evalå‡½æ•°å¯ä»¥æŠŠä¸€æ®µJSONæ–‡æœ¬è½¬åŒ–æˆä¸€ä¸ªæœ‰ç”¨çš„æ•°æ®ç»“æ„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; myData = eval(&lt;span style="color: #a31515"&gt;&amp;#39;(&amp;#39;&lt;/span&gt; + myJSONText + &lt;span style="color: #a31515"&gt;&amp;#39;)&amp;#39;&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨JavaScriptçš„è¯­æ³•ä¸­ï¼Œè¡¨è¾¾å¼è¯­å¥ï¼ˆExpression Statementï¼‰ä¸å…è®¸ä»¥å·¦èŠ±æ‹¬å·â€œ{â€å¼€å§‹ï¼Œå› ä¸ºé‚£ä¼šä¸å—è¯­å¥ï¼ˆBlock Statementsï¼‰äº§ç”Ÿæ··æ·†ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨eval()è§£æJSONæ–‡æœ¬æ—¶ï¼Œä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼Œå¯ä»¥å°†JSONæ–‡æœ¬å¥—ä¸Šä¸€å¯¹åœ†æ‹¬å·ã€‚åœ†æ‹¬å·æ—©æ­¤å¤„ä½œä¸ºè¡¨è¾¾å¼çš„åˆ†ç»„è¿ç®—ç¬¦ï¼Œèƒ½å¯¹åŒ…å›´åœ¨å…¶ä¸­çš„è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ä½¿ç”¨evalæ¥è§£æJSONæ–‡æœ¬å¯èƒ½ä¼šå­˜åœ¨å®‰å…¨é—®é¢˜ï¼Œæ‰€ä»¥åº”è¯¥ä½¿ç”¨JSON.parseæ–¹æ³•æ¥æ›¿ä»£evalã€‚å¦‚æœæ–‡æœ¬ä¸­åŒ…å«ä»»ä½•å±é™©æ•°æ®ï¼ŒJSON.parseå°†ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category><category term="JavaScript"></category></entry><entry><title>JavaScriptåˆå­¦è€…åº”çŸ¥çš„24æ¡æœ€ä½³å®è·µï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/03/11/js-best-practices-for-beginners/" rel="alternate"></link><published>2013-03-11T00:00:00+08:00</published><updated>2013-03-11T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-03-11:/2013/03/11/js-best-practices-for-beginners/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://net.tutsplus.com/tutorials/javascript-ajax/24-javascript-best-practices-for-beginners/"&gt;24 JavaScript Best Practices for Beginners&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ï¼ˆæ³¨ï¼šé˜…è¯»åŸæ–‡çš„æ—¶å€™æ²¡æœ‰æ³¨æ„å‘å¸ƒæ—¥æœŸï¼Œè§‰å¾—ä¸é”™å°±ç¿»è¯‘äº†ï¼Œç¿»è¯‘åˆ°JSON.parseé‚£ä¸€èŠ‚è§‰å¾—æœ‰ç‚¹ä¸å¯¹è·¯æ‰å‘ç°æ˜¯2009å¹´å‘å¸ƒçš„æ–‡ç« ï¼Œä¸è¿‡è¿˜æ˜¯ä¸é”™çš„å•¦ã€‚å¦å¤– â€¦&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://net.tutsplus.com/tutorials/javascript-ajax/24-javascript-best-practices-for-beginners/"&gt;24 JavaScript Best Practices for Beginners&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ï¼ˆæ³¨ï¼šé˜…è¯»åŸæ–‡çš„æ—¶å€™æ²¡æœ‰æ³¨æ„å‘å¸ƒæ—¥æœŸï¼Œè§‰å¾—ä¸é”™å°±ç¿»è¯‘äº†ï¼Œç¿»è¯‘åˆ°JSON.parseé‚£ä¸€èŠ‚è§‰å¾—æœ‰ç‚¹ä¸å¯¹è·¯æ‰å‘ç°æ˜¯2009å¹´å‘å¸ƒçš„æ–‡ç« ï¼Œä¸è¿‡è¿˜æ˜¯ä¸é”™çš„å•¦ã€‚å¦å¤–ï¼Œæ–‡ç« è™½è¯´24æ¡æœ€ä½³å®è·µï¼Œå…¶å®åªæœ‰23æ¡ï¼Œä¸çŸ¥é“åŸä½œè€…æ€ä¹ˆæ¼äº†ä¸€æ¡ã€‚ï¼‰&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;1.ä¼˜å…ˆä½¿ç”¨===ï¼Œè€Œä¸æ˜¯==&lt;/h3&gt;
&lt;p&gt;JavaScriptä½¿ç”¨ä¸¤ç§ç›¸ç­‰æ€§æ“ä½œç¬¦ï¼š===|!==å’Œ==|!=ã€‚é€šå¸¸è®¤ä¸ºåšæ¯”è¾ƒçš„æœ€ä½³å®è·µæ˜¯ä½¿ç”¨å‰ä¸€ç»„æ“ä½œç¬¦ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;"è‹¥ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹å’Œå€¼ç›¸åŒï¼Œé‚£ä¹ˆ===æ¯”è¾ƒçš„ç»“æœä¸ºçœŸï¼Œ!==æ¯”è¾ƒçš„ç»“æœä¸ºå‡ã€‚" --- JavaScriptè¯­è¨€ç²¾ç²¹(JavaScript: The Good Parts)
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç„¶è€Œï¼Œå¦‚æœä½¿ç”¨==å’Œ!=ï¼Œå½“æ¯”è¾ƒä¸åŒç±»å‹çš„æ“ä½œæ•°æ—¶ï¼Œä½ å°±ä¼šç¢°åˆ°é—®é¢˜å•¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ç»„æ“ä½œç¬¦ä¼šå°è¯•å¯¹æ“ä½œæ•°çš„å€¼åšæ— ç”¨çš„å¼ºåˆ¶è½¬æ¢ã€‚&lt;/p&gt;
&lt;h3&gt;2.Evalå°±æ˜¯ç³Ÿç³•çš„ä»£åè¯&lt;/h3&gt;
&lt;p&gt;å¯¹äºé‚£äº›ä¸ç†Ÿæ‚‰JavaScriptçš„äººæ¥è¯´ï¼Œå‡½æ•°"evel"è®©æˆ‘ä»¬èƒ½å¤Ÿè®¿é—®JavaScriptç¼–è¯‘å™¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™"eval"ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°æ¥å¾—åˆ°è¯¥å­—ç¬¦ä¸²æ‰§è¡Œçš„ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ä»…ä¼šæå¤§åœ°é™ä½ä½ çš„è„šæœ¬çš„æ€§èƒ½ï¼Œä¹Ÿä¼šé€ æˆä¸€ä¸ªå·¨å¤§çš„å®‰å…¨éšæ‚£ï¼Œå› ä¸ºè¿™èµ‹äºˆä¼ é€’è¿›æ¥çš„çº¯æ–‡æœ¬å¤ªå¤šçš„èƒ½åŠ›ã€‚è¦å°½å¯èƒ½åœ°é¿å…evalå‡½æ•°çš„ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;3.ä¸è¦æ‡’æ‰‹&lt;/h3&gt;
&lt;p&gt;æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œä½ ç¡®å®å¯èƒ½ä¾¥å¹¸åœ°çœç•¥å¤šæ•°èŠ±æ‹¬å·å’Œåˆ†å·ã€‚å¤§å¤šæ•°æµè§ˆå™¨éƒ½èƒ½å¤Ÿæ­£ç¡®åœ°è§£é‡Šå¦‚ä¸‹ä»£ç ç‰‡æ®µï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(someVariableExists)
    x = &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç„¶è€Œï¼Œå†è€ƒè™‘ä¸€ä¸‹è¿™æ®µä»£ç ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(someVariableExists)
    x = &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;
    anotherFunctionCall();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯èƒ½ä¼šæœ‰äººè®¤ä¸ºä¸Šä¸€æ®µä»£ç ç­‰ä»·äºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(someVariableExists) {
    x = &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;
    anotherFunctionCall();
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¾ˆä¸å¹¸ï¼Œä»–é”™äº†ã€‚äº‹å®ä¸Šï¼Œå®ƒçš„æœ¬æ„æ˜¯ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(someVariableExists)
    x = &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;
anotherFunctionCall();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½ åº”è¯¥ä¹Ÿæ³¨æ„åˆ°äº†ï¼Œä»£ç ä¸­ç¼©è¿›æ¨¡ä»¿äº†èŠ±æ‹¬å·çš„åŠŸèƒ½ã€‚æ¯‹åº¸ç½®ç–‘ï¼Œè¿™æ˜¯éå¸¸ææ€–çš„åšæ³•ï¼Œæ— è®ºå¦‚ä½•éƒ½åº”è¯¥é¿å…ã€‚å”¯ä¸€å¯ä»¥çœç•¥èŠ±æ‹¬å·çš„æ—¶å€™æ˜¯åœ¨ä¸€è¡Œå¼çš„è¯­å¥ä¸­ï¼Œä½†å³ä½¿è¿™ç§æƒ…å†µï¼Œä¹Ÿæ˜¯å¾ˆæœ‰äº‰è®®çš„ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(2 + 2 === 4) &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;nicely done&amp;#39;&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å§‹ç»ˆè¦æƒ³ç€ä»¥å&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä»¥åçš„æŸä¸ªæ—¶å€™ï¼Œä½ éœ€è¦åœ¨è¿™ç§ifè¯­å¥ä¸­å¢åŠ æ›´å¤šçš„å‘½ä»¤ï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæ²¡æ³•å­ï¼Œä½ å°±åªèƒ½é‡å†™è¿™å—ä»£ç äº†ã€‚å¤„ç†è¿™ä¸ªé—®é¢˜çš„åº•çº¿æ˜¯å¯¹äºçœç•¥å†™æ³•ä¿æŒè°¨æ…ã€‚&lt;/p&gt;
&lt;h3&gt;4.ä½¿ç”¨JS Lint&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://www.jslint.com/"&gt;JSLint&lt;/a&gt;æ˜¯Douglas Crockfordç¼–å†™çš„ä¸€ä¸ªè°ƒè¯•å™¨ã€‚ç®€å•åœ°å°†ä½ çš„è„šæœ¬æ‹·è´è¿›å»ï¼Œå®ƒå°±ä¼šå¿«é€Ÿåœ°æ‰«æä½ çš„ä»£ç ä¸­ä»»ä½•æ˜æ˜¾çš„é—®é¢˜å’Œé”™è¯¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;"JSLintè·å–ä¸€ä»½JavaScriptæºç ï¼Œç„¶åæ‰«æä»£ç ã€‚å¦‚æœå‘ç°é—®é¢˜ï¼Œå°±ä¼šè¿”å›ä¸€æ¡ä¿¡æ¯æè¿°è¿™ä¸ªé—®é¢˜ä»¥åŠè¿™ä¸ªé—®é¢˜åœ¨æºç ä¸­çš„å¤§è‡´ä½ç½®ã€‚é—®é¢˜è™½ç„¶ç»å¸¸æ˜¯è¯­æ³•é”™è¯¯ï¼Œå´ä¸ä¸€å®šæ˜¯ã€‚JSLintä¹Ÿä¼šæŸ¥çœ‹ä¸€äº›é£æ ¼ä¹ æƒ¯ä»¥åŠç»“æ„é—®é¢˜ã€‚å®ƒå¹¶ä¸è¯æ˜ä½ çš„ä»£ç æ˜¯å¦æ­£ç¡®ï¼Œåªæ˜¯æä¾›å¦å¤–çš„ä¸€åŒçœ¼ç›æ¥å¸®åŠ©å‘ç°é—®é¢˜ã€‚"---JSLintæ–‡æ¡£
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨ç»“æŸè„šæœ¬ä»£ç çš„ç¼–å†™ä¹‹å‰ï¼Œå¯¹å…¶æ‰§è¡Œä¸€æ¬¡JSLintï¼Œèƒ½å¤Ÿä¿è¯ä½ ä¸ä¼šçŠ¯ä¸€äº›æ„šè ¢çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;h3&gt;5.å°†è„šæœ¬ç½®äºé¡µé¢çš„åº•éƒ¨&lt;/h3&gt;
&lt;p&gt;è¿™æ¡æŠ€å·§åœ¨æœ¬ç³»åˆ—å‰é¢çš„æ–‡ç« ä¸­ä¹Ÿæ¨èè¿‡ã€‚å› ä¸ºå®ƒåœ¨æ­¤å¤„ä¹Ÿéå¸¸åˆé€‚ï¼ˆAs it's highly appropriate thoughï¼‰ï¼Œæ‰€æœ‰æˆ‘å°†é‚£æ®µä¿¡æ¯ç›´æ¥ç²˜è´´åœ¨è¿™é‡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="/assets/uploads/pics/javascriptButton.png" alt="javascriptButton.png"&gt;&lt;/p&gt;
&lt;p&gt;è®°ä½---è¿™æ¡æœ€ä½³å®è·µçš„ä¸»è¦ç›®æ ‡æ˜¯å°½å¯èƒ½å¿«é€Ÿåœ°ä¸ºç”¨æˆ·åŠ è½½é¡µé¢ã€‚å½“åŠ è½½ä¸€ä¸ªè„šæœ¬æ—¶ï¼Œæµè§ˆå™¨ç›´åˆ°æ•´ä¸ªè„šæœ¬æ–‡ä»¶å…¨éƒ¨åŠ è½½å®Œæ¯•æ‰èƒ½ç»§ç»­ã€‚å› æ­¤ï¼Œç”¨æˆ·å¿…é¡»ç­‰ä¸Šæ›´é•¿çš„æ—¶é—´æ‰èƒ½æ³¨æ„åˆ°ä»»ä½•çš„è¿›åº¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœJSæ–‡ä»¶çš„ç›®çš„ä»…ä»…æ˜¯å¢åŠ åŠŸèƒ½---ä¾‹å¦‚ï¼Œåœ¨ç‚¹å‡»æŸä¸ªæŒ‰é’®å---é‚£ä¹ˆå°±å°†é‚£äº›æ–‡ä»¶æ”¾åœ¨åº•éƒ¨ï¼Œbodyç»“æŸæ ‡ç­¾ä¹‹å‰å§ã€‚è¿™ç»å¯¹æ˜¯ä¸€ä¸ªæœ€ä½³å®è·µã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ›´å¥½çš„åšæ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;p&amp;gt;And now you know my favorite kinds of corn. &amp;lt;/p&amp;gt;
&amp;lt;script type=&lt;span style="color: #a31515"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; src=&lt;span style="color: #a31515"&gt;&amp;quot;path/to/file.js&amp;quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script type=&lt;span style="color: #a31515"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; src=&lt;span style="color: #a31515"&gt;&amp;quot;path/to/anotherFile.js&amp;quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;6.åœ¨Forè¯­å¥ä¹‹å¤–å£°æ˜å˜é‡&lt;/h3&gt;
&lt;p&gt;å½“æ‰§è¡Œä¸€ä¸ªå†—é•¿çš„"for"è¯­å¥ä¹‹æ—¶ï¼Œä»…ä»…è®©è§£é‡Šå¼•æ“åšå¿…é¡»å¹²çš„æ´»å§ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç³Ÿç³•çš„åšæ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; i = 0; i &amp;lt; someArray.length; i++) {
    &lt;span style="color: #0000ff"&gt;var&lt;/span&gt; container = document.getElementById(&lt;span style="color: #a31515"&gt;&amp;#39;container&amp;#39;&lt;/span&gt;);
    container.innerHtml += &lt;span style="color: #a31515"&gt;&amp;#39;my number: &amp;#39;&lt;/span&gt; + i;
    console.log(i);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„ä¸Šé¢ä»£ç ç‰‡æ®µä¸­çš„æ¯æ¬¡è¿­ä»£éƒ½éœ€è¦æ£€æŸ¥æ•°ç»„çš„é•¿åº¦ï¼Œå¹¶ä¸”æ¯æ¬¡éƒ½è¦éå†DOMæ ‘æ‰¾åˆ°"container"å…ƒç´ ---æ•ˆç‡å¤šä½å•Šï¼&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ›´å¥½çš„åšæ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; container = document.getElementById(&lt;span style="color: #a31515"&gt;&amp;#39;container&amp;#39;&lt;/span&gt;);
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; i = 0, len = someArray.length; i &amp;lt; len; i++) {
    container.innerHtml += &lt;span style="color: #a31515"&gt;&amp;#39;my number: &amp;#39;&lt;/span&gt; + i;
    console.log(i);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ„Ÿè°¢æœ‰ä½æœ‹å‹ç•™ä¸‹è¯„è®ºå±•ç¤ºå¦‚ä½•è¿›ä¸€æ­¥ä¼˜åŒ–ä¸Šé¢çš„ä»£ç å—ã€‚&lt;/p&gt;
&lt;h3&gt;7.æ„å»ºå­—ç¬¦ä¸²çš„æœ€å¿«æ–¹å¼&lt;/h3&gt;
&lt;p&gt;å½“éœ€è¦éå†ä¸€ä¸ªæ•°ç»„æˆ–è€…å¯¹è±¡ä¹‹æ—¶ï¼Œä¸è¦æ€»æ˜¯ä½¿ç”¨ä½ èƒ½ä¿¡æ‰‹ç²˜æ¥çš„"for"è¯­å¥ã€‚åˆ›é€ æ€§åœ°æ‰¾ä¸ªèƒ½å¤Ÿå®Œæˆå·¥ä½œçš„æœ€å¿«é€Ÿçš„æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; arr = [&lt;span style="color: #a31515"&gt;&amp;#39;item 1&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;item 2&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;item 3&amp;#39;&lt;/span&gt;, ...];
&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; list = &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;&amp;#39;&lt;/span&gt; + arr.join(&lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&amp;#39;&lt;/span&gt;) + &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&amp;#39;&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;"æˆ‘ä¸ä¼šä»¥æµ‹è¯•åŸºå‡†æ¥çƒ¦ä½ ï¼›ä½ åªé¡»ç›¸ä¿¡æˆ‘ï¼ˆæˆ–è€…è‡ªå·±å»æµ‹è¯•ä¸€ä¸‹ï¼‰---è¿™æ˜¯ç›®å‰ä¸ºæ­¢æœ€å¿«çš„æ–¹å¼ï¼"&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨åŸç”Ÿæ–¹æ³•ï¼ˆæ¯”å¦‚join()ï¼‰ï¼Œä¸ç”¨ç®¡æŠ½è±¡å±‚é¢èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆï¼Œé€šå¸¸ä¼šæ¯”ä»»ä½•éåŸç”Ÿæ–¹æ³•å¿«å¾—å¤šã€‚ --- James Padolsey, james.padolsey.com"
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;8.å‡å°‘å…¨å±€å˜é‡&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;"é€šè¿‡å°†å…¨å±€çš„ä¸œè¥¿å°è£…è¿›å•ä¸ªå‘½åç©ºé—´ï¼Œèƒ½å¤Ÿå¤§å¤§é™ä½ä¸å…¶ä»–åº”ç”¨ã€éƒ¨ä»¶ã€ä»£ç åº“äº¤äº’æ··ä¹±çš„æ¦‚ç‡ã€‚"--- Douglas Crockford
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; name = &lt;span style="color: #a31515"&gt;&amp;#39;jeffrey&amp;#39;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; lastname = &lt;span style="color: #a31515"&gt;&amp;#39;Way&amp;#39;&lt;/span&gt;;

&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; doSomething() {...}

console.log(name);      &lt;span style="color: #008000"&gt;// Jeffrey -- or window.name&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ›´å¥½çš„åšæ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; DudeNameSpace = {
    name: &lt;span style="color: #a31515"&gt;&amp;#39;Jeffrey&amp;#39;&lt;/span&gt;,
    lastname: &lt;span style="color: #a31515"&gt;&amp;#39;Way&amp;#39;&lt;/span&gt;,
    doSometing: &lt;span style="color: #0000ff"&gt;function&lt;/span&gt;() {...}
}
console.log(DudeNameSpace.name);    &lt;span style="color: #008000"&gt;// Jeffrey&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„æˆ‘ä»¬æ˜¯æ€æ ·å°†å…¨å±€æ€§çš„â€œè¶³è¿¹â€å‡å°‘ä¸ºä¸€ä¸ªå‘½åå¯ç¬‘çš„"DudeNameSpace"å¯¹è±¡çš„ã€‚&lt;/p&gt;
&lt;h3&gt;9.æ³¨é‡Šä½ çš„ä»£ç &lt;/h3&gt;
&lt;p&gt;ä¸€å¼€å§‹çœ‹èµ·æ¥ä¼¼ä¹æ²¡æœ‰å¿…è¦ï¼Œä½†è¯·ç›¸ä¿¡æˆ‘ï¼Œä½ å°†ä¼šæƒ³å°½å¯èƒ½å¥½åœ°æ³¨é‡Šä½ çš„ä»£ç ã€‚å½“ä½ å‡ ä¸ªæœˆåå†æ¬¡å›åˆ°é¡¹ç›®ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿå‘ç°ä½ æ ¹æœ¬æ²¡æ³•è½»æ¾åœ°è®°èµ·å½“åˆå¯¹æ¯ä¸€è¡Œä»£ç çš„æƒ³æ³•ã€‚æˆ–è€…ï¼Œå¦‚æœä½ çš„æŸä¸ªåŒäº‹éœ€è¦ä¿®æ”¹ä½ çš„ä»£ç ï¼Œé‚£åˆä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿå§‹ç»ˆï¼Œä¸€ç›´è®°ç€æ³¨é‡Šä½ ä»£ç çš„é‡è¦éƒ¨åˆ†å§ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;// Cycle through array and echo out each name&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; i = 0, len = array.length; i &amp;lt; len; i++) {
    console.log(array[i]);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;10.æ‹¥æŠ±æ¸è¿›å¢å¼º&lt;/h3&gt;
&lt;p&gt;å§‹ç»ˆè€ƒè™‘åˆ°å¦‚ä½•å¤„ç†JavaScriptç¦ç”¨çš„æƒ…å†µã€‚ä¹Ÿè®¸ä½ ä¼šæƒ³â€œå¤§å¤šæ•°æˆ‘ç½‘é¡µçš„é˜…è¯»å™¨éƒ½æ˜¯å¯ç”¨JavaScriptçš„ï¼Œå› æ­¤æˆ‘ä¸æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ã€‚â€ç„¶è€Œï¼Œè¿™ä¼šæ˜¯ä¸€ä¸ªå·¨å¤§çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;ä½ æ›¾èŠ±æ—¶é—´å»çœ‹è¿‡å…³é—­JavaScriptåä½ çš„æ¼‚äº®çš„æ»‘åŠ¨æ¡æ˜¯ä»€ä¹ˆæ ·ä¹ˆï¼Ÿï¼ˆ&lt;a href="https://addons.mozilla.org/en-US/firefox/addon/web-developer/"&gt;ä¸‹è½½&lt;/a&gt;Webå¼€å‘è€…å·¥å…·æ ä»¥æ–¹ä¾¿å¹²è¿™äº‹ã€‚ï¼‰ä¹Ÿè®¸å®ƒä¼šå®Œå…¨ç ´åä½ çš„ç«™ç‚¹ã€‚æŒ‰ç…§ä»¥å¾€ç»éªŒï¼Œè®¾è®¡ä½ çš„ç«™ç‚¹æ—¶åº”å‡è®¾å°†ä¼šç¦ç”¨JavaScriptã€‚é‚£ä¹ˆï¼Œä¸€æ—¦ä½ è¿™æ ·åšäº†ï¼Œé‚£ä¹ˆå¼€å§‹æ¸è¿›åœ°å¢å¼ºä½ çš„ç½‘é¡µå¸ƒå±€å§ï¼&lt;/p&gt;
&lt;h3&gt;11.ä¸è¦ä¼ é€’å­—ç¬¦ä¸²ç»™"SetInterval"æˆ–"SetTimeOut"&lt;/h3&gt;
&lt;p&gt;è€ƒè™‘ä¸€ä¸‹å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;setInterval(
&lt;span style="color: #a31515"&gt;&amp;quot;document.getElementById(&amp;#39;container&amp;#39;).innerHTML += &amp;#39;my new number: &amp;#39; + i&amp;quot;&lt;/span&gt;, 3000
);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ®µä»£ç ä¸ä»…ä½æ•ˆï¼Œè€Œä¸”å…¶è¡Œä¸ºä¸"eval"å‡½æ•°ç›¸åŒã€‚æ°¸è¿œä¸è¦ä¼ ç»™å­—ç¬¦ä¸²ç»™SetIntervalå’ŒSetTimeOutã€‚ç›¸åï¼Œåº”ä¼ é€’ä¸€ä¸ªå‡½æ•°åã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;setInterval(someFunction, 3000);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;12.ä¸è¦ä½¿ç”¨"With"è¯­å¥&lt;/h3&gt;
&lt;p&gt;ä¹ä¸€çœ‹ï¼Œ"With"è¯­å¥ä¼¼ä¹æ˜¯ä¸ªèªæ˜çš„æƒ³æ³•ã€‚åŸºæœ¬æ¦‚å¿µæ˜¯å®ƒä»¬èƒ½å¤Ÿä¸ºè®¿é—®æ·±åº¦åµŒå¥—å¯¹è±¡æä¾›ä¸€ç§ç®€å†™æ–¹å¼ã€‚ä¾‹å¦‚...&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;with&lt;/span&gt; (being.person.man.bodyparts) {
    arms = &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
    legs = &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å–ä»£å¦‚ä¸‹å†™æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;being.person.man.bodyparts.arms = &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
being.person.man.bodyparts.legs = &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¾ˆä¸å¹¸ï¼Œç»è¿‡ä¸€äº›æµ‹è¯•ï¼Œä¼šå‘ç°è¿™ç§ç®€å†™åœ¨è®¾ç½®æ–°æˆå‘˜æ—¶è¡¨ç°éå¸¸ç³Ÿç³•ã€‚ä½œä¸ºæ›¿ä»£ï¼Œä½ åº”è¯¥ä½¿ç”¨varã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; o = being.person.man.bodyparts;
o.arms = &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
o.legs = &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;13.ä½¿ç”¨{}è€Œä¸æ˜¯New Object()&lt;/h3&gt;
&lt;p&gt;JavaScriptä¸­æœ‰å¤šç§åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ã€‚ä¹Ÿè®¸æ›´ä¼ ç»Ÿçš„æ–¹å¼æ˜¯ä½¿ç”¨"new"æ„é€ å™¨ï¼Œåƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; o = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Object();
o.name = &lt;span style="color: #a31515"&gt;&amp;#39;Jeffrey&amp;#39;&lt;/span&gt;;
o.lastname = &lt;span style="color: #a31515"&gt;&amp;#39;Way&amp;#39;&lt;/span&gt;;
o.someFuncion = &lt;span style="color: #0000ff"&gt;function&lt;/span&gt;() {
    console.log(&lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.name);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç„¶è€Œï¼Œè¿™ç§æ–¹å¼å› å…¶è¡Œä¸ºå¹¶ä¸æ˜¯æˆ‘ä»¬æ‰€æƒ³çš„é‚£æ ·è€Œè¢«è®¤ä¸ºæ˜¯â€œç³Ÿç³•çš„å®è·µã€‚ç›¸åï¼Œæˆ‘æ¨èä½ ä½¿ç”¨æ›´å¥å£®çš„å¯¹è±¡å­—é¢æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ›´å¥½çš„å†™æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; o = {
    name: &lt;span style="color: #a31515"&gt;&amp;#39;Jeffrey&amp;#39;&lt;/span&gt;,
    lastName: &lt;span style="color: #a31515"&gt;&amp;#39;Way&amp;#39;&lt;/span&gt;,
    someFunction: &lt;span style="color: #0000ff"&gt;function&lt;/span&gt;() {
        console.log(&lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.name);
    }
};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„å¦‚æœä½ åªæ˜¯æƒ³ç®€å•åœ°åˆ›å»ºä¸ªç©ºå¯¹è±¡ï¼Œ{}å°±æ´¾ä¸Šç”¨åœºäº†ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; o = {};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;"å¯¹è±¡å­—é¢é‡ä½¿æˆ‘ä»¬èƒ½å¤Ÿç¼–å†™æ”¯æŒå¾ˆå¤šç‰¹æ€§çš„ä»£ç ï¼Œå¹¶å¯¹ä»£ç çš„å®ç°è€…æ¥è¯´ä»£ç ä»ç„¶ç›¸å¯¹ç›´è§‚ã€‚ä¸éœ€è¦ç›´æ¥è°ƒç”¨æ„é€ å™¨æˆ–ç»´æŠ¤ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°çš„æ­£ç¡®é¡ºåºï¼Œç­‰ç­‰ã€‚" --- dyn-web.com
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;14.ä½¿ç”¨[]è€Œä¸æ˜¯New Array()&lt;/h3&gt;
&lt;p&gt;è¿™åŒæ ·é€‚ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿‡å¾—å»çš„å†™æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; a = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Array();
a[0] = &lt;span style="color: #a31515"&gt;&amp;#39;Joe&amp;#39;&lt;/span&gt;;
a[1] = &lt;span style="color: #a31515"&gt;&amp;#39;Plumber&amp;#39;&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ›´å¥½çš„å†™æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; a = [&lt;span style="color: #a31515"&gt;&amp;#39;Joe&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;Plumber&amp;#39;&lt;/span&gt;];
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;"JavaScriptä¸­ä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯éœ€è¦æ•°ç»„æ—¶ä½¿ç”¨å¯¹è±¡æˆ–éœ€è¦å¯¹è±¡æ—¶ä½¿ç”¨æ•°ç»„ã€‚è§„åˆ™å¾ˆç®€å•ï¼šå½“å±æ€§åæ˜¯å°çš„è¿ç»­æ•´æ•°æ—¶ï¼Œä½ åº”è¯¥ä½¿ç”¨æ•°ç»„ã€‚å¦åˆ™ï¼Œä½¿ç”¨å¯¹è±¡"---Douglas Crockford
&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;15.ä¸€é•¿ä¸²å˜é‡ï¼Ÿçœç•¥"var"å…³é”®å­—ï¼Œä½¿ç”¨é€—å·æ›¿ä»£&lt;/h3&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; someItem = &lt;span style="color: #a31515"&gt;&amp;#39;some string&amp;#39;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; anotherItem = &lt;span style="color: #a31515"&gt;&amp;#39;another string&amp;#39;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; oneMoreItem = &lt;span style="color: #a31515"&gt;&amp;#39;one more string&amp;#39;&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ›´å¥½çš„å†™æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; someItem = &lt;span style="color: #a31515"&gt;&amp;#39;some string&amp;#39;&lt;/span&gt;,
    anotherItem = &lt;span style="color: #a31515"&gt;&amp;#39;another string&amp;#39;&lt;/span&gt;,
    oneMoreItem = &lt;span style="color: #a31515"&gt;&amp;#39;one more string&amp;#39;&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç›¸å½“çš„ä¸è¨€è‡ªæ˜ã€‚æˆ‘ä¸çŸ¥é“è¿™é‡Œæ˜¯å¦æœ‰ä»»ä½•çœŸæ­£çš„é€Ÿåº¦æå‡ï¼Œä½†æ˜¯å®ƒä½¿ä½ çš„ä»£ç æ›´åŠ ç®€æ´äº†ã€‚&lt;/p&gt;
&lt;h3&gt;16.å§‹ç»ˆï¼Œå§‹ç»ˆä½¿ç”¨åˆ†å·&lt;/h3&gt;
&lt;p&gt;æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œå¤§å¤šæ•°æµè§ˆå™¨éƒ½å…è®¸ä½ çš„çœç•¥ä¸€äº›åˆ†å·ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; someItem = &lt;span style="color: #a31515"&gt;&amp;#39;some string&amp;#39;&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; doSomething() {
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;something&amp;#39;&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¯è™½å¦‚æ­¤ï¼Œä½†è¿™æ˜¯ä¸€ç§éå¸¸ç³Ÿç³•çš„åšæ³•ï¼Œå¯èƒ½å¯¼è‡´æ›´å¤§çš„é—®é¢˜ï¼Œé—®é¢˜æŸ¥æ‰¾èµ·æ¥ä¹Ÿæ›´å›°éš¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ›´å¥½çš„å†™æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; someItem = &lt;span style="color: #a31515"&gt;&amp;#39;some string&amp;#39;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; doSomething() {
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;something&amp;#39;&lt;/span&gt;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;18."For in"è¯­å¥&lt;/h3&gt;
&lt;p&gt;éå†å¯¹è±¡å†…çš„æˆå‘˜æ—¶ï¼Œä½ ä¹Ÿä¼šå¾—åˆ°æ–¹æ³•å‡½æ•°ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåº”å§‹ç»ˆå°†ä½ çš„ä»£ç åŒ…è£…åœ¨ä¸€ä¸ªifè¯­å¥ä¸­æ¥è¿‡æ»¤ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(key &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; object) {
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(object.hasOwnProperty(key)) {
        ... then &lt;span style="color: #0000ff"&gt;do&lt;/span&gt; something...
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¼•è‡ª&lt;em&gt;JavaScript: è¯­è¨€ç²¾ç²¹ï¼Œ Douglas Crockfordè‘—&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;19.ä½¿ç”¨Firebugçš„"Timer"ç‰¹æ€§æ¥ä¼˜åŒ–ä»£ç &lt;/h3&gt;
&lt;p&gt;éœ€è¦ä¸€ç§å¿«é€Ÿç®€å•çš„æ–¹æ³•æ¥æ£€æµ‹ä¸€ä¸ªæ“ä½œèŠ±è´¹å¤šé•¿æ—¶é—´ä¹ˆï¼Ÿä½¿ç”¨Firebugçš„"timer"ç‰¹æ€§è®°å½•ç»“æœã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; TimeTracker() {
    console.time(&lt;span style="color: #a31515"&gt;&amp;quot;MyTimer&amp;quot;&lt;/span&gt;);
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(x=5000; x &amp;gt; 0; x--){}
    console.timeEnd(&lt;span style="color: #a31515"&gt;&amp;quot;MyTimer&amp;quot;&lt;/span&gt;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;20.é˜…è¯»ï¼Œé˜…è¯»ï¼Œå†é˜…è¯»&lt;/h3&gt;
&lt;p&gt;æˆ‘æ˜¯ä¸€ä¸ªWebå¼€å‘åšå®¢çš„è¶…çº§ç²‰ä¸ï¼ˆæ¯”å¦‚è¿™ä¸ªåšå®¢ï¼ï¼‰ï¼Œä½†åƒåˆé¤æˆ–è€…ç¡å‰ï¼Œåšå®¢ç¡®å®ä¸æ˜¯ä¹¦ç±çš„æ›¿ä»£å“ã€‚å§‹ç»ˆåœ¨ä½ çš„åºŠå‰æ¡Œä¸Šæ”¾ä¸€æœ¬wenå¼€å‘ä¹¦ç±å§ã€‚å¦‚ä¸‹æ˜¯ä¸€äº›æˆ‘æœ€å–œæ¬¢çš„JavaScriptä¹¦ç±ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.packtpub.com/object-oriented-javascript-applications-libraries/book"&gt;é¢å‘å¯¹è±¡çš„JavaScript&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://oreilly.com/catalog/9780596517748/"&gt;JavaScriptï¼šè¯­è¨€ç²¾ç²¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.packtpub.com/learning-jquery-1.3/book"&gt;å­¦ä¹ jQuery 1.3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://oreilly.com/catalog/9780596527464/"&gt;å­¦ä¹ JavaScript&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤šé˜…è¯»å‡ éã€‚æˆ‘ä»æ—§åœ¨è¯»ï¼&lt;/p&gt;
&lt;h3&gt;21.è‡ªæ‰§è¡Œå‡½æ•°(Self-Executing Functions)&lt;/h3&gt;
&lt;p&gt;ç›¸æ¯”è°ƒç”¨å‡½æ•°ï¼Œå½“é¡µé¢åŠ è½½æˆ–è°ƒç”¨çˆ¶å‡½æ•°æ—¶ï¼Œè®©å‡½æ•°è‡ªåŠ¨æ‰§è¡Œä¼šç®€å•äº›ã€‚ç®€å•åœ°å°†ä½ çš„å‡½æ•°åŒ…è£…åœ¨åœ†æ‹¬å·å†…ï¼Œå¹¶æ·»åŠ é¢å¤–çš„ä¸€å¯¹åœ†æ‹¬å·ï¼Œå…¶æœ¬è´¨ä¸Šå°±è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;(&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; doSomething() {
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; {
        name: &lt;span style="color: #a31515"&gt;&amp;#39;jeff&amp;#39;&lt;/span&gt;,
        lastName: &lt;span style="color: #a31515"&gt;&amp;#39;way&amp;#39;&lt;/span&gt;
    };
 })();
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;22.åŸå§‹(raw)JavaScriptä»£ç çš„æ‰§è¡Œé€Ÿåº¦å§‹ç»ˆå¿«äºä½¿ç”¨ä»£ç åº“&lt;/h3&gt;
&lt;p&gt;JavaScriptä»£ç åº“ï¼Œå¦‚jQueryå’ŒMootoolsï¼Œèƒ½å¤Ÿä¸ºä½ èŠ‚çœå¤§é‡çš„ç¼–ç æ—¶é—´---ç‰¹åˆ«æ˜¯ä½¿ç”¨AJAXæ“ä½œã€‚è¯è™½å¦‚æ­¤ï¼Œå§‹ç»ˆè°¨è®°ä»£ç åº“çš„æ‰§è¡Œé€Ÿåº¦å§‹ç»ˆæ˜¯æ¯”ä¸ä¸ŠåŸå§‹JavaScriptä»£ç çš„ï¼ˆå‡è®¾äº†ä»£ç çš„æ­£ç¡®æ€§ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;jQueryçš„"each"æ–¹æ³•ç”¨æ¥åšéå†éå¸¸èµï¼Œä½†ä½¿ç”¨åŸç”Ÿ"for"è¯­å¥å§‹ç»ˆä¼šå¿«ä¸€äº›ã€‚&lt;/p&gt;
&lt;h3&gt;23.Crockfordçš„JSON.Parse&lt;/h3&gt;
&lt;p&gt;è™½ç„¶JavaScript 2åº”è¯¥æœ‰ä¸€ä¸ªå†…ç½®çš„JSONè§£æå™¨ï¼Œä½†å†™æœ¬æ–‡ä¹‹æ—¶ï¼Œæˆ‘ä»¬ä»æ—§éœ€è¦è‡ªå·±å®ç°ã€‚Douglas Crockfordï¼ŒJSONçš„åˆ›é€ è€…ï¼Œå·²ç»å®ç°äº†ä¸€ä¸ªè§£æå™¨ä¾›ä½ ä½¿ç”¨ã€‚å¯ä»¥ä»&lt;a href="https://github.com/douglascrockford/JSON-js"&gt;è¿™é‡Œ&lt;/a&gt;ä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•åœ°å¯¼å…¥è¯¥è„šæœ¬ï¼Œä½ å°±èƒ½è·å¾—ä¸€ä¸ªæ–°çš„JSONå…¨å±€å¯¹è±¡ï¼Œç”¨äºè§£æä½ çš„.jsonæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; response = JSON.parse(xhr.responseText);

&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; container = document.getElementById(&lt;span style="color: #a31515"&gt;&amp;#39;container&amp;#39;&lt;/span&gt;);
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; i = 0, len = response.length; i &amp;lt; len; i++) {
    container.innerHTML += &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;li&amp;gt;&amp;#39;&lt;/span&gt; + response[i].name + &lt;span style="color: #a31515"&gt;&amp;#39; : &amp;#39;&lt;/span&gt; + response[i].email + &lt;span style="color: #a31515"&gt;&amp;#39;&amp;lt;/li&amp;gt;&amp;#39;&lt;/span&gt;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;24.åˆ é™¤"Language"&lt;/h3&gt;
&lt;p&gt;å‡ å¹´å‰ï¼Œåœ¨scriptæ ‡ç­¾å†…å¸¸è§æœ‰"language"å±æ€§ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;script type=&lt;span style="color: #a31515"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; language=&lt;span style="color: #a31515"&gt;&amp;quot;javascript&amp;quot;&lt;/span&gt;&amp;gt;
...
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç„¶è€Œï¼Œè¿™ä¸ªå±æ€§å¾ˆæ—©å°±è¢«å¼ƒç”¨äº†ï¼Œæ‰€ä»¥å°±ä¸è¦å†ä½¿ç”¨äº†ã€‚&lt;/p&gt;
&lt;h3&gt;å°±è¿™äº›äº†ï¼ŒåŒå¿—ä»¬&lt;/h3&gt;
&lt;p&gt;ç°åœ¨ä½ çŸ¥é“è¿™JavaScriptåˆå­¦è€…åº”è¯¥çŸ¥é“çš„24æ¡åŸºæœ¬æŠ€å·§ã€‚æœ‰æœºä¼šä¹Ÿè®©æˆ‘çŸ¥é“ä¸€ä¸‹ä½ çš„å°è´´å£«å§ã€‚æ„Ÿè°¢é˜…è¯»ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="JavaScript"></category><category term="ç¿»è¯‘"></category></entry><entry><title>ç”µè„‘é‡è£…è®°</title><link href="http://youngsterxyf.github.io/2013/03/09/reinstall-my-computer/" rel="alternate"></link><published>2013-03-09T00:00:00+08:00</published><updated>2013-03-09T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-03-09:/2013/03/09/reinstall-my-computer/</id><summary type="html">&lt;p&gt;ä¸€å°ç”µè„‘ä½¿ç”¨æ—¶é—´é•¿äº†ï¼Œé€Ÿåº¦å°±ä¼šè¶Šæ¥è¶Šæ…¢ï¼Œä¹Ÿä¼šè¶Šæ¥è¶Šâ€œè„â€ï¼Œå› ä¸ºç»è¿‡æ—¶é—´çš„ç§¯ç´¯ï¼Œç”µè„‘é‡Œå¤šäº†å¾ˆå¤šçš„è½¯ä»¶ã€æ–‡ä»¶ç­‰ï¼Œè¿™äº›æ–‡ä»¶ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä¸€å°ç”µè„‘ä½¿ç”¨æ—¶é—´é•¿äº†ï¼Œé€Ÿåº¦å°±ä¼šè¶Šæ¥è¶Šæ…¢ï¼Œä¹Ÿä¼šè¶Šæ¥è¶Šâ€œè„â€ï¼Œå› ä¸ºç»è¿‡æ—¶é—´çš„ç§¯ç´¯ï¼Œç”µè„‘é‡Œå¤šäº†å¾ˆå¤šçš„è½¯ä»¶ã€æ–‡ä»¶ç­‰ï¼Œè¿™äº›æ–‡ä»¶å’Œè½¯ä»¶ä¸­å¾ˆå¤šä»¥åæ˜¯ä¸éœ€è¦çš„ï¼Œåœ¨å½“æ—¶å› ä¸ºå„ç§åŸå› è€Œä¸‹è½½æˆ–å®‰è£…äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¼šç»å¸¸å»æ¸…ç†ï¼Œä½†å¯¹äºæœ‰ç‚¹æ´ç™–çš„äººæ¥è¯´ï¼Œè¿™æ˜¯ä¸å¤Ÿçš„ï¼Œæ‰€ä»¥ä¼šè¿‡æ®µæ—¶é—´åå°±ä¼šé€‰æ‹©é‡è£…ç”µè„‘ï¼Œä¸€åˆ‡é‡æ–°å¼€å§‹ã€‚å½“ç„¶ä¸€èˆ¬éƒ½æ˜¯ç­‰åˆ°æ— æ³•å¿å—çš„æ—¶å€™ï¼Œä¸å¾—å·²è€Œä¸ºä¹‹ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºç”µè„‘é‡è£…åï¼Œè¦æƒ³é‡æ–°æ‰“é€ æˆä¸€ä¸ªä»¤è‡ªå·±æ»¡æ„çš„ä½¿ç”¨ç¯å¢ƒéœ€è¦èŠ±ä¸€äº›æ—¶é—´å’Œç²¾åŠ›ï¼Œæ‰€ä»¥ç ´æ—§ç«‹æ–°ä¹Ÿæ˜¯éœ€è¦å‹‡æ°”çš„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ç¬”è®°æœ¬çš„æ“ä½œç³»ç»Ÿæ˜¯Ubuntu+KDEï¼Œä»å®‰è£…ä½¿ç”¨åˆ°ç°åœ¨å°†è¿‘ä¸€å¹´äº†ï¼ŒæœŸé—´ç»è¿‡7ä¸ªæœˆçš„å®ä¹ ï¼Œæ‰€ä»¥å°†ç¬”è®°æœ¬æ‰“é€ æˆä¸€ä¸ªå¼€å‘ç¯å¢ƒå’Œæµ‹è¯•æœåŠ¡å™¨ï¼ŒNginx+PHP+Mysql+Memcachedå•¥çš„éƒ½å®‰è£…å…¨äº†ï¼Œè¿˜æœ‰å…¶ä»–çš„ä¸€äº›è½¯ä»¶éƒ½ä¸çŸ¥é“å®‰è£…äº†äº›ä»€ä¹ˆã€‚å¦å¤–ï¼Œç”±äºåšå…´è¶£é¡¹ç›®ï¼Œæˆ‘ä¸»è¦é€‰æ‹©Pythonè¿›è¡Œå¼€å‘ï¼Œå¯¹äºPythonç¬¬ä¸‰æ–¹åº“ä¸»è¦æœ‰ä¸¤ç§å®‰è£…æ–¹å¼ï¼šä¸€ç§æ˜¯ä½¿ç”¨æ“ä½œç³»ç»Ÿæœ¬èº«çš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼ŒUbuntuä¸‹å³ä¸ºapt-getï¼›å¦ä¸€ç§æ˜¯ä½¿ç”¨Pythonçš„åŒ…ç®¡ç†å·¥å…·ï¼Œå¦‚easy_installï¼Œpipã€‚é€šè¿‡è¿™ä¸¤ç§æ–¹å¼æˆ‘çš„ç³»ç»Ÿé‡Œå®‰è£…äº†å¾ˆå¤šå¤§å¤§å°å°çš„Pythonç¬¬ä¸‰æ–¹åº“ï¼Œä¹Ÿæ‡’å¾—å»æ•´ç†äº†ï¼Œæ‰€ä»¥å¹²è„†é‡è£…ï¼ŒåŸæ¥å®ä¹ æ—¶ä½¿ç”¨çš„é‚£ä¸€å¥—å¼€å‘ç¯å¢ƒå’Œæµ‹è¯•æœåŠ¡å™¨ä¹‹åä¹Ÿä¸ä¸€å®šç”¨å¾—åˆ°ï¼Œå¹¶ä¸”å†³å®šä¹‹åæ‰€æœ‰çš„Pythonç¬¬ä¸‰æ–¹åº“å…¨éƒ¨åœ¨virtualenvä¸‹å®‰è£…ï¼Œä¿æŒç³»ç»Ÿå¹²å‡€ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆä»æ—§è£…Ubuntuå‘¢è¿˜æ˜¯è£…å…¶å®ƒçš„Linuxå‘è¡Œç‰ˆå‘¢ï¼Ÿå¦‚ArchLinuxã€Gentoo Linuxã€‚æˆ‘æƒ³è¿™åº”è¯¥çœ‹éœ€æ±‚ï¼Œå¦‚æœä½ æ˜¯æƒ³æŠ˜è…¾ç³»ç»Ÿæˆ–ä¸æ–­å°è¯•æœ€æ–°çš„è½¯ä»¶åŒ…çš„è¯ï¼Œé‚£å½“ç„¶é¦–é€‰Gentooï¼Œæˆ–Archlinuxã€‚ä½†å› ä¸ºæˆ‘åªæ˜¯å¸Œæœ›æœ‰ä¸ªç¨³å®šçš„å¼€å‘ç¯å¢ƒå’Œä½¿ç”¨ç¯å¢ƒï¼Œä¸æƒ³å¤ªå¤šæŠ˜è…¾ï¼Œæ‰€ä»¥å†³å®šè¿˜æ˜¯é€‰æ‹©Kubuntuã€‚&lt;/p&gt;
&lt;p&gt;é‡è£…ç”µè„‘ä¹Ÿæ˜¯ä¸ªç¹ççš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦åˆ¶ä½œå®‰è£…ç›˜ï¼Œç”±äºåˆ»å½•CD/DVDå•¥çš„å¤ªéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä¸€èˆ¬ä½¿ç”¨&lt;a href="http://unetbootin.sourceforge.net/"&gt;UNetbootin&lt;/a&gt;åˆ¶ä½œUç›˜å®‰è£…ç›˜ï¼Œæ–¹ä¾¿å¾—å¤šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åå°±æ˜¯ä¿å­˜å„ç§æ•°æ®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æµè§ˆå™¨ä¹¦ç­¾ã€æ‰©å±•ç¨‹åº---å¯ä½¿ç”¨æµè§ˆå™¨çš„åŒæ­¥åŠŸèƒ½ï¼›&lt;/li&gt;
&lt;li&gt;è®°å½•åŸæ¥ç³»ç»Ÿä¸­å®‰è£…çš„è½¯ä»¶åˆ—è¡¨---å¯¹äºDebianç³»çš„Linuxï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤&lt;code&gt;dpkg --get-selections | awk '{print $1}' &amp;gt; software_list.txt&lt;/code&gt;æ¥å¾—åˆ°ï¼›&lt;/li&gt;
&lt;li&gt;é™¤äº†ä½¿ç”¨ç³»ç»Ÿè½¯ä»¶åŒ…ç®¡ç†å·¥å…·å®‰è£…çš„è½¯ä»¶ï¼Œå¯èƒ½ä½ è¿˜æ‰‹åŠ¨ç¼–è¯‘è¿‡è½¯ä»¶æˆ–ä¸‹è½½ä½¿ç”¨å…å®‰è£…çš„è½¯ä»¶ï¼Œå¦‚æœä»¥åä¼šç”¨åˆ°çš„è¯ä¹Ÿå¯ä»¥ä¸€å¹¶ä¿å­˜ï¼›&lt;/li&gt;
&lt;li&gt;å„ç§è½¯ä»¶çš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚.vimrcï¼Œ.bashrcï¼ŒNginxé…ç½®æ–‡ä»¶ç­‰ï¼Œæˆ‘æ˜¯å°†è¿™äº›é…ç½®æ–‡ä»¶åƒä»£ç ä¸€æ ·ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶å­˜æ”¾åœ¨Githubä¸Šçš„ï¼›&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿç¯å¢ƒçš„å„ç§å­—ä½“é…ç½®ï¼Œæ¯”å¦‚vimæˆ‘ä½¿ç”¨YaHei Manacoå­—ä½“ï¼Œå‘½ä»¤è¡Œç»ˆç«¯ä½¿ç”¨Source Code Proå­—ä½“ï¼Œå…¶å®ƒçš„ä¸»è¦ä½¿ç”¨Lucida Sans Unicodeå­—ä½“ã€WenQuanYi Micro Heiã€WenQuanYi Zen Heiå’ŒYaHei Consolas Hybridå­—ä½“ï¼›&lt;/li&gt;
&lt;li&gt;æœ€åæœ€é‡è¦çš„å°±æ˜¯å„ç§æ–‡æ¡£éŸ³é¢‘è§†é¢‘æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤‡ä»½å¥½å„ç§æ•°æ®åï¼Œå°±å¯ä»¥é‡è£…äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½†æœ€è€—æ—¶é—´çš„æ˜¯æ€ä¹ˆæŠŠä¸€ä¸ªåˆšé‡è£…å¥½çš„ç³»ç»Ÿé‡æ–°æ‰“é€ æˆä¸€ä¸ªè‡ªå·±æ»¡æ„çš„ä½¿ç”¨ç¯å¢ƒï¼Œå› ä¸ºå¦‚æœå½“åˆå®‰è£…æŸäº›è½¯ä»¶æ—¶å€™æ²¡åšç¬”è®°è€Œåˆå¿˜äº†æ€ä¹ˆæŠ˜è…¾çš„è¯ï¼Œä½ å°±åˆå¾—é‡æ–°æŸ¥èµ„æ–™å¯»æ‰¾å®‰è£…æ–¹æ³•äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸Šè¿°æ–‡å­—è®°å½•äº†æˆ‘é‡è£…ç”µè„‘ä¹‹å‰çš„ä¸€äº›æƒ³æ³•ï¼Œä»¥åŠç»™è‡ªå·±æä¸ªé†’---ä¸è¦å¿˜è®°å¤‡ä»½å„ç§æ•°æ®ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å®‰è£…å®Œæˆåï¼Œé‡åˆ°å¦‚ä¸‹å‡ ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;1.
ä¸­æ–‡æ˜¾ç¤ºä¸å¤ªæ­£å¸¸ï¼Œä½¿ç”¨å‘½ä»¤&lt;code&gt;apt-cache search wenquanyi&lt;/code&gt;ï¼Œæ‰¾å‡ºæ‰€æœ‰æ–‡æ³‰é©¿å¼€æºå­—ä½“ï¼Œå®‰è£…å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;2.
&lt;code&gt;pip install gevent&lt;/code&gt;å®‰è£…geventï¼Œæ²¡æ³•æ­£å¸¸ç¼–è¯‘ï¼Œåªå¥½ä½¿ç”¨&lt;code&gt;sudo apt-get install python-gevent&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ&lt;em&gt;2013-03-17è¡¥&lt;/em&gt;ï¼šå…ˆ&lt;code&gt;sudo apt-get install libevent-dev&lt;/code&gt;å®‰è£…libevent-devå°±å¯ä»¥æ­£å¸¸ç¼–è¯‘äº†ï¼‰&lt;/p&gt;
&lt;p&gt;3.
&lt;a href="https://github.com/milkbikis/powerline-shell"&gt;powerline-shell&lt;/a&gt;ä¸­çš„ç‰¹æ®Šå­—ä½“åœ¨ç»ˆç«¯ä¸­æ²¡æ³•æ­£å¸¸æ˜¾ç¤ºï¼ŒæŒ‰ç…§æ–‡æ¡£è¯´æ˜ä½¿ç”¨å·¥å…·&lt;a href="https://github.com/Lokaltog/vim-powerline/tree/develop/fontpatcher"&gt;fontpatcher&lt;/a&gt;æ¥ç”Ÿæˆé€‚ç”¨äºpowerline-shellçš„å­—ä½“ã€‚å¯fontpatcherä¾èµ–äºfontforgeï¼Œ&lt;code&gt;pip install fontforge&lt;/code&gt;å´è¯´æ‰¾ä¸åˆ°fontforgeï¼Œå¥½å§ï¼Œè¿˜æ˜¯&lt;code&gt;sudo apt-get install python-fontforge&lt;/code&gt;å®‰è£…ã€‚ç„¶åæŒ‰ç…§æ™®é€šå­—ä½“çš„å®‰è£…æ–¹å¼å®‰è£…å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;4.
KDEçš„Nepomuk Semantic DesktopåŠŸèƒ½è€—èµ„æºæ¯”è¾ƒå‰å®³ï¼Œåœ¨System Settings -&amp;gt; Desktop Searchå…³é—­è¿™é¡¹åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;5.
æ·»åŠ fcitxè¾“å…¥æ³•å¼€æœºè‡ªå¯åŠ¨ï¼š&lt;code&gt;cd ~/.kde/Autostart; ln -s /usr/bin/fcitx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æœ€åé™„ä¸Šä¸€å¼ é‡è£…åçš„æ¡Œé¢æˆªå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src="/assets/uploads/pics/print-scr.png" alt="print-scr.png"&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è®°"></category></entry><entry><title>PHPä¹‹é“---PHPåŸºç¡€çŸ¥è¯†ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/03/08/php-basics/" rel="alternate"></link><published>2013-03-08T00:00:00+08:00</published><updated>2013-03-08T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-03-08:/2013/03/08/php-basics/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://wulijun.github.com/php-the-right-way/pages/The-Basics.html"&gt;PHP: The Right Way - The Basics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="http://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;æ¯”è¾ƒæ“ä½œç¬¦&lt;/h2&gt;
&lt;p&gt;æ¯”è¾ƒæ“ä½œç¬¦å¾€å¾€æ˜¯PHPçš„ä¸€ä¸ªè¢«å¿½è§†çš„æ–¹é¢ï¼Œè¿™ä¼šå¯¼è‡´å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„ç»“æœã€‚å…¶ä¸­çš„ä¸€ä¸ªé—®é¢˜æºäºä¸¥æ ¼æ¯” â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://wulijun.github.com/php-the-right-way/pages/The-Basics.html"&gt;PHP: The Right Way - The Basics&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="http://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;æ¯”è¾ƒæ“ä½œç¬¦&lt;/h2&gt;
&lt;p&gt;æ¯”è¾ƒæ“ä½œç¬¦å¾€å¾€æ˜¯PHPçš„ä¸€ä¸ªè¢«å¿½è§†çš„æ–¹é¢ï¼Œè¿™ä¼šå¯¼è‡´å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„ç»“æœã€‚å…¶ä¸­çš„ä¸€ä¸ªé—®é¢˜æºäºä¸¥æ ¼æ¯”è¾ƒï¼ˆå¸ƒå°”å€¼ä¸ºæ•´æ•°çš„æ¯”è¾ƒï¼‰ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$a = 5;     &lt;span style="color: #008000"&gt;// 5ä¸ºä¸€ä¸ªæ•´æ•°&lt;/span&gt;

var_dump($a == 5);      &lt;span style="color: #008000"&gt;// æ¯”è¾ƒå€¼ï¼›è¿”å›true&lt;/span&gt;
var_dump($a == &lt;span style="color: #a31515"&gt;&amp;#39;5&amp;#39;&lt;/span&gt;);        &lt;span style="color: #008000"&gt;// æ¯”è¾ƒå€¼ï¼ˆå¿½ç•¥ç±»å‹ï¼‰ï¼›è¿”å›true&lt;/span&gt;
var_dump($a === 5);         &lt;span style="color: #008000"&gt;// æ¯”è¾ƒç±»å‹/å€¼ï¼ˆæ•´æ•° vs. æ•´æ•°ï¼‰ï¼›è¿”å›true&lt;/span&gt;
var_dump($a === &lt;span style="color: #a31515"&gt;&amp;#39;5&amp;#39;&lt;/span&gt;);       &lt;span style="color: #008000"&gt;// æ¯”è¾ƒç±»å‹/å€¼ï¼ˆæ•´æ•° vs. æ•´æ•°ï¼‰ï¼›è¿”å›false&lt;/span&gt;

&lt;span style="color: #a31515"&gt;/**&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * ä¸¥æ ¼æ¯”è¾ƒ&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  */&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (strpos(&lt;span style="color: #a31515"&gt;&amp;#39;testing&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;test&amp;#39;&lt;/span&gt;)) {    &lt;span style="color: #008000"&gt;// åœ¨ä½ç½®0æ‰¾åˆ°&amp;#39;test&amp;#39;ï¼Œ0è¢«è§£é‡Šä¸ºå¸ƒå°”å€¼&amp;#39;false&amp;#39;&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// code...&lt;/span&gt;
}

vs.

&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (strpos(&lt;span style="color: #a31515"&gt;&amp;#39;testing&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;test&amp;#39;&lt;/span&gt;) !== &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;) {  &lt;span style="color: #008000"&gt;// trueï¼Œå› ä¸ºåšäº†ä¸¥æ ¼æ¯”è¾ƒï¼ˆ0 !== falseï¼‰&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// code...&lt;/span&gt;
}
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/language.operators.comparison.php"&gt;æ¯”è¾ƒæ“ä½œç¬¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/types.comparisons.php"&gt;æ¯”è¾ƒåˆ—è¡¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;æ¡ä»¶è¯­å¥&lt;/h2&gt;
&lt;h3&gt;Ifè¯­å¥&lt;/h3&gt;
&lt;p&gt;åœ¨å‡½æ•°æˆ–ç±»ä¸­ä½¿ç”¨'if/else'ä¹‹æ—¶ï¼Œæœ‰ä¸ªå¸¸è§çš„è¯¯è§£---'else'å¿…é¡»ä¸€èµ·ä½¿ç”¨ä»¥å£°æ˜æ½œåœ¨çš„ç»“æœã€‚ç„¶è€Œï¼Œå¦‚æœï¼Œç»“æœæ˜¯å®šä¹‰è¿”å›å€¼ï¼Œåˆ™'else'æ˜¯ä¸éœ€è¦çš„ï¼Œå› ä¸º'return'ä¼šç»“æŸå‡½æ•°ï¼Œä½¿å¾—'else'å˜å¾—æ¯«æ— æ„ä¹‰ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; test($a)
{
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; ($a) {
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
    } &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; {
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;
    }
}

vs.

&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; test($a)
{
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; ($a) {
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
    }
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;       &lt;span style="color: #008000"&gt;// ä¸éœ€è¦elseåˆ†æ”¯&lt;/span&gt;
}
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/control-structures.if.php"&gt;Ifè¯­å¥&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Switchè¯­å¥&lt;/h3&gt;
&lt;p&gt;Switchè¯­å¥æ˜¯ä¸€ç§é¿å…è¾“å…¥æ— ç©·å°½çš„ifå’Œelseifçš„ç»å¦™æ–¹å¼ï¼Œä½†éœ€è¦æ³¨æ„å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Switchè¯­å¥ä»…æ¯”è¾ƒå€¼ï¼Œå¹¶ä¸å…³å¿ƒç±»å‹ï¼ˆç­‰ä»·äº'=='ï¼‰&lt;/li&gt;
&lt;li&gt;é€ä¸ªåˆ†æ”¯åœ°è¿­ä»£ç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…é¡¹ã€‚å¦‚æœæ²¡æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œåˆ™ä½¿ç”¨ç¼ºçœ(default)åˆ†æ”¯ï¼ˆå¦‚æœå®šä¹‰äº†ï¼‰&lt;/li&gt;
&lt;li&gt;è‹¥åŒ¹é…é¡¹çš„ä»£ç ä½“æ²¡æœ‰'break'è¯­å¥ï¼Œåˆ™ä¼šç»§ç»­æ‰§è¡Œæ¥ä¸‹æ¥çš„æ¯ä¸ªåˆ†æ”¯ï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªbreak/returnè¯­å¥&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å‡½æ•°å†…ï¼Œä½¿ç”¨'return'å¯ä»¥å‡å°‘'break'çš„ä½¿ç”¨ï¼Œå› ä¸º'return'èƒ½å¤Ÿç»“æŸå‡½æ•°&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$answer = test(2);      &lt;span style="color: #008000"&gt;// &amp;#39;case 2&amp;#39;å’Œ&amp;#39;case3&amp;#39;çš„ä»£ç ä½“ä¼šå¾—åˆ°æ‰§è¡Œ&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; test($a)
{
    &lt;span style="color: #0000ff"&gt;switch&lt;/span&gt; ($a) {
        &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; 1:
            &lt;span style="color: #008000"&gt;// code...&lt;/span&gt;
            &lt;span style="color: #0000ff"&gt;break&lt;/span&gt;;      &lt;span style="color: #008000"&gt;// breakç”¨äºç»“æŸswitchè¯­å¥&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; 2:
            &lt;span style="color: #008000"&gt;// code...  // æ²¡æœ‰breakï¼Œç»§ç»­æ¯”è¾ƒ&amp;#39;case 3&amp;#39;&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;case&lt;/span&gt; 3:
            &lt;span style="color: #008000"&gt;// code...&lt;/span&gt;
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; $result;     &lt;span style="color: #008000"&gt;// å½“å‰ä½ç½®åœ¨å‡½æ•°å†…ï¼Œ&amp;#39;return&amp;#39;ä¼šç»“æŸå‡½æ•°&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;default&lt;/span&gt;:
            &lt;span style="color: #008000"&gt;// code...&lt;/span&gt;
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; $error;
    }
}
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://php.net/manual/en/control-structures.switch.php"&gt;Switchè¯­å¥&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://phpswitch.com/"&gt;PHP switch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;å…¨å±€å‘½åç©ºé—´&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨å‘½åç©ºé—´ä¹‹æ—¶ï¼Œä½ å¯èƒ½å‘ç°å†…ç½®å‡½æ•°è¢«ä½ æ‰€å†™çš„å‡½æ•°è¦†ç›–äº†ã€‚æ¨èåœ¨å…¨å±€å‡½æ•°çš„å‡½æ•°åä¹‹å‰æ·»åŠ ä¸€ä¸ªåæ–œæ æ¥ä¿®æ­£è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; phptherightway;

&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; fopen()
{
    $file = \fopen();       &lt;span style="color: #008000"&gt;// æˆ‘ä»¬çš„å‡½æ•°åä¸å†…éƒ¨å‡½æ•°çš„å‡½æ•°åç›¸åŒã€‚&lt;/span&gt;
                            &lt;span style="color: #008000"&gt;// é€šè¿‡æ·»åŠ &amp;#39;\&amp;#39;æŒ‡å®šä»å…¨å±€å‘½åç©ºé—´æ‰§è¡Œå‡½æ•°&lt;/span&gt;
}

&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; array()
{
    $iterator = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; \ArrayIterator();       &lt;span style="color: #008000"&gt;// ArrayIteratoræ˜¯ä¸€ä¸ªå†…ç½®ç±»ã€‚&lt;/span&gt;
                                            &lt;span style="color: #008000"&gt;// è‹¥ç±»åä¹‹å‰æ²¡æœ‰ä¸€ä¸ªåæ–œæ ï¼Œè§£é‡Šå™¨ä¼šè¯•å›¾åœ¨ä½ çš„å‘½åç©ºé—´ä¸­è§£æå®ƒ&lt;/span&gt;
}
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/language.namespaces.global.php"&gt;å…¨å±€å‘½åç©ºé—´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/userlandnaming.rules.php"&gt;å…¨å±€è§„åˆ™&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;å­—ç¬¦ä¸²&lt;/h2&gt;
&lt;h3&gt;æ‹¼æ¥&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœä»£ç è¡Œè¶…è¿‡äº†æ¨èçš„è¡Œé•¿åº¦ï¼ˆ120ä¸ªå­—ç¬¦ï¼‰ï¼Œé‚£ä¹ˆåº”è¯¥è€ƒè™‘æ‹¼æ¥ä»£ç è¡Œ&lt;/li&gt;
&lt;li&gt;ä¸ºäº†ä¾¿äºé˜…è¯»ï¼Œæœ€å¥½ä½¿ç”¨æ‹¼æ¥æ“ä½œç¬¦è€Œä¸æ˜¯æ‹¼æ¥èµ‹å€¼æ“ä½œç¬¦&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å˜é‡åŸæœ¬çš„å‘½åç©ºé—´å†…ï¼Œå½“æ‹¼æ¥ä½¿ç”¨äº†æ–°è¡Œï¼Œåˆ™åº”è¯¥ç¼©è¿›&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$a = &lt;span style="color: #a31515"&gt;&amp;#39;Multi-line example&amp;#39;&lt;/span&gt;;      &lt;span style="color: #008000"&gt;// æ‹¼æ¥èµ‹å€¼æ“ä½œç¬¦(.=)&lt;/span&gt;
$a .= &lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;;
$a .= &lt;span style="color: #a31515"&gt;&amp;#39;of what not to do&amp;#39;&lt;/span&gt;;

vs.

$a = &lt;span style="color: #a31515"&gt;&amp;#39;Multi-line example&amp;#39;&lt;/span&gt;       &lt;span style="color: #008000"&gt;// æ‹¼æ¥æ“ä½œç¬¦(.)&lt;/span&gt;
    . &lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;                      &lt;span style="color: #008000"&gt;// ç¼©è¿›æ–°è¡Œ&lt;/span&gt;
    . &lt;span style="color: #a31515"&gt;&amp;#39;of what to do&amp;#39;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://php.net/manual/en/language.operators.string.php"&gt;å­—ç¬¦ä¸²æ“ä½œç¬¦&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;å­—ç¬¦ä¸²ç±»å‹&lt;/h3&gt;
&lt;p&gt;å­—ç¬¦ä¸²ç±»å‹åœ¨PHPç¤¾åŒºå†…æ˜¯ä¸ªä¸å˜çš„ç‰¹æ€§ï¼Œä½†å¸Œæœ›æœ¬èŠ‚å†…å®¹èƒ½å¤Ÿè§£é‡Šæ¸…æ¥šå­—ç¬¦ä¸²ç±»å‹ä¹‹é—´çš„åŒºåˆ«ä»¥åŠå„è‡ªçš„å¥½å¤„/ç”¨æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å•å¼•å·&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å•å¼•å·æ˜¯åˆ›å»ºå­—ç¬¦ä¸²æœ€ç®€å•çš„æ–¹å¼ï¼Œå¹¶ä¸”é€šå¸¸æ‰§è¡Œé€Ÿåº¦ä¹Ÿæ˜¯æœ€å¿«çš„ï¼Œå› ä¸ºPHPä¸ä¼šè§£æè¿™ç§å­—ç¬¦ä¸²ï¼ˆä¸è§£æå…¶ä¸­æ˜¯å¦å­˜åœ¨å˜é‡ï¼‰ï¼Œæ‰€ä»¥å•å¼•å·æœ€é€‚ç”¨äºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸éœ€è¦è§£æçš„å­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†å˜é‡å†™ä¸ºçº¯æ–‡æœ¬å€¼ï¼ˆWriting of a variable into plain textï¼‰&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;This is my string, look at how pretty it is.&amp;#39;&lt;/span&gt;;        &lt;span style="color: #008000"&gt;//ä¸éœ€è¦è§£æä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²&lt;/span&gt;

&lt;span style="color: #a31515"&gt;/**&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * è¾“å‡º:&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  *&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * This is my string, look at how pretty it is.&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  */&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.single"&gt;å•å¼•å·&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;åŒå¼•å·&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŒå¼•å·æ˜¯å­—ç¬¦ä¸²å¤„ç†çš„ç‘å£«å†›åˆ€ï¼Œä½†æ‰§è¡Œé€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œå› ä¸ºå­—ç¬¦ä¸²è¦ç»è¿‡è§£æã€‚åŒå¼•å·æœ€é€‚ç”¨äºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è½¬ä¹‰å­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;å†…å«å¤šä¸ªå˜é‡å’Œçº¯æ–‡æœ¬çš„å­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;å‹ç¼©å¤šè¡Œæ‹¼æ¥ï¼Œæé«˜å¯è¯»æ€§&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;phptherightway is &amp;#39;&lt;/span&gt; . $adjective . &lt;span style="color: #a31515"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;    &lt;span style="color: #008000"&gt;// ä¸€ä¸ªå•å¼•å·çš„ä½¿ç”¨ç¤ºä¾‹ï¼Œ&lt;/span&gt;
    . &lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;                                      &lt;span style="color: #008000"&gt;// ä¸ºå˜é‡å’Œè½¬ä¹‰å­—ç¬¦ä¸²ä½¿ç”¨äº†å¤šè¡Œæ‹¼æ¥&lt;/span&gt;
    . &lt;span style="color: #a31515"&gt;&amp;#39;I love learning &amp;#39;&lt;/span&gt; . $code . &lt;span style="color: #a31515"&gt;&amp;#39;!&amp;#39;&lt;/span&gt;;

vs.

&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;phptherightway is $adjective.\n I love learning $code!&amp;quot;&lt;/span&gt;;      &lt;span style="color: #008000"&gt;// æ²¡æœ‰ä½¿ç”¨å¤šè¡Œæ‹¼æ¥ï¼Œ&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;                                                                  // åŒå¼•å·å…è®¸æˆ‘ä»¬ä½¿ç”¨å¯è§£æçš„å­—ç¬¦ä¸²
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨åŒå¼•å·åˆ›å»ºçš„å­—ç¬¦ä¸²ä¸­åŒ…å«å˜é‡æ—¶ï¼Œç»å¸¸å‡ºç°å˜é‡åä¸åé¢å¦ä¸€ä¸ªå­—ç¬¦ç›¸æ¥è§¦çš„æƒ…å†µï¼Œä»è€Œå¯¼è‡´PHPä¸è§£æè¯¥å˜é‡ï¼Œå› ä¸ºå®ƒè¢«"ä¼ªè£…"èµ·æ¥äº†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸€å¯¹å¤§æ‹¬å·æŠŠå˜é‡åŒ…å›´èµ·æ¥ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$juice = &lt;span style="color: #a31515"&gt;&amp;#39;plum&amp;#39;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;I drank some juice made of $juices&amp;quot;&lt;/span&gt;;      &lt;span style="color: #008000"&gt;// $juiceå¾—ä¸åˆ°è§£æ&lt;/span&gt;

vs.

$juice = &lt;span style="color: #a31515"&gt;&amp;#39;plum&amp;#39;&lt;/span&gt;;
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;I drank some juice made of{&lt;/span&gt;$juice&lt;span style="color: #a31515"&gt;}s&amp;quot;&lt;/span&gt;;     &lt;span style="color: #008000"&gt;// $juiceå¾—åˆ°è§£æ&lt;/span&gt;

&lt;span style="color: #a31515"&gt;/**&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * å¤§æ‹¬å·å†…çš„å¤æ‚å˜é‡ä¹Ÿèƒ½å¾—åˆ°è§£æ&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  */&lt;/span&gt;

$juice = &lt;span style="color: #0000ff"&gt;array&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;#39;apple&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;orange&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;plum&amp;#39;&lt;/span&gt;);
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;I drank some juice made of {&lt;/span&gt;$juice[1]&lt;span style="color: #a31515"&gt;}s&amp;quot;&lt;/span&gt;;     &lt;span style="color: #008000"&gt;// $juice[1]å°†å¾—åˆ°è§£æ&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.double"&gt;åŒå¼•å·&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Nowdocè¯­æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;PHP 5.3å¼•å…¥äº†Nowdocè¯­æ³•ï¼Œå…¶è¡Œä¸ºä¸å•å¼•å·ç›¸åŒï¼Œé™¤äº†å¥¹é€‚ç”¨äºå¤šè¡Œå­—ç¬¦ä¸²çš„ä½¿ç”¨ï¼Œè€Œä¸éœ€è¦æ‹¼æ¥ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$str = &amp;lt;&amp;lt;&amp;lt;&lt;span style="color: #a31515"&gt;&amp;#39;EOD&amp;#39;&lt;/span&gt;         &lt;span style="color: #008000"&gt;// é€šè¿‡&amp;lt;&amp;lt;&amp;lt;åˆå§‹åŒ–&lt;/span&gt;
Example of string
spanning multiple lines
using nowdoc syntax.
$a does &lt;span style="color: #0000ff"&gt;not&lt;/span&gt; parse.
EOD;                    &lt;span style="color: #008000"&gt;// &amp;#39;EOD&amp;#39;å…³é—­ç¬¦å¿…é¡»å•ç‹¬ä¸€è¡Œï¼Œå¹¶ä¸”å¤„äºæœ€å·¦è¾¹&lt;/span&gt;

&lt;span style="color: #a31515"&gt;/**&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * è¾“å‡º:&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * &lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * Example of string&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * spanning multiple lines&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * using nowdoc syntax.&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * $a does not parse.&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  */&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.nowdoc"&gt;Nowdocè¯­æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Heredocè¯­æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Heredocè¯­æ³•çš„è¡Œä¸ºä¸åŒå¼•å·ç›¸åŒï¼Œé™¤äº†å®ƒé€‚ç”¨äºå¤šè¡Œå­—ç¬¦ä¸²çš„ä½¿ç”¨ï¼Œè€Œä¸éœ€è¦æ‹¼æ¥ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$a = &lt;span style="color: #a31515"&gt;&amp;#39;Variables&amp;#39;&lt;/span&gt;;

$str = &amp;lt;&amp;lt;&amp;lt;EOD       &lt;span style="color: #008000"&gt;// ä½¿ç”¨&amp;lt;&amp;lt;&amp;lt;åˆå§‹åŒ–&lt;/span&gt;
Example of string
spanning multiple lines
using heredoc syntax.
$a are parsed.
EOD;                    &lt;span style="color: #008000"&gt;// &amp;#39;EOD&amp;#39;å…³é—­ç¬¦å¿…é¡»å•ç‹¬ä¸€è¡Œï¼Œä¸”å¤„äºæœ€å·¦è¾¹ä½ç½®&lt;/span&gt;

&lt;span style="color: #a31515"&gt;/**&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * è¾“å‡ºï¼š&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  *&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * Example of string&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * spanning multiple lines&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * using heredoc syntax.&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  * Variables are parsed.&lt;/span&gt;
&lt;span style="color: #a31515"&gt;  */&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc"&gt;Heredocè¯­æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;ä¸‰å…ƒæ“ä½œç¬¦&lt;/h2&gt;
&lt;p&gt;ä¸‰å…ƒæ“ä½œç¬¦æ˜¯ä¸€ç§å‹ç¼©ä»£ç çš„å¥½æ–¹å¼ï¼Œä½†ç»å¸¸è¢«æ»¥ç”¨ã€‚å½“éœ€è¦å¤šå±‚æˆ–åµŒå¥—ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦æ—¶ï¼Œå»ºè®®ä¸€è¡Œä»£ç ä»…ä½¿ç”¨ä¸€æ¬¡ä¸‰å…ƒæ“ä½œç¬¦ä»¥æé«˜ä»£ç å¯è¯»æ€§ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$a = 5;
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; ($a == 5) ? &lt;span style="color: #a31515"&gt;&amp;#39;yay&amp;#39;&lt;/span&gt; : &lt;span style="color: #a31515"&gt;&amp;#39;nay&amp;#39;&lt;/span&gt;;

vs.

&lt;span style="color: #008000"&gt;// åµŒå¥—ä¸‰å…ƒæ“ä½œç¬¦&lt;/span&gt;
$b = 10;
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; ($a) ? ($a == 5) ? &lt;span style="color: #a31515"&gt;&amp;#39;yay&amp;#39;&lt;/span&gt; : &lt;span style="color: #a31515"&gt;&amp;#39;nay&amp;#39;&lt;/span&gt; : ($b == 10) ? &lt;span style="color: #a31515"&gt;&amp;#39;excessive&amp;#39;&lt;/span&gt; : &lt;span style="color: #a31515"&gt;&amp;#39;:(&amp;#39;&lt;/span&gt;;    &lt;span style="color: #008000"&gt;// è¿‡åº¦åµŒå¥—ï¼Œç‰ºç‰²äº†å¯è¯»æ€§&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦'è¿”å›'ä¸€ä¸ªå€¼éœ€ä½¿ç”¨æ­£ç¡®çš„è¯­æ³•ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$a = 5;
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; ($a == 5) ? &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;true&lt;/span&gt; : &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;        &lt;span style="color: #008000"&gt;// è¿™ä¸ªä¾‹å­ä¼šæŠ›å‡ºé”™è¯¯&lt;/span&gt;

vs.

$a = 5;
&lt;span style="color: #0000ff"&gt;return&lt;/span&gt; ($a == 5) ? &lt;span style="color: #a31515"&gt;&amp;#39;yay&amp;#39;&lt;/span&gt; : &lt;span style="color: #a31515"&gt;&amp;#39;nope&amp;#39;&lt;/span&gt;;          &lt;span style="color: #008000"&gt;// è¿™ä¸ªä¾‹å­ä¼šè¿”å›&amp;#39;yay&amp;#39;&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://php.net/manual/en/language.operators.comparison.php"&gt;ä¸‰å…ƒæ“ä½œç¬¦&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;å˜é‡å£°æ˜&lt;/h2&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œç¨‹åºå‘˜ä¼šè¯•å›¾é€šè¿‡å°†é¢„å®šä¹‰å˜é‡å£°æ˜ä¸ºä¸€ä¸ªä¸åŒçš„åå­—ä½¿å¾—ä»£ç æ›´åŠ "å¹²å‡€"ã€‚äº‹å®ä¸Šï¼Œè¿™æ ·ä¼šè®©è„šæœ¬çš„å†…å­˜æ¶ˆè€—åŠ å€ã€‚å¦‚ä¸‹ä¾‹å­ï¼Œæˆ‘ä»¬å‡è®¾ä¸€ä¸ªç¤ºä¾‹æ–‡æœ¬å­—ç¬¦ä¸²åŒ…å«1MBçš„æ•°æ®ï¼Œé€šè¿‡æ‹·è´è¿™ä¸ªå˜é‡ï¼Œè„šæœ¬æ‰§è¡Œæ—¶å°±ä¼šå¢åŠ åˆ°2MBã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
$about = &lt;span style="color: #a31515"&gt;&amp;#39;A very long string of text&amp;#39;&lt;/span&gt;;      &lt;span style="color: #008000"&gt;// ä½¿ç”¨äº†2MBå†…å­˜&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; $about;

vs.

&lt;span style="color: #0000ff"&gt;echo&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;A very long string of text&amp;#39;&lt;/span&gt;;          &lt;span style="color: #008000"&gt;// ä»…ä½¿ç”¨1MBå†…å­˜&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://developers.google.com/speed/articles/optimizing-php"&gt;æ€§èƒ½æŠ€å·§&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="PHP"></category><category term="ç¿»è¯‘"></category></entry><entry><title>æ•°æ®å‹ç¼©ç†è®ºç®€ä»‹ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/02/27/A-introduction-to-compression/" rel="alternate"></link><published>2013-02-27T00:00:00+08:00</published><updated>2013-02-27T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-02-27:/2013/02/27/A-introduction-to-compression/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://imrannazar.com/An-Introduction-to-Compression"&gt;A introduction to compression&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æˆ‘åœ¨æ€è€ƒGIFå’ŒJPEGå›¾ç‰‡æ ¼å¼ä¹‹é—´çš„ä¸åŒï¼šä¸ºä»€ä¹ˆæŸäº›å›¾ç‰‡å­˜å‚¨ä¸ºGIFæ ¼å¼æ‰€å çš„ç£ç›˜ç©ºé—´æ›´å¤§ï¼Œè€Œå¦ä¸€äº›å›¾ç‰‡ä»¥JPEGæ ¼å¼å­˜å‚¨è¦å ç”¨æ›´å¤§çš„ç£ç›˜ç©ºé—´ï¼Ÿäº‹å®è¯æ˜ï¼Œè¿™æ˜¯å› ä¸ºä¸åŒçš„å›¾ç‰‡æ ¼å¼ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://imrannazar.com/An-Introduction-to-Compression"&gt;A introduction to compression&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æˆ‘åœ¨æ€è€ƒGIFå’ŒJPEGå›¾ç‰‡æ ¼å¼ä¹‹é—´çš„ä¸åŒï¼šä¸ºä»€ä¹ˆæŸäº›å›¾ç‰‡å­˜å‚¨ä¸ºGIFæ ¼å¼æ‰€å çš„ç£ç›˜ç©ºé—´æ›´å¤§ï¼Œè€Œå¦ä¸€äº›å›¾ç‰‡ä»¥JPEGæ ¼å¼å­˜å‚¨è¦å ç”¨æ›´å¤§çš„ç£ç›˜ç©ºé—´ï¼Ÿäº‹å®è¯æ˜ï¼Œè¿™æ˜¯å› ä¸ºä¸åŒçš„å›¾ç‰‡æ ¼å¼ä½¿ç”¨äº†ä¸åŒçš„å‹ç¼©æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å‹ç¼©æ˜¯ä¸€ç»„ç¨‹åºçš„ç®€ä¾¿è¯´æ³•ï¼Œè¿™äº›ç¨‹åºèƒ½å¤Ÿå°†æ•°æ®è£…è¿›æ›´å°çš„å­˜å‚¨ç©ºé—´ä¸­ï¼Œä¹Ÿèƒ½å°†æ•°æ®ä»å‹ç¼©ç¼–ç ä¸­é‡æ–°å–å›ã€‚è¿™æ˜¯ä¸€ä¸ªåŒå‘çš„è¿‡ç¨‹ï¼šè¾“å…¥æ–‡ä»¶èƒ½å¤Ÿäº§ç”Ÿç»è¿‡å‹ç¼©çš„è¾“å‡ºï¼Œå¹¶ä¸”ç®—æ³•æ ¹æ®å‹ç¼©åçš„è¾“å‡ºèƒ½å¤Ÿé‡æ–°ç»™ä½ ä¸€ä¸ªè¾“å…¥çš„æ‹·è´ã€‚&lt;/p&gt;
&lt;h2&gt;å†—ä½™ï¼šè¡Œç¨‹é•¿åº¦ç¼–ç ï¼ˆRun-Length Encodingï¼‰&lt;/h2&gt;
&lt;p&gt;ä½¿å‹ç¼©æˆä¸ºå¯èƒ½çš„æ˜¯å†—ä½™ï¼šäº‹å®è¡¨æ˜å¤§å¤šæ•°çš„æ•°æ®éƒ½ä»¥æŸç§æ–¹å¼é‡å¤è‡ªå·±ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæ–‡æ¡£ä¸­å¯èƒ½å¤šæ¬¡ä½¿ç”¨åŒä¸€ä¸ªå•è¯ï¼Œæˆ–è€…ä¸€å¼ å›¾ç‰‡çš„å¤šå¤„åŒ…å«ç›¸åŒçš„é¢œè‰²ã€‚ä¸€ä¸ªéå¸¸ç®€å•çš„å†—ä½™æ•°æ®ç‰‡æ®µçš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Redundancy: Before compression&lt;/p&gt;
&lt;p&gt;AAAAABBWWWWWWWWWPPPPQZMMMMVVV&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå†—ä½™æ˜¯æ˜æ˜¾çš„ï¼›æ•´ä¸ªæ ·æœ¬ä¸­é‡å¤å‡ºç°äº†ä¸€ç³»åˆ—å­—æ¯ã€‚å‹ç¼©è¿™ç§æ•°æ®çš„ä¸€ç§ç®€å•æ–¹å¼æ˜¯é€šè¿‡é‡å¤æ¬¡æ•°æ¥ä»£è¡¨é‡å¤å‡ºç°çš„å­—æ¯ï¼Œä»è€Œå‰Šå‡äº†æ ·æœ¬çš„æ€»é•¿åº¦ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Redundancy: After compression&lt;/p&gt;
&lt;p&gt;A5B2W9P4Q1Z1M4V3&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç®—æ³•è¯»å–æ ·æœ¬ç¼–ç åçš„ç‰ˆæœ¬å°†èƒ½å¤Ÿå®Œç¾åœ°é‡ç°åŸæ¥çš„æ•°æ®ï¼š"A" 5æ¬¡ï¼Œ"B"
2æ¬¡ï¼Œç­‰ç­‰ã€‚è¿™ä¸ªç®€å•ç®—æ³•çš„ä½¿ç”¨éå¸¸å¹¿æ³›ï¼Œè¢«ç§°ä¸ºè¡Œç¨‹é•¿åº¦ç¼–ç ï¼ˆRLEï¼‰ï¼šå†™ä¸‹å­—ç¬¦çš„æ¯æ¬¡è¡Œç¨‹æœ‰å¤šé•¿ã€‚ä»¥å¤è€çš„PCXå›¾åƒæ ¼å¼ä¸ºä¾‹æ¥è¯´æ˜ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„æ ‡å‡†RLEã€‚
&lt;center&gt;&lt;img src="/assets/uploads/pics/compression-stripes.png" alt="compression-stripes.png"&gt;&lt;/center&gt;
&lt;center&gt;å›¾1ï¼šæ¡çº¹ï¼ˆ&lt;a href="http://www.thisisnotparis.com/"&gt;Gottschal&lt;/a&gt;/&lt;a href="http://www.gluecksbazillus.de/"&gt;Schuster&lt;/a&gt;ï¼‰&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;å›¾1ä¸­æœ‰å¾ˆå¤šå•è‰²çš„å®å¿ƒæ–¹å—ã€‚è¿™å¼ å›¾ç‰‡å®½500ä¸ªåƒç´ ï¼Œé«˜190ä¸ªåƒç´ ï¼›ä½œä¸ºä¸€å¼ åŸå§‹ä½å›¾ï¼Œä½¿ç”¨ä¸€ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºä¸€ä¸ªåƒç´ ï¼Œé‚£ä¹ˆè¿™å¼ å›¾ç‰‡å°±äº§ç”Ÿ95kBçš„æ•°æ®ã€‚PCXç®—æ³•è®¡ç®—å›¾ç‰‡ä¸­æ¯è¡Œåƒç´ çš„è¡Œç¨‹é•¿åº¦ï¼Œä¸ºç›¸åŒé¢œè‰²çš„è¿ç»­åƒç´ ä¿å­˜è¡Œç¨‹é•¿åº¦ï¼šä»¥è¿™ç§æ–¹å¼ï¼Œå›¾ç‰‡çš„å¤§å°å‡åˆ°äº†52kBã€‚&lt;/p&gt;
&lt;h2&gt;é¢‘ç‡ï¼šå“ˆå¤«æ›¼ï¼ˆHuffmanï¼‰ç¼–ç &lt;/h2&gt;
&lt;p&gt;RLEçš„ä¸€ä¸ªä¸»è¦é—®é¢˜æ˜¯å®ƒå¤„ç†çš„æ˜¯æ•°æ®ä¸­çš„è¿ç»­å€¼ï¼šå›¾1ä¸­ï¼ŒRLEç®—æ³•å¯¹å›¾ç‰‡çš„æ¯ä¸ªæ°´å¹³è¡Œè¿›è¡Œç‹¬ç«‹çš„å¤„ç†ï¼Œç„¶è€Œå…¶å®æ‰€æœ‰çš„è¡Œéƒ½æ˜¯ç›¸åŒçš„ã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡æ•´ä½“åœ°çœ‹å¾…æ•°æ®æ¥ç¼“è§£ï¼Œæ„å»ºä¸€ä¸ªè¡¨æ¥è®°å½•åœ¨æ•´ä¸ªæ•°æ®é›†ä¸­æ¯ä¸ªå€¼å‡ºç°çš„æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å“ˆå¤«æ›¼ç¼–ç æ˜¯ä¸€ç§å€ŸåŠ©è¿™ç§â€œé¢‘ç‡è¡¨â€çš„æ–¹æ³•ï¼Œè¿™ç§è¡¨è®°å½•ç€æ¯ä¸ªå€¼å‡ºç°çš„é¢‘ç‡ï¼Œå¹¶ä¸”ä¸ºæ¯ä¸€é¡¹åˆ†é…ä¸€ä¸ªç¼–ç ã€‚é¢‘ç‡è¶Šé«˜çš„é¡¹ç¼–ç è¶ŠçŸ­ï¼Œè¾ƒå°‘å‡ºç°çš„é¡¹ä¹Ÿå°±å¾—åˆ°é•¿çš„ç¼–ç ã€‚åœ¨è®¡ç®—ä¸­ï¼Œè¿™äº›ç¼–ç ä¸€èˆ¬æ˜¯äºŒè¿›åˆ¶ç¼–ç ï¼Œç„¶åå°±å¯ä»¥ç»„åˆæˆå­—èŠ‚è¿›è¡Œæ–‡ä»¶å­˜å‚¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ä¸Šé¢çš„ä¾‹å­ï¼Œä¸€ä¸ªå“ˆå¤«æ›¼ç¼–ç çš„è¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Huffman encoding: Before compression&lt;/p&gt;
&lt;p&gt;AAAAABBWWWWWWWWWPPPPQZMMMMVVV&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table border="1" align="center" width="40%"&gt;
  &lt;tr&gt;&lt;th&gt;å€¼&lt;/th&gt;&lt;th&gt;é¢‘ç‡&lt;/th&gt;&lt;th&gt;ç¼–ç &lt;/th&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td&gt;Q&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;000000&lt;/td&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td&gt;Z&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;000001&lt;/td&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td&gt;B&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;00001&lt;/td&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td&gt;V&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;0001&lt;/td&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td&gt;P&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;001&lt;/td&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td&gt;M&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;011&lt;/td&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;01&lt;/td&gt;&lt;/tr&gt;
  &lt;tr&gt;&lt;td&gt;W&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;&lt;center&gt;
è¡¨1ï¼šé¢‘ç‡å’Œå“ˆå¤«æ›¼è¡¨
&lt;/center&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Huffman encoding: After compression&lt;/p&gt;
&lt;p&gt;01 01 01 01 01 00001 00001 1 1 1 1 1 1 1 1 1 001 001 001 001 000000 000001 011 011 011 011 0001 0001 0001&lt;/p&gt;
&lt;p&gt;æ­¤å¤„çœç•¥äº†ä¸€è¡Œä¹±ç ï¼Œé¿å…atomå’ŒrssæŠ¥é”™...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½¿ç”¨å“ˆå¤«æ›¼ç¼–ç ï¼Œæ•°æ®ä»29ä¸ªå­—ç¬¦å‡å°‘åˆ°10ä¸ªå­—èŠ‚ã€‚å½“ç„¶è¿™æ²¡åŒ…å«é¢‘ç‡ä¸ç¼–ç è¡¨ï¼Œè¿™ä¸ªè¡¨å¿…é¡»å’Œå‹ç¼©åçš„æ•°æ®ä¸€èµ·å­˜å‚¨æ‰æœ‰æ„ä¹‰ï¼›æœ¬ä¾‹ä¸­ï¼Œé¢‘ç‡è¡¨æ¯”å‹ç¼©åçš„æ•°æ®è¿˜è¦å¤§ï¼Œä½†åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œé¢‘ç‡è¡¨çš„å¤§å°æ˜¯å¾®ä¸è¶³é“çš„ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå°†RLEå’Œå“ˆå¤«æ›¼ç¼–ç ç»“åˆä½¿ç”¨æ˜¯å¯èƒ½çš„ï¼Œé¦–å…ˆæ‰§è¡ŒRLEï¼Œç„¶åå°†å‹ç¼©åçš„ç»“æœäº¤ç»™å“ˆå¤«æ›¼ç®—æ³•å¤„ç†ã€‚å¯¹äºç®€å•çš„å›¾ç‰‡ï¼Œè¿™ä¼šäº§ç”Ÿç‰¹åˆ«å¥½çš„ç»“æœï¼šä¸Šé¢çš„å›¾1é€šè¿‡ä½¿ç”¨GIFæ–‡ä»¶æ ¼å¼å¯ä»¥ä»ä¸€ä¸ª95kBçš„ä½å›¾å‹ç¼©æˆä¸€ä¸ª4kBçš„æ–‡ä»¶ï¼ŒGIFæ–‡ä»¶æ ¼å¼å°±æ˜¯ç»“åˆä½¿ç”¨äº†RLEï¼Œå“ˆå¤«æ›¼ç¼–ç ä»¥åŠå…¶ä»–ç®—æ³•ã€‚&lt;/p&gt;
&lt;h2&gt;æ„ŸçŸ¥ï¼šæœ‰æŸç¼–ç &lt;/h2&gt;
&lt;p&gt;ä¸Šè¿°æ–¹æ³•å¯ä»¥ç”¨äºä»¥ä¸€ç§èƒ½å¤Ÿå®Œç¾é‡ç°çš„æ–¹å¼å¯¹æ•°æ®è¿›è¡Œå‹ç¼©ã€‚è¿™ç§å‹ç¼©çš„ç”¨ä¾‹åŒ…æ‹¬æ–‡æ¡£å’Œè½¯ä»¶ç¨‹åºï¼Œå¯¹äºè¿™ç§ç”¨ä¾‹æ¥è¯´ï¼Œä»»æ„å€¼çš„ä¸¢å¤±æˆ–æŸåéƒ½å¯èƒ½ä½¿å¾—æ–‡ä»¶ä¸å†æœ‰ä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œå¯¹äºéœ€è¦å¤„ç†çš„æ•°æ®è¿›è¡Œå®Œç¾é‡ç°æ˜¯ä¸å¿…è¦çš„ï¼šä¸€ä¸ªè¿‘ä¼¼çš„ç»“æœå°±è¶³å¤Ÿäº†ã€‚é€šå¸¸ï¼Œè¿™äº›æƒ…å†µå‡ºç°åœ¨å¤šåª’ä½“åº”ç”¨ä¸­ï¼šè¶…å‡ºäººç±»å¬è§‰èŒƒå›´çš„å£°éŸ³ä¸éœ€è¦è®°å½•ï¼Œäººçœ¼æ— æ³•è¯†åˆ«çš„é¢œè‰²ä¸æ¢¯åº¦çš„ç»†å¾®ä¹‹å¤„ä¹Ÿæ— éœ€é‡ç°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç»å…¸çš„ç¤ºä¾‹æ˜¯MPEGéŸ³é¢‘æ ‡å‡†---é€šè¿‡å»é™¤é«˜é¢‘å£°éŸ³ç›¸å…³çš„é¢å¤–æ•°æ®æ¥é™ä½éŸ³é¢‘æ–‡ä»¶çš„å¤§å°ã€‚è¿™ä¸ªæ ‡å‡†çš„Layer-3è§„æ ¼å…è®¸å¤šç§å»é™¤æ•°æ®çš„è®¾å®šï¼Œè¿™æ ·æ¸è¿›åœ°ä»éŸ³é¢‘æ ·æœ¬ä¸­å»é™¤æ›´å¤šçš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;img src="/assets/uploads/pics/compression-mp3.gif"
alt="compression-mp3.gif"&gt;
&lt;/center&gt;
&lt;center&gt;
å›¾2ï¼šç»MPEGéŸ³é¢‘Layer-3ç¼–ç çš„YardÄ±m Et (&lt;a href="http://www.morveotesi.com/"&gt;Mor ve Ã–tesi&lt;/a&gt;, "DÃ¼nya Yalan SÃ¶ylÃ¼yor")
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾2ä¸­ï¼Œä¸¤ä¸ªæ³¢å½¢å åŠ åœ¨ä¸€èµ·ï¼šçº¢è‰²çš„ä¸ºåŸæ¥çš„æ­Œæ›²æ³¢å½¢ï¼Œè¦†ç›–åœ¨å…¶ä¸Šçš„è“è‰²æ˜¯ç»å……åˆ†å‹ç¼©çš„å˜ä½“ã€‚å±•ç¤ºçš„æ ·æœ¬é•¿åº¦ä¸º1.5ç§’ï¼›ä½œä¸ºåŸæ¥æ³¢å½¢æ–‡ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ®µæ ·æœ¬å­˜å‚¨ä¸º160kBçš„æ•°æ®ã€‚ç»å‹ç¼©çš„å˜ä½“ï¼Œé•¿åº¦ç›¸åŒï¼Œä½†ä»…å ç”¨48kBçš„ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯é€šè¿‡MPEGéŸ³é¢‘å‹ç¼©ç®—æ³•å¾—åˆ°çš„ï¼Œè°ƒæ•´æ­Œæ›²çš„é¢‘ç‡å±æ€§ï¼Œå»é™¤è¶…å‡ºäººç±»å¬åŠ›èŒƒå›´ï¼ˆé«˜è‡³å¤§çº¦20kHzï¼‰çš„éƒ¨åˆ†ã€‚è¿™æ ·ï¼Œå¦‚ä¸Šå¯è§ï¼Œå¹¶æœªæ˜¾è‘—åœ°å½±å“äº§ç”Ÿçš„æ³¢å½¢ï¼Œå› æ­¤ç»å‹ç¼©çš„å£°éŸ³ä¸ä¼šæ˜æ˜¾åœ°ä¸åŒäºåŸæœ‰çš„å£°éŸ³ã€‚&lt;/p&gt;
&lt;h2&gt;æ‰”æ‰æ•°æ®ï¼šè§†è§‰æœ‰æŸç¼–ç &lt;/h2&gt;
&lt;p&gt;æ­£å¦‚å£°éŸ³æ–‡ä»¶çš„é«˜é¢‘éƒ¨åˆ†äººè€³æ— æ³•è¾¨åˆ«ï¼Œå›¾ç‰‡ä¹Ÿæœ‰é«˜é¢‘éƒ¨åˆ†ï¼šé¢œè‰²çš„å˜åŒ–ä¹‹å¤„ä¸è¶³ä»¥äººçœ¼åŒºåˆ†ï¼Œæˆ–è€…ç”±é»‘åˆ°ç™½çš„æ¸å˜è¿‡ç¨‹æ˜¯å¦‚æ­¤çš„è¿…é€Ÿå¯¼è‡´æ— æ³•çœ‹åˆ°æ¸å˜çš„éƒ¨åˆ†ã€‚ä¸å£°éŸ³å¤„ç†ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ä»å›¾ç‰‡ä¸­å»é™¤è¿™äº›é«˜é¢‘éƒ¨åˆ†ï¼›è¿™å°±æ˜¯JPEGå›¾ç‰‡æ ¼å¼çš„å‰æã€‚&lt;/p&gt;
&lt;p&gt;JPEGåº”ç”¨äº†MPEGéŸ³é¢‘æ‰€ä½¿ç”¨ç®—æ³•çš„ä¸€ç§å˜ç§ï¼Œä»åŒ…å«äºå›¾ç‰‡çš„é¢‘ç‡éƒ¨åˆ†æŠ½å–ä¸€ä¸ªäºŒç»´æ˜ å°„ï¼›è¯¥ç®—æ³•ç»§è€Œè£å‰ªåˆ°è¿™ä¸ªé¢‘ç‡éƒ¨åˆ†ï¼Œå¹¶é‡æ–°åˆæˆå›¾ç‰‡ã€‚å¦‚ä¸‹æ‰€ç¤ºæ˜¯è¿™ä¸ªè¿‡ç¨‹çš„ä¸€ä¸ªä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;img src="/assets/uploads/pics/compression-jpeg-sharp.gif" alt="compression-jpeg-sharp.gif"&gt;
&lt;/center&gt;
&lt;center&gt;
å›¾3ï¼šJPEGå‹ç¼©åº”ç”¨äºä¸€å¼ å—çŠ¶å›¾
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;å›¾3ä¸­ï¼Œä¸€å¼ ç”±4ä¸ª16x16åƒç´ æ–¹å—æ„æˆçš„å›¾ç‰‡ï¼Œä¸è¯¥å›¾ç‰‡ç»JPEGç¼–ç åçš„å›¾ç‰‡è¿›è¡Œæ¯”è¾ƒã€‚é¢œè‰²æˆ–äº®åº¦ä¸Šçš„å°–é”å˜åŒ–è¢«å®šä¹‰ä¸ºé«˜è§†è§‰é¢‘ç‡çš„ç»“æœã€‚è¿™æ­£æ˜¯JPEGè¦å»é™¤çš„åœ°æ–¹ã€‚ç»“æœï¼Œç¼–ç åå›¾ç‰‡çš„è¾¹ç¼˜æ¯”è¾ƒæ¨¡ç³Šã€‚4ä¸ªæ–¹å—çš„æ¥è§¦ç‚¹ç‰¹åˆ«æ¨¡ç³Šã€‚&lt;/p&gt;
&lt;p&gt;ä½†JPEGçš„å¼ºå¤§ä¹‹å¤„å¹¶ä¸æ˜¯ç¼–ç å…·æœ‰å°–é”å˜åŒ–è¾¹æ²¿å’Œè§’è½çš„å›¾ç‰‡ï¼Œè€Œæ˜¯ä½è§†è§‰é¢‘ç‡çš„å›¾ç‰‡ï¼›ç…§ç‰‡å°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªå…¸å‹ä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;img src="/assets/uploads/pics/compression-jpeg-photo.gif" alt="compression-jpeg-photo.gif"&gt;
&lt;/center&gt;
&lt;center&gt;
å›¾4ï¼šJPEGå‹ç¼©åº”ç”¨äºä¸€å¼ ç…§ç‰‡
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;å›¾4ä¸­ï¼Œä¸€å¼ å®‰å¡”åˆ©äºšæ¸¯çš„300x300å›¾ç‰‡ï¼Œç»è¿‡JPEGç¼–ç ã€‚åŸæ¥çš„ä½å›¾ä¸º270kBï¼Œç»å»é™¤å°–é”è¾¹ç¼˜å’Œé¢œè‰²å˜åŒ–ï¼ŒJPEGèƒ½å¤Ÿäº§ç”Ÿä¸€å¼ 22kBçš„å›¾ç‰‡ã€‚å¯¹äºäººçœ¼è€Œè¨€ï¼Œå›¾ç‰‡çš„å˜åŒ–å¾ˆå°ï¼›å³ä½¿åƒç´ æœ‰æ‰€æ”¹å˜ï¼Œå›¾ç‰‡æ‰€å±•ç¤ºçš„æ™¯è‰²ä¹Ÿå®Œå¥½æ— æŸã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯æœ‰æŸç¼–ç èƒŒåçš„ä¸»è¦æ¦‚å¿µï¼šç¡®åˆ‡çš„æ•°æ®å¹¶ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯æ•°æ®æ‰€å‘ˆç°çš„ä¿¡æ¯ã€‚å°†JPEGç®—æ³•ç”¨äºç¼–ç è½¯ä»¶ç¨‹åºæ˜¯ä¸æ˜æ™ºçš„ï¼Œä½†å½“æ•°æ®è¡¨è¾¾äº†ä¸å¿…è¦çš„è¿‡å¤šä¿¡æ¯ä¹‹æ—¶ï¼Œæœ‰æŸç¼–ç å°±æ´¾ä¸Šç”¨åœºäº†ã€‚&lt;/p&gt;
&lt;h2&gt;æ„ŸçŸ¥å†—ä½™ï¼šè§†é¢‘ç¼–ç &lt;/h2&gt;
&lt;p&gt;è¯´åˆ°è§†é¢‘å‰ªè¾‘ï¼Œé€šè¿‡ç»“åˆæ— æŸå’Œæœ‰æŸç¼–ç èƒŒåçš„åŸåˆ™ï¼Œè¿›ä¸€æ­¥å‹ç¼©æ•°æ®æ˜¯æœ‰å¯èƒ½çš„ã€‚æ„å»ºä¸€ä¸ªè§†é¢‘å‰ªè¾‘ç‰‡æ®µçš„æœ€ç®€å•æœ€å¹¼ç¨šçš„æ–¹æ³•æ˜¯åˆå¹¶è¿ç»­çš„å›¾ç‰‡ï¼Œä½œä¸ºè§†é¢‘å¸§æ¥çœ‹å¾…ï¼šMJPEGè§†é¢‘æ–‡ä»¶æ ¼å¼å°±æ˜¯å°†ä¸€ç³»åˆ—çš„JPEGå›¾ç‰‡çœ‹åˆ°ç‹¬ç«‹çš„è§†é¢‘å¸§ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•å¿½è§†äº†è§†é¢‘ç‰‡æ®µä¸­å›ºæœ‰çš„æ•°æ®å†—ä½™ï¼šä¸€ä¸ªç»™å®šå¸§ä¸­åŒ…å«çš„å¤§å¤šæ•°ä¿¡æ¯åŒæ ·ä¼šåŒ…å«äºå…¶å‰ä¸€å¸§ä¸­ã€‚ä»»ä½•ç‰¹å®šå¸§ä¸­ä»…æœ‰ä¸€å°éƒ¨åˆ†æ˜¯æ–°çš„ä¿¡æ¯ï¼›é€šè¿‡è®¡ç®—è¿™éƒ¨åˆ†ä¿¡æ¯æ‰€å¤„çš„ä½ç½®ï¼Œç„¶åä»…å­˜å‚¨è¿™éƒ¨åˆ†ä¿¡æ¯æ•°æ®ï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½å¤§å¤§åœ°ç¼©å‡è§†é¢‘å¸§çš„æ•°æ®å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;img src="/assets/uploads/pics/compression-mpeg-diff.gif" alt="compression-mpeg-diff.gif"&gt;
&lt;/center&gt;
&lt;center&gt;
å›¾5ï¼šè¿ç»­è§†é¢‘å¸§ï¼Œä»¥åŠå®ƒä»¬çš„ä¸åŒä¹‹å¤„ï¼ˆ&lt;a href="http://jpl.nasa.gov/"&gt;NASA JPL&lt;/a&gt;ï¼‰
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;å›¾5ä¸­ï¼Œè¾ƒä¹‹ç¬¬ä¸€å¸§ï¼Œè§†é¢‘çš„ç¬¬äºŒå¸§æ˜¾ç¤ºçš„å˜åŒ–éå¸¸å°ï¼šä»…ä»…èˆªå¤©é£æœºçš„æ’æ°”ç¾½æµæœ‰æ˜¾è‘—çš„è¿åŠ¨ã€‚äº‹å®ä¸Šï¼Œå‘å°„å¡”åé¢çš„èˆªå¤©é£æœºå›ºä½“åŠ©æ¨å™¨ï¼ˆSRBï¼‰(è¯‘æ³¨ï¼šè§Wikipediaè¯æ¡&lt;a href="http://zh.wikipedia.org/wiki/%E8%88%AA%E5%A4%A9%E9%A3%9E%E6%9C%BA%E5%9B%BA%E4%BD%93%E5%8A%A9%E6%8E%A8%E5%99%A8"&gt;èˆªå¤©é£æœºå›ºä½“åŠ©æ¨å™¨&lt;/a&gt;)å’Œå¤©ç©ºåœ¨ä¸¤å¸§ä¹‹é—´å®Œå…¨æ²¡æœ‰å˜åŒ–ã€‚é‚£ä¹ˆå°±ä¸ç”¨å­˜å‚¨å›¾ç‰‡çš„è¿™äº›éƒ¨åˆ†ï¼Œå¯èƒ½å­˜å‚¨ä¸€ä¸ªå€¼ï¼šâ€œæ²¡æœ‰å˜åŒ–â€å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;MPEGè§†é¢‘æ ‡å‡†åˆ©ç”¨äº†è¿™ç§å†…åœ¨çš„å†—ä½™ä½œä¸ºç®—æ³•çš„ä¸€éƒ¨åˆ†ã€‚ç†è®ºä¸Šï¼Œä»…ä»…æ‹æ‘„ï¼ˆa shotï¼‰çš„åˆå§‹å¸§éœ€è¦å®Œæ•´å­˜å‚¨ï¼šæ‹æ‘„çš„ä»»ä½•è¿åŠ¨éƒ¨åˆ†éƒ½å¯ä»¥ä½œä¸ºä¸å‰ä¸€å¸§çš„ç›¸å¼‚ä¹‹å¤„æ¥å­˜å‚¨ã€‚åˆå§‹å¸§ï¼Œä¹Ÿç§°ä¸ºä¸€ä¸ªå†…å¸§ï¼Œå­˜å‚¨ä¸ºä¸€å¼ æ ‡å‡†çš„JPEGå›¾ç‰‡ï¼Œè€Œåç»­çš„å·®å¼‚å¸§è¢«ç§°ä¸ºé—´å¸§ï¼Œæˆ–é¢„æµ‹å¸§ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šï¼ŒMPEGè§†é¢‘æ ‡å‡†æ˜¯ä»¥â€œæµâ€æ¥è®¾è®¡çš„ï¼Œè¿™æ ·å°±èƒ½å¤Ÿä»æ‹æ‘„ï¼ˆa shotï¼‰çš„ä¸­é—´å¼€å§‹è§‚çœ‹è§†é¢‘ç‰‡æ®µã€‚ä½†è‹¥ä»…æä¾›è§†é¢‘çš„ä¸€ä¸ªå†…å¸§ï¼ˆI-å¸§ï¼‰ï¼Œé‚£ä¹ˆé¢„æµ‹å¸§ï¼ˆP-å¸§ï¼‰æ˜¯ä¸å¯èƒ½æ’å…¥å®ƒä»¬çš„å·®å¼‚çš„ã€‚æ‰€ä»¥ï¼Œé€šå¸¸ä¼šæŠŠI-å¸§æ¯éš”ä¸€å®šæ—¶é—´æ’å…¥åˆ°è§†é¢‘ç‰‡æ®µä¸­ï¼Œè€Œä¸ç®¡æ‹æ‘„çš„åœºæ™¯ï¼ˆa shotï¼‰æ˜¯å¦å˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;img src="/assets/uploads/pics/compression-mpeg-graph.gif" alt="compression-mpeg-graph.gif"&gt;
&lt;/center&gt;
&lt;center&gt;
å›¾6ï¼šä¸€ä¸ª4ç§’çš„MPEGè§†é¢‘ç‰‡æ®µçš„å¸§å¤§å°ï¼ˆ&lt;a href="http://news.bbc.co.uk/"&gt;BBC News&lt;/a&gt;ï¼‰
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾6ä¸­ï¼Œè§†é¢‘ç‰‡æ®µæ¯é—´éš”25å¸§æˆ–ä¸€ç§’æ’å…¥I-å¸§ã€‚åç»­çš„æ¯ä¸ªP-å¸§éƒ½æ¯”I-å¸§å°å¾—å¤šï¼Œç”±äºæ”¿æ²»å®¶åœ¨æ¥å—é‡‡è®¿æ—¶ä¸€èˆ¬éƒ½ä¸ä¼šé¢‘ç¹ç§»åŠ¨ï¼Œå› æ­¤ä¸åŒè§†é¢‘å¸§ä¹‹é—´çš„ä¸åŒä¹‹å¤„æ›´å°‘ã€‚&lt;/p&gt;
&lt;p&gt;å›¾6ä½¿ç”¨çš„ä¾‹å­æ˜¯ä¸€ä¸ª4ç§’çš„400x224è§†é¢‘ç‰‡æ®µã€‚ä»¥åŸå§‹ä½å›¾å½¢å¼ç²—ç³™å†œæˆ·ï¼Œç”Ÿæˆæ–‡ä»¶çš„å¤§å°æœ‰26.7MBï¼›é€šè¿‡ç»“åˆä½¿ç”¨æœ‰æŸç¼–ç å’Œå†—ä½™çš„æŠ€æœ¯ï¼ŒMPEGè§†é¢‘æ ‡å‡†èƒ½å¤Ÿå°†è§†é¢‘å¤§å°ç¼©å‡åˆ°300kBï¼Œå‡å°äº†99%ã€‚&lt;/p&gt;
&lt;h2&gt;æ€»ç»“ï¼šä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥æœ‰æŸç¼–ç &lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æ‰€åˆ—ä¸¾çš„æœ‰æŸç¼–ç çš„ä¾‹å­éƒ½æ˜¯åº”ç”¨äºç‰¹æ®Šæƒ…å†µçš„ï¼šéŸ³é¢‘ï¼Œè§†é¢‘ï¼Œå›¾ç‰‡ã€‚ä»…å¯¹äºè¿™äº›æˆ–è€…å…¶ä»–ç›¸å…³çš„ä¸œè¥¿ï¼Œæ„ŸçŸ¥æ‰æ˜¯å‹ç¼©è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé‡å¤§å› ç´ ã€‚å¯¹äºå…¶ä»–å‹ç¼©ç›®æ ‡ï¼Œæ¯”å¦‚æ–‡æ¡£æˆ–è½¯ä»¶ç¨‹åºï¼Œæ•°æ®æ˜¯ä»€ä¹ˆæ ·çš„å°±ä¿å­˜ä¸ºä»€ä¹ˆæ ·ï¼Œéå¸¸é‡è¦ã€‚&lt;/p&gt;
&lt;p&gt;äººä»¬ä¸€ç›´åœ¨å¼€å‘æ›´åŠ é«˜çº§çš„ç‰¹æ®Šå‹ç¼©æ–¹æ³•ï¼Œä½†æ•°æ®å‹ç¼©çš„å¤šæ•°å¸¸è§å®ç°éƒ½æ˜¯åŸºäºæœ¬æ–‡è®²è¿°çš„æŠ€æœ¯ï¼šå»é™¤å†—ä½™å’Œé‡å¤ä¿¡æ¯ã€‚å½“å­˜åœ¨å¤§é‡å†—ä½™æ•°æ®æ—¶ï¼Œæ•°æ®å‹ç¼©ä¼šè¡¨ç°å¾—éå¸¸å¥½ï¼Œæ‰€ä»¥ä¸è¦è¯•å›¾å»å‹ç¼©ä¸€ä¸ªå·²ç»å‹ç¼©è¿‡çš„æ–‡ä»¶ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç†è®º"></category><category term="ç¿»è¯‘"></category></entry><entry><title>JavaScriptï¼šç»§æ‰¿å’ŒåŸå‹é“¾ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/02/27/Inheritance-and-the-prototype-chain/" rel="alternate"></link><published>2013-02-27T00:00:00+08:00</published><updated>2013-02-27T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-02-27:/2013/02/27/Inheritance-and-the-prototype-chain/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Inheritance_and_the_prototype_chain"&gt;Inheritance and the prototype chain&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºå…·å¤‡åŸºäºç±»çš„ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚Javaæˆ–C++ï¼‰ç»éªŒçš„ç¨‹åºå‘˜æ¥è¯´ï¼ŒJavaScriptæœ‰ç‚¹æ··ä¹±ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§åŠ¨æ€è¯­è¨€ï¼Œå¹¶ä¸”ä¸æä¾›&lt;code&gt;class&lt;/code&gt;çš„ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Inheritance_and_the_prototype_chain"&gt;Inheritance and the prototype chain&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºå…·å¤‡åŸºäºç±»çš„ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚Javaæˆ–C++ï¼‰ç»éªŒçš„ç¨‹åºå‘˜æ¥è¯´ï¼ŒJavaScriptæœ‰ç‚¹æ··ä¹±ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§åŠ¨æ€è¯­è¨€ï¼Œå¹¶ä¸”ä¸æä¾›&lt;code&gt;class&lt;/code&gt;çš„å®ç°ï¼ˆè™½ç„¶å…³é”®å­—&lt;code&gt;class&lt;/code&gt;æ˜¯ä¿ç•™çš„ï¼Œä¸å¯ç”¨ä½œå˜é‡åï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¯´åˆ°ç»§æ‰¿ï¼ŒJavaScriptåªæœ‰ä¸€ç§ç»“æ„ï¼šå¯¹è±¡ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨é“¾æ¥æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ç§°ä¸º&lt;strong&gt;åŸå‹&lt;/strong&gt; (prototype)ã€‚é‚£ä¸ªåŸå‹å¯¹è±¡ä¹Ÿæœ‰è‡ªå·±çš„åŸå‹ï¼Œå¦‚æ­¤ç›´åˆ°æŸä¸ªå¯¹è±¡ä»¥&lt;code&gt;null&lt;/code&gt;ä½œä¸ºå…¶åŸå‹ã€‚&lt;code&gt;null&lt;/code&gt;ï¼Œæ ¹æ®å®šä¹‰ï¼Œæ²¡æœ‰åŸå‹ï¼Œä½œä¸ºè¿™ç§&lt;strong&gt;åŸå‹é“¾&lt;/strong&gt;çš„æœ€åä¸€ç¯è€Œå­˜åœ¨ã€‚&lt;/p&gt;
&lt;h2&gt;ä»¥åŸå‹é“¾å®ç°ç»§æ‰¿&lt;/h2&gt;
&lt;h3&gt;ç»§æ‰¿å±æ€§&lt;/h3&gt;
&lt;p&gt;JavaScriptå¯¹è±¡å¯çœ‹ä½œæ˜¯åŠ¨æ€åœ°è£…è½½å±æ€§ï¼ˆè¿™é‡ŒæŒ‡&lt;strong&gt;è‡ªæœ‰å±æ€§&lt;/strong&gt;ï¼‰çš„"åŒ…åŒ…"ï¼Œå¹¶ä¸”æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªé“¾æŒ‡å‘ä¸€ä¸ªåŸå‹å¯¹è±¡ã€‚å¦‚ä¸‹å³ä¸ºå½“å°è¯•è®¿é—®ä¸€ä¸ªå±æ€§æ—¶å‘ç”Ÿçš„äº‹æƒ…ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;// å‡è®¾æœ‰ä¸ªå¯¹è±¡oï¼Œå…¶åŸå‹é“¾å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/span&gt;
&lt;span style="color: #008000"&gt;// {a: 1, b: 2} ---&amp;gt; {b: 3, c: 4} ---&amp;gt; null&lt;/span&gt;
&lt;span style="color: #008000"&gt;// &amp;#39;a&amp;#39;å’Œ&amp;#39;b&amp;#39;æ˜¯oçš„è‡ªæœ‰å±æ€§ã€‚&lt;/span&gt;

&lt;span style="color: #008000"&gt;// æœ¬ä¾‹ä¸­ï¼ŒsomeObject.[[Prototype]]æŒ‡å®šsomeObjectçš„åŸå‹ã€‚&lt;/span&gt;
&lt;span style="color: #008000"&gt;// è¿™å®Œå…¨æ˜¯ä¸€ç§æ ‡è®°ç¬¦å·ï¼ˆåŸºäºECMAScriptæ ‡å‡†ä¸­æ‰€ä½¿ç”¨çš„ï¼‰ï¼Œä¸å¯ç”¨äºè„šæœ¬ä¸­ã€‚&lt;/span&gt;

console.log(o.a);   &lt;span style="color: #008000"&gt;// 1&lt;/span&gt;
&lt;span style="color: #008000"&gt;// oæœ‰ä¸€ä¸ªè‡ªæœ‰å±æ€§&amp;#39;a&amp;#39;å—ï¼Ÿæ˜¯çš„ï¼Œå…¶å€¼ä¸º1&lt;/span&gt;

console.log(o.b);   &lt;span style="color: #008000"&gt;// 2&lt;/span&gt;
&lt;span style="color: #008000"&gt;// oæœ‰è‡ªæœ‰å±æ€§&amp;#39;b&amp;#39;å—ï¼Ÿæ˜¯çš„ï¼Œå…¶å€¼ä¸º2&lt;/span&gt;
&lt;span style="color: #008000"&gt;// oçš„åŸå‹ä¹Ÿæœ‰ä¸€ä¸ªå±æ€§&amp;#39;b&amp;#39;ï¼Œä½†æ˜¯è¿™é‡Œä¸ä¼šè¢«è®¿é—®ã€‚è¿™è¢«ç§°ä¸ºâ€œå±æ€§éšè—â€ï¼ˆproperty shadowingï¼‰&lt;/span&gt;

console.log(o.c);   &lt;span style="color: #008000"&gt;// 4&lt;/span&gt;
&lt;span style="color: #008000"&gt;// oæœ‰è‡ªæœ‰å±æ€§&amp;#39;c&amp;#39;å—ï¼Ÿæ²¡æœ‰ï¼Œæ£€æŸ¥å®ƒçš„åŸå‹&lt;/span&gt;
&lt;span style="color: #008000"&gt;// o.[[Prototype]]æœ‰è‡ªæœ‰å±æ€§&amp;#39;c&amp;#39;å—ï¼Ÿæ˜¯çš„ï¼Œå…¶å€¼ä¸º4ã€‚&lt;/span&gt;

console.log(o.d);   &lt;span style="color: #008000"&gt;// undefined&lt;/span&gt;
&lt;span style="color: #008000"&gt;// oæœ‰è‡ªæœ‰å±æ€§&amp;#39;d&amp;#39;å—ï¼Ÿæ²¡æœ‰ï¼Œæ£€æŸ¥å…¶åŸå‹&lt;/span&gt;
&lt;span style="color: #008000"&gt;// o.[[Prototype]]æœ‰è‡ªæœ‰å±æ€§&amp;#39;d&amp;#39;å—ï¼Ÿæ²¡æœ‰ï¼Œæ£€æŸ¥å…¶åŸå‹&lt;/span&gt;
&lt;span style="color: #008000"&gt;// o.[[Prototype]].[[Prototype]]ä¸ºnullï¼Œåœæ­¢æœç´¢ï¼Œæ²¡æœ‰æ‰¾åˆ°å±æ€§ï¼Œè¿”å›undefinedã€‚&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°†ä¸€ä¸ªå±æ€§åˆ†é…ç»™ä¸€ä¸ªå¯¹è±¡ä¼šåˆ›å»ºä¸€ä¸ªè‡ªæœ‰å±æ€§ã€‚å¯¹äºè·å–å’Œè®¾ç½®å±æ€§çš„è¡Œä¸ºè§„åˆ™ï¼Œå”¯ä¸€çš„ä¾‹å¤–æ˜¯å½“ä¸€ä¸ªç»§æ‰¿è€Œæ¥çš„å±æ€§å¸¦æœ‰ä¸€ä¸ª&lt;a href="https://developer.mozilla.org/en/docs/JavaScript/Guide/Working_with_Objects?redirectlocale=en-US&amp;amp;redirectslug=Core_JavaScript_1.5_Guide%2FWorking_with_Objects#Defining_getters_and_setters"&gt;å±æ€§å€¼è·å–å™¨æˆ–è®¾ç½®å™¨&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3&gt;ç»§æ‰¿"æ–¹æ³•"&lt;/h3&gt;
&lt;p&gt;JavaScriptæ²¡æœ‰ä»¥åŸºäºç±»çš„ç¼–ç¨‹è¯­è¨€å®šä¹‰æ–¹æ³•çš„å½¢å¼å‡ºç°çš„"æ–¹æ³•"ã€‚JavaScriptä¸­ï¼Œä»»ä½•å‡½æ•°éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªå±æ€§è¢«æ·»åŠ åˆ°ä¸€ä¸ªå¯¹è±¡ã€‚ä¸€ä¸ªç»§æ‰¿è€Œæ¥çš„å‡½æ•°ï¼Œæ“ä½œèµ·æ¥ä¸ä»»ä½•å…¶ä»–å±æ€§ç›¸åŒï¼ŒåŒ…æ‹¬å¦‚ä¸Šæ‰€ç¤ºçš„å±æ€§éšè—ï¼ˆåœ¨è¿™é‡Œï¼Œç§°ä¸º&lt;em&gt;æ–¹æ³•è¦†ç›–&lt;/em&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ‰§è¡Œä¸€ä¸ªç»§æ‰¿è€Œæ¥çš„å‡½æ•°æ—¶ï¼Œ&lt;a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/this"&gt;this&lt;/a&gt;çš„å€¼æŒ‡å‘ç»§æ‰¿å¯¹è±¡ï¼Œè€Œä¸æ˜¯åŸå‹å¯¹è±¡ï¼Œè¯¥å‡½æ•°æ˜¯åŸå‹å¯¹è±¡çš„è‡ªæœ‰å±æ€§ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; o = {
    a: 2,
    m: &lt;span style="color: #0000ff"&gt;function&lt;/span&gt;(b) {
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.a + 1;
    }
};

console.log(o.m()); &lt;span style="color: #008000"&gt;// 3&lt;/span&gt;
&lt;span style="color: #008000"&gt;// è¿™é‡Œå½“è°ƒç”¨o.mæ—¶ï¼Œ&amp;#39;this&amp;#39;å¼•ç”¨o&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; p = Object.create(o);
&lt;span style="color: #008000"&gt;// pæ˜¯ä¸€ä¸ªç»§æ‰¿è‡ªoçš„å¯¹è±¡&lt;/span&gt;

p.a = 12;   &lt;span style="color: #008000"&gt;// ä¸ºpåˆ›å»ºä¸€ä¸ªè‡ªæœ‰å±æ€§&amp;#39;a&amp;#39;&lt;/span&gt;
console.log(p.m()); &lt;span style="color: #008000"&gt;// 13&lt;/span&gt;
&lt;span style="color: #008000"&gt;// è¿™é‡Œè°ƒç”¨p.mæ—¶ï¼Œ&amp;#39;this&amp;#39;å¼•ç”¨p&lt;/span&gt;
&lt;span style="color: #008000"&gt;// å› æ­¤ï¼Œå½“pç»§æ‰¿äº†oçš„å‡½æ•°mï¼Œ&amp;#39;this.a&amp;#39;æ„å‘³ç€p.aï¼Œpçš„è‡ªæœ‰å±æ€§&amp;#39;a&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;åˆ›å»ºå¯¹è±¡çš„ä¸åŒæ–¹å¼ï¼Œä»¥åŠç”±æ­¤äº§ç”Ÿçš„åŸå‹é“¾&lt;/h2&gt;
&lt;h3&gt;ä»¥è¯­æ³•ç»“æ„åˆ›å»ºå¯¹è±¡&lt;/h3&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; o = {a: 1};

&lt;span style="color: #008000"&gt;// æ–°åˆ›å»ºçš„å¯¹è±¡oæœ‰Object.prototypeä½œä¸ºå…¶[[Prototype]]&lt;/span&gt;
&lt;span style="color: #008000"&gt;// oæ²¡æœ‰åä¸º&amp;#39;hasOwnProperty&amp;#39;çš„è‡ªæœ‰å±æ€§&lt;/span&gt;
&lt;span style="color: #008000"&gt;// hasOwnPropertyæ˜¯Object.prototypeçš„è‡ªæœ‰å±æ€§ã€‚å› æ­¤oä»Object.prototypeç»§æ‰¿äº†hasOwnProperty&lt;/span&gt;
&lt;span style="color: #008000"&gt;// Object.prototypeä»¥nullä¸ºå…¶prototypeã€‚&lt;/span&gt;
&lt;span style="color: #008000"&gt;// o ---&amp;gt; Object.prototype ---&amp;gt; null&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; a = [&lt;span style="color: #a31515"&gt;&amp;quot;yo&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;whadup&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;?&amp;quot;&lt;/span&gt;];

&lt;span style="color: #008000"&gt;// æ•°ç»„ç»§æ‰¿è‡ªArray.prototypeï¼ˆå®ƒå…·æœ‰indexOf, forEachç­‰æ–¹æ³•ï¼‰ã€‚&lt;/span&gt;
&lt;span style="color: #008000"&gt;// è¯¥åŸå‹é“¾å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/span&gt;
&lt;span style="color: #008000"&gt;// a ---&amp;gt; Array.prototype ---&amp;gt; Object.prototype ---&amp;gt; null&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; f() {
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; 2;
}

&lt;span style="color: #008000"&gt;// å‡½æ•°ç»§æ‰¿è‡ªFunction.prototypeï¼ˆå®ƒå…·æœ‰callï¼Œbindç­‰æ–¹æ³•ï¼‰ï¼š&lt;/span&gt;
&lt;span style="color: #008000"&gt;// f ---&amp;gt; Function.prototype ---&amp;gt; Object.prototype ---&amp;gt; null&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;ä½¿ç”¨æ„é€ å™¨&lt;/h3&gt;
&lt;p&gt;JavaScriptä¸­ï¼Œ"æ„é€ å™¨""å°±"æ˜¯ä¸€ä¸ªæ°å¥½ä»¥&lt;a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/new"&gt;newæ“ä½œç¬¦&lt;/a&gt;è°ƒç”¨çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;function&lt;/span&gt; Graph() {
    &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.vertexes = [];
    &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.edges = [];
}

Graph.prototype = {
    addVertex: &lt;span style="color: #0000ff"&gt;function&lt;/span&gt;(v) {
        &lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.vertexes.push(v);
    }
};

&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; g = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; Graph();
&lt;span style="color: #008000"&gt;// gæ˜¯ä¸€ä¸ªå¸¦æœ‰è‡ªæœ‰å±æ€§&amp;#39;vertexes&amp;#39;å’Œ&amp;#39;edges&amp;#39;çš„å¯¹è±¡ã€‚&lt;/span&gt;
&lt;span style="color: #008000"&gt;// æ‰§è¡Œnew Graph()åï¼Œg.[[Prototype]]æ˜¯Graph.prototypeçš„å€¼ã€‚&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;ä½¿ç”¨Object.create&lt;/h3&gt;
&lt;p&gt;ECMAScript
5å¼•å…¥äº†ä¸€ä¸ªæ–°æ–¹æ³•ï¼š&lt;a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/create"&gt;Object.create&lt;/a&gt;ã€‚è°ƒç”¨è¿™ä¸ªæ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡çš„åŸå‹æ˜¯è¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; a = {a: 1};
&lt;span style="color: #008000"&gt;// a ---&amp;gt; Object.prototype ---&amp;gt; null&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; b = Object.create(a);
&lt;span style="color: #008000"&gt;// b ---&amp;gt; a ---&amp;gt; Object.prototype ---&amp;gt; null&lt;/span&gt;
console.log(b.a);   &lt;span style="color: #008000"&gt;// 1 (ç»§æ‰¿è€Œæ¥)&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; c = Object.create(b);
&lt;span style="color: #008000"&gt;// c ---&amp;gt; b ---&amp;gt; a ---&amp;gt; Object.prototype ---&amp;gt; null&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;var&lt;/span&gt; d = Object.create(&lt;span style="color: #0000ff"&gt;null&lt;/span&gt;);
&lt;span style="color: #008000"&gt;// d ---&amp;gt; null&lt;/span&gt;
console.log(d.hasOwnProperty);  &lt;span style="color: #008000"&gt;// undefinedï¼Œå› ä¸ºdå¹¶ä¸ç»§æ‰¿è‡ªObject.prototype&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="JavaScript"></category><category term="ç¿»è¯‘"></category></entry><entry><title>Pythonæ ¼å¼å­—ç¬¦ä¸²ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/01/26/python-string-format/" rel="alternate"></link><published>2013-01-26T00:00:00+08:00</published><updated>2013-01-26T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-26:/2013/01/26/python-string-format/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://mkaz.com/solog/python-string-format"&gt;Python String Format&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¯æ¬¡ä½¿ç”¨Pythonçš„æ ¼å¼å­—ç¬¦ä¸²ï¼ˆstring formatterï¼‰ï¼Œ2.7åŠä»¥ä¸Šç‰ˆæœ¬çš„ï¼Œæˆ‘éƒ½ä¼šçŠ¯é”™ï¼Œå¹¶ä¸”æœ‰ç”Ÿä¹‹å¹´ï¼Œæˆ‘æƒ³æˆ‘éƒ½ç†è§£ä¸äº†å®ƒä»¬çš„æ–‡æ¡£ã€‚æˆ‘éå¸¸ä¹ æƒ¯äºæ›´è€çš„ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://mkaz.com/solog/python-string-format"&gt;Python String Format&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¯æ¬¡ä½¿ç”¨Pythonçš„æ ¼å¼å­—ç¬¦ä¸²ï¼ˆstring formatterï¼‰ï¼Œ2.7åŠä»¥ä¸Šç‰ˆæœ¬çš„ï¼Œæˆ‘éƒ½ä¼šçŠ¯é”™ï¼Œå¹¶ä¸”æœ‰ç”Ÿä¹‹å¹´ï¼Œæˆ‘æƒ³æˆ‘éƒ½ç†è§£ä¸äº†å®ƒä»¬çš„æ–‡æ¡£ã€‚æˆ‘éå¸¸ä¹ æƒ¯äºæ›´è€çš„
&lt;code&gt;%&lt;/code&gt; æ–¹æ³•ã€‚æ‰€ä»¥ç€æ‰‹ç¼–å†™è‡ªå·±çš„æ ¼å¼å­—ç¬¦ä¸²æ‰‹å†Œã€‚è‹¥ä½ æœ‰ä¸€äº›å…¶ä»–å¥½çš„ç¤ºä¾‹è¯·å‘ŠçŸ¥æˆ‘ã€‚&lt;/p&gt;
&lt;h2&gt;æ ¼å¼å­—ç¬¦ä¸²æ‰‹å†Œ&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;æ•°å­—æ ¼å¼åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„è¡¨æ ¼å±•ç¤ºäº†ä½¿ç”¨Pythonçš„åèµ·æ–°ç§€str.format()æ ¼å¼åŒ–æ•°å­—çš„å¤šç§æ–¹æ³•ï¼ŒåŒ…å«æµ®ç‚¹æ•°æ ¼å¼åŒ–ä¸æ•´æ•°æ ¼å¼åŒ–ç¤ºä¾‹ã€‚å¯ä½¿ç”¨
&lt;code&gt;print("FORMAT".format(NUMBER));&lt;/code&gt; æ¥è¿è¡Œç¤ºä¾‹ï¼Œå› æ­¤ä½ å¯ä»¥è¿è¡Œï¼š
&lt;code&gt;print("{:.2f}".format(3.1415926));&lt;/code&gt; æ¥å¾—åˆ°ç¬¬ä¸€ä¸ªç¤ºä¾‹çš„è¾“å‡ºã€‚&lt;/p&gt;
&lt;table border="1" align="center" width="80%"&gt;
&lt;tr&gt;&lt;th width="10%"&gt;æ•°å­—&lt;/th&gt;&lt;th width="10%"&gt;æ ¼å¼&lt;/th&gt;&lt;th width="12%"&gt;è¾“å‡º
&lt;/th&gt;&lt;th width="65%"&gt;æè¿°&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 3.1415926 &lt;/td&gt;
    &lt;td&gt; {:.2f} &lt;/td&gt;
    &lt;td&gt; 3.14 &lt;/td&gt;
    &lt;td&gt; ä¿ç•™å°æ•°ç‚¹åä¸¤ä½ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 3.1415926 &lt;/td&gt;
    &lt;td&gt; {:+.2f} &lt;/td&gt;
    &lt;td&gt; +3.14 &lt;/td&gt;
    &lt;td&gt; å¸¦ç¬¦å·ä¿ç•™å°æ•°ç‚¹åä¸¤ä½ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; -1 &lt;/td&gt;
    &lt;td&gt; {:+.2f} &lt;/td&gt;
    &lt;td&gt; -1.00 &lt;/td&gt;
    &lt;td&gt; å¸¦ç¬¦å·ä¿ç•™å°æ•°ç‚¹åä¸¤ä½ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 2.71828 &lt;/td&gt;
    &lt;td&gt; {:.0f} &lt;/td&gt;
    &lt;td&gt; 3 &lt;/td&gt;
    &lt;td&gt; ä¸å¸¦å°æ•° &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 5 &lt;/td&gt;
    &lt;td&gt; {:0&amp;gt;2d} &lt;/td&gt;
    &lt;td&gt; 05 &lt;/td&gt;
    &lt;td&gt; æ•°å­—è¡¥é›¶ (å¡«å……å·¦è¾¹, å®½åº¦ä¸º2) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 5 &lt;/td&gt;
    &lt;td&gt; {:x&amp;lt;4d} &lt;/td&gt;
    &lt;td&gt; 5xxx &lt;/td&gt;
    &lt;td&gt; æ•°å­—è¡¥x (å¡«å……å³è¾¹, å®½åº¦ä¸º4) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 10 &lt;/td&gt;
    &lt;td&gt; {:x&amp;lt;4d} &lt;/td&gt;
    &lt;td&gt; 10xx &lt;/td&gt;
    &lt;td&gt; æ•°å­—è¡¥x (å¡«å……å³è¾¹, å®½åº¦ä¸º4) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 1000000 &lt;/td&gt;
    &lt;td&gt; {:,} &lt;/td&gt;
    &lt;td&gt; 1,000,000 &lt;/td&gt;
    &lt;td&gt; ä»¥é€—å·åˆ†éš”çš„æ•°å­—æ ¼å¼ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 0.25 &lt;/td&gt;
    &lt;td&gt; {:.2%} &lt;/td&gt;
    &lt;td&gt; 25.00% &lt;/td&gt;
    &lt;td&gt; ç™¾åˆ†æ¯”æ ¼å¼ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 1000000000 &lt;/td&gt;
    &lt;td&gt; {:.2e} &lt;/td&gt;
    &lt;td&gt; 1.00e+09 &lt;/td&gt;
    &lt;td&gt; æŒ‡æ•°è®°æ³• &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 13 &lt;/td&gt;
    &lt;td&gt; {:10d} &lt;/td&gt;
    &lt;td&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;13&lt;/td&gt;
    &lt;td&gt; å³å¯¹é½ (é»˜è®¤, å®½åº¦ä¸º10) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 13 &lt;/td&gt;
    &lt;td&gt; {:&amp;lt;10d} &lt;/td&gt;
    &lt;td&gt; 13 &lt;/td&gt;
    &lt;td&gt; å·¦å¯¹é½ (å®½åº¦ä¸º10)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt; 13 &lt;/td&gt;
    &lt;td&gt; {:^10d} &lt;/td&gt;
    &lt;td&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;13 &lt;/td&gt;
    &lt;td&gt; ä¸­é—´å¯¹é½ (å®½åº¦ä¸º10) &lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;h2&gt;string.format()åŸºç¡€&lt;/h2&gt;
&lt;p&gt;å¦‚ä¸‹æ˜¯ä¸¤ä¸ªåŸºæœ¬å­—ç¬¦ä¸²æ›¿æ¢çš„ç¤ºä¾‹ï¼Œç¬¦å· &lt;code&gt;{}&lt;/code&gt;
æ˜¯æ›¿æ¢å˜é‡çš„å ä½ç¬¦ã€‚è‹¥æ²¡æœ‰æŒ‡å®šæ ¼å¼ï¼Œåˆ™ç›´æ¥å°†å˜é‡å€¼ä½œä¸ºå­—ç¬¦ä¸²æ’å…¥ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;s1 = &lt;span style="color: #a31515"&gt;&amp;quot;so much depends upon {}&amp;quot;&lt;/span&gt;.format(&lt;span style="color: #a31515"&gt;&amp;quot;a red wheel barrow&amp;quot;&lt;/span&gt;)
s2 = &lt;span style="color: #a31515"&gt;&amp;quot;glazed with {} water beside the {} chickens&amp;quot;&lt;/span&gt;.format(&lt;span style="color: #a31515"&gt;&amp;quot;rain&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;white&amp;quot;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å˜é‡çš„ä½ç½®æ•°å€¼ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­æ”¹å˜å®ƒä»¬ï¼Œè¿›è¡Œæ ¼å¼åŒ–æ—¶ï¼Œä¼šæ›´åŠ çµæ´»ã€‚å¦‚æœæé”™äº†é¡ºåºï¼Œä½ å¯ä»¥è½»æ˜“åœ°ä¿®æ­£è€Œä¸éœ€è¦æ‰“ä¹±æ‰€æœ‰çš„å˜é‡ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;s1 = &lt;span style="color: #a31515"&gt;&amp;quot; {0} is better than {1} &amp;quot;&lt;/span&gt;.format(&lt;span style="color: #a31515"&gt;&amp;quot;emacs&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;vim&amp;quot;&lt;/span&gt;)
s2 = &lt;span style="color: #a31515"&gt;&amp;quot; {1} is better than {0} &amp;quot;&lt;/span&gt;.format(&lt;span style="color: #a31515"&gt;&amp;quot;emacs&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;vim&amp;quot;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;æ›´è€çš„æ ¼å¼å­—ç¬¦ä¸²ç¬¦å·"%"&lt;/h2&gt;
&lt;p&gt;Python2.6ä¹‹å‰ï¼Œæ ¼å¼å­—ç¬¦ä¸²çš„ä½¿ç”¨æ–¹æ³•ç›¸å¯¹æ›´ç®€å•äº›ï¼Œè™½ç„¶å…¶èƒ½å¤Ÿæ¥æ”¶çš„å‚æ•°æ•°é‡æœ‰é™åˆ¶ã€‚è¿™äº›æ–¹æ³•åœ¨Python3.3ä¸­ä»ç„¶æœ‰æ•ˆï¼Œä½†å·²æœ‰å«è“„çš„è­¦å‘Šç§°å°†å®Œå…¨æ·˜æ±°è¿™äº›æ–¹æ³•ï¼Œç›®å‰è¿˜æ²¡æœ‰æ˜ç¡®çš„æ—¶é—´è¿›åº¦è¡¨ã€‚[&lt;a href="http://www.python.org/dev/peps/pep-3101/"&gt;PEP-3101&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ ¼å¼åŒ–æµ®ç‚¹æ•°ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pi = 3.14159
print(&lt;span style="color: #a31515"&gt;&amp;quot; pi = %1.2f &amp;quot;&lt;/span&gt;, % pi)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å¤šä¸ªæ›¿æ¢å€¼&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;s1 = &lt;span style="color: #a31515"&gt;&amp;quot;cats&amp;quot;&lt;/span&gt;
s2 = &lt;span style="color: #a31515"&gt;&amp;quot;dogs&amp;quot;&lt;/span&gt;
s3 = &lt;span style="color: #a31515"&gt;&amp;quot; %s and %s living together&amp;quot;&lt;/span&gt; % (s1, s2)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ²¡æœ‰è¶³å¤Ÿçš„å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨è€çš„æ ¼å¼åŒ–æ–¹æ³•ï¼Œæˆ‘ç»å¸¸çŠ¯é”™"TypeError: not enough arguments for formating
string"ï¼Œå› ä¸ºæˆ‘æ•°é”™äº†æ›¿æ¢å˜é‡çš„æ•°é‡ï¼Œç¼–å†™å¦‚ä¸‹è¿™æ ·çš„ä»£ç å¾ˆå®¹æ˜“æ¼æ‰å˜é‡ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;set =  (%s, %s, %s, %s, %s, %s, %s, %s) &lt;span style="color: #a31515"&gt;&amp;quot; % (a,b,c,d,e,f,g,h,i)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºæ–°çš„Pythonæ ¼å¼å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨ç¼–å·çš„å‚æ•°ï¼Œè¿™æ ·ä½ å°±ä¸éœ€è¦ç»Ÿè®¡æœ‰å¤šå°‘ä¸ªå‚æ•°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;set = set = &lt;span style="color: #a31515"&gt;&amp;quot; ({0}, {1}, {2}, {3}, {4}, {5}, {6}, {7}) &amp;quot;&lt;/span&gt;.format(a,b,c,d,e,f,g)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;æ›´å¤š.format()çš„æ ¼å¼å­—ç¬¦ä¸²æ–¹æ³•&lt;/h2&gt;
&lt;p&gt;format()å‡½æ•°æä¾›äº†ç›¸å½“å¤šçš„é™„åŠ ç‰¹æ€§å’ŒåŠŸèƒ½ï¼Œå¦‚ä¸‹æ˜¯ä¸€äº›æœ‰ç”¨çš„ä½¿ç”¨.format()çš„æŠ€å·§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‘½åå‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å°†æ–°çš„æ ¼å¼å­—ç¬¦ä¸²ç”¨ä½œæ¨¡æ¿å¼•æ“ï¼Œä½¿ç”¨å‘½åå‚æ•°ï¼Œè¿™æ ·å°±ä¸è¦æ±‚æœ‰ä¸¥æ ¼çš„é¡ºåºã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;madlib = &lt;span style="color: #a31515"&gt;&amp;quot; I {verb} the {object} off the {place} &amp;quot;&lt;/span&gt;.format(verb=&lt;span style="color: #a31515"&gt;&amp;quot;took&amp;quot;&lt;/span&gt;, object=&lt;span style="color: #a31515"&gt;&amp;quot;cheese&amp;quot;&lt;/span&gt;, place=&lt;span style="color: #a31515"&gt;&amp;quot;table&amp;quot;&lt;/span&gt;)
&amp;gt;&amp;gt;&amp;gt; I took the cheese off the table
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å¤šæ¬¡å¤ç”¨åŒä¸€ä¸ªå˜é‡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;%&lt;/code&gt; æ ¼å¼å­—ç¬¦ä¸²ï¼Œè¦æ±‚å˜é‡æœ‰ä¸¥æ ¼çš„æ¬¡åºï¼Œè€Œ.format()æ–¹æ³•å…è®¸å¦‚ä¸Šæ‰€ç¤ºé‚£æ ·ä»»æ„æ’åˆ—å‚æ•°ï¼Œä¹Ÿå…è®¸å¤ç”¨ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;str = &lt;span style="color: #a31515"&gt;&amp;quot;Oh {0}, {0}! wherefore art thou {0}?&amp;quot;&lt;/span&gt;.format(&lt;span style="color: #a31515"&gt;&amp;quot;Romeo&amp;quot;&lt;/span&gt;)
&amp;gt;&amp;gt;&amp;gt; Oh Romeo, Romeo&lt;span style="border: 1px solid #FF0000"&gt;!&lt;/span&gt; wherefore art thou Romeo&lt;span style="border: 1px solid #FF0000"&gt;?&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å°†æ•°å€¼è½¬æ¢ä¸ºä¸åŒçš„è¿›åˆ¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å­—æ¯æ¥å°†æ•°å­—è½¬æ¢æˆå­—æ¯ä»£è¡¨çš„è¿›åˆ¶ï¼Œ&lt;strong&gt;d&lt;/strong&gt;ecimalï¼Œhe&lt;strong&gt;x&lt;/strong&gt;ï¼Œ&lt;strong&gt;o&lt;/strong&gt;ctal, &lt;strong&gt;b&lt;/strong&gt;inaryã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;print(&lt;span style="color: #a31515"&gt;&amp;quot;{0:d} - {0:x} - {0:o} - {0:b} &amp;quot;&lt;/span&gt;.format(21))
&amp;gt;&amp;gt;&amp;gt; 21 - 15 - 25 -10101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å°†æ ¼å¼ä½œä¸ºå‡½æ•°æ¥ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥å°†.format()ç”¨ä½œå‡½æ•°ï¼Œè¿™å°±å…è®¸åœ¨ä»£ç ä¸­å°†æ™®é€šæ–‡æœ¬å’Œæ ¼å¼åŒºåˆ†å¼€æ¥ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥åœ¨ç¨‹åºçš„å¼€å¤´åŒ…å«æ‰€æœ‰éœ€è¦ä½¿ç”¨çš„æ ¼å¼ï¼Œç„¶ååœ¨åé¢ä½¿ç”¨ã€‚è¿™ä¹Ÿæ˜¯ä¸€ç§å¤„ç†å›½é™…åŒ–çš„å¥½æ–¹æ³•ï¼Œå›½é™…åŒ–ä¸ä»…è¦æ±‚ä¸åŒçš„æ–‡æœ¬ï¼Œä¸”å¸¸å¸¸è¦æ±‚ä¸åŒçš„æ•°å­—æ ¼å¼ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;## å®šä¹‰æ ¼å¼&lt;/span&gt;
email_f = &lt;span style="color: #a31515"&gt;&amp;quot;Your email address was {email}&amp;quot;&lt;/span&gt;.format

&lt;span style="color: #008000"&gt;### åœ¨å¦ä¸€ä¸ªåœ°æ–¹ä½¿ç”¨&lt;/span&gt;
print(email_f(email=&lt;span style="color: #a31515"&gt;&amp;quot;bob@example.com&amp;quot;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ„Ÿè°¢
&lt;a href="http://www.reddit.com/r/Python/comments/174e1i/python_string_format_cookbook/c82ot0h"&gt;earthboundkid&lt;/a&gt;åœ¨redditä¸Šæä¾›è¿™ä¸€æŠ€å·§ã€‚&lt;/p&gt;
&lt;h2&gt;å…¶ä»–æŠ€å·§&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;è½¬ä¹‰å¤§æ‹¬å·&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨str.format()æ—¶ï¼Œè‹¥ä½ éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ï¼Œåªè¦å†™ä¸¤æ¬¡å°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;print(&lt;span style="color: #a31515"&gt;&amp;quot; The {} set is often represented as { {0} } &amp;quot;&lt;/span&gt;.format(&lt;span style="color: #a31515"&gt;&amp;quot;empty&amp;quot;&lt;/span&gt;))
&amp;gt;&amp;gt;&amp;gt; The empty set &lt;span style="color: #0000ff"&gt;is&lt;/span&gt; often represented &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; {0}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.python.org/3/library/string.html"&gt;Python String Library&lt;/a&gt; - æ ‡å‡†åº“æ–‡æ¡£&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category><category term="ç¿»è¯‘"></category></entry><entry><title>pythonå‘¨åˆŠ-ç¬¬70æœŸï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/01/25/issue-70-of-python-weekly/" rel="alternate"></link><published>2013-01-25T00:00:00+08:00</published><updated>2013-01-25T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-25:/2013/01/25/issue-70-of-python-weekly/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://us2.campaign-archive1.com/?u=e2e180baf855ac797ef407fc7&amp;amp;id=7fc9a4c2e2&amp;amp;e=59f9a3c7e0"&gt;issue 70 of Python Weekly&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–‡ç« ï¼Œæ•™ç¨‹å’Œè®²åº§(Articles, Tutorials and Talks)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://jakevdp.github.com/blog/2013/01/13/hacking-super-mario-bros-with-python/"&gt;ä½¿ç”¨Python Hackingè¶…çº§é©¬é‡Œå¥¥(Hacking Super Mario Bros. With Python)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This post shows how you can use matplotlib's animation tool to create animated
gifs based on Super Mario Bros â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://us2.campaign-archive1.com/?u=e2e180baf855ac797ef407fc7&amp;amp;id=7fc9a4c2e2&amp;amp;e=59f9a3c7e0"&gt;issue 70 of Python Weekly&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–‡ç« ï¼Œæ•™ç¨‹å’Œè®²åº§(Articles, Tutorials and Talks)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://jakevdp.github.com/blog/2013/01/13/hacking-super-mario-bros-with-python/"&gt;ä½¿ç”¨Python Hackingè¶…çº§é©¬é‡Œå¥¥(Hacking Super Mario Bros. With Python)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This post shows how you can use matplotlib's animation tool to create animated
gifs based on Super Mario Bros in Python.&lt;/p&gt;
&lt;p&gt;è¯¥æ–‡å±•ç¤ºå¦‚ä½•ä½¿ç”¨matplotlibçš„åŠ¨ç”»å·¥å…·ä½¿ç”¨Pythonåˆ›å»ºè¶…çº§é©¬é‡Œå¥¥çš„åŠ¨ç”»æ•ˆæœgifå›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://tech.shift.com/post/40299429203/implementing-a-python-oauth-2-0-provider-part-2"&gt;å®ç°ä¸€ä¸ªPython OAuth 2.0 æä¾›æ–¹ - ç¬¬2éƒ¨åˆ† - æˆæƒæœåŠ¡æä¾›æ–¹(Implementing a Python OAuth 2.0 Provider - Part2 - Authorization Provider)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Last week, the first part covered the Basics of the OAuth 2.0 Authorization
Flow. This second part will walk through how we used pyoauth2 to set up a
minimal Authorization Provider for SHIFT. This post covers setting up endpoints
for steps 2 and 5 from the overview.&lt;/p&gt;
&lt;p&gt;ä¸Šå‘¨ï¼Œç¬¬ä¸€éƒ¨åˆ†é˜è¿°äº†OAuth 2.0æˆæƒçš„åŸºæœ¬æµç¨‹ã€‚
è¯¥ç¬¬äºŒéƒ¨åˆ†å°†å¤§è‡´è®²è¿°æ€æ ·ä½¿ç”¨pyoauth2ä¸ºSHIFTå…¬å¸å»ºç«‹ä¸€ä¸ªæœ€åŸºæœ¬çš„æˆæƒæä¾›æ–¹ã€‚è¯¥æ–‡æ¦‚è¿°æˆæƒæµç¨‹ä»ç¬¬2æ­¥åˆ°ç¬¬5æ­¥ç«¯åˆ°ç«¯çš„å…·ä½“å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://proppy-appstats.appspot.com/#1"&gt;ä¼˜åŒ–ä½ çš„App Engineåº”ç”¨(Optimizing Your App Engine App)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In this presentation, Johan Euphrosine, Google Developer Program Engineer,
   shows Datastore pattern and Anti-pattern and how to optimize your App Engine
   App with Appstats.&lt;/p&gt;
&lt;p&gt;è¯¥æ¼”è®²ç¨¿ä¸­ï¼Œè°·æ­Œå¼€å‘è€…è®¡åˆ’å·¥ç¨‹å¸ˆï¼ŒJohan
Euphrosineï¼Œè§£é‡Šäº†æ•°æ®å­˜å‚¨æ¨¡å¼ä¸åæ¨¡å¼ï¼Œä»¥åŠæ€æ ·ä½¿ç”¨Appstatsä¼˜åŒ–App
Engineåº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.randalolson.com/2013/01/14/filling-in-pythons-gaps-in-statistics-packages-with-rmagic/"&gt;ä½¿ç”¨Rmagicæ¥å¼¥è¡¥Pythonç»Ÿè®¡åˆ†æå·¥å…·åŒ…çš„ç¼ºå¤±(Filling in Python's gaps in statistics packages with Rmagic)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Rmagic is a package which allows you to run R code within the IPython
interface. This post explains how it works.&lt;/p&gt;
&lt;p&gt;Rmagicæ˜¯ä¸€ä¸ªå…è®¸é€šè¿‡IPythonæ¥å£æ‰§è¡ŒRä»£ç çš„PythonåŒ…ã€‚è¯¥æ–‡è§£é‡Šäº†Rmagicæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.twilio.com/blog/2013/01/sending-images-via-sms-with-filepicker-and-twilio.html"&gt;ä½¿ç”¨Filepickerå’ŒTwilioå®ç°é€šè¿‡çŸ­ä¿¡æ¯æœåŠ¡å‘é€å›¾ç‰‡(Sending Images via SMS with Filepicker and Twilio)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Filepicker.io provides APIs to connect, process, and store any piece of content
in your web application. For example if you are building an application that
needs to send files or photos to your users via SMS, then you can use
Filepicker.io with Twilio to make this happen. Let's explore how to build this.&lt;/p&gt;
&lt;p&gt;Filepicker.ioæä¾›APIç”¨äºè¿æ¥ï¼Œå¤„ç†ï¼Œä»¥åŠå­˜å‚¨ä½ çš„webåº”ç”¨ä¸­çš„ä»»ä½•å†…å®¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æ­£åœ¨æ„å»ºçš„åº”ç”¨éœ€è¦é€šè¿‡çŸ­æ¶ˆæ¯æœåŠ¡ç»™ç”¨æˆ·å‘é€æ–‡ä»¶æˆ–ç…§ç‰‡ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨Filepicker.ioé…åˆTwilioæ¥å®ç°ã€‚è¯¥æ–‡æ¢è®¨äº†å¦‚ä½•æ„å»ºè¿™ä¸€åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://lightbird.net/larks/versi.html"&gt;Versiæ•™ç¨‹(Versi Tutorial)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Versi is a clone of the Reversi game. The goal of the game is to capture more
tiles than your enemy. You can capture the enemy's tiles by placing a new piece
on the blank tile so that one or more of enemy pieces are enclosed on a line
between your placed piece and one of your existing pieces.&lt;/p&gt;
&lt;p&gt;Versiæ˜¯é»‘ç™½æ£‹æ¸¸æˆçš„å…‹éš†ç‰ˆæœ¬ã€‚è¿™ä¸ªæ¸¸æˆçš„ç›®æ ‡æ˜¯æ¯”ä½ çš„æ•Œäººæ•è·æ›´å¤šçš„æ£‹å­ã€‚ä½ å¯ä»¥åœ¨ç©ºç™½ä¹‹å¤„æ”¾ç½®æ–°æ£‹å­æ¥æ•è·æ•Œäººçš„æ£‹å­ï¼Œè¿™æ ·ï¼Œä¸€è¡Œä¸­ï¼Œåœ¨åˆšæ”¾ç½®çš„æ£‹å­ä¸ä½ åŸæ¥å°±æœ‰çš„æ£‹å­ä¹‹é—´å°±åŒ…å›´äº†ä¸€ä¸ªæˆ–å¤šä¸ªæ•Œäººçš„æ£‹å­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://ganwellresource.blogspot.com/2013/01/monte-carlo-web-server-statistics-using.html"&gt;ä½¿ç”¨Pandasä¸Matplotlibè¿›è¡Œè’™ç‰¹å¡æ´›æ³•WebæœåŠ¡å™¨ç»Ÿè®¡åˆ†æ(Monte Carlo Web-Server Statistics using Pandas and Matplotlib)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The author collected the web-server statistic-data by connecting to random web
servers and asking it for its name. He was able to maintain 80'0000 concurrent
connections on linux using tornados ioloop when he hit the limit of the
upstream-bandwidth at home.&lt;/p&gt;
&lt;p&gt;é€šè¿‡è¿æ¥åˆ°éšæœºé€‰æ‹©çš„webæœåŠ¡å™¨å¹¶è¯·æ±‚å…¶åç§°ï¼Œä½œè€…æ”¶é›†äº†ä¸€äº›webæœåŠ¡å™¨ç»Ÿè®¡æ•°æ®ã€‚æ–‡ä¸­è¯´æ˜ä½œè€…ä½¿ç”¨tornadoçš„ioloopèƒ½å¤Ÿç»´æŒ80'0000ä¸ªå¹¶å‘è¿æ¥ï¼Œç›´åˆ°è¾¾åˆ°å®¶åº­å¸¦å®½çš„ä¸Šé™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://maxburstein.com/blog/realtime-django-using-nodejs-and-socketio/"&gt;ä½¿ç”¨Djangoï¼ŒNode.jsä»¥åŠSocket.IOç­‰å®ç°å®æ—¶åº”ç”¨(Realtime Django Using Node.js and Socket.IO)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The goal of this post is to show you how to build a realtime chatroom using
Django, Redis, and Socket.IO. At a high level this post will show you how you
can convert your REST based app into a realtime web app.&lt;/p&gt;
&lt;p&gt;è¯¥æ–‡çš„ç›®çš„æ˜¯é˜è¿°å¦‚ä½•ä½¿ç”¨Django, Redis,
    ä»¥åŠSocket.IOæ„å»ºä¸€ä¸ªå®æ—¶ç½‘ç»œèŠå¤©å®¤ã€‚ä»è¾ƒé«˜å±‚é¢æ¥çœ‹ï¼Œè¯¥æ–‡å°†é˜è¿°å¦‚ä½•å°†åŸºäºRESTçš„åº”ç”¨è½¬å˜ä¸ºå®æ—¶webåº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://astrofrog.github.com/blog/2013/01/13/what-python-installations-are-scientists-using/"&gt;ç§‘å­¦å®¶ä»¬åœ¨ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„Pythonè§£é‡Šå™¨ä»¥åŠç›¸å…³çš„åº“ï¼Ÿ(What Python Installations Are Scientists Using?)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This post gives you an overview of the results of a survey conducted to find
out what Python, Numpy, and Scipy versions the Scientists are using.&lt;/p&gt;
&lt;p&gt;è¯¥æ–‡æ¦‚è¿°äº†ä¸€ä¸ªè°ƒæŸ¥çš„ç»“æœï¼Œè¯¥è°ƒæŸ¥æ—¨åœ¨æ‰¾å‡ºç§‘å­¦å®¶ä»¬æ­£åœ¨ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„Pythonè§£é‡Šå™¨ï¼ŒNumpyä»¥åŠScipyã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.slideshare.net/mpirnat/web-development-with-python-and-django"&gt;Pythonä¸Django Webå¼€å‘(Web Development with Python and Django)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Slides from CodeMash 2013 Precompiler session, "Web Development with Python and
Django", including a breezy introduction to the Python programming language and
the Django web framework. The example code repository is available
&lt;a href="https://github.com/finiteloopsoftware/django-precompiler/"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;æ¥è‡ªCodeMash 2013é¢„ç¼–è¯‘å™¨ä¼šè®®çš„å¹»ç¯ç‰‡ï¼Œâ€œPythonä¸Django
Webå¼€å‘â€ï¼Œç”ŸåŠ¨åœ°ä»‹ç»äº†Pythonç¨‹åºè®¾è®¡è¯­è¨€å’ŒDjango
Webæ¡†æ¶ã€‚ç¤ºä¾‹ä»£ç åº“è§&lt;a href="https://github.com/finiteloopsoftware/django-precompiler/"&gt;è¿™é‡Œ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.linuxjournal.com/content/python-scripts-replacement-bash-utility-scripts"&gt;å¯æ›¿ä»£Bashå®ç”¨è„šæœ¬çš„Pythonè„šæœ¬(Python Scripts as a Replacement for Bash Utility Scripts)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Instead of replacing a series of bash commands with one Python script, it often
is better to have Python do only the heavy lifting in the middle. This allows
for more modular and reusable scripts, while also tapping into the power of all
that Python offers. Using stdin as a file object allows Python to read input,
     which is piped to it from other commands, and writing to stdout allows it
     to continue passing the information through the piping system. Combining
     information like this can make for some very powerful programs.&lt;/p&gt;
&lt;p&gt;ç›¸è¾ƒäºä½¿ç”¨ä¸€ä¸ªPythonè„šæœ¬æ¥æ›¿æ¢ä¸€ç³»åˆ—çš„bashå‘½ä»¤ï¼Œä»…ä½¿ç”¨Pythonæ¥å®Œæˆå…¶ä¸­çš„é‡æ´»ä¼šæ›´å¥½äº›ã€‚è¿™æ ·çš„è„šæœ¬æ¨¡å—åŒ–å’Œå¯å¤ç”¨æ€§æ›´å¥½ï¼ŒåŒæ—¶åˆ©ç”¨äº†Pythonçš„ä¼˜åŠ¿ã€‚å°†æ ‡å‡†è¾“å…¥ä½œä¸ºä¸€ä¸ªæ–‡ä»¶å¯¹è±¡æ¥ä½¿ç”¨ï¼Œå…è®¸Pythonè¯»å–å…¶ä»–å‘½ä»¤é€šè¿‡ç®¡é“æä¾›ç»™å®ƒçš„è¾“å…¥ã€‚å†™åˆ°æ ‡å‡†è¾“å‡ºä¹Ÿå…è®¸Pythoné€šè¿‡ç®¡é“ç³»ç»Ÿç»§ç»­ä¼ é€’ä¿¡æ¯ã€‚åƒè¿™æ ·æŠŠä¿¡æ¯ç»“åˆèµ·æ¥èƒ½å¤Ÿäº§ç”Ÿä¸€äº›éå¸¸å¼ºå¤§çš„ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://pythontesting.net/framework/pytest-introduction/"&gt;pytestå…¥é—¨(pytest introduction)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A post giving you an overview of pytest, a simple example, then throw pytest at
my markdown.py project. It also cover fixtures, test discovery, and running
unittests with pytest.&lt;/p&gt;
&lt;p&gt;è¯¥æ–‡ç« å…ˆæ¦‚è¿°pytestï¼Œè€Œåç»™å‡ºä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå¹¶å°†pyteståº”ç”¨äºä½œè€…çš„markdown.pyé¡¹ç›®ã€‚æ–‡ç« ä¹Ÿæ¶µç›–äº†Pytestçš„ä¸€äº›æµ‹è¯•å¤¹å…·ï¼Œæµ‹è¯•å‘ç°ï¼Œä»¥åŠé…åˆpytestæ‰§è¡Œunittestsã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://raspberry-python.blogspot.com/2013/01/pyhacking-step-by-step.html"&gt;PyHackingæ”»ç•¥(PyHacking step by step)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://benplesser.com/2013/01/10/beefing-up-the-python-shell-to-build-apps-faster-and-dryer/"&gt;å¢å¼ºPython Shellä»¥æ›´å¿«é€Ÿåœ°æ„å»ºåº”ç”¨ï¼ŒåŒæ—¶å‡å°‘é‡å¤å·¥ä½œ(Beefing up the Python Shell to build apps faster and DRYer)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.linuxjournal.com/content/getting-started-salt-stack-other-configuration-management-system-built-python"&gt;Salt Stackèµ·æ­¥---å¦ä¸€ä¸ªPythonå®ç°çš„é…ç½®ç®¡ç†ç³»ç»Ÿ(Getting Started with Salt Stack-the Other Configuration Management System Built with Python)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.rootshell.be/2013/01/11/managing-apple-icloud-notes-with-python/"&gt;ä½¿ç”¨Pythonç®¡ç†Apple iCloudç¬”è®°(Managing Apple iCloud Notes with Python)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.youtube.com/watch?v=BZyXe3MhEyI"&gt;å¦‚ä½•ä½¿ç”¨Pythonå®ç°ä¸€ä¸ªå¯æ’¤é”€å¯é‡åšçš„Mayaå‘½ä»¤(How to implement an undoable and redoable Maya command in Python)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://eli.thegreenplace.net/2013/01/16/python-paralellizing-cpu-bound-tasks-with-concurrent-futures/"&gt;Python-ä½¿ç”¨concurrent.futureså¹¶è¡ŒåŒ–è®¡ç®—å¯†é›†å‹ä»»åŠ¡(Python - paralellizing CPU-bound tasks with concurrent.futures)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœ‰è¶£çš„é¡¹ç›®ï¼Œå·¥å…·å’Œåº“(Interesting Projects, Tools and Libraries)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/gleitz/howdoi"&gt;howdoi&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Are you a hack programmer? Do you find yourself constantly Googling for how to
do basic programming tasks? Howdoi gives quick answers to many proragmming
questions via the command line.&lt;/p&gt;
&lt;p&gt;ä½ æ˜¯ä¸€ä¸ªç¨‹åºå‘˜æ–°æ‰‹ï¼Ÿä½ å‘ç°è‡ªå·±ç»å¸¸ä½¿ç”¨Googleæœç´¢å¦‚ä½•å®Œæˆä¸€äº›åŸºæœ¬çš„ç¼–ç¨‹ä»»åŠ¡ï¼Ÿå¯¹äºè®¸å¤šç¼–ç¨‹é—®é¢˜ï¼ŒHowdoièƒ½å¤Ÿé€šè¿‡å‘½ä»¤è¡Œå¿«é€Ÿåœ°ç»™å‡ºç­”æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://baboon-project.org/"&gt;Baboon Project&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Do you waste your time in resolving merge conflicts with your favorite source code manager? Do you want to get rid of "Merge Hell"? Baboon is the solution for you! It's a lightweight daemon that detects merge conflicts before they actually happen. In fact, it detects them in real time.&lt;/p&gt;
&lt;p&gt;ä½ è¿˜åœ¨æµªè´¹æ—¶é—´è§£å†³ä½ å–œçˆ±çš„æºç ç®¡ç†å·¥å…·ä¸­çš„åˆå¹¶å†²çªï¼Ÿä½ æƒ³æ‘†è„±â€œåˆå¹¶åœ°ç‹±â€ä¹ˆï¼ŸBaboonå°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼å®ƒæ˜¯ä¸€ä¸ªè½»é‡çš„åå°ç¨‹åºï¼Œç›®æ ‡æ˜¯åœ¨åˆå¹¶å†²çªçœŸæ­£å‘ç”Ÿä¹‹å‰å°±æ£€æµ‹åˆ°ã€‚äº‹å®ä¸Šï¼Œå®ƒèƒ½å¤Ÿå®æ—¶æ£€æµ‹å­˜åœ¨çš„åˆå¹¶å†²çªã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://code.google.com/p/topy/"&gt;ToPy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ToPy solves the problem to obtain a 2D(or 3D, depending on the input file) solid-void (black and white) solution. The result is (a) an optimally stiff structure for minimum compliance problems, (b) an optimal distribution of two materials for heat conduction problems and (c) an optimal distribution of material for efficient mobility.&lt;/p&gt;
&lt;p&gt;ToPyæ—¨åœ¨è§£å†³è·å–ä¸€ä¸ª2Dï¼ˆæˆ–3Dï¼Œæ ¹æ®è¾“å…¥æ–‡ä»¶è€Œå®šï¼‰å®-è™šï¼ˆé»‘å’Œç™½ï¼‰ç»“æ„æ–¹æ¡ˆçš„é—®é¢˜ã€‚ç¨‹åºçš„ç»“æœæ˜¯(a)æœ€å°åˆè§„é—®é¢˜çš„ä¸€ä¸ªæœ€ä½³åˆšæ€§ç»“æ„ï¼Œ(b)çƒ­ä¼ å¯¼é—®é¢˜ä¸­ä¸¤ç§ææ–™çš„ä¸€ä¸ªæœ€ä½³åˆ†å¸ƒä»¥åŠ(c)æœ‰æ•ˆæµåŠ¨æ€§é—®é¢˜ä¸­ææ–™çš„ä¸€ä¸ªæœ€ä½³åˆ†å¸ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/simpleai-team/simpleai"&gt;Simple AI&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This lib implements many of the artificial intelligence algorithms described on the book "Artificial Intelligence, a Modern Approach", from Stuart Russel and Peter Norvig. We strongly recommend you to read the book, or at least the introductory chapters and the ones related to the components you want to use, because we won't explain the algorithms here.&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªä»£ç åº“å®ç°äº†è®¸å¤šStuart Russelå’ŒPeter Norvigæ‰€è‘—â€œäººå·¥æ™ºèƒ½---ä¸€ç§ç°ä»£æ–¹æ³•â€ä¸€ä¹¦ä¸­æè¿°çš„äººå·¥æ™ºèƒ½ç®—æ³•ã€‚æˆ‘ä»¬å¼ºçƒˆæ¨èä½ é˜…è¯»è¿™æœ¬ä¹¦ï¼Œæˆ–è€…è‡³å°‘æ˜¯å…¥é—¨çš„ç« èŠ‚ä»¥åŠä¸ä½ æƒ³è¦ä½¿ç”¨çš„éƒ¨åˆ†ç›¸å…³çš„ç« èŠ‚ï¼Œå› ä¸ºæˆ‘ä»¬ä¸ä¼šè§£é‡Šè¿™äº›ç®—æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/rubik/radon"&gt;Radon&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Radon is a tool for Python that computes various metrics from the source code.&lt;/p&gt;
&lt;p&gt;Radonæ˜¯ä¸€ä¸ªä¸ºPythonæºç è®¡ç®—å¤šç§åº¦é‡æŒ‡æ ‡çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/louist87/Scrappy"&gt;Scrappy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Python module to rename media collections based on scrapes from thetvdb.com. CLI and GUI tools.&lt;/p&gt;
&lt;p&gt;åŸºäºä»thetvdb.comç½‘ç«™è·å–çš„ä¿¡æ¯å¯¹åª’ä½“é›†è¿›è¡Œé‡å‘½åçš„Pythonæ¨¡å—ã€‚å‘½ä»¤è¡Œå’Œå›¾å½¢ç”¨æˆ·ç•Œé¢å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/rhec/pyelasticsearch"&gt;pyelasticssearch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;pyelasticsearch is a clean, future-proof, high-scale API to elasticsearch.&lt;/p&gt;
&lt;p&gt;pyelasticsearchä¸ºelasticsearch(è¯‘æ³¨ï¼šä¸€ç§å¼€æºçš„åˆ†å¸ƒå¼æœç´¢å¼•æ“ï¼Œå®˜ç½‘è§http://www.elasticsearch.org/ )æä¾›ä¸€ä¸ªå¹²å‡€çš„ã€ç»å¾—èµ·æ—¶é—´è€ƒéªŒçš„ã€é«˜å¯æ‰©å±•çš„APIã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/ubershmekel/import_or_pip"&gt;import_or_pip&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A python module that lets you import a module or pip install it if it isn't found.&lt;/p&gt;
&lt;p&gt;è¯¥Pythonæ¨¡å—å…è®¸ä½ åœ¨ç¨‹åºä¸­importä¸€ä¸ªæ¨¡å—æˆ–è€…å½“æ²¡æ‰¾åˆ°è¦importçš„æ¨¡å—æ—¶ä¼šä½¿ç”¨pipè‡ªåŠ¨å®‰è£…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="https://bitbucket.org/larsyencken/doko"&gt;doko&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A simple command-line utility (and Python module) to determine your current location.&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œå·¥å…·ï¼ˆä»¥åŠPythonæ¨¡å—ï¼‰ç”¨äºç¡®å®šä½ å½“å‰çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¹¦ç±(Books)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.amazon.com/gp/product/1589482824/ref=as_li_qf_sp_asin_tl?ie=UTF8&amp;amp;tag=pythonweekly-20&amp;amp;linkCode=as2&amp;amp;camp=1789&amp;amp;creative=9325&amp;amp;creativeASIN=1589482824"&gt;ArcGIS Pythonè„šæœ¬ç¼–ç¨‹(Python Scripting for ArcGIS)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Python Scripting for ArcGIS is a guide to help experienced users of ArcGIS for Desktop get started with Python scripting. This book teaches how to write Python code that works with spatial data to automate geoprocessing tasks in ArcGIS. Readers can thus learn the skill set needed to create custom tools.&lt;/p&gt;
&lt;p&gt;ArcGIS Pythonè„šæœ¬ç¼–ç¨‹æ˜¯ä¸€æœ¬å¸®åŠ©æœ‰ç»éªŒçš„ArchGISæ¡Œé¢ç”¨æˆ·å…¥é—¨Pythonè„šæœ¬ç¼–ç¨‹çš„æŒ‡å—ã€‚è¯¥ä¹¦è®²è§£äº†å¦‚ä½•ç¼–å†™Pythonä»£ç å¤„ç†ç©ºé—´æ•°æ®ä»¥è‡ªåŠ¨åŒ–ArcGISä¸­çš„åœ°ç†æ•°æ®å¤„ç†ä»»åŠ¡ã€‚å› æ­¤ï¼Œè¯»è€…èƒ½å¤Ÿå­¦ä¹ åˆ°ä¸€äº›ç”¨äºåˆ›å»ºå®šåˆ¶åŒ–å·¥å…·çš„æŠ€å·§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å³å°†æ¥ä¸´çš„å¤§äº‹å’Œåœ¨çº¿ç ”è®¨ä¼š(Upcoming Events and Webinars)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://meetup.bostonpython.com/events/77229092/"&gt;é©¬è¨è¯¸å¡å·,å‰‘æ¡¥-2013å¹´1æœˆ-æ³¢å£«é¡¿Pythonä¼šè®®(Boston Python Meetup January 2013 - Cambridge, MA)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There will be following two presentations&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Zipline - A new, BSD-licensed quantitative trading system which allows easy backtesting of investment algorithms on historical data.&lt;/li&gt;
&lt;li&gt;Hython - A lisp variant that's fully hosted on and fully interoperable (in both directions) with Python.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°†ä¼šæœ‰ä»¥ä¸‹ä¸¤ä¸ªæŠ¥å‘Š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Zipline - ä¸€ä¸ªæ–°çš„ã€åŸºäºBSDè®¸å¯åè®®çš„é‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œå…è®¸è½»æ¾åœ°å¯¹å†å²æ•°æ®è¿›è¡ŒæŠ•èµ„ç®—æ³•çš„äº‹åæ£€éªŒã€‚&lt;/li&gt;
&lt;li&gt;Hython - ä¸€ä¸ªå®Œå…¨æ¨¡ä»¿Pythonè¯­æ³•å¹¶å®Œå…¨å¯ä¸Pythonäº’æ“ä½œï¼ˆåŒå‘çš„ï¼‰çš„lispå˜ç§è¯­è¨€ã€‚ï¼ˆè¯‘æ³¨ï¼šæ˜¯è¿™ä¸ª&lt;a href="https://github.com/MaskRay/Hython"&gt;hython&lt;/a&gt;ä¹ˆï¼Ÿï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="http://www.djangonyc.org/events/98408042/"&gt;çº½çº¦å·ï¼Œçº½çº¦-2013å¹´1æœˆ-Django-NYCä¼šè®®(Django-NYC Meetup January 2013 - New York, NY)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This month we'll be taking a look at security. Our guide will be Levi Gross from Matasano. Most of the times security talks are boring. They speak about abstract topics like SQL injection and Cross Site Scripting however, rarely do they show you these bugs in the wild (due to the legal concerns). In this talk we will take a practical look at Django's security features and limitations.&lt;/p&gt;
&lt;p&gt;æœ¬æœˆæˆ‘ä»¬å°†è®¨è®ºå®‰å…¨é—®é¢˜ã€‚æˆ‘ä»¬çš„æŒ‡å¯¼è€…ä¸ºæ¥è‡ªMatasanoçš„Levi Grossã€‚å¤šæ•°æ—¶å€™ï¼Œå…³äºå®‰å…¨çš„æ¼”è®²æ€»æ˜¯å¾ˆæ¯ç‡¥ã€‚ä»–ä»¬è°ˆè®ºSQLæ³¨å…¥å’Œè·¨ç½‘ç«™è„šæœ¬æ”»å‡»ä¸€ç±»çš„æŠ½è±¡è¯é¢˜ï¼Œå´å¾ˆå°‘å‘ä½ å±•ç¤ºåœ¨çœŸå®ç¯å¢ƒä¸‹çš„è¿™äº›bugï¼ˆè€ƒè™‘åˆ°æ³•å¾‹é—®é¢˜ï¼‰ã€‚æœ¬æ¬¡æ¼”è®²ä¸­æˆ‘ä»¬å°†ä»å®é™…å‡ºå‘çœ‹çœ‹Djangoçš„å®‰å…¨ç‰¹æ€§ä¸é™åˆ¶ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="python"></category><category term="python-weekly"></category><category term="ç¿»è¯‘"></category></entry><entry><title>å›é¡¾12ï¼Œå±•æœ›13ï¼ˆæŠ€æœ¯ç¯‡ï¼‰</title><link href="http://youngsterxyf.github.io/2013/01/22/technology-12-13/" rel="alternate"></link><published>2013-01-22T00:00:00+08:00</published><updated>2013-01-22T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-22:/2013/01/22/technology-12-13/</id><summary type="html">&lt;p&gt;ç»ˆå½’æ˜¯ä¸ªææŠ€æœ¯çš„ï¼Œæ‰€ä»¥æ€ä¹ˆä¹Ÿå¾—æä¸ªæ€»ç»“ä¸å±•æœ›çš„ç‰¹åˆ«ç¯‡ï¼Œè®²è¿°è¿‡å»ä¸€å¹´çš„æŠ€æœ¯å­¦ä¹ ä¸æˆæœï¼Œè§„åˆ’æ¥ä¸‹æ¥ä¸€å¹´æŠ€æœ¯å­¦ä¹  â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ç»ˆå½’æ˜¯ä¸ªææŠ€æœ¯çš„ï¼Œæ‰€ä»¥æ€ä¹ˆä¹Ÿå¾—æä¸ªæ€»ç»“ä¸å±•æœ›çš„ç‰¹åˆ«ç¯‡ï¼Œè®²è¿°è¿‡å»ä¸€å¹´çš„æŠ€æœ¯å­¦ä¹ ä¸æˆæœï¼Œè§„åˆ’æ¥ä¸‹æ¥ä¸€å¹´æŠ€æœ¯å­¦ä¹ çš„è®¡åˆ’ã€‚&lt;/p&gt;
&lt;p&gt;2012å¹´ï¼Œé˜…è¯»è¾ƒå°‘ï¼Œå†™çš„ä»£ç è¾ƒå¤šï¼Œç»è¿‡å‡ ä¸ªå°é¡¹ç›®ä»¥åŠå®ä¹ ï¼Œç»ˆäºè§‰å¾—è‡ªå·±æœ‰ç‚¹æ”»åŸå¸ˆçš„æ ·å­äº†ï¼Œç”šæ„Ÿæ¬£æ…°ï¼Œå“ˆå“ˆã€‚&lt;/p&gt;
&lt;p&gt;ç½—åˆ—ä¸€ä¸‹ä¸ªäººçš„å°é¡¹ç›®ï¼Œè™½ç„¶ä¸å¤æ‚ï¼Œä»£ç é‡ä¸å¤šï¼Œä»£ç ä¹Ÿå†™å¾—ä¸æ¼‚äº®ï¼Œä½†è‡ªè®¤ä¸ºæœ‰é‚£ä¹ˆç‚¹ç”¨ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç™¾åº¦éŸ³ä¹ä¸‹è½½å™¨ï¼š&lt;a href="https://github.com/youngsterxyf/Baidu_Music_Downloader"&gt;ä»£ç &lt;/a&gt;ï¼Œ&lt;a href="http://youngsterxyf.github.com/Baidu_Music_Downloader/"&gt;é¡¹ç›®ä¸»é¡µ&lt;/a&gt; &lt;s&gt;ï¼ˆå¢™å¤–ï¼‰&lt;/s&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç®€æ˜“FTPæœç´¢å¼•æ“ï¼š&lt;a href="https://github.com/youngsterxyf/simpleFTPsearch"&gt;ä»£ç &lt;/a&gt;ï¼Œ&lt;a href="http://youngsterxyf.github.com/simpleFTPsearch/"&gt;é¡¹ç›®ä¸»é¡µ&lt;/a&gt; &lt;s&gt;ï¼ˆå¢™å¤–ï¼‰&lt;/s&gt;ï¼Œ&lt;a href="http://202.120.40.101/services/ftpsearch/"&gt;åº”ç”¨&lt;/a&gt;ï¼ˆæ³¨ï¼šè¿™ä¸ªå°é¡¹ç›®æ–­æ–­ç»­ç»­åšäº†ä¸€å¹´ï¼Œç»å†äº†å‡ ä¸ªç‰ˆæœ¬ï¼Œä»¥åŠå‡ æ¬¡æ›´æ–°ï¼Œç›®å‰çœ‹èµ·æ¥è¿˜ä¸é”™ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŸºäºWebçš„æœºå™¨äººè¿œç¨‹æ§åˆ¶ï¼š&lt;a href="https://github.com/youngsterxyf/WebBasedRobot"&gt;ä»£ç &lt;/a&gt;ï¼Œ&lt;a href="http://youngsterxyf.github.com/WebBasedRobot/"&gt;é¡¹ç›®ä¸»é¡µ&lt;/a&gt; &lt;s&gt;ï¼ˆå¢™å¤–ï¼‰&lt;/s&gt;ï¼ˆæ³¨ï¼šè¿™ä¸ªé¡¹ç›®å°±æ˜¯æˆ‘é‚£å°½æ˜¯æ°´çš„æ¯•ä¸šè®¾è®¡å•¦ï¼Œå“ˆå“ˆï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨çº¿ä»£ç é«˜äº®ï¼Œåˆ†äº«ä»¥åŠè¿è¡Œï¼š&lt;a href="https://github.com/youngsterxyf/colorfulCode"&gt;ä»£ç &lt;/a&gt;ï¼ˆæ³¨ï¼šè¿™ä¸ªé¡¹ç›®å…¶å®å¾ˆä¸å®Œæ•´çš„å•¦ï¼Œä»£ç ç¼–è¯‘ä¸æ‰§è¡Œéƒ¨åˆ†æ ¹æœ¬æ²¡åšé˜²æŠ¤æªæ–½ï¼Œæ ¹æœ¬æ²¡æ³•å®é™…ä½¿ç”¨ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lovençš„ä¸ªäººé™æ€ç«™ç‚¹ï¼š&lt;a href="https://github.com/Loven-Project/lovenworks"&gt;ä»£ç &lt;/a&gt;ï¼ˆæ³¨ï¼šå…¶å®ç»å¤§éƒ¨åˆ†çš„ä»£ç éƒ½æ˜¯lovenè‡ªå·±å†™çš„å•¦ï¼Œæˆ‘ä¸»è¦å†™äº†å®ç°æ€»ä½“åŠ¨æ€æ•ˆæœçš„javascriptç¨‹åºï¼Œè€Œä¸”è¿˜æ˜¯ä»¿ç…§çš„ï¼Œä¸è¿‡éš¾åº¦æ¯”åŸæ¥è¢«ä»¿ç…§ç½‘ç«™çš„è¦å¤§å¾ˆå¤šï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é¡ºä¾¿è¯´è¯´å®ä¹ åšçš„äº‹æƒ…ï¼Œæ­£å¥½ä¸ºG1C1åšä¸ªå¹¿å‘Šï¼Œå“ˆå“ˆã€‚&lt;/p&gt;
&lt;p&gt;å®ä¹ ä¸»è¦å®ç°&lt;a href="http://www.17gong1.com/"&gt;ä¸€èµ·å…¬ç›Šç½‘&lt;/a&gt;çš„éƒ¨åˆ†åŠŸèƒ½ï¼Œæœ€åè¿˜å®Œæˆäº†è¯¥ç½‘ç«™çš„é™æ€åŒ–ï¼Œæ‰€ä»¥ç°åœ¨çš„ä¸€èµ·å…¬ç›Šç½‘æ˜¯ä¸ªé™æ€ç½‘ç«™ï¼Œä¸éœ€è¦æ•°æ®åº“ï¼Œç”¨æˆ·ä¹Ÿæ— æ³•æäº¤æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥ä¸€å°æ®µæ—¶é—´è¿˜ç»´æŠ¤&lt;a href="http://gong1pin.com/"&gt;å…¬ç›Šå“ç½‘&lt;/a&gt;ï¼Œè¿™ç½‘ç«™æœ‰ç‚¹æ„æ€çš„ï¼Œæ¬¢è¿å¤§å®¶è®¿é—®çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿‡å»ä¸€å¹´å†™çš„ä»£ç ä¸­ï¼Œä¸ªäººå…´è¶£å°é¡¹ç›®åŸºæœ¬éƒ½æ˜¯åŸºäºPythonã€JSå®ç°ï¼Œå®ä¹ å·¥ä½œä¸»è¦ä½¿ç”¨PHPã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†å†™ä»£ç ï¼Œæˆ‘è¿˜è¿·ä¸Šäº†ç¿»è¯‘æŠ€æœ¯æ–‡ç« ï¼Œmarkdownå’ŒrestructedTextæ ¼å¼çš„ä¸€äº›æœ€æ—©çš„ç¿»è¯‘ç¨¿è§&lt;a href="https://github.com/youngsterxyf/Translation"&gt;https://github.com/youngsterxyf/Translation&lt;/a&gt;ã€‚åæ¥çš„æ”¾åœ¨åŸºäºjekyllä¸github
pagesæ­å»ºçš„&lt;a href="http://youngsterxyf.github.com"&gt;åšå®¢&lt;/a&gt;&lt;s&gt;ï¼ˆæ³¨ï¼šè¿‘æœŸéšç€Githubè¢«å¢™äº†ï¼‰&lt;/s&gt;ä¸Šã€‚é™¤äº†é›¶ç¢çš„æ–‡ç« ç¿»è¯‘ï¼Œè¿˜å¼€å§‹ç¿»è¯‘ã€ŠThe
AWK Programming
Languageã€‹ä¸€ä¹¦ï¼Œç¿»è¯‘ç¨¿è§&lt;a href="https://awk.readthedocs.org/en/latest/"&gt;AWKç¨‹åºè®¾è®¡è¯­è¨€&lt;/a&gt;ï¼Œç›®å‰ä¸ºæ­¢æ‰å®Œæˆç¬¬ä¸€ç« çš„ç¿»è¯‘ï¼Œå†æ¥å†åŠ±ï¼&lt;/p&gt;
&lt;p&gt;å…¶å®12å¹´ï¼Œæˆ‘è¿˜æ˜¯è¯»äº†ç‚¹ä¹¦çš„ï¼Œä½†è§‰å¾—é˜…è¯»æ•ˆæœä¸å¥½ï¼Œå†³å¿ƒé‡å¤´å¼€å§‹é˜…è¯»ï¼Œæ•…åœ¨æ­¤ä¸è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·çœ‹æ¥ï¼Œ12å¹´ï¼Œæˆ‘è™½åšäº†äº›æŠ€æœ¯æ´»ï¼Œä½†éƒ½æ˜¯äº›æ²¡å•¥æŠ€æœ¯éš¾åº¦çš„å°åº”ç”¨ï¼Œä½†ä»¤è‡ªå·±æ¬£æ…°çš„æ˜¯åœ¨å­¦ä¹ æ–¹å¼ä¸Šè‡ªå·±é€æ¸ä»æ­»å­¦è½¬åˆ°å®æˆ˜ï¼Œåœ¨åº”ç”¨ä¸­å­¦ä¹ ã€‚13å¹´å¸Œæœ›è‡ªå·±æŒ–æ˜ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£æœ‰æŠ€æœ¯æ·±åº¦çš„å°é¡¹ç›®æ¥åšã€‚&lt;/p&gt;
&lt;h2&gt;13å¹´æŠ€æœ¯å­¦ä¹ è®¡åˆ’&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ç¼–ç¨‹è¯­è¨€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç¼–ç¨‹è¯­è¨€å¯¹äºç å†œæ¥è¯´æ˜¯æœ€é‡è¦çš„å·¥å…·ã€‚ç¨‹åºå‘˜å¿…é¡»é€šè¿‡ç¼–ç¨‹è¯­è¨€å°†æƒ³æ³•è½¬åŒ–ä¸ºç¨‹åºç”±è®¡ç®—æœºæ¥æ‰§è¡Œã€‚ä¸ä¼šä¸€ç§ç”šæˆ–å¤šç§ç¼–ç¨‹è¯­è¨€çš„äººç§°å¾—ä¸Šç¨‹åºå‘˜ä¹ˆï¼Ÿä¸ä¼šç¼–ç¨‹çš„è®¡ç®—æœºä»ä¸šäººå‘˜æ˜¯åˆæ ¼çš„ä¹ˆï¼Ÿè€Œä¸”ï¼Œä¸åŒçš„é¡¹ç›®é€‰æ‹©ä¸åŒçš„ç¼–ç¨‹è¯­è¨€å®ç°å¾ˆå¤šæ—¶å€™ä¹Ÿæ˜¯å¾ˆå…³é”®çš„ï¼Œæ‰€ä»¥ç¨‹åºå‘˜ä¸ç®¡ä»å®ç”¨è¿˜æ˜¯ä»å­¦ä¹ è¿˜æ˜¯ä»å…´è¶£è§’åº¦ï¼Œéƒ½åº”è¯¥å¤šæŒæ¡å‡ é—¨ç¼–ç¨‹è¯­è¨€ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰ï¼Œæˆ‘æœ€å–œæ¬¢ä¹Ÿæœ€ç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€æ˜¯Pythonï¼›åŸºæœ¬æŒæ¡çš„æœ‰PHPï¼ŒC/C++ï¼ŒJavaï¼›ä¸ç†Ÿæ‚‰ä½†èƒ½å†™ç‚¹ç¨‹åºçš„æœ‰JavaScriptï¼ŒGoï¼›ç®€å•æ¥è§¦è¿‡åªæœ‰è‚¤æµ…çš„æ„Ÿæ€§è®¤è¯†çš„æœ‰Schemeï¼ŒRubyï¼ŒHaskellç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä»å®ç”¨è§’åº¦å‡ºå‘ï¼Œ2013å¹´å¸Œæœ›è¿›ä¸€æ­¥æŒæ¡ç†Ÿæ‚‰Pythonï¼ˆç”šè‡³è¾¾åˆ°ç²¾é€šçš„ç¨‹åº¦ï¼‰ï¼Œç†Ÿç»ƒä½¿ç”¨PHPï¼ˆå·¥ä½œå¯èƒ½éœ€è¦ä½¿ç”¨ï¼‰ï¼Œå¤šå†™å†™Cè¯­è¨€ä»£ç ï¼ˆæ–¹ä¾¿è¿›ä¸€æ­¥ç†Ÿæ‚‰åº•å±‚ï¼‰ï¼Œå°è¯•å†™ä¸€äº›Goè¯­è¨€ç¨‹åºï¼ˆè§‰å¾—Goç®€æ´è€Œå¼ºå¤§ï¼Œä»¥ååœ¨æœåŠ¡å™¨ç«¯åº”è¯¥å¤§æœ‰å‰æ™¯ï¼‰ï¼Œè¿›ä¸€æ­¥äº†è§£JavaScriptçš„ç‰¹æ€§ï¼ˆè™½ç„¶åŸºäºå„ç§åº“å†™äº†åƒè¡Œä»£ç ï¼Œä½†æ ¹æœ¬ä¸ç†Ÿæ‚‰è¿™é—¨è¯­è¨€ï¼ŒJSå¿…å°†åœ¨webå‰ç«¯ä¸€ç»Ÿæ±Ÿæ¹–å•Šï¼‰ï¼Œå¦å¤–ï¼Œç”±äºè¦åšè¿ç»´å·¥ä½œï¼Œæ‰€ä»¥éœ€ç†Ÿæ‚‰Shellç¼–ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;ä»å…´è¶£è§’åº¦ï¼Œä»¥åŠä¸ºäº†æ›´å…¨é¢åœ°ç†è§£ç¼–ç¨‹è¯­è¨€ï¼Œå¸Œæœ›è‡ªå·±èƒ½æŒæ¡ä¸€é—¨å‡½æ•°å¼è¯­è¨€ï¼Œæš‚å®šHaskellï¼Œå› ä¸ºç›®å‰çœ‹æ¥Haskellçš„ç¤¾åŒºå¾ˆæ´»è·ƒï¼Œå­¦ä¹ èµ„æ–™ä¹Ÿå¤šï¼ŒHaskellä¹Ÿæœ‰ç‚¹å­¦æœ¯ç ”ç©¶äº§ç‰©çš„æ„Ÿè§‰ï¼Œä¸å·¥ç¨‹å®è·µäº§ç‰©çš„è¯­è¨€ç›¸äº’è¡¥å……ï¼Œå› ä¸ºè‡ªå·±ä¸å–œæ¬¢Javaï¼Œæ‰€ä»¥ä¹Ÿä¸è€ƒè™‘åŸºäºJVMçš„Clojureç­‰å‡½æ•°å¼è¯­è¨€ï¼Œè™½ç„¶å®ƒè²Œä¼¼å¾ˆç«ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;å·¥å…·&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è§‰å¾—ä»¥å‰è‡ªå·±è¿‡äºæŠ˜è…¾ï¼Œæ€»æƒ³æ‰¾åˆ°æ›´å¥½çš„å·¥å…·æ¥ä½¿ç”¨ï¼Œå´ä¸çŸ¥æ‰€è°“æ›´å¥½çš„å¤šåŠè¦æ›´ç†Ÿæ‚‰æ‰èƒ½æ˜ç™½ï¼Œæ‰€ä»¥é’ˆå¯¹å¸¸ç”¨å·¥å…·é“¾ä¸­çš„æ¯ä¸€ç¯ç²¾é€šä¸€ä¸ªå·¥å…·ï¼Œç›¸æ¯”åŒæ—¶æŒæ¡å‡ ä¸ªåŠŸèƒ½ç±»ä¼¼çš„å·¥å…·ï¼Œæ›´ä¸ºé‡è¦ï¼Œå›é¡¾è‡ªå·±çš„æŠ˜è…¾å²ï¼Œå¤§æµªæ·˜å°½æ²™ï¼Œç»ˆè§‰ç€å¦‚ä¸‹å‡ ä¸ªå·¥å…·å€¼å¾—å­¦ä¹ ç²¾é€šã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Linux ---
æŒ‘ä¸€ä¸ªå‘è¡Œç‰ˆæ·±å…¥ä½¿ç”¨å­¦ä¹ ï¼Œä¸åŒçš„å‘è¡Œç‰ˆæœ¬è´¨ä¸Šå¤§åŒå°å¼‚ï¼Œå› ä¸ºå¯¹äºæˆ‘è¿™ç§å±‚æ¬¡çš„ç å†œæ¥è¯´ï¼ŒLinuxæœ€é‡è¦çš„æ˜¯å‘½ä»¤è¡ŒåŠå…¶å·¥å…·é“¾ï¼Œæå…¶ä¾¿äºç¼–ç¨‹å¼€å‘ä¸æ‰¹é‡ä»»åŠ¡ã€‚å½“ç„¶ï¼Œä¹Ÿä¸å¿…æ’æ–¥Windowsä¹‹æµã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VIM ---
è™½ç„¶æ¥è§¦ä½¿ç”¨VIMçš„æ—¶é—´è¾ƒé•¿ï¼Œä½†æ²¡æœ‰ç”¨å¿ƒå­¦ä¹ è¿‡ï¼Œå†³å¿ƒä¹‹åé•¿ä¹…æŠ•å…¥å…¶æ€€æŠ±ï¼Œå­¦å¥½ç”¨å¥½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Git ---
å¤©å¤©ä½¿ç”¨Githubï¼Œä½†ç”±äºæ˜¯ä¸€ä¸ªäººåœ¨è‡ªå¨±è‡ªä¹ï¼Œæ‰€ä»¥åªä¼šGitçš„åŸºæœ¬ç”¨æ³•ï¼Œé‡åˆ°ç‰¹æ®Šæƒ…å†µå°±æœ‰äº›å¤´ç–¼äº†ï¼Œè€Œä¸”æˆ‘ä»¬å¾—ç†Ÿæ‚‰å¤©å¤©åœ¨ä¸€èµ·çš„ä¼™ä¼´ï¼Œæ˜¯ä¸ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Latex ---
è™½ç„¶å¯¹äºæ™®é€šçš„æ–‡æ¡£ç¼–è¾‘ï¼Œofficeä¹‹æµå·²ç»å¤Ÿç”¨äº†ï¼Œä½†å¯¹äºä¸€ä¸ªæœ‰å¿—é’å¹´ï¼Œåœ¨åˆæ­¥è®¤è¯†Latexä¹‹åï¼Œå¤§æ‚Ÿæ–‡æ¡£ç¼–è¾‘ä¹Ÿå¯ä»¥æœ‰æ›´é«˜çš„è¿½æ±‚ï¼Œä¸€åˆ‡å¤æ‚éƒ½æŠµä¸è¿‡çº¯æ–‡æœ¬çš„ç®€å•ä¹‹ç¾ã€‚æ•…å¸Œæœ›åœ¨åŸºäºofficeæ»¡è¶³åŸºæœ¬çš„æ–‡æ¡£ç¼–è¾‘éœ€æ±‚ä¹‹å¤–ï¼Œè‡ªå·±èƒ½å¤Ÿæœ‰ä¸ªLatexçš„ç†æƒ³è¿½æ±‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ç†è®ºå­¦ä¹ &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;2013å¹´æƒ³è¿›ä¸€æ­¥å­¦ä¹ &lt;em&gt;ç¼–è¯‘åŸç†&lt;/em&gt;ã€&lt;em&gt;åˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/em&gt;ã€&lt;em&gt;ç½‘ç»œ&lt;/em&gt;ï¼Œç‰¹åˆ«æ˜¯&lt;em&gt;ç¼–è¯‘åŸç†&lt;/em&gt;ï¼Œæœ¬ç§‘æ—¶å€™å®Œå…¨æ°´è¿‡ï¼Œæ ¹æœ¬æ²¡æœ‰æ­£å„¿å…«ç»åœ°å­¦ä¹ ã€‚ç½‘ç»œçš„è¯ï¼Œæ˜¯è§‰å¾—ç°åœ¨çš„å¼€å‘ä¸åº”ç”¨å¯¹ç½‘ç»œçš„ä¾èµ–æ€§è¶Šæ¥è¶Šå¼ºã€‚åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ˜¯è®¤ä¸ºä»»ä½•å¤§çš„ç³»ç»Ÿï¼Œæœ¬è´¨ä¸Šéƒ½è¶‹å‘äºåˆ†å¸ƒå¼ï¼ŒåŸç†éƒ½ç›¸ä¼¼ã€‚&lt;/p&gt;
&lt;p&gt;è™½è¯´ç†è®ºè¦å­¦ä¹ ï¼Œä½†å¾—ä»¥&lt;em&gt;å®è·µ&lt;/em&gt;ä¸ºä¸»å¯¼ï¼Œåœ¨å®è·µçš„åŒæ—¶åŠ å¼ºç†è®ºå­¦ä¹ ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ä¸ªäººå°é¡¹ç›®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ˜¨å¤©åˆšçœ‹åˆ°ä¸€ç¯‡æ–‡ç« &lt;a href="http://www.dev.gd/20130122-the-joys-of-having-a-forever-project.html"&gt;ã€ŠThe joys of having a Forever
Projectã€‹&lt;/a&gt;
ã€‚ç¡®å®æˆ‘ä»¬åº”è¯¥å§‹ç»ˆæœ‰è‡ªå·±æƒ³åšçš„äº‹æƒ…ï¼Œä½œä¸ºç¨‹åºå‘˜ï¼Œä¹Ÿå°±åº”è¯¥æœ‰è‡ªå·±æƒ³åšçš„é¡¹ç›®ï¼Œè¿™ç§é¡¹ç›®æˆ–å‡ºäºæ–¹ä¾¿å¤§ä¼—ã€èŠ‚çº¦å¤§å®¶çš„æ—¶é—´ï¼Œæˆ–ä¸ºäº†éªŒè¯è‡ªå·±çš„ç†è®ºå­¦ä¹ ï¼Œæˆ–ä¸ºäº†å®ç°è‡ªå·±çš„æŸä¸ªåˆ›æ„æƒ³æ³•ï¼ŒåŸå› ä¸ä¸€è€Œè¶³ï¼Œä½†ä¸€æ—¦è‡ªå·±ç©ºé—²çš„æ—¶å€™ï¼Œå°±æ„¿æ„ä¸ºå…¶å†™å‡ è¡Œä»£ç ï¼Œé‚£ä¹ˆåœ¨ç”Ÿæ´»å·¥ä½œçš„åŠ³ç´¯ä¸­ä½ ä¹Ÿèƒ½å¤Ÿæ„Ÿå—åˆ°è‡ªèº«çš„å……å®åœ†æ»¡ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºä¸ªäººå°é¡¹ç›®ï¼Œç›®å‰ä»…æœ‰ä¸€ä¸ªï¼Œå°±æ˜¯æƒ³ä¸ºè‡ªå·±å’Œå¥³æœ‹å‹åšä¸ªwebsiteï¼Œè®°å½•å…±åŒèµ°è¿‡çš„å…‰é˜´ï¼Œä¸ªæ€§åŒ–å±•ç¤ºæ–‡å­—ï¼Œå›¾ç‰‡ï¼Œè§†é¢‘ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä»–çš„ä»¥åçœ‹æ˜¯å¦æœ‰æ–°çš„æƒ³æ³•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ä¹¦ç±é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;éæŠ€æœ¯çš„ä¹¦ç±ç›®å‰æƒ³é˜…è¯»ã€Šå†å²ç ”ç©¶ã€‹ã€ã€ŠGEBã€‹ã€ã€Šæ˜æœé‚£äº›äº‹å„¿ã€‹ã€‚ã€Šå†å²ç ”ç©¶ã€‹æ˜¯æœ¬å¤§éƒ¨å¤´ï¼Œå¾ˆæ—©å°±ä¹°äº†ï¼Œä¸€ç›´æ²¡é™ä¸‹å¿ƒæ¥ï¼›ã€ŠGEBã€‹ä¹Ÿæ˜¯æœ¬å¤§éƒ¨å¤´ï¼Œä¹‹å‰ç¿»è¿‡å‡ é¡µï¼Œè§‰å¾—ä¸æ˜¯å¾ˆç†è§£ï¼Œå°±æ”¾ä¸‹äº†ï¼Œç°åœ¨æƒ³é‡æ–°æ‹¿èµ·æ¥è¯»ä¸€éï¼›ã€Šæ˜æœé‚£äº›äº‹å„¿ã€‹è¿™ä¹¦ï¼ŒåŸæœ¬å¹¶ä¸åœ¨æ„ï¼Œåæ¥æœ‰æ¬¡åœ¨æŸä¸ªæ¡Œæ¸¸åº—ç¿»äº†å‡ é¡µï¼Œè§‰ç€ç”šæ˜¯ä¸é”™ï¼Œå°†å†å²å†™å¾—ç”ŸåŠ¨æœ‰è¶£ï¼Œä¸é»„ä»å®‡çš„ã€Šä¸‡å†åäº”å¹´ã€‹ç›¸æ¯”ï¼Œè™½æ²¡æœ‰é‚£æ ·çš„å­¦æœ¯ä¸¥è°¨æ€§ï¼Œä½†æœ‰è¶£å¥½è¯»æ˜¯å¾ˆé‡è¦çš„å˜›ã€‚&lt;/p&gt;
&lt;p&gt;æŠ€æœ¯ä¹¦ç±ï¼Œæ ¹æ®å‰é¢è¯´æ˜å¸Œæœ›å­¦ä¹ çš„æŠ€æœ¯ï¼Œç›®å‰æƒ³é˜…è¯»ã€ŠC++å¯¹è±¡æ¨¡å‹ã€‹ã€ã€Šç¼–è¯‘åŸç†ã€‹ï¼ˆé¾™ä¹¦ï¼‰ã€ã€ŠPythonæºç å‰–æã€‹ã€ã€ŠTCP/IPè¯¦è§£ã€‹ï¼ˆç¬¬ä¸€å·ï¼‰ï¼ˆç¬¬äºŒå·æœ‰ç‚¹åšï¼Œä¼°è®¡åªèƒ½ç¿»ç¿»ï¼Œæ²¡é‚£ä¹ˆå¤šæ—¶é—´é˜…è¯»ï¼‰ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿæ–¹é¢ï¼Œä¼°è®¡ä¼šé˜…è¯»ä¸€äº›ç»å…¸è®ºæ–‡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;æºç é˜…è¯»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ç›´è§‰å¾—è‡ªå·±å†™çš„ä»£ç ä¸ç”šé«˜æ˜ï¼Œä¸ç®€æ´ä¹Ÿæ²¡æœ‰ç¾æ„Ÿï¼Œæ‰€ä»¥æƒ³é˜…è¯»ä¸€äº›ä¼˜ç§€çš„å¼€æºé¡¹ç›®æºç ï¼Œå€Ÿé‰´ä¸€äº›åˆ«äººçš„ä¸œè¥¿ã€‚ç›®å‰æƒ³é˜…è¯»memcachedï¼ˆåˆ†å¸ƒå¼ç¼“å­˜ï¼‰ã€requestsï¼ˆPythonçš„HTTPåº“ï¼‰ï¼Œå¦å¤–éšç€é˜…è¯»ã€ŠPythonæºç å‰–æã€‹ï¼Œä¹Ÿé˜…è¯»ä¸€ç‚¹Pythonçš„æºç ã€‚&lt;/p&gt;
&lt;p&gt;å¸Œæœ›13å¹´ï¼Œåœ¨è¿™æ–¹é¢æœ‰æ‰€çªç ´ï¼Œé˜…è¯»ä¸€ä¸¤ä¸ªä¸å¤§çš„é¡¹ç›®æºç ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ç¿»è¯‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ªäººè§‰å¾—â€œæ…¢â€æ‰èƒ½æœ‰æ‰€ç§¯æ·€ã€‚ä¹Ÿæœ‰è¯è¯´â€œå­¦ä¹ çš„æœ€å¥½æ–¹å¼æ˜¯æ•™åˆ«äººå­¦â€ã€‚æ‰€ä»¥ç¿»è¯‘è¿™ä¸ªäº‹æƒ…è™½ç„¶ä¼šè€—è´¹è®¸å¤šæ—¶é—´ï¼Œä½†è¦æƒ³ç¿»è¯‘å¾—å¯¹ï¼Œç¿»è¯‘å¾—å¥½ç†è§£ï¼Œæ‰€è°“â€œä¿¡è¾¾é›…â€ï¼Œå¿…é¡»å¯¹æ–‡æœ¬åŠå…¶ç›¸å…³çš„ä¸œè¥¿æœ‰å……åˆ†çš„ç†è§£ï¼Œæ‰èƒ½åŠåˆ°ã€‚é‚£ä¹ˆç¿»è¯‘çš„è¿‡ç¨‹ä¹Ÿå°±æˆäº†ä¸€ä¸ªæ·±å…¥å­¦ä¹ çš„è¿‡ç¨‹ï¼Œæ—¶é—´é•¿ä¹…çš„â€œæ…¢â€çš„ç§¯ç´¯ï¼Œå°±ä¼šæœ‰è¾ƒå¤§çš„è¿›æ­¥ã€‚å¦å¤–ï¼Œç¿»è¯‘ä¹Ÿèƒ½å¸®åŠ©åˆ«äººã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰ç¿»è¯‘ä»»åŠ¡ä¸»è¦æœ‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç»§ç»­ç¿»è¯‘ã€ŠThe AWK Programming Languageã€‹ä¸€ä¹¦ï¼Œç°åœ¨æ‰ç¿»è¯‘äº†ä¸€ç« ï¼Œæ‰€ä»¥ä»»é‡è€Œé“è¿œå•Šï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Requestsæ–‡æ¡£ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‹¥è¯»åˆ°å†™å¾—å¥½ä¸”æœ‰æ·±åº¦çš„æŠ€æœ¯æ–‡ç« ï¼Œä¹Ÿä¼šç¿»è¯‘ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;å¦‚æ­¤çœ‹æ¥ï¼Œ13å¹´è¦åšçš„äº‹æƒ…å¥½å¤šå•Šï¼Œæœ‰ç‚¹è¿‡åº¦è®¡åˆ’çš„æ„Ÿè§‰å•Šï¼Œå“ˆå“ˆã€‚ä¸è¿‡åªè¦è‡ªå·±èƒ½å¤Ÿåˆ†æ¸…ä¸»æ¬¡è½»é‡ç¼“æ€¥ï¼Œåº”è¯¥ä¸ä¼šæœ‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¸Œæœ›è‡ªå·±æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æ€»ç»“"></category><category term="æŠ€æœ¯"></category></entry><entry><title>å›é¡¾2012ï¼Œå±•æœ›2013</title><link href="http://youngsterxyf.github.io/2013/01/18/review12-lookinto13/" rel="alternate"></link><published>2013-01-18T00:00:00+08:00</published><updated>2013-01-18T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-18:/2013/01/18/review12-lookinto13/</id><summary type="html">&lt;p&gt;è¿‡å»çš„ä¸€å¹´é‡Œå‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†åŸæ¥å°±å·²åœ¨&lt;a href="http://youngsterxyf.github.io/2012/01/01/2011-summary/"&gt;2011å¹´ç»ˆ-å›é¡¾ä¸å±•æœ›&lt;/a&gt;ä¸€æ–‡ä¸­æåŠ---å®ä¹ ã€æ‰¾å·¥ä½œã€æ¯•ä¸šï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰ï¼šæˆ‘å’Œå¥³æœ‹å‹å®šäº²äº† â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;è¿‡å»çš„ä¸€å¹´é‡Œå‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†åŸæ¥å°±å·²åœ¨&lt;a href="http://youngsterxyf.github.io/2012/01/01/2011-summary/"&gt;2011å¹´ç»ˆ-å›é¡¾ä¸å±•æœ›&lt;/a&gt;ä¸€æ–‡ä¸­æåŠ---å®ä¹ ã€æ‰¾å·¥ä½œã€æ¯•ä¸šï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰ï¼šæˆ‘å’Œå¥³æœ‹å‹å®šäº²äº†ï¼Œæ€»ç®—æœç€å©šå§»è¿‘äº†ä¸€æ­¥ï¼Œå“ˆå“ˆã€‚&lt;/p&gt;
&lt;h2&gt;å®ä¹ &lt;/h2&gt;
&lt;p&gt;å…³äºå®ä¹ æœ‰å¤ªå¤šçš„è¯æƒ³è¯´ã€‚7ä¸ªæœˆçš„æ—¶é—´é‡Œæµ“ç¼©äº†å¤ªå¤šçš„æ¬¢ä¹ï¼Œå¤ªæ¬¢ä¹äº†ã€‚åŸæœ¬ä»¥ä¸ºæˆ‘çš„è¯»ä¹¦ç”Ÿæ¶¯å°±è¦è¿™ä¹ˆå¹³æ·¡æ— å¥‡åœ°ç»“æŸäº†ï¼Œæ²¡æƒ³åˆ°åœ¨è¿™ä¸ªç»“å°¾å¤„ç«Ÿç„¶ç»™äº†æˆ‘ä¸ªå¤§æƒŠå–œï¼Œæ‰€è°“æƒŠå–œå¹¶ä¸æ˜¯è¿™ä»½å®ä¹ æœ‰å¤šç‰›é€¼ï¼Œè€Œæ˜¯é‡åˆ°äº†ä¸€ç¾¤æ¬¢ä¹çš„äººï¼Œä¸€ç¾¤â€œé‡å£å‘³â€çš„äººï¼Œä¸€ç¾¤å½ªæ‚çš„äººï¼Œè€Œå…¶ä¸­ç»å¤§éƒ¨åˆ†æ˜¯å¥³äººï¼Œå™¢ï¼Œå¥³ç”Ÿæ›´æ°å½“äº›ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨G1C1ï¼Œæˆ‘å¿«ä¹åœ°å†™ä»£ç ï¼Œä¸Šç­æ˜¯ç§äº«å—ï¼Œæˆ‘æƒ³ä»¥åå¾ˆå¯èƒ½ä¸ä¼šå†æœ‰è¿™æ ·çš„äº«å—äº†ã€‚åœ¨G1C1ï¼Œæˆ‘é€æ­¥åœ°å‘å±•æˆä¸ºä¸€ä¸ªåƒè´§ï¼Œæ‰€ä»¥æ¯«æ— ç–‘é—®åœ°èƒ–äº†ï¼ŒåŸæœ¬æˆ‘ä»¥ä¸ºè‡ªå·±ä¼šä¸€ç›´ç˜¦ä¸‹å»ã€‚å¦å¤–ï¼Œæˆ‘ä¹Ÿé»‘äº†ï¼Œå› ä¸ºç»è¿‡äº†æ— æ•°æ¬¡åœ°â€œè¢«é»‘â€ï¼Œä½†å¥¹ä»¬è¯´æˆ‘åº”è¯¥é«˜å…´æ‰å¯¹ï¼Œå¥¹ä»¬â€œé»‘â€æˆ‘æ˜¯å› ä¸ºâ€œçˆ±â€æˆ‘ã€‚å…³äºâ€œé»‘â€è¿™ä»¶äº‹æƒ…ï¼Œåˆšå…¥èŒçš„æ—¶å€™ï¼Œæˆ‘æ˜¯å¾ˆåŒæƒ…wenbinçš„ï¼Œå› ä¸ºè§ä»–è¢«â€œé»‘â€å¾—ä½“æ— å®Œè‚¤çš„ï¼Œå¯æˆ‘ä¹Ÿæ²¡é€ƒè„±ä½œä¸ºä¸€ä¸ªG1C1ç å†œçš„å®¿å‘½ï¼Œwenbinèµ°åï¼Œæ›¿ä»£äº†ä»–çš„è§’è‰²ï¼Œè€Œæˆ‘èµ°åï¼Œcomenåˆ™æ›¿ä»£äº†æˆ‘çš„è§’è‰²ï¼Œå¯æƒœä¹‹åå°±ä¸ä¼šå†æœ‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;åƒï¼Œæ˜¯Googleçš„ç‰¹è‰²ï¼Œæ•…åœ¨G1C1ä¹Ÿä¸ä¾‹å¤–ã€‚å› ä¸ºG1C1ä¸ä¸å…¶ä»–éƒ¨é—¨åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥æ²¡æ³•åƒé£Ÿå ‚ã€‚ä½†æˆ‘ä»¬ä¹Ÿä¸äºï¼Œè€å¤§å¸¦ç€æˆ‘ä»¬åƒéäº†åŠå…¬å®¤æ–¹åœ†å‡ é‡Œåœ°å«å¾—å‡ºåçš„é¥­åº—ï¼Œåƒé¥±åƒå¥½ï¼Œå¹¶ä¸”ä¸€å¤©ä¸€æ¢ã€‚å¹¶ä¸”åƒé¥­çš„åœºæ™¯å®åœ¨ä¸å¾—ä¸è®©ç å†œæ„Ÿåˆ°å¹¸ç¦ï¼Œç”·å¥³æ¯”ä¾‹ç»å¸¸æ˜¯6ï¼š1ï¼Œä¸â€œäº¤å¤§ç”·å¥³ä¸ƒæ¯”ä¸€ï¼Œä¸€å¯¹æƒ…ä¾£ä¸‰å¯¹åŸºâ€çš„æƒ…å½¢é‚£æ˜¯æ°å¥½ç›¸åï¼Œè€Œä¸”æˆ‘ä»¬å®éªŒå®¤ç”šè‡³æ¯”ä¸ƒæ¯”ä¸€çš„æƒ…å†µè¿˜ä¸¥é‡ã€‚æ‰€ä»¥æˆ‘ä¸€ç›´æ¥å›æ„Ÿå—ä¸¤ç§æç«¯ã€‚åˆç”±äºå¥³ç”Ÿçš„é£Ÿé‡å¤šåŠåå°ï¼Œä½œä¸ºç”·ç”Ÿï¼Œæœ€åâ€œæ‰«ç›˜â€çš„å·¥ä½œé‚£è‡ªç„¶æ˜¯ä¹‰ä¸å®¹è¾çš„ï¼Œèƒ–ä¹Ÿå°±å¿…ç„¶çš„ç»“æœäº†ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºå·¥ä½œå†…å®¹æ¯”è¾ƒå¤šå…ƒåŒ–ï¼Œæ‰€ä»¥G1C1å®ä¹ ç”Ÿçš„ä¸“ä¸šèƒŒæ™¯ä¸å°±è¯»å­¦æ ¡è¦†ç›–é¢å¾ˆå¤§ï¼Œå¯ä»¥è¯´æ˜¯â€œä¸€é”…å¤§æ‚çƒ©â€ã€‚ä¸“ä¸šä¸åŒï¼Œå¹¶æ²¡æœ‰å¦¨ç¢äº¤æµï¼Œåè€Œä½¿å·¥ä½œæ°›å›´æ›´åŠ æ´»è·ƒï¼Œå…·å¤‡ä¸“ä¸šç‰¹è‰²çš„é˜è¿°æ–¹å¼ä¸å†…å®¹ç›¸äº’ç¢°æ’äº¤èã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆæƒ³é€ä¸ªä»‹ç»æˆ‘æ‰€çŸ¥é“çš„G1C1erä»¬ï¼Œå¯è‹¦äºèƒ¸æ— åŠç‚¹å¢¨æ°´ï¼Œåªå¥½ä½œç½¢ã€‚ä½†ä½ ä»¬åº”çŸ¥é“ï¼Œåº”ç›¸ä¿¡ï¼Œç°åœ¨ï¼Œä»¥åï¼Œæˆ‘éƒ½ä¼šä¸€ç›´å¿µç€ä½ ä»¬ï¼Œæƒ³ç€ä½ ä»¬ã€‚æ„Ÿè°¢å’Œä½ ä»¬ä¸€èµ·åº¦è¿‡çš„ç¾å¥½é’æ˜¥æ—¶å…‰ã€‚&lt;/p&gt;
&lt;h2&gt;æ‰¾å·¥ä½œ&lt;/h2&gt;
&lt;p&gt;æˆ‘çš„æ±‚èŒç»å†å¹¶ä¸é¡ºåˆ©ï¼Œä¸»è¦åŸå› æ˜¯å¯¹äºæ±‚èŒçš„â€œæ±‚â€å­—åœ¨è®¤è¯†ä¸Šæœ‰æ‰€åå·®ã€‚æˆ‘ä¸å–œæ¬¢â€œæ±‚â€ï¼Œæˆ‘è®¤ä¸ºæ‰¾å·¥ä½œå°±å’Œæ‰¾å¯¹è±¡ä¸€æ ·ï¼Œæˆ‘æƒ³æ‰¾ä½ ï¼Œä½ è®¤å¯æˆ‘ï¼Œæ‰è¡Œã€‚æˆ‘å°±è¿™æ ·ï¼Œä½ ä¸è¦æˆ‘ï¼Œæ‹‰å€’ã€‚è¿™ç§æƒ³æ³•å¯¼è‡´æˆ‘å¹¶æ²¡æœ‰è®¤çœŸå‡†å¤‡ç¬”è¯•é¢è¯•ã€‚å…¶å®æ‰¾å·¥ä½œå’Œå­¦æ ¡é‡Œçš„åº”è¯•æ˜¯ä¸€æ ·ä¸€æ ·çš„ï¼Œæ‰€ä»¥ä½ å¾—åšé¢˜ï¼Œå„ç§åº”è¯•çš„é¢˜ç›®ï¼Œé™¤äº†ä¸€æµçš„å…¬å¸ï¼Œä¸€èˆ¬å…¬å¸è€ƒçš„éƒ½æ˜¯è€é¢˜ç›®æˆ–è€…ç±»ä¼¼çš„é¢˜ç›®ã€‚å¦å¤–ï¼Œè¦æ³¨æ„æ‰¾å·¥ä½œçš„ç›®æ ‡ä¸æ˜¯å‘å…¬å¸è¯æ˜ä½ çš„èƒ½åŠ›ï¼Œè€Œæ˜¯æ‹¿åˆ°offerï¼Œâ€œä¸æ‹©æ‰‹æ®µâ€åœ°æ‹¿åˆ°offerã€‚&lt;/p&gt;
&lt;p&gt;å¯¹è‡ªå·±æœªæ¥å‡ å¹´åšäº†åŸºæœ¬çš„å®šä½ä¹‹åï¼Œæˆ‘æ²¡æœ‰å‚åŠ é“¶è¡Œã€å›½ä¼ä¸€ç±»å…¬å¸çš„æ‹›è˜ï¼Œé›†ä¸­åº”è˜æŠ€æœ¯å‹çš„ç§ä¼å¤–ä¼å¤§å°å…¬å¸ï¼Œç”±äºè£¸è€ƒè£¸é¢ï¼Œç»“æœå¤šåŠä¸å¤ªç†æƒ³ã€‚è¿™é‡Œå¯¹äºåº”è˜çš„å…¬å¸ä¸åšè¯„ä»·ï¼Œæ±‚èŒçš„å…·ä½“è¿‡ç¨‹ä¹Ÿä¸è¯¦è¿°ï¼Œåªæ˜¯çœŸå¿ƒæ„Ÿè°¢é‚£äº›è®¤å¯æˆ‘èµè¯†æˆ‘çš„äººï¼Œè¿˜æœ‰è™½ç„¶æ‹’äº†æˆ‘ä½†çœŸå¿ƒå¸®åŠ©æˆ‘çš„äººï¼Œè°¢è°¢ä½ ä»¬ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œè…¾è®¯æ”¶äº†æˆ‘ï¼Œè™½ç„¶å¾…é‡å’ŒèŒä½çš„å·¥ä½œå†…å®¹ä¸æ˜¯å¾ˆç†æƒ³ï¼Œä½†æˆ‘æƒ³åº”è¯¥æ˜¯ä¸ªä¸é”™çš„æœºä¼šï¼Œå€¼å¾—ä»¥åå¥½å¥½åŠªåŠ›å·¥ä½œï¼Œæ„Ÿè°¢å½“æ—¶çš„å‡ ä¸ªé¢è¯•å®˜ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¥åçš„åŒäº‹ï¼Œå½“ç„¶è¿˜è¦ç‰¹åˆ«æ„Ÿè°¢yuyeåŒå­¦ï¼Œä½ ä¹Ÿç®—æ˜¯ä¸€ä¸ªâ€œå¥‡è‘©â€å§ï¼Œå“ˆå“ˆï¼Œæ²¡æœ‰ä»»ä½•è´¬ä¹‰å“¦ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¹‹æ‰€ä»¥é€‰æ‹©æŠ€æœ¯ä½œä¸ºæˆ‘çš„èŒä¸šç›®æ ‡ï¼Œä¸€æ–¹é¢å½“ç„¶æ˜¯å› ä¸ºæˆ‘æœ¬æ¥å­¦çš„å°±æ˜¯æŠ€æœ¯ï¼Œä½†æ›´é‡è¦çš„æ˜¯å› ä¸ºåšæŠ€æœ¯æ¯”è¾ƒçº¯ç²¹ï¼Œæˆ‘å¸Œæœ›è‡ªå·±ä»¥åå¿ƒé‡Œèƒ½ä¸€ç›´å¾ˆè¸å®å®‰å¿ƒã€‚&lt;/p&gt;
&lt;h2&gt;æ¯•ä¸š&lt;/h2&gt;
&lt;p&gt;è¯´åˆ°æ¯•ä¸šè®ºæ–‡ï¼Œä¸€ä¸ªå­—è¶³ä»¥æ¦‚æ‹¬---â€œæ°´â€ã€‚å“ˆå“ˆï¼Œä½†å¹¸å¥½é¡ºåˆ©æ¯•ä¸šäº†ï¼Œè™½ç„¶è¿‡ç¨‹å¾ˆç—›è‹¦ï¼Œå¾ˆç…ç†¬ã€‚ç°åœ¨çš„æˆ‘æ— æ‰€äº‹äº‹ï¼Œåç­‰æ¯•ä¸šï¼Œå“ˆå“ˆã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡æ¯•ä¸šä¸æœ¬ç§‘æ¯•ä¸šæœ‰ä»€ä¹ˆæœ¬è´¨åŒºåˆ«å‘¢ï¼Ÿé‚£å°±æ˜¯è¿™æ¬¡æˆ‘æ˜¯çœŸçš„è¦ç»“æŸè¯»ä¹¦çš„ç”Ÿæ´»äº†ï¼Œæ­£å¼è¿›å…¥ç¤¾ä¼šï¼Œéœ€è¦æ‰¿æ‹…çš„è´£ä»»ä¹Ÿæ˜¯å®Œå…¨ä¸ç›¸åŒçš„ï¼Œå¹¶ä¸”ä»¥åæˆ‘åº”è¯¥ä¸ä¼šç»§ç»­æ·±é€ æ±‚å­¦äº†ã€‚&lt;/p&gt;
&lt;p&gt;å›é¡¾åå‡ å¹´çš„è¯»ä¹¦ç”Ÿæ¶¯ï¼Œå®åœ¨éš¾èˆã€‚&lt;/p&gt;
&lt;h2&gt;å®šäº²&lt;/h2&gt;
&lt;p&gt;å’Œå¥³æœ‹å‹ç›¸å…³çš„æ–‡å­—ï¼Œæˆ‘å†™å¾—å¾ˆå°‘ï¼Œè‡ªå·±ä¹Ÿè§‰å¾—æœ‰ç‚¹å¯¹ä¸ä½å¥³æœ‹å‹ã€‚å…¶åŸå› ä¸€æ–¹é¢æ˜¯ä»æˆ‘ä»¬è®¤è¯†åˆ°ç°åœ¨4å¹´å¤šçš„æ—¶é—´é‡Œï¼Œæˆ‘æ­£é€æ­¥åœ°è¶‹å‘æ²‰é»˜ï¼Œæ–‡å­—è¡¨è¾¾è¶Šæ¥è¶Šå°‘ï¼›å¦ä¸€æ–¹é¢æ˜¯æˆ‘è§‰å¾—å¹¸ç¦å…¶å®æ˜¯ä¸€ä»¶æŒºç§å¯†çš„äº‹æƒ…ï¼Œä¸èƒ½å¤šæ™’ã€‚æ‰€ä»¥ï¼Œæˆ‘ä¸è¯´å¹¶ä¸æ˜¯å› ä¸ºæˆ‘ä¸å¹¸ç¦ï¼Œå…¶å®æˆ‘ä¸€ç›´å¹¸ç¦å¾—å·ç€ä¹å‘¢ï¼Œå“ˆå“ˆã€‚&lt;/p&gt;
&lt;p&gt;å®šäº²çš„è¿‡ç¨‹å¹¶æ²¡æœ‰æƒ³çš„é‚£ä¹ˆé¡ºåˆ©ï¼Œè¦è€ƒè™‘å¾ˆå¤šé—®é¢˜ï¼Œè¦å’ŒåŒæ–¹çˆ¶æ¯äº²äººæ²Ÿé€šï¼Œç‰¹åˆ«æ˜¯è¦å’Œå¥³æœ‹å‹æ²Ÿé€šï¼Œä»æ‹çˆ±é€æ­¥èµ°å‘å©šå§»ï¼Œä¼šé‡åˆ°å¾ˆå¤šå¾ˆå¤šç°å®çš„ç»†èŠ‚ã€‚é¢å¯¹ç°å®ï¼Œä¼šäº§ç”ŸçŸ›ç›¾ï¼Œä½†æ²¡æœ‰ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Œç›¸çˆ±çš„äººè¯·è®°ä½ï¼ŒçŸ›ç›¾æ²¡æœ‰ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Œä¸è¦å¤¸å¼ äº†é—®é¢˜è€Œæ”¾å¼ƒäº†æƒ…æ„Ÿã€‚&lt;/p&gt;
&lt;h2&gt;è°ˆè°ˆè‡ªå·±&lt;/h2&gt;
&lt;p&gt;å›é¡¾ä»å¤§ä¸€åˆ°ç°åœ¨çš„å‡ å¹´æ—¶é—´ï¼Œæˆ‘çš„å˜åŒ–åº”è¯¥ç®—æ˜¯è›®å¤§çš„ï¼Œæˆ‘é€æ­¥åœ°ä¸å†å…³æ³¨é‚£äº›å¤§å±‚é¢ä¸Šçš„äº‹æƒ…ï¼Œä¸å»æƒ³é‚£äº›å½¢è€Œä¸Šçš„é—®é¢˜ã€‚é‚£äº›äº‹æƒ…ï¼Œé‚£äº›é—®é¢˜ï¼Œæƒ³ä¸é€ï¼Œçœ‹ä¸ç©¿ï¼Œä¹Ÿä¸ä¼šçœŸçš„æœ‰è§£ã€‚è¿™è¾ˆå­ï¼Œæˆ‘ä»¬èƒ½åšçš„å…¶å®å¾ˆå°‘å¾ˆå°‘ï¼Œåšäº›åŠ›æ‰€èƒ½åŠçš„äº‹æƒ…ä¹Ÿç®—æ˜¯ä¸æµªè´¹ç”Ÿå‘½å§ã€‚ä¹Ÿè®¸æœ‰äººè®¤ä¸ºè¿™æ˜¯â€œè®¤å‘½â€äº†ï¼Œè®¤ä¸ºæˆ‘åœ¨é€æ¸æˆä¸ºä¸€ä¸ªâ€œå•å‘åº¦â€çš„äººï¼Œä½†å…¶å®æˆ‘è¿˜æ˜¯æƒ³è¶æ´»ç€å¤šæ‰‘è…¾å‡ ä¸‹çš„ï¼ŒæŒ‰ç…§è‡ªå·±çš„æƒ³æ³•å»æ´»ï¼Œåªä¸è¿‡æƒ³æ³•æ¢äº†ä¸ªæ–¹é¢ã€‚&lt;/p&gt;
&lt;h2&gt;æœªæ¥ä¸€å¹´&lt;/h2&gt;
&lt;p&gt;ä¹Ÿå¾—ä¸ºè¿™æ–°çš„ä¸€å¹´åšç‚¹è§„åˆ’ï¼Œå®šç‚¹ç›®æ ‡å•¥çš„ã€‚å¯ä»¥ä»å·¥ä½œã€å¥åº·ã€æƒ…æ„Ÿã€æŠ€æœ¯ç­‰å‡ ä¸ªæ–¹é¢æ¥è°ˆå§ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå·¥ä½œï¼Œæˆ‘å¸Œæœ›è‡ªå·±èƒ½å¤Ÿè¸å®äº›ï¼Œé€æ­¥ç²¾é€šå·¥ä½œç›¸å…³çš„æŠ€æœ¯ï¼Œå¤šè®¤è¯†ä¸€äº›äººï¼Œå¯¹æ‰€å¤„çš„æŠ€æœ¯è¡Œä¸šæœ‰ä¸ªæ›´æ¸…æ™°çš„è®¤è¯†ã€‚&lt;/p&gt;
&lt;p&gt;èº«å¿ƒå¥åº·åº”è¯¥å§‹ç»ˆæ”¾åœ¨ç¬¬ä¸€ä½ï¼Œè¦å¤šè¿åŠ¨é”»ç‚¼ï¼ŒåšæŒè·‘æ­¥ä»€ä¹ˆçš„ï¼Œå¤šå‡ºå»èµ°èµ°ï¼Œæ–­ç„¶æ‹’ç»â€œå®…â€çš„ä¹ æƒ¯ï¼Œç‰¹åˆ«æ˜¯è¦å¤šå’Œå¥³æœ‹å‹å‡ºå»ç©ï¼Œè¿™ä¸ªå¯ä»¥åšä¸ªè¯¦ç»†çš„è®¡åˆ’ã€‚æ—¶é—´æ˜¯é è‡ªå·±å®‰æ’çš„ï¼Œç†ç”±ä¹Ÿä¼šæœ‰åƒä¸‡ï¼Œä½†éƒ½ä¸åº”æ¥å—å…¶æˆä¸ºä¸æ³¨æ„èº«å¿ƒå¥åº·çš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;æƒ…æ„Ÿæ–¹é¢ï¼Œå¸Œæœ›è‡ªå·±èƒ½å¤Ÿä¸€å¦‚æ—¢å¾€ï¼Œå¹¶ä¸”æ›´åŠ è€å¿ƒï¼Œç»†å¿ƒï¼Œæ³¨æ„äº¤æµæ²Ÿé€šã€‚å¦å¤–ï¼Œè¦å°½å¿«å®Œæˆå©šå§»çš„æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è¯´åˆ°æŠ€æœ¯ï¼Œè¿˜æ˜¯è€æ¯›ç—…ï¼Œæœ‰å¤ªå¤šä¸œè¥¿æƒ³å­¦ï¼Œä¸è¿‡ç°åœ¨å­¦ä¹ æ–¹å¼åœ¨é€æ­¥è¿›å…¥è‰¯æ€§å¾ªç¯ï¼Œå¿ƒæ€ä¸Šä¹Ÿä¸ä¼šé‚£ä¹ˆç›²ç›®äº†ã€‚æ¥ä¸‹æ¥çš„ä¸€å¹´é‡Œï¼Œè‡ªå·±å¿…é¡»ä¸é¿é‡å°±è½»ï¼Œè¦æ”»å…³æŠŠæ ¸å¿ƒæŠ€æœ¯ç»ƒæ‰å®ï¼Œå¤šå†™ä»£ç ï¼Œå¤šæ•´ç†æ€»ç»“ã€‚&lt;/p&gt;
&lt;p&gt;è¿‡å»çš„ä¸€å¹´é‡Œï¼Œä¹¦ç±é˜…è¯»ä¸å¤šï¼Œä¹Ÿä¸è§å¾—æ˜¯ä»¶åäº‹ã€‚ä¸è¿‡æ–°çš„ä¸€å¹´é‡Œï¼Œåº”è¯¥è¦ç²¾è¯»ä¸€äº›ä¹¦ï¼ŒåŒ…æ‹¬æ–‡å²ä¸æŠ€æœ¯ç±»çš„ï¼Œå¤šæ€è€ƒã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šè¿°ä¹Ÿè¯´ä¸ä¸Šæ˜¯è§„åˆ’ï¼Œåªæ˜¯å¯¹è‡ªå·±æç‚¹è¦æ±‚å’ŒæœŸæœ›ï¼Œå¸Œæœ›è‡ªå·±åœ¨å„æ–¹é¢éƒ½æœ‰æ‰€è¿›æ­¥ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æ€»ç»“"></category><category term="æ–‡å­—"></category></entry><entry><title>å¯æ‰©å±•çš„Webæ¶æ„ä¸åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/01/16/scalable-web-architecture-and-distributed-systems/" rel="alternate"></link><published>2013-01-16T00:00:00+08:00</published><updated>2013-01-16T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-16:/2013/01/16/scalable-web-architecture-and-distributed-systems/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://www.aosabook.org/en/distsys.html"&gt;Scalable Web Architecture and Distributed Systems&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¼€æºè½¯ä»¶å·²æˆä¸ºä¸€äº›æœ€å¤§å‹ç½‘ç«™çš„åŸºç¡€ç»„ä»¶ã€‚å¹¶ä¸”éšç€é‚£äº›ç½‘ç«™çš„å‘å±•ï¼Œå›´ç»•å®ƒä»¬çš„æ¶æ„å‡ºç° â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://www.aosabook.org/en/distsys.html"&gt;Scalable Web Architecture and Distributed Systems&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¼€æºè½¯ä»¶å·²æˆä¸ºä¸€äº›æœ€å¤§å‹ç½‘ç«™çš„åŸºç¡€ç»„ä»¶ã€‚å¹¶ä¸”éšç€é‚£äº›ç½‘ç«™çš„å‘å±•ï¼Œå›´ç»•å®ƒä»¬çš„æ¶æ„å‡ºç°äº†ä¸€äº›æœ€ä½³å®è·µä¸æŒ‡å¯¼æ€§åŸåˆ™ã€‚æœ¬ç« å°è¯•é˜è¿°è®¾è®¡å¤§å‹ç½‘ç«™éœ€è¦è€ƒè™‘çš„ä¸€äº›å…³é”®é—®é¢˜ï¼Œä»¥åŠä¸€äº›å®ç°è¿™äº›ç›®æ ‡çš„ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ç« ä¸»è¦ä¾§é‡äºWebç³»ç»Ÿï¼Œè™½ç„¶å…¶ä¸­ä¸€äº›å†…å®¹ä¹Ÿé€‚ç”¨äºå…¶å®ƒåˆ†å¸ƒå¼ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h2&gt;Webåˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡åŸåˆ™&lt;/h2&gt;
&lt;p&gt;æ„å»ºå’Œè¿ç»´ä¸€ä¸ªå¯æ‰©å±•Webç«™ç‚¹æˆ–è€…åº”ç”¨åˆ°åº•æ„å‘³ç€ä»€ä¹ˆï¼Ÿè¯´åˆ°åº•è¿™ç§ç³»ç»Ÿåªä¸è¿‡æ˜¯é€šè¿‡äº’è”ç½‘å°†ç”¨æˆ·ä¸è¿œç¨‹èµ„æºç›¸è¿æ¥---ä½¿å…¶å¯æ‰©å±•çš„æ˜¯åˆ†å¸ƒäºå¤šä¸ªæœåŠ¡å™¨çš„èµ„æºï¼Œæˆ–è€…å¯¹è¿™äº›èµ„æºçš„è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼äºç”Ÿæ´»ä¸­çš„å¤§å¤šæ•°ä¸œè¥¿ï¼Œä»é•¿è¿œæ¥è¯´ï¼Œæ„å»ºä¸€ä¸ªwebæœåŠ¡ä¹‹å‰èŠ±äº›æ—¶é—´æå‰è§„åˆ’æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚ç†è§£å¤§å‹ç½‘ç«™èƒŒåä¸€äº›éœ€è¦è€ƒè™‘çš„å› ç´ ä¸æƒè¡¡å–èˆï¼Œåœ¨åˆ›å»ºå°ä¸€äº›çš„webç«™ç‚¹æ—¶èƒ½è®©ä½ ä½œå‡ºæ›´æ˜æ™ºçš„å†³ç­–ã€‚ä»¥ä¸‹æ˜¯å½±å“å¤§è§„æ¨¡webç³»ç»Ÿè®¾è®¡çš„ä¸€äº›æ ¸å¿ƒåŸåˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯ç”¨æ€§ï¼š&lt;/strong&gt;
ä¸€ä¸ªç½‘ç«™çš„æ­£å¸¸è¿è¡Œæ—¶é—´å¯¹äºè®¸å¤šå…¬å¸çš„å£°èª‰ä¸è¿ä½œéƒ½æ˜¯è‡³å…³é‡è¦çš„ã€‚å¯¹äºä¸€äº›æ›´å¤§çš„åœ¨çº¿é›¶å”®ç«™ç‚¹ï¼Œå‡ åˆ†é’Ÿçš„ä¸å¯ç”¨éƒ½ä¼šé€ æˆæ•°åƒæˆ–æ•°ç™¾ä¸‡ç¾å…ƒçš„è¥æ”¶æŸå¤±ï¼Œå› æ­¤ç³»ç»Ÿè®¾è®¡å¾—èƒ½å¤ŸæŒç»­æœåŠ¡ï¼Œå¹¶ä¸”èƒ½è¿…é€Ÿä»æ•…éšœä¸­æ¢å¤æ˜¯æŠ€æœ¯å’Œä¸šåŠ¡çš„æœ€åŸºæœ¬è¦æ±‚ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„é«˜å¯ç”¨æ€§éœ€è¦ä»”ç»†è€ƒè™‘å…³é”®éƒ¨ä»¶çš„å†—ä½™ï¼Œä»éƒ¨åˆ†ç³»ç»Ÿæ•…éšœä¸­è¿…é€Ÿæ¢å¤ï¼Œä»¥åŠé—®é¢˜å‘ç”Ÿæ—¶ä¼˜é›…é™çº§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ€§èƒ½ï¼š&lt;/strong&gt;
å¯¹äºå¤šæ•°ç«™ç‚¹è€Œè¨€ï¼Œç½‘ç«™çš„æ€§èƒ½å·²æˆä¸ºä¸€ä¸ªé‡è¦çš„è€ƒè™‘å› ç´ ã€‚ç½‘ç«™çš„é€Ÿåº¦å½±å“ç€ä½¿ç”¨å’Œç”¨æˆ·æ»¡æ„åº¦ï¼Œä»¥åŠæœç´¢å¼•æ“æ’åï¼Œä¸è¥æ”¶å’Œæ˜¯å¦èƒ½ç•™ä½ç”¨æˆ·ç›´æ¥ç›¸å…³ã€‚å› æ­¤ï¼Œåˆ›å»ºä¸€ä¸ªé’ˆå¯¹å¿«é€Ÿå“åº”ä¸ä½å»¶è¿Ÿè¿›è¡Œä¼˜åŒ–çš„ç³»ç»Ÿéå¸¸é‡è¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯é æ€§ï¼š&lt;/strong&gt;
ç³»ç»Ÿå¿…é¡»æ˜¯å¯é çš„ï¼Œè¿™æ ·ç›¸åŒæ•°æ®è¯·æ±‚æ‰ä¼šå§‹ç»ˆè¿”å›ç›¸åŒçš„æ•°æ®ã€‚æ•°æ®å˜æ¢æˆ–æ›´æ–°ä¹‹åï¼ŒåŒæ ·çš„è¯·æ±‚åˆ™åº”è¯¥è¿”å›æ–°çš„æ•°æ®ã€‚ç”¨æˆ·åº”è¯¥çŸ¥é“ä¸€ç‚¹ï¼šå¦‚æœä¸œè¥¿å†™å…¥äº†ç³»ç»Ÿï¼Œæˆ–è€…å¾—åˆ°å­˜å‚¨ï¼Œé‚£ä¹ˆå®ƒä¼šæŒä¹…åŒ–å¹¶ä¸”è‚¯å®šä¿æŒä¸å˜ä»¥ä¾¿å°†æ¥è¿›è¡Œæ£€ç´¢ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯æ‰©å±•æ€§ï¼š&lt;/strong&gt;
å¯¹äºä»»ä½•å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿè€Œè¨€ï¼Œå¤§å°(size)åªæ˜¯éœ€è¦è€ƒè™‘çš„è§„æ¨¡(scale)é—®é¢˜çš„ä¸€ä¸ªæ–¹é¢ã€‚åŒæ ·é‡è¦çš„æ˜¯åŠªåŠ›å»æé«˜å¤„ç†æ›´å¤§è´Ÿè½½çš„èƒ½åŠ›ï¼Œè¿™é€šå¸¸è¢«ç§°ä¸ºç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€‚å¯æ‰©å±•æ€§ä»¥ç³»ç»Ÿçš„è®¸å¤šä¸åŒå‚æ•°ä¸ºå‚è€ƒï¼šèƒ½å¤Ÿå¤„ç†å¤šå°‘é¢å¤–æµé‡ï¼Ÿå¢åŠ å­˜å‚¨å®¹é‡æœ‰å¤šå®¹æ˜“ï¼Ÿèƒ½å¤Ÿå¤„ç†å¤šå°‘æ›´å¤šçš„äº‹åŠ¡ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯ç®¡ç†æ€§ï¼š&lt;/strong&gt;
ç³»ç»Ÿè®¾è®¡å¾—æ˜“äºè¿ç»´æ˜¯å¦ä¸€ä¸ªé‡è¦çš„è€ƒè™‘å› ç´ ã€‚ç³»ç»Ÿçš„å¯ç®¡ç†æ€§ç­‰ä»·äºè¿ç»´ï¼ˆç»´æŠ¤å’Œæ›´æ–°ï¼‰çš„å¯æ‰©å±•æ€§ã€‚å¯¹äºå¯ç®¡ç†æ€§éœ€è¦è€ƒè™‘çš„æ˜¯ï¼šé—®é¢˜å‘ç”Ÿæ—¶æ˜“äºè¯Šæ–­ä¸ç†è§£ï¼Œä¾¿äºæ›´æ–°æˆ–ä¿®æ”¹ï¼Œç³»ç»Ÿè¿ç»´èµ·æ¥å¦‚ä½•ç®€å•ï¼ˆä¾‹å¦‚ï¼šå¸¸è§„è¿ç»´æ˜¯å¦ä¸ä¼šå¼•å‘å¤±è´¥æˆ–å¼‚å¸¸ï¼Ÿï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æˆæœ¬ï¼š&lt;/strong&gt;
æˆæœ¬æ˜¯ä¸€ä¸ªé‡è¦å› ç´ ã€‚å¾ˆæ˜æ˜¾è¿™åŒ…æ‹¬ç¡¬ä»¶å’Œè½¯ä»¶æˆæœ¬ï¼Œä½†ä¹Ÿè¦è€ƒè™‘ç³»ç»Ÿéƒ¨ç½²å’Œç»´æŠ¤è¿™ä¸€æ–¹é¢ã€‚ç³»ç»Ÿæ„å»ºæ‰€èŠ±è´¹çš„å¼€å‘è€…æ—¶é—´ï¼Œç³»ç»Ÿè¿è¡Œæ‰€éœ€è¦çš„è¿ç»´å·¥ä½œé‡ï¼Œä»¥åŠåŸ¹è®­å·¥ä½œéƒ½åº”è¯¥è€ƒè™‘è¿›å»ã€‚æˆæœ¬æ˜¯æ‹¥æœ‰ç³»ç»Ÿçš„æ€»æˆæœ¬ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›åŸåˆ™ä¸­çš„æ¯ä¸€ä¸ªéƒ½ä¸ºè®¾è®¡åˆ†å¸ƒå¼webæ¶æ„æä¾›äº†å†³ç­–ä¾æ®ã€‚ç„¶è€Œï¼Œå®ƒä»¬ä¹‹é—´ä¹Ÿä¼šç›¸äº’ä¸ä¸€è‡´ï¼Œè¿™æ ·å®ç°ä¸€ä¸ªç›®æ ‡çš„ä»£ä»·æ˜¯ç‰ºç‰²å¦ä¸€ä¸ªç›®æ ‡ã€‚ä¸€ä¸ªåŸºæœ¬çš„ä¾‹å­ï¼šç®€å•åœ°é€šè¿‡å¢åŠ æ›´å¤šçš„æœåŠ¡å™¨ï¼ˆå¯æ‰©å±•æ€§ï¼‰æ¥è§£å†³å®¹é‡é—®é¢˜æ˜¯ä»¥å¯ç®¡ç†æ€§ï¼ˆä½ éœ€è¦è¿ç»´é¢å¤–çš„ä¸€å°æœåŠ¡å™¨ï¼‰å’Œæˆæœ¬ï¼ˆæœåŠ¡å™¨çš„ä»·é’±ï¼‰ä¸ºä»£ä»·çš„ã€‚&lt;/p&gt;
&lt;p&gt;è®¾è®¡ä»»ä½•ä¸€ç§webåº”ç”¨ï¼Œè€ƒè™‘è¿™äº›æ ¸å¿ƒåŸåˆ™éƒ½æ˜¯éå¸¸é‡è¦çš„ï¼Œå³ä½¿æ˜çŸ¥æŸä¸ªè®¾è®¡ä¹Ÿè®¸ä¼šç‰ºç‰²å…¶ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªåŸåˆ™ã€‚&lt;/p&gt;
&lt;h2&gt;1.2. åŸºç¡€æ¦‚å¿µ&lt;/h2&gt;
&lt;p&gt;è¯´åˆ°ç³»ç»Ÿæ¶æ„ï¼Œéœ€è¦è€ƒè™‘å‡ ä¸ªäº‹æƒ…ï¼šä»€ä¹ˆæ˜¯åˆé€‚çš„éƒ¨ä»¶ï¼Œè¿™äº›éƒ¨ä»¶å¦‚ä½•ç»„åˆåœ¨ä¸€èµ·ï¼Œä»¥åŠä»€ä¹ˆæ˜¯æ­£ç¡®çš„æƒè¡¡å–èˆã€‚åœ¨éœ€è¦ä¹‹å‰æ‰©å¤§æŠ•èµ„é€šå¸¸ä¸æ˜¯ä¸€ç§æ˜æ™ºçš„å•†ä¸šä¸»å¼ ;ç„¶è€Œï¼Œåœ¨è®¾è®¡ä¸Šçš„ä¸€äº›è¿œè§åœ¨å°†æ¥èƒ½å¤ŸèŠ‚çœå¤§é‡çš„æ—¶é—´å’Œèµ„æºã€‚&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚ä¸»è¦é˜è¿°å¯¹äºå‡ ä¹æ‰€æœ‰å¤§å‹webåº”ç”¨æ¥è¯´éƒ½æ˜¯éå¸¸é‡è¦çš„ä¸€äº›æ ¸å¿ƒå› ç´ ï¼š&lt;em&gt;æœåŠ¡&lt;/em&gt;ï¼Œ&lt;em&gt;å†—ä½™&lt;/em&gt;ï¼Œ &lt;em&gt;åˆ†åŒº&lt;/em&gt;ï¼Œ ä»¥åŠ&lt;em&gt;æ•…éšœå¤„ç†&lt;/em&gt;ã€‚è¿™äº›å› ç´ ä¸­çš„æ¯ä¸€ä¸ªéƒ½æ¶‰åŠé€‰æ‹©ä¸æŠ˜ä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸Šä¸€èŠ‚æ‰€æè¿°çš„é‚£äº›åŸåˆ™çš„ä¸Šä¸‹æ–‡ä¸­ã€‚ä¸ºäº†è¯¦ç»†åœ°è§£é‡Šè¿™äº›ä¸œè¥¿ï¼Œæœ€å¥½æ˜¯ä»ä¸€ä¸ªä¾‹å­å¼€å§‹ã€‚&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;ä¾‹å­ï¼šå›¾ç‰‡æ‰˜ç®¡åº”ç”¨&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;å¯èƒ½åœ¨ä»¥å‰çš„æŸä¸ªæ—¶å€™ï¼Œä½ åœ¨ç½‘ä¸Šå¼ è´´è¿‡å›¾ç‰‡ã€‚å¯¹äºæ‰˜ç®¡å’Œæä¾›å¤§é‡å›¾ç‰‡çš„å¤§ç½‘ç«™æ¥è¯´ï¼Œæ„å»ºä¸€ä¸ªæ€§ä»·æ¯”é«˜ã€é«˜å¯ç”¨ã€ä»¥åŠä½å»¶è¿Ÿï¼ˆå¿«é€Ÿæ£€ç´¢ï¼‰çš„æ¶æ„æ˜¯å­˜åœ¨è¯¸å¤šæŒ‘æˆ˜çš„ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è±¡å­˜åœ¨è¿™æ ·ä¸€ä¸ªç³»ç»Ÿï¼Œç”¨æˆ·å¯ä»¥ä¸Šä¼ å›¾ç‰‡åˆ°ä¸­å¤®æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡webé“¾æ¥æˆ–è€…APIè¯·æ±‚å›¾ç‰‡ï¼Œå°±åƒFlickræˆ–Picasaä¸€æ ·ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾è¿™ä¸ªåº”ç”¨æœ‰ä¸¤ä¸ªå…³é”®éƒ¨åˆ†ï¼šä¸Šä¼ ï¼ˆå†™ï¼‰å›¾ç‰‡åˆ°æœåŠ¡å™¨å’ŒæŸ¥è¯¢å›¾ç‰‡ã€‚å½“ç„¶æˆ‘ä»¬å¸Œæœ›å›¾ç‰‡ä¸Šä¼ å¾ˆé«˜æ•ˆï¼ŒåŒæ—¶æˆ‘ä»¬éå¸¸å…³æ³¨å½“æœ‰äººè¯·æ±‚ä¸€å¼ å›¾ç‰‡æ—¶ï¼ˆä¾‹å¦‚ï¼Œç½‘é¡µæˆ–è€…å…¶ä»–åº”ç”¨è¯·æ±‚å›¾ç‰‡ï¼‰ï¼Œç³»ç»Ÿèƒ½å¤Ÿå¿«é€Ÿåœ°äº¤ä»˜ã€‚è¿™éå¸¸ç±»ä¼¼äºwebæœåŠ¡å™¨æˆ–å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰è¾¹ç¼˜æœåŠ¡å™¨ï¼ˆCDNå°†è¿™ç§æœåŠ¡å™¨ç”¨äºåœ¨å¤šä¸ªåœ°æ–¹å­˜å‚¨å†…å®¹ï¼Œè¿™æ ·å†…å®¹å°±åœ¨åœ°ç†/ç‰©ç†è·ç¦»ä¸Šæ›´æ¥è¿‘ç”¨æˆ·ï¼Œä»è€Œæ›´åŠ å¿«é€Ÿï¼‰æä¾›çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿçš„å¦ä¸€äº›é‡è¦æ–¹é¢æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºå°†è¦å­˜å‚¨çš„å›¾ç‰‡æ•°é‡æ²¡æœ‰é™åˆ¶ï¼Œå› æ­¤éœ€è¦è€ƒè™‘å­˜å‚¨çš„å¯æ‰©å±•æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å›¾ç‰‡ä¸‹è½½/è¯·æ±‚çš„å»¶è¿Ÿè¦ä½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœç”¨æˆ·ä¸Šä¼ äº†æŸå¼ å›¾ç‰‡ï¼Œé‚£ä¹ˆè¿™å¼ å›¾ç‰‡å°±å¾—ä¸€ç›´å­˜åœ¨ï¼ˆå›¾ç‰‡æ•°æ®çš„å¯é æ€§ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç³»ç»Ÿåº”è¯¥æ˜“äºç»´æŠ¤ï¼ˆå¯ç®¡ç†æ€§ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”±äºå›¾ç‰‡æ‰˜ç®¡çš„åˆ©æ¶¦ç©ºé—´ä¸å¤§ï¼Œæ‰€ä»¥ç³»ç»Ÿåº”æœ‰è¾ƒé«˜çš„æ€§ä»·æ¯”ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å›¾1.1æ˜¯ç³»ç»Ÿçš„ä¸€å¼ åŠŸèƒ½ç®€åŒ–å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src ="/assets/uploads/pics/imageHosting1.jpg" alt="imageHosting1.jpg"&gt;
&lt;center&gt;å›¾1.1ï¼šå›¾ç‰‡æ‰˜ç®¡åº”ç”¨çš„ç®€åŒ–æ¶æ„å›¾&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªå›¾ç‰‡æ‰˜ç®¡ä¾‹å­ä¸­ï¼Œç³»ç»Ÿå¿…é¡»æ˜æ˜¾åœ°å¿«é€Ÿï¼Œæ•°æ®å­˜å‚¨å¯é ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›å±æ€§é«˜åº¦å¯æ‰©å±•ã€‚æ„å»ºè¯¥åº”ç”¨çš„ä¸€ä¸ªå°å‹ç‰ˆæœ¬è½»è€Œæ˜“ä¸¾ï¼Œä¹Ÿå¾ˆå®¹æ˜“æ­è½½åœ¨å•ä¸ªæœåŠ¡å™¨ä¸Šï¼›ç„¶è€Œï¼Œé‚£æ ·æœ¬ç« å°±æ²¡å¤šå¤§æ„æ€äº†ã€‚å‡è®¾æˆ‘ä»¬æƒ³æ„å»ºä¸€ä¸ªèƒ½å¤Ÿå‘å±•å¾—å’ŒFlickrä¸€æ ·åºå¤§çš„åº”ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;æœåŠ¡&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;è€ƒè™‘å¯æ‰©å±•çš„ç³»ç»Ÿè®¾è®¡æ—¶ï¼Œå¯¹åŠŸèƒ½è¿›è¡Œè§£è€¦ï¼Œç„¶åå°†ç³»ç»Ÿçš„æ¯ä¸€éƒ¨åˆ†çœ‹ä½œèƒ½å¤Ÿè‡ªå·±æä¾›æœåŠ¡ï¼Œå¹¶å…·å¤‡æ˜ç¡®å®šä¹‰çš„æ¥å£ã€‚å®è·µä¸­ï¼Œäººä»¬è¯„ä»·ä»¥è¿™ç§æ–¹å¼è®¾è®¡çš„ç³»ç»Ÿå…·å¤‡é¢å‘æœåŠ¡å™¨çš„æ¶æ„ï¼ˆSOAï¼‰ã€‚å¯¹è¿™ç±»ç³»ç»Ÿæ¥è¯´ï¼Œæ¯ä¸ªæœåŠ¡éƒ½æœ‰è‡ªå·±æˆªç„¶ä¸åŒçš„åŠŸèƒ½ä¸Šä¸‹æ–‡ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªæŠ½è±¡æ¥å£ä¸è¯¥ä¸Šä¸‹æ–‡ä¹‹å¤–çš„ä¸€åˆ‡ï¼ˆé€šå¸¸æ˜¯å¦ä¸€ä¸ªæœåŠ¡å…¬å¼€çš„APIï¼‰è¿›è¡Œäº¤äº’ã€‚&lt;/p&gt;
&lt;p&gt;å°†ç³»ç»Ÿè§£æ„ä¸ºä¸€ç»„ç›¸äº’è¡¥å……çš„æœåŠ¡ä¹Ÿå°±å°†ä¸åŒç»„ä»¶çš„æ“ä½œè¿›è¡Œè§£è€¦ã€‚è¿™ç§æŠ½è±¡æœ‰åŠ©äºåœ¨æœåŠ¡ã€åº•å±‚ç¯å¢ƒä»¥åŠæœåŠ¡çš„æ¶ˆè´¹è€…ä¹‹é—´å»ºç«‹æ¸…æ™°çš„å…³ç³»ã€‚è¿™æ ·æ˜ç¡®çš„åˆ’åˆ†æœ‰åŠ©äºéš”ç¦»é—®é¢˜ï¼Œä¹Ÿå…è®¸æ¯ä¸ªç»„ä»¶ç‹¬ç«‹äºå…¶ä»–ç»„ä»¶è¿›è¡Œæ‰©å±•ã€‚è¿™ç±»é¢å‘æœåŠ¡çš„ç³»ç»Ÿè®¾è®¡éå¸¸ç±»ä¼¼äºç¨‹åºè®¾è®¡çš„é¢å‘å¯¹è±¡è®¾è®¡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ‰€æœ‰ä¸Šä¼ å’Œæ£€ç´¢å›¾ç‰‡çš„è¯·æ±‚éƒ½æ˜¯åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šå¤„ç†çš„ï¼›ç„¶è€Œï¼Œå°†è¿™ä¸¤ä¸ªåŠŸèƒ½åˆ†å‰²æˆä¸¤ä¸ªç‹¬ç«‹çš„æœåŠ¡åœ¨ç³»ç»Ÿéœ€è¦æ‰©å±•æ—¶éå¸¸æœ‰æ„ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨å‡è®¾è¯¥æœåŠ¡è¢«å¤§é‡ä½¿ç”¨ï¼›è¿™ç§æƒ…å†µä¸‹å¾ˆå®¹æ˜“çœ‹åˆ°å†™æ“ä½œå¯¹è¯»å–å›¾ç‰‡æ‰€èŠ±æ—¶é—´çš„å½±å“æœ‰å¤šå¤§ï¼ˆå› ä¸ºè¿™ä¸¤ä¸ªåŠŸèƒ½å°†ç«äº‰å…±äº«èµ„æºï¼‰ã€‚ä¾èµ–äºè¿™ç§æ¶æ„ï¼Œè¿™ä¸ªå½±å“ä¼šå¾ˆå¤§ã€‚å³ä½¿ä¸Šä¼ å’Œä¸‹è½½é€Ÿåº¦ç›¸åŒï¼ˆå¤šæ•°IPç½‘ç»œä¸æ˜¯è¿™æ ·çš„ï¼Œè€Œæ˜¯ä»¥ä¸‹è½½é€Ÿåº¦ï¼šä¸Šä¼ é€Ÿåº¦ä¸º3ï¼š1çš„æ¯”ä¾‹è¿›è¡Œè®¾è®¡ï¼‰ï¼Œæ–‡ä»¶è¯»å–æ“ä½œé€šå¸¸æ˜¯ä»ç¼“å­˜ä¸­è¯»ï¼Œè€Œå†™æ“ä½œæœ€ç»ˆæ˜¯è¦å†™é“ç£ç›˜ï¼ˆåœ¨æœ€ç»ˆä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œä¹Ÿè®¸è¿˜è¦å¤šæ¬¡å†™ï¼‰ã€‚å³ä½¿æ‰€æœ‰ä¸œè¥¿éƒ½åœ¨å†…å­˜ä¸­æˆ–è€…éƒ½ä»ç£ç›˜ä¸Šè¯»å–ï¼ˆå¦‚SSDï¼‰ï¼Œæ•°æ®åº“å†™æ“ä½œå‡ ä¹æ€»æ˜¯æ¯”è¯»æ“ä½œæ…¢ã€‚ï¼ˆPole Positionï¼Œä¸€ä¸ªæ•°æ®åº“åŸºå‡†æµ‹è¯•çš„å¼€æºå·¥å…·ï¼Œ&lt;a href="http://polepos.org/"&gt;http://polepos.org/&lt;/a&gt;ï¼Œæµ‹è¯•ç»“æœè§&lt;a href="http://polepos.sourceforge.net/results/PolePositionClientServer.pdf"&gt;http://polepos.sourceforge.net/results/PolePositionClientServer.pdf&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥è®¾è®¡çš„å¦ä¸€ä¸ªæ½œåœ¨é—®é¢˜æ˜¯åƒApacheæˆ–lighttpdè¿™æ ·çš„webæœåŠ¡å™¨é€šå¸¸æœ‰å¯ä»¥ç»´æŒçš„å¹¶å‘è¿æ¥æ•°é‡çš„ä¸Šé™ï¼ˆé»˜è®¤å€¼ä¸º500å·¦å³ï¼Œä½†å¯ä»¥æ›´é«˜ï¼‰ã€‚åœ¨é«˜æµé‡ä¸‹ï¼Œå†™æ“ä½œä¼šè¿…é€Ÿæ¶ˆè€—å®Œå…è®¸çš„å¹¶å‘è¿æ¥æ•°ã€‚ç”±äºè¯»æ“ä½œå¯ä»¥æ˜¯å¼‚æ­¥çš„ï¼Œæˆ–å€ŸåŠ©äºå…¶ä»–æ€§èƒ½ä¼˜åŒ–æ–¹æ³•ï¼Œå¦‚gzipå‹ç¼©æˆ–åˆ†å—ä¼ è¾“ç¼–ç ï¼ŒwebæœåŠ¡å™¨å¯ä»¥åœ¨è¯»æ“ä½œä¹‹é—´æ›´å¿«é€Ÿåœ°åˆ‡æ¢æœåŠ¡ï¼Œä»¥åŠåœ¨å®¢æˆ·ç«¯ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ä»è€Œèƒ½å¤Ÿåœ¨æ¯ç§’å†…æœåŠ¡äºæ¯”è¿æ¥æœ€å¤§å€¼ï¼ˆä½¿ç”¨Apacheï¼Œå°†æœ€å¤§è¿æ¥æ•°è®¾ç½®ä¸º500ï¼Œæ¯ç§’æœåŠ¡æ•°åƒä¸ªè¯»æ“ä½œè¯·æ±‚å¹¶ä¸ç½•è§ï¼‰æ›´å¤šçš„è¯·æ±‚ã€‚å¦ä¸€æ–¹é¢ï¼Œå†™æ“ä½œå€¾å‘äºåœ¨å›¾ç‰‡ä¸Šä¼ æœŸé—´ç»´æŒä¸€ä¸ªæ‰“å¼€çš„è¿æ¥ï¼Œåœ¨å¤šæ•°å®¶åº­ç½‘ç»œä¸­ï¼Œä¸Šä¼ ä¸€ä¸ª1MBçš„æ–‡ä»¶éœ€è¦èŠ±è´¹å¤šäº1ç§’çš„æ—¶é—´ï¼Œè¿™æ ·webæœåŠ¡å™¨ä»…å¯ä»¥å¤„ç†500ä¸ªè¿™æ ·çš„å¹¶å‘å†™æ“ä½œã€‚
&lt;img src ="/assets/uploads/pics/imageHosting2.png" alt="imageHosting2.png"&gt;
&lt;center&gt;å›¾1.2ï¼šåˆ‡åˆ†è¯»å†™æ“ä½œ&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºè¿™ç±»ç“¶é¢ˆåšè§„åˆ’æ˜¯å°†å›¾ç‰‡çš„è¯»å†™æ“ä½œåˆ‡åˆ†æˆç‹¬ç«‹æœåŠ¡çš„ä¸€ä¸ªå¾ˆå¥½çš„æ¡ˆä¾‹ã€‚å¦‚å›¾1.2æ‰€ç¤ºã€‚è¿™å°±å…è®¸æˆ‘ä»¬å•ç‹¬åœ°å¯¹ä¸¤è€…ä¸­ä»»æ„ä¸€ä¸ªåšæ‰©å±•ï¼ˆå› ä¸ºé€šå¸¸è¯»æ“ä½œæ€»æ˜¯æ¯”å†™æ“ä½œå¤šï¼‰ï¼Œä¹Ÿæœ‰åŠ©äºå˜æ¸…æ¯ä¸ªç‚¹ä¸Šæ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚æœ€åï¼Œè¿™ä¹Ÿåˆ†ç¦»äº†æœªæ¥çš„å¿§æ‚£ï¼Œä»è€Œæ›´æ˜“äºæ’è§£æ•…éšœå’Œå¯¹è¯»æ“ä½œè¾ƒæ…¢è¿™ç±»é—®é¢˜è¿›è¡Œæ‰©å±•ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•çš„ä¼˜åŠ¿åœ¨äºæˆ‘ä»¬èƒ½å¤Ÿå°†é—®é¢˜ç‹¬ç«‹äºå…¶ä»–é—®é¢˜åœ°è¿›è¡Œè§£å†³---æˆ‘ä»¬æ— éœ€æ‹…å¿ƒç›¸åŒä¸Šä¸‹æ–‡ä¸­æ–°å›¾ç‰‡çš„å†™æ“ä½œå’Œæ£€ç´¢ã€‚è¿™ä¸¤ä¸ªæœåŠ¡ä»ç„¶åŸºäºå…¨å±€å›¾ç‰‡è¯­æ–™ï¼Œä½†å¯ä»¥é€šè¿‡ä¸æœåŠ¡ç›¸é€‚åº”çš„æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼šæ’é˜Ÿè¯·æ±‚ï¼Œæˆ–ç¼“å­˜å¸¸ç”¨å›¾ç‰‡---æ›´å¤šç›¸å…³å†…å®¹è§ä¸‹æ–‡ï¼‰éšæ„åœ°ä¼˜åŒ–å®ƒä»¬çš„æ€§èƒ½ã€‚ä»ç»´æŠ¤ä¸æˆæœ¬çš„è§’åº¦æ¥çœ‹ï¼Œæ¯ä¸ªæœåŠ¡éƒ½å¯ä»¥æŒ‰éœ€ç‹¬ç«‹åœ°æ‰©å±•ï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œå› ä¸ºå¦‚æœæœåŠ¡æ˜¯æºæ‚æ··åˆçš„ï¼Œåœ¨ä¸Šè¿°åœºæ™¯ä¸­ï¼Œä¸€ä¸ªæœåŠ¡ä¼šæ— æ„åœ°å½±å“å¦ä¸€ä¸ªæœåŠ¡çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè‹¥ä½ æœ‰ä¸¤ä¸ªä¸åŒçš„ç«¯ç‚¹ï¼Œé‚£ä¹ˆä¸Šè¿°ä¾‹å­èƒ½å¤Ÿå·¥ä½œå¾—å¾ˆå¥½ï¼ˆäº‹å®ä¸Šè¿™éå¸¸ç±»ä¼¼äºå¤šä¸ªäº‘å­˜å‚¨æä¾›å•†çš„å®ç°å’Œå†…å®¹åˆ†å‘ç½‘ç»œï¼‰ã€‚è™½ç„¶æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥è§£å†³è¿™ç±»ç“¶é¢ˆï¼Œä½†æ¯ä¸ªéƒ½æœ‰ä¸åŒçš„æƒè¡¡æŠ˜ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼ŒFlickré€šè¿‡å°†ç”¨æˆ·åˆ†æ•£åˆ°ä¸åŒçš„æ•°æ®åº“åˆ†ç‰‡ä¸Šæ¥è§£å†³è¿™ä¸ªè¯»/å†™é—®é¢˜ï¼Œè¿™æ ·æ¯ä¸ªæ•°æ®åº“åˆ†ç‰‡ä»…èƒ½å¤Ÿå¤„ç†ä¸€å®šæ•°é‡çš„ç”¨æˆ·ï¼Œå¹¶ä¸”éšç€ç”¨æˆ·çš„å¢åŠ ï¼Œå¯ä»¥æ·»åŠ æ›´å¤šçš„æ•°æ®åº“åˆ†ç‰‡åˆ°æœåŠ¡å™¨é›†ç¾¤ä¸­ï¼ˆè§å…³äºFlickræ‰©å±•å·¥ä½œçš„æ¼”ç¤ºæ–‡ç¨¿ï¼š&lt;a href="http://mysqldba.blogspot.com/2008/04/mysql-uc-2007-presentation-file.html"&gt;http://mysqldba.blogspot.com/2008/04/mysql-uc-2007-presentation-file.html&lt;/a&gt;ï¼ˆå¢™å¤–ï¼‰ï¼‰ã€‚åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼ŒåŸºäºå®é™…ä½¿ç”¨è¯·æ±‚ï¼Œæ‰©å±•ç¡¬ä»¶æ›´å®¹æ˜“ï¼ŒFlickråˆ™æ˜¯éšç€ç”¨æˆ·ç¾¤çš„å˜åŒ–è¿›è¡Œæ‰©å±•ï¼ˆä½†è¦æ±‚å‡è®¾åœ¨ç”¨æˆ·ä¹‹é—´çš„ä½¿ç”¨æƒ…å†µå‡è¡¡ï¼Œä»è€Œå¯ä»¥æ·»åŠ é¢å¤–çš„å®¹é‡ï¼‰ã€‚å¯¹äºå‰è€…ï¼Œå¦‚æœä¸€ä¸ªæœåŠ¡å­˜åœ¨æ•…éšœæˆ–é—®é¢˜ï¼Œå°±ä¼šå‰Šå¼±æ•´ä¸ªç³»ç»Ÿçš„åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼Œæ²¡äººå¯ä»¥å†™æ–‡ä»¶ï¼‰ï¼Œä½†è‹¥Flickrçš„ä¸€ä¸ªæ•°æ®åº“åˆ†ç‰‡å­˜åœ¨æ•…éšœåˆ™ä»…å½±å“ä½¿ç”¨è¯¥åˆ†ç‰‡çš„ç”¨æˆ·ã€‚ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œå¯¹æ•´ä¸ªæ•°æ®é›†æ‰§è¡Œæ“ä½œæ›´æ–¹ä¾¿---ä¾‹å¦‚ï¼Œæ›´æ–°å†™æ“ä½œæœåŠ¡ä»¥åŒ…å«æ–°çš„å…ƒæ•°æ®æˆ–åœ¨æ‰€æœ‰å›¾ç‰‡å…ƒæ•°æ®ä¸Šæœç´¢---å¯¹äºFlickrçš„æ¶æ„ï¼Œéœ€è¦æ›´æ–°æˆ–æœç´¢æ¯ä¸ªæ•°æ®åº“åˆ†ç‰‡ï¼ˆæˆ–è€…éœ€è¦åˆ›å»ºä¸€ä¸ªæœç´¢æœåŠ¡æ¥æ•´ç†å…ƒæ•°æ®---äº‹å®ä¸Šå®ƒä»¬ä¹Ÿè¿™ä¹ˆåšäº†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè¿™äº›ç³»ç»Ÿçš„è®¨è®ºå¹¶æ²¡æœ‰æ­£ç¡®çš„ç­”æ¡ˆï¼Œä½†å›å½’åˆ°æœ¬ç« å¼€å¤´å™è¿°çš„åŸåˆ™ï¼Œç¡®å®šç³»ç»Ÿçš„éœ€æ±‚ï¼ˆé¢‘ç¹è¯»æˆ–å†™æˆ–ä¸¤è€…çš†å¦‚æ­¤ï¼Œå¹¶å‘çº§åˆ«ï¼ŒæŸ¥è¯¢æ•´ä¸ªæ•°æ®é›†ï¼ŒèŒƒå›´ï¼Œæ’åºï¼Œç­‰ç­‰ã€‚ï¼‰ï¼ŒåŸºå‡†æµ‹è¯•ä¸åŒçš„æ–¹æ¡ˆé€‰æ‹©ï¼Œç†è§£ç³»ç»Ÿå¦‚ä½•ä¼šå¤±æ•ˆï¼Œä»¥åŠå‡†å¤‡ä¸€ä¸ªå¯é çš„è®¡åˆ’ä»¥åº”å¯¹æ•…éšœçš„å‘ç”Ÿæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;å†—ä½™&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†ä¼˜é›…åœ°å¤„ç†æ•…éšœï¼Œwebæ¶æ„å¿…é¡»å…·å¤‡å†—ä½™çš„æœåŠ¡å’Œæ•°æ®ã€‚ä¾‹å¦‚ï¼Œè‹¥æŸæ–‡ä»¶ä»…æœ‰ä¸€ä¸ªæ‹·è´å­˜å‚¨åœ¨å•ä¸ªæœåŠ¡å™¨ä¸Šï¼Œé‚£ä¹ˆå¤±å»è¯¥æœåŠ¡å™¨å³æ„å‘³ç€å¤±å»äº†è¯¥æ–‡ä»¶ã€‚ä¸¢å¤±æ•°æ®å¾ˆå°‘æ˜¯ä»¶å¥½äº‹ï¼Œå¤„ç†è¯¥é—®é¢˜çš„å¸¸è§æ–¹æ³•æ˜¯åˆ›å»ºå¤šä¸ªæˆ–è€…è¯´å†—ä½™çš„æ•°æ®æ‹·è´ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·çš„åŸåˆ™ä¹Ÿå¯åº”ç”¨äºæœåŠ¡ã€‚å¦‚æœåº”ç”¨ç¨‹åºçš„åŠŸèƒ½æœ‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œé‚£ä¹ˆç¡®ä¿åŒæ—¶è¿è¡Œå¤šä¸ªæ‹·è´æˆ–ç‰ˆæœ¬èƒ½å¤Ÿä½¿ç³»ç»Ÿå…äºå•ç‚¹æ•…éšœã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç³»ç»Ÿä¸­åˆ›å»ºå†—ä½™èƒ½å¤Ÿæ¶ˆé™¤å¯èƒ½å‘ç”Ÿæ•…éšœçš„å•ç‚¹ï¼Œä¸ºäº†ç¾éš¾æ¢å¤æä¾›å¤‡ä»½æˆ–å¤‡ç”¨çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç”Ÿäº§ä¸­è¿è¡Œç€ä¸¤ä¸ªç›¸åŒæœåŠ¡çš„å®ä¾‹ï¼Œå½“å…¶ä¸­ä¸€ä¸ªå‘ç”Ÿæ•…éšœæˆ–åŠŸèƒ½é€€åŒ–æ—¶ï¼Œç³»ç»Ÿèƒ½å¤Ÿå¤±æ•ˆ&lt;em&gt;å¤±æ•ˆè½¬ç§»&lt;/em&gt;åˆ°å¥å…¨å‰¯æœ¬ã€‚å¤±æ•ˆå¤‡æ´å¯ä»¥è‡ªåŠ¨å‘ç”Ÿæˆ–è€…æ‰‹åŠ¨ä»‹å…¥ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡å†—ä½™çš„å¦ä¸€å…³é”®éƒ¨åˆ†æ˜¯åˆ›å»ºä¸€ä¸ª&lt;em&gt;æ— å…±äº«(shared-nothing)çš„æ¶æ„&lt;/em&gt;ã€‚ä½¿ç”¨è¿™ç§æ¶æ„ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„è¿ç»´å·¥ä½œéƒ½èƒ½ç‹¬ç«‹äºå…¶å®ƒèŠ‚ç‚¹ï¼Œä¹Ÿæ²¡æœ‰ä¸­å¿ƒâ€œå¤§è„‘â€æ¥ç®¡ç†çŠ¶æ€æˆ–åè°ƒèŠ‚ç‚¹çš„è¡Œä¸ºã€‚è¿™æœ‰åŠ©äºæé«˜å¯æ‰©å±•æ€§ï¼Œå› ä¸ºä¸éœ€è¦ç‰¹æ®Šçš„æ¡ä»¶æˆ–äº†è§£å°±èƒ½æ·»åŠ æ–°çš„èŠ‚ç‚¹ã€‚ç„¶è€Œï¼Œæœ€é‡è¦çš„æ˜¯è¿™ç§ç³»ç»Ÿä¸ä¼šæœ‰å•ç‚¹æ•…éšœï¼Œå› æ­¤å¯¹äºæ•…éšœæ›´æœ‰å¼¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„å›¾ç‰‡æœåŠ¡å™¨åº”ç”¨ä¸­ï¼Œæ‰€æœ‰çš„å›¾ç‰‡éƒ½åœ¨å¦ä¸€å¤„ï¼ˆç†æƒ³æƒ…å†µæ˜¯åœ¨ä¸åŒçš„åœ°ç†ä½ç½®ï¼Œä»è€Œèƒ½å¤Ÿåº”å¯¹åœ°éœ‡æˆ–æ•°æ®ä¸­å¿ƒå‘ç”Ÿç«ç¾ä¸€ç±»çš„ç¾éš¾ï¼‰çš„ç¡¬ä»¶ä¸Šå­˜æ”¾ç€å†—ä½™çš„æ‹·è´ï¼Œæä¾›å›¾ç‰‡è®¿é—®çš„æœåŠ¡ä¹Ÿæ˜¯å†—ä½™çš„ï¼Œå‡æ½œåœ¨åœ°æœåŠ¡äºè¯·æ±‚ï¼ˆè§å›¾1.3.ï¼‰ï¼ˆè´Ÿè½½å‡è¡¡å™¨æ˜¯ä½¿å…¶æˆä¸ºå¯èƒ½çš„ä¸€ç§ç»ä½³æ–¹æ³•ï¼Œå°†åœ¨ä¸‹æ–‡è¯¦è¿°ï¼‰ã€‚
&lt;img src ="/assets/uploads/pics/imageHosting3.png" alt="imageHosting3.png"&gt;
&lt;center&gt;å›¾1.3ï¼šå…·å¤‡å†—ä½™çš„å›¾ç‰‡æ‰˜ç®¡åº”ç”¨&lt;/center&gt;&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;åˆ†åŒº&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;å¯èƒ½ä¼šå­˜åœ¨éå¸¸å¤§çš„æ•°æ®é›†æ— æ³•å­˜æ”¾åœ¨å•ä¸ªæœåŠ¡å™¨ä¸Šã€‚ä¹Ÿå¯èƒ½æŸä¸ªæ“ä½œéœ€è¦éå¸¸å¤šçš„è®¡ç®—èµ„æºï¼Œå¯¼è‡´æ€§èƒ½é™ä½ï¼Œéœ€è¦å¢å¼ºè®¡ç®—èƒ½åŠ›ã€‚å¯¹äºä»»ä¸€æƒ…å½¢ï¼Œä½ éƒ½æœ‰ä¸¤ç§é€‰æ‹©ï¼šçºµå‘æˆ–æ¨ªå‘æ‰©å±•ã€‚&lt;/p&gt;
&lt;p&gt;çºµå‘æ‰©å±•å³å¯¹å•ä¸ªæœåŠ¡å™¨æ·»åŠ æ›´å¤šçš„èµ„æºã€‚å› æ­¤å¯¹äºä¸€ä¸ªéå¸¸åºå¤§çš„æ•°æ®é›†æ¥è¯´ï¼Œè¿™æ„å‘³ç€å¢åŠ æ›´å¤šï¼ˆæˆ–æ›´å¤§çš„ï¼‰ç¡¬ç›˜ï¼Œä»è€Œå•ä¸ªæœåŠ¡å™¨èƒ½å¤Ÿå®¹çº³ä¸‹æ•´ä¸ªæ•°æ®é›†ã€‚å¯¹äºè®¡ç®—æ“ä½œè€Œè¨€ï¼Œè¿™æ„å‘³ç€å°†è®¡ç®—è¿ç§»åˆ°å…·å¤‡æ›´å¿«é€Ÿçš„CPUæˆ–æ›´å¤§çš„å†…å­˜ç©ºé—´çš„æ›´å¤§çš„æœåŠ¡å™¨ä¸Šã€‚ä»»ä¸€æƒ…å†µï¼Œéƒ½æ˜¯ä½¿å¾—å•ä¸ªæœåŠ¡å™¨çš„èµ„æºèƒ½å¤Ÿè‡ªå·±è§£å†³å¯¹äºæ›´å¤šèµ„æºçš„éœ€æ±‚é—®é¢˜ï¼Œå®ç°çºµå‘æ‰©å±•ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€æ–¹é¢ï¼Œæ¨ªå‘æ‰©å±•åˆ™æ˜¯æ·»åŠ æ›´å¤šçš„èŠ‚ç‚¹ã€‚é’ˆå¯¹å¤§æ•°æ®é›†çš„æƒ…å†µï¼Œè¿™å°±æ˜¯ä½¿ç”¨ç¬¬äºŒä¸ªæœåŠ¡å™¨æ¥å­˜å‚¨æ•°æ®é›†çš„ä¸€éƒ¨åˆ†ï¼Œå¯¹äºè®¡ç®—èµ„æºè€Œè¨€ï¼Œè¿™æ„å‘³ç€å°†æ“ä½œæˆ–è´Ÿè½½åˆ†å‰²åˆ°é¢å¤–çš„èŠ‚ç‚¹ã€‚ä¸ºäº†å……åˆ†åˆ©ç”¨æ¨ªå‘æ‰©å±•ï¼Œåº”å°†å…¶ä½œä¸ºç³»ç»Ÿæ¶æ„çš„ä¸€ç§æœ¬è´¨çš„è®¾è®¡åŸåˆ™ï¼Œå¦åˆ™ä¸ºå®ç°æ¨ªå‘æ‰©å±•è€Œä¿®æ”¹ç³»ç»Ÿæˆ–åˆ†å‰²ä¸Šä¸‹æ–‡ä¼šç›¸å½“éº»çƒ¦ã€‚&lt;/p&gt;
&lt;p&gt;è¯´åˆ°æ¨ªå‘æ‰©å±•ï¼Œä¸€ç§æ›´å¸¸è§çš„æŠ€æœ¯æ˜¯å¯¹æœåŠ¡è¿›è¡Œåˆ†åŒºï¼Œæˆ–åˆ†å—ã€‚åˆ†åŒºå¯ä»¥æ˜¯åˆ†å¸ƒå¼çš„ï¼Œè¿™æ ·é€»è¾‘åŠŸèƒ½é›†ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼›å¯ä»¥é€šè¿‡åœ°ç†è¾¹ç•Œï¼Œæˆ–å…¶ä»–æ ‡å‡†ï¼ˆå¦‚éä»˜è´¹ç”¨æˆ· VS. ä»˜è´¹ç”¨æˆ·ï¼‰æ¥å®ç°ã€‚è¿™äº›æ–¹æ¡ˆçš„ä¼˜åŠ¿æ˜¯å¯ä»¥æä¾›æ›´å¼ºçš„æœåŠ¡æˆ–æ•°æ®å­˜å‚¨èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬çš„å›¾ç‰‡æœåŠ¡å™¨ä¾‹å­ä¸­ï¼Œ&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="åˆ†å¸ƒå¼ç³»ç»Ÿ"></category><category term="ç¿»è¯‘"></category></entry><entry><title>ç²¾å¿ƒæŒ‘é€‰çš„æ•°æ®å¯è§†åŒ–å·¥å…·æ¨èåˆ—è¡¨ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/01/15/a-carefully-selected-list-of-recommended-tools/" rel="alternate"></link><published>2013-01-15T00:00:00+08:00</published><updated>2013-01-15T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-15:/2013/01/15/a-carefully-selected-list-of-recommended-tools/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š &lt;a href="http://datavisualization.ch/tools/selected-tools/"&gt;A Carefully Selected List of Recommended Tools&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å½“æˆ‘å’Œå¾ˆå¤šäººè°ˆè®ºæˆ‘ä»¬çš„å·¥ä½œæ—¶ï¼Œç»å¸¸è¢«é—®åˆ°æˆ‘ä»¬ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯å®ç°äº¤äº’å¼å’ŒåŠ¨æ€çš„æ•°æ® â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š &lt;a href="http://datavisualization.ch/tools/selected-tools/"&gt;A Carefully Selected List of Recommended Tools&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å½“æˆ‘å’Œå¾ˆå¤šäººè°ˆè®ºæˆ‘ä»¬çš„å·¥ä½œæ—¶ï¼Œç»å¸¸è¢«é—®åˆ°æˆ‘ä»¬ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯å®ç°äº¤äº’å¼å’ŒåŠ¨æ€çš„æ•°æ®å¯è§†åŒ–ã€‚å¯¹äºå®ç°äº¤äº’å¼çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬æœ‰ä¸€å¥—é¦–é€‰çš„ä»£ç åº“ã€åº”ç”¨ç¨‹åºä»¥åŠæœåŠ¡ï¼Œåœ¨å·¥ä½œä¸­ç»å¸¸ä½¿ç”¨ã€‚æ ¹æ®é¡¹ç›®çš„éœ€æ±‚ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©æœ€åˆé€‚çš„å·¥å…·æ¥å®Œæˆå·¥ä½œã€‚æœ‰æ—¶ï¼Œä¸ºæ„å»ºæŸäº›æœ‰ç”¨çš„ä¸œè¥¿ä½ æ‰€éœ€è¦çš„å¯èƒ½å°±æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å·¥å…·ã€‚åœ¨åˆ«çš„æƒ…å†µä¸‹ï¼Œåˆ™å¯èƒ½éœ€è¦ä¸€å¥—ç”¨äºè§£å†³å¤šç§é—®é¢˜çš„å·¥å…·é›†ã€‚ä½†æ˜¯å¦‚ä½•é€‰æ‹©æ°å½“çš„å·¥å…·å‘¢ï¼Ÿå¯ç”¨çš„å·¥å…·æ•°éƒ½æ•°ä¸æ¸…ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™æœ‹å‹çš„æ¨èéå¸¸æœ‰ä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦å°†ä½¿ç”¨å¾—æœ€å¤šå¹¶ä¸”å–œæ¬¢ä½¿ç”¨çš„å·¥å…·æ±‡é›†èµ·æ¥ã€‚æˆ‘ä»¬å°†è¿™ä¸ªç²¾é€‰å·¥å…·é›†ç§°ä¸º&lt;strong&gt;&lt;a href="http://selection.datavisualization.ch/"&gt;selection.datavisualization.ch&lt;/a&gt;&lt;/strong&gt; ã€‚å®ƒåŒ…å«ç»˜åˆ¶åœ°å›¾æ•°æ®çš„ä»£ç åº“ï¼Œåˆ›å»ºå›¾è¡¨çš„æ¡†æ¶ï¼Œä»¥åŠç®€åŒ–æ•°æ®å¤„ç†çš„å·¥å…·ã€‚å³ä½¿ä½ ä¸å–œæ¬¢ç¼–ç¨‹ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å†™ä¸€è¡Œä»£ç å°±èƒ½ä½¿ç”¨æŸäº›åº”ç”¨ã€‚æˆ‘ä»¬ä¼šå°†è¯¥å·¥å…·åˆ—è¡¨çœ‹ä½œä¸€ä¸ªåŠ¨æ€å˜åŒ–çš„ä»“åº“ï¼Œéšç€æŠ€æœ¯å‘å±•å¢åˆ æŸäº›ä¸œè¥¿ã€‚æˆ‘ä»¬å¸Œæœ›è¿™èƒ½å¸®åŠ©ä½ ä¸ºä¸‹ä¸€ä¸ªå·¥ä½œä»»åŠ¡æ‰¾åˆ°æœ€ä½³çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://selection.datavisualization.ch"&gt;&lt;img alt="datavisualization_selection" src="http://datavisualization.ch/wp-content/uploads/2012/05/datavisualization_selection_021.png"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘æ¥å›ç­”ä¸€äº›ä½ æœ€å¯èƒ½ä¼šé—®çš„é—®é¢˜ï¼šä¸ï¼Œè¯¥åˆ—è¡¨å¹¶æ²¡æœ‰æ”¶å½•æ‰€æœ‰ç›¸å…³å·¥å…·ï¼Œæ‰€ä»¥ä½ å¯èƒ½æ²¡çœ‹åˆ°ä½ ä¸ªäººå–œæ¬¢çš„ã€‚æ˜¯çš„ï¼Œå…¶ä¸­æåˆ°çš„æŸäº›åº“åˆšåˆšå…´èµ·ï¼Œå¯èƒ½è¿˜æ²¡åˆ°å¯ä»¥åº”ç”¨äºäº§å“çš„æ—¶å€™ï¼Œè€Œå¦ä¸€äº›åº“ä¹Ÿå·²ç»æœ‰äº†æ›¿ä»£è€…ï¼Œä½†å®ƒä»¬ä»ç„¶å¯ä»¥æä¾›è‰¯å¥½çš„æœåŠ¡ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æ•°æ®å¯è§†åŒ–"></category><category term="ç¿»è¯‘"></category></entry><entry><title>github pagesæ„å»ºå¤±è´¥é—®é¢˜è§£å†³</title><link href="http://youngsterxyf.github.io/2013/01/08/fix-github-pages-builds-failed/" rel="alternate"></link><published>2013-01-08T00:00:00+08:00</published><updated>2013-01-08T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-08:/2013/01/08/fix-github-pages-builds-failed/</id><summary type="html">&lt;p&gt;ä»Šå¤©ä¸ºæœ¬åšå®¢æäº¤æ›´æ–°åï¼Œgithub
pagesè‡ªåŠ¨æ„å»ºå§‹ç»ˆä¸æˆåŠŸã€‚åŸä»¥ä¸ºæ˜¯æ–°æäº¤ä¸­å¼•å…¥äº†é”™è¯¯ï¼Œäºæ˜¯æŒ‰ç…§&lt;a href="/2013/01/08/git-cancel-commits/"&gt;Gitæ“ä½œï¼šå¼ºåˆ¶åˆ é™¤æäº¤åˆ°è¿œç¨‹ç‰ˆæœ¬åº“çš„æ•°æ®ä¸ç‰ˆæœ¬è®° â€¦&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;ä»Šå¤©ä¸ºæœ¬åšå®¢æäº¤æ›´æ–°åï¼Œgithub
pagesè‡ªåŠ¨æ„å»ºå§‹ç»ˆä¸æˆåŠŸã€‚åŸä»¥ä¸ºæ˜¯æ–°æäº¤ä¸­å¼•å…¥äº†é”™è¯¯ï¼Œäºæ˜¯æŒ‰ç…§&lt;a href="/2013/01/08/git-cancel-commits/"&gt;Gitæ“ä½œï¼šå¼ºåˆ¶åˆ é™¤æäº¤åˆ°è¿œç¨‹ç‰ˆæœ¬åº“çš„æ•°æ®ä¸ç‰ˆæœ¬è®°å½•&lt;/a&gt;çš„æ–¹æ³•å–æ¶ˆäº†æ‰€æœ‰çš„æ›´æ–°ï¼Œä½†ä¾æ—§æ²¡ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæ„å»ºçš„ç»“æœé‚®ä»¶ä¸­åªæœ‰è¿™æ ·ä¸€æ®µè¯ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The page build failed with the following error: page build failed&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…³äºæ„å»ºå¤±è´¥çš„åŸå› ä¸€ä¸ç‚¹éƒ½æ²¡æœ‰å‘Šè¯‰æˆ‘ä»¬ï¼Œæ‰€ä»¥æ ¹æœ¬æ²¡æ³•è°ƒè¯•å˜›ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é˜…è¯»githubçš„å®˜æ–¹å¸®åŠ©æ–‡æ¡£&lt;a href="https://help.github.com/articles/pages-don-t-build-unable-to-run-jekyll"&gt;Pages don't build: "Unable to run Jekyll"&lt;/a&gt;åï¼Œå†³å®šæŒ‰ç…§å…¶ä¸­Syntax errorséƒ¨åˆ†çš„å†…å®¹åšå¦‚ä¸‹å°è¯•ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼ŒæŒ‰ç…§&lt;a href="https://github.com/mojombo/jekyll/wiki/install"&gt;jekyllçš„å®˜æ–¹å®‰è£…æ–‡æ¡£&lt;/a&gt;å®‰è£…jekyllï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo gem install jekyll
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åï¼Œåœ¨åšå®¢çš„æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;jekyll --safe
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‘½ä»¤ä¼šè¾“å‡ºè¯¦ç»†çš„ä¿¡æ¯ï¼Œå¦‚æœæ„å»ºå¤±è´¥ï¼Œåˆ™åœ¨è¾“å‡ºçš„ä¿¡æ¯ä¸­æŸ¥æ‰¾é”™è¯¯åŸå› ï¼Œæ¯”å¦‚æœ¬åšå®¢æ„å»ºå¤±è´¥çš„åŸå› å‡ºåœ¨æ–‡ç« çš„å¤´éƒ¨æ·»åŠ äº†å¦‚ä¸‹ç±»ä¼¼çš„æ ‡è®°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;category:
    - Algorithms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯¼è‡´ä¹‹åä¸€è¡Œçš„tagsæ ‡è®°æ•°æ®åœ¨æ„å»ºæ—¶å‡ºé”™ã€‚æˆ‘ç›´æ¥å°†æ¯æ¬¡æ‰§è¡Œæ„å»º &lt;code&gt;jekyll --safe&lt;/code&gt;
æç¤ºçš„é”™è¯¯ä¿¡æ¯ä¸­ç›¸å…³çš„categoryæ ‡è®°ç›´æ¥åˆ é™¤(ä¹Ÿè®¸å…¶ååŠ ä¸ªç©ºè¡Œå°±å¯ä»¥äº†ï¼Œæ²¡å°è¯•è¿‡)ï¼Œç„¶åé‡æ–°æ‰§è¡Œæ„å»ºï¼Œä¾æ¬¡å¾ªç¯ï¼Œç›´åˆ°æ„å»ºæˆåŠŸã€‚ç„¶åå°†æ•°æ®æäº¤åˆ°è¿œç¨‹ç‰ˆæœ¬åº“ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºjekyllæœ¬åœ°æ„å»ºæ—¶è¾“å‡ºçš„ä¿¡æ¯ä¹Ÿæ¯”è¾ƒéšæ™¦ï¼Œå¾ˆéš¾ä¸€ä¸‹å­æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ã€‚æ¯”å¦‚æç¤º
&lt;code&gt;Algorithms&lt;/code&gt; å…ƒç´ æ„å»ºå‡ºé”™ï¼Œ&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;Not creating a link for ref_id = &amp;quot;0&amp;quot;.Liquid Exception: undefined method `gsub&amp;#39; for [&amp;quot;Algorithms&amp;quot;]:Array in post
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½†æ²¡è¯´æ˜¯å“ªç¯‡æ–‡ç« çš„å“ªä¸€è¡Œï¼Œæ²¡åŠæ³•åªå¥½ä½¿ç”¨grepæŸ¥æ‰¾ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;grep Algorithms _posts/*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ‰¾å‡ºæ‰€æœ‰å­˜åœ¨Algorithmså•è¯çš„æ–‡ç« ï¼Œç„¶åé€ä¸ªæ–‡ç« æ‰“å¼€æŸ¥çœ‹ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="github"></category><category term="jekyll"></category></entry><entry><title>Gitæ“ä½œï¼šå¼ºåˆ¶åˆ é™¤æäº¤åˆ°è¿œç¨‹ç‰ˆæœ¬åº“çš„æ•°æ®ä¸ç‰ˆæœ¬è®°å½•</title><link href="http://youngsterxyf.github.io/2013/01/08/git-cancel-commits/" rel="alternate"></link><published>2013-01-08T00:00:00+08:00</published><updated>2013-01-08T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-08:/2013/01/08/git-cancel-commits/</id><summary type="html">&lt;p&gt;ä»Šå¤©å› ä¸ºæŸäº›å°šä¸æ˜äº†çš„é—®é¢˜å¯¼è‡´ï¼Œåšå®¢çš„Git pageså§‹ç»ˆæ„å»ºå¤±è´¥ï¼Œäºæ˜¯æƒ³åœ¨è¿œç¨‹ç‰ˆæœ¬åº“ä¸­åˆ é™¤å‰å‡ æ¬¡æäº¤ã€‚åœ¨&lt;a href="http://www.douban.com/note/189603387/"&gt;è¯¥ç½‘é¡µ&lt;/a&gt;ä¸Šæ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git â€¦&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;ä»Šå¤©å› ä¸ºæŸäº›å°šä¸æ˜äº†çš„é—®é¢˜å¯¼è‡´ï¼Œåšå®¢çš„Git pageså§‹ç»ˆæ„å»ºå¤±è´¥ï¼Œäºæ˜¯æƒ³åœ¨è¿œç¨‹ç‰ˆæœ¬åº“ä¸­åˆ é™¤å‰å‡ æ¬¡æäº¤ã€‚åœ¨&lt;a href="http://www.douban.com/note/189603387/"&gt;è¯¥ç½‘é¡µ&lt;/a&gt;ä¸Šæ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git reset --hard HEAD~2                   &lt;span style="color: #008000"&gt;# å–æ¶ˆå½“å‰ç‰ˆæœ¬ä¹‹å‰çš„ä¸¤æ¬¡æäº¤&lt;/span&gt;
git push origin HEAD --force              &lt;span style="color: #008000"&gt;# å¼ºåˆ¶æäº¤åˆ°è¿œç¨‹ç‰ˆæœ¬åº“ï¼Œä»è€Œåˆ é™¤ä¹‹å‰çš„ä¸¤æ¬¡æäº¤æ•°æ®&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Git"></category><category term="ç‰ˆæœ¬æ§åˆ¶"></category></entry><entry><title>è£…é¥°å™¨ä¸å‡½æ•°å¼Pythonï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/01/04/Decorators-and-Functional-Python/" rel="alternate"></link><published>2013-01-04T00:00:00+08:00</published><updated>2013-01-04T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-04:/2013/01/04/Decorators-and-Functional-Python/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://www.brianholdefehr.com/decorators-and-functional-python"&gt;Decorators and Functional Python&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è£…é¥°å™¨æ˜¯Pythonçš„ä¸€å¤§ç‰¹è‰²ã€‚é™¤äº†åœ¨è¯­è¨€ä¸­çš„åŸæœ¬ç”¨å¤„ï¼Œè¿˜å¸®åŠ©æˆ‘ä»¬ä»¥ä¸€ç§æœ‰è¶£çš„æ–¹å¼ï¼ˆå‡½æ•°å¼ï¼‰è¿›è¡Œæ€è€ƒã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ‰“ç®—è‡ªåº• â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://www.brianholdefehr.com/decorators-and-functional-python"&gt;Decorators and Functional Python&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è£…é¥°å™¨æ˜¯Pythonçš„ä¸€å¤§ç‰¹è‰²ã€‚é™¤äº†åœ¨è¯­è¨€ä¸­çš„åŸæœ¬ç”¨å¤„ï¼Œè¿˜å¸®åŠ©æˆ‘ä»¬ä»¥ä¸€ç§æœ‰è¶£çš„æ–¹å¼ï¼ˆå‡½æ•°å¼ï¼‰è¿›è¡Œæ€è€ƒã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ‰“ç®—è‡ªåº•å‘ä¸Šè§£é‡Šè£…é¥°å™¨å¦‚ä½•å·¥ä½œã€‚é¦–å…ˆè§£é‡Šå‡ ä¸ªè¯é¢˜ä»¥å¸®åŠ©ç†è§£è£…é¥°å™¨ã€‚ç„¶åï¼Œæ·±å…¥ä¸€ç‚¹æ¢ç´¢å‡ ä¸ªç®€å•çš„è£…é¥°å™¨ä»¥åŠå®ƒä»¬å¦‚ä½•å·¥ä½œã€‚æœ€åï¼Œè®¨è®ºä¸€äº›æ›´é«˜çº§çš„ä½¿ç”¨è£…é¥°å™¨çš„æ–¹å¼ï¼Œæ¯”å¦‚ï¼šä¼ é€’å¯é€‰å‚æ•°ç»™è£…é¥°å™¨æˆ–è€…ä¸²æ¥å‡ ä¸ªè£…é¥°å™¨ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä»¥æˆ‘èƒ½æƒ³åˆ°çš„æœ€ç®€å•çš„æ–¹å¼æ¥å®šä¹‰Pythonå‡½æ•°æ˜¯ä»€ä¹ˆã€‚åŸºäºè¯¥å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ç±»ä¼¼çš„ç®€å•æ–¹å¼æ¥å®šä¹‰è£…é¥°å™¨ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å‡½æ•°æ˜¯ä¸€ä¸ªå®Œæˆç‰¹å®šä»»åŠ¡çš„å¯å¤ç”¨ä»£ç å—ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¥½çš„ï¼Œé‚£ä¹ˆè£…é¥°å™¨åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è£…é¥°å™¨æ˜¯ä¸€ä¸ªä¿®æ”¹å…¶ä»–å‡½æ•°çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç°åœ¨åœ¨è£…é¥°å™¨çš„å®šä¹‰ä¸Šè¿›è¡Œè¯¦è¿°ï¼Œå…ˆè§£é‡Šä¸€äº›å…ˆå†³æ¡ä»¶ã€‚&lt;/p&gt;
&lt;h2&gt;å‡½æ•°æ˜¯ä¸€ç­‰å¯¹è±¡&lt;/h2&gt;
&lt;p&gt;Pythonä¸­ï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯å¯¹è±¡ã€‚è¿™æ„å‘³ç€å¯ä»¥é€šè¿‡åå­—å¼•ç”¨å‡½æ•°ï¼Œä»¥åŠåƒå…¶ä»–å¯¹è±¡é‚£æ ·ä¼ é€’ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; traveling_function():
    print &lt;span style="color: #a31515"&gt;&amp;quot;Here I am!&amp;quot;&lt;/span&gt;

function_dict = {
    &lt;span style="color: #a31515"&gt;&amp;quot;func&amp;quot;&lt;/span&gt;: traveling_function
}

trav_func = function_dict[&lt;span style="color: #a31515"&gt;&amp;#39;func&amp;#39;&lt;/span&gt;]
trav_func()
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; Here I am!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;traveling_function&lt;/code&gt; è¢«èµ‹å€¼ç»™ &lt;code&gt;function_dict&lt;/code&gt; å­—å…¸ä¸­é”® &lt;code&gt;func&lt;/code&gt; çš„å€¼ï¼Œä»æ—§å¯ä»¥æ­£å¸¸è°ƒç”¨ã€‚&lt;/p&gt;
&lt;h2&gt;ä¸€ç­‰å‡½æ•°å…è®¸é«˜é˜¶å‡½æ•°&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥åƒå…¶ä»–å¯¹è±¡é‚£æ ·ä¼ é€’å‡½æ•°ã€‚å¯ä»¥å°†å‡½æ•°ä½œä¸ºå€¼ä¼ é€’ç»™å­—å…¸ï¼Œæ”¾åœ¨åˆ—è¡¨ä¸­ï¼Œæˆ–è€…ä½œä¸ºå¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼ã€‚é‚£ä¸ºä»€ä¹ˆä¸èƒ½ä½œä¸ºå‚æ•°ä¼ ç»™å¦ä¸€ä¸ªå‡½æ•°å‘¢ï¼Ÿå½“ç„¶å¯ä»¥ï¼å¦‚æœä¸€ä¸ªå‡½æ•°æ¥å—å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå…¶å‚æ•°æˆ–è€…è¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; self_absorbed_function():
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;I&amp;#39;m an amazing function!&amp;quot;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; printer(func):
    print &lt;span style="color: #a31515"&gt;&amp;quot;The function passed to me says: &amp;quot;&lt;/span&gt; + func()

&lt;span style="color: #008000"&gt;# Call `printer` and give it `self_absorbed_function` as an argument&lt;/span&gt;
printer(self_absorbed_function)
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt;&amp;gt; The function passed to me says: I&amp;#39;m an amazing function!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç°åœ¨ä½ ä¹Ÿçœ‹åˆ°å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°ä¼ ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸”ä¼ ç»™å‡½æ•°çš„å‡½æ•°è¿˜å¯ä»¥è°ƒç”¨ã€‚è¿™å…è®¸æˆ‘ä»¬åˆ›å»ºä¸€äº›æœ‰æ„æ€çš„å‡½æ•°ï¼Œä¾‹å¦‚è£…é¥°å™¨ã€‚&lt;/p&gt;
&lt;h2&gt;è£…é¥°å™¨åŸºç¡€&lt;/h2&gt;
&lt;p&gt;æœ¬è´¨ä¸Šï¼Œè£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªä»¥å¦ä¸€ä¸ªå‡½æ•°ä¸ºå‚æ•°çš„å‡½æ•°ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒä»¬ä¼šè¿”å›æ‰€åŒ…è£…å‡½æ•°çš„ä¸€ä¸ªä¿®æ”¹ç‰ˆæœ¬ã€‚æ¥çœ‹ä¸ªæˆ‘ä»¬èƒ½æƒ³åˆ°çš„æœ€ç®€å•çš„è£…é¥°å™¨---åŒä¸€æ€§ï¼ˆidentityï¼‰è£…é¥°å™¨ï¼Œæˆ–è®¸å¯¹æˆ‘ä»¬ç†è§£è£…é¥°å™¨çš„å·¥ä½œåŸç†æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; identity_decorator(func):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; wrapper():
        func()
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; wrapper

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; a_function():
    print &lt;span style="color: #a31515"&gt;&amp;quot;I&amp;#39;m a normal function.&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# `decorated_function` æ˜¯ `identity_function` è¿”å›çš„å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯åµŒå¥—å‡½æ•° `wrapper`&lt;/span&gt;
decorated_function = identity_function(a_function)

&lt;span style="color: #008000"&gt;# å¦‚ä¸‹è°ƒç”¨ `identity_function` è¿”å›çš„å‡½æ•°&lt;/span&gt;
decorated_function()
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt;&amp;gt; I&amp;#39;m a normal function&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œï¼Œ &lt;code&gt;identity_decorator&lt;/code&gt;
æ ¹æœ¬æ²¡æœ‰ä¿®æ”¹å®ƒåŒ…è£…çš„å‡½æ•°ï¼Œåªæ˜¯ç®€å•åœ°è¿”å›ä¸€ä¸ªå‡½æ•°ï¼ˆwrapperï¼‰ï¼Œè¿™ä¸ªå‡½æ•°åœ¨è¢«è°ƒç”¨ä¹‹æ—¶ï¼Œä¼šå»è°ƒç”¨åŸæ¥ä½œä¸º &lt;code&gt;identity_decorator&lt;/code&gt; å‚æ•°çš„å‡½æ•°ã€‚è¿™æ˜¯ä¸ªæ²¡æœ‰ç”¨å¤„çš„è£…é¥°å™¨ï¼&lt;/p&gt;
&lt;p&gt;å…³äº &lt;code&gt;identity_decorator&lt;/code&gt; çš„æœ‰è¶£ä¹‹å¤„æ˜¯ &lt;code&gt;wrapper&lt;/code&gt; èƒ½å¤Ÿè®¿é—®å˜é‡ &lt;code&gt;func&lt;/code&gt; ï¼Œå³ä½¿
&lt;code&gt;func&lt;/code&gt; å¹¶éæ˜¯å®ƒçš„å‚æ•°ã€‚è¿™å½’å› äºé—­åŒ…ã€‚&lt;/p&gt;
&lt;h2&gt;é—­åŒ…&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;é—­åŒ…æ˜¯ä¸€ä¸ªèŠ±å“¨çš„æœ¯è¯­ï¼Œæ„ä¸ºå£°æ˜ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°ä¼šç»´æŒä¸€ä¸ªæŒ‡å‘å£°æ˜æ‰€å¤„è¯æ³•ç¯å¢ƒçš„å¼•ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸Šä¾‹ä¸­å®šä¹‰çš„å‡½æ•° &lt;code&gt;wrapper&lt;/code&gt; èƒ½å¤Ÿåœ¨å…¶å±€éƒ¨ä½œç”¨åŸŸï¼ˆlocal scopeï¼‰ä¸­è®¿é—®
&lt;code&gt;func&lt;/code&gt;ã€‚è¿™æ„å‘³ç€åœ¨ &lt;code&gt;wrapper&lt;/code&gt; ï¼ˆè¿”å›å¹¶èµ‹å€¼ç»™å˜é‡ &lt;code&gt;decorated_function&lt;/code&gt; ï¼‰çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ï¼Œå®ƒéƒ½å¯ä»¥è®¿é—® &lt;code&gt;func&lt;/code&gt; å˜é‡ã€‚ä¸€æ—¦ &lt;code&gt;identity_decorator&lt;/code&gt;è¿”å›ï¼Œé‚£ä¹ˆè®¿é—® &lt;code&gt;func&lt;/code&gt; çš„å”¯ä¸€æ–¹å¼å°±æ˜¯é€šè¿‡ &lt;code&gt;decorated_function&lt;/code&gt; ã€‚ &lt;code&gt;func&lt;/code&gt; åªä½œä¸ºä¸€ä¸ªå˜é‡å­˜åœ¨äº &lt;code&gt;decorated_function&lt;/code&gt; ä½œç”¨åŸŸç¯å¢ƒçš„å†…éƒ¨ã€‚&lt;/p&gt;
&lt;h2&gt;ä¸€ä¸ªç®€å•çš„è£…é¥°å™¨&lt;/h2&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªç¡®å®æœ‰ç‚¹ç”¨çš„è£…é¥°å™¨ã€‚è¿™ä¸ªè£…é¥°å™¨æ‰€åšçš„å°±æ˜¯è®°å½•å®ƒæ‰€ä¿®æ”¹çš„å‡½æ•°è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; logging_decorator(func):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; wrapper():
        wrapper.count += 1
        print &lt;span style="color: #a31515"&gt;&amp;quot;The function I modify has been called {0} time(s)&amp;quot;&lt;/span&gt;.format(wrapper.count)
        func()
    wrapper.count = 0
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; wrapper

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; a_function():
    print &lt;span style="color: #a31515"&gt;&amp;quot;I&amp;#39;m a normal function.&amp;quot;&lt;/span&gt;

modified_function = logging_decorator(a_function)

modified_function()
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt;&amp;gt; The function I modify has been called 1 time(s).&lt;/span&gt;
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt;&amp;gt; I&amp;#39;m a normal function.&lt;/span&gt;

modified_function()
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt;&amp;gt; The function I modify has been called 2 time(s).&lt;/span&gt;
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt;&amp;gt; I&amp;#39;m a normal function.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬è¯´è£…é¥°å™¨ä¼šä¿®æ”¹å‡½æ•°ï¼Œè¿™æ ·æ¥æƒ³å¯¹ç†è§£ä¹Ÿæ˜¯æœ‰å¸®åŠ©çš„ã€‚ä½†å¦‚ä¾‹å­æ‰€è§ï¼Œ
&lt;code&gt;logging_decorator&lt;/code&gt; è¿”å›çš„æ˜¯ä¸€ä¸ªç±»ä¼¼äº &lt;code&gt;a_function&lt;/code&gt;
çš„æ–°å‡½æ•°ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ªæ—¥å¿—ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šä¾‹ä¸­ï¼Œ &lt;code&gt;logging_decorator&lt;/code&gt; ä¸ä»…æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œ
&lt;code&gt;wrapper&lt;/code&gt; ã€‚æ¯æ¬¡ &lt;code&gt;logging_decorator&lt;/code&gt; è¿”å›çš„å‡½æ•°å¾—åˆ°è°ƒç”¨ï¼Œå®ƒå°±å¯¹ &lt;code&gt;wrapper.count&lt;/code&gt; çš„å€¼åŠ 1ï¼Œæ‰“å°å‡ºæ¥ï¼Œç„¶åè°ƒç”¨ &lt;code&gt;logging_decorator&lt;/code&gt; åŒ…è£…çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä½ ä¹Ÿè®¸æ­£ç–‘æƒ‘ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„è®¡æ•°å™¨æ˜¯ &lt;code&gt;wrapper&lt;/code&gt; çš„ä¸€ä¸ªå±æ€§è€Œä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„å˜é‡ã€‚éš¾é“ &lt;code&gt;wrapper&lt;/code&gt; çš„é—­åŒ…ç¯å¢ƒä¸æ˜¯è®©æˆ‘ä»¬è®¿é—®åœ¨å…¶å±€éƒ¨ä½œç”¨åŸŸä¸­å£°æ˜çš„ä»»æ„å˜é‡ä¹ˆï¼Ÿæ˜¯çš„ï¼Œä½†æœ‰ä¸ªé—®é¢˜ã€‚Pythonä¸­ï¼Œé—­åŒ…å…è®¸å¯¹å…¶å‡½æ•°ä½œç”¨åŸŸé“¾ä¸­ä»»ä¸€å˜é‡çš„è¿›è¡Œä»»æ„è¯»æ“ä½œï¼Œä½†åªå…è®¸å¯¹å¯å˜å¯¹è±¡ï¼ˆåˆ—è¡¨ã€å­—å…¸ã€ç­‰ç­‰ï¼‰è¿›è¡Œå†™æ“ä½œã€‚æ•´æ•°åœ¨Pythonä¸­æ˜¯éå¯å˜å¯¹è±¡ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½ä¿®æ”¹ &lt;code&gt;wrapper&lt;/code&gt; å†…éƒ¨æ•´å‹å˜é‡çš„å€¼ã€‚ç›¸åï¼Œæˆ‘ä»¬å°†è®¡æ•°å™¨ä½œä¸º &lt;code&gt;wrapper&lt;/code&gt; çš„ä¸€ä¸ªå±æ€§---ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥éšæˆ‘ä»¬è‡ªå·±å¢å¤§å®ƒçš„å€¼ã€‚&lt;/p&gt;
&lt;h2&gt;è£…é¥°å™¨è¯­æ³•&lt;/h2&gt;
&lt;p&gt;åœ¨å‰ä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ ç»™è£…é¥°å™¨ï¼Œä»è€Œä½¿ç”¨è£…é¥°å™¨å‡½æ•°å¯¹è¯¥å‡½æ•°è¿›è¡ŒåŒ…è£…ã€‚ç„¶è€Œï¼ŒPythonè¿˜æœ‰ä¸€ä¸ªè¯­æ³•æ¨¡å¼ä½¿å¾—è¿™ä¸€åˆ‡æ›´åŠ ç›´è§‚ï¼Œæ›´å®¹æ˜“é˜…è¯»ï¼Œä¸€æ—¦ä½ ç†Ÿæ‚‰äº†è£…é¥°å™¨ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# In the previous example, we used our decorator function by passing the&lt;/span&gt;
&lt;span style="color: #008000"&gt;# function we wanted to modify to it, and assigning the result to a variable&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; some_function():
    print &lt;span style="color: #a31515"&gt;&amp;quot;I&amp;#39;m happiest when decorated.&amp;quot;&lt;/span&gt;

&lt;span style="color: #008000"&gt;# Here we will make the assigned variable the same name as the wrapped function&lt;/span&gt;
some_function = logging_decorator(some_function)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# We can achieve the exact same thing with this syntax:&lt;/span&gt;

@logging_decorator
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; some_function():
    print &lt;span style="color: #a31515"&gt;&amp;quot;I&amp;#39;m happiest when decorated&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½¿ç”¨è£…é¥°å™¨è¯­æ³•ï¼Œé¸Ÿç°å…¶ä¸­å‘ç”Ÿçš„äº‹æƒ…ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è§£é‡Šå™¨åˆ°è¾¾è¢«è£…é¥°çš„å‡½æ•°ï¼Œç¼–è¯‘ &lt;code&gt;some_function&lt;/code&gt;ï¼Œå¹¶å°†å…¶å‘½åä¸º 'some_function'ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åå°†è¯¥å‡½æ•°ä¼ é€’ç»™è£…é¥°è¡Œä¸­æŒ‡å®šçš„è£…é¥°å™¨å‡½æ•°ï¼ˆ &lt;code&gt;logging_function&lt;/code&gt; ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è£…é¥°å™¨å‡½æ•°ï¼ˆé€šå¸¸æ˜¯ç”¨æ¥åŒ…è£…åŸå‡½æ•°çš„å¦ä¸€ä¸ªå‡½æ•°ï¼‰çš„è¿”å›å€¼å–ä»£åŸæ¥çš„å‡½æ•°ï¼ˆ&lt;code&gt;some_function&lt;/code&gt; ï¼‰ï¼Œç»‘å®šåˆ°å˜é‡å &lt;code&gt;some_function&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å°†è¿™äº›æ­¥éª¤è®°ä½ï¼Œè®©æˆ‘ä»¬æ¥æ›´æ¸…æ™°åœ°è§£é‡Š &lt;code&gt;identity_decorator&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; identity_decorator(func):
    &lt;span style="color: #008000"&gt;# Everything here happens when the decorator LOADS and is passed&lt;/span&gt;
    &lt;span style="color: #008000"&gt;# the function as decribed in step 2 above&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; wrapper():
        &lt;span style="color: #008000"&gt;# Things here happen each time the final wrapped function gets CALLED&lt;/span&gt;
        func()
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; wrapper
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¸Œæœ›é‚£äº›æ³¨é‡Šæœ‰åŠ©äºç†è§£ã€‚æ¯æ¬¡è°ƒç”¨è¢«åŒ…è£…çš„å‡½æ•°ï¼Œä»…æ‰§è¡Œè£…é¥°å™¨è¿”å›çš„å‡½æ•°ä¸­çš„æŒ‡ä»¤ã€‚è¿”å›å‡½æ•°ä¹‹å¤–çš„æŒ‡ä»¤ä»…æ‰§è¡Œä¸€æ¬¡---ä¸Šè¿°æ­¥éª¤2ä¸­æè¿°çš„ï¼šè£…é¥°å™¨é¦–æ¬¡æ¥æ”¶åˆ°ä¼ é€’ç»™å®ƒçš„å¾…åŒ…è£…å‡½æ•°ä¹‹æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è§‚å¯Ÿæ›´å¤šçš„æœ‰æ„æ€çš„è£…é¥°å™¨ä¹‹å‰ï¼Œæˆ‘æƒ³å†è§£é‡Šä¸€æ ·ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;h2&gt;*argsä¸**kwargs&lt;/h2&gt;
&lt;p&gt;ä»¥å‰ä½ ä¹Ÿè®¸æœ‰æ—¶ä¼šæŠŠè¿™ä¸¤è€…ç›¸æ··æ·†äº†ã€‚è®©æˆ‘ä»¬ä¸€æ¬¡æ€§åœ°è®¨è®ºå®ƒä»¬ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡åœ¨å½¢å‚åˆ—è¡¨ä¸­ä½¿ç”¨ &lt;code&gt;*args&lt;/code&gt; è¯­æ³•ï¼Œpythonå‡½æ•°èƒ½å¤Ÿæ¥æ”¶å¯å˜æ•°é‡çš„ä½ç½®å‚æ•°(positional arguments)ã€‚ &lt;code&gt;*args&lt;/code&gt; ä¼šå°†æ‰€æœ‰æ²¡æœ‰å…³é”®å­—çš„å‚æ•°æ”¾å…¥ä¸€ä¸ªå‚æ•°å…ƒç»„ä¸­ï¼Œåœ¨å‡½æ•°é‡Œå¯ä»¥è®¿é—®å…ƒç»„ä¸­çš„å‚æ•°ã€‚ç›¸åï¼Œå°† &lt;code&gt;*args&lt;/code&gt; ç”¨äºå‡½æ•°è°ƒç”¨æ—¶çš„å®å‚åˆ—è¡¨ä¹‹æ—¶ï¼Œå®ƒä¼šå°†å‚æ•°å…ƒç»„å±•å¼€æˆä¸€ç³»åˆ—çš„ä½ç½®å‚æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; function_with_many_arguments(*args):
    print args

&lt;span style="color: #008000"&gt;# `args` within the function will be a tuple of any arguments we pass&lt;/span&gt;
&lt;span style="color: #008000"&gt;# which can be used within the function like any other tuple&lt;/span&gt;
function_with_many_arguments(&lt;span style="color: #a31515"&gt;&amp;#39;hello&amp;#39;&lt;/span&gt;, 123, &lt;span style="color: #0000ff"&gt;True&lt;/span&gt;)
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt;&amp;gt; (&amp;#39;hello&amp;#39;, 123, True)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; function_with_3_parameters(num, boolean, string):
    print &lt;span style="color: #a31515"&gt;&amp;quot;num is &amp;quot;&lt;/span&gt; + str(num)
    print &lt;span style="color: #a31515"&gt;&amp;quot;boolean is &amp;quot;&lt;/span&gt; + str(boolean)
    print &lt;span style="color: #a31515"&gt;&amp;quot;string is &amp;quot;&lt;/span&gt; + string

arg_list = [1, &lt;span style="color: #0000ff"&gt;False&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;decorators&amp;#39;&lt;/span&gt;]

&lt;span style="color: #008000"&gt;# arg_list will be expanded into 3 positional arguments by the `*` symbol&lt;/span&gt;
function_with_3_parameters(*arg_list)
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt;&amp;gt; num is 1&lt;/span&gt;
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt;&amp;gt; boolean is False&lt;/span&gt;
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt;&amp;gt; string is decorators&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é‡è¿°ä¸€éï¼šåœ¨å½¢å‚åˆ—è¡¨ä¸­ï¼Œ &lt;code&gt;*args&lt;/code&gt;ä¼šå°†ä¸€ç³»åˆ—çš„å‚æ•°å‹ç¼©è¿›ä¸€ä¸ªåä¸º'args'çš„å…ƒç»„ï¼Œè€Œåœ¨å®å‚åˆ—è¡¨ä¸­ï¼Œ &lt;code&gt;*args&lt;/code&gt; ä¼šå°†ä¸€ä¸ªå¯è¿­ä»£çš„å‚æ•°æ•°æ®ç»“æ„å±•å¼€ä¸ºä¸€ç³»åˆ—çš„ä½ç½®å®å‚åº”ç”¨äºå‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½ æ‰€è§åœ¨å®å‚å±•å¼€çš„ä¾‹å­ä¸­ï¼Œ &lt;code&gt;*&lt;/code&gt; ç¬¦å·å¯ä¸'args'ä¹‹å¤–çš„åå­—ä¸€èµ·ä½¿ç”¨ã€‚å½“å‹ç¼©/å±•å¼€ä¸€èˆ¬çš„å‚æ•°åˆ—è¡¨ï¼Œä½¿ç”¨ &lt;code&gt;*args&lt;/code&gt; çš„å½¢å¼ä»…ä»…æ˜¯ä¸€ç§æƒ¯ä¾‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;**kwargs&lt;/code&gt; ä¸ &lt;code&gt;*args&lt;/code&gt; çš„è¡Œä¸ºç±»ä¼¼ï¼Œä½†ç”¨äºå…³é”®å­—å‚æ•°è€Œéä½ç½®å‚æ•°ã€‚å¦‚æœåœ¨å‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­ä½¿ç”¨ &lt;code&gt;**kwargs&lt;/code&gt; ï¼Œå®ƒä¼šæ”¶é›†å‡½æ•°æ”¶åˆ°çš„æ‰€æœ‰é¢å¤–å…³é”®å­—å‚æ•°ï¼Œæ”¾å…¥ä¸€ä¸ªå­—å…¸ä¸­ã€‚å¦‚æœç”¨äºå‡½æ•°çš„å®å‚åˆ—è¡¨ï¼Œå®ƒä¼šå°†ä¸€ä¸ªå­—å…¸å±•å¼€ä¸ºä¸€ç³»åˆ—çš„å…³é”®å­—å‚æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; funtion_with_many_keyword_args(**kwargs):
    print kwargs

function_with_many_keyword_args(a=&lt;span style="color: #a31515"&gt;&amp;#39;apples&amp;#39;&lt;/span&gt;, b=&lt;span style="color: #a31515"&gt;&amp;#39;bananas&amp;#39;&lt;/span&gt;, c=&lt;span style="color: #a31515"&gt;&amp;#39;cantalopes&amp;#39;&lt;/span&gt;)
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; {&amp;#39;a&amp;#39;:&amp;#39;apples&amp;#39;, &amp;#39;b&amp;#39;:&amp;#39;bananas&amp;#39;, &amp;#39;c&amp;#39;:&amp;#39;cantalopes&amp;#39;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; multiply_name(count=0, name=&lt;span style="color: #a31515"&gt;&amp;#39;&amp;#39;&lt;/span&gt;):
    print name * count

arg_dict = {&lt;span style="color: #a31515"&gt;&amp;#39;count&amp;#39;&lt;/span&gt;: 3, &lt;span style="color: #a31515"&gt;&amp;#39;name&amp;#39;&lt;/span&gt;: &lt;span style="color: #a31515"&gt;&amp;#39;Brian&amp;#39;&lt;/span&gt;}

multiply_name(**arg_dict)
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; BrianBrianBrian&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ—¢ç„¶ä½ ç†è§£äº† &lt;code&gt;*args&lt;/code&gt; ä¸ &lt;code&gt;**kwargs&lt;/code&gt; çš„å·¥ä½œåŸç†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç»§ç»­ç ”ç©¶ä¸€ä¸ªä½ ä¼šå‘ç°å¾ˆæœ‰ç”¨çš„è£…é¥°å™¨ã€‚&lt;/p&gt;
&lt;h2&gt;ç¼“å­˜åˆ¶è¡¨ï¼ˆMemoizationï¼‰&lt;/h2&gt;
&lt;p&gt;ç¼“å­˜åˆ¶è¡¨æ˜¯é¿å…æ½œåœ¨çš„æ˜‚è´µçš„é‡å¤è®¡ç®—çš„ä¸€ç§æ–¹æ³•ï¼Œé€šè¿‡ç¼“å­˜å‡½æ•°æ¯æ¬¡æ‰§è¡Œçš„ç»“æœæ¥å®ç°ã€‚è¿™æ ·ï¼Œä¸‹ä¸€æ¬¡å‡½æ•°ä»¥ç›¸åŒçš„å‚æ•°æ‰§è¡Œï¼Œå°±å¯ä»¥ä»ç¼“å­˜ä¸­è·å–è¿”å›ç»“æœï¼Œä¸éœ€è¦å†æ¬¡è®¡ç®—ç»“æœã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; functools &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; wraps

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; memoize(func):
    cache = {}

    @wraps(func)
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; wrapper(*args):
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; args &lt;span style="color: #0000ff"&gt;not&lt;/span&gt; &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; cache:
            cache[args] = func(*args)
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; cache[args]
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; wrapper

@memoize
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; an_expensive_function(arg1, arg2, arg3):
    ...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½ å¯èƒ½æ³¨æ„åˆ°äº†ç¤ºä¾‹ä»£ç ä¸­ä¸€ä¸ªå¥‡æ€ªçš„ &lt;code&gt;@wraps&lt;/code&gt; è£…é¥°å™¨ã€‚åœ¨å®Œæ•´åœ°è®¨è®º &lt;code&gt;memoize&lt;/code&gt;
ä¹‹å‰æˆ‘å°†ç®€è¦åœ°è§£é‡Šè¿™ä¸ªè£…é¥°å™¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨è£…é¥°å™¨çš„ä¸€ä¸ªå‰¯ä½œç”¨æ˜¯è¢«åŒ…è£…çš„å‡½æ•°å¤±å»äº†æœ¬æ¥æœ‰çš„ &lt;code&gt;__name__&lt;/code&gt; ï¼Œ &lt;code&gt;__doc__&lt;/code&gt; ï¼Œ ä»¥åŠ &lt;code&gt;__module__&lt;/code&gt; å±æ€§ã€‚ &lt;code&gt;wraps&lt;/code&gt; å‡½æ•°æ˜¯ä¸€ä¸ªåŒ…è£…å¦ä¸€ä¸ªè£…é¥°å™¨è¿”å›çš„å‡½æ•°çš„è£…é¥°å™¨ï¼Œå°†é‚£ä¸‰ä¸ªå±æ€§çš„å€¼æ¢å¤ä¸ºå‡½æ•°æœªè£…é¥°ä¹‹æ—¶çš„å€¼ã€‚ä¾‹å¦‚ï¼š å¦‚æœä¸ä½¿ç”¨ &lt;code&gt;wraps&lt;/code&gt; è£…é¥°å™¨ï¼Œ &lt;code&gt;an_expensive_function&lt;/code&gt; çš„åå­—ï¼ˆé€šè¿‡ &lt;code&gt;an_expensive_function.__name__&lt;/code&gt; å¯ä»¥çœ‹åˆ°ï¼‰å°†æ˜¯ 'wrapper' ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘è®¤ä¸º &lt;code&gt;memoize&lt;/code&gt; æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è£…é¥°å™¨ç”¨ä¾‹ã€‚å®ƒæœåŠ¡äºä¸€ä¸ªå¾ˆå¤šå‡½æ•°éƒ½éœ€è¦çš„ç›®çš„ï¼Œé€šè¿‡å°†å®ƒåˆ›å»ºä¸ºä¸€ä¸ªé€šç”¨è£…é¥°å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒçš„åŠŸèƒ½åº”ç”¨äºä»»ä¸€èƒ½å¤Ÿä»å…¶ä¸­è·ç›Šçš„å‡½æ•°ã€‚è¿™å°±é¿å…äº†åœ¨å¤šç§ä¸åŒçš„åœºåˆé‡å¤å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚å› ä¸ºä¸éœ€è¦é‡å¤è‡ªå·±ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ä»£ç æ›´å®¹æ˜“ç»´æŠ¤ï¼Œå¹¶ä¸”æ›´å®¹æ˜“é˜…è¯»å’Œç†è§£ã€‚åªè¦è¯»ä¸€ä¸ªå•è¯ä½ å°±èƒ½ç«‹åˆ»ç†è§£å‡½æ•°ä½¿ç”¨äº†ç¼“å­˜åˆ¶è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦æé†’çš„æ˜¯ï¼šç¼“å­˜åˆ¶è¡¨ä»…é€‚ç”¨äºçº¯å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ç»™å®šä¸€ä¸ªç‰¹å®šçš„å‚æ•°è®¾ç½®ï¼Œå‡½æ•°ç¡®å®šæ€»ä¼šäº§ç”Ÿç›¸åŒçš„ç»“æœã€‚å¦‚æœå‡½æ•°ä¾èµ–äºä¸ä½œä¸ºå‚æ•°ä¼ é€’çš„å…¨å±€å˜é‡ã€I/Oã€æˆ–è€…å…¶å®ƒä»»æ„å¯èƒ½å½±å“è¿”å›å€¼çš„ä¸œè¥¿ï¼Œç¼“å­˜åˆ¶è¡¨ä¼šäº§ç”Ÿä»¤äººè¿·æƒ‘çš„ç»“æœï¼å¹¶ä¸”ï¼Œä¸€ä¸ªçº¯å‡½æ•°ä¸ä¼šæœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚å› æ­¤ï¼Œå¦‚æœä½ çš„å‡½æ•°ä¼šå¢å¤§ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæˆ–è€…è°ƒç”¨å¦ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œæˆ–è€…å…¶å®ƒä»»æ„ä¸åœ¨å‡½æ•°çš„è¿”å›ç»“æœä¸­è¡¨ç¤ºçš„ä¸œè¥¿ï¼Œå½“ç»“æœæ˜¯ä»ç¼“å­˜ä¸­è¿”å›æ—¶ï¼Œå‰¯ä½œç”¨æ“ä½œå¹¶ä¸ä¼šå¾—åˆ°æ‰§è¡Œã€‚&lt;/p&gt;
&lt;h2&gt;ç±»çš„è£…é¥°å™¨&lt;/h2&gt;
&lt;p&gt;æœ€åˆï¼Œæˆ‘ä»¬è¯´è£…é¥°å™¨æ˜¯ä¸€ä¸ªä¿®æ”¹å¦ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°ï¼Œä½†å…¶å®å®ƒä»¬å¯ä»¥ç”¨äºä¿®æ”¹ç±»æˆ–è€…æ–¹æ³•ã€‚å¯¹ç±»è¿›è¡Œè£…é¥°å¹¶ä¸å¸¸è§ï¼Œä½†æŸäº›æƒ…å†µä¸‹ä½œä¸ºå…ƒç±»(metaclass)çš„ä¸€ä¸ªæ›¿ä»£ï¼Œç±»çš„è£…é¥°å™¨æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;foo = [&lt;span style="color: #a31515"&gt;&amp;#39;important&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;#39;stuff&amp;#39;&lt;/span&gt;]

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; add_foo(klass):
    klass.foo = foo
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; klass


@add_foo
&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Person&lt;/span&gt;(object):
    &lt;span style="color: #0000ff"&gt;pass&lt;/span&gt;

brian = Person()

print brian.foo
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; [&amp;#39;important&amp;#39;, &amp;#39;foo&amp;#39;, &amp;#39;stuff&amp;#39;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç°åœ¨ï¼Œç±» &lt;code&gt;Person&lt;/code&gt; çš„ä»»ä¸€å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªè¶…çº§é‡è¦çš„ &lt;code&gt;foo&lt;/code&gt;
å±æ€§ï¼æ³¨æ„ï¼Œå› ä¸ºæˆ‘ä»¬è£…é¥°çš„æ˜¯ä¸€ä¸ªç±»ï¼Œæ‰€ä»¥è£…é¥°å™¨è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ã€‚æ›´æ–°ä¸€ä¸‹è£…é¥°å™¨çš„å®šä¹‰ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è£…é¥°å™¨æ˜¯ä¸€ä¸ªä¿®æ”¹å‡½æ•°ã€æˆ–æ–¹æ³•ã€æˆ–ç±»çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;è£…é¥°å™¨ç±»&lt;/h2&gt;
&lt;p&gt;äº‹å®è¯æ˜æˆ‘æ—©å…ˆå¯¹ä½ éšç’äº†ä¸€äº›å…¶å®ƒäº‹æƒ…ã€‚ä¸ä»…è£…é¥°å™¨å¯ä»¥è£…é¥°ä¸€ä¸ªç±»ï¼Œå¹¶ä¸”è£…é¥°å™¨ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç±»ï¼å¯¹äºè£…é¥°å™¨çš„å”¯ä¸€è¦æ±‚å°±æ˜¯å®ƒçš„è¿”å›å€¼å¿…é¡»å¯è°ƒç”¨(callable)ã€‚è¿™æ„å‘³ç€è£…é¥°å™¨å¿…é¡»å®ç° &lt;code&gt;__call__&lt;/code&gt; é­”æœ¯æ–¹æ³•ï¼Œå½“ä½ è°ƒç”¨ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šéšå¼è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚å‡½æ•°å½“ç„¶æ˜¯éšå¼è®¾ç½®è¿™ä¸ªæ–¹æ³•çš„ã€‚æˆ‘ä»¬é‡æ–°å°† &lt;code&gt;identity_decorator&lt;/code&gt; åˆ›å»ºä¸ºä¸€ä¸ªç±»æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;IdentityDecorator&lt;/span&gt;(object):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __init__(self, func):
        self.func = func

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __call__(self):
        self.func()


@IdentityDecorator
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; a_function():
    print &lt;span style="color: #a31515"&gt;&amp;quot;I&amp;#39;m a normal function.&amp;quot;&lt;/span&gt;

a_function()
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; I&amp;#39;m a normal function.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚ä¸‹æ˜¯ä¸Šä¾‹ä¸­å‘ç”Ÿçš„äº‹æƒ…ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å½“ &lt;code&gt;IdentityDecorator&lt;/code&gt; è£…é¥° &lt;code&gt;a_function&lt;/code&gt; æ—¶ï¼Œå®ƒçš„è¡Œä¸ºå°±å’Œè£…é¥°å™¨å‡½æ•°ä¸€æ ·ã€‚è¿™ä¸ªä»£ç ç‰‡æ®µç­‰ä»·äºä¸Šä¾‹ä¸­çš„è£…é¥°å™¨è¯­æ³•ï¼š &lt;code&gt;a_function = IdentityDecorator(a_function)&lt;/code&gt; ã€‚è°ƒç”¨ï¼ˆå®ä¾‹åŒ–ï¼‰è¯¥è£…é¥°å™¨ç±»æ—¶ï¼Œéœ€å°†å…¶è£…é¥°çš„å‡½æ•°ä½œä¸ºä¸€ä¸ªå®å‚ä¼ é€’ç»™å®ƒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®ä¾‹åŒ– &lt;code&gt;IdentityDecorator&lt;/code&gt; ä¹‹æ—¶ï¼Œä¼šä»¥è¢«è£…é¥°çš„å‡½æ•°ä½œä¸ºå®å‚è°ƒç”¨åˆå§‹åŒ–å‡½æ•° &lt;code&gt;__init__&lt;/code&gt; ã€‚æœ¬ä¾‹ä¸­ï¼Œåˆå§‹åŒ–å‡½æ•°æ‰€åšçš„äº‹æƒ…å°±æ˜¯å°†è¢«è£…é¥°å‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå±æ€§ï¼Œè¿™æ ·ä¹‹åå°±å¯ä»¥é€šè¿‡å…¶å®ƒæ–¹æ³•è¿›è¡Œè°ƒç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ€åï¼Œè°ƒç”¨ &lt;code&gt;a_function&lt;/code&gt; ï¼ˆå®é™…ä¸Šæ˜¯è¿”å›çš„åŒ…è£…äº† &lt;code&gt;a_function&lt;/code&gt; çš„ &lt;code&gt;IdentityDecorator&lt;/code&gt; å¯¹è±¡ï¼‰ä¹‹æ—¶ï¼Œä¼šè°ƒç”¨å¯¹è±¡çš„ &lt;code&gt;__call__&lt;/code&gt; æ–¹æ³•ã€‚è¿™ä»…æ˜¯ä¸€ä¸ªåŒä¸€æ€§è£…é¥°å™¨ï¼Œæ‰€ä»¥æ–¹æ³•åªæ˜¯ç®€å•åœ°è°ƒç”¨äº†è¯¥ç±»æ‰€è£…é¥°çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å†æ¬¡æ›´æ–°ä¸€ä¸‹æˆ‘ä»¬å¯¹è£…é¥°å™¨çš„å®šä¹‰ï¼&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è£…é¥°å™¨æ˜¯ä¸€ä¸ªä¿®æ”¹å‡½æ•°ã€æ–¹æ³•æˆ–è€…ç±»çš„å¯è°ƒç”¨å¯¹è±¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;å¸¦å‚æ•°çš„è£…é¥°å™¨&lt;/h2&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„æƒ…å†µæ”¹å˜è£…é¥°å™¨çš„è¡Œä¸ºã€‚ä½ å¯ä»¥é€šè¿‡ä¼ å‚æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; functools &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; wraps

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; argumentative_decorator(gift):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; func_wrapper(func):
        @wraps(func)
        &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; returned_wrapper(*args, **kwargs):
             print &lt;span style="color: #a31515"&gt;&amp;quot;I don&amp;#39;t like this &amp;quot;&lt;/span&gt; + gift + &lt;span style="color: #a31515"&gt;&amp;quot;you gave me!&amp;quot;&lt;/span&gt;
             &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; func(gift, *args, **kwargs)
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; returned_wrapper
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; func_wrapper

@argumentative_decorator(&lt;span style="color: #a31515"&gt;&amp;quot;sweater&amp;quot;&lt;/span&gt;)
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; grateful_function(gift):
    print &lt;span style="color: #a31515"&gt;&amp;quot;I love the &amp;quot;&lt;/span&gt; + gift + &lt;span style="color: #a31515"&gt;&amp;quot;!Thank you!&amp;quot;&lt;/span&gt;

grateful_function()
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; I don&amp;#39;t like this sweater you gave me!&lt;/span&gt;
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; I love the sweater! Thank you!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚æœä¸ä½¿ç”¨è£…é¥°å™¨è¯­æ³•è¿™ä¸ªè£…é¥°å™¨å‡½æ•°æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;# If we tried to invoke without an argument:&lt;/span&gt;
grateful_function = argumentative_function(grateful_function)

&lt;span style="color: #008000"&gt;# But when given an argument, the pattern changes to:&lt;/span&gt;
grateful_function = argumentative_decorator(&lt;span style="color: #a31515"&gt;&amp;quot;sweater&amp;quot;&lt;/span&gt;)(grateful_function)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;éœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼šå½“ç»™å®šå‚æ•°ï¼Œé¦–å…ˆä»…ä»¥é‚£äº›å‚æ•°è°ƒç”¨è£…é¥°å™¨---è¢«åŒ…è£…çš„å‡½æ•°å¹¶ä¸åœ¨å‚æ•°ä¸­ã€‚è£…é¥°å™¨è°ƒç”¨è¿”å›åï¼Œè£…é¥°å™¨è¦åŒ…è£…çš„å‡½æ•°è¢«ä¼ é€’ç»™è£…é¥°å™¨åˆå§‹è°ƒç”¨è¿”å›çš„å‡½æ•°ï¼ˆæœ¬ä¾‹ä¸­ï¼Œä¸º &lt;code&gt;argumentative_decorator("sweater")&lt;/code&gt; çš„è¿”å›å€¼ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;é€æ­¥åœ°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è§£é‡Šå™¨åˆ°è¾¾è¢«è£…é¥°å‡½æ•°ä¹‹å¤„ï¼Œç¼–è¯‘ &lt;code&gt;grateful_function&lt;/code&gt; ï¼Œå¹¶å°†å…¶ç»‘å®šåˆ°åå­—'grateful_function'ã€‚&lt;/li&gt;
&lt;li&gt;ä¼ é€’å‚æ•°"sweater"è°ƒç”¨ &lt;code&gt;argumentative_decorator&lt;/code&gt; ï¼Œè¿”å› &lt;code&gt;func_wrapper&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;ä»¥ &lt;code&gt;grateful_function&lt;/code&gt; ä¸ºå‚è°ƒç”¨ &lt;code&gt;func_wrapper&lt;/code&gt; ï¼Œè¿”å› &lt;code&gt;returned_wrapper&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œ &lt;code&gt;returned_wrapper&lt;/code&gt; å–ä»£åŸæ¥çš„å‡½æ•° &lt;code&gt;grateful_function&lt;/code&gt; ï¼Œå¹¶ç»‘å®šåˆ°åå­—'grateful_function' ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æˆ‘æƒ³è¿™ä¸€è¿‡ç¨‹ç›¸æ¯”æ²¡æœ‰è£…é¥°å™¨å‚æ•°ç†è§£èµ·æ¥æ›´éš¾ä¸€ç‚¹ï¼Œä½†æ˜¯å¦‚æœä½ èŠ±äº›æ—¶é—´å°†å…¶ç†è§£é€šé€ï¼Œæˆ‘å¸Œæœ›æ˜¯æœ‰æ„ä¹‰çš„ã€‚&lt;/p&gt;
&lt;h2&gt;å¸¦å¯é€‰å‚æ•°çš„è£…é¥°å™¨&lt;/h2&gt;
&lt;p&gt;æœ‰å¤šç§æ–¹å¼è®©è£…é¥°å™¨æ¥å—å¯é€‰å‚æ•°ã€‚æ ¹æ®ä½ æ˜¯æƒ³ä½¿ç”¨ä½ç½®å‚æ•°ã€å…³é”®å­—å‚æ•°è¿˜æ˜¯ä¸¤è€…çš†æ˜¯ï¼Œéœ€è¦ä½¿ç”¨ç¨å¾®ä¸åŒçš„æ¨¡å¼ã€‚å¦‚ä¸‹æˆ‘å°†å±•ç¤ºä¸€ç§æ¥å—ä¸€ä¸ªå¯é€‰å…³é”®å­—å‚æ•°çš„æ–¹å¼ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; functools &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; wraps

GLOBAL_NAME = &lt;span style="color: #a31515"&gt;&amp;quot;Brian&amp;quot;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; print_name(function=&lt;span style="color: #0000ff"&gt;None&lt;/span&gt;, name=GLOBAL_NAME):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; actual_decorator(function):
        @wraps(function)
        &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; returned_func(*args, **kwargs):
            print &lt;span style="color: #a31515"&gt;&amp;quot;My name is &amp;quot;&lt;/span&gt; + name
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; function(*args, **kwargs)
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; returned_func

    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; &lt;span style="color: #0000ff"&gt;not&lt;/span&gt; function:    &lt;span style="color: #008000"&gt;# User passed in a name argument&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; waiting_for_func(function):
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; actual_decorator(function)
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; waiting_for_func

    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; actual_decorator(function)

@print_name
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; a_function():
    print &lt;span style="color: #a31515"&gt;&amp;quot;I like the name!&amp;quot;&lt;/span&gt;

@print_name(name=&lt;span style="color: #a31515"&gt;&amp;#39;Matt&amp;#39;&lt;/span&gt;)
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; another_function():
    print &lt;span style="color: #a31515"&gt;&amp;quot;Hey, that&amp;#39;s new!&amp;quot;&lt;/span&gt;

a_function()
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; My name is Brian&lt;/span&gt;
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; I like that name!&lt;/span&gt;

another_function()
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; My name is Matt&lt;/span&gt;
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; Hey, that&amp;#39;s new!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæˆ‘ä»¬ä¼ é€’å…³é”®å­—å‚æ•° &lt;code&gt;name&lt;/code&gt; ç»™ &lt;code&gt;print_name&lt;/code&gt;
ï¼Œé‚£ä¹ˆå®ƒçš„è¡Œä¸ºå°±ä¸å‰ä¸€ä¸ªä¾‹å­ä¸­çš„ &lt;code&gt;argumentative_decorator&lt;/code&gt; ç›¸ä¼¼ã€‚å³ï¼Œé¦–å…ˆä»¥
&lt;code&gt;name&lt;/code&gt; ä¸ºå‚è°ƒç”¨ &lt;code&gt;print_name&lt;/code&gt; ã€‚ç„¶åï¼Œå°†å¾…åŒ…è£…çš„å‡½æ•°ä¼ é€’ç»™é¦–æ¬¡è°ƒç”¨è¿”å›çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æ²¡æœ‰æä¾› &lt;code&gt;name&lt;/code&gt; å®å‚ï¼Œ &lt;code&gt;print_name&lt;/code&gt; çš„è¡Œä¸ºå°±ä¸å‰é¢æˆ‘ä»¬çœ‹åˆ°çš„ä¸å¸¦å‚æ•°çš„è£…é¥°å™¨ä¸€æ ·ã€‚è£…é¥°å™¨ä»…ä»¥å¾…åŒ…è£…çš„å‡½æ•°ä½œä¸ºå”¯ä¸€çš„å‚æ•°è¿›è¡Œè°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;print_name&lt;/code&gt;
æ”¯æŒä¸¤ç§å¯èƒ½æ€§ã€‚å®ƒä¼šæ£€æŸ¥æ˜¯å¦æ”¶åˆ°ä½œä¸ºå‚æ•°çš„è¢«åŒ…è£…å‡½æ•°ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿”å›å‡½æ•°
&lt;code&gt;waiting_for_func&lt;/code&gt;
ï¼Œè¯¥å‡½æ•°å¯ä»¥è¢«åŒ…è£…å‡½æ•°ä½œä¸ºå‚æ•°è¿›è¡Œè°ƒç”¨ã€‚å¦‚æœæ”¶åˆ°è¢«åŒ…è£…å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œåˆ™è·³è¿‡ä¸­é—´æ­¥éª¤ï¼Œç›´æ¥è°ƒç”¨ &lt;code&gt;actual_decorator&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h2&gt;ä¸²æ¥è£…é¥°å™¨&lt;/h2&gt;
&lt;p&gt;ç°åœ¨æ¥æ¢ç´¢ä¸€ä¸‹ä»Šå¤©è¦è®²çš„æœ€åä¸€ä¸ªè£…é¥°å™¨çš„ç‰¹æ€§ï¼šä¸²æ¥ã€‚ä½ å¯ä»¥åœ¨ä»»æ„ç»™å®šçš„å‡½æ•°ä¹‹ä¸Šå †å ä½¿ç”¨å¤šä¸ªè£…é¥°å™¨ï¼Œ è¿™ç§æ„å»ºå‡½æ•°çš„æ–¹å¼ä¸ä½¿ç”¨å¤šé‡ç»§æ‰¿æ„å»ºç±»ç›¸ç±»ä¼¼ã€‚ä¸è¿‡æœ€å¥½ä¸è¦ç–¯ç‹‚ä½¿ç”¨è¿™ç§ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;@print_name(&lt;span style="color: #a31515"&gt;&amp;#39;Sam&amp;#39;&lt;/span&gt;)
@logging_decorator
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; some_function():
    print &lt;span style="color: #a31515"&gt;&amp;quot;I&amp;#39;m the wrapped function!&amp;quot;&lt;/span&gt;

some_function()
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; My name is Sam&lt;/span&gt;
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; The function I modify has been called 1 time(s).&lt;/span&gt;
&lt;span style="color: #008000"&gt;# &amp;gt;&amp;gt; I&amp;#39;m the wrapped function!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å½“ä½ ä¸²æ¥ä½¿ç”¨è£…é¥°å™¨æ—¶ï¼Œå®ƒä»¬å †å çš„é¡ºåºæ˜¯è‡ªåº•å‘ä¸Šçš„ã€‚å°†è¢«åŒ…è£…çš„å‡½æ•° &lt;code&gt;some_function&lt;/code&gt; ç»ç¼–è¯‘åä¼ é€’ç»™å®ƒä¹‹ä¸Šçš„ç¬¬ä¸€ä¸ªè£…é¥°å™¨ï¼ˆ &lt;code&gt;logging_decorator&lt;/code&gt; ï¼‰ã€‚ç„¶åç¬¬ä¸€ä¸ªè£…é¥°å™¨çš„è¿”å›å€¼è¢«ä¼ é€’ç»™ç¬¬äºŒä¸ªè£…é¥°å™¨ã€‚ä¾æ­¤é€ä¸ªåº”ç”¨é“¾ä¸Šæ¯ä¸ªè£…é¥°å™¨ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„ä¸¤ä¸ªè£…é¥°å™¨éƒ½æ˜¯ &lt;code&gt;print&lt;/code&gt;
ä¸€ä¸ªå€¼ï¼Œç„¶åæ‰§è¡Œä¼ é€’ç»™å®ƒä»¬çš„å‡½æ•°ï¼Œè¿™æ„å‘³ç€å½“è°ƒç”¨è¢«åŒ…è£…å‡½æ•°æ—¶ï¼Œé“¾ä¸­çš„æœ€åä¸€ä¸ªè£…é¥°å™¨ &lt;code&gt;print_name&lt;/code&gt; æ‰“å°è¾“å‡ºä¸­çš„ç¬¬ä¸€è¡Œã€‚&lt;/p&gt;
&lt;h2&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;æˆ‘è®¤ä¸ºè£…é¥°å™¨æœ€å¤§çš„å¥½å¤„ä¹‹ä¸€åœ¨äºè®©ä½ èƒ½å¤Ÿä»æ›´é«˜çš„æŠ½è±¡å±‚æ¬¡è¿›è¡Œæ€è€ƒã€‚å‡å¦‚ä½ å¼€å§‹é˜…è¯»ä¸€ä¸ªå‡½æ•°å®šä¹‰ï¼Œçœ‹åˆ°æœ‰ä¸€ä¸ª &lt;code&gt;memoize&lt;/code&gt; è£…é¥°å™¨ï¼Œä½ ç«‹åˆ»å°±èƒ½æ˜ç™½ä½ æ­£åœ¨çœ‹çš„æ˜¯ä¸€ä¸ªä½¿ç”¨ç¼“å­˜åˆ¶è¡¨çš„å‡½æ•°ã€‚å¦‚æœç¼“å­˜åˆ¶è¡¨çš„ä»£ç åŒ…å«åœ¨å‡½æ•°ä½“å†…ï¼Œå°±ä¼šéœ€è¦é¢å¤–çš„è„‘åŠ›è¿›è¡Œè§£æï¼Œå¹¶ä¸”ä¼šæœ‰å¼•å…¥è¯¯è§£çš„å¯èƒ½ã€‚ä½¿ç”¨è£…é¥°å™¨ä¹Ÿå…è®¸ä»£ç å¤ç”¨ï¼Œä»è€ŒèŠ‚çœæ—¶é—´ã€ç®€åŒ–è°ƒè¯•ï¼Œå¹¶ä¸”ä½¿å¾—é‡æ„æ›´åŠ å®¹æ˜“ã€‚&lt;/p&gt;
&lt;p&gt;ç©ç©è£…é¥°å™¨ä¹Ÿæ˜¯ä¸€ç§å¾ˆå¥½çš„å­¦ä¹ å‡½æ•°å¼æ¦‚å¿µï¼ˆå¦‚é«˜é˜¶å‡½æ•°ä¸é—­åŒ…ï¼‰çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å¸Œæœ›æœ¬æ–‡é˜…è¯»èµ·æ¥å¾ˆæ„‰å¿«ï¼Œå¹¶ä¸”å†…å®¹ç¿”å®ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category><category term="ç¿»è¯‘"></category></entry><entry><title>Pythonï¼šå­—å…¸å‰§æœ¬ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/01/04/Python-The-Dictionary-Playbook-cn/" rel="alternate"></link><published>2013-01-04T00:00:00+08:00</published><updated>2013-01-04T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-04:/2013/01/04/Python-The-Dictionary-Playbook-cn/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š &lt;a href="http://blog.amir.rachum.com/post/39501813266/python-the-dictionary-playbook"&gt;Python: The Dictionary Playbook&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š &lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ç»å¸¸ç¢°åˆ°å…³äºPythonä¸­å­—å…¸çš„å„ç§æ ·æ¿ä»£ç ï¼Œå› æ­¤æˆ‘å†³å®šåœ¨æ­¤å±•ç¤ºä¸€äº›ï¼Œå¹¶åˆ†äº«å®Œæˆç›¸åŒæ“ä½œçš„æ›´åŠ ç®€æ´çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šæ¼”ï¼š &lt;strong&gt;å­—å…¸å‰§ â€¦&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š &lt;a href="http://blog.amir.rachum.com/post/39501813266/python-the-dictionary-playbook"&gt;Python: The Dictionary Playbook&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š &lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ç»å¸¸ç¢°åˆ°å…³äºPythonä¸­å­—å…¸çš„å„ç§æ ·æ¿ä»£ç ï¼Œå› æ­¤æˆ‘å†³å®šåœ¨æ­¤å±•ç¤ºä¸€äº›ï¼Œå¹¶åˆ†äº«å®Œæˆç›¸åŒæ“ä½œçš„æ›´åŠ ç®€æ´çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šæ¼”ï¼š &lt;strong&gt;å­—å…¸å‰§æœ¬&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="playbook" src="/assets/uploads/pics/The_playbook.png"&gt;&lt;/p&gt;
&lt;p&gt;1.
â€œä½ åœ¨å—ï¼Ÿâ€&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç›¸å½“ç®€å•ï¼Œä½†ä¸å¯é”™è¿‡ - æ‰¾å‡ºæŸä¸ªé”®(key)æ˜¯å¦å­˜åœ¨äºå­—å…¸ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è¹©è„šçš„ç‰ˆæœ¬&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dct.has_key(key)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Pythonicçš„æ–¹å¼&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;key &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; dct
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.
â€œå°¤è¾¾æµ‹è¯•â€(è¯‘æ³¨ï¼šå°¤è¾¾çš„æ„æ€è§&lt;a href="http://en.wikipedia.org/wiki/Yoda"&gt;yoda&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;å¯¹äºé‚£äº›æŒæ¡äº†â€œä½ åœ¨å—â€å‰§æœ¬çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œè¿™é€šå¸¸æ˜¯å¦ä¸€ä¸ªç®€å•ä½†æ˜¯ä»¤äººè®¨åŒçš„äº‹æƒ…ã€‚å®ƒä¸ä»…ä»…å¯ç”¨äºå­—å…¸æ•°æ®ç±»å‹ï¼Œä½†éå¸¸æ™®é€šã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å¹²è¿™äº‹ï¼Œä½ å¿…é¡»ä¸èƒ½è¿™æ ·&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;not&lt;/span&gt; key &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; dct
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;è‹±è¯­ï¼Œä½ ä¼šè¯´å—ï¼Ÿ&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;key &lt;span style="color: #0000ff"&gt;not&lt;/span&gt; &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; dct
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;3.
â€œæ— è®ºå¦‚ä½•ä¹Ÿè¦å¾—åˆ°å…¶å€¼â€&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªéå¸¸æµè¡Œã€‚ä½ æœ‰ä¸€ä¸ªå­—å…¸å’Œä¸€ä¸ªé”®ï¼Œç„¶åæƒ³ä¿®æ”¹è¿™ä¸ªé”®å¯¹åº”çš„å€¼ã€‚ä¾‹å¦‚ï¼Œå°†è¯¥å€¼åŠ 1ï¼ˆæ¯”æ–¹è¯´ä½ æ­£åœ¨è®¡ç®—æŸäº›ä¸œè¥¿ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æ ·æ¿&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; key &lt;span style="color: #0000ff"&gt;not&lt;/span&gt; &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; dct:
    dct[key] = 0
dct[key] = dct[ket] + 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;å·§å¦™çš„æ–¹å¼&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dct[key] = dct.get(key, 0) + 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœå­˜åœ¨è¯¥é”®ï¼Œ &lt;code&gt;dct.get(key[, default])&lt;/code&gt; è¿”å› &lt;code&gt;dct[key]&lt;/code&gt; ï¼Œå¦åˆ™è¿”å› &lt;code&gt;default&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æ›´æ£’çš„æ–¹å¼&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä½¿ç”¨Python 2.7ï¼Œå¹¶ä¸”æƒ³ç»Ÿè®¡å…ƒç´ çš„æ•°ç›®ï¼Œå¯ä»¥ä½¿ç”¨&lt;a href="http://docs.python.org/2/library/collections.html#collections.Counter"&gt;Counter&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; from collections import Counter
&amp;gt;&amp;gt;&amp;gt; d = [1, 1, 1, 2, 2, 3, 1, 1]
&amp;gt;&amp;gt;&amp;gt; Counter(d)
Counter({1: 5, 2: 2, 3: 1})
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œæœ‰ä¸ªæ›´å®Œæ•´çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; counter = Counter()
... for _ in range(10):
...     num = int(raw_input(&amp;quot;Enter a number: &amp;quot;))
...     counter.update([num]) 
...
... for key, value in counter.iteritems():
...     print &amp;quot;You have entered {}, {} times!&amp;quot;.format(key, value) 
Enter a number: 1
Enter a number: 1
Enter a number: 2
Enter a number: 3
Enter a number: 51
Enter a number: 1
Enter a number: 1
Enter a number: 1
Enter a number: 2
Enter a number: 3
You have entered 1, 5 times!
You have entered 2, 2 times!
You have entered 3, 2 times!
You have entered 51, 1 times!
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;4.
â€œåˆ›é€ å¯èƒ½â€(è¯‘æ³¨ï¼šè¿™é‡Œ"make it happen"è¿˜ä¸çŸ¥é“è¯¥å¦‚ä½•ç¿»è¯‘)&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶ä½ çš„å­—å…¸ä¸­åŒ…å«å¯å˜å¯¹è±¡ï¼Œä½ æƒ³åˆå§‹åŒ–å¹¶ä¿®æ”¹å®ƒä»¬ã€‚æ¯”æ–¹ä½ è¦æŠŠä¸€äº›æ•°æ®æ•´ç†å­˜å…¥ä¸€ä¸ªå­—å…¸ï¼Œå…¶å€¼æ˜¯åˆ—è¡¨ï¼ˆç¤ºä¾‹æ¥è‡ª&lt;a href="http://stackoverflow.com/questions/3483520/use-cases-for-the-setdefault-dict-method/3483652#3483652"&gt;Stack Overflowä¸Šçš„è¿™ä¸ªè§£ç­”&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;em&gt;è¯¦ç»†è¯´æ˜&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dct = {}
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt; (key, value) &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; data:
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; key &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; dct:
        dct[key].append(value)
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;:
        dct[key] = [value]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;ä»¥pythonicæ–¹å¼å®ç°&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dct = {}
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt; (key, value) &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; data:
    group = dct.setdefault(key, [])     &lt;span style="color: #008000"&gt;#keyå¯èƒ½å·²ç»å­˜åœ¨&lt;/span&gt;
    group.append(value)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœé”®å­˜åœ¨ï¼Œ &lt;code&gt;setdefault(key, [])&lt;/code&gt; è¿”å› &lt;code&gt;dct[key]&lt;/code&gt; ï¼Œå¦åˆ™å°†é”®å¯¹åº”çš„å€¼è®¾ç½®ä¸º &lt;code&gt;default&lt;/code&gt; å¹¶è¿”å›ã€‚ä¸ &lt;code&gt;get&lt;/code&gt; ç›¸æ¯”ï¼Œå½“ç¼ºçœå€¼æ˜¯ä¸€ä¸ªä½ å¯ä»¥ä¿®æ”¹çš„å¯¹è±¡æ—¶ï¼Œè¿™ç§æ–¹å¼ä½¿ä½ ä¸éœ€è¦å°†ä¿®æ”¹åçš„å€¼å†æ¬¡æ’å…¥å­—å…¸ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Rocking it out&lt;/em&gt; (è¯‘æ³¨ï¼šçœŸå¿ƒä¸çŸ¥é“è¿™å¥è¯¥å¦‚ä½•ç¿»è¯‘)&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;dct = defaultdict(list)
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt; (key, value) &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; data:
    dct[key].append(value)      &lt;span style="color: #008000"&gt;# æ‰€æœ‰é”®éƒ½æœ‰ä¸€ä¸ªç¼ºçœå€¼&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;defaultdict&lt;/code&gt; éå¸¸èµï¼ä¸è¨€è‡ªæ˜ â€”â€” å¸¦æœ‰ç¼ºçœå€¼çš„å­—å…¸ã€‚è¿™æ„å‘³è¿™æ¯æ¬¡è®¿é—® &lt;code&gt;dct&lt;/code&gt; ä¸­çš„æŸä¸ªé”®ï¼Œå¦‚æœä¸å­˜åœ¨ï¼ˆé€šå¸¸ä¼šæŠ›å‡ºä¸€ä¸ª &lt;code&gt;KeyError&lt;/code&gt; å¼‚å¸¸ï¼‰ï¼Œåˆ™ä»¥ç¼ºçœå€¼ä½œä¸ºå…¶å€¼åˆ›å»ºè¯¥é”®ã€‚è¿™å°±å¥½ä¼¼ä½¿ç”¨ &lt;code&gt;setdefault&lt;/code&gt; æ¥å®Œæˆæ¯æ¬¡è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å‘ç° &lt;code&gt;defaultdict&lt;/code&gt; çš„ä¸€ä¸ªæœ‰è¶£ç”¨æ³•æ˜¯å®ç°&lt;a href="http://en.wikipedia.org/wiki/Sparse_matrix"&gt;ç¨€ç–æ•°æ®ç»“æ„&lt;/a&gt;ã€‚è®¾ç½®å¥½ &lt;em&gt;defaultdict&lt;/em&gt; çš„ç¼ºçœå€¼ï¼Œä»¥åæ ‡ï¼ˆæˆ–è€…ä»»ä½•åˆé€‚çš„ä¸œè¥¿ï¼‰ä½œä¸ºå…¶é”®ã€‚æˆ‘æ›¾è¿™æ ·å»è¡¨ç¤ºå¤šç»´ç½‘æ ¼ï¼Œè‚¯å®šæ¯”ä½¿ç”¨å¤æ‚çš„åˆ—è¡¨åµŒå¥—ç®€å•å¾—å¤šã€‚&lt;/p&gt;
&lt;p&gt;æ›´æœ‰æ„æ€çš„ä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹è§&lt;a href="https://gist.github.com/2012250"&gt;ä¸€è¡Œä»£ç å®šä¹‰æ ‘&lt;/a&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category><category term="ç¿»è¯‘"></category></entry><entry><title>ä¸€è¡ŒPythonä»£ç å®šä¹‰æ ‘ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2013/01/04/one-line-tree-in-Python/" rel="alternate"></link><published>2013-01-04T00:00:00+08:00</published><updated>2013-01-04T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2013-01-04:/2013/01/04/one-line-tree-in-Python/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://gist.github.com/2012250"&gt;One-line Tree in Python&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨Pythonå†…ç½®çš„&lt;a href="http://docs.python.org/2/library/collections.html#collections.defaultdict"&gt;defaultdict&lt;/a&gt;å¯ä»¥è½»æ¾å®šä¹‰ä¸€æ£µæ ‘ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; tree(): &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; defaultdict(tree)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°±è¿™æ ·ï¼&lt;/p&gt;
&lt;p&gt;è¿™æ®µä»£ç ç®€å•åœ°è¯´æ˜ä¸€æ£µæ ‘æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå…¶ç¼ºçœ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="https://gist.github.com/2012250"&gt;One-line Tree in Python&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š&lt;a href="https://github.com/youngsterxyf"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨Pythonå†…ç½®çš„&lt;a href="http://docs.python.org/2/library/collections.html#collections.defaultdict"&gt;defaultdict&lt;/a&gt;å¯ä»¥è½»æ¾å®šä¹‰ä¸€æ£µæ ‘ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; tree(): &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; defaultdict(tree)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°±è¿™æ ·ï¼&lt;/p&gt;
&lt;p&gt;è¿™æ®µä»£ç ç®€å•åœ°è¯´æ˜ä¸€æ£µæ ‘æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå…¶ç¼ºçœçš„å€¼ï¼ˆè¯‘æ³¨ï¼šä¸é”®å¯¹åº”çš„å€¼çš„æ¦‚å¿µï¼‰æ˜¯æ ‘ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆå¦‚æœä½ æ­£éšç€æˆ‘å†™ä¸‹ä»£ç ï¼Œè¯·å…ˆç¡®ä¿ &lt;code&gt;from collections import defaultdict&lt;/code&gt; ï¼‰&lt;/p&gt;
&lt;p&gt;ï¼ˆè¿˜æœ‰ï¼šHacker Newsè¯»è€…@zbucæŒ‡å‡ºè¿™ç§æ–¹æ³•è¢«ç§°ä¸º&lt;a href="https://en.wikipedia.org/wiki/Autovivification"&gt;è‡ªåŠ¨å”¤é†’&lt;/a&gt;ã€‚Coolï¼ï¼‰&lt;/p&gt;
&lt;h2&gt;ç¤ºä¾‹&lt;/h2&gt;
&lt;h3&gt;JSONå½¢å¼&lt;/h3&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬å¯ä»¥åˆ›å»ºJSONå¼çš„åµŒå¥—å­—å…¸ï¼Œè€Œæ— éœ€æ˜¾å¼åˆ›å»ºå­çº§å­—å…¸â€”â€”å½“æˆ‘ä»¬å¼•ç”¨å®ƒä»¬ï¼Œå°±ä¼šç¥å¥‡åœ°è‡ªåŠ¨äº§ç”Ÿï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;users = tree()
users[&lt;span style="color: #a31515"&gt;&amp;#39;harold&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;username&amp;#39;&lt;/span&gt;] = &lt;span style="color: #a31515"&gt;&amp;#39;hrldcpr&amp;#39;&lt;/span&gt;
users[&lt;span style="color: #a31515"&gt;&amp;#39;handler&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;username&amp;#39;&lt;/span&gt;] = &lt;span style="color: #a31515"&gt;&amp;#39;matthandlersux&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;print(json.dumps(users))&lt;/code&gt; å°†è¿™æ£µæ ‘ä½œä¸ºJSONæ‰“å°å‡ºæ¥ï¼ˆè¯‘æ³¨ï¼šå…ˆ &lt;code&gt;import json&lt;/code&gt; ï¼‰ï¼Œå¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;{&amp;quot;harold&amp;quot;: {&amp;quot;username&amp;quot;: &amp;quot;hrldcpr&amp;quot;}, &amp;quot;handler&amp;quot;: {&amp;quot;username&amp;quot;: &amp;quot;matthandlersux&amp;quot;}}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;æ— éœ€èµ‹å€¼&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ç”šè‡³æ ¹æœ¬ä¸ç”¨èµ‹å€¼æ“ä½œå°±å¯ä»¥æ„å»ºæ ‘ç»“æ„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;taxonomy = tree()
taxonomy[&lt;span style="color: #a31515"&gt;&amp;#39;Animalia&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Chordata&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Mammalia&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Carnivora&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Felidae&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Felis&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;cat&amp;#39;&lt;/span&gt;]
taxonomy[&lt;span style="color: #a31515"&gt;&amp;#39;Animalia&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Chordata&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Mammalia&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Carnivora&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Felidae&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Panthera&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;lion&amp;#39;&lt;/span&gt;]
taxonomy[&lt;span style="color: #a31515"&gt;&amp;#39;Animalia&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Chordata&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Mammalia&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Carnivora&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Canidae&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Canis&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;dog&amp;#39;&lt;/span&gt;]
taxonomy[&lt;span style="color: #a31515"&gt;&amp;#39;Animalia&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Chordata&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Mammalia&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Carnivora&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Canidae&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Canis&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;coyote&amp;#39;&lt;/span&gt;]
taxonomy[&lt;span style="color: #a31515"&gt;&amp;#39;Plantae&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Solanales&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Solanaceae&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Solanum&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;tomato&amp;#39;&lt;/span&gt;]
taxonomy[&lt;span style="color: #a31515"&gt;&amp;#39;Plantae&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Solanales&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Solanaceae&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Solanum&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;potato&amp;#39;&lt;/span&gt;]
taxonomy[&lt;span style="color: #a31515"&gt;&amp;#39;Plantae&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Solanales&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Convolvulaceae&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;Ipomoea&amp;#39;&lt;/span&gt;][&lt;span style="color: #a31515"&gt;&amp;#39;sweet potato&amp;#39;&lt;/span&gt;]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ¬¡æˆ‘ä»¬æ‰“å°å¾—å¥½çœ‹äº›ï¼Œä¸è¿‡éœ€è¦å…ˆå°†å…¶è½¬æ¢æˆæ ‡å‡†å­—å…¸ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; dicts(t): &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; {k: dicts(t[k]) &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; k &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; t}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç°åœ¨å¯ä»¥ä½¿ç”¨ &lt;code&gt;pprint(dicts(taxonomy))&lt;/code&gt; æ¼‚äº®åœ°æ‰“å°è¯¥æ•°æ®ç»“æ„ï¼ˆè¯‘æ³¨ï¼šå…ˆ &lt;code&gt;from pprint import pprint&lt;/code&gt; ï¼‰ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;{&amp;#39;Animalia&amp;#39;: {&amp;#39;Chordata&amp;#39;: {&amp;#39;Mammalia&amp;#39;: {&amp;#39;Carnivora&amp;#39;: {&amp;#39;Canidae&amp;#39;: {&amp;#39;Canis&amp;#39;: {&amp;#39;coyote&amp;#39;: {},
                                                                            &amp;#39;dog&amp;#39;: {}}},
                                                      &amp;#39;Felidae&amp;#39;: {&amp;#39;Felis&amp;#39;: {&amp;#39;cat&amp;#39;: {}},
                                                                  &amp;#39;Panthera&amp;#39;: {&amp;#39;lion&amp;#39;: {}}}}}}},
 &amp;#39;Plantae&amp;#39;: {&amp;#39;Solanales&amp;#39;: {&amp;#39;Convolvulaceae&amp;#39;: {&amp;#39;Ipomoea&amp;#39;: {&amp;#39;sweet potato&amp;#39;: {}}},
                           &amp;#39;Solanaceae&amp;#39;: {&amp;#39;Solanum&amp;#39;: {&amp;#39;potato&amp;#39;: {},
                                                      &amp;#39;tomato&amp;#39;: {}}}}}}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬å¼•ç”¨çš„å­çº§ç»“æ„éƒ½ä»¥å­—å…¸å½¢å¼å­˜åœ¨ï¼Œå¶å­ä¸ºç©ºå­—å…¸ã€‚&lt;/p&gt;
&lt;h3&gt;è¿­ä»£&lt;/h3&gt;
&lt;p&gt;è¿­ä»£éå†è¿™æ£µæ ‘ä¼šæ¯”è¾ƒæœ‰è¶£ï¼Œä¹Ÿæ˜¯å› ä¸ºç»“æ„åœ¨å¼•ç”¨çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨äº§ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æ­£åœ¨è§£æä¸€ä¸ªæ–°åŠ¨ç‰©çš„åˆ—è¡¨ï¼Œæ·»åŠ åˆ°ä¸Šé¢çš„ &lt;code&gt;taxonomy&lt;/code&gt; ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›è°ƒç”¨å¦‚ä¸‹è¿™æ ·çš„ä¸€ä¸ªå‡½æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;add(taxonomy, &lt;span style="color: #a31515"&gt;&amp;#39;Animalia,Chordata,Mammalia,Cetacea,Balaenopteridae,Balaenoptera,blue whale&amp;#39;&lt;/span&gt;.split(&lt;span style="color: #a31515"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥ç®€å•åœ°è¿™æ ·å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; add(t, keys):
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; key &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; keys:
        t = t[key]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å†ä¸€æ¬¡æˆ‘ä»¬æ ¹æœ¬æ²¡æœ‰å¯¹å­—å…¸èµ‹å€¼ï¼Œä»…é€šè¿‡å¼•ç”¨è¿™äº›é”®å°±åˆ›å»ºäº†æ–°çš„ç»“æ„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;{&amp;#39;Animalia&amp;#39;: {&amp;#39;Chordata&amp;#39;: {&amp;#39;Mammalia&amp;#39;: {&amp;#39;Carnivora&amp;#39;: {&amp;#39;Canidae&amp;#39;: {&amp;#39;Canis&amp;#39;: {&amp;#39;coyote&amp;#39;: {},
                                                                            &amp;#39;dog&amp;#39;: {}}},
                                                      &amp;#39;Felidae&amp;#39;: {&amp;#39;Felis&amp;#39;: {&amp;#39;cat&amp;#39;: {}},
                                                                  &amp;#39;Panthera&amp;#39;: {&amp;#39;lion&amp;#39;: {}}}},
                                        &amp;#39;Cetacea&amp;#39;: {&amp;#39;Balaenopteridae&amp;#39;: {&amp;#39;Balaenoptera&amp;#39;: {&amp;#39;blue whale&amp;#39;: {}}}}}}},
 &amp;#39;Plantae&amp;#39;: {&amp;#39;Solanales&amp;#39;: {&amp;#39;Convolvulaceae&amp;#39;: {&amp;#39;Ipomoea&amp;#39;: {&amp;#39;sweet potato&amp;#39;: {}}},
                           &amp;#39;Solanaceae&amp;#39;: {&amp;#39;Solanum&amp;#39;: {&amp;#39;potato&amp;#39;: {},
                                                      &amp;#39;tomato&amp;#39;: {}}}}}}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªå¯èƒ½ä¸æ˜¯å¾ˆæœ‰ç”¨ï¼Œä¸”éœ€è¦ä¸€äº›ä»¤äººè´¹è§£çš„ä»£ç ï¼ˆè§å¦‚ä¸Š &lt;code&gt;add()&lt;/code&gt; ï¼‰ã€‚ä½†æ˜¯å¦‚æœä½ å–œæ¬¢Pythonï¼Œæˆ‘å¸Œæœ›è¿™ä¸ªä¼šè®©ä½ è§‰å¾—æœ‰è¶£æˆ–è€…å€¼å¾—å»ç†è§£ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category><category term="ç¿»è¯‘"></category></entry><entry><title>å‡ ä¸ªç»„åˆå‘½ä»¤</title><link href="http://youngsterxyf.github.io/2012/12/12/several-command-line/" rel="alternate"></link><published>2012-12-12T00:00:00+08:00</published><updated>2012-12-12T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-12-12:/2012/12/12/several-command-line/</id><summary type="html">&lt;p&gt;1.
Debianç³»Linuxä¸‹æŸ¥æ‰¾æŸä¸ªè½¯ä»¶åŒ…(ä»¥indentä¸ºä¾‹)ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;apt-cache search indent | awk &lt;span style="color: #a31515"&gt;&amp;#39;{if($1~/^indent$/) print $0}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;APTåŒ…ç®¡ç†å·¥å…·ä¹Ÿæä¾›äº†ç±»ä¼¼åŠŸèƒ½çš„å‘½ä»¤é€‰é¡¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;apt-cache pkgnames &lt;span style="color: #a31515"&gt;&amp;#39;indent&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åªä¸è¿‡è¿™ä¸ªè¾“å‡ºä»…æœ‰åŒ…åæ²¡æœ‰ç®€ä»‹ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;2.
å¯¹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰Cæºç æ–‡ä»¶ä½¿ç”¨indentè¿›è¡Œæ ¼å¼åŒ–ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ls | grep &lt;span style="color: #a31515"&gt;&amp;#39;\.c$&amp;#39;&lt;/span&gt; | xargs indent â€¦&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;1.
Debianç³»Linuxä¸‹æŸ¥æ‰¾æŸä¸ªè½¯ä»¶åŒ…(ä»¥indentä¸ºä¾‹)ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;apt-cache search indent | awk &lt;span style="color: #a31515"&gt;&amp;#39;{if($1~/^indent$/) print $0}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;APTåŒ…ç®¡ç†å·¥å…·ä¹Ÿæä¾›äº†ç±»ä¼¼åŠŸèƒ½çš„å‘½ä»¤é€‰é¡¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;apt-cache pkgnames &lt;span style="color: #a31515"&gt;&amp;#39;indent&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åªä¸è¿‡è¿™ä¸ªè¾“å‡ºä»…æœ‰åŒ…åæ²¡æœ‰ç®€ä»‹ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;2.
å¯¹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰Cæºç æ–‡ä»¶ä½¿ç”¨indentè¿›è¡Œæ ¼å¼åŒ–ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ls | grep &lt;span style="color: #a31515"&gt;&amp;#39;\.c$&amp;#39;&lt;/span&gt; | xargs indent
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶å®å¦‚ä¸‹ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;indent *.c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½†å› ä¸ºshellä¼šå¯¹*è¿›è¡Œå±•å¼€ï¼Œå¦‚æœå½“å‰ç›®å½•ä¸‹çš„Cæºç æ–‡ä»¶æ•°ç›®å¾ˆå¤§æ—¶ï¼Œå¯èƒ½ä¼šé€ æˆå‘½ä»¤è¡Œé•¿åº¦è¿‡é•¿çš„é—®é¢˜ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="å‘½ä»¤è¡Œ"></category></entry><entry><title>é«˜æ€§èƒ½MySQL - 1.MySQLæ¶æ„</title><link href="http://youngsterxyf.github.io/2012/12/11/high-performance-MySQL-1/" rel="alternate"></link><published>2012-12-11T00:00:00+08:00</published><updated>2012-12-11T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-12-11:/2012/12/11/high-performance-MySQL-1/</id><summary type="html">&lt;h2&gt;MySQLé€»è¾‘æ¶æ„&lt;/h2&gt;
&lt;p&gt;&lt;img alt="mysql-arch" src="https://raw.githubusercontent.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/mysql-arch.jpg"&gt;&lt;/p&gt;
&lt;p&gt;1.
æ¯ä¸ªå®¢æˆ·è¿æ¥åœ¨æœåŠ¡å™¨è¿›ç¨‹ä¸­éƒ½æ‹¥æœ‰è‡ªå·±çš„çº¿ç¨‹ï¼Œæ¯ä¸ªè¿æ¥æ‰€å±çš„æŸ¥è¯¢éƒ½ä¼šåœ¨æŒ‡å®šçš„æŸä¸ªå•ç‹¬çº¿ç¨‹ä¸­å®Œæˆï¼Œè¿™äº›çº¿ â€¦&lt;/p&gt;</summary><content type="html">&lt;h2&gt;MySQLé€»è¾‘æ¶æ„&lt;/h2&gt;
&lt;p&gt;&lt;img alt="mysql-arch" src="https://raw.githubusercontent.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/mysql-arch.jpg"&gt;&lt;/p&gt;
&lt;p&gt;1.
æ¯ä¸ªå®¢æˆ·è¿æ¥åœ¨æœåŠ¡å™¨è¿›ç¨‹ä¸­éƒ½æ‹¥æœ‰è‡ªå·±çš„çº¿ç¨‹ï¼Œæ¯ä¸ªè¿æ¥æ‰€å±çš„æŸ¥è¯¢éƒ½ä¼šåœ¨æŒ‡å®šçš„æŸä¸ªå•ç‹¬çº¿ç¨‹ä¸­å®Œæˆï¼Œè¿™äº›çº¿ç¨‹è½®æµè¿è¡Œåœ¨æŸä¸ªCPUæ ¸å¿ƒæˆ–CPUä¸Šã€‚æœåŠ¡å™¨è´Ÿè´£ç¼“å­˜çº¿ç¨‹ï¼Œå› æ­¤ä¸éœ€è¦ä¸ºæ¯ä¸ªæ–°çš„è¿æ¥é‡å»ºæˆ–æ’¤é”€çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;2.
MySQLä¼šè§£ææŸ¥è¯¢ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå†…éƒ¨æ•°æ®ç»“æ„(è§£ææ ‘)ï¼Œç„¶åå¯¹å…¶è¿›è¡Œå„ç§ä¼˜åŒ–ã€‚å…¶ä¸­åŒ…æ‹¬é‡å†™æŸ¥è¯¢ï¼Œå†³å®šæŸ¥è¯¢çš„è¯»è¡¨é¡ºåºï¼Œä»¥åŠé€‰æ‹©éœ€ä½¿ç”¨çš„ç´¢å¼•ç­‰ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ç‰¹æ®Šçš„å…³é”®å­—ç»™ä¼˜åŒ–å™¨ä¼ é€’å„ç§æç¤ºï¼Œå½±å“å®ƒçš„å†³ç­–è¿‡ç¨‹ã€‚å¦å¤–è¿˜å¯ä»¥è¯·æ±‚æœåŠ¡å™¨ç»™å‡ºä¼˜åŒ–è¿‡ç¨‹çš„å„ç§è¯´æ˜ï¼Œä½¿ç”¨æˆ·å¯ä»¥çŸ¥æ™“æœåŠ¡å™¨æ˜¯å¦‚ä½•è¿›è¡Œä¼˜åŒ–å†³ç­–çš„ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªå‚è€ƒåŸºå‡†ï¼Œæ–¹ä¾¿ç”¨æˆ·é‡å†™æŸ¥è¯¢ã€æ¶æ„å’Œä¿®æ”¹ç›¸å…³é…ç½®ï¼Œä¾¿äºåº”ç”¨å°½å¯èƒ½é«˜æ•ˆåœ°è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜åŒ–å™¨å¹¶ä¸å…³å¿ƒæŸä¸ªè¡¨ä½¿ç”¨å“ªç§å­˜å‚¨å¼•æ“ï¼Œä½†å­˜å‚¨å¼•æ“å¯¹æœåŠ¡å™¨çš„æŸ¥è¯¢ä¼˜åŒ–è¿‡ç¨‹æœ‰å½±å“ã€‚ä¼˜åŒ–å™¨ä¼šè¯·æ±‚å­˜å‚¨å¼•æ“ä¸ºæŸç§å…·ä½“æ“ä½œæä¾›æ€§èƒ½ä¸å¼€é”€æ–¹é¢çš„ä¿¡æ¯ï¼Œä»¥åŠè¡¨å†…æ•°æ®çš„ç»Ÿè®¡ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œåœ¨è§£ææŸ¥è¯¢ä¹‹å‰ï¼ŒæœåŠ¡å™¨ä¼š"è¯¢é—®"æŸ¥è¯¢ç¼“å­˜ï¼Œå®ƒåªèƒ½ä¿å­˜SELECTè¯­å¥å’Œç›¸åº”çš„ç»“æœã€‚å¦‚æœèƒ½åœ¨ç¼“å­˜ä¸­æ‰¾åˆ°å°†è¦æ‰§è¡Œçš„æŸ¥è¯¢ï¼ŒæœåŠ¡å™¨å°±ä¸å¿…é‡æ–°è§£æã€ä¼˜åŒ–æˆ–é‡æ–°æ‰§è¡ŒæŸ¥è¯¢ï¼Œåªéœ€ç›´æ¥è¿”å›å·²æœ‰ç»“æœå³å¯ã€‚&lt;/p&gt;
&lt;h2&gt;å¹¶å‘æ§åˆ¶&lt;/h2&gt;
&lt;p&gt;1.
è¯»é”(Read Lock)/å†™é”(Write Lock)ï¼šå¹¶å‘æ§åˆ¶çš„æ¦‚å¿µå¾ˆç®€å•-åœ¨å¤„ç†å¹¶å‘å†™æˆ–å¹¶å‘è¯»æ—¶ï¼Œç³»ç»Ÿä¼šä½¿ç”¨ä¸€å¥—é”ç³»ç»Ÿæ¥è§£å†³é—®é¢˜ã€‚è¿™ç§é”ç³»ç»Ÿç”±ä¸¤ç±»é”ç»„æˆï¼Œé€šå¸¸ç§°ä¹‹ä¸º &lt;strong&gt;å…±äº«é”&lt;/strong&gt; (Shared Lock)å’Œ &lt;strong&gt;æ’ä»–é”&lt;/strong&gt; (Exclusive Lock)ï¼Œæˆ–è€…å« &lt;strong&gt;è¯»é”&lt;/strong&gt; (Read Lock)å’Œ &lt;strong&gt;å†™é”&lt;/strong&gt; (Write Lock)ã€‚&lt;/p&gt;
&lt;p&gt;2.
é”ç²’åº¦(Lock Granularity)ï¼šä¸€ç§æé«˜å…±äº«èµ„æºå¹¶å‘æ€§çš„æ–¹æ³•å°±æ˜¯è®©é”å®šå¯¹è±¡æ›´æœ‰é€‰æ‹©æ€§ã€‚è¦è®°ä½åªé”å®šéƒ¨åˆ†éœ€ä¿®æ”¹çš„æ•°æ®ï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„èµ„æºã€‚ä»»ä½•æ—¶é—´ï¼Œåœ¨ç»™å®šçš„èµ„æºä¸Šï¼Œè¢«åŠ é”çš„æ•°æ®é‡è¶Šå°ï¼Œå°±å¯ä»¥å…è®¸æ›´å¤šçš„å¹¶å‘ä¿®æ”¹ï¼Œåªè¦ç›¸äº’ä¹‹é—´äº’ä¸å†²çªå³å¯ã€‚é—®é¢˜æ˜¯åŠ é”ä¹Ÿä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚æ¯ä¸€ç§é”æ“ä½œï¼Œå¦‚è·å¾—é”ã€æ£€æŸ¥é”æ˜¯å¦å·²è§£é™¤ï¼Œä»¥åŠé‡Šæ”¾é”ç­‰ï¼Œéƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¼€é”€ã€‚æ‰€è°“çš„é”ç­–ç•¥ï¼Œå°±æ˜¯åœ¨é”å¼€é”€å’Œæ•°æ®å®‰å…¨ä¹‹é—´å¯»æ±‚ä¸€ç§å¹³è¡¡ã€‚ä¸ºæ­¤ï¼ŒMySQLæä¾›äº†å¤šç§é€‰æ‹©ã€‚æ¯ç§MySQLå­˜å‚¨å¼•æ“éƒ½å¯ä»¥å®ç°ç‹¬æœ‰çš„é”ç­–ç•¥æˆ–é”ç²’åº¦ã€‚&lt;/p&gt;
&lt;p&gt;è¡¨é”(Table Lock)ï¼šå¼€é”€æœ€å°çš„é”ç­–ç•¥&lt;/p&gt;
&lt;p&gt;è¡Œçº§é”(Row Locks)ï¼šæœ€å¤§å¹¶å‘å¤„ç†çš„é”ç­–ç•¥&lt;/p&gt;
&lt;h2&gt;äº‹åŠ¡&lt;/h2&gt;
&lt;p&gt;äº‹åŠ¡æ˜¯ä¸€ç»„åŸå­æ€§çš„SQLæŸ¥è¯¢è¯­å¥ï¼Œä¹Ÿå¯ä»¥è¢«çœ‹ä½œä¸€ä¸ªå·¥ä½œå•å…ƒã€‚å¦‚æœæ•°æ®åº“å¼•æ“èƒ½å¤ŸæˆåŠŸåœ°å¯¹æ•°æ®åº“åº”ç”¨æ‰€æœ‰çš„æŸ¥è¯¢è¯­å¥ï¼Œå®ƒå°±ä¼šæ‰§è¡Œæ‰€æœ‰æŸ¥è¯¢ï¼Œä½†æ˜¯ï¼Œå¦‚æœä»»ä½•ä¸€æ¡æŸ¥è¯¢è¯­å¥å› ä¸ºå´©æºƒæˆ–å…¶ä»–åŸå› è€Œæ— æ³•æ‰§è¡Œï¼Œé‚£ä¹ˆæ‰€æœ‰çš„è¯­å¥å°±éƒ½ä¸ä¼šæ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œäº‹åŠ¡å†…çš„è¯­å¥è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆä¸€å¥ä¹Ÿä¸æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ACID&lt;/strong&gt; :&lt;/p&gt;
&lt;p&gt;åŸå­æ€§(Atomicity) - ä¸€ä¸ªäº‹åŠ¡å¿…é¡»è¢«è§†ä¸ºä¸€ä¸ªå•ç‹¬çš„å†…éƒ¨"ä¸å¯åˆ†"çš„å·¥ä½œå•å…ƒï¼Œä»¥ç¡®ä¿æ•´ä¸ªäº‹åŠ¡è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»šã€‚&lt;/p&gt;
&lt;p&gt;ä¸€è‡´æ€§(Consistency) - æ•°æ®åº“æ€»æ˜¯ä»ä¸€ç§ä¸€è‡´æ€§çŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ç§ä¸€è‡´æ€§çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;éš”ç¦»æ€§(Isolation) - æŸä¸ªäº‹åŠ¡çš„ç»“æœåªæœ‰åœ¨å®Œæˆåæ‰å¯¹å…¶ä»–äº‹åŠ¡å¯è§ã€‚&lt;/p&gt;
&lt;p&gt;æŒä¹…æ€§(Durability) - ä¸€æ—¦ä¸€ä¸ªäº‹åŠ¡æäº¤ï¼Œäº‹åŠ¡æ‰€åšçš„æ•°æ®æ”¹å˜å°†æ˜¯æ°¸ä¹…çš„ã€‚&lt;/p&gt;
&lt;p&gt;1.
éš”ç¦»çº§ï¼šSQLæ ‡å‡†å®šä¹‰äº†4ç±»éš”ç¦»çº§ï¼Œ&lt;/p&gt;
&lt;p&gt;READ UNCOMMITTED(è¯»å–æœªæäº¤å†…å®¹) - åœ¨READ UNCOMMITTEDéš”ç¦»çº§ï¼Œæ‰€æœ‰äº‹åŠ¡éƒ½å¯ä»¥"çœ‹åˆ°"æœªæäº¤äº‹åŠ¡çš„æ‰§è¡Œç»“æœã€‚åœ¨è¿™ç§çº§åˆ«ä¸Šï¼Œå¯èƒ½ä¼šäº§ç”Ÿå¾ˆå¤šé—®é¢˜ï¼Œæ‰€ä»¥å¾ˆå°‘ç”¨äºå®é™…åº”ç”¨ã€‚è¯»å–æœªæäº¤æ•°æ®ï¼Œä¹Ÿè¢«ç§°ä¸º" &lt;strong&gt;è„è¯»&lt;/strong&gt; "(Dirty Read)ã€‚&lt;/p&gt;
&lt;p&gt;READ COMMITTED(è¯»å–æäº¤å†…å®¹) - å¤§å¤šæ•°æ•°æ®åº“ç³»ç»Ÿçš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯READ COMMITTED(ä½†è¿™ä¸æ˜¯MySQLé»˜è®¤çš„ï¼)ã€‚å®ƒæ»¡è¶³äº†éš”ç¦»æ€§çš„æ—©å…ˆå®šä¹‰ã€‚ä¹Ÿæ”¯æŒæ‰€è°“çš„" &lt;strong&gt;ä¸å¯é‡å¤è¯»&lt;/strong&gt; "(Nonrepeatable Read)ã€‚è¿™æ„å‘³ç€ç”¨æˆ·è¿è¡ŒåŒä¸€è¯­å¥ä¸¤æ¬¡ï¼Œçœ‹åˆ°çš„ç»“æœæ˜¯ä¸åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;REPEATABLE READ(å¯é‡å¤è¯») - ç¡®ä¿åŒä¸€äº‹åŠ¡çš„å¤šä¸ªå®ä¾‹åœ¨å¹¶å‘è¯»å–æ•°æ®æ—¶ï¼Œä¼š"çœ‹åˆ°åŒæ ·çš„"æ•°æ®è¡Œã€‚ä¸è¿‡ç†è®ºä¸Šï¼Œè¿™ä¼šå¯¼è‡´å¦ä¸€ä¸ªé—®é¢˜ï¼š &lt;strong&gt;å¹»è¯»&lt;/strong&gt; (Phantom Read)ã€‚ç®€å•æ¥è¯´ï¼Œå¹»è¯»æŒ‡å½“ç”¨æˆ·è¯»å–æŸä¸€èŒƒå›´çš„æ•°æ®è¡Œæ—¶ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡åˆåœ¨è¯¥èŒƒå›´å†…æ’å…¥äº†æ–°è¡Œï¼Œå½“ç”¨æˆ·å†è¯»å–è¯¥èŒƒå›´çš„æ•°æ®è¡Œæ—¶ï¼Œä¼šå‘ç°æœ‰æ–°çš„"å¹»å½±"è¡Œã€‚InnoDBå’ŒFalconå­˜å‚¨å¼•æ“é€šè¿‡å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶æœºåˆ¶è§£å†³äº†å¹»è¯»é—®é¢˜ã€‚ï¼ˆMySQLçš„é»˜è®¤äº‹åŠ¡éš”ç¦»çº§ï¼‰&lt;/p&gt;
&lt;p&gt;SERIALIZABLE(å¯ä¸²è¡ŒåŒ–) - æœ€é«˜çº§åˆ«çš„éš”ç¦»çº§ï¼Œé€šè¿‡å¼ºåˆ¶äº‹åŠ¡æ’åºï¼Œä½¿ä¹‹ä¸å¯èƒ½ç›¸äº’å†²çªï¼Œä»è€Œè§£å†³å¹»è¯»é—®é¢˜ã€‚ç®€è¨€ä¹‹ï¼ŒSERIALIZABLEæ˜¯åœ¨æ¯ä¸ªè¯»çš„æ•°æ®è¡Œä¸ŠåŠ é”ã€‚åœ¨è¿™ä¸ªçº§åˆ«ï¼Œå¯èƒ½å¯¼è‡´å¤§é‡çš„è¶…æ—¶(Timeout)ç°è±¡å’Œé”ç«äº‰(Lock Contention)ç°è±¡&lt;/p&gt;
&lt;h2&gt;å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶&lt;/h2&gt;
&lt;p&gt;MVCC(Multiversion Concurrency Control)æ˜¯é€šè¿‡åŠæ—¶ä¿å­˜åœ¨æŸäº›æ—¶åˆ»çš„æ•°æ®å¿«ç…§ï¼Œè€Œå¾—ä»¥å®ç°çš„ã€‚è¿™æ„å‘³ç€åŒä¸€äº‹åŠ¡çš„å¤šä¸ªå®ä¾‹ï¼Œåœ¨åŒæ—¶è¿è¡Œæ—¶ï¼Œæ— è®ºå®ä¾‹è¿è¡Œå¤šä¹…ï¼Œå®ƒä»¬çœ‹åˆ°çš„æ•°æ®è§†å›¾æ˜¯ä¸€è‡´çš„ã€‚è€ŒåŒä¸€æ—¶é—´ï¼Œå¯¹äºåŒä¸€å¼ è¡¨ï¼Œä¸åŒäº‹åŠ¡çœ‹åˆ°çš„æ•°æ®å´æ˜¯ä¸åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;InnoDBé€šè¿‡ä¸ºæ¯ä¸ªæ•°æ®è¡Œå¢åŠ ä¸¤ä¸ªéšå«å€¼çš„æ–¹å¼æ¥å®ç°MVCCã€‚è¿™ä¸¤ä¸ªéšå«å€¼è®°å½•äº†è¡Œçš„åˆ›å»ºæ—¶é—´ï¼Œä»¥åŠå®ƒçš„è¿‡æœŸæ—¶é—´(æˆ–è€…å«åˆ é™¤æ—¶é—´)
ã€‚æ¯ä¸€è¡Œéƒ½å­˜å‚¨äº†äº‹ä»¶å‘ç”Ÿæ—¶çš„ç³»ç»Ÿç‰ˆæœ¬å·ï¼Œç”¨æ¥æ›¿ä»£äº‹ä»¶å‘ç”Ÿæ—¶çš„å®é™…æ—¶é—´ã€‚æ¯ä¸€æ¬¡ï¼Œå¼€å§‹ä¸€ä¸ªæ–°äº‹åŠ¡æ—¶ï¼Œç‰ˆæœ¬å·éƒ½ä¼šè‡ªåŠ¨é€’å¢ã€‚æ¯ä¸ªäº‹åŠ¡éƒ½ä¼šä¿å­˜å®ƒåœ¨å¼€å§‹æ—¶çš„"å½“å‰ç³»ç»Ÿç‰ˆæœ¬"
çš„è®°å½•ï¼Œè€Œæ¯ä¸ªæŸ¥è¯¢éƒ½ä¼šæ ¹æ®äº‹åŠ¡çš„ç‰ˆæœ¬å·ï¼Œæ£€æŸ¥æ¯è¡Œæ•°æ®çš„ç‰ˆæœ¬å·ã€‚&lt;/p&gt;
&lt;h2&gt;MySQLçš„å­˜å‚¨å¼•æ“&lt;/h2&gt;
&lt;p&gt;åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼ŒMySQLä¼šæŠŠæ¯ä¸ªæ•°æ®åº“ä¿å­˜ä¸ºæ•°æ®ç›®å½•ä¸‹çš„ä¸€ä¸ªå­ç›®å½•ã€‚å½“åˆ›å»ºä¸€ä¸ªè¡¨æ—¶ï¼ŒMySQLä¼šåœ¨å’Œè¡¨ååŒåçš„ã€ä»¥.frmä¸ºåç¼€çš„æ–‡ä»¶ä¸­å­˜å‚¨è¡¨çš„å®šä¹‰ã€‚å› ä¸ºMySQLä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ¥å­˜å‚¨æ•°æ®åº“åå’Œè¡¨å®šä¹‰ï¼Œå¤§å°å†™æ•æ„Ÿå°†ä¾èµ–äºå…·ä½“çš„å¹³å°ã€‚åœ¨Windowså¹³å°ä¸Šï¼ŒMySQLçš„å®ä¾‹(Instance)åã€è¡¨åã€æ•°æ®åº“åéƒ½æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„; åœ¨Unixç±»å¹³å°ä¸Šï¼Œåˆ™æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚&lt;/p&gt;
&lt;p&gt;1.
&lt;strong&gt;MyISAMå¼•æ“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼ŒMyISAMå°†æ¯ä¸ªè¡¨å­˜ä¸ºä¸¤ä¸ªæ–‡ä»¶ï¼šæ•°æ®æ–‡ä»¶å’Œç´¢å¼•æ–‡ä»¶ã€‚ä¸¤ä¸ªæ–‡ä»¶çš„æ‰©å±•ååˆ†åˆ«ä¸º.MYDå’Œ.MYIã€‚MyISAMçš„æ ¼å¼æ˜¯å¹³å°é€šç”¨çš„ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·å¯ä»¥åœ¨ä¸åŒæ¶æ„çš„æœåŠ¡å™¨ä¸Šæ¯«æ— é—®é¢˜åœ°ç›¸äº’æ‹·è´æ•°æ®æ–‡ä»¶å’Œç´¢å¼•æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;MyISAMè¡¨å¯ä»¥åŒ…å«åŠ¨æ€è¡Œå’Œé™æ€è¡Œ(å³å›ºå®šé•¿åº¦è¡Œ)ã€‚MySQLä¼šæ ¹æ®è¡¨å®šä¹‰å†³å®šé€‰ç”¨ä½•ç§æ ¼å¼ã€‚MyISAMè¡¨çš„å¯å®¹çº³çš„è¡Œæ€»æ•°ï¼Œä¸€èˆ¬åªå—é™äºæ•°æ®åº“æœåŠ¡å™¨çš„å¯ç”¨ç£ç›˜ç©ºé—´å¤§å°ï¼Œä»¥åŠæ“ä½œç³»ç»Ÿå…è®¸åˆ›å»ºçš„æœ€å¤§æ–‡ä»¶å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;MyISAMçš„ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;p&gt;-åŠ é”ä¸å¹¶å‘ - MyISAMå¯¹æ•´å¼ è¡¨è¿›è¡ŒåŠ é”ï¼Œè€Œä¸æ˜¯è¡Œã€‚&lt;/p&gt;
&lt;p&gt;-...&lt;/p&gt;
&lt;p&gt;2.
&lt;strong&gt;InnoDBå¼•æ“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;InnoDBä¸“ä¸ºäº‹åŠ¡å¤„ç†è®¾è®¡çš„ä¸€æ¬¾å­˜å‚¨å¼•æ“ï¼Œç‰¹åˆ«æ˜¯ç”¨äºå¤„ç†å¤§é‡çŸ­æœŸ(Short-lived)äº‹åŠ¡ï¼ŒçŸ­æœŸäº‹åŠ¡æ˜¯æŒ‡ä¸€èˆ¬èƒ½æ­£å¸¸å®Œæˆï¼Œä¸éœ€è¦å›æ»šçš„äº‹åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;InnoDBå°†æ‰€æœ‰æ•°æ®å…±åŒå­˜å‚¨åœ¨ä¸€ä¸ªæˆ–å‡ ä¸ªæ•°æ®æ–‡ä»¶ä¸­ï¼Œè¿™ç§æ•°æ®æ–‡ä»¶ä¸€èˆ¬ç§°ä¹‹ä¸º &lt;strong&gt;è¡¨ç©ºé—´&lt;/strong&gt; ã€‚åœ¨MySQL 4.1ç‰ˆä»¥åŠæ›´æ–°ç‰ˆæœ¬ä¸­ï¼ŒInnoDBä¹Ÿæ”¯æŒå°†æ¯ä¸ªè¡¨å’Œç›¸å…³ç´¢å¼•å­˜å‚¨ä¸ºå•ç‹¬çš„åˆ†ç¦»æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;InnoDBä½¿ç”¨MVCCæœºåˆ¶è·å–é«˜å¹¶å‘æ€§èƒ½ï¼Œå¹¶ä¸”å®ç°æ‰€æœ‰å››ä¸ªæ ‡å‡†éš”ç¦»çº§åˆ«ã€‚é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯REPEATABLE READï¼Œåœ¨è¿™ä¸ªéš”ç¦»çº§ä¸Šï¼Œä½¿ç”¨é—´éš™é”ç­–ç•¥é˜²æ­¢"å¹»è¯»"é—®é¢˜çš„äº§ç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;InnoDBè¡¨æ˜¯åŸºäº &lt;strong&gt;èšç°‡ç´¢å¼•&lt;/strong&gt;
å»ºç«‹çš„ï¼Œèƒ½æä¾›ä¸€ç§éå¸¸å¿«é€Ÿçš„ä¸»é”®æŸ¥æ‰¾æ€§èƒ½ã€‚ä¸è¿‡ï¼Œå®ƒçš„è¾…åŠ©ç´¢å¼•(Secondary Indexï¼Œä¹Ÿå°±æ˜¯éä¸»é”®ç´¢å¼•)ä¹Ÿä¼šåŒ…å«ä¸»é”®åˆ—ï¼Œæ‰€ä»¥ï¼Œå¦‚æœä¸»é”®å®šä¹‰çš„æ¯”è¾ƒå¤§ï¼Œå…¶ä»–ç´¢å¼•ä¹Ÿå°†å¾ˆå¤§ã€‚å¦‚æœæƒ³åœ¨è¡¨ä¸Šå®šä¹‰å¾ˆå¤šç´¢å¼•ï¼Œåˆ™äº‰å–å°½é‡æŠŠä¸»é”®å®šä¹‰å¾—å°ä¸€äº›ã€‚InnoDBä¸ä¼šå‹ç¼©ç´¢å¼•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€‰æ‹©åˆé€‚çš„å¼•æ“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è€ƒè™‘çš„å› ç´ ï¼šäº‹åŠ¡ï¼Œå¹¶å‘ï¼Œå¤‡ä»½ï¼Œå´©æºƒåæ¢å¤ï¼Œç‰¹æœ‰ç‰¹æ€§&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒèµ„æ–™&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é«˜æ€§èƒ½MySQL&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://cupoy.iteye.com/blog/251796"&gt;ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="å…¶ä»–"></category><category term="æ•°æ®åº“"></category><category term="MySQL"></category></entry><entry><title>æ—¥å¿—ä¿¡æ¯å‘½ä»¤è¡Œå®æ—¶è¾“å‡º</title><link href="http://youngsterxyf.github.io/2012/12/10/tail-and-xtail/" rel="alternate"></link><published>2012-12-10T00:00:00+08:00</published><updated>2012-12-10T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-12-10:/2012/12/10/tail-and-xtail/</id><summary type="html">&lt;p&gt;Webå¼€å‘ä¸­å¾ˆå¤šæ—¶å€™éœ€è¦è¾¹çœ‹webæœåŠ¡å™¨çš„æ—¥å¿—è¾“å‡ºè¾¹è°ƒè¯•ä»£ç ã€‚ä¸€èˆ¬çš„åšæ³•ä½¿ç”¨tailå‘½ä»¤è¾“å‡ºæ—¥å¿—æ–‡ä»¶çš„æœ«å°¾å‡ è¡Œæ—¥å¿—ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;tail -10 /var/log/nginx/access.log  &lt;span style="color: #008000"&gt;# è¾“å‡ºæœ«å°¾10è¡Œ&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½†è¿™æ ·çš„è¾“å‡ºæ˜¯é™æ€çš„ã€‚åœ¨è¿™ä¸ªå‘½ä»¤æ‰§è¡Œä¹‹åï¼Œæ—¥å¿—æ–‡ä»¶é‡Œæ–°å¢çš„æ—¥å¿— â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Webå¼€å‘ä¸­å¾ˆå¤šæ—¶å€™éœ€è¦è¾¹çœ‹webæœåŠ¡å™¨çš„æ—¥å¿—è¾“å‡ºè¾¹è°ƒè¯•ä»£ç ã€‚ä¸€èˆ¬çš„åšæ³•ä½¿ç”¨tailå‘½ä»¤è¾“å‡ºæ—¥å¿—æ–‡ä»¶çš„æœ«å°¾å‡ è¡Œæ—¥å¿—ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;tail -10 /var/log/nginx/access.log  &lt;span style="color: #008000"&gt;# è¾“å‡ºæœ«å°¾10è¡Œ&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½†è¿™æ ·çš„è¾“å‡ºæ˜¯é™æ€çš„ã€‚åœ¨è¿™ä¸ªå‘½ä»¤æ‰§è¡Œä¹‹åï¼Œæ—¥å¿—æ–‡ä»¶é‡Œæ–°å¢çš„æ—¥å¿—ä¿¡æ¯æ— æ³•ç›´æ¥çœ‹åˆ°ã€‚è°ƒè¯•çš„æ—¶å€™ï¼Œä¸€éåˆä¸€éåœ°ä½¿ç”¨è¿™æ ·çš„å‘½ä»¤å»æŸ¥è¯¢å°±æ˜¾å¾—éå¸¸éº»çƒ¦ã€‚é‚£æœ‰æ²¡æœ‰åŠæ³•æ¥ç›‘å¬æ—¥å¿—æ–‡ä»¶çš„å˜åŒ–ï¼Œå®æ—¶è¾“å‡ºæœ€æ–°çš„æ—¥å¿—ä¿¡æ¯å‘¢ï¼Ÿ &lt;strong&gt;xtail&lt;/strong&gt; å°±ä¸“ä¸ºè¿™ä¸ªé—®é¢˜è€Œå­˜åœ¨çš„ã€‚å®ƒå¯ä»¥ç›‘å¬æ–‡ä»¶æˆ–è€…ç›®å½•(ç›‘å¬ç›®å½•å°±æ˜¯ç›‘å¬è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶)ã€‚æ¯”å¦‚æˆ‘åœ¨å†™æœ¬æ–‡æ—¶ï¼Œåœ¨å¦ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£é‡Œæ‰§è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;xtail ./
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é‚£ä¹ˆæ¯æ¬¡vimä¿å­˜å†…å®¹æ—¶ï¼Œé‚£ä¸ªçª—å£å°±ä¼šäº§ç”Ÿäº‹ä»¶è¾“å‡ºæœ€æ–°çš„æ–‡ä»¶å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·åœ¨è°ƒè¯•webç¨‹åºçš„æ—¶å€™å°±å¾ˆæ–¹ä¾¿å•¦ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®tailæœ¬èº«å°±æ”¯æŒç›‘å¬æ–‡ä»¶å¹¶å®æ—¶å‘½ä»¤è¡Œè¾“å‡ºã€‚åœ¨xtailçš„&lt;a href="http://www.unicom.com/sw/xtail"&gt;é¡¹ç›®ä¸»é¡µ&lt;/a&gt;ä¸Šæœ‰è¿™æ ·çš„è¯´æ˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;xtail watches the growth of files. It's like running a tail -f on a bunch of files at once. My favorite usage is:&lt;/p&gt;
&lt;p&gt;$ xtail /var/log/*&lt;/p&gt;
&lt;p&gt;You can specify both filenames and directories on the command line. If you specify a directory, it watches all the files in that directory. It will notice when new files are created (and start watching them) or when old files are deleted (and stop watching them).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»ä¸­å¯ä»¥çœ‹å‡ºï¼Œtailçš„-fé€‰é¡¹æ˜¯æ”¯æŒæ–‡ä»¶ç›‘å¬å¹¶å®æ—¶è¾“å‡ºçš„ã€‚tailçš„man pageé‡Œè¯´æ˜å¦‚ä¸‹:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-f, --follow[={name|descriptor}]&lt;/p&gt;
&lt;p&gt;output appended data as the file grows; -f,  --follow,  and --follow=descriptor are equivalent
&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="å…¶ä»–"></category><category term="linux"></category><category term="å‘½ä»¤"></category><category term="è°ƒè¯•"></category></entry><entry><title>VMwareé¢è¯•é¢˜ç›®æ€»ç»“</title><link href="http://youngsterxyf.github.io/2012/12/06/VMware-interview/" rel="alternate"></link><published>2012-12-06T00:00:00+08:00</published><updated>2012-12-06T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-12-06:/2012/12/06/VMware-interview/</id><summary type="html">&lt;p&gt;&lt;strong&gt;ä¸€é¢&lt;/strong&gt;ä¸­ä¸»è¦æœ‰ä¸‰é“é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;1.
å®ç°strcpyã€‚å‡½æ•°åŸå‹ï¼šchar&lt;em&gt; strcpy(char&lt;/em&gt; dest, const char* src)ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥å‘ç°è‡ªå·±å®ç°çš„æœ‰é—®é¢˜ã€‚æ­£ç¡®çš„å®ç°åº”è¯¥å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;char&lt;/span&gt;* strcpy(&lt;span style="color: #2b91af"&gt;char&lt;/span&gt;* dest, &lt;span style="color: #0000ff"&gt;const â€¦&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;ä¸€é¢&lt;/strong&gt;ä¸­ä¸»è¦æœ‰ä¸‰é“é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;1.
å®ç°strcpyã€‚å‡½æ•°åŸå‹ï¼šchar&lt;em&gt; strcpy(char&lt;/em&gt; dest, const char* src)ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥å‘ç°è‡ªå·±å®ç°çš„æœ‰é—®é¢˜ã€‚æ­£ç¡®çš„å®ç°åº”è¯¥å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;char&lt;/span&gt;* strcpy(&lt;span style="color: #2b91af"&gt;char&lt;/span&gt;* dest, &lt;span style="color: #0000ff"&gt;const&lt;/span&gt; &lt;span style="color: #2b91af"&gt;char&lt;/span&gt;* src)
{
    assert(dest!=NULL &amp;amp;&amp;amp; src!=NULL);
    &lt;span style="color: #2b91af"&gt;char&lt;/span&gt;* ret = dest;
    &lt;span style="color: #0000ff"&gt;while&lt;/span&gt;((*dest++ = *src++) != &lt;span style="color: #a31515"&gt;&amp;#39;\0&amp;#39;&lt;/span&gt;);
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; ret;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªé¢˜ç›®åšå¾—ä¸å¥½ï¼Œæˆ‘å¯¹è‡ªå·±å¾ˆå¤±æœ›å•Šã€‚&lt;/p&gt;
&lt;p&gt;2.
ç»™2n+1ä¸ªæ•°ï¼Œå…¶ä¸­nä¸ªæ•°å‡å‡ºç°äº†2æ¬¡ï¼Œæœ‰1ä¸ªæ•°åªå‡ºç°äº†1æ¬¡ï¼Œå¦‚ä½•æ‰¾å‡ºè¿™ä¸ªæ•°ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¦‚æœç”¨pythonçš„dictæ•°æ®ç»“æ„æ¥å®ç°ä¼šå¾ˆç®€å•ï¼Œä¸€æ¬¡éå†ç»Ÿè®¡æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°å°±å¯ä»¥äº†ã€‚å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œå°±ä¸éœ€è¦å°†é¢˜ç›®é™åˆ¶ä¸ºåªæœ‰ä¸€ä¸ª1ä¸ªæ•°åªå‡ºç°äº†ä¸€æ¬¡äº†ï¼Œæ‰€ä»¥è‚¯å®šæœ‰æ›´å¥½çš„ç®—æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®æ›´å¥½çš„æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; findAppearOnce(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; *array, &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; len){
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; result=0;
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; i=0;i&amp;lt;len;i++)
        result^=array[i];
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; result;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸ºä¸¤ä¸ªç›¸åŒçš„æ•°å¼‚æˆ–çš„ç»“æœæ˜¯0ã€‚&lt;/p&gt;
&lt;p&gt;3.
Linuxå†…æ ¸æ€å’Œç”¨æˆ·æ€çš„åŒºåˆ«ï¼Ÿè¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;äºŒé¢&lt;/strong&gt;ä¸»è¦è€ƒå¯Ÿè‹±è¯­å£è¯­å’Œå¬åŠ›ï¼Œä¸è®°å¾—æ˜¯å¦æœ‰ç®—æ³•é¢˜äº†ï¼Œå¥½åƒæ²¡æœ‰ã€‚è‹±è¯­è¯´å¾—ç»“ç»“å·´å·´çš„ï¼Œå¹¸å¥½äº¤æµè¿˜ä¸æ˜¯å¾ˆå›°éš¾ã€‚&lt;/p&gt;
&lt;p&gt;é™¤è‹±è¯­å¤–ï¼Œè¿˜æœ‰é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;1.
é¡¹ç›®ä¸­é‡åˆ°è¿‡çš„æœ‰éš¾åº¦çš„é—®é¢˜æœ‰å“ªäº›ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‰é¢&lt;/strong&gt;çš„é¢è¯•å®˜æ„Ÿè§‰å„ç§æ‡‚å•Šï¼Œæ ¹æ®æˆ‘çš„ç®€å†ä¸­æ¶‰åŠçš„ç›¸å…³çŸ¥è¯†è¿›è¡Œæé—®ï¼Œå„ç§ä¸ä¼šï¼Œæˆ‘çœŸæ˜¯å¼±æš´äº†ã€‚&lt;/p&gt;
&lt;p&gt;1.
ç½‘ç»œæ•°æ®åŒ…å¦‚ä½•ä»ç½‘ç»œç»“ç‚¹Aç»è¿‡è·¯ç”±å™¨åˆ°è¾¾ç»“ç‚¹Bï¼Ÿæ•°æ®åŒ…çš„MAC headerå’ŒIP eaderå„ä¸»è¦åŒ…å«äº†ä»€ä¹ˆæ•°æ®ï¼Ÿåœ¨ç»è¿‡è·¯ç”±å™¨æ—¶å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Ÿ&lt;/p&gt;
&lt;p&gt;2.
git mergeï¼Ÿå› ä¸ºæˆ‘è¯´æ²¡ç”¨è¿‡gitçš„mergeåŠŸèƒ½ï¼Œå› ä¸ºæˆ‘githubä¸Šçš„é¡¹ç›®éƒ½æ˜¯ä¸ªäººé¡¹ç›®ï¼Œæ‰€æœ‰ä»£ç éƒ½åœ¨masterä¸»å¹²ä¸Šæäº¤çš„ï¼Œæ‰€ä»¥é¢è¯•å®˜å°±æ²¡åœ¨ç»§ç»­é—®ï¼Œä¼°è®¡æ˜¯æƒ³é—®é—®mergeçš„åŸç†å§ï¼Ÿ&lt;/p&gt;
&lt;p&gt;3.
æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼Œæ‰¾å‡ºåœ¨ä¸‰ä¸ªæ–‡ä»¶ä¸­å‡å‡ºç°è¿‡çš„byteã€‚è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªbyteç±»å‹çš„æ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å½“æ—¶çš„åŸºæœ¬æ€è·¯å’Œä¸€é¢ä¸­ç¬¬2é“é¢˜ç›®çš„æ€è·¯å·®ä¸å¤šï¼Œä¹Ÿæ˜¯éå†ä¸‰ä¸ªæ–‡ä»¶ï¼Œdictçš„keyä¸ºbyteå€¼ï¼Œvalueä¸ºå‡ºç°è¿‡è¯¥byteçš„æ–‡ä»¶ã€‚ä½†è¿™æ ·å çš„å†…å­˜æœ‰ç‚¹å¤§ã€‚(åæ¥æƒ³æƒ³ï¼Œå…¶å®è¿˜å¥½å•¦ï¼Œbyteå°±8ä½ï¼Œä¹Ÿå°±256ä¸ªä¸åŒçš„å€¼)&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸ªç¨å¾®æ”¹è¿›ä¸€ç‚¹çš„æ–¹æ³•æ˜¯ï¼šåœ¨ä¸‰ä¸ªæ–‡ä»¶ä¸­å‡å‡ºç°è¿‡çš„byteï¼Œä¹Ÿå°±æ˜¯ä¸‰ä¸ªæ–‡ä»¶ä¸­byteé›†åˆçš„äº¤é›†ã€‚æ‰€ä»¥å¯ä»¥é€‰å–æœ€å°çš„æ–‡ä»¶ï¼Œä»¥å…¶ä¸­çš„byteåškeyï¼Œéå†ç¬¬äºŒä¸ªæ–‡ä»¶ï¼Œå¯¹åœ¨1,2æ–‡ä»¶ä¸­å‡å‡ºç°çš„byteè®¾ç½®valueæ ‡è®°ã€‚ç¬¬äºŒä¸ªæ–‡ä»¶éå†å®Œæˆåï¼Œå–å‡ºåšè¿‡valueæ ‡è®°çš„byte(è®¾ä¸ºé›†åˆX)ï¼Œç„¶åéå†ç¬¬ä¸‰ä¸ªæ–‡ä»¶ï¼Œå¯¹åœ¨Xå’Œç¬¬ä¸‰ä¸ªæ–‡ä»¶ä¸­å‡å‡ºç°çš„byteåšæ ‡è®°ï¼Œç¬¬ä¸‰ä¸ªæ–‡ä»¶éå†å®Œæˆåï¼Œåšè¿‡valueæ ‡è®°çš„byteå³ä¸ºç»“æœã€‚ä½†è¿™åº”è¯¥ä¸æ˜¯æœ€ä½³ç®—æ³•ã€‚è¿˜æœ‰å¾…ç»§ç»­æ€è€ƒã€‚&lt;/p&gt;
&lt;p&gt;æ›´æ–°ï¼šåŒå­¦ç»™å‡ºçš„æ–¹æ¡ˆæ˜¯-ä½¿ç”¨bitmapï¼Œæ¯ä¸ªæ–‡ä»¶å¼„ä¸ª256ä½çš„bitmapï¼Œå‡ºç°çš„byteå°±åœ¨ç›¸åº”çš„ä½ä¸Šç½®1ï¼Œç„¶åä¸‰ä¸ªbitmapæŒ‰ä½ä¸ä¸€ä¸‹ã€‚é è°±ï¼&lt;/p&gt;
&lt;p&gt;4.
ä¸ä½¿ç”¨å¾®åšçš„APIï¼Œä½¿ç”¨çˆ¬è™«å°½å¯èƒ½å¤šåœ°æŠ“å–æŸä¸ªäºº(æ¯”å¦‚æå¼€å¤)çš„ç›´æ¥ç²‰ä¸å’Œé—´æ¥ç²‰ä¸(éšä¾¿æœ‰å¤šé—´æ¥)ï¼Ÿå¦‚ä½•é¿å…é‡å¤æŠ“å–ç›¸åŒçš„ç²‰ä¸æ•°æ®ï¼Ÿ&lt;/p&gt;
&lt;p&gt;5.
å‰æ®µæ—¶é—´æœ‰äººè¯´å¯¹äºJAVAçš„hashå‡½æ•°(åº”è¯¥æ˜¯hashCode()æ–¹æ³•)ï¼Œä¸€å®šè§„å¾‹çš„å¤šä¸ªæ•°éƒ½å¯ä»¥ç”Ÿæˆç›¸åŒçš„hashå€¼ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œåœ¨åº”ç”¨ä¸­åº”è¯¥å¦‚ä½•è§£å†³ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘çš„æ€è·¯æ˜¯åœ¨hashä¹‹å‰ï¼Œå¯¹å¾…hashçš„å€¼åŠ ç›(salt)æ··åˆå†hashã€‚&lt;/p&gt;
&lt;p&gt;6.
TCPä¸UDPçš„åŒºåˆ«ï¼ŸUDPä¸»è¦ç”¨äºå“ªäº›æ–¹é¢ï¼ŸTCPè¿æ¥3æ¬¡æ¡æ‰‹ï¼Œæ–­å¼€è¿æ¥4æ¬¡æ¡æ‰‹ï¼Œä¸ºä»€ä¹ˆè¦4æ¬¡æ¡æ‰‹ï¼Ÿ&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;è¿æ¥ç»ˆæ­¢ä½¿ç”¨äº†å››è·¯æ¡æ‰‹è¿‡ç¨‹(four-way handshake)ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ¯ä¸ªç»ˆç«¯çš„è¿æ¥éƒ½èƒ½ç‹¬ç«‹åœ°è¢«ç»ˆæ­¢ã€‚å› æ­¤ï¼Œä¸€ä¸ªå…¸å‹çš„æ‹†æ¥è¿‡ç¨‹éœ€è¦æ¯ä¸ªç»ˆç«¯éƒ½æä¾›ä¸€å¯¹FINå’ŒACKã€‚è€Œå»ºç«‹è¿æ¥å§‹ç»ˆæ˜¯ç”±å®¢æˆ·ç«¯å‘èµ·è¿æ¥çš„ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;7.
è®¿é—®æŸäº›ç½‘ç«™æ—¶ï¼Œè¯·æ±‚ç»“æœæ˜¯â€œè¿æ¥è¢«é‡ç½®â€çš„æŠ¥å‘Šï¼Œé‚£ä¹ˆè¿æ¥è¢«é‡ç½®çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;è¿æ¥è¢«é‡ç½®çš„æœ¬è´¨ï¼Œæ˜¯å› ä¸ºæ”¶åˆ°äº†ç ´åè¿æ¥çš„ä¸€ä¸ª TCP Reset åŒ…
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…·ä½“å¯å‚è€ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://blog.youxu.info/2010/03/14/west-chamber/"&gt;â€œè¥¿å¢è®¡åˆ’â€åŸç†å°è§£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.google.com/p/scholarzhang/"&gt;â€œè¥¿å¢è®¡åˆ’â€é¡¹ç›®ä¸»é¡µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.chinagfw.org/2010/05/tcpgfw.html"&gt;å¯¹TCPè¿æ¥è¢«é‡ç½®è§£å†³æ–¹æ¡ˆçš„æ¢ç©¶â€•â€•è·¨è¿‡GFWé€šå‘è‡ªç”±ç½‘ç»œçš„å¯è¡Œé€”å¾„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://hi.baidu.com/gmbiarxfezhmuxe/item/4ac2d1f218abbe1be3e3bd4d"&gt;ç®€è¿°TCPä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ï¼Œå¹¶è¯´æ˜ä¸ºä»€ä¹ˆè¦3æ¬¡æ¡æ‰‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;VMwareçš„å·¥ä½œç¯å¢ƒå¾ˆä¸é”™ï¼Œå„ç§Macï¼Œå±å¹•è¶…å¤§å•Š(è¿™æ˜¾å¾—æˆ‘å¾ˆdiaosiå•Š)ï¼Œé¢è¯•å®˜ä¹Ÿå¾ˆä¸é”™ï¼Œé—®é¢˜ä¹Ÿæ¯”è¾ƒæœ‰æ°´å¹³ã€‚å¯æƒœæˆ‘ä»Šå¤©çš„çŠ¶æ€å®åœ¨ä¸å¥½ï¼Œå„ç§ä¸ä¼šï¼Œé“å®šè·ªäº†ã€‚å”‰ï¼diaosiçš„å‘½ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="VMware"></category><category term="é¢è¯•"></category></entry><entry><title>åšå¤§ç²¾æ·±çš„pså‘½ä»¤</title><link href="http://youngsterxyf.github.io/2012/12/06/profound-ps/" rel="alternate"></link><published>2012-12-06T00:00:00+08:00</published><updated>2012-12-06T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-12-06:/2012/12/06/profound-ps/</id><summary type="html">&lt;p&gt;Linuxå‘½ä»¤è¡Œé‡Œå¦‚ä½•è·å–æ‰€æœ‰çš„è¿›ç¨‹å·(pid)ï¼Ÿ&lt;/p&gt;
&lt;p&gt;1.
ç¬¬ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ps -eæˆ–è€…ps auxè·å¾—æ‰€æœ‰è¿›ç¨‹çš„ä¿¡æ¯ï¼Œç„¶åé€šè¿‡ç®¡é“ä¼ ç»™grepæˆ–è€…awkè¿›è¡Œæ•°æ®è¿‡æ»¤ï¼Œæ¯”å¦‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -e | awk &lt;span style="color: #a31515"&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.
å…¶å®é€šè¿‡psè‡ªèº«çš„é€‰é¡¹å°±å¯ä»¥å®ç°ï¼š &lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -eo pid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è€Œä¸”è¾“å‡ºè¿˜æ˜¯æ’å¥½åºçš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½† â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;Linuxå‘½ä»¤è¡Œé‡Œå¦‚ä½•è·å–æ‰€æœ‰çš„è¿›ç¨‹å·(pid)ï¼Ÿ&lt;/p&gt;
&lt;p&gt;1.
ç¬¬ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ps -eæˆ–è€…ps auxè·å¾—æ‰€æœ‰è¿›ç¨‹çš„ä¿¡æ¯ï¼Œç„¶åé€šè¿‡ç®¡é“ä¼ ç»™grepæˆ–è€…awkè¿›è¡Œæ•°æ®è¿‡æ»¤ï¼Œæ¯”å¦‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -e | awk &lt;span style="color: #a31515"&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.
å…¶å®é€šè¿‡psè‡ªèº«çš„é€‰é¡¹å°±å¯ä»¥å®ç°ï¼š &lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -eo pid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è€Œä¸”è¾“å‡ºè¿˜æ˜¯æ’å¥½åºçš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½†pså‘½ä»¤åœ¨è¾“å‡ºè¿›ç¨‹ä¿¡æ¯ä¹‹å‰å…ˆè¾“å‡ºä¸€è¡Œheaderï¼Œæ¯”å¦‚ps -eçš„è¾“å‡ºheaderæ˜¯ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;PID TTY          TIME CMD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚ä½•å»é™¤è¿™ä¸ªheaderå‘¢ï¼Ÿå½“ç„¶ç”¨å„ç§è¿‡æ»¤æ–¹æ³•å¯ä»¥å®ç°ï¼Œä½†psè‡ªèº«çš„é€‰é¡¹ä¹Ÿå¯ä»¥å®ç°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -eo pid h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ–è€…&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -eo pid --no-headers
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="å‘½ä»¤è¡Œ"></category><category term="å·¥å…·"></category></entry><entry><title>2012æ ¡æ‹›-sonicWALLçš„ä¸¤é“ç¼–ç¨‹ç¬”è¯•é¢˜</title><link href="http://youngsterxyf.github.io/2012/12/05/sonicWALL-exam/" rel="alternate"></link><published>2012-12-05T00:00:00+08:00</published><updated>2012-12-05T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-12-05:/2012/12/05/sonicWALL-exam/</id><summary type="html">&lt;h2&gt;æ±‚äºŒå‰æ ‘ä¸­ä¸¤ä¸ªç»“ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ&lt;/h2&gt;
&lt;p&gt;æ¯”å¦‚ï¼šå¯¹äºæ ‘&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;         A
       /
      B
    /   \
   C     D
 /   \
E     F
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/blockquote&gt;
&lt;p&gt;ç»“ç‚¹Dï¼ŒFçš„æœ€è¿‘å…¬å…±ç¥–å…ˆä¸ºB&lt;/p&gt;
&lt;p&gt;å®ç°ï¼š&lt;a href="https://github.com/youngsterxyf/Data-Structures-and-Algorithms/blob/master/nearest_common_ancestor.c"&gt;è§æºç &lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;æ±‚äºŒè¿›åˆ¶æ•´æ•°éƒ¨åˆ†bitsæ±‚ååçš„å€¼&lt;/h2&gt;
&lt;p&gt;æ¯”å¦‚ï¼šå¯¹äºæ•´ â€¦&lt;/p&gt;</summary><content type="html">&lt;h2&gt;æ±‚äºŒå‰æ ‘ä¸­ä¸¤ä¸ªç»“ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ&lt;/h2&gt;
&lt;p&gt;æ¯”å¦‚ï¼šå¯¹äºæ ‘&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;         A
       /
      B
    /   \
   C     D
 /   \
E     F
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/blockquote&gt;
&lt;p&gt;ç»“ç‚¹Dï¼ŒFçš„æœ€è¿‘å…¬å…±ç¥–å…ˆä¸ºB&lt;/p&gt;
&lt;p&gt;å®ç°ï¼š&lt;a href="https://github.com/youngsterxyf/Data-Structures-and-Algorithms/blob/master/nearest_common_ancestor.c"&gt;è§æºç &lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;æ±‚äºŒè¿›åˆ¶æ•´æ•°éƒ¨åˆ†bitsæ±‚ååçš„å€¼&lt;/h2&gt;
&lt;p&gt;æ¯”å¦‚ï¼šå¯¹äºæ•´æ•°0b1001101ï¼Œå°†ç¬¬2(begin)åˆ°ç¬¬5(end)ä½(ä»å³å¾€å·¦è®¡æ•°)ä¸Šçš„bitæ±‚åï¼Œå¾—åˆ°0b1110001ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;#include&lt;/span&gt; &lt;span style="color: #008000"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&lt;/span&gt;

&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; reverse_somebits(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; a, &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; begin, &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; end)
{
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; a^((1&amp;lt;&amp;lt;end)|((1&amp;lt;&amp;lt;end)-1))^((1&amp;lt;&amp;lt;begin)-1);
}

&lt;span style="color: #2b91af"&gt;void&lt;/span&gt; ten_to_two(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; a)
{
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(a &amp;lt; 2)
        printf(&lt;span style="color: #a31515"&gt;&amp;quot;%d&amp;quot;&lt;/span&gt;, a);
    &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;{
        ten_to_two(a/2);
        printf(&lt;span style="color: #a31515"&gt;&amp;quot;%d&amp;quot;&lt;/span&gt;, a%2);
    }
}

&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; main()
{
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; a = 0b1001101;
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; begin = 2, end = 5;
    printf(&lt;span style="color: #a31515"&gt;&amp;quot;0b&amp;quot;&lt;/span&gt;);
    ten_to_two(reverse_somebits(a, begin, end));
    printf(&lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;);
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; 0;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ³¨ï¼šæˆ‘çš„æ€è·¯æ²¡è¿™ä¹ˆç®€æ´ï¼Œæ„Ÿè°¢&lt;a href="https://github.com/tinytitan"&gt;æ¶›æ€»&lt;/a&gt;æä¾›è¿™ä¹ˆå¥½çš„æ–¹æ³•ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è¯•"></category><category term="ç®—æ³•"></category></entry><entry><title>CentOS + rsync + inotify-toolså®æ—¶å¤‡ä»½é…ç½®</title><link href="http://youngsterxyf.github.io/2012/11/29/centos+rsync+inotify-tools-realtime-backup/" rel="alternate"></link><published>2012-11-29T00:00:00+08:00</published><updated>2012-11-29T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-11-29:/2012/11/29/centos+rsync+inotify-tools-realtime-backup/</id><summary type="html">&lt;p&gt;ç°å®ä¸­ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šå› ä¸ºå„ç§åŸå› è€Œcrashæ‰ï¼Œä»è€Œé€ æˆæ•°æ®ä¸¢å¤±æˆ–è€…æœåŠ¡çš„æš‚æ—¶ä¸å¯ç”¨ã€‚ä¸ºäº†æé«˜æœåŠ¡çš„å¯ç”¨æ€§ä»¥åŠæ•°æ®çš„ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ç°å®ä¸­ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šå› ä¸ºå„ç§åŸå› è€Œcrashæ‰ï¼Œä»è€Œé€ æˆæ•°æ®ä¸¢å¤±æˆ–è€…æœåŠ¡çš„æš‚æ—¶ä¸å¯ç”¨ã€‚ä¸ºäº†æé«˜æœåŠ¡çš„å¯ç”¨æ€§ä»¥åŠæ•°æ®çš„å®‰å…¨æ€§ï¼Œå°±éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤‡ä»½ï¼Œä»¥ä¾¿æ•°æ®æ¢å¤æˆ–è€…æœåŠ¡çš„åŠ¨æ€åˆ‡æ¢(å°†è®¿é—®è¯·æ±‚åŠ¨æ€é‡å®šå‘åˆ°å¤‡ä»½æœåŠ¡å™¨)ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„å¤‡ä»½æ–¹æ³•æ˜¯å®šæ—¶çš„rsyncä»»åŠ¡æˆ–è€…è¿œç¨‹æ‹·è´ã€‚ä½†è¿™ç§æ–¹å¼ï¼Œå¦‚æœå®šæ—¶çš„é—´éš”è¾ƒå¤§ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å®•æ‰åï¼Œè¿˜æ˜¯ä¼šä¸¢å¤±éƒ¨åˆ†æ•°æ®ï¼ŒåŠ¨æ€åˆ‡æ¢çš„æœåŠ¡ä¹Ÿä¸æ˜¯å®•æœºå‰çš„æœ€æ–°çŠ¶æ€ã€‚ä¸ºäº†æ”¯æŒå®æ—¶æ•°æ®åŒæ­¥ï¼ŒLinux 2.6.13 å†…æ ¸ä¸­æ–°å¼•å…¥æ–‡ä»¶ç³»ç»Ÿå˜åŒ–é€šçŸ¥æœºåˆ¶inotifyï¼Œä¸€æ—¦å¯¹æ–‡ä»¶ç³»ç»Ÿæœ‰æ”¹åŠ¨ï¼Œå°±ä¼šè§¦å‘ç›¸å…³äº‹ä»¶ä»»åŠ¡ã€‚é€šè¿‡ç»“åˆrsyncï¼Œinotifyèƒ½å¤Ÿå¾ˆå¥½åœ°å®Œæˆå®æ—¶åŒæ­¥ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»æœåŠ¡å™¨ï¼š1.1.1.1
å¤‡ä»½æœåŠ¡å™¨ï¼š0.0.0.0&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é…ç½®æ­¥éª¤&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;1.
ä¸»æœåŠ¡å™¨ï¼Œå¤‡ä»½æœåŠ¡å™¨ä¸Šå®‰è£…rsync:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo yum install rsync
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.
ä¸»æœåŠ¡å™¨ä¸Šå®‰è£…inotify-tools:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo yum install inotify-tools
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;3.
å¤‡ä»½æœåŠ¡å™¨ä¸Šæ·»åŠ é…ç½®æ–‡ä»¶/etc/rsyncd.conf&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;readonly=no
chroot=no
uid=root
gid=root
hosts allow=1.1.1.1
hosts deny=0.0.0.0/32
max connections=10
log file=/var/log/rsyncd.log
pid file=/var/run/rsyncd.pid
lock file=/var/run/rsync.lock
auth users=tongbu
secrets file=/etc/rsync.pass

[website1]
path=/home/yongfeng/apps/website1.org/webroot/upload

[website2]
path=/home/yongfeng/apps/website2.com/webroot/upload

[website3]
path=/home/yongfeng/apps/website3.com/webroot/upload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä»¥åŠé…ç½®æ–‡ä»¶/etc/rsync.pass&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;tongbu:somesecurepassword
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç»™å¯†ç æ–‡ä»¶èµ‹æƒ:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo chmod 400 /etc/rsync.pass
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ï¼ˆæ³¨ï¼štongbuå°±æ˜¯ç”¨æˆ·åï¼Œä¸rsyncd.confä¸­auth usersçš„å€¼ä¸€è‡´ã€‚somesecurepasswordæ˜¯å¯†ç ï¼Œä¼šåœ¨åé¢ä¸»æœåŠ¡å™¨ä¸Šçš„é…ç½®å¯†ç æ–‡ä»¶ç”¨åˆ°ï¼‰&lt;/p&gt;
&lt;p&gt;4.
åœ¨å¤‡ä»½æœåŠ¡å™¨ä¸Šåˆ›å»ºéœ€è¦çš„ç›®å½•:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo mkdir -p /home/yongfeng/apps/website1.org/webroot/upload
sudo mkdir -p /home/yongfeng/apps/website2.com/webroot/upload
sudo mkdir -p /home/yongfeng/apps/website3.com/webroot/upload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;5.
åœ¨ä¸»æœåŠ¡å™¨ä¸Šæ·»åŠ é…ç½®æ–‡ä»¶/etc/rsync-client.passï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;somesecurepassword
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;èµ‹æƒé™:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;chmod 600 /etc/rsync-client.pass
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;6.
åœ¨ä¸»æœåŠ¡å™¨ä¸Šæ·»åŠ è¦æ‰§è¡Œçš„è„šæœ¬/home/autoscript/rsyncInotify.sh:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;#!/bin/sh&lt;/span&gt;
src[0]=&lt;span style="color: #a31515"&gt;&amp;#39;/var/www/apps/website1.org/webroot/upload,website1&amp;#39;&lt;/span&gt;
src[1]=&lt;span style="color: #a31515"&gt;&amp;#39;/var/www/apps/website2.com/webroot/upload,website2&amp;#39;&lt;/span&gt;
src[2]=&lt;span style="color: #a31515"&gt;&amp;#39;/var/www/apps/website3.com/webroot/upload,website3&amp;#39;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;for&lt;/span&gt; item &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; &lt;span style="color: #a31515"&gt;${&lt;/span&gt;src[@]&lt;span style="color: #a31515"&gt;}&lt;/span&gt;; &lt;span style="color: #0000ff"&gt;do&lt;/span&gt;
    fromdir=&lt;span style="color: #a31515"&gt;`&lt;/span&gt;echo $item | awk -F&lt;span style="color: #a31515"&gt;&amp;quot;,&amp;quot;&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;{print $1}&amp;#39;`&lt;/span&gt;
    module=&lt;span style="color: #a31515"&gt;`&lt;/span&gt;echo $item | awk -F&lt;span style="color: #a31515"&gt;&amp;quot;,&amp;quot;&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;#39;{print $2}&amp;#39;`&lt;/span&gt;

    /usr/bin/inotifywait -mrq --timefmt &lt;span style="color: #a31515"&gt;&amp;#39;%d/%m/%y %H:%M&amp;#39;&lt;/span&gt; --format &lt;span style="color: #a31515"&gt;&amp;#39;%T%w%f&amp;#39;&lt;/span&gt; --event modify,delete,move,create,attrib &lt;span style="color: #a31515"&gt;${&lt;/span&gt;fromdir&lt;span style="color: #a31515"&gt;}&lt;/span&gt; | &lt;span style="color: #0000ff"&gt;while&lt;/span&gt; read file event
    &lt;span style="color: #0000ff"&gt;do&lt;/span&gt;
        echo $event&lt;span style="color: #a31515"&gt;&amp;#39;-&amp;#39;&lt;/span&gt;$file
        rsync -avz --delete --password-file=/etc/rsync-client.pass &lt;span style="color: #a31515"&gt;${&lt;/span&gt;fromdir&lt;span style="color: #a31515"&gt;}&amp;#39;/&amp;#39;&lt;/span&gt; tongbu@0.0.0.0::&lt;span style="color: #a31515"&gt;${&lt;/span&gt;module&lt;span style="color: #a31515"&gt;}&lt;/span&gt;
        echo &lt;span style="color: #a31515"&gt;&amp;quot;*******************************&amp;quot;&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;done&lt;/span&gt; &amp;amp;
&lt;span style="color: #0000ff"&gt;done&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;èµ‹å¯æ‰§è¡Œæƒé™:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo chmod +x rsyncInotify.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;7.
åœ¨å¤‡ä»½æœåŠ¡å™¨çš„é˜²ç«å¢™ä¸­æ·»åŠ è§„åˆ™ä»¥å…è®¸rsyncæœåŠ¡è¯·æ±‚---å¯é€šè¿‡ç›´æ¥ç¼–è¾‘æ–‡ä»¶/etc/sysconfig/iptablesï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œå†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-A INPUT -s 1.1.1.1 -p tcp -m tcp --dport 873 -j ACCEPT
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;8.
å¤‡ä»½æœåŠ¡å™¨å¯åŠ¨rsyncæœåŠ¡:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo /usr/bin/rsync --daemon
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;9.
ä¸»æœåŠ¡å™¨å¯åŠ¨rsync+inotifyæœåŠ¡:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo /home/autoscript/tongbu/rsyncInotify.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;10.
åœ¨å¤‡ä»½æœåŠ¡å™¨ä¸Šå°†rsyncæœåŠ¡è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨æœåŠ¡---ç›´æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶/etc/rc.d/rc.localï¼Œæ·»åŠ ä¸€è¡Œå†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/usr/bin/rsync --daemon
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;11.
åœ¨ä¸»æœåŠ¡å™¨ä¸Šå°†rsyncInotify.shè®¾ç½®ä¸ºå¼€å§‹è‡ªå¯åŠ¨---ç›´æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶/etc/rc.d/rc.localï¼Œæ·»åŠ ä¸€è¡Œå†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/home/autoscript/tongbu/rsyncInotify.sh &amp;gt;&amp;gt; /home/autoscript/tongbu/tongbu.log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å­˜åœ¨çš„é—®é¢˜&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.ç”±äºrsyncå‘½ä»¤å¹¶æ²¡æœ‰æä¾›start, stopæˆ–è€…restartç­‰é€‰é¡¹ï¼Œæ‰€ä»¥æƒ³å…³é—­rsyncæœåŠ¡ï¼Œå¯ç›´æ¥ä½¿ç”¨sudo pkill rsyncæ€æ­»rsyncæœåŠ¡è¿›ç¨‹(é¢ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯è¿‡åˆ†äº†ç‚¹ï¼Ÿä½†æˆ‘æƒ³åˆ°çš„æœ€ç®€ä¾¿çš„æ–¹æ³•å°±æ˜¯è¿™ä¸ªäº†)&lt;/p&gt;
&lt;p&gt;2.åŒæ ·rsyncInotify.shä¹Ÿå­˜åœ¨è¿™æ ·çš„é—®é¢˜ï¼Œå³ä½¿ä½¿ç”¨sudo pkill rsyncInotify.shæ€æ­»äº†è¿›ç¨‹è¿˜ä¸å¤Ÿï¼Œå› ä¸ºrsyncInotify.shè„šæœ¬ä¸­è°ƒç”¨äº†inotifywaitå‘½ä»¤ï¼Œæ‰€ä»¥è¿˜å¾—sudo pkill inotifywaitï¼Œå¦åˆ™å¯èƒ½ä¼šå› ä¸ºinotifywaitè¿›ç¨‹å¼€å¾—å¤ªå¤šï¼Œè€Œæ— æ³•æ­£å¸¸è¿è¡ŒrsyncInotify.shã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒæ–‡çŒ®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.&lt;a href="http://jasonyu.cn/post/271/"&gt;rsync+inotifyå®ç°ç›®å½•å®æ—¶åŒæ­¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2.&lt;a href="http://blog.leezhong.com/project/2010/12/13/inotify-rsync.html"&gt;inotify-rsyncå®æ—¶åŒæ­¥è„šæœ¬&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;3.&lt;a href="http://www.lvtao.net/html/1968.html"&gt;rsyncå¸¸è§é”™è¯¯&lt;/a&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æœåŠ¡å™¨"></category><category term="å·¥å…·"></category><category term="Linux"></category></entry><entry><title>GoAccessç”¨æˆ·æ‰‹å†Œï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2012/11/29/goaccess-man-page-cn/" rel="alternate"></link><published>2012-11-29T00:00:00+08:00</published><updated>2012-11-29T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-11-29:/2012/11/29/goaccess-man-page-cn/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://goaccess.prosoftcorp.com/man"&gt;http://goaccess.prosoftcorp.com/man&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç¿»è¯‘ï¼šyoungsterxyf&lt;/p&gt;
&lt;h2&gt;åç§°&lt;/h2&gt;
&lt;p&gt;goaccess - å¿«é€Ÿçš„webæ—¥å¿—åˆ†æå™¨ä¸äº¤äº’å¼æŸ¥çœ‹å™¨&lt;/p&gt;
&lt;h2&gt;æ¦‚è¦&lt;/h2&gt;
&lt;p&gt;goaccess  [-f è¾“å…¥æ–‡ä»¶]  [-c]  [-e]  [-a]&lt;/p&gt;
&lt;h2&gt;æè¿°&lt;/h2&gt;
&lt;p&gt;goaccessæ˜¯ä¸€ä¸ªå®æ—¶çš„webæ—¥å¿—åˆ†æå™¨ï¼Œä»¥åŠäº¤äº’å¼æŸ¥çœ‹å™¨ï¼Œåœ¨ç±»Unixç³»ç»Ÿçš„ç»ˆç«¯(terminal)ä¸Šè¿è¡Œï¼Œæ˜¯ä¸€ä¸ªåŸº â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š&lt;a href="http://goaccess.prosoftcorp.com/man"&gt;http://goaccess.prosoftcorp.com/man&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç¿»è¯‘ï¼šyoungsterxyf&lt;/p&gt;
&lt;h2&gt;åç§°&lt;/h2&gt;
&lt;p&gt;goaccess - å¿«é€Ÿçš„webæ—¥å¿—åˆ†æå™¨ä¸äº¤äº’å¼æŸ¥çœ‹å™¨&lt;/p&gt;
&lt;h2&gt;æ¦‚è¦&lt;/h2&gt;
&lt;p&gt;goaccess  [-f è¾“å…¥æ–‡ä»¶]  [-c]  [-e]  [-a]&lt;/p&gt;
&lt;h2&gt;æè¿°&lt;/h2&gt;
&lt;p&gt;goaccessæ˜¯ä¸€ä¸ªå®æ—¶çš„webæ—¥å¿—åˆ†æå™¨ï¼Œä»¥åŠäº¤äº’å¼æŸ¥çœ‹å™¨ï¼Œåœ¨ç±»Unixç³»ç»Ÿçš„ç»ˆç«¯(terminal)ä¸Šè¿è¡Œï¼Œæ˜¯ä¸€ä¸ªåŸºäºGPLçš„è‡ªç”±è½¯ä»¶ã€‚ä¸ºéœ€è¦å¯è§†åŒ–æœåŠ¡å™¨æŠ¥å‘Šçš„ç³»ç»Ÿç®¡ç†å‘˜æä¾›å¿«é€Ÿè€Œé‡è¦çš„HTTPç»Ÿè®¡ä¿¡æ¯ã€‚é¦–å…ˆå®ƒä¼šè§£æwebæ—¥å¿—æ–‡ä»¶ï¼Œä»è¢«è§£ææ–‡ä»¶ä¸­æ”¶é›†æ•°æ®ï¼Œç„¶åå±•ç¤ºåœ¨æ§åˆ¶å°(console)æˆ–è€…Xç»ˆç«¯ä¸Šã€‚æ”¶é›†åˆ°çš„ä¿¡æ¯ä¼šåœ¨ä¸€ä¸ªå¯è§†åŒ–/äº¤äº’å¼çš„çª—å£ä¸­å±•ç¤ºç»™ç”¨æˆ·ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;h3&gt;ç»¼åˆç»Ÿè®¡æ•°å­—&lt;/h3&gt;
&lt;p&gt;æœ‰æ•ˆè¯·æ±‚çš„æ€»æ•°ï¼Œæ— æ•ˆè¯·æ±‚çš„æ€»æ•°ï¼Œæ•°æ®åˆ†æçš„æ€»æ—¶é—´ï¼Œç‹¬ç«‹è®¿å®¢æ€»æ•°ï¼Œè¢«è¯·æ±‚çš„ç‹¬ç«‹æ–‡ä»¶æ€»æ•°ï¼Œç‹¬ç«‹é™æ€æ–‡ä»¶æ€»æ•°(css, ico, jpg, swf, gif, png)ï¼Œç‹¬ç«‹HTTPå¼•èç½‘ç«™(URL)æ€»æ•°ï¼Œç‹¬ç«‹404å“åº”(èµ„æºæœªæ‰¾åˆ°)æ€»æ•°ï¼Œè¢«è§£ææ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼Œæ€»æµé‡ã€‚&lt;/p&gt;
&lt;h3&gt;ç‹¬ç«‹è®¿å®¢&lt;/h3&gt;
&lt;p&gt;ç›¸åŒIPï¼Œç›¸åŒæ—¥æœŸä»¥åŠç›¸åŒä»£ç†(agent)çš„HTTPè¯·æ±‚è¢«çœ‹ä½œä¸€ä¸ªç‹¬ç«‹è¯·æ±‚ã€‚(åŒ…æ‹¬ç½‘ç»œçˆ¬è™«)ã€‚è¿™éƒ¨åˆ†çš„{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;è¢«è®¿é—®æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;æ€»æ•°é‡åŸºäºç‹¬ç«‹è¯·æ±‚æ–‡ä»¶ã€‚åŸºäºç›¸åŒIPï¼Œç›¸åŒæ—¥æœŸä»¥åŠç›¸åŒä»£ç†çš„HTTPè¯·æ±‚è¢«çœ‹ä½œä¸€æ¬¡ç‹¬ç«‹è®¿é—®è¿™ä¸€å‰æã€‚è¿™éƒ¨åˆ†çš„{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;è¢«è¯·æ±‚é™æ€æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;æ€»æ•°é‡åŸºäºç‹¬ç«‹è¯·æ±‚æ–‡ä»¶ã€‚åŒ…æ‹¬çš„æ–‡ä»¶ç±»å‹ï¼šjpgï¼Œcssï¼Œswfï¼Œjsï¼Œgifï¼Œpngç­‰ã€‚è¿™éƒ¨åˆ†çš„{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;å¼•èçš„URL&lt;/h3&gt;
&lt;p&gt;è¯·æ±‚æ¥è‡ªäºå¼•èçš„URLã€‚æ€»æ•°é‡å¹¶éåŸºäºä¸Šè¿°å‰æï¼Œè€Œæ˜¯åŸºäºè¯·æ±‚çš„æ€»æ•°ç›®ã€‚è¿™éƒ¨åˆ†çš„{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;404æˆ–è€…èµ„æºæœªæ‰¾åˆ°&lt;/h3&gt;
&lt;p&gt;æ€»æ•°é‡åŸºäºè¯·æ±‚æ€»æ•°ã€‚è¿™éƒ¨åˆ†çš„{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;æ“ä½œç³»ç»Ÿç±»å‹&lt;/h3&gt;
&lt;p&gt;æ€»æ•°é‡åŸºäºç‹¬ç«‹è®¿å®¢æ•°ã€‚{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;æµè§ˆå™¨ç±»å‹&lt;/h3&gt;
&lt;p&gt;æ€»æ•°é‡åŸºäºç‹¬ç«‹è®¿å®¢æ•°ã€‚{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;ä¸»æœº&lt;/h3&gt;
&lt;p&gt;æ€»æ•°é‡åŸºäºè¯·æ±‚æ€»æ•°ã€‚{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚æ¯ä¸ªIPçš„{è¯¦ç»†è§†å›¾}ä¼šæ˜¾ç¤ºè¯¥ä¸»æœºçš„é¢å¤–ä¿¡æ¯ï¼ŒåŒ…æ‹¬åå‘åŸŸåè§£æï¼ŒIPçš„å®šä½ã€‚&lt;/p&gt;
&lt;h3&gt;HTTPçŠ¶æ€ç &lt;/h3&gt;
&lt;p&gt;åŸºäºè¯·æ±‚æ€»æ•°ã€‚{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;å¼•èçš„ç«™ç‚¹&lt;/h3&gt;
&lt;p&gt;è¿™ä¸€éƒ¨åˆ†ä»…æ˜¾ç¤ºä¸»æœºè€Œä¸æ˜¯å®Œæ•´çš„URLã€‚åŸºäºè¯·æ±‚æ€»æ•°ã€‚{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;å…³é”®è¯çŸ­è¯­&lt;/h3&gt;
&lt;p&gt;è¿™éƒ¨åˆ†ä¼šæŠ¥å‘ŠGoogleæœç´¢ï¼ŒGoogleç¼“å­˜ä»¥åŠGoogleç¿»è¯‘ä¸­ä½¿ç”¨çš„å…³é”®è¯çŸ­è¯­ã€‚æ€»æ•°ç›®åŸºäºè¯·æ±‚æ€»æ•°ã€‚{è¯¦ç»†è§†å›¾}å¯ç”¨ã€‚&lt;/p&gt;
&lt;h2&gt;å‘½ä»¤é€‰é¡¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;-f  è¾“å…¥æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;è¾“å…¥æ–‡ä»¶çš„è·¯å¾„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;-c&lt;/p&gt;
&lt;p&gt;æç¤ºæ—¥æœŸå’Œæ—¥å¿—æ ¼å¼é…ç½®çª—å£&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;-e&lt;/p&gt;
&lt;p&gt;åœ¨ä¸»æœºéƒ¨åˆ†ä¸ç»Ÿè®¡(æ’é™¤)æŸIP&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;-a&lt;/p&gt;
&lt;p&gt;ä¸ºè§£æåˆ°çš„ä¸»æœºå¼€å¯ä¸€äº›ç”¨æˆ·ä»£ç†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;è‡ªå®šä¹‰æ—¥å¿—/æ—¥æœŸæ ¼å¼&lt;/h2&gt;
&lt;p&gt;GoAccesså‡ ä¹å¯ä»¥è§£æä»»ä½•webæ—¥å¿—æ ¼å¼ã€‚&lt;/p&gt;
&lt;p&gt;é¢„å®šä¹‰é€‰é¡¹åŒ…æ‹¬ï¼šCommon Log Format(CLF)ï¼ŒCombined Log Format(XLF/ELF)ï¼ŒåŒ…å«è™šæ‹Ÿä¸»æœºå’ŒW3Cæ ¼å¼(IIS)ã€‚&lt;/p&gt;
&lt;p&gt;GoAccessä¹Ÿå…è®¸ä»»æ„è‡ªå®šä¹‰æ ¼å¼å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ç§æ–¹å¼æ¥é…ç½®æ—¥å¿—æ ¼å¼ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯æ‰§è¡Œå¸¦-cé€‰é¡¹çš„GoAccessä»¥æç¤ºé…ç½®çª—å£ã€‚å¦å¤–ï¼Œä¹Ÿå¯ä»¥åœ¨~/.goaccessrcä¸­é…ç½®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ—¥æœŸæ ¼å¼(date_format)&lt;/p&gt;
&lt;p&gt;ç©ºæ ¼ä¹‹åçš„date_formatå˜é‡æŒ‡å®šäº†åŒ…å«å¸¸è§„å­—ç¬¦å’Œç‰¹æ®Šæ ¼å¼è¯´æ˜ç¬¦çš„ä»»æ„ç»„åˆã€‚è¿™äº›å­—ç¬¦éƒ½ä»¥ç™¾åˆ†å·(%)å¼€å§‹ã€‚è¯¦è§ï¼š&lt;a href="http://linux.die.net/man/3/strftime"&gt;http://linux.die.net/man/3/strftime&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ—¥å¿—æ ¼å¼(log_format)&lt;/p&gt;
&lt;p&gt;ç©ºæ ¼ä¹‹åçš„date_formatå˜é‡æŒ‡å®šäº†æ—¥å¿—æ ¼å¼å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;%d  åŒ¹é…date_formatå˜é‡çš„æ—¥æœŸåŸŸ&lt;/p&gt;
&lt;p&gt;%h  ä¸»æœº(å®¢æˆ·ç«¯IPåœ°å€ï¼ŒIPv4æˆ–IPv6)&lt;/p&gt;
&lt;p&gt;%r  æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚è¡Œ&lt;/p&gt;
&lt;p&gt;%s  æœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯çš„çŠ¶æ€ç &lt;/p&gt;
&lt;p&gt;%b  è¿”å›ç»™å®¢æˆ·ç«¯çš„å¯¹è±¡å¤§å°&lt;/p&gt;
&lt;p&gt;%R  "Referer"HTTPè¯·æ±‚å¤´&lt;/p&gt;
&lt;p&gt;%u  ç”¨æˆ·ä»£ç†HTTPè¯·æ±‚å¤´&lt;/p&gt;
&lt;p&gt;%^  å¿½ç•¥è¯¥åŸŸ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;äº¤äº’å¼èœå•&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;F1    ä¸»å¸®åŠ©é¡µé¢&lt;/li&gt;
&lt;li&gt;F5    é‡ç»˜ä¸»çª—å£&lt;/li&gt;
&lt;li&gt;q     é€€å‡ºç¨‹åºæˆ–è€…å½“å‰{è¯¦ç»†è§†å›¾}(çª—å£)&lt;/li&gt;
&lt;li&gt;o     æ‰“å¼€å½“å‰æ¿€æ´»æ¨¡å—çš„è¯¦ç»†è§†å›¾&lt;/li&gt;
&lt;li&gt;c     è®¾ç½®æˆ–æ”¹å˜é…è‰²æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;TAB   å‘å‰è¿­ä»£æ¨¡å—ã€‚ä»å½“å‰æ¿€æ´»æ¨¡å—å¼€å§‹ã€‚&lt;/li&gt;
&lt;li&gt;SHIFT + TAB   å‘åè¿­ä»£æ¨¡å—ã€‚ä»å½“å‰æ¿€æ´»æ¨¡å—å¼€å§‹ã€‚&lt;/li&gt;
&lt;li&gt;RIGHT ARROW   æ‰“å¼€å½“å‰æ¿€æ´»æ¨¡å—çš„è¯¦ç»†è§†å›¾&lt;/li&gt;
&lt;li&gt;0-9   æ¿€æ´»æ¨¡å—ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä½¿ç”¨^o^æˆ–^RIGHT ARROW^æ‰“å¼€{è¯¦ç»†è§†å›¾}&lt;/li&gt;
&lt;li&gt;SHIFT + 0-9   æ¿€æ´»è¶…è¿‡10çš„æ¨¡å—&lt;/li&gt;
&lt;li&gt;s     æ ¹æ®æ—¥æœŸè¿›è¡Œç‹¬ç«‹è®¿å®¢æ’åºã€‚ä»…åœ¨ç‹¬ç«‹è®¿å®¢æ¨¡å—(1)æœ‰æ•ˆã€‚&lt;/li&gt;
&lt;li&gt;S     æ ¹æ®ç‚¹å‡»æ•°è¿›è¡Œç‹¬ç«‹è®¿å®¢æ’åºã€‚ä»…åœ¨ç‹¬ç«‹è®¿å®¢æ¨¡å—(1)æœ‰æ•ˆã€‚&lt;/li&gt;
&lt;li&gt;/     å‘å‰åœ¨ä»»æ„{è¯¦ç»†è§†å›¾}çª—å£æœç´¢è¾“å…¥æ¨¡å¼(pattern)ã€‚&lt;/li&gt;
&lt;li&gt;n     åœ¨ä»»æ„{è¯¦ç»†è§†å›¾}çª—å£ä¸­æ‰¾åˆ°ä¸‹ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;t     è·³åˆ°ç¬¬ä¸€ä¸ªæ¡ç›®æˆ–å±å¹•é¡¶ç«¯&lt;/li&gt;
&lt;li&gt;b     è·³åˆ°æœ€åä¸€ä¸ªæ¡ç›®æˆ–è€…å±å¹•åº•éƒ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;ç¤ºä¾‹&lt;/h2&gt;
&lt;p&gt;æœ€ç®€å•ä¸”æœ€å¿«é€Ÿçš„ç”¨æ³•ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# goaccess -f access.log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°†äº§ç”Ÿä¸€ä¸ªäº¤äº’å¼çš„æ–‡æœ¬è¾“å‡ºã€‚&lt;/p&gt;
&lt;p&gt;ç”Ÿæˆä¸€ä¸ªHTMLæŠ¥å‘Šï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# goaccess -f access.log -a &amp;gt; report.html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¦æƒ³äº§ç”Ÿå…¨é¢çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ‰§è¡ŒGoAccessï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# goaccess -f access.log -a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;-aæ ‡å¿—è¡¨æ˜æˆ‘ä»¬æƒ³ä¸ºæ¯ä¸ªè§£æåˆ°çš„ä¸»æœºå¤„ç†ä¸€ä¸ªä»£ç†åˆ—è¡¨ã€‚-cæ ‡å¿—å°†æç¤ºæ—¥æœŸ/æ—¥å¿—æ ¼å¼é…ç½®çª—å£ã€‚ä»…å½“cursesåˆå§‹æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æƒ³ä¸ºGoAccesså¢åŠ æ›´å¤šçš„çµæ´»æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ç³»åˆ—çš„ç®¡é“ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# zcat access.log.*gz | goaccess
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ–è€…&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# zcat access.log.* | goaccess
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦ä¸€ä¸ªæœ‰ç”¨çš„ç®¡é“æ˜¯æ ¹æ®æ—¥æœŸè¿‡æ»¤webæ—¥å¿—ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å‘½ä»¤å°†å¾—åˆ°æ—¥å¿—æ–‡ä»¶ä¸­2010å¹´12æœˆ5æ—¥çš„æ‰€æœ‰HTTPè¯·æ±‚ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# sed -n &amp;#39;/05\/Dec\/2010/,$ p&amp;#39; access.log | goaccess -a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæƒ³ä»…è§£æä»æ—¥æœŸaåˆ°æ—¥æœŸbçš„ä¸€ä¸ªç‰¹å®šæ—¶é™çš„æ—¥å¿—ï¼Œåˆ™å¯ä»¥ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# sed -n &amp;#39;/5\/Nov\/2010/,/5\/Dec\/2010/ p&amp;#39; access.log | goaccess -a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ³¨æ„è¿™ä¸€å‘½ä»¤ä¾èµ–äºsedçš„é€Ÿåº¦ï¼Œå¯èƒ½éœ€è¦æ›´é•¿çš„è§£ææ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œå€¼å¾—æŒ‡å‡ºï¼Œå¦‚æœæƒ³ä»¥æ›´ä½çš„è¿›ç¨‹è°ƒåº¦ä¼˜å…ˆçº§è¿è¡ŒGoAccessï¼Œå¯ä»¥è¿™æ ·æ‰§è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# nice -n 19 goaccess -f access.log -a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;æ³¨é‡Š&lt;/h2&gt;
&lt;p&gt;æ¯ä¸ª{è¯¦ç»†è§†å›¾}çª—å£ä¸­ï¼Œæ¡ç›®æ€»æ•°ç›®ä¸º300ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ç®¡é“çš„æ–¹å¼å°†æ—¥å¿—ä¼ ç»™GoAccessä¼šä½¿å¾—å®æ—¶åŠŸèƒ½å¤±æ•ˆã€‚è¿™å½’å› äºç¡®å®šæ ‡å‡†è¾“å…¥çš„å®é™…å¤§å°çš„å¯ç§»æ¤æ€§é—®é¢˜ã€‚ç„¶è€Œï¼Œæœªæ¥çš„æŸä¸ªç‰ˆæœ¬å¯èƒ½ä¼šåŒ…å«è¿™ä¸€ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;h2&gt;BUGS&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ è®¤ä¸ºä½ å‘ç°äº†ä¸€ä¸ªbugï¼Œè¯·å‘é€ä¸€å°é‚®ä»¶åˆ°goaccess@prosoftcorp.comã€‚&lt;/p&gt;
&lt;h2&gt;ä½œè€…&lt;/h2&gt;
&lt;p&gt;Gerardo Orellana&lt;/p&gt;
&lt;p&gt;æ¬²çŸ¥æ›´å¤šè¯¦æƒ…ï¼Œæˆ–è€…æ–°ç‰ˆæœ¬å‘å¸ƒï¼Œè¯·è®¿é—®&lt;a href="http://goaccess.prosoftcorp.com"&gt;http://goaccess.prosoftcorp.com&lt;/a&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¿»è¯‘"></category><category term="å·¥å…·"></category></entry><entry><title>piçš„ä¸€ç§å¹¶è¡Œç®—æ³•</title><link href="http://youngsterxyf.github.io/2012/11/22/pi-parallel-algorithm/" rel="alternate"></link><published>2012-11-22T00:00:00+08:00</published><updated>2012-11-22T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-11-22:/2012/11/22/pi-parallel-algorithm/</id><summary type="html">&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“åœ†å‘¨ç‡piçš„å€¼æ˜¯3.141592653...ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„å‘¢ï¼Ÿä¸€ç§æ–¹å¼æ˜¯é€šè¿‡æŸç§æ–¹å¼ç®—å‡ºåœ†çš„é¢ç§¯æˆ–è€…å‘¨é•¿ï¼Œç„¶åæ ¹æ®å…¬å¼ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“åœ†å‘¨ç‡piçš„å€¼æ˜¯3.141592653...ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼æ˜¯æ€ä¹ˆç®—å‡ºæ¥çš„å‘¢ï¼Ÿä¸€ç§æ–¹å¼æ˜¯é€šè¿‡æŸç§æ–¹å¼ç®—å‡ºåœ†çš„é¢ç§¯æˆ–è€…å‘¨é•¿ï¼Œç„¶åæ ¹æ®å…¬å¼$ S = pi \times r^2 $(æˆ–$ L = 2 \times pi \times r $)ç®—å‡ºpiçš„å€¼ã€‚ä½†å¦‚ä½•ç”¨è®¡ç®—æœºé€šè¿‡æŸç§ç®—æ³•è®¡ç®—è€Œå¾—ï¼Ÿæœ‰æ²¡æœ‰å¹¶è¡Œçš„ç®—æ³•ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;a href="/assets/uploads/files/mapreduce_intro.pdf"&gt;Introduction to Parallel Programming and MapReduce&lt;/a&gt;ä¸€æ–‡ä¸­ä»‹ç»äº†ä¸€ç§åŸºäºæ¦‚ç‡çš„å¹¶è¡Œç®—æ³•---å‡è®¾æœ‰ä¸ªæ­£æ–¹å½¢ï¼Œé‡Œé¢æœ‰ä¸ªå…§åˆ‡åœ†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="sample pic" src="/assets/uploads/pics/inscribe.png"&gt;&lt;/p&gt;
&lt;p&gt;è®¾å†…åˆ‡åœ†çš„åŠå¾„ä¸º$ r $ï¼Œåˆ™&lt;/p&gt;
&lt;p&gt;æ­£æ–¹å½¢çš„é¢ç§¯ä¸º$ S_z = 4r^2 $&lt;/p&gt;
&lt;p&gt;å†…åˆ‡åœ†çš„é¢ç§¯ä¸º$ S_y = pi \times r^2 $&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆ$ pi = \frac{ S_y }{ r^2 } = \frac{ S_y }{ S_z/4 } = \frac{ 4S_y }{ S_z } $&lt;/p&gt;
&lt;p&gt;å¤§é‡ç”Ÿæˆå±äºæ­£æ–¹å½¢é‡Œçš„éšæœºç‚¹(x, y)ï¼Œå¹¶ç»Ÿè®¡å±äºå†…åˆ‡åœ†èŒƒå›´å†…çš„ç‚¹çš„å‡ºç°æ¬¡æ•°ï¼Œå½“æ¬¡æ•°è¾¾åˆ°ä¸€å®šé‡çº§ä¹‹åï¼Œå±äºå†…åˆ‡åœ†èŒƒå›´å†…çš„ç‚¹çš„æ•°ç›®ä¸éšæœºç‚¹çš„æ€»æ•°ç›®çš„æ¯”å³ä¸º$ \frac{ S_y }{ S_z } $çš„è¿‘ä¼¼å€¼ï¼Œå†ä¹˜ä»¥4å³ä¸ºpiçš„è¿‘ä¼¼å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶ä¸”ç”±äºä»»æ„ä¸¤ä¸ªéšæœºæ•°çš„ç”Ÿæˆæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å¤šä¸ªè¿›ç¨‹/çº¿ç¨‹/å¤šä¸ªè®¡ç®—æœºæ¥åˆ†åˆ«è®¡ç®—ä¸€å®šé‡çš„éšæœºæ•°ï¼Œç„¶åæŠŠå®ƒä»¬è®¡ç®—æ‰€å¾—å±äºå†…åˆ‡åœ†èŒƒå›´çš„ç‚¹çš„æ•°ç›®ç›¸åŠ ï¼Œå†æ ¹æ®å…¬å¼è®¡ç®—piå€¼ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾rçš„å€¼ä¸ºå•ä½1ï¼Œåˆ™ç¨‹åºå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; random
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; math
&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; threading

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; worker(taskNum):
    &lt;span style="color: #008000"&gt;# set r = 1&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;global&lt;/span&gt; allcount, mutex
    count = 0

    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; _ &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; xrange(taskNum):
        x = random.uniform(-1, 1)
        y = random.uniform(-1, 1)
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; math.sqrt(x**2 + y**2)&amp;lt;=1:
            count += 1
    mutex.acquire()
    allcount += count
    mutex.release()

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; main(task_all_num, worker_num):
    &lt;span style="color: #0000ff"&gt;global&lt;/span&gt; allcount, mutex
    threads = []

    allcount = 0
    mutex = threading.Lock()
    task_num = task_all_num / worker_num
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; _ &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; xrange(0, worker_num):
        threads.append(threading.Thread(target=worker, args=(task_num,)))

    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; t &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; threads:
        t.start()

    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; t &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; threads:
        t.join()

    print &lt;span style="color: #a31515"&gt;&amp;#39;pi: &amp;#39;&lt;/span&gt;, 4.0 * allcount / task_all_num

&lt;span style="color: #0000ff"&gt;if&lt;/span&gt; __name__ == &lt;span style="color: #a31515"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;:

    TASKALLNUM = 40000000
    WORKERNUM = 40
    main(TASKALLNUM, WORKERNUM)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç¨‹åºæ€»å…±è®¡ç®—4åƒä¸‡æ¬¡éšæœºæ•°ï¼Œä½¿ç”¨40ä¸ªçº¿ç¨‹ï¼Œè®¡ç®—å¾—piè¿‘ä¼¼å€¼ä¸º3.141298ï¼Œç”±äºæ˜¯åŸºäºæ¦‚ç‡çš„ï¼Œæ‰€ä»¥æ¯æ¬¡è®¡ç®—æ‰€å¾—å€¼ä¼šæœ‰å·®å¼‚ï¼Œå¹¶ä¸”ç†è®ºä¸Šæ¥è¯´éšæœºæ•°ç”Ÿæˆæ€»æ¬¡æ•°è¶Šå¤§ï¼Œè¶Šç²¾ç¡®ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç®—æ³•"></category><category term="å¹¶è¡Œ"></category><category term="Python"></category></entry><entry><title>è¯—æ­Œé€‰</title><link href="http://youngsterxyf.github.io/2012/11/20/poems/" rel="alternate"></link><published>2012-11-20T00:00:00+08:00</published><updated>2012-11-20T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-11-20:/2012/11/20/poems/</id><summary type="html">&lt;h3&gt;å—ä¹¡å­&lt;/h3&gt;
&lt;h4&gt;å’Œæ¨å…ƒç´ ï¼Œæ—¶ç§»å®ˆå¯†å·&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;è‹è½¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸œæ­¦æœ›ä½™æ­ï¼Œäº‘æµ·å¤©æ¶¯ä¸¤æ³èŒ«ã€‚ä½•æ—¥åŠŸæˆåé‚äº†ï¼Œè¿˜ä¹¡ï¼Œé†‰ç¬‘é™ªå…¬ä¸‰ä¸‡åœºã€‚&lt;/p&gt;
&lt;p&gt;ä¸ç”¨è¯‰ç¦»è§ï¼Œç—›é¥®ä» â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;å—ä¹¡å­&lt;/h3&gt;
&lt;h4&gt;å’Œæ¨å…ƒç´ ï¼Œæ—¶ç§»å®ˆå¯†å·&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;è‹è½¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸œæ­¦æœ›ä½™æ­ï¼Œäº‘æµ·å¤©æ¶¯ä¸¤æ³èŒ«ã€‚ä½•æ—¥åŠŸæˆåé‚äº†ï¼Œè¿˜ä¹¡ï¼Œé†‰ç¬‘é™ªå…¬ä¸‰ä¸‡åœºã€‚&lt;/p&gt;
&lt;p&gt;ä¸ç”¨è¯‰ç¦»è§ï¼Œç—›é¥®ä»æ¥åˆ«æœ‰è‚ ã€‚ä»Šå¤œé€å½’ç¯ç«å†·ï¼Œæ²³å¡˜ï¼Œå •æ³ªç¾Šå…¬å´å§“æ¨ã€‚&lt;/p&gt;
&lt;h3&gt;ä¸´æ±Ÿä»™&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ¨æ…&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ»šæ»šé•¿æ±Ÿä¸œé€æ°´ï¼ŒæµªèŠ±æ·˜å°½è‹±é›„ã€‚æ˜¯éæˆè´¥è½¬å¤´ç©ºï¼Œé’å±±ä¾æ—§åœ¨ï¼Œå‡ åº¦å¤•é˜³çº¢ã€‚&lt;/p&gt;
&lt;p&gt;ç™½å‘æ¸”æ¨µæ±Ÿæ¸šä¸Šï¼Œæƒ¯çœ‹ç§‹æœˆæ˜¥é£ã€‚ä¸€å£¶æµŠé…’å–œç›¸é€¢ï¼Œå¤ä»Šå¤šå°‘äº‹ã€‚éƒ½ä»˜ç¬‘è°ˆä¸­ã€‚&lt;/p&gt;
&lt;h3&gt;ç»“ç»“å·´å·´&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä¼Šæ²™&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç»“ç»“å·´å·´æˆ‘çš„å˜´&lt;br /&gt; 
äºŒäºŒäºŒç­‰æ®‹åºŸ&lt;br /&gt;
å’¬ä¸ä½æˆ‘ç‹‚ç‹‚ç‹‚å¥”çš„æ€ç»´&lt;br /&gt;
è¿˜æœ‰æˆ‘çš„è…¿&lt;br /&gt;
&lt;br /&gt;
ä½ ä»¬å››å¤„æµæµæµæ·Œçš„å£æ°´&lt;br /&gt;
æ•£ç€éœ‰å‘³&lt;br /&gt;
æˆ‘æˆ‘æˆ‘çš„è‚º&lt;br /&gt;
å¤šä¹ˆåŠ³ç´¯&lt;br /&gt;
&lt;br /&gt;
æˆ‘è¦çªçªçªå›´&lt;br /&gt;
ä½ ä»¬è«è«è«åå¥‡å¦™&lt;br /&gt;
çš„èŠ‚å¥&lt;br /&gt;
æ€¥å¾…çªå›´&lt;br /&gt;
&lt;br /&gt;
æˆ‘æˆ‘æˆ‘çš„&lt;br /&gt;
æˆ‘çš„æœºæªç‚¹ç‚¹ç‚¹å°„èˆ¬&lt;br /&gt;
çš„è¯­è¨€&lt;br /&gt;
å……æ»¡å¿«æ…°&lt;br /&gt;
&lt;br /&gt;
ç»“ç»“å·´å·´æˆ‘çš„å‘½&lt;br /&gt;
æˆ‘çš„å‘½é‡Œæ²¡æ²¡æ²¡æœ‰é¬¼&lt;br /&gt;
ä½ ä»¬ç§ç§ç§æˆ‘&lt;br /&gt;
ä¸€è„¸æ— æ‰€è°“&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;çˆ¶äº²å’Œæˆ‘&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;å•å¾·å®‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;çˆ¶äº²å’Œæˆ‘&lt;br /&gt;
æˆ‘ä»¬å¹¶è‚©èµ°ç€&lt;br /&gt;
ç§‹é›¨ç¨æ­‡&lt;br /&gt;
å’Œå‰ä¸€é˜µé›¨&lt;br /&gt;
åƒéš”äº†å¤šå¹´æ—¶å…‰&lt;br /&gt;
&lt;br /&gt;
æˆ‘ä»¬èµ°åœ¨é›¨å’Œé›¨çš„é—´æ­‡é‡Œ&lt;br /&gt;
è‚©å¤´æ¸…æ™°åœ°é åœ¨ä¸€èµ·&lt;br /&gt;
å´æ²¡æœ‰ä¸€å¥è¦è¯´çš„è¯&lt;br /&gt;
&lt;br /&gt;
æˆ‘ä»¬åˆšä»å±‹å­é‡Œå‡ºæ¥&lt;br /&gt;
æ‰€ä»¥æ²¡æœ‰ä¸€å¥è¦è¯´çš„è¯&lt;br /&gt;
è¿™æ˜¯é•¿ä¹…ç”Ÿæ´»åœ¨ä¸€èµ·&lt;br /&gt;
é€ æˆçš„&lt;br /&gt;
&lt;br /&gt;
æ»´æ°´çš„å£°éŸ³åƒæŠ˜ä¸‹çš„ä¸€æ”¯ç»†ææ¡&lt;br /&gt;
åƒè¿‡å†¬çš„æ¢…èŠ±&lt;br /&gt;
&lt;br /&gt;
çˆ¶äº²çš„å¤´å‘å·²ç»å…¨ç™½&lt;br /&gt;
ä½†è¿™è¿‘ä¹äºä¸€ç§çµé­‚&lt;br /&gt;
ä¼šä½¿äººä¸ç¦è‚ƒç„¶èµ·æ•¬&lt;br /&gt;
&lt;br /&gt;
ä¾ç„¶æ˜¯ç†Ÿæ‚‰çš„è¡—é“&lt;br /&gt;
ç†Ÿæ‚‰çš„äººè¦ä¸¾æ‰‹è‡´æ„&lt;br /&gt;
çˆ¶äº²å’Œæˆ‘éƒ½æ€€ç€éš¾è¨€çš„æ©æƒ…&lt;br /&gt;
å®‰è¯¦åœ°èµ°ç€&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;å‡ä½¿æˆ‘ä»¬ä¸å»æ‰“ä»—&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ç”°é—´&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å‡ä½¿æˆ‘ä»¬ä¸å»æ‰“ä»—&lt;br /&gt;
æ•Œäººç”¨åˆºåˆ€&lt;br /&gt;
æ€æ­»äº†æˆ‘ä»¬&lt;br /&gt;
è¿˜è¦ç”¨æ‰‹æŒ‡ç€æˆ‘ä»¬éª¨å¤´è¯´ï¼š&lt;br /&gt;
"çœ‹ï¼Œ&lt;br /&gt;
è¿™æ˜¯å¥´éš¶ï¼"&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;ç›¸ä¿¡æœªæ¥&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;é£ŸæŒ‡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“èœ˜è››ç½‘æ— æƒ…åœ°æŸ¥å°äº†æˆ‘çš„ç‚‰å°&lt;br /&gt;
å½“ç°çƒ¬çš„ä½™çƒŸå¹æ¯ç€è´«å›°çš„æ‚²å“€&lt;br /&gt;
æˆ‘ä¾ç„¶å›ºæ‰§åœ°é“ºå¹³å¤±æœ›çš„ç°çƒ¬&lt;br /&gt;
ç”¨ç¾ä¸½çš„é›ªèŠ±å†™ä¸‹ï¼šç›¸ä¿¡æœªæ¥&lt;br /&gt;
&lt;br /&gt;
å½“æˆ‘çš„ç´«è‘¡è„åŒ–ä¸ºæ·±ç§‹çš„éœ²æ°´&lt;br /&gt;
å½“æˆ‘çš„é²œèŠ±ä¾ååœ¨åˆ«äººçš„æƒ…æ€€&lt;br /&gt;
æˆ‘ä¾ç„¶å›ºæ‰§åœ°ç”¨å‡éœœçš„æ¯è—¤&lt;br /&gt;
åœ¨å‡„å‡‰çš„å¤§åœ°ä¸Šå†™ä¸‹ï¼šç›¸ä¿¡æœªæ¥&lt;br /&gt;
&lt;br /&gt;
æˆ‘è¦ç”¨æ‰‹æŒ‡é‚£æ¶Œå‘å¤©è¾¹çš„æ’æµª&lt;br /&gt;
æˆ‘è¦ç”¨æ‰‹æŒé‚£æ‰˜ä½å¤ªé˜³çš„å¤§æµ·&lt;br /&gt;
æ‘‡æ›³ç€æ›™å…‰é‚£æ”¯æ¸©æš–æ¼‚äº®çš„ç¬”æ†&lt;br /&gt;
ç”¨å­©å­çš„ç¬”ä½“å†™ä¸‹ï¼šç›¸ä¿¡æœªæ¥&lt;br /&gt;
&lt;br /&gt;
æˆ‘ä¹‹æ‰€ä»¥åšå®šåœ°ç›¸ä¿¡æœªæ¥&lt;br /&gt;
æ˜¯æˆ‘ç›¸ä¿¡æœªæ¥äººä»¬çš„çœ¼ç›&lt;br /&gt;
å¥¹æœ‰æ‹¨å¼€å†å²é£å°˜çš„ç«æ¯›&lt;br /&gt;
å¥¹æœ‰çœ‹é€å²æœˆç¯‡ç« çš„ç³å­”&lt;br /&gt;
&lt;br /&gt;
ä¸ç®¡äººä»¬å¯¹äºæˆ‘ä»¬è…çƒ‚çš„çš®è‚‰&lt;br /&gt;
é‚£äº›è¿·é€”çš„æƒ†æ€…ã€å¤±è´¥çš„è‹¦ç—›&lt;br /&gt;
æ˜¯å¯„äºˆæ„ŸåŠ¨çš„çƒ­æ³ªã€æ·±åˆ‡çš„åŒæƒ…&lt;br /&gt;
è¿˜æ˜¯ç»™ä»¥è½»è”‘çš„å¾®ç¬‘ã€è¾›è¾£çš„å˜²è®½&lt;br /&gt;
&lt;br /&gt;
æˆ‘åšä¿¡äººä»¬å¯¹äºæˆ‘ä»¬è„Šéª¨&lt;br /&gt;
é‚£æ— æ•°æ¬¡çš„æ¢ç´¢ã€è¿·é€”ã€å¤±è´¥å’ŒæˆåŠŸ&lt;br /&gt;
ä¸€å®šä¼šç»™äºˆçƒ­æƒ…ã€å®¢è§‚ã€å…¬æ­£çš„è¯„å®š&lt;br /&gt;
æ˜¯çš„ï¼Œæˆ‘ç„¦æ€¥åœ°ç­‰å¾…ç€ä»–ä»¬çš„è¯„å®š&lt;br /&gt;
&lt;br /&gt;
æœ‹å‹ï¼Œåšå®šåœ°ç›¸ä¿¡æœªæ¥å§&lt;br /&gt;
ç›¸ä¿¡ä¸å±ˆä¸æŒ çš„åŠªåŠ›&lt;br /&gt;
ç›¸ä¿¡æˆ˜èƒœæ­»äº¡çš„å¹´è½»&lt;br /&gt;
ç›¸ä¿¡æœªæ¥ã€çƒ­çˆ±ç”Ÿå‘½&lt;br /&gt;
&lt;br /&gt;
&lt;em&gt;1968å¹´ åŒ—äº¬&lt;/em&gt;&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="é˜…è¯»"></category><category term="è¯—æ­Œ"></category></entry><entry><title>é¢è¯•å‡†å¤‡</title><link href="http://youngsterxyf.github.io/2012/11/20/prepareForInterview/" rel="alternate"></link><published>2012-11-20T00:00:00+08:00</published><updated>2012-11-20T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-11-20:/2012/11/20/prepareForInterview/</id><summary type="html">&lt;h3&gt;è‡ªæˆ‘ä»‹ç»&lt;/h3&gt;
&lt;p&gt;æˆ‘å«å¤æ°¸é”‹ï¼Œç›®å‰æ˜¯ä¸€åä¸Šæµ·äº¤å¤§çš„ç¡•å£«ç ”ç©¶ç”Ÿï¼Œå°†äº2013å¹´3æœˆæ¯•ä¸šã€‚ç°åœ¨ä½œä¸ºä¸€åwebå¼€å‘å®ä¹ ç”Ÿåœ¨Google CSRéƒ¨é—¨å®ä¹ ã€‚å®ä¹ çš„å·¥ä½œå†…å®¹ä¸»è¦åŒ…æ‹¬ï¼šå¼€å‘ç»´æŠ¤ â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;è‡ªæˆ‘ä»‹ç»&lt;/h3&gt;
&lt;p&gt;æˆ‘å«å¤æ°¸é”‹ï¼Œç›®å‰æ˜¯ä¸€åä¸Šæµ·äº¤å¤§çš„ç¡•å£«ç ”ç©¶ç”Ÿï¼Œå°†äº2013å¹´3æœˆæ¯•ä¸šã€‚ç°åœ¨ä½œä¸ºä¸€åwebå¼€å‘å®ä¹ ç”Ÿåœ¨Google CSRéƒ¨é—¨å®ä¹ ã€‚å®ä¹ çš„å·¥ä½œå†…å®¹ä¸»è¦åŒ…æ‹¬ï¼šå¼€å‘ç»´æŠ¤éƒ¨é—¨æ——ä¸‹çš„å‡ ä¸ªç½‘ç«™ä»¥åŠæœåŠ¡å™¨æ—¥å¸¸è¿ç»´ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çš„è€å®¶æ˜¯æ±Ÿè¥¿çœå©ºæºå¿ï¼Œå¥¹éå¸¸ç¾ä¸½ï¼Œæœ‰â€œä¸­å›½æœ€ç¾çš„ä¹¡æ‘â€çš„ç¾èª‰ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘å–œæ¬¢å†™ç¨‹åºï¼Œç¾½æ¯›çƒï¼Œé•¿è·‘ã€‚æˆ‘è§‰å¾—ç¼–ç¨‹æ˜¯ä¸€ç§ä¹è¶£ï¼Œç¼–ç¨‹æ˜¯ç¨‹åºå‘˜çš„é­”æ³•ã€‚&lt;/p&gt;
&lt;p&gt;My name is Xia yongfeng, currently i am a master candidate from School of Software, Shanghai Jiaotong University. And i will graduate in 2013. Now I am a web development intern in Google CSR. The work content of the internship mainly includes the development and maintenance of some websites of our department, as well as the maintenance of web server.&lt;/p&gt;
&lt;p&gt;My hometown is WuYuan County in Jiangxi Province. She is so beautiful, resulting reputation as "China's most beautiful countryside."&lt;/p&gt;
&lt;p&gt;I love coding, badminton, long-distance running. To me, coding is a pleasure, is just for fun, coding is the magic of programmer.&lt;/p&gt;
&lt;h3&gt;ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬å…¬å¸ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;å¾®è½¯ï¼šä¹Ÿè®¸å®ƒæ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„è½¯ä»¶å…¬å¸ï¼Œå¹¶ä¸”æˆ‘å–œæ¬¢å¾®è½¯çš„æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;Microsoft: Maybe it is the biggest software corporation in the world, and i like the technology from Microsoft. I think this is my reason to choose Microsoft.&lt;/p&gt;
&lt;h3&gt;é€‰æ‹©ä½ çš„ä¸€ä¸ªé¡¹ç›®ä»‹ç»ä¸€ä¸‹&lt;/h3&gt;
&lt;p&gt;é‚£ä¹ˆå°±æ¥è¯´è¯´æˆ‘çš„ä¸€ä¸ªä¸ªäººå°é¡¹ç›®å§---ç®€æ˜“FTPæœç´¢å¼•æ“ï¼Œè¿™ä¸ªå°é¡¹ç›®çš„ç”±æ¥æ˜¯å› ä¸ºæˆ‘ä»¬å®éªŒå®¤æœ‰ä¸ªftpæœåŠ¡å™¨ï¼Œç»è¿‡å¾ˆå¤šå¹´çš„ç§¯ç´¯ï¼Œä¸Šé¢çš„æ–‡ä»¶éå¸¸éå¸¸å¤šï¼Œä¹Ÿæ¯”è¾ƒä¹±ã€‚å¦‚æœç›´æ¥ç”¨ftpå®¢æˆ·ç«¯å»æŸ¥æ‰¾ä¸‹è½½ä¼šéå¸¸éº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘å°±æƒ³èƒ½ä¸èƒ½åšä¸ªç±»æœç´¢å¼•æ“ï¼Œèƒ½å¤Ÿå¿«é€Ÿåœ°æœç´¢ftpä¸Šçš„æ–‡ä»¶ï¼Œå¹¶æä¾›ä¸‹è½½ã€‚é¡¹ç›®ä¸»è¦åˆ†æˆä¸¤éƒ¨åˆ†---ç´¢å¼•éƒ¨åˆ†å’Œæœç´¢éƒ¨åˆ†ï¼Œç´¢å¼•éƒ¨åˆ†ç”±æœåŠ¡å™¨ç«¯çš„ä¸€ä¸ªpythonå°ç¨‹åºå®ç°ï¼Œåˆ©ç”¨linuxå†…æ ¸çš„æ–‡ä»¶ç³»ç»Ÿå®æ—¶ç›‘æ§åŠŸèƒ½ï¼Œå¯¹ftpç›®å½•å’Œæ–‡ä»¶å¤¹è¿›è¡Œå®æ—¶ç´¢å¼•ï¼Œå°†ç´¢å¼•(åŒ…å«æ–‡ä»¶åå’Œftpä¸‹è½½é“¾æ¥)ä¿å­˜åœ¨berkerlyDBä¸­ã€‚æœç´¢éƒ¨åˆ†æ˜¯ä¸€ä¸ªç±»googleä¸»é¡µçš„æœç´¢ç½‘é¡µï¼Œç”¨æˆ·è¾“å…¥æŸ¥è¯¢å…³é”®å­—ï¼ŒæœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªpython CGIè„šæœ¬æ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œæ ¹æ®è¾“å…¥æŸ¥è¯¢æ•°æ®åº“ï¼Œå¹¶è¿”å›ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;I like to talk about a personal small project with you --- a simple FTP search engine. Why do i choose this projectï¼Ÿ In our labï¼Œthere is a ftp server, existing over several years, many, and more and more files/directories on the server. If we use a ftp client to look for some file and to download it, this will be a terrible thing. So i think why i don't implement a service like search engine to search ftp file and download it quickly. This project can be divided into two main parts --- indexing part and searching part. The indexing part is implemented with a short python program on the server, it use the real-time monitoring function of linux kernel to make real-time index for files and directories in ftp, and store index data(includes filename and download link) into a berkerly DB. And the searching part is a web page like google's main page. user enters keyword for searching, a python cgi script on the server receives the input, then searches the Database, then returns results.&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="é¢è¯•"></category><category term="è‹±è¯­"></category></entry><entry><title>ç¬”è¯•é¢˜ç›®</title><link href="http://youngsterxyf.github.io/2012/11/20/work-exam/" rel="alternate"></link><published>2012-11-20T00:00:00+08:00</published><updated>2012-11-20T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-11-20:/2012/11/20/work-exam/</id><summary type="html">&lt;h3&gt;2013-ç½‘æ˜“-æ ¡å›­æ‹›è˜-C++å¼€å‘å·¥ç¨‹å¸ˆ&lt;/h3&gt;
&lt;h4&gt;Fibonacci number&lt;/h4&gt;
&lt;p&gt;F(n)çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img alt="Fabonacci" src="https://raw.githubusercontent.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/NumberedEquation6.gif"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸¸è§„ç®—æ³•&lt;/strong&gt;ï¼šæ ¹æ®Fabonacciçš„å®šä¹‰ï¼Œé€’å½’æ±‚å€¼ã€‚æ—¶é—´å¤æ‚åº¦$ O(2^n) $&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fibobacci(n):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; n&amp;gt;=2 &lt;span style="color: #0000ff"&gt;and&lt;/span&gt; fibonacci(n-2) + fibonacci(n-1) &lt;span style="color: #0000ff"&gt;or&lt;/span&gt; n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿­ä»£&lt;/strong&gt;ï¼šåˆ© â€¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;2013-ç½‘æ˜“-æ ¡å›­æ‹›è˜-C++å¼€å‘å·¥ç¨‹å¸ˆ&lt;/h3&gt;
&lt;h4&gt;Fibonacci number&lt;/h4&gt;
&lt;p&gt;F(n)çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img alt="Fabonacci" src="https://raw.githubusercontent.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/NumberedEquation6.gif"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¸¸è§„ç®—æ³•&lt;/strong&gt;ï¼šæ ¹æ®Fabonacciçš„å®šä¹‰ï¼Œé€’å½’æ±‚å€¼ã€‚æ—¶é—´å¤æ‚åº¦$ O(2^n) $&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fibobacci(n):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; n&amp;gt;=2 &lt;span style="color: #0000ff"&gt;and&lt;/span&gt; fibonacci(n-2) + fibonacci(n-1) &lt;span style="color: #0000ff"&gt;or&lt;/span&gt; n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è¿­ä»£&lt;/strong&gt;ï¼šåˆ©ç”¨å¾ªç¯å–ä»£é€’å½’ã€‚æ—¶é—´å¤æ‚åº¦O(n)&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fibonacci(n):
    a, b = 0, 1
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; range(n):
        a, b = b, a+b
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;è¿­ä»£ç®—æ³•çš„å˜ç§&lt;/em&gt; ï¼šåˆ©ç”¨pythonçš„generatorï¼ŒåŸç†ä¸€æ ·ï¼Œåªæ˜¯åº”ç”¨åœºåˆä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fibonacci():
    a, b = 0, 1
    &lt;span style="color: #0000ff"&gt;while&lt;/span&gt; 1:
        &lt;span style="color: #0000ff"&gt;yield&lt;/span&gt; a
        a, b = b, a+b

f = fibonacci()
n = 100
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; range(n+1):
    print(next(f)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;åˆ©ç”¨çŸ©é˜µè¿ç®—æ¥åŠ é€Ÿçš„ç®—æ³•&lt;/strong&gt;ï¼šï¼ˆè¿˜æ²¡æ‡‚ï¼‰ç®—æ³•å¤æ‚åº¦$ O(\log n) $&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; numpy

fibonacci_matrix = numpy.matrix([1,1],[1,0], dtype=numpy.ndarray)
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fibonacci(n):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; fibonacci_matrix**(n-1)[0, 0]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ•°å­¦æ–¹æ³•:ä½¿ç”¨Fibonacciåºåˆ—çš„é€šç”¨å…¬å¼&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;from&lt;/span&gt; math &lt;span style="color: #0000ff"&gt;import&lt;/span&gt; sqrt

&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fibonacci(n):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; int(((1+sqrt(5))/2)**n/sqrt(5))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è™½ç„¶æ•°å­¦æ–¹æ³•åœ¨4ç§æ–¹æ³•ä¸­é€Ÿåº¦æœ€å¿«ï¼Œä½†å½“nè¶Šå¤§ï¼Œå…¶è®¡ç®—ç²¾åº¦åå·®è¶Šå¤§ã€‚&lt;/p&gt;
&lt;h4&gt;å›¾çš„éå†&lt;/h4&gt;
&lt;p&gt;&lt;img alt="graph" src="https://raw.githubusercontent.com/youngsterxyf/youngsterxyf.github.com/master/assets/uploads/pics/graph-sample.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/youngsterxyf/Data-Structures-and-Algorithms/blob/master/graph.cpp"&gt;æºä»£ç &lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;å¤§æ–‡ä»¶å¤„ç†&lt;/h4&gt;
&lt;p&gt;è®¾è®¡ç®—æ³•ä»æ–‡ä»¶ä¸­éšæœºå–Kè¡Œ(å†…å­˜å¤Ÿå­˜å‚¨Kè¡Œ)ï¼Œæ¯è¡Œè¢«å–çš„æ¦‚ç‡ç›¸ç­‰ï¼Œç®—æ³•å¤æ‚åº¦è¦ä½ã€‚(å…·ä½“çš„è®°ä¸å¤ªæ¸…æ¥šäº†)&lt;/p&gt;
&lt;h4&gt;CAS(Compare And Swap)&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;bool&lt;/span&gt; compare_and_swap(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; *accum, &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; *dest, &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; newval)
{
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(*accum == *dest)
    {
        *dest = newval;
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; true;
    }
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; false;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;CASæ–¹å¼å®ç°çš„è¿›é˜Ÿåˆ—æ“ä½œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;EnQueue(x)  &lt;span style="color: #008000"&gt;//è¿›é˜Ÿåˆ—&lt;/span&gt;
{
    q = new record();
    q-&amp;gt;value = x;
    q-&amp;gt;next = NULL;

    &lt;span style="color: #0000ff"&gt;do&lt;/span&gt; {
        p = tail;   &lt;span style="color: #008000"&gt;//å–é“¾è¡¨å°¾æŒ‡é’ˆçš„å¿«ç…§&lt;/span&gt;
    }&lt;span style="color: #0000ff"&gt;while&lt;/span&gt;(CAS(p-&amp;gt;next, NULL, q) != TRUE)   &lt;span style="color: #008000"&gt;//å¦‚æœæ²¡æœ‰æŠŠç»“ç‚¹é“¾ä¸Šï¼Œå†è¯•&lt;/span&gt;

    CAS(tail, p, q);    &lt;span style="color: #008000"&gt;//ç½®å°¾ç»“ç‚¹&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://blog.csdn.net/lifesider/article/details/6582338"&gt;æ— é”çš„æ•°æ®ç»“æ„ï¼ˆLock-Freeï¼‰åŠCASï¼ˆCompare-and-Swapï¼‰æœºåˆ¶&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://en.wikipedia.org/wiki/Compare-and-swap"&gt;Wikipedia---Compare-and-swap&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://coolshell.cn/articles/8239.html"&gt;æ— é”é˜Ÿåˆ—çš„å®ç°&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;æ’åºç®—æ³•&lt;/h4&gt;
&lt;p&gt;ä¸ç¨³å®šæ’åºç®—æ³•å¯èƒ½ä¼šåœ¨ç›¸ç­‰çš„é”®å€¼ä¸­æ”¹å˜è®°å½•çš„ç›¸å¯¹æ¬¡åºï¼Œä½†æ˜¯ç¨³å®šæ’åºç®—æ³•ä»æ¥ä¸ä¼šå¦‚æ­¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¨³å®šçš„&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å†’æ³¡æ’åº(Bubble sort) --- $ O(n^2) $&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ’å…¥æ’åº(Insertion sort) --- $ O(n^2) $&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¡¶æ’åº(Bucket sort) --- $ O(n) $ï¼Œéœ€è¦$O(k)$é¢å¤–ç©ºé—´&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¡æ•°æ’åº(Counting sort) --- $ O(n+k) $ï¼Œéœ€è¦$O(n+k)$é¢å¤–ç©ºé—´&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½’å¹¶æ’åº(Merge sort) --- $ O(n \log n) $ï¼Œéœ€è¦$O(n)$é¢å¤–ç©ºé—´&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŸºæ•°æ’åº(Radix sort) --- $ O(n \times k) $ï¼Œéœ€è¦$O(n)$é¢å¤–ç©ºé—´&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä¸ç¨³å®šçš„&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é€‰æ‹©æ’åº(Selection sort) --- $ O(n^2) $&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¸Œå°”æ’åº(Shell sort) --- $ O(n \log n) $&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å †æ’åº(Heap sort) --- $ O(n \log n) $&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¿«é€Ÿæ’åº(Quick sort) --- $ O(n \log n) $&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä»£ç å®ç°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å†’æ³¡æ’åº---Python&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; bubbleSort(L):
    print &lt;span style="color: #a31515"&gt;&amp;#39;start bubble sort:&amp;#39;&lt;/span&gt;
    print L
    count = 0
    &lt;span style="color: #0000ff"&gt;while&lt;/span&gt; &lt;span style="color: #0000ff"&gt;True&lt;/span&gt;:
        step = 0
        &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; i &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; range(len(L)-1):
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; L[i] &amp;gt; L[i+1]:
                L[i], L[i+1] = L[i+1], L[i]
                print L
                step += 1
                count += 1
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; step == 0:
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; L, &lt;span style="color: #a31515"&gt;&amp;#39;totalstep:&amp;#39;&lt;/span&gt;, count
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;è®¡æ•°æ’åº---C&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;#include&lt;/span&gt; &lt;span style="color: #008000"&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&lt;/span&gt;

&lt;span style="color: #2b91af"&gt;void&lt;/span&gt; counting_sort(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; *array, &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; size)
{
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; i, min, max;
    min = max = array[0];
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(i=1; i&amp;lt;size; i++)
    {
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(array[i] &amp;lt; min)
            min = array[i];
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(array[i] &amp;gt; max)
            max = array[i];
    }

    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; range = max-min+1;
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; *count = (&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; *)malloc(range * &lt;span style="color: #0000ff"&gt;sizeof&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt;));

    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(i = 0; i &amp;lt; range; i++)
        count[i] = 0;
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(i = 0; i &amp;lt; size; i++)
        count[array[i]-min]++;

    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; j, z = 0;
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(i=min; i&amp;lt;=max; i++)
        &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(j=0; j&amp;lt;count[i-min]; j++)
            array[z++] = i;
    free(count);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;å¿«é€Ÿæ’åº---Python&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; qsort(L):
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; &lt;span style="color: #0000ff"&gt;not&lt;/span&gt; L: &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; []
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; qsort([x &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; x &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; L[1:] &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; x &amp;lt; L[0]]) + L[0:1] + \
        qsort([x &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; x &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; L[1:] &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; x&amp;gt;=L[0]])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;2013-å°ç±³ç§‘æŠ€-æ ¡å›­æ‹›è˜-ç¬”è¯•-è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆ&lt;/h3&gt;
&lt;h4&gt;å®Œå…¨äºŒå‰æ ‘&lt;/h4&gt;
&lt;p&gt;æ·±åº¦ä¸ºkçš„ï¼Œæœ‰nä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ï¼Œå½“ä¸”ä»…å½“å…¶æ¯ä¸€ä¸ªç»“ç‚¹éƒ½ä¸æ·±åº¦ä¸ºkçš„æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä»1è‡³nçš„ç»“ç‚¹ä¸€ä¸€å¯¹åº”æ—¶ï¼Œç§°ä¹‹ä¸º&lt;strong&gt;å®Œå…¨äºŒå‰æ ‘&lt;/strong&gt; ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æ ‘çš„ç‰¹ç‚¹æ˜¯:1.å¶å­ç»“ç‚¹åªå¯èƒ½åœ¨å±‚æ¬¡æœ€å¤§çš„ä¸¤å±‚ä¸Šå‡ºç°; 2.å¯¹ä»»ä¸€ç»“ç‚¹ï¼Œè‹¥å…¶å³åˆ†æ”¯ä¸‹çš„å­å­™çš„æœ€å¤§å±‚æ¬¡ä¸ºlï¼Œåˆ™å…¶å·¦åˆ†æ”¯ä¸‹çš„å­å­™çš„æœ€å¤§å±‚æ¬¡å¿…ä¸ºlæˆ–l+1ã€‚&lt;/p&gt;
&lt;p&gt;å…·æœ‰nä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦ä¸º$ [\log n]+1 $&lt;/p&gt;
&lt;h4&gt;æŒ‡é’ˆçš„åŸºæœ¬ç†è§£&lt;/h4&gt;
&lt;p&gt;å·²çŸ¥int* p = &amp;amp;nï¼Œè¯·é—®*pæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;em&gt;*pæ˜¯nçš„å€¼&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç†è§£æŒ‡é’ˆ&lt;/strong&gt; ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ¯ä¸ªæŒ‡é’ˆéƒ½å¯¹åº”ä¸€ä¸ªç±»å‹ã€‚è¿™ä¸ªç±»å‹è¡¨æ˜æŒ‡é’ˆæŒ‡å‘å“ªä¸€ç±»å¯¹è±¡ã€‚ç‰¹æ®Šçš„void* ç±»å‹ä»£è¡¨é€šç”¨æŒ‡é’ˆã€‚æ¯”å¦‚è¯´ï¼Œmallocå‡½æ•°è¿”å›ä¸€ä¸ªé€šç”¨æŒ‡é’ˆï¼Œç„¶åé€šè¿‡æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢æˆ–è€…èµ‹å€¼æ“ä½œé‚£æ ·çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå°†å®ƒè½¬æ¢æˆä¸€ä¸ªæœ‰ç±»å‹çš„æŒ‡é’ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¯ä¸ªæŒ‡é’ˆéƒ½æœ‰ä¸€ä¸ªå€¼ã€‚ç‰¹æ®Šçš„NULL(0)å€¼è¡¨ç¤ºè¯¥æŒ‡é’ˆæ²¡æœ‰æŒ‡å‘ä»»ä½•åœ°æ–¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‡é’ˆç”¨&amp;amp;è¿ç®—ç¬¦åˆ›å»ºã€‚ï¼ˆæ³¨ï¼šå› ä¸ºlealæŒ‡ä»¤æ˜¯è®¾è®¡ç”¨æ¥è®¡ç®—å­˜å‚¨å™¨å¼•ç”¨çš„åœ°å€çš„ï¼Œ&amp;amp;è¿ç®—ç¬¦çš„æœºå™¨ä»£ç å®ç°å¸¸å¸¸ç”¨è¿™æ¡æŒ‡ä»¤æ¥è®¡ç®—è¡¨è¾¾å¼çš„å€¼ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°ç»„ä¸æŒ‡é’ˆç´§å¯†è”ç³»ã€‚ä¸€ä¸ªæ•°ç»„çš„åå­—å¯ä»¥åƒä¸€ä¸ªæŒ‡é’ˆå˜é‡ä¸€æ ·ä½¿ç”¨(ä½†æ˜¯ä¸èƒ½ä¿®æ”¹)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†æŒ‡é’ˆä»ä¸€ä¸ªç±»å‹å¼ºåˆ¶è½¬æ¢æˆå¦ä¸€ç§ç±»å‹ï¼Œåªæ”¹å˜å®ƒçš„ç±»å‹ï¼Œè€Œä¸æ”¹å˜å®ƒçš„å€¼ã€‚å¼ºåˆ¶ç±»å‹è½¬æ¢çš„ä¸€ä¸ªæ•ˆæœæ˜¯æ”¹å˜æŒ‡é’ˆè¿ç®—çš„ä¼¸ç¼©ã€‚ä¾‹å¦‚ï¼Œå¦‚æœpæ˜¯ä¸€ä¸ªchar*ç±»å‹çš„æŒ‡é’ˆï¼Œå®ƒçš„å€¼æ˜¯Pï¼Œé‚£ä¹ˆè¡¨è¾¾å¼(int*)p+7è®¡ç®—ä¸ºP+28ï¼Œè€Œ(int*)(p+7)è®¡ç®—ä¸ºP+7ã€‚(å›æƒ³ä¸€ä¸‹ï¼Œå¼ºåˆ¶ç±»å‹è½¬æ¢çš„ä¼˜å…ˆçº§é«˜äºåŠ æ³•)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‡é’ˆä¹Ÿå¯ä»¥æŒ‡å‘å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨ä¸‹é¢çš„è¿™ä¸ªåŸå‹å®šä¹‰: &lt;code&gt;int fun(int x, int *p)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å£°æ˜ä¸€ä¸ªæŒ‡é’ˆfpï¼Œå°†å®ƒèµ‹å€¼ä¸ºè¿™ä¸ªå‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt;) (*fp)(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt;, &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; *);
fp = fun;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åç”¨ä»¥ä¸‹æŒ‡é’ˆæ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; y = 1;
&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; result = fp(3, &amp;amp;y);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‡½æ•°æŒ‡é’ˆçš„å€¼æ˜¯è¯¥å‡½æ•°æœºå™¨ä»£ç è¡¨ç¤ºä¸­ç¬¬ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚&lt;/p&gt;
&lt;h4&gt;93&amp;amp;-8ç­‰äºå¤šå°‘&lt;/h4&gt;
&lt;p&gt;11011101 &amp;amp; 11111000 = 11011000 = 88&lt;/p&gt;
&lt;h4&gt;å·²çŸ¥(he)^2 = sheï¼Œè¯·æ±‚å‡ºs, h, eå„è‡ªçš„å€¼ä¸ºå¤šå°‘ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;s = 6; h = 2; e = 5;&lt;/p&gt;
&lt;h4&gt;ç»™å®šäºŒç»´æ•°ç»„a[1...100][1...65]ï¼Œä»¥è¡Œåºè¿›è¡Œå­˜å‚¨ï¼Œå‡è®¾æ•°ç»„çš„åŸºåœ°å€ä¸º10000ï¼Œæ¯ä¸ªå…ƒç´ éœ€è¦2ä¸ªå­˜å‚¨å•å…ƒï¼Œè¯·æ±‚å‡ºå…ƒç´ a[56][21]çš„å­˜å‚¨åœ°å€ã€‚&lt;/h4&gt;
&lt;p&gt;$$ (55 \times 65 + 22) \times 2 + 10000 = 17194 $$&lt;/p&gt;
&lt;h4&gt;ç»™å®šä¸€ä¸ªæ•°ç»„aï¼Œæ±‚æ•°ç»„resultï¼Œå…¶ä¸­result[i]çš„å€¼ä¸ºé™¤a[i]ä¹‹å¤–çš„å…¶ä»–açš„å…ƒç´ å€¼çš„ä¹˜ç§¯(å‡è®¾ä¸ä¼šæº¢å‡º)ã€‚ç®—æ³•çš„æ—¶é—´ï¼Œç©ºé—´å¤æ‚åº¦è¦å°½å¯èƒ½ä½ã€‚&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;int&lt;/span&gt;* getProduct(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt;* a, &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; n)
{
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; allproduct = 1;
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; index;
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(index=0; index&amp;lt;n; index++)
        allproduct *= a[index];
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;* productResult = new &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;[n];
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(index=0; index&amp;lt;n; index++)
        productResult[index] = allproduct / a[index];
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; productResult;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ—¶é—´å¤æ‚åº¦ä¸ºO(n)&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;int&lt;/span&gt;* getProduct(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt;* a, &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; n)
{
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;* productResult = new &lt;span style="color: #2b91af"&gt;int&lt;/span&gt;[n];
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; i, j, temp;
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(i=0; i&amp;lt;n; i++)
    {

        temp = 1;
        &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(j=0; j&amp;lt;n; j++)
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;(j != i)
                temp *= a[j];
        }
        productResult[i] = temp;
    }
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; productResult;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)&lt;/p&gt;
&lt;h4&gt;ç»™å®šä¸€ä¸ªæ•°ç»„aï¼Œå…¶ä¸­æœ‰3ä¸ªå…ƒç´ å‡ºç°äº†ä¸¤æ¬¡ï¼Œå…¶ä½™å…ƒç´ ä»…å‡ºç°ä¸€æ¬¡ã€‚è¯·æ‰¾å‡ºå…¶ä¸­ä»…å‡ºç°ä¸€æ¬¡çš„ä»»æ„ä¸€ä¸ªå…ƒç´ ã€‚ç®—æ³•çš„æ—¶é—´ï¼Œç©ºé—´å¤æ‚åº¦è¦ä½&lt;/h4&gt;
&lt;p&gt;æ–¹æ³•ä¸€ï¼šå…ˆæ’åºï¼Œç„¶åå¯¹å…ƒç´ ä¾æ¬¡ä¸¤ä¸¤æ¯”è¾ƒéå†ä¸€éæ’å¥½åºçš„æ•°ç»„ï¼Œå¦‚æœä¸¤ä¸ªå…ƒç´ ä¸åŒï¼Œåˆ™è¾“å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶é€€å‡ºå¾ªç¯ã€‚å¦‚æœç›¸åŒï¼Œåˆ™è·³è¿‡ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå†æ¬¡å¼€å§‹ä¸¤ä¸¤æ¯”è¾ƒã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•äºŒï¼šå…ˆæ‰¾å‡ºæ•°ç»„aä¸­çš„æœ€å¤§å…ƒç´ xï¼Œåˆ›å»ºä¸€ä¸ªå¤§å°ä¸ºxçš„æ•°ç»„tempï¼Œå¹¶æ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸º-1ã€‚éå†æ•°ç»„aï¼Œtemp[a[i]]++ã€‚å†éå†tempï¼Œå¦‚æœtemp[i]==0ï¼Œåˆ™è¿”å›iï¼Œå¹¶é€€å‡ºå¾ªç¯ã€‚&lt;/p&gt;
&lt;h4&gt;ç»™å®šnä¸ªäººï¼Œä»¥åŠmå¯¹äººä¹‹é—´çš„å…³è”(ä»¥äºŒç»´æ•°ç»„çš„æ–¹å¼å­˜å‚¨)ï¼Œäººä¸äººä¹‹é—´ç›´æ¥å…³è”æˆ–é—´æ¥å…³è”å½¢æˆä¸€ä¸ªæœ‹å‹åœˆã€‚è¯·æ‰¾å‡ºç»™å®šä¿¡æ¯çš„æœ‹å‹åœˆçš„ä¸ªæ•°ã€‚ç®—æ³•æ—¶é—´ç©ºé—´å¤æ‚åº¦è¦ä½ã€‚å¹¶åˆ†æå…¶æ—¶é—´ç©ºé—´å¤æ‚åº¦ã€‚&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨ &lt;strong&gt;åˆå¹¶-æŸ¥æ‰¾ç®—æ³•&lt;/strong&gt; (&lt;a href="http://zh.wikipedia.org/wiki/%E5%B9%B6%E6%9F%A5%E9%9B%86"&gt;å¹¶æŸ¥é›†&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¿é€šé—®é¢˜çš„å¿«é€ŸæŸ¥æ‰¾ç®—æ³•&lt;/strong&gt;ï¼šç®—æ³•çš„åŸºç¡€æ˜¯ä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œå½“ä¸”ä»…å½“ç¬¬pä¸ªå…ƒç´ å’Œç¬¬qä¸ªå…ƒç´ ç›¸ç­‰æ—¶ï¼Œpå’Œqæ˜¯è¿é€šçš„ã€‚åˆå§‹æ—¶ï¼Œæ•°ç»„ä¸­çš„ç¬¬iä¸ªå…ƒç´ çš„å€¼ä¸ºiï¼Œ$0 \le i &amp;lt; N$ã€‚ä¸ºå®ç°pä¸qçš„åˆå¹¶æ“ä½œï¼Œæˆ‘ä»¬éå†æ•°ç»„ï¼ŒæŠŠæ‰€æœ‰åä¸ºpçš„å…ƒç´ å€¼æ”¹ä¸ºqã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©å¦ä¸€ç§æ–¹å¼ï¼ŒæŠŠæ‰€æœ‰åä¸ºqçš„å…ƒç´ æ”¹ä¸ºpã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3&gt;2013-è…¾è®¯-æ ¡å›­æ‹›è˜-ç¬”è¯•-åå°å¼€å‘å·¥ç¨‹å¸ˆ&lt;/h3&gt;
&lt;h4&gt;é»‘ç›’ï¼Œç™½ç›’æµ‹è¯•çš„ç›®çš„&lt;/h4&gt;
&lt;h4&gt;TCPä¸‰æ¬¡æ¡æ‰‹åŒ…å«çš„æŒ‡ä»¤(SYN, ACK)&lt;/h4&gt;
&lt;h4&gt;å®Œå…¨äºŒå‰æ ‘çš„ç»“ç‚¹æ•°ä¸º769,æ±‚å…¶å¶å­ç»“ç‚¹æ•°ç›®&lt;/h4&gt;
&lt;p&gt;(769-x)*2 = 769-1 =&amp;gt; x=385&lt;/p&gt;
&lt;h4&gt;C++çš„å››ç§ç±»å‹è½¬æ¢ç¬¦&lt;/h4&gt;
&lt;p&gt;&lt;a href="http://www.bccn.net/Article/kfyy/cjj/jszl/200809/7955.html"&gt;C++ä¸­å››ç§ç±»å‹è½¬æ¢è¿ç®—ç¬¦çš„ä½¿ç”¨æ–¹æ³•&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;å¿«é€Ÿæ’åº&lt;/h4&gt;
&lt;h4&gt;æœ‰ä¸€ä¸ªæŒ‡é’ˆvoid *mPemæŒ‡å‘ä¸€æ®µåˆ†é…å¥½çš„å†…å­˜ç©ºé—´ï¼Œç°åœ¨åˆ›å»ºç±»Açš„å¯¹è±¡aï¼Œå¦‚ä½•ä½¿å¾—aåœ¨å…¶ä¸Šç”³è¯·å†…å­˜ç©ºé—´ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;éš¾é“çœŸæ˜¯A* a = (A*)mPemä¹ˆ?&lt;/p&gt;
&lt;h4&gt;è™šç»§æ‰¿ä¸å¤šæ€&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;#include&lt;/span&gt; &lt;span style="color: #008000"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;#include&lt;/span&gt;&lt;span style="color: #008000"&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;using&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; std;

&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;A&lt;/span&gt;{
    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt;:
        A():a(0){}
        &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; S(){
            printf(&lt;span style="color: #a31515"&gt;&amp;quot;aaa%d&amp;quot;&lt;/span&gt;,0);
        }
        &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; a;
};

&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;B&lt;/span&gt;:&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; A
{
    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt;:
        B():a(2){}
        &lt;span style="color: #2b91af"&gt;void&lt;/span&gt; S(){
            printf(&lt;span style="color: #a31515"&gt;&amp;quot;bbb%d&amp;quot;&lt;/span&gt;,1);
        }
        &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; a;
};

&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; main()
{
    A *a = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; B();
    a-&amp;gt;S();
    printf(&lt;span style="color: #a31515"&gt;&amp;quot;%d&amp;quot;&lt;/span&gt;,a-&amp;gt;a);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;BITMAPçš„ç®€å•å®ç°ï¼šä½¿ç”¨charç±»å‹æ•°ç»„&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;char&lt;/span&gt;* a;
...
&lt;span style="color: #2b91af"&gt;void&lt;/span&gt; set(&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; n) &lt;span style="color: #008000"&gt;//è®¾ç½®ç¬¬nä½ä¸º1&lt;/span&gt;
{
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; index = (n-1)/8;
    a[index] |= 1&amp;lt;&amp;lt;(n-1-(n-1)%8)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;çŸ©é˜µå‘å³æ—‹è½¬90åº¦çš„å®ç°&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; maxtrix[M][N];
...
&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; reverseMatrix[N][M];
&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; i, j;
&lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(i=0; i&amp;lt;M; i++)
{
    &lt;span style="color: #0000ff"&gt;for&lt;/span&gt;(j=0; j&amp;lt;N; j++)
    {
        reverseMatrix[j][M-1-i] = matrix[i][j];
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;æ•°æ®ç»“æ„ï¼šçº¿æ€§ç»“æ„ä¸éçº¿æ€§ç»“æ„&lt;/h4&gt;
&lt;h4&gt;ç»¼åˆè€ƒè™‘ç­‰å¾…æ—¶é—´å’Œæ‰§è¡Œæ—¶é—´çš„è¿›ç¨‹è°ƒåº¦ç®—æ³•ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;é«˜å“åº”æ¯”ä¼˜å…ˆè°ƒåº¦ç®—æ³•&lt;/em&gt;&lt;/p&gt;
&lt;h4&gt;æ— æ³•æé«˜å¯é æ€§çš„RAIDæ˜¯ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;RAID0&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://zh.wikipedia.org/zh/RAID"&gt;wikipedia-RAID&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;ç±»å‹çš„ç©ºé—´å ç”¨&lt;/h4&gt;
&lt;p&gt;ä¸‹åˆ—å“ªä¸ªå ç”¨çš„ç©ºé—´æœ€å¤§ï¼Ÿ&lt;/p&gt;
&lt;p&gt;A.1   B.'1'   C."1"   D.1.0&lt;/p&gt;
&lt;p&gt;ç­”ï¼šD&lt;/p&gt;
&lt;h4&gt;unionå’Œstructç»“æ„çš„å­˜å‚¨ä¸ç©ºé—´å ç”¨é—®é¢˜(å¯¹é½)&lt;/h4&gt;
&lt;p&gt;1.&lt;/p&gt;
&lt;p&gt;è”åˆæä¾›äº†ä¸€ç§æ–¹å¼ï¼Œèƒ½å¤Ÿè§„é¿Cè¯­è¨€çš„ç±»å‹ç³»ç»Ÿï¼Œå…è®¸ä»¥å¤šç§ç±»å‹æ¥å¼•ç”¨ä¸€ä¸ªå¯¹è±¡ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;union&lt;/span&gt; &lt;span style="color: #2b91af"&gt;U3&lt;/span&gt; {
    &lt;span style="color: #2b91af"&gt;char&lt;/span&gt; c;
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; i[2];
    &lt;span style="color: #2b91af"&gt;double&lt;/span&gt; v;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºç±»å‹union U3*çš„æŒ‡é’ˆp, p-&amp;gt;cã€p-&amp;gt;i[0]å’Œp-&amp;gt;vå¼•ç”¨çš„éƒ½æ˜¯æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ã€‚ä¸€ä¸ªè”åˆçš„æ€»çš„å¤§å°ç­‰äºå®ƒæœ€å¤§å­—æ®µçš„å¤§å°ã€‚&lt;/p&gt;
&lt;p&gt;2.&lt;/p&gt;
&lt;p&gt;è®¸å¤šè®¡ç®—æœºç³»ç»Ÿå¯¹åŸºæœ¬æ•°æ®ç±»å‹åˆæ³•åœ°å€åšå‡ºäº†ä¸€äº›é™åˆ¶ï¼Œè¦æ±‚æŸç§ç±»å‹å¯¹è±¡çš„åœ°å€å¿…é¡»æ˜¯æŸä¸ªå€¼K(é€šå¸¸æ˜¯2, 4å’Œ8)çš„å€æ•°ã€‚è¿™ç§å¯¹é½é™åˆ¶ç®€åŒ–äº†å½¢æˆå¤„ç†å™¨å’Œå­˜å‚¨å™¨ç³»ç»Ÿä¹‹é—´æ¥å£çš„ç¡¬ä»¶è®¾è®¡ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä¸€ä¸ªå¤„ç†å™¨æ€»æ˜¯ä»å­˜å‚¨å™¨ä¸­å–å‡º8ä¸ªå­—èŠ‚ï¼Œåˆ™åœ°å€å¿…é¡»æ˜¯ä¸º8çš„å€æ•°ã€‚å¦‚æœæˆ‘ä»¬èƒ½ä¿è¯å°†æ‰€æœ‰çš„doubleç±»å‹æ•°æ®çš„åœ°å€å¯¹é½æˆ8çš„å€æ•°ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨ä¸€ä¸ªå­˜å‚¨å™¨æ“ä½œæ¥è¯»æˆ–è€…å†™å€¼äº†ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æ‰§è¡Œä¸¤æ¬¡å­˜å‚¨å™¨è®¿é—®ï¼Œå› ä¸ºå¯¹è±¡å¯èƒ½è¢«åˆ†æ”¾åœ¨ä¸¤ä¸ª8å­—èŠ‚å­˜å‚¨å™¨å—ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºæ•°æ®æ˜¯å¦å¯¹é½ï¼ŒIA32å·²ç»éƒ½èƒ½æ­£ç¡®å·¥ä½œã€‚ä¸è¿‡ï¼ŒIntelè¿˜æ˜¯å»ºè®®è¦å¯¹é½æ•°æ®ä»¥æé«˜å­˜å‚¨å™¨ç³»ç»Ÿçš„æ€§èƒ½ã€‚Linuxæ²¿ç”¨çš„å¯¹é½ç­–ç•¥æ˜¯ï¼Œ2å­—èŠ‚æ•°æ®ç±»å‹(ä¾‹å¦‚short)çš„åœ°å€å¿…é¡»æ˜¯2çš„å€æ•°ï¼Œè€Œè¾ƒå¤§çš„æ•°æ®ç±»å‹(ä¾‹å¦‚intã€int*ã€floatå’Œdouble)çš„åœ°å€å¿…é¡»æ˜¯4çš„å€æ•°ã€‚&lt;/p&gt;
&lt;h4&gt;äºŒå‰æ ‘ä¸­åºéå†&lt;/h4&gt;
&lt;h4&gt;æœ€å°å †(å †æ’åº)&lt;/h4&gt;
&lt;p&gt;å †æ’åº(Heap Sort)åªéœ€è¦ä¸€ä¸ªè®°å½•å¤§å°çš„è¾…åŠ©ç©ºé—´ï¼Œæ¯ä¸ªå¾…æ’åºçš„è®°å½•ä»…å æœ‰ä¸€ä¸ªå­˜å‚¨ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;å †çš„å®šä¹‰å¦‚ä¸‹ï¼šnä¸ªå…ƒç´ çš„åºåˆ—{K1, K2,...,Kn}å½“ä¸”ä»…å½“æ»¡è¶³å…³ç³»æ—¶ï¼Œç§°ä¹‹ä¸ºå †:
Ki &amp;lt;= K2i å¹¶ä¸” Ki &amp;lt;= K2i+1  æˆ–  Ki &amp;gt;= K2i å¹¶ä¸” Ki &amp;gt;= K2i+1&lt;/p&gt;
&lt;p&gt;è‹¥å°†å’Œæ­¤åºåˆ—å¯¹åº”çš„ä¸€ç»´æ•°ç»„çœ‹æˆæ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œåˆ™å †çš„å«ä¹‰è¡¨æ˜ï¼Œå®Œå…¨äºŒå‰æ ‘ä¸­æ‰€æœ‰éç»ˆç«¯ç»“ç‚¹çš„å€¼å‡ä¸å¤§äº(æˆ–ä¸å°äº)å…¶å·¦ã€å³å­©å­ç»“ç‚¹çš„å€¼ã€‚ç”±æ­¤ï¼Œè‹¥åºåˆ—{Ki,K2,...,Kn}æ˜¯å †ï¼Œåˆ™å †é¡¶å…ƒç´ (æˆ–å®Œå…¨äºŒå‰æ ‘çš„æ ¹)å¿…ä¸ºåºåˆ—ä¸­nä¸ªå…ƒç´ çš„æœ€å°å€¼(æˆ–æœ€å¤§å€¼)ã€‚&lt;/p&gt;
&lt;p&gt;è‹¥åœ¨è¾“å‡ºå †é¡¶çš„æœ€å°å€¼ä¹‹åï¼Œä½¿å¾—å‰©ä½™n-1ä¸ªå…ƒç´ çš„åºåˆ—é‡åˆå»ºæˆä¸€ä¸ªå †ï¼Œåˆ™å¾—åˆ°nä¸ªå…ƒç´ ä¸­æ¬¡å°å€¼ã€‚å¦‚æ­¤åå¤æ‰§è¡Œï¼Œä¾¿èƒ½å¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºå †æ’åºã€‚&lt;/p&gt;
&lt;p&gt;ç”±æ­¤ï¼Œå®ç°å †æ’åºéœ€è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š(1)å¦‚ä½•ç”±ä¸€ä¸ªæ— åºåºåˆ—å»ºæˆä¸€ä¸ªå †ï¼Ÿ(2)å¦‚ä½•åœ¨è¾“å‡ºæ ˆé¡¶å…ƒç´ ä¹‹åï¼Œè°ƒæ•´å‰©ä½™å…ƒç´ æˆä¸ºä¸€ä¸ªæ–°çš„å †ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/youngsterxyf/Data-Structures-and-Algorithms/blob/master/heapSort.c"&gt;æºä»£ç &lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;ä¸€ä¸ªçº¿æ®µä¸Šï¼Œä»»å–ä¸¤ç‚¹ï¼Œæˆªæˆä¸‰æ®µï¼Œèƒ½ç»„æˆä¸‰è§’å½¢çš„æ¦‚ç‡&lt;/h4&gt;
&lt;p&gt;1/4 (æ€ä¹ˆç®—ï¼Ÿ)&lt;/p&gt;
&lt;p&gt;æ€è€ƒ1ï¼šçº¿æ®µç­‰åˆ†æˆä¸¤ä¸ªåŒºé—´ã€‚ä¸¤ç‚¹å±äºåŒä¸€åŒºé—´çš„æ¦‚ç‡æ˜¯1/2ï¼Œå±äºä¸åŒåŒºé—´ä¸”ä¸¤ç‚¹è·ç¦»å¤§äºç­‰äºçº¿æ®µé•¿åº¦ä¸€åŠçš„æ¦‚ç‡æ˜¯1/2 * 1/2ï¼Œåˆ™1-1/2-1/4 = 1/4;&lt;/p&gt;
&lt;p&gt;æ€è€ƒ2ï¼šçº¿æ€§è§„åˆ’ã€‚&lt;a href="http://zhidao.baidu.com/question/6678655"&gt;ç™¾åº¦çŸ¥é“&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;å“ˆå¸Œè¡¨&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å“ˆå¸Œå‡½æ•°çš„æ„é€ æ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç›´æ¥å®šå€æ³•ï¼šå–å…³é”®å­—æˆ–å…³é”®å­—çš„æŸä¸ªçº¿æ€§å‡½æ•°å€¼ä¸ºå“ˆå¸Œåœ°å€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°å­—åˆ†ææ³•ï¼šå‡è®¾å…³é”®å­—æ˜¯ä»¥rä¸ºåŸºçš„æ•°(å¦‚ï¼šä»¥10ä¸ºåŸºçš„åè¿›åˆ¶æ•°)ï¼Œå¹¶ä¸”å“ˆå¸Œè¡¨ä¸­å¯èƒ½å‡ºç°çš„å…³é”®å­—éƒ½æ˜¯äº‹å…ˆçŸ¥é“çš„ï¼Œåˆ™å¯å–å…³é”®å­—çš„è‹¥å¹²æ•°ä½ç»„æˆå“ˆå¸Œåœ°å€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¹³æ–¹å–ä¸­æ³•ï¼šå–å…³é”®å­—å¹³æ–¹åçš„ä¸­é—´å‡ ä½ä¸ºå“ˆå¸Œåœ°å€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŠ˜å æ³•ï¼šå°†å…³é”®å­—åˆ†å‰²æˆä½æ•°ç›¸åŒçš„å‡ éƒ¨åˆ†(æœ€åä¸€éƒ¨åˆ†çš„ä½æ•°å¯ä»¥ä¸åŒ)ï¼Œç„¶åå–è¿™å‡ éƒ¨åˆ†çš„å åŠ å’Œ(èˆå»è¿›ä½)ä½œä¸ºå“ˆå¸Œåœ°å€ï¼Œè¿™æ–¹æ³•ç§°ä¸ºæŠ˜å æ³•ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é™¤ç•™ä½™æ•°æ³•ï¼šå–å…³é”®å­—è¢«æŸä¸ªä¸å¤§äºå“ˆå¸Œè¡¨è¡¨é•¿mçš„æ•°pé™¤åæ‰€å¾—ä½™æ•°ä¸ºå“ˆå¸Œåœ°å€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;éšæœºæ•°æ³•ï¼šé€‰æ‹©ä¸€ä¸ªéšæœºå‡½æ•°ï¼Œå–å…³é”®å­—çš„éšæœºå‡½æ•°å€¼ä¸ºå®ƒçš„å“ˆå¸Œåœ°å€ï¼Œå³H(key)=random(key)ï¼Œå…¶ä¸­randomä¸ºéšæœºå‡½æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®é™…å·¥ä½œä¸­éœ€è§†ä¸åŒçš„æƒ…å†µé‡‡ç”¨ä¸åŒçš„å“ˆå¸Œå‡½æ•°ã€‚é€šå¸¸ï¼Œè€ƒè™‘çš„å› ç´ æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è®¡ç®—å“ˆå¸Œå‡½æ•°æ‰€éœ€æ—¶é—´(åŒ…æ‹¬ç¡¬ä»¶æŒ‡ä»¤çš„å› ç´ )&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…³é”®å­—çš„é•¿åº¦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å“ˆå¸Œè¡¨çš„å¤§å°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…³é”®å­—çš„åˆ†å¸ƒæƒ…å†µ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®°å½•çš„æŸ¥æ‰¾é¢‘ç‡&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤„ç†å†²çªçš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¼€æ”¾å®šå€æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†å“ˆå¸Œæ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é“¾åœ°å€æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å»ºç«‹ä¸€ä¸ªå…¬å…±æº¢å‡ºåŒº&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ç¨‹åºå‘˜é¢è¯•å®å…¸&lt;/h3&gt;
&lt;h4&gt;ç”¨ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œåˆ¤æ–­ä¸€ä¸ªæ•°Xæ˜¯å¦æ˜¯2çš„Næ¬¡æ–¹(2,4,8,16,...)ï¼Œä¸å¯ç”¨å¾ªç¯è¯­å¥ã€‚&lt;/h4&gt;
&lt;h4&gt;ä¸‹é¢ç¨‹åºçš„ç»“æœæ˜¯å¤šå°‘ï¼Ÿ&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;#include&lt;/span&gt; &lt;span style="color: #008000"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;#include&lt;/span&gt; &lt;span style="color: #008000"&gt;&amp;lt;string&amp;gt;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;using&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; std;
&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; main()
{
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; count = 0;
    &lt;span style="color: #2b91af"&gt;int&lt;/span&gt; m = 9999;
    &lt;span style="color: #0000ff"&gt;while&lt;/span&gt;(m){
        count++;
        m=m&amp;amp;(m-1);
    }
    cout &amp;lt;&amp;lt; count &amp;lt;&amp;lt; endl;

    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; 0;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;There are two int variables: a and b, don't use "if", "?:", "switch" or other judgement statements, find out the biggest one of the two numbers.&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; max = ((a+b)+abs(a-b)) / 2;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;å¦‚ä½•å°†a, bçš„å€¼è¿›è¡Œäº¤æ¢ï¼Œå¹¶ä¸”ä¸ä½¿ç”¨ä»»ä½•ä¸­é—´å˜é‡?&lt;/h4&gt;
&lt;p&gt;ç®€è€Œè¨€ä¹‹ï¼Œç”¨å¼‚æˆ–è¯­å¥æ¯”è¾ƒå®¹æ˜“ï¼Œä¸ç”¨æ‹…å¿ƒè¶…ç•Œçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœé‡‡ç”¨ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;a=a+b;
b=a-b;
a=a-b;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·åšçš„ç¼ºç‚¹å°±æ˜¯å¦‚æœa, béƒ½æ˜¯æ¯”è¾ƒå¤§çš„ä¸¤ä¸ªæ•°ï¼Œa=a+bæ—¶å°±ä¼šè¶…ç•Œã€‚&lt;/p&gt;
&lt;p&gt;è€Œé‡‡ç”¨ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;a=a^b;
b=a^b;
a=a^b;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ— éœ€æ‹…å¿ƒè¶…ç•Œçš„é—®é¢˜ï¼Œè¿™æ ·å°±æ¯”è¾ƒå¥½&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è¯•"></category></entry><entry><title>Pythonè£…é¥°å™¨å…¥é—¨ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2012/07/30/a-primer-on-python-decorators/" rel="alternate"></link><published>2012-07-30T00:00:00+08:00</published><updated>2012-07-30T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-07-30:/2012/07/30/a-primer-on-python-decorators/</id><summary type="html">&lt;p&gt;åŸæ–‡: &lt;a href="http://www.thumbtack.com/engineering/a-primer-on-python-decorators/"&gt;A primer on Python decorators&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç¿»è¯‘: &lt;a href="http://xiayf.blogspot.com/"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Pythonå…è®¸ä½ ï¼Œä½œä¸ºç¨‹åºå‘˜ï¼Œä½¿ç”¨å‡½æ•°å®Œæˆä¸€äº›å¾ˆé…·çš„äº‹æƒ…ã€‚åœ¨Pythonä¸­ï¼Œå‡½æ•°æ˜¯&lt;a href="http://en.wikipedia.org/wiki/First-class_function"&gt;ä¸€ç­‰å¯¹è±¡(first-class object)&lt;/a&gt;ï¼Œè¿™å°±æ„å‘³ç€ä½ å¯ä»¥åƒä½¿ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡: &lt;a href="http://www.thumbtack.com/engineering/a-primer-on-python-decorators/"&gt;A primer on Python decorators&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç¿»è¯‘: &lt;a href="http://xiayf.blogspot.com/"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Pythonå…è®¸ä½ ï¼Œä½œä¸ºç¨‹åºå‘˜ï¼Œä½¿ç”¨å‡½æ•°å®Œæˆä¸€äº›å¾ˆé…·çš„äº‹æƒ…ã€‚åœ¨Pythonä¸­ï¼Œå‡½æ•°æ˜¯&lt;a href="http://en.wikipedia.org/wiki/First-class_function"&gt;ä¸€ç­‰å¯¹è±¡(first-class object)&lt;/a&gt;ï¼Œè¿™å°±æ„å‘³ç€ä½ å¯ä»¥åƒä½¿ç”¨å­—ç¬¦ä¸²ï¼Œæ•´æ•°ï¼Œæˆ–è€…ä»»ä½•å…¶ä»–å¯¹è±¡ä¸€æ ·ä½¿ç”¨å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å°†å‡½æ•°èµ‹å€¼ç»™å˜é‡:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; def square(n):
...     return n * n;
&amp;gt;&amp;gt;&amp;gt; square(4)
16
&amp;gt;&amp;gt;&amp;gt; alias = square
&amp;gt;&amp;gt;&amp;gt; alias(4)
16
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç„¶è€Œï¼Œä¸€ç­‰å‡½æ•°çš„çœŸæ­£å¨åŠ›åœ¨äºä½ å¯ä»¥æŠŠå‡½æ•°ä¼ ç»™å…¶ä»–å‡½æ•°ï¼Œæˆ–è€…ä»å…¶ä»–å‡½æ•°ä¸­è¿”å›å‡½æ•°ã€‚Pythonçš„å†…ç½®å‡½æ•°mapåˆ©ç”¨äº†è¿™ç§èƒ½åŠ›ï¼šç»™mapä¼ ä¸ªå‡½æ•°ä»¥åŠä¸€ä¸ªåˆ—è¡¨ï¼Œå®ƒä¼šä¾æ¬¡ä»¥åˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ ä¸ºå‚æ•°è°ƒç”¨ä½ ä¼ ç»™å®ƒçš„é‚£ä¸ªå‡½æ•°ï¼Œä»è€Œç”Ÿæˆä¸€ä¸ªæ–°çš„åˆ—è¡¨ã€‚å¦‚ä¸‹æ‰€ç¤ºçš„ä¾‹å­ä¸­åº”ç”¨äº†ä¸Šé¢çš„é‚£ä¸ªsquareå‡½æ•°:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; number = [1, 2, 3, 4, 5]
&amp;gt;&amp;gt;&amp;gt; map(square, numbers)
[1, 4, 9, 16, 25]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœä¸€ä¸ªå‡½æ•°æ¥å—å…¶ä»–å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä»¥åŠ/æˆ–è€…è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå®ƒå°±è¢«ç§°ä¸º&lt;a href="http://en.wikipedia.org/wiki/Higher-order_function"&gt;é«˜é˜¶å‡½æ•°&lt;/a&gt; ã€‚è™½ç„¶mapå‡½æ•°åªæ˜¯ç®€å•åœ°ä½¿ç”¨äº†æˆ‘ä»¬ä¼ ç»™å®ƒçš„å‡½æ•°ï¼Œè€Œæ²¡æœ‰æ”¹å˜è¿™ä¸ªå‡½æ•°ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨é«˜é˜¶å‡½æ•°å»æ”¹å˜å…¶ä»–å‡½æ•°çš„è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼Œä¼šè¢«è°ƒç”¨å¾ˆå¤šæ¬¡ï¼Œä»¥è‡´è¿è¡Œä»£ä»·éå¸¸æ˜‚è´µ:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; def fib(n):
...      &amp;quot;Recursively (i.e., dreadfully) calculate the nth Fibonacci number.&amp;quot;
...      return n if n in [0, 1] else fib(n - 2) + fib(n - 1)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬ä¸€èˆ¬ä¼šä¿å­˜è®¡ç®—è¿‡ç¨‹ä¸­æ¯æ¬¡é€’å½’è°ƒç”¨çš„ç»“æœï¼Œè¿™æ ·ï¼Œå¯¹äºå‡½æ•°è°ƒç”¨æ ‘ä¸­ç»å¸¸å‡ºç°æŸä¸ªnï¼Œå½“éœ€è¦è®¡ç®—nå¯¹åº”çš„ç»“æœæ—¶ï¼Œå°±ä¸éœ€è¦é‡å¤è®¡ç®—äº†ã€‚æœ‰å¤šç§æ–¹å¼å¯ä»¥åšåˆ°è¿™ç‚¹ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›ç»“æœå­˜åœ¨ä¸€ä¸ªå­—å…¸ä¸­ï¼Œå½“ä»¥æŸä¸ªå€¼ä¸ºå‚æ•°è°ƒç”¨fibå‡½æ•°æ—¶ï¼Œå°±å…ˆåˆ°è¿™ä¸ªå­—å…¸å»æŸ¥ä¸€ä¸‹å…¶ç»“æœæ˜¯å¦å·²ç»è®¡ç®—å‡ºæ¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†è¿™æ ·çš„è¯ï¼Œæ¯æ¬¡æˆ‘ä»¬æƒ³è¦è°ƒç”¨fibå‡½æ•°ï¼Œéƒ½éœ€è¦é‡å¤é‚£æ®µç›¸åŒçš„å­—å…¸æ£€æŸ¥æ ·æ¿å¼ä»£ç ã€‚ç›¸åï¼Œå¦‚æœè®©fibå‡½æ•°è‡ªå·±åœ¨å†…éƒ¨è´Ÿè´£å­˜å‚¨å…¶ç»“æœï¼Œé‚£ä¹ˆåœ¨å…¶ä»–ä»£ç ä¸­è°ƒç”¨fibï¼Œå°±éå¸¸æ–¹ä¾¿ï¼Œåªè¦ç®€å•åœ°è°ƒç”¨å®ƒå°±è¡Œäº†ã€‚è¿™æ ·ä¸€ç§æŠ€æœ¯è¢«ç§°ä¸º&lt;a href="http://en.wikipedia.org/wiki/Memoization"&gt;memoization&lt;/a&gt;(æ³¨æ„æ²¡æœ‰å­—æ¯rçš„å“¦)ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æŠŠè¿™ç§memoizationä»£ç ç›´æ¥æ”¾å…¥fibå‡½æ•°ï¼Œä½†æ˜¯Pythonä¸ºæˆ‘ä»¬æä¾›äº†å¦å¤–ä¸€ç§æ›´åŠ ä¼˜é›…çš„é€‰æ‹©ã€‚å› ä¸ºå¯ä»¥ç¼–å†™ä¿®æ”¹å…¶ä»–å‡½æ•°çš„å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªé€šç”¨çš„memoizationå‡½æ•°ï¼Œä»¥ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›è¿™ä¸ªå‡½æ•°çš„memoizationç‰ˆæœ¬:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; memoize(fn):
    stored_results = {}

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; memoized(*args):
        &lt;span style="color: #0000ff"&gt;try&lt;/span&gt;:
            &lt;span style="color: #008000"&gt;# try to get the cached result&lt;/span&gt;
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; stored_results[args]
        &lt;span style="color: #0000ff"&gt;except&lt;/span&gt; KeyError:
            &lt;span style="color: #008000"&gt;# nothing was cached for those args. let&amp;#39;s fix that.&lt;/span&gt;
            result = stored_results[args] = fn(*args)
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; result
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; memoized
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚ä¸Šï¼Œ &lt;code&gt;memoize&lt;/code&gt; å‡½æ•°ä»¥å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå‡½æ•°ä½“ä¸­åˆ›å»ºäº†ä¸€ä¸ªå­—å…¸å¯¹è±¡ç”¨æ¥å­˜å‚¨å‡½æ•°è°ƒç”¨çš„ç»“æœï¼šé”®ä¸ºè¢«memoizedåŒ…è£…åçš„å‡½æ•°çš„å‚æ•°ï¼Œå€¼ä¸ºä»¥é”®ä¸ºå‚æ•°è°ƒç”¨å‡½æ•°çš„è¿”å›å€¼ã€‚ &lt;code&gt;memoize&lt;/code&gt; å‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šé¦–å…ˆæ£€æŸ¥åœ¨ &lt;code&gt;stored_results&lt;/code&gt; å­—å…¸ä¸­æ˜¯å¦å­˜åœ¨ä¸å½“å‰å‚æ•°å¯¹åº”çš„æ¡ç›®ï¼›å¦‚æœæœ‰ï¼Œå¯¹åº”çš„å­˜å‚¨å€¼ä¼šè¢«è¿”å›ï¼›å¦åˆ™ï¼Œå°±è°ƒç”¨ç»è¿‡åŒ…è£…çš„å‡½æ•°ï¼Œå­˜å‚¨å…¶è¿”å›å€¼ï¼Œå¹¶ä¸”è¿”å›ç»™è°ƒç”¨è€…ã€‚memoizeè¿”å›çš„è¿™ç§æ–°å‡½æ•°å¸¸è¢«ç§°ä¸º"åŒ…è£…å™¨"å‡½æ•°ï¼Œå› ä¸ºå®ƒåªæ˜¯å¦å¤–ä¸€ä¸ªçœŸæ­£èµ·ä½œç”¨çš„å‡½æ•°å¤–é¢çš„ä¸€ä¸ªè–„å±‚ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¥½ï¼Œç°åœ¨æœ‰äº†ä¸€ä¸ªmemoizationå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠfibå‡½æ•°ä¼ ç»™å®ƒï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªç»è¿‡åŒ…è£…çš„fibï¼Œè¿™ä¸ªç‰ˆæœ¬çš„fibå‡½æ•°ä¸éœ€è¦é‡å¤ä»¥å‰é‚£æ ·çš„ç¹é‡å·¥ä½œ:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fib(n):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; n &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; n &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; [0, 1] &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; fib(n - 2) + fib(n - 1)
fib = memoize(fib)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é€šè¿‡é«˜é˜¶å‡½æ•°memoizeï¼Œæˆ‘ä»¬è·å¾—äº†memoizationå¸¦æ¥çš„å¥½å¤„ï¼Œå¹¶ä¸”ä¸éœ€è¦å¯¹fibå‡½æ•°è‡ªå·±åšå‡ºä»»ä½•æ”¹å˜ï¼Œä»¥å…å¤¹æ‚ç€memoizationçš„ä»£ç è€Œæ¨¡ç³Šäº†å‡½æ•°çš„å®è´¨å·¥ä½œã€‚ä½†æ˜¯ï¼Œä½ ä¹Ÿè®¸æ³¨æ„åˆ°ä¸Šé¢çš„ä»£ç è¿˜ç®—æœ‰ç‚¹åˆ«æ‰­ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»å†™3éfibã€‚ç”±äºè¿™ç§æ¨¡å¼-ä¼ é€’ä¸€ä¸ªå‡½æ•°ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå°†ç»“æœè¿”å›ç»™ä¸åŸæ¥é‚£ä¸ªå‡½æ•°åŒåçš„å‡½æ•°å˜é‡-åœ¨ä½¿ç”¨åŒ…è£…å™¨å‡½æ•°çš„ä»£ç ä¸­æä¸ºå¸¸è§ï¼ŒPythonä¸ºå…¶æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ï¼šè£…é¥°å™¨:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;@memoize
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fib(n):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; n &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; n &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; [0, 1] &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; fib(n - 2) + fib(n -1)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œï¼Œæˆ‘ä»¬è¯´memoizeå‡½æ•°è£…é¥°äº†fibå‡½æ•°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä»…æ˜¯ä¸€ç§è¯­æ³•ä¸Šçš„ç®€ä¾¿å†™æ³•(è¯‘æ³¨ï¼šå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„"è¯­æ³•ç³–")ã€‚è¿™æ®µä»£ç ä¸å‰é¢çš„ä»£ç ç‰‡æ®µåšçš„æ˜¯åŒæ ·çš„äº‹æƒ…ï¼šå®šä¹‰ä¸€ä¸ªåä¸ºfibçš„å‡½æ•°ï¼ŒæŠŠå®ƒä¼ ç»™memoizeå‡½æ•°ï¼Œå°†è¿”å›ç»“æœå­˜ä¸ºåä¸ºfibçš„å‡½æ•°å˜é‡ã€‚ç‰¹æ®Šçš„(çœ‹èµ·æ¥æœ‰ç‚¹å¥‡æ€ªçš„)@è¯­æ³•åªæ˜¯å‡å°‘äº†å†—ä½™ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å°†å¤šä¸ªè£…é¥°å™¨å †å èµ·æ¥ä½¿ç”¨ï¼Œå®ƒä»¬ä¼šè‡ªåº•å‘ä¸Šåœ°é€ä¸ªèµ·ä½œç”¨ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬è¿˜æœ‰å¦ä¸€ä¸ªç”¨æ¥å¸®åŠ©è°ƒè¯•çš„é«˜é˜¶å‡½æ•°:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; make_verbose(fn):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; verbose(*args):
        &lt;span style="color: #008000"&gt;# will print (e.g.) fib(5)&lt;/span&gt;
        print &lt;span style="color: #a31515"&gt;&amp;#39;%s(%s)&amp;#39;&lt;/span&gt; % (fb.__name__, &lt;span style="color: #a31515"&gt;&amp;#39;, &amp;#39;&lt;/span&gt;.join(repr(arg) &lt;span style="color: #0000ff"&gt;for&lt;/span&gt; arg &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; args))
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; fn(*args)   &lt;span style="color: #008000"&gt;# actually call the decorated function&lt;/span&gt;

    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; verbose
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸‹é¢çš„ä¸¤ä¸ªä»£ç ç‰‡æ®µåšçš„æ˜¯åŒæ ·çš„äº‹æƒ…:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;@memoize
@make_verbose
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fib(n):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; n &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; n &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; [0, 1] &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; fib(n - 2) + fib(n - 1)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fib(n):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; n &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; n &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; [0, 1] &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; fib(n - 2) + fib(n - 1)
fib = memoize(make_verbose(fib))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æœ‰è¶£çš„æ˜¯ï¼ŒPythonå¹¶æ²¡æœ‰é™åˆ¶ä½ åœ¨@ç¬¦å·ååªèƒ½å†™ä¸€ä¸ªå‡½æ•°åï¼šä½ ä¹Ÿå¯ä»¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä»è€Œèƒ½å¤Ÿé«˜æ•ˆåœ°ä¼ é€’å‚æ•°ç»™è£…é¥°å™¨ã€‚å‡è®¾æˆ‘ä»¬å¹¶ä¸æ»¡è¶³äºç®€å•çš„memoizationï¼Œè¿˜æƒ³å°†å‡½æ•°çš„ç»“æœå­˜å‚¨åˆ°&lt;a href="http://memcached.org/"&gt;memcached&lt;/a&gt;ä¸­ã€‚å¦‚æœä½ å·²ç»å†™äº†ä¸€ä¸ª &lt;code&gt;memcached&lt;/code&gt; è£…é¥°å™¨å‡½æ•°ï¼Œé‚£ä¹ˆå¯ä»¥(ä¾‹å¦‚)ä¼ é€’ä¸€ä¸ªæœåŠ¡å™¨åœ°å€ç»™å®ƒ:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;@memcached(&lt;span style="color: #a31515"&gt;&amp;#39;127.0.0.1:11211&amp;#39;&lt;/span&gt;)
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; fib(n):
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; n &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; n &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; [0, 1] &lt;span style="color: #0000ff"&gt;else&lt;/span&gt; fib(n - 2) + fib(n - 1)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;éè£…é¥°å™¨è¯­æ³•çš„å†™æ³•ä¼šå¦‚ä¸‹å±•å¼€:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;fib = memcached(&lt;span style="color: #a31515"&gt;&amp;#39;127.0.0.1:11211&amp;#39;&lt;/span&gt;)(fib)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Pythoné…å¤‡æœ‰ä¸€äº›ä½œä¸ºè£…é¥°å™¨ä½¿ç”¨çš„éå¸¸æœ‰ç”¨çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼ŒPythonæœ‰ä¸€ä¸ª &lt;code&gt;classmethod&lt;/code&gt; å‡½æ•°ï¼Œå¯ä»¥åˆ›å»ºå¤§è‡´ç±»ä¼¼äºjavaçš„é™æ€æ–¹æ³•:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Foo&lt;/span&gt;(object):
    SOME_CLASS_CONSTANT = 42

    @classmethod
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; add_to_my_constant(cls, value):
        &lt;span style="color: #008000"&gt;# Here, `cls` will just be Foo, buf if you called this method on a&lt;/span&gt;
        &lt;span style="color: #008000"&gt;# subclass of Foo, `cls` would be that subclass instead.&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; cls.SOME_CLASS_CONSTANT + value

Foo.add_to_my_constant(10)  &lt;span style="color: #008000"&gt;# =&amp;gt; 52&lt;/span&gt;

&lt;span style="color: #008000"&gt;# unlike in Java, you can also call a classmethod on an instance&lt;/span&gt;
f = Foo()
f.add_to_my_constant(10)    &lt;span style="color: #008000"&gt;# =&amp;gt; 52&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;æ—æ³¨ï¼šæ–‡æ¡£å­—ç¬¦ä¸²&lt;/h2&gt;
&lt;p&gt;Pythonå‡½æ•°å¯ä»¥åŒ…å«æ›´å¤šçš„ä¿¡æ¯ï¼Œè€Œä¸ä»…ä»…æ˜¯ä»£ç ï¼šå®ƒä»¬ä¹ŸåŒ…å«æœ‰ç”¨çš„å¸®åŠ©ä¿¡æ¯ï¼Œæ¯”å¦‚å‡½æ•°åç§°ï¼Œæ–‡æ¡£å­—ç¬¦ä¸²:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; def fib(n):
...     &amp;quot;Recursively (i.e., dreadfully) calculate the nth Fibonacci number.&amp;quot;
...     return n if n in [0, 1] else fib(n - 2) + fib(n - 1)
...
&amp;gt;&amp;gt;&amp;gt; fib.__name__
&amp;#39;fib&amp;#39;
&amp;gt;&amp;gt;&amp;gt; fib.__doc__
&amp;#39;Recursively (i.e., dreadfully) calculate the nth Fibonacci number.&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Pythonå†…ç½®å‡½æ•°&lt;a href="http://docs.python.org/library/functions.html#help"&gt;help&lt;/a&gt;è¾“å‡ºçš„å°±æ˜¯è¿™äº›ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œå½“å‡½æ•°è¢«åŒ…è£…ä¹‹åï¼Œæˆ‘ä»¬çœ‹åˆ°å°±æ˜¯åŒ…è£…å™¨å‡½æ•°çš„åç§°å’Œæ–‡æ¡£å­—ç¬¦ä¸²äº†:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; fib = memoized(fib)
&amp;gt;&amp;gt;&amp;gt; fib.__name__
&amp;#39;memoized&amp;#39;
&amp;gt;&amp;gt;&amp;gt; fib.__doc__
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é‚£æ ·çš„ä¿¡æ¯å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨å¤„ã€‚å¹¸è¿çš„æ˜¯ï¼ŒPythonåŒ…å«ä¸€ä¸ªåä¸º &lt;code&gt;functools.wraps&lt;/code&gt; çš„åŠ©æ‰‹å‡½æ•°ï¼Œèƒ½å¤ŸæŠŠå‡½æ•°çš„å¸®åŠ©ä¿¡æ¯æ‹·è´åˆ°å…¶åŒ…è£…å™¨å‡½æ•°:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;import&lt;/span&gt; functools
&lt;span style="color: #0000ff"&gt;def&lt;/span&gt; memoize(fn):
    stored_results = {}

    @functools.wraps(fn)
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; memoized(*args):
        &lt;span style="color: #008000"&gt;# (as before)&lt;/span&gt;

    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; memoized
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½¿ç”¨è£…é¥°å™¨å¸®åŠ©ä½ ç¼–å†™è£…é¥°å™¨ä¼šä½¿å¾ˆå¤šäº‹æƒ…ä»¤äººéå¸¸æ»¡æ„ã€‚ç°åœ¨ï¼Œå¦‚æœä½¿ç”¨æ›´æ–°è¿‡çš„memoizeå‡½æ•°é‡è¯•å‰é¢çš„ä»£ç ï¼Œæˆ‘ä»¬å°†ä¼šçœ‹åˆ°å¾—åˆ°ä¿ç•™çš„æ–‡æ¡£:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; fib = memoized(fib)
&amp;gt;&amp;gt;&amp;gt; fib.__name__
&amp;#39;fib&amp;#39;
&amp;gt;&amp;gt;&amp;gt; fib.__doc__
&amp;#39;Recursively (i.e., dreadfully) calculate the nth Fibonacci number.&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category><category term="ç¿»è¯‘"></category></entry><entry><title>Python FAQï¼šWebå¼€å‘ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2012/07/30/python-faq-webdev/" rel="alternate"></link><published>2012-07-30T00:00:00+08:00</published><updated>2012-07-30T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-07-30:/2012/07/30/python-faq-webdev/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š &lt;a href="http://me.veekun.com/blog/2012/05/05/python-faq-webdev/"&gt;Python FAQ: Webdev&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š &lt;a href="http://github.com/youngsterxyf/"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://me.veekun.com/blog/2011/07/22/python-faq/"&gt;Python FAQ&lt;/a&gt;çš„ä¸€éƒ¨åˆ†&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘åªä¼šPHPï¼Œé‚£è¯¥æ€ä¹ˆç”¨Pythonæ¥ç¼–å†™ä¸€ä¸ªWebåº”ç”¨å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªç›¸å½“å¤æ‚çš„é—®é¢˜ï¼Œç”šè‡³å¾ˆå®¹æ˜“å°±èƒ½å†™ä¸€æœ¬ä¹¦æ¥æ¢è®¨Webå¼€å‘ä¸Python â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š &lt;a href="http://me.veekun.com/blog/2012/05/05/python-faq-webdev/"&gt;Python FAQ: Webdev&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š &lt;a href="http://github.com/youngsterxyf/"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://me.veekun.com/blog/2011/07/22/python-faq/"&gt;Python FAQ&lt;/a&gt;çš„ä¸€éƒ¨åˆ†&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘åªä¼šPHPï¼Œé‚£è¯¥æ€ä¹ˆç”¨Pythonæ¥ç¼–å†™ä¸€ä¸ªWebåº”ç”¨å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªç›¸å½“å¤æ‚çš„é—®é¢˜ï¼Œç”šè‡³å¾ˆå®¹æ˜“å°±èƒ½å†™ä¸€æœ¬ä¹¦æ¥æ¢è®¨Webå¼€å‘ä¸Pythonï¼Œä»¥åŠå¦‚ä½•å…³è”ä¸¤è€…ï¼Œæ‰€ä»¥æˆ‘å¾ˆæƒ³å…ˆæŠŠè¿™ä¸ªé—®é¢˜æ”¾ä¸€æ”¾ã€‚ä½†æ˜¯é‰´äºæˆ‘åˆš&lt;a href="http://me.veekun.com/blog/2012/04/09/php-a-fractal-of-bad-design/"&gt;ç›¸å½“ç²—æš´åœ°æ£æ¯äº†PHP&lt;/a&gt;ï¼Œæ˜æ™ºäº›ï¼Œè¿˜æ˜¯å›ç­”è¿™ä¸ªé—®é¢˜å§ï¼Œå®œæ—©ä¸å®œè¿Ÿã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç›´æ¥ç®€å•çš„å›ç­”æ˜¯ï¼šä¸è¦å†è¯»äº†ï¼Œé©¬ä¸Šä½¿ç”¨&lt;a href="http://flask.pocoo.org/"&gt;Flask&lt;/a&gt;ç€æ‰‹æ„å»ºä¸€æ ·ä¸œè¥¿ã€‚ç„¶è€Œï¼Œæˆ‘è§‰å¾—è¿˜æœ‰æ›´å¥½å›ç­”ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å¹¶éæ˜¯æ•™ç¨‹ã€‚ä¹Ÿè®¸å°†æ¥æˆ‘ä¼šå†™ä¸€ç¯‡ï¼Œä½†ç°åœ¨å·²ç»å­˜åœ¨å¤§é‡çš„æ•™ç¨‹äº†ï¼Œæˆ‘è®¤ä¸ºä½ å¯ä»¥é˜…è¯»é‚£äº›æ–‡æ¡£ã€‚ç›¸åï¼Œæœ¬æ–‡æ˜¯ä¸ºæ–°æ‰‹è€Œå†™çš„Python Webå¼€å‘ç›¸å…³äº‹æƒ…çš„æ¦‚è§ˆã€‚&lt;/p&gt;
&lt;h2&gt;èµ·æ­¥&lt;/h2&gt;
&lt;p&gt;æ˜¾ç„¶ï¼Œä½ éœ€è¦å®‰è£…Pythonã€‚ç¡®ä¿ä½¿ç”¨Python 2ï¼Œè€Œä¸æ˜¯3ã€‚Python 3æœ‰ä¸€äº›å‘åä¸å…¼å®¹çš„æ”¹å˜ï¼Œå¹¶éæ‰€æœ‰çš„åº“éƒ½æ›´æ–°è¿‡ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…Pythonåº“ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ &lt;code&gt;pip&lt;/code&gt; ã€‚(å¦‚æœä½ åœ¨ä½¿ç”¨ç±»Unixæ“ä½œç³»ç»Ÿï¼Œé‚£ä¹ˆä¹Ÿè®¸å¯ä»¥é€šè¿‡ç³»ç»ŸåŒ…ç®¡ç†å™¨å®‰è£…pipï¼Œå¦åˆ™ä½¿ç”¨ &lt;code&gt;easy_install pip&lt;/code&gt; ) &lt;code&gt;pip&lt;/code&gt; æ˜¯ä¸€ä¸ªå°å·§çš„PythonåŒ…ç®¡ç†å™¨ï¼Œä¾¿äºå®‰è£…ï¼Œåˆ é™¤ï¼Œå‡çº§ï¼Œä»¥åŠæ£€æŸ¥Pythonåº“ã€‚å½“ç„¶ï¼Œå°½å¯èƒ½ä½¿ç”¨ä½ çš„ç³»ç»ŸåŒ…ç®¡ç†å™¨ï¼Œä¸è¡Œçš„è¯å°±ç”¨ &lt;code&gt;pip&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨ &lt;code&gt;pip install --user ...&lt;/code&gt; å°†Pythonåº“å®‰è£…åˆ°ä½ çš„homeç›®å½•ï¼Œä½†æ›´å¥½çš„æ–¹å¼æ˜¯ä¿æŒåº“ä¸ºæ¯ä¸ªé¡¹ç›®å±€éƒ¨å¯ç”¨---è¿™æ ·ï¼Œä½ å°±å¯ä»¥ä¸ºä¸€ä¸ªé¡¹ç›®å‡çº§ä¾èµ–é¡¹è€Œä¸ä¼šç ´åå…¶ä»–é¡¹ç›®çš„ä¾èµ–ã€‚(æˆ–è€…ç ´åPythonç¼–å†™çš„ç³»ç»Ÿè½¯ä»¶ã€‚æˆ‘å°±æ›¾å¹²è¿‡è¿™ç§äº‹ã€‚) &lt;code&gt;virtualenv&lt;/code&gt; ä½¿ç”¨å•ä¸ªå‘½ä»¤å°±èƒ½åŠ©ä½ åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„Pythonå®‰è£…ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä½ å·²è®¡åˆ’ä½¿ç”¨æºç æ§åˆ¶ï¼Œå¯¹å§ï¼Ÿæˆ‘å–œæ¬¢&lt;a href="http://www.git-scm.com/"&gt;git&lt;/a&gt; ,  ä½†æœ‰èŠèƒœäºæ— ï¼Œå…¶ä»–çš„ä¹ŸOKçš„ã€‚&lt;/p&gt;
&lt;h2&gt;æ¡†æ¶&lt;/h2&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªéšœç¢æ˜¯å¦‚ä½•å°†ä½ ä»£ç ä¸æµè§ˆå™¨ç›¸å…³è¿ã€‚PHPä¸­ï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯å®‰è£…Apacheå¹¶å°†å®ƒæŒ‡å‘ä¸€äº›æ–‡ä»¶ã€‚Pythonä¸­ï¼Œå¦‚åŒæ›´å¤§çš„PHPé¡¹ç›®ï¼Œä¸€èˆ¬éœ€è¦ä½¿ç”¨Webæ¡†æ¶ã€‚&lt;/p&gt;
&lt;p&gt;æ¡†æ¶å¤šåŠæœ‰ç›¸ä¼¼çš„å·¥ä½œæµç¨‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…ï¼Œä½¿ç”¨ &lt;code&gt;pip&lt;/code&gt; è¿™æ ·çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªé¡¹ç›®éª¨å¹²(skeleton)ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é¡¹ç›®éª¨å¹²çš„å¤æ‚æ€§è§†æƒ…å†µè€Œå®šã€‚å¯¹äºç°å·²ä¸è¢«ä½¿ç”¨çš„Pylonsï¼Œä½ ä¼šå¾—åˆ°ä¸€å¤§å †è¯¡å¼‚çš„ä»£ç ï¼Œè¿˜éœ€è¦ä¸ºæ–°çš„å‘å¸ƒç‰ˆæœ¬æ‰‹åŠ¨å‡çº§ã€‚Flaskåˆ™ç®€å•åˆ°æ²¡æœ‰éª¨å¹²ã€‚å¤æ‚æ€§é€‚ä¸­çš„æ˜¯Pyramidï¼Œé¡¹ç›®éª¨å¹²ä¸è¿‡æ˜¯äº›é€šç”¨çš„æ ·æ¿æ–‡ä»¶(boilerplate)ï¼Œå¦‚æœä½ æ˜¯ä»é›¶å¼€å§‹ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼šè‡ªå·±æ¥å†™çš„è¿™ç§æ ·æ¿æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é…ç½®ä¸€äº›ä¸œè¥¿ï¼Œæ¯”å¦‚æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€èˆ¬æ˜¯ä¸€ä¸ªè¿è¡Œä½ çš„åº”ç”¨çš„ç»ˆç«¯ç¨‹åºï¼Œä»è€Œä¸éœ€è¦ä¸€ä¸ªä¸“ç”¨çš„HTTPæœåŠ¡å™¨ã€‚å½“ä½ ä¿®æ”¹äº†ä»£ç ï¼Œå¼€å‘æœåŠ¡å™¨å°±ä¼šè‡ªåŠ¨é‡æ–°è£…è½½ï¼Œå¹¶ä¸”èƒ½è¾“å‡ºæ ˆè·Ÿè¸ªå’Œå…¶ä»–è°ƒè¯•ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŠ¨æ‰‹å¹²å§ï¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œåº”è¯¥ç”¨ä»€ä¹ˆæ¡†æ¶å‘¢ï¼Ÿè™½ç„¶æœ‰ä¸è®¡å…¶æ•°çš„å¯é€‰é¡¹ï¼Œä½†æœ‰ä¸€äº›æ˜æ˜¾æœ€æµè¡Œã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æ˜¯&lt;a href="http://www.pylonsproject.org/"&gt;Pyramid&lt;/a&gt;çš„ç²‰ä¸ï¼Œå®ƒåœ¨æç®€ä¸»ä¹‰ä¸ç”µæ± å†…ç½®çš„åºç„¶å¤§ç‰©ä¹‹é—´åšå‡ºæœ€ä½³çš„å¹³è¡¡ã€‚è™½ç„¶å®ƒæ˜¯ä»ä¸¤ä¸ªæ›´è€çš„ç»„ç»‡è‰¯å¥½çš„é¡¹ç›®è¡ç”Ÿè€Œæ¥ï¼Œä½†åœ¨æœ€è¿‘æ‰æˆä¸ºä¸€ä¸ªç«äº‰è€…ã€‚Pyramidè®¾è®¡è‰¯å¥½ï¼Œæ–‡æ¡£é½å…¨ï¼Œç›¸å½“é€æ˜(fairly transparent)ã€‚ä¸€ä¸ªç®€å•çš„åº”ç”¨æ ¹æœ¬ä¸éœ€è¦è‡ªåŠ¨ç”Ÿæˆçš„æ ·æ¿æ–‡ä»¶ï¼Œå…è®¸ä½ ç›´æ¥è¿è¡Œé¡¹ç›®éª¨å¹²ï¼Œå¹¶ä¸”æ ¸å¿ƒä»£ç åº“æ‰©å±•æ€§éå¸¸å¥½ã€‚æœ‰ç”¨çš„æ’ä»¶è¶Šæ¥è¶Šå¤šã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœéœ€è¦æ›´å¿«åœ°ä¸Šæ‰‹ï¼Œ &lt;a href="http://flask.pocoo.org/"&gt;Flask&lt;/a&gt;åˆ™è¶³å¤Ÿç®€å•äº†ï¼Œä½†æ˜¯å¯æ‰©å±•æ€§éå¸¸è‰¯å¥½ã€‚å…¶è®¾è®¡ä¸Šä¸ä¼—ä¸åŒåœ°åšäº†ä¸€äº›ç›¸å½“çš„åˆç†çš„äº‹æƒ…ï¼Œä¸”å¯¹ä½ æ²¡æœ‰å¾ˆå¤šå¼ºè¿«ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://bottlepy.org/docs/dev/"&gt;Bottle&lt;/a&gt;ç±»ä¼¼äºFlaskï¼Œä½†æ˜¯æ›´ç®€å•ï¼šå®ƒä½œä¸ºå•ä¸ªæ–‡ä»¶å‘å¸ƒï¼Œæ²¡æœ‰ä»»ä½•ä¾èµ–ã€‚æ˜¯å¥½æ˜¯åå…¨çœ‹ä½ è‡ªå·±ï¼Œä½†è¿™æ„å‘³ç€Bottleä¸­æ²¡æœ‰ä»€ä¹ˆä¸œè¥¿å¯ä»¥å’Œå…¶ä»–æ¡†æ¶åˆ†äº«çš„ã€‚æˆ‘æ‰¿è®¤å¯¹BottleçŸ¥é“çš„ä¸æ˜¯å¾ˆå¤šï¼Œä½†æˆ‘æ›¾ç®€å•åœ°äº†è§£è¿‡(gave it a brief shot once)ï¼Œå¯¹å®ƒæ²¡ä»€ä¹ˆå¤§çš„ç‰¢éªšã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€æç«¯ä¸Šï¼Œ&lt;a href="https://www.djangoproject.com/"&gt;Django&lt;/a&gt;æ˜¯ä¸ºç±»å†…å®¹ç®¡ç†ç³»ç»Ÿå’Œå…¶ä»–å¯Œå†…å®¹ç½‘ç«™è€Œè®¾è®¡çš„å·¨å¤§æ€ªå…½ã€‚å®ƒæœ‰åºå¤§çš„å¯æ’éƒ¨ä»¶ç”Ÿæ€ç³»ç»Ÿï¼Œå†…ç½®ä»æ¨¡æ¿åˆ°ORMçš„å„ç§ä¸œè¥¿ï¼Œä»¥åŠå¤§é‡æ–‡æ¡£å’Œç¤¾åŒºèµ„æºã€‚Djangoå¸¸è¢«è®¤ä¸ºæ˜¯ä¸Ruby on Railsç­‰ä»·çš„Pythonæ¡†æ¶ã€‚å…¶ç¼ºç‚¹æ˜¯è®©å®ƒåšäº›å®ƒä¸æƒ³åšçš„äº‹æƒ…ä¼šå¾ˆåˆ«æ‰­ã€‚( &lt;code&gt;#python&lt;/code&gt; ä¸­è®¸å¤šæ›´åŠ æ„šé’çš„é—®é¢˜éƒ½æ˜¯ç”±äºè¯•å›¾æ£é¼“Djangoè€Œäº§ç”Ÿçš„)å¯¹äºé¦–æ¬¡å°è¯•Webå¼€å‘æ¥è¯´ï¼ŒDjangoå¯èƒ½æœ‰äº›é‡é‡äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰&lt;a href="http://www.web2py.com/"&gt;web2py&lt;/a&gt;ã€‚æˆ‘ï¼Œé¢ï¼Œä¸å¤ªäº†è§£å®ƒã€‚æ®è¯´å®ƒä¼šåœ¨ä½ çš„æ¨¡å—åå­—ç©ºé—´å†…æ³¨å…¥å˜é‡ï¼Œè¿™æ˜¯ä»¤äººè®¨åŒçš„ï¼Œæ‰€ä»¥å¦‚æœä½ åœ¨æ„é‚£äº›æˆ‘è®¤ä¸ºè®¨åŒçš„ä¸œè¥¿å°±ä¸è¦ç”¨å®ƒï¼Œå¦åˆ™å°±ç”¨å§ï¼Œéšä½ è‡ªå·±å•¦ã€‚&lt;/p&gt;
&lt;p&gt;æ›¾ç»æœ‰ä¸€ä¸ªApacheæ¨¡å— &lt;code&gt;mod_python&lt;/code&gt; ï¼Œæœ¬è´¨ä¸Šç±»ä¼¼äº &lt;code&gt;mod_perl&lt;/code&gt; ï¼Œä½†å¾ˆæ—©å°±è¢«æŠ›å¼ƒäº†ã€‚è¯· &lt;strong&gt;ä¸è¦&lt;/strong&gt; ä½¿ç”¨å®ƒã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œä½ ä¹Ÿå¯ä»¥å®Œå…¨"æ‰‹åŠ¨"ç¼–å†™Python webä»£ç ï¼Œä½†é‚£å¤šåŠæ˜¯ä¸€æ¬¡ä»¤äººæ²®ä¸§çš„ç»ƒä¹ ã€‚ä¸ä¼šæ›´å¿«ï¼Œä¸ä¼šæœ‰ä»€ä¹ˆæ•™è‚²æ„ä¹‰ï¼Œä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆç”¨ã€‚ä¸è¦è‡ªæ‰¾éº»çƒ¦ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çš„å»ºè®®ï¼Ÿå¦‚æœä½ åªæ˜¯æƒ³æŠ˜è…¾æ£é¼“ï¼Œé‚£å°±ä»Flaskå…¥æ‰‹å§ï¼Œéšä½ æ·»åŠ ä¸œè¥¿ã€‚å¦‚æœä½ æœ‰æƒ³æ³•è¦åšä¸€ä¸ªç½‘ç«™ï¼Œå¹¶ä¸”æƒ³æ——å¼€å¾—èƒœ(hit the ground running)ï¼Œé‚£å°±ä½¿ç”¨ä¸€ä¸ªPyramidè„šæ‰‹æ¶(scaffold)ï¼Œè·Ÿéšå®ƒçš„å™è¿°æ€§æ–‡æ¡£è¿›è¡Œå¼€å‘ã€‚&lt;/p&gt;
&lt;h2&gt;è·¯ç”±é€‰æ‹©(Routing)&lt;/h2&gt;
&lt;p&gt;PHPæ˜¯æ ¹æ®URLæ‰§è¡Œä¸€æ•´ä¸ªæ–‡ä»¶ï¼ŒPython webåº”ç”¨åˆ™å€¾å‘"æ‹¥æœ‰"ä¸€æ•´ä¸ªç›®å½•ç»“æ„(æˆ–è€…ç”šè‡³æ˜¯æ•´ä¸ªåŸŸ(domain))ã€‚å› æ­¤ï¼Œå°†ç‰¹å®šçš„ä»£ç è¿æ¥åˆ°ç‰¹å®šçš„ä»£ç æ›´åŠ çµæ´»ï¼Œè¿™ç§è¿æ¥é€šå¸¸æ˜¯ç”±ä¸€ä¸ªè·¯ç”±é€‰æ‹©ç³»ç»Ÿæ¥å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;è·¯ç”±(routes)æ˜¯åŒ…å«å¯é€‰å ä½ç¬¦çš„URLï¼Œå°±åƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/users/{name}
/companies/{id}/products
/blog/{year:\d\d\d\d}/{month:\d\d}/{day:\d\d}/{title}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä½ å¯ä»¥æŠŠè¿™æ ·çš„ä¸€ä¸ªè·¯ç”±ç»‘å®šåˆ°ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå½“ä½ æµè§ˆåˆ° &lt;code&gt;/users/eevee&lt;/code&gt; ï¼Œé‚£ä¸ªå‡½æ•°å°±ä¼šè¢«æ‰§è¡Œï¼Œå ä½ç¬¦åˆ™ä»¥ &lt;code&gt;dict(name=u'eevee')&lt;/code&gt; è¿™æ ·çš„ç»“æ„å¯ä¾›ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€äº›æ¡†æ¶(æ¯”å¦‚Pyramid)åœ¨è¿™ä¸€æ­¥ä¸Šèµ°å¾—æ›´è¿œï¼šä¸æ˜¯ç›´æ¥å°†è·¯ç”±ç»‘å®šåˆ°å‡½æ•°ï¼Œè€Œæ˜¯ç»™è·¯ç”±ä¸€ä¸ªåå­—ï¼Œç„¶åæŠŠåå­—ç»‘å®šåˆ°å‡½æ•°ã€‚éœ€è¦ä¸€ç‚¹é¢å¤–çš„å·¥ä½œï¼Œä½†ä¼˜ç‚¹æ˜¯åœ¨ä½ çš„åº”ç”¨ä¸­åªéœ€ç»´æŠ¤ä¸€ä¸ªæ‰€æœ‰é¡µé¢çš„æ ¸å¿ƒåˆ—è¡¨ã€‚ä½ ä¹Ÿå¯ä»¥ä¸€ä¸ªè·¯ç”±åå’Œå ä½ç¬¦å€¼æ¥ç”Ÿæˆä¸€ä¸ªURL---é‚£ä¹ˆï¼Œä¹‹åï¼Œä½ å°±å¯ä»¥åªåœ¨ä¸€ä¸ªåœ°æ–¹ä¿®æ”¹ä¸€ä¸‹å°±èƒ½æ”¹å˜ä¸€ä¸ªURLï¼Œè€Œä¸éœ€è¦æ¥è§¦å…¶ä»–ä¸œè¥¿ï¼Œå¹¶ä¸”å¼€å‘è¿‡ç¨‹ä¸­æ‰“å­—é”™è¯¯ä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯ä¿¡æ¯è€Œä¸æ˜¯ä¸€ä¸ª404é¡µé¢ã€‚&lt;/p&gt;
&lt;p&gt;è¯­æ³•å’Œå…·ä½“å®ç°ä¼šæœ‰äº›ä¸åŒï¼Œä½†æ¯ä¸ªæ¡†æ¶éƒ½æ˜¯ä½¿ç”¨è¿™ä¸ªç³»ç»Ÿçš„æŸä¸ªå˜ç§ã€‚æœ‰äº›æœ‰åŠ©äºåˆ›å»ºRESTé£æ ¼çš„è·¯ç”±æˆ–è€…å…¶ä»–å¸¸è§æ¨¡å¼ï¼Œæˆ–è€…ä½ å¯ä»¥å¾ˆå®¹æ˜“ç¼–å†™è‡ªå·±çš„æ¨¡å¼ã€‚&lt;/p&gt;
&lt;h2&gt;è¯·æ±‚å‘¨æœŸ&lt;/h2&gt;
&lt;p&gt;ä¸€æ¬¡HTTPè¯·æ±‚å¾€å¾€ä¼šæ‰§è¡ŒæŸå¤„çš„ä¸€ä¸ªå‡½æ•°(ç”±ä¸€ä¸ªè·¯ç”±é€‰æ‹©)ï¼Œç„¶åç»™å‡½æ•°ä¼ é€’ä¸€ä¸ª &lt;code&gt;request&lt;/code&gt; å¯¹è±¡å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;requestå¯¹è±¡çš„ç¡®åˆ‡æ¥å£ä¾èµ–äºç‰¹å®šçš„æ¡†æ¶ï¼Œä½†æ˜¯å®ƒä»¬ä¸€èˆ¬éƒ½æ¯”è¾ƒç±»ä¼¼ï¼šè§£æè¿‡çš„æŸ¥è¯¢æ•°æ®ï¼Œä¸€äº›cookieï¼Œè¯·æ±‚æ¶ˆæ¯å¤´ï¼Œç­‰ç­‰ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ &lt;code&gt;webob&lt;/code&gt; (http://www.webob.org) çš„ &lt;code&gt;Request&lt;/code&gt; å¯¹è±¡åŒ…å«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;request.GET&lt;/code&gt; å’Œ &lt;code&gt;request.POST&lt;/code&gt; æ˜¯å­˜å‚¨è§£æè¿‡çš„æŸ¥è¯¢æ•°æ®çš„"multidict"ã€‚(å¯¹äº &lt;code&gt;request.GET['foo']&lt;/code&gt; ï¼Œä¸€ä¸ªmultidictè¿”å›çš„æ˜¯å•ä¸ªå€¼ï¼Œä½†ä½¿ç”¨ &lt;code&gt;getall()&lt;/code&gt; æ–¹æ³•åˆ™ä¼šè¿”å›æ‰€æœ‰çš„å€¼)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;request.params&lt;/code&gt; æ˜¯åŒ…å«ä¸Šé¢ä¸¤è€…çš„ä¸€ä¸ªmultidictã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;request.cookies&lt;/code&gt; æ˜¯ä¸€ä¸ªcookieçš„è§£æå­—å…¸ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;request.headers&lt;/code&gt; æ˜¯ä¸€ä¸ªHTTPè¯·æ±‚æ¶ˆæ¯å¤´çš„å­—å…¸ï¼Œä½†æ˜¯å…¶é”®æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;request.is_xhr&lt;/code&gt; è¿”å›æ˜¯å¦å­˜åœ¨ &lt;code&gt;X-Requested-with: XMLHttpRequest&lt;/code&gt; æ¶ˆæ¯å¤´ï¼Œä»¥è¯†åˆ«ç”±jQueryè¿™æ ·çš„åº“è®¾ç½®çš„ajaxè¯·æ±‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;requestå¯¹è±¡çš„æ–‡æ¡£ä¸€èˆ¬éå¸¸é½å…¨ï¼Œå› æ­¤åªè¦æµè§ˆä¸€ä¸‹ä½ æ‰€é€‰æ‹©çš„æ¡†æ¶çš„æ–‡æ¡£ï¼ŒæŒ‘å‡ºå…¶ä¸­é‡è¦çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½ çš„åº”ç”¨å®Œæˆäº†ä¸€äº›éå¸¸é…·çš„äº‹æƒ…ä¹‹åï¼Œä½ è¦è®©å®ƒè¿”å›ä¸€ä¸ªå“åº”æ¶ˆæ¯ã€‚é€šå¸¸ä½ èƒ½é€‰æ‹©æ˜¯å¦æ˜ç¡®åœ°æ„å»ºä¸€ä¸ª &lt;code&gt;Response&lt;/code&gt; å¯¹è±¡(åŒ…æ‹¬HTTPæ¶ˆæ¯å¤´å’Œå…¶ä»–å¯æ‰‹åŠ¨è®¾ç½®çš„ç»†èŠ‚)è¿˜æ˜¯ç®€å•è¿”å›ä¸€å—HTMLä»£ç ï¼Œå…¶ä»–æ‰€æœ‰ä¸œè¥¿éƒ½ä½¿ç”¨é»˜è®¤è®¾ç½®ã€‚å¾ˆå°‘éœ€è¦ä½ è‡ªå·±åˆ›å»ºä¸€ä¸ªå“åº”ã€‚å¯¹äºåƒè¿”å›JSONè¿™æ ·çš„å¸¸è§å·¥ä½œï¼Œæ¯ä¸ªæ¡†æ¶éƒ½æœ‰æŸç§å¿«æ·çš„æˆ–è¾…åŠ©çš„è£…é¥°å™¨ã€‚&lt;/p&gt;
&lt;h2&gt;æ¨¡æ¿&lt;/h2&gt;
&lt;p&gt;ç»„è£…HTMLçš„å·¥ä½œä¸€èˆ¬æ˜¯ç”±æ¨¡æ¿å¼•æ“æ¥å®Œæˆçš„ã€‚&lt;a href="http://www.makotemplates.org/"&gt;Mako&lt;/a&gt;å’Œ&lt;a href="http://jinja.pocoo.org/"&gt;Jiaja2&lt;/a&gt;æ˜¯ä¸¤ä¸ªä¸»è¦çš„ç«äº‰è€…ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çœŸçš„å–œæ¬¢Makoã€‚çœŸçš„ï¼ŒçœŸçš„ï¼ŒçœŸçš„ã€‚ä½¿ç”¨å®ƒå§ã€‚å®ƒä½¿ç”¨æœ´ç´ çš„Pythonä½œä¸ºè¯­æ³•ï¼Œä½¿ç”¨èµ·æ¥éå¸¸è‡ªç„¶ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨æ¨¡æ¿é‡Œç¼–å†™çº¯ç²¹çš„Pythonä»£ç å—ï¼Œä½†æ˜¯ä½ å¾—æ§åˆ¶ä½ï¼Œå°½å¯èƒ½é¿å…è¿™æ ·åšã€‚:)&lt;/p&gt;
&lt;p&gt;Jinja2ä¹Ÿä¸é”™ï¼Œä½†æé†’ä½ ä¸€ä¸‹ï¼šJinja2ä¸­ï¼Œå¦‚æœ &lt;code&gt;foo&lt;/code&gt; çœ‹èµ·æ¥åƒä¸€ä¸ªå­—å…¸ï¼Œé‚£ä¹ˆ &lt;code&gt;foo.bar&lt;/code&gt; å°±ä¼šè¢«å½“ä½œ &lt;code&gt;foo['bar']&lt;/code&gt; å¤„ç†ï¼Œåä¹‹äº¦ç„¶ã€‚æ°å·§æˆ‘è®¤ä¸ºè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œæˆ‘æ›¾é­é‡è¿‡è®¸å¤šè¯¡å¼‚çš„é—®é¢˜ï¼Œéƒ½æ˜¯æ¨¡æ¿ç³»ç»Ÿä¸­è¿™ç§"ç‰¹æ€§"æ‰€é€ æˆçš„ã€‚(å¦å¤–ï¼Œ &lt;code&gt;{% %}&lt;/code&gt; è¿™ç§è¯­æ³•çœŸçš„å¾ˆçƒ¦äººï¼Œä½†è¿™æœ‰äº›é¸¡è›‹é‡ŒæŒ‘éª¨å¤´äº†)ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒJinja2æ˜¯ä¸€ä¸ªéå¸¸å¯é çš„åº“ï¼Œè€Œä½ è‚¯å®šä¼šåšå¾—æ›´ç³Ÿï¼Œ&lt;a href="http://www.cheetahtemplate.org/"&gt;ç³Ÿå¾—å¤š&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªå·¥å…·é€Ÿåº¦éƒ½å¾ˆå¿«ï¼Œä¼šè‡ªåŠ¨ç¼–è¯‘æˆPythonæ¨¡å—ï¼Œå…·å¤‡ä¼˜ç§€çš„å¯è°ƒè¯•èƒ½åŠ›(ä»¥ç–¯ç‹‚çš„åšæ³•ä»åŸæ¥çš„æ¨¡æ¿æºç ä¸­å¾—åˆ°æ ˆè·Ÿè¸ªä¿¡æ¯)ï¼Œåº”è¯¥è¶³å¤Ÿå¼ºå¤§ï¼Œè®©ä½ æƒ³å¹²å•¥å°±èƒ½å¹²å•¥äº†ã€‚å¤§è‡´äº†è§£ä¸€ä¸‹è¿™ä¸¤ä¸ªï¼Œç„¶åé€‰ä¸€ä¸ªå°±å¼€å§‹ä½¿ç”¨å§ã€‚å¦‚æœä½ ä¸çŸ¥é“æˆ–è€…æ— æ‰€è°“ç”¨å“ªä¸ªï¼Œé‚£å°±ç”¨Makoå§ã€‚&lt;/p&gt;
&lt;p&gt;(æ³¨æ„ï¼Œè™½ç„¶Flaské»˜è®¤ä½¿ç”¨Jinja2ï¼Œä½†ä½¿ç”¨Makoä½œä¸ºæ›¿ä»£ä¹Ÿæ˜¯&lt;a href="https://github.com/tzellman/flask-mako"&gt;ç›¸å½“å®¹æ˜“&lt;/a&gt;çš„ã€‚)&lt;/p&gt;
&lt;p&gt;å½“ç„¶è¿˜æœ‰å…¶ä»–çš„ç«äº‰è€…ï¼šæ’åç¬¬ä¸‰çš„å¯èƒ½æ˜¯Genshiï¼Œä½†å®ƒä»¤äººæå…¶è´¹è§£ï¼Œä»¥è‡³äº&lt;a href="http://genshi.edgewall.org/"&gt;ä¸»é¡µ&lt;/a&gt;ä¸Šä¸€å¼€å§‹å°±ç”¨äº†ä¸€å¼ æµç¨‹å›¾ï¼› Djanoæœ‰è‡ªå·±çš„æ¨¡æ¿å¼•æ“ï¼Œåƒæ–¹ç™¾è®¡æƒ³æŠŠé€»è¾‘å‰”é™¤å‡ºæ¨¡æ¿(åœ¨æˆ‘çœ‹æ¥ï¼Œå¯¹å…¶æ˜¯ä¸åˆ©çš„)ï¼›BottleåŒæ ·æœ‰è‡ªå·±çš„æå…¶ç®€å•çš„æ¨¡æ¿ï¼Œä½†æ˜¯å¯èƒ½å¾ˆå¿«å°±ä¼šè®©ä½ æ„Ÿåˆ°è¶Šæ¥è¶Šç—›è‹¦ï¼›Pyramidçš„å¦ä¸€ä¸ªå†…å»ºæ¨¡æ¿å¼•æ“æ˜¯Chameleonï¼Œå°†ç±»ä¼¼HTMLçš„å±æ€§æ ‡ç­¾ç”¨äºå¾ªç¯å’Œå…¶ä»–é€»è¾‘ï¼Œå¤ªTMDå¤æ€ªäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿè®¸ä½ ä¼šå–œæ¬¢å…¶ä¸­ä¹‹ä¸€ï¼›æˆ‘å¹¶æ²¡æœ‰éƒ½æ·±å…¥ä½¿ç”¨è¿‡å®ƒä»¬ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ç®¡ä½ åšä»€ä¹ˆï¼Œéƒ½ä¸è¦ä½¿ç”¨Cheetahã€‚ &lt;strong&gt;ä¸è¦&lt;/strong&gt; ä½¿ç”¨Cheetahã€‚å®ƒé‚ªæ¶å¯æ†ã€‚ä¸è¦å†æåˆ°å®ƒã€‚&lt;/p&gt;
&lt;h2&gt;æ¨¡æ¿ä¸­çš„é€»è¾‘&lt;/h2&gt;
&lt;p&gt;ä¹Ÿè®¸ä½ ä»¥å‰æ²¡ç”¨è¿‡æ¨¡æ¿ï¼Œé‚£ä½ ä¸å¯é¿å…åœ°ä¼šé­é‡è¿™ä¸ªé—®é¢˜---ä¸€äº›å¤æ‚çš„è¡¨ç°ä»£ç æ˜¯åº”è¯¥ç”¨Pythonå®ç°ï¼Œè¿˜æ˜¯æ”¾åœ¨æ¨¡æ¿ä¸­å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯æ— èŠçš„è€ç”Ÿå¸¸è°ˆï¼Œä½†æˆ‘æƒ³è¯´ï¼šå°±åƒè®¸å¤šç¨‹åºè®¾è®¡ä¸­çš„æ¶æ„å†³ç­–ï¼Œå½’ç»“èµ·æ¥å°±æ˜¯è¦å°½å¯èƒ½å‡å°‘ä»¥åå› ä¸ºå®ƒè€Œå¯¹è‡ªå·±çš„åŒæ¶æ„Ÿã€‚å°½å¯èƒ½ä¿æŒæ¨¡æ¿ç®€å•ï¼Œå¦‚æœä¸è¡Œçš„è¯ï¼Œä¹Ÿä¸ç”¨å‹‰å¼ºã€‚è°¨è®°ä½ å§‹ç»ˆå¯ä»¥åœ¨ç®€å•çš„Pythonæ¨¡å—ä¸­ç¼–å†™ç®€å•çš„Pythonå‡½æ•°ï¼Œç„¶åå¯¼å…¥å®ƒã€‚ä¸€ä¸ªå¼ºå¤§çš„æ¨¡æ¿è¯­è¨€å¯¹äºä½ çš„é—®é¢˜å¯èƒ½å†…å»ºäº†åˆ›é€ æ€§çš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥å½“ä½ åœ¨æƒ³åŠæ³•çš„æ—¶å€™å¯ä»¥å…ˆæµè§ˆä¸€ä¸‹æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;h2&gt;Unicode&lt;/h2&gt;
&lt;p&gt;Unicodeå¾ˆçƒ‚ã€‚è¿™æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„äº‹å®ã€‚(æˆ‘åœ¨è¯´è°ã€‚ç¼–ç (encoding)å¤„ç†å¾—å¾ˆçƒ‚ã€‚Unicodeå¾ˆä¼Ÿå¤§ã€‚è¿™ä¸ªé—®é¢˜æ¯”è¾ƒå¤æ‚ï¼Œä¹‹åæˆ‘ä¼šå†™åˆ°ã€‚)&lt;/p&gt;
&lt;p&gt;Python(2)æœ‰ä¸¤ç§"å­—ç¬¦ä¸²"ç±»å‹ï¼š &lt;code&gt;str&lt;/code&gt; å’Œ &lt;code&gt;unicode&lt;/code&gt; ã€‚è¿™æ˜¯ä¸€ä¸ªå·§å¦™çš„è°è¨€ã€‚äº‹å®æ˜¯ï¼šä¸€ä¸ª &lt;code&gt;str&lt;/code&gt; å¹¶ä¸çœŸçš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å®ƒåªæ˜¯ä¸€ä¸²å­—èŠ‚ã€‚æœ‰æ—¶æ°å·§çœ‹èµ·æ¥åƒä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†äº‹å®ä¸Šåªæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå°±åƒ &lt;code&gt;85 00 00 00&lt;/code&gt; æ˜¯æ•°å­—133çš„å¸¸è§äºŒè¿›åˆ¶è¡¨ç¤ºã€‚ä¸€ä¸ªçœŸæ­£çš„æ•°å­—æ˜¯ &lt;code&gt;int&lt;/code&gt; ç±»å‹çš„ï¼Œä¸€ä¸ªçœŸæ­£çš„å­—ç¬¦ä¸²æ˜¯ &lt;code&gt;unicode&lt;/code&gt; ç±»å‹çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜å¾ˆå¤æ‚ï¼Œå€¼å¾—å•ç‹¬å†™ä¸€ç¯‡æ–‡ç« æ¥è§£é‡Š(è¿Ÿæ—©æˆ‘ä¼šå†™çš„)ï¼Œä½†ç°åœ¨å¯ä»¥æœ‰äº›å¿«é€Ÿçš„ç¬”è®°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½ çš„ç¨‹åºåªéœ€è¦æ‹…å¿ƒçœŸæ­£çš„å­—ç¬¦ä¸²(ä¹Ÿå°±æ˜¯ &lt;code&gt;unicode&lt;/code&gt; ç±»å‹çš„)ã€‚å­—ç¬¦ä¸²è¿›å…¥ä½ çš„ç¨‹åºæ—¶éœ€è¦è§£ç ï¼Œç¦»å¼€æ—¶éœ€è¦ç¼–ç ï¼Œä½†æ˜¯å¹¸è¿çš„æ˜¯ï¼Œå¤§å¤šæ•°çš„webæ¡†æ¶éƒ½ä¼šä¸ºä½ åšè¿™äº‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;u&lt;/code&gt; å‰ç¼€æ¥åˆ›å»ºä¸€ä¸ª &lt;code&gt;unicode&lt;/code&gt; çš„å­—é¢å­—ç¬¦ä¸²ï¼Œe.g.ï¼Œ &lt;code&gt;u'foo'&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨æ–‡ä»¶çš„é¡¶éƒ¨æ·»åŠ  &lt;code&gt;from __future__ import unicode_literals&lt;/code&gt; ä½¿å¾—æ–‡ä»¶ä¸­çš„æ‰€æœ‰å­—é¢å­—ç¬¦ä¸²é»˜è®¤ä¸º &lt;code&gt;unicode&lt;/code&gt; ã€‚å¦‚æœä½ ç¡®å®éœ€è¦ä¸€ä¸ª &lt;code&gt;str&lt;/code&gt; ç±»å‹å­—ç¬¦ä¸²ï¼Œé‚£å°±ä½¿ç”¨ &lt;code&gt;b&lt;/code&gt; å‰ç¼€å§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœä½ æƒ³åœ¨Pythonæºç ä¸­ä½¿ç”¨éASCIIå­—ç¬¦ï¼Œåœ¨é¡¶éƒ¨æ·»åŠ  &lt;code&gt;#encoding: utf8&lt;/code&gt; é­”æœ¯æ³¨é‡Šã€‚ï¼ˆå½“ç„¶æ˜¯å‡å®šä½ çš„æºç ä¿å­˜ä¸ºUTF-8ç¼–ç çš„ï¼Œè¿™æ ·åšç»å¯¹æ›´å¥½ã€‚ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ°¸è¿œ&lt;/strong&gt; ä¸è¦é€šè¿‡å‰¥ç¦»éASCIIå­—ç¬¦æ¥è§£å†³Unicodeé—®é¢˜ï¼è¿™æ˜¯å¯¹å¾ˆå¤šäººçš„æ— ç¤¼ï¼›æƒ³è±¡ä¸€ä¸‹å½“ä½ å°è¯•å»ä½¿ç”¨ä¸€ä¸ªç½‘ç«™ï¼Œå› ä¸ºæŸä¸ªç¨‹åºå‘˜æ‡’å¾—å¼„æ¸…æ¥šå¦‚ä½•å¤„ç†è‹±æ–‡å­—æ¯ï¼Œæ‰€ä»¥ä¸å…è®¸ä½ ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œä½ ä¼šæ˜¯ä»€ä¹ˆæ„Ÿå—ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œå¯¹äºæ’¼åŠ¨ç¼–ç é—®é¢˜ï¼Œé‡éŸ³å­—æ¯å’Œäºšæ´²å­—ç¬¦åŠŸä¸å¯æ²¡ã€‚å°†ä¸€äº›éASCIIå­—ç¬¦çš„è«åå…¶å¦™çš„è¯ç²˜è´´åˆ°ä½ çš„ç½‘ç«™è¡¨å•ä¸­ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;XSS(è·¨ç«™è„šæœ¬æ”»å‡»)&lt;/h2&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œç°åœ¨çš„æ¯é¡¹ç›¸å…³æŠ€æœ¯éƒ½å†…å»ºæŸç§å½¢å¼çš„è‡ªåŠ¨HTMLè½¬ä¹‰è¿‡æ»¤å™¨ã€‚ç†å¿µæ˜¯ï¼šå¯¹äºè¿™æ ·çš„ä¸€ä¸ªæ¨¡æ¿ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;lt;p&amp;gt;Hello, ${name}!&amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å½“ç»™å®š &lt;code&gt;name = '&amp;lt;b&amp;gt;'&lt;/code&gt; ï¼Œå°†å®‰å…¨åœ°æ‰“å°å‡º &lt;code&gt;Hello, &amp;amp;lt;b&amp;amp;gt;!&lt;/code&gt; ã€‚è¿™æ„å‘³ç€ï¼Œå¤§å¤šæ•°æ—¶å€™ï¼Œä½ å¹¶ä¸éœ€è¦æ‹…å¿ƒXSSã€‚&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰åˆ«çš„ï¼Œä½ å¿…é¡»æ ¸å¯¹æ‰€ä½¿ç”¨æ¡†æ¶å’Œæ¨¡æ¿å¼•æ“çš„æ–‡æ¡£ï¼Œç¡®ä¿è‡ªåŠ¨HTMLè½¬ä¹‰è¿‡æ»¤åŠŸèƒ½é»˜è®¤å¼€å¯ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™å¼€å¯å®ƒã€‚(éšä¾¿è¯´ä¸€ä¸‹ï¼šå¯¹äºPyramidï¼ŒDjangoå’ŒFlaskï¼Œä½ èƒ½è½»æ¾è·å¾—æ­¤é¡¹åŠŸèƒ½ã€‚å¦‚æœä½ çš„æ¨¡æ¿æ–‡ä»¶å…·å¤‡ä¸€ä¸ªå¤„ç†HTMLçš„æ‰©å±•ï¼ŒBottleåˆ™ä¹Ÿèƒ½è‡ªåŠ¨åšåˆ°ã€‚)&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œæ£˜æ‰‹çš„åœ°æ–¹å°±æ˜¯çŸ¥é“ä½•æ—¶ä»¥åŠå¦‚ä½•å…³é—­å®ƒã€‚å¦‚æœä½ åœ¨Pythonä»£ç ä¸­æ„å»ºäº†æŸç§å¤æ‚çš„HTMLï¼Œä¸”ä¸æƒ³å®Œå…¨è½¬ä¹‰å®ƒï¼Œé‚£ä¹ˆä»…ä»…ä½¿å¾—è½¬ä¹‰è¡Œä¸ºå¤±æ•ˆæ˜¯ä¸ªè¹©è„šçš„è§£å†³æ–¹æ¡ˆã€‚ä»»ä½•è½¬ä¹‰å¤±æ•ˆçš„åœ°æ–¹éƒ½å¯èƒ½å‘ç”Ÿæ³¨å…¥ã€‚å¹¸è¿çš„æ˜¯ï¼Œè®¸å¤šæ¡†æ¶(è‡³å°‘æœ‰Pyramidå’ŒFlask)ä½¿ç”¨äº†&lt;a href="http://pypi.python.org/pypi/MarkupSafe"&gt;markupsafe&lt;/a&gt;åº“ï¼Œå®ƒèƒ½æ™ºèƒ½åœ°å¸®åŠ©é¿å…è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;markupsafeæä¾›ä¸€ä¸ªå•ä¸€çš„ç±»ï¼Œ &lt;code&gt;Markup&lt;/code&gt; ï¼Œç»§æ‰¿è‡ª &lt;code&gt;unicode&lt;/code&gt; . &lt;code&gt;Markup(u'Hello!')&lt;/code&gt; ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªè¡Œä¸ºä¸Šç›¸å½“åƒå­—ç¬¦ä¸²çš„å¯¹è±¡ã€‚ç±»æ–¹æ³• &lt;code&gt;Markup.escape&lt;/code&gt; å·¥ä½œæ–¹å¼ç›¸åŒï¼Œä½†ä¼šè½¬ä¹‰ç»è¿‡åŒ…è£¹çš„å­—ç¬¦ä¸²ä¸­çš„ä»»æ„HTMLå­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸¤ä¸ªé¬¼ç¥Ÿçš„èŠ±æ‹›ã€‚ç¬¬ä¸€ï¼šä¸€ä¸ª &lt;code&gt;Markup&lt;/code&gt; å¯¹è±¡ä¸ä¼šè¢«è½¬ä¹‰ä¸¤æ¬¡ã€‚è¯·çœ‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; s = u&amp;#39;&amp;lt;b&amp;gt;oh noo xss&amp;lt;/b&amp;gt;&amp;#39;
&amp;gt;&amp;gt;&amp;gt; Markup.escape(s)
Markup(u&amp;#39;&amp;amp;lt;b&amp;amp;gt;oh noo xss&amp;amp;lt;/b&amp;amp;gt;&amp;#39;)
&amp;gt;&amp;gt; Markup.escape(Markup.escape(s))
Markup(u&amp;#39;&amp;amp;lt;b&amp;amp;gt;oh noo xss&amp;amp;lt;/b&amp;amp;gt;&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å› æ­¤ï¼Œä¸€æ—¦åˆ›å»ºäº†ä¸€ä¸ª &lt;code&gt;Markup&lt;/code&gt; å¯¹è±¡ï¼Œå°±å¯å°†å®ƒç”¨äºä½ çš„æ¨¡æ¿ï¼Œè¿‡æ»¤å™¨ä¸ä¼šç®¡å®ƒ---å³ä½¿å®ƒåŒ…å«HTMLã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸ªæŠŠæˆæ˜¯ï¼Œ &lt;code&gt;Markup&lt;/code&gt; å¯¹è±¡é‡è½½äº†æ‰€æœ‰stringçš„æ–¹æ³•ï¼Œå¹¶ä¸”è‡ªåŠ¨è½¬ä¹‰æ‰€æœ‰çš„å‚æ•°ã€‚è¿™æ„å‘³ç€åœ¨Pythoné‡Œï¼Œä½ å¯ä»¥è¿™ä¹ˆå¹²ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; user_input = u&amp;#39;&amp;lt;script&amp;gt;alert(&amp;quot;pwn&amp;quot;);&amp;lt;/script&amp;gt;&amp;#39;
&amp;gt;&amp;gt;&amp;gt; Markup(u&amp;#39;&amp;lt;p&amp;gt;Hello, %s!&amp;lt;/p&amp;gt;&amp;#39;) % user_input
Markup(u&amp;#39;&amp;lt;p&amp;gt;Hello, &amp;amp;lt;script&amp;amp;gt;alert(&amp;amp;#34;pwn&amp;amp;#34;);&amp;amp;lt;/script&amp;amp;gt;!&amp;lt;/p&amp;gt;&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å› æ­¤ä½ å¯ä»¥ç›¸å½“å®‰å…¨åœ°æ„å»ºä¸€äº›å¤æ‚çš„HTMLä»£ç ï¼Œè€Œä¸ç”¨å¤ªæ‹…å¿ƒè½¬ä¹‰ä¸å¤Ÿæˆ–è€…è¿‡åˆ†è½¬ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿™å¹¶ä¸å®Œç¾ã€‚ä¸»è¦é—®é¢˜æ˜¯ä½ éœ€è¦å°† &lt;code&gt;Markup().join(...)&lt;/code&gt; ç”¨äºä¸€äº›å…¶ä»–çš„ &lt;code&gt;Markup&lt;/code&gt; å¯¹è±¡ï¼Œè€Œä¸æ˜¯ &lt;code&gt;''.join(...)&lt;/code&gt; ã€‚å¹¶ä¸”æŸäº›æ“ä½œï¼Œæ¯”å¦‚åˆ†ç‰‡(slicing)ï¼Œåˆ†å‰²(splitting)ï¼Œä»¥åŠæ­£åˆ™è¡¨è¾¾å¼ï¼Œæœ‰å¯èƒ½äº§ç”Ÿæ²¡æœ‰æ„ä¹‰çš„ç»“æœã€‚ &lt;strong&gt;ç»å¯¹&lt;/strong&gt; ä¸è¦è¯•å›¾åˆ†è§£ä¸€ä¸ª &lt;code&gt;Markup&lt;/code&gt; å¯¹è±¡æˆ–è€…ä»»ä½•å…¶ä»–HTMLå­—ç¬¦ä¸²ï¼›å¦‚æœå®åœ¨éœ€è¦çš„è¯ï¼Œé‚£å°±ä½¿ç”¨ä¸€ä¸ªçœŸæ­£çš„è§£æå™¨ï¼Œæ¯”å¦‚ &lt;code&gt;lxml&lt;/code&gt; ï¼Œä½†æ˜¯å¤§å¤šæ•°æ—¶å€™ï¼Œä½ å¯ä»¥åœ¨å°†æ™®é€šå­—ç¬¦ä¸²åŒ…è£¹è¿›HTMLä¹‹å‰ï¼Œå¯¹å®ƒåšä»»ä½•ä½ éœ€è¦çš„è½¬æ¢ã€‚&lt;/p&gt;
&lt;h2&gt;è¡¨å•&lt;/h2&gt;
&lt;p&gt;æˆ‘åŒæ¶æ‰€æœ‰å¤„ç†è¡¨å•çš„åº“ã€‚æ¯ä¸ªå•ä¸€çš„åº“ã€‚å®ƒä»¬éƒ½æŠŠä½œè€…çš„ç–¯ç‹‚å‘½åæ–¹å¼å¼ºåŠ åˆ°æˆ‘çš„è¡¨å•ã€‚æˆ‘ç”šè‡³ä¸å–œæ¬¢PHPä½¿ç”¨ &lt;code&gt;foo[]&lt;/code&gt; ä½œä¸ºå­—æ®µåç§°çš„è¡Œä¸ºï¼›è¿™æœ‰å¤šä¸‘é™‹å•Šã€‚&lt;/p&gt;
&lt;p&gt;è‡³ä»Šè®©æˆ‘è®¨åŒç¨‹åº¦æœ€ä½çš„æ˜¯&lt;a href="http://wtforms.simplecodes.com/docs/dev/"&gt;wtform&lt;/a&gt;ï¼›å®ƒå¼ºåŠ çš„è®¾è®¡ä¸Šçš„é™åˆ¶ç›¸å½“å°‘ï¼Œå¹¶ä¸”ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ã€‚å®ƒç”šè‡³å†…å»ºæ”¯æŒé…åˆmarkupsafeã€‚ä¸»è¦çš„ç¼ºé™·æ˜¯è¦æƒ³å»é™¤é‚£äº›è®¾è®¡ä¸Šçš„ç¼ºé™·æ¯”è¾ƒå›°éš¾(æ¯ä¸ªè¡¨å•å…ƒç´ éƒ½æœ‰ä¸€ä¸ªä¸åå­—ç›¸åŒ¹é…çš„ &lt;code&gt;id&lt;/code&gt; å±æ€§)ï¼Œå¹¶ä¸”å®ç°ä¸€ç§æ–°çš„å­—æ®µä¼šæœ‰ç‚¹å¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå…¶ä»–çš„æˆ‘æ²¡æ³•å¤šè¯´äº›ä»€ä¹ˆï¼Œå”‰ã€‚&lt;a href="http://www.formencode.org/en/latest/index.html"&gt;FormEncode&lt;/a&gt;æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚Pyramidçš„ç»´æŠ¤è€…è¿˜æ‹¥æœ‰&lt;a href="http://docs.pylonsproject.org/projects/deform/en/latest/index.html"&gt;deform&lt;/a&gt; ã€‚å®ƒä»¬éƒ½åšäº†ä¸€äº›æ„šè ¢çš„äº‹æƒ…ï¼Œä¹Ÿè®¸ç¡®å®æ˜¯å› ä¸ºå¤ªæŒ‘å‰”äº†ï¼Œæˆ‘æ‰è¿™æ ·çƒ¦æ‰°ã€‚è´§æ¯”ä¸‰å®¶å§ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºä½ åšå•¥ï¼Œéƒ½è¦ç¡®ä¿ä½ ä½¿ç”¨ä¸œè¥¿ä¸ä¼šä½¿å¾—ä½ çš„é¡¹ç›®å˜å¾—å¤ªå¤§ã€‚æ¯”è¡¨å•å¤„ç†åº“æ›´è®©æˆ‘åŒæ¶çš„ä¸€ä»¶äº‹æ˜¯æ‰‹åŠ¨ç¼–å†™éªŒè¯ç ã€‚&lt;/p&gt;
&lt;h2&gt;"å‡€åŒ–(Santizing)"&lt;/h2&gt;
&lt;p&gt;å…³äºPHPç•Œå…±åŒè¶‹åŠ¿çš„ç¬”è®°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸è¦&lt;/strong&gt; "å‡€åŒ–(sanitize)"ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¯è¯­æœ¬èº«æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚ä¸å­˜åœ¨æŸç§ä½ å¯ä»¥ç”¨äºä»»æ„å­—ç¬¦ä¸²å¹¶ä½¿ä¹‹"å®‰å…¨"çš„æ–¹æ³•ã€‚è¿™ç§æƒ³æ³•å°±æ˜¯æˆ‘ä¸€ç›´é‡åˆ°é“¶è¡Œç½‘ç«™çš„è”ç³»è¡¨å•å‘Šè¯‰æˆ‘ä¸èƒ½ä½¿ç”¨ &lt;code&gt;&amp;lt;&lt;/code&gt; å­—ç¬¦çš„åŸå› ï¼›æŸäº›å‚»ç“œä¼ä¸šå¼€å‘è€…å¹¶ä¸çŸ¥é“å¦‚ä½•å¤„ç†æ•°æ®ï¼Œæ‰€ä»¥ä»–å¼ºè¿«æ‰€æœ‰æ•°æ®å¿…é¡»ç®€å•æ˜“æ‡‚ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¦æˆäº†ä¸€ä¸ªç™½ç—´ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°æ—¶å€™ï¼Œ"å‡€åŒ–"æ˜¯æŒ‡ä½¿å¾—ç”¨æˆ·è¾“å…¥å®‰å…¨åœ°åµŒå…¥HTMLï¼Œä¼ é€’ç»™SQLï¼Œæˆ–è€…ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ä½¿ç”¨ã€‚ä½ æ ¹æœ¬ä¸éœ€è¦æ”¹å˜åŸæœ‰æ•°æ®å°±èƒ½åšåˆ°æ‰€æœ‰è¿™äº›äº‹æƒ…ã€‚å¯¹äºHTMLï¼Œä¸Šé¢æåˆ°æœ‰ä¸€äº›è¿‡æ»¤å™¨ï¼Œæ¯”å¦‚markupsafeã€‚å¯¹äºSQLï¼Œæœ‰ç•Œé™å‚æ•°å’ŒORMã€‚å¯¹äºæ‰§è¡Œå‘½ä»¤ï¼Œä½ åº”è¯¥å®Œå…¨é¿å…ä½¿ç”¨shellï¼Œä»…ä»…å°†å‚æ•°ä½œä¸ºåˆ—è¡¨ä¼ é€’(å‚è§ &lt;code&gt;subprocess&lt;/code&gt; (&lt;a href="http://docs.python.org/library/subprocess.html"&gt;http://docs.python.org/library/subprocess.html&lt;/a&gt;))ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›å°±æ˜¯è¯­è¨€éšœç¢(language barrier)çš„æ‰€æœ‰é—®é¢˜ï¼šHTMLï¼ŒSQLï¼Œä»¥åŠshelléƒ½æ˜¯ç»“æ„åŒ–è¯­è¨€ï¼Œä½ ä¸èƒ½æŠŠä¸€äº›è«åçš„åƒåœ¾æ•°æ®å€’ç»™å®ƒä»¬ï¼Œè¿˜å¸Œæœ›æœ€å¥½çš„ç»“æœã€‚ä½ ä¸ä¼šä½¿ç”¨å­—ç¬¦ä¸²è¿ç»“æ¥åˆ›å»ºJSONï¼Œæ‰€ä»¥ä¹Ÿåˆ«ç”¨æ¥æ‰§è¡Œ &lt;code&gt;convert&lt;/code&gt; (è¯‘æ³¨ï¼šè¿™é‡Œçš„convertåº”è¯¥æ˜¯ç”¨äºå›¾ç‰‡æ ¼å¼è½¬æ¢çš„convertå‘½ä»¤)ã€‚ä½¿ç”¨ç†è§£åº•å±‚ç»“æ„çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å¹¶ä¸æ˜¯è¯´ä½ åº”è¯¥ä»ä¸ä¿®æ”¹æˆ–è¿‡æ»¤ç”¨æˆ·è¾“å…¥ï¼Œè€Œæ˜¯ä½ åº”è¯¥å°½å¯èƒ½åœ°é¿å…å®ƒï¼Œå¹¶ä¸”å½“ä½ åšçš„æ—¶å€™åº”è¯¥æå…¶å°å¿ƒã€‚ä»¥å¸¸è§çš„å¯†ç ä¸ºä¾‹ï¼Œä¸ºä»€ä¹ˆä¸€èˆ¬éƒ½ç¦æ­¢åœ¨å¯†ç ä¸­ä½¿ç”¨ç©ºæ ¼æˆ–è€…è¦å°†å¯†ç é™åˆ¶ä¸º16ä¸ªå­—ç¬¦ï¼Ÿå¹¶æ²¡æœ‰æ˜ç¡®çš„ç†ç”±ï¼›ä»…ä»…æ˜¯åšäº†çš„ä¸€ä»¶äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»ç„¶è¢«è¿™ä¸ªé—®é¢˜æ‰€å›°æ‰°ï¼šä¸è®©æˆ‘è¾“å…¥ &lt;code&gt;&amp;lt;&lt;/code&gt; çš„é‚£ä¸ªåœ°æ–¹è¿˜åšæŒè¦æˆ‘è¾“å…¥16ä¸ªæ•°å­—çš„å­—ç¬¦ä¸²ä½œä¸ºæˆ‘çš„ä¿¡ç”¨å¡å·ã€‚è¿™å°±å¾ˆéš¾ä¸€ç›®äº†ç„¶åœ°è¯å®æˆ‘çš„è¾“å…¥æ˜¯å¦æ­£ç¡®---æ­¤å¤–ï¼Œåœ¨æˆ‘çš„ä¿¡ç”¨å¡ä¸Šçš„å·ç ä¸­é—´æ˜¯æœ‰ç©ºæ ¼çš„å‘€ï¼ä¸ºä»€ä¹ˆä¸å‰”é™¤ç©ºæ ¼å’Œè¿å­—ç¬¦ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä»”ç»†æ€è€ƒä½ æ­£åœ¨åšçš„äº‹æƒ…ä»¥åŠä½ æ­£è¯•å›¾è§£å†³ä»€ä¹ˆé—®é¢˜ã€‚äººä»¬ä¼šä½¿ç”¨ä»å³åˆ°å·¦çš„Uniodeå­—ç¬¦å¯¹ä½ çš„ç«™ç‚¹åšä¸€äº›æ„šè ¢çš„äº‹æƒ…ä¹ˆï¼Ÿä½ æƒ³é˜»æ­¢ä»–ä»¬ï¼Ÿæ²¡æœ‰ç†ç”±è¦å¼ºè¿«æ¯ä¸ªäººéƒ½ä½¿ç”¨ASCIIï¼›Unicodeæœ‰&lt;a href="http://www.fileformat.info/info/unicode/category/index.htm"&gt;ç±»åˆ«ä¹‹åˆ†&lt;/a&gt;ï¼Œä½ å¯ä»¥ä»…è¿‡æ»¤æ€ªå¼‚ç±»åˆ«çš„å­—ç¬¦ã€‚ä½†æ›´å¥½çš„åšæ³•æ˜¯ï¼Œä¿®æ”¹ä½ çš„ç½‘ç«™ï¼Œä½¿å¾—è¯´å¸Œä¼¯æ¥è¯­çš„äººéƒ½èƒ½ä½¿ç”¨å®ƒã€‚:)&lt;/p&gt;
&lt;h2&gt;è°ƒè¯•&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ æœ‰å¹¸(ä¾‹å¦‚ï¼Œä½¿ç”¨Pyramid)ï¼Œé‚£ä¹ˆå½“ä½ çš„ç¨‹åºå´©æºƒæ—¶ï¼Œä½ ä¼šæœ‰ä¸€ä¸ªäº¤äº’å¼çš„è°ƒè¯•å™¨ï¼Œå…è®¸ä½ æ£€æŸ¥ç¨‹åºçš„å®æ—¶çŠ¶æ€ã€‚ä½ å¯ä»¥è¿è¡Œä»»æ„çš„Pythonä»£ç ï¼Œè§‚å¯Ÿå˜é‡çš„çŠ¶æ€ï¼Œå®¡æ ¸å †æ ˆï¼Œä»¥åŠè€ç€ç©ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä¸å¹¸ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒï¼›ä½ è¿˜å¯ä»¥ä½¿ç”¨&lt;a href="http://werkzeug.pocoo.org/docs/debug/"&gt;werkzeugè°ƒè¯•å™¨&lt;/a&gt;ã€‚å®ƒç›¸å½“æ˜“äºä½¿ç”¨ï¼›å®ƒèƒ½åŒ…è£¹ä»»ä½•WSGIåº”ç”¨ï¼Œç„¶åæ•æ‰å¼‚å¸¸ã€‚(çœ‹åˆ°æ²¡æœ‰ï¼ŸWSGIå¦™å¾—å¾ˆã€‚)&lt;/p&gt;
&lt;p&gt;åªæ˜¯å½“ä½ éƒ¨ç½²åº”ç”¨çš„æ—¶å€™ï¼Œè¦ç¡®ä¿å…³é—­è°ƒè¯•ï¼Œå¦åˆ™å°±ä¼šä¸ºåˆ«äººæ‰€ç”¨ï¼›"ä»»æ„Pythonä»£ç "æ„å‘³ç€ä»»ä½•çœ‹åˆ°è°ƒè¯•å±å¹•çš„äººéƒ½å¯ä»¥åšä½ èƒ½åœ¨ä½ çš„ç”µè„‘åšçš„ä»»ä½•äº‹æƒ…ã€‚&lt;/p&gt;
&lt;h2&gt;æ•°æ®åº“&lt;/h2&gt;
&lt;p&gt;ä¸€ç½å­çš„è •è™«å•Šã€‚è¿™è¯æœ‰äº›æ­¦æ–­(This is as opinionated as I'm going to get.)ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸€ï¼šä½ åº”è¯¥ä½¿ç”¨ORMã€‚å®ƒæ˜¯å°è¯•å°†æ•°æ®è¡¨æ˜ å°„åˆ°Pythonç±»ï¼Œæ•°æ®è¡Œæ˜ å°„åˆ°å¯¹è±¡ï¼ŒæŸ¥è¯¢æ˜ å°„åˆ°æ–¹æ³•çš„ç‰©ä»¶ã€‚ç»“æœæ›´åŠ ç®€å•æ˜äº†ï¼Œé€šå¸¸æ›´åŠ å®¹æ˜“ç†è§£ï¼Œå¹¶ä¸”æœ‰æ—¶ç”šè‡³æ­£ç¡®ç‡æ›´é«˜ã€‚&lt;/p&gt;
&lt;p&gt;ä½ åº”è¯¥ä½¿ç”¨çš„ORMæ˜¯&lt;a href="http://www.sqlalchemy.org/"&gt;SQLAlchemy&lt;/a&gt;ã€‚Pyramidå¯¹å®ƒæœ‰å†…å»ºæ”¯æŒï¼›å¦‚æœä½ ä½¿ç”¨çš„æ¡†æ¶æ²¡æœ‰å†…ç½®æ”¯æŒï¼ŒSQLAlchemyè¿™ä¹ˆå—æ¬¢è¿ï¼Œæ¡†æ¶æ–‡æ¡£è‚¯å®šæœ‰è¯´æ˜å¦‚ä½•ä¸å®ƒç›¸è¿ã€‚å¦‚æœä½ åœ¨ä½¿ç”¨Djangoï¼Œå®ƒæœ‰è‡ªå·±çš„ORMï¼Œè™½ç„¶æ²¡æœ‰SQLAlchemyè¿™ä¹ˆå¥½ï¼Œä½†è¦æƒ³æŠŠDjangoè‡ªå¸¦çš„ORMæ›¿æ¢æ‰éå¸¸éº»çƒ¦ï¼Œä¸å€¼å¾—ï¼Œé™¤éä½ æœ‰è¿«åˆ‡çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;è®¸å¤šè´¬ä½ORMçš„äººä¼šå‘Šè¯‰ä½ ORMä¼šäº§ç”Ÿç³Ÿç³•çš„SQLã€‚æ˜¯çš„ï¼Œç³Ÿç³•çš„ORMç¡®å®ä¼šï¼Œä½†ä¼˜ç§€çš„ORMï¼Œæ¯”å¦‚SQLAlchemyï¼Œå¯¹äºSQLï¼Œå’Œä½ ç†è§£å¾—ä¸€æ ·å¥½ã€‚å¦‚æœä½ æ‡‚SQLï¼ŒSQLAlchemyä¼šéå¸¸é€‚åˆä½ ï¼›å¦‚æœä½ ä¸æ‡‚SQLï¼ŒSQLAlchemyè‡³å°‘èƒ½å¸®ä½ é¿å…å¾ˆå¤šç¼–å†™ç³Ÿç³•SQLçš„å°´å°¬ã€‚è®°ä½ä½ æ€»æ˜¯å¯ä»¥å¯Ÿçœ‹æ‰§è¡Œè¿‡çš„æŸ¥è¯¢ï¼›SQLAlchemyå¯ä»¥æŠŠå®ƒä»¬å…¨éƒ¨è®°å½•ä¸‹æ¥ï¼Œå¹¶ä¸”å„ç§è°ƒè¯•å·¥å…·æ ä¼šæ˜¾ç¤ºæŸ¥è¯¢æ‰§è¡Œæ—¶é—´åˆ—è¡¨ã€‚(å¦å¤–ï¼Œç•™å¿ƒé‚£äº›æ‰§è¡Œå¤šæ¬¡çš„ç›¸åŒæŸ¥è¯¢ï¼Œè¿™æ ‡ç¤ºéœ€è¦é¢„å…ˆåŠ è½½ã€‚)&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œä½¿ç”¨äº‹åŠ¡(transaction)ã€‚å¸Œæœ›ä½ ä¸è¦å¯¹è¿™ä¸ªæœ‰å¤ªå¤šçš„é¡¾è™‘ï¼›å¦‚æœä¸€ä¸ªæ¡†æ¶é›†æˆäº†SQLAlchemyï¼Œå®ƒå¾ˆå¯èƒ½ä¼šä¸ºä½ åšè¿™äº‹ã€‚ç†å¿µæ˜¯ï¼šå½“å¼€å§‹ä¸€ä¸ªè¯·æ±‚ï¼Œåˆ™å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œäº‹åŠ¡ä¼šè‡ªåŠ¨å›æ»šã€‚è¿™æ˜¯ä½ ä¸€å¼€å§‹å°±æƒ³è¦çš„è¡Œä¸ºã€‚è¿™æ˜¯ä½¿ç”¨æ•°æ®åº“çš„ä¸€åŠ(ä¸å¯¹ï¼Œæ˜¯1/4)åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä»¶äº‹ï¼šæ—¢ç„¶æœ¬æ–‡ä¸­æˆ‘æ‰€è¯´çš„éƒ½æ˜¯å…³äºå°è¯•æ–°äº‹ç‰©ï¼Œé‚£ä¹ˆ &lt;strong&gt;ä¸è¦ä½¿ç”¨MySQL&lt;/strong&gt; ã€‚åœ¨æˆ‘èƒ½æƒ³åˆ°çš„ä»»ä½•æ„ä¹‰ä¸Šï¼ŒMySQLéƒ½æ˜¯æ•°æ®åº“ä¸­çš„PHP(the PHP of databases)ã€‚è€ƒè™‘ä¸€ä¸‹&lt;a href="http://www.postgresql.org/"&gt;PostgreSQL&lt;/a&gt;ï¼Œå®ƒæ­å»ºèµ·æ¥å¹¶ä¸ä¼šæ›´éš¾ï¼Œä½¿ç”¨èµ·æ¥æ›´å‹å¥½ï¼Œä¹Ÿä¸ä¼šè®©ä½ åšåœ¨æ—¥æœŸæ ä¸­å­˜å‚¨å­—ç¬¦ä¸²é‚£æ ·çš„è ¢äº‹ã€‚(åœ¨æˆ‘çœ‹æ¥ï¼Œæœ€å‹å¥½çš„äº‹æƒ…ä¹‹ä¸€æ˜¯PostgreSQLå¯ä»¥ä½¿ç”¨ä½ çš„Unixç”¨æˆ·å¸å·ç™»å½•ï¼Œä¸éœ€è¦å¯†ç )ã€‚å”¯ä¸€çš„æœ‰äººæ›¾ç»åå¯¹ä½¿ç”¨Postgresçš„ç†ç”±æ˜¯å®ƒ"ä¸èƒ½æ‰©å±•"ã€‚è¯·æ”¾å¿ƒï¼Œæˆ‘è¿˜æ²¡çœ‹åˆ°è¿™ç§æƒ…å†µçš„å®é™…ä¾‹å­ï¼Œæ€»ä¹‹ï¼Œå½“è®¿é—®è€…è¶…è¿‡ç™¾ä¸‡çš„æ—¶å€™ï¼Œä½ æ‰éœ€è¦æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;h2&gt;ä¼šè¯(Sessions)&lt;/h2&gt;
&lt;p&gt;æ¯ä¸ªæ¡†æ¶éƒ½æ”¯æŒä¼šè¯ã€‚çœ‹èµ·æ¥æˆ‘ä»¬ä¹Ÿç†Ÿæ‚‰ï¼šä¸€ä¸ªä¼šè¯æ ‡è¯†å­˜å‚¨äºcookieä¸­ï¼Œå¹¶ä¸”åœ¨åç«¯ä½ èƒ½é­”æ³•èˆ¬åœ°å¾—åˆ°ä¸€ä¸ªå­—å…¸ï¼Œå¯ä»¥å¾€å…¶ä¸­å­˜å‚¨ä»»æ„æ•°æ®ã€‚éšä½ æ€ä¹ˆç”¨ã€‚ä½†å°½é‡ä¸è¦æŠŠå®ƒå½“ä½œåƒåœ¾åœºã€‚è¿™äº‹å®è¯æ˜æ•°æ®åº“éå¸¸é€‚åˆå­˜å‚¨æ•°æ®ï¼Œä½ æ˜ç™½çš„ã€‚&lt;/p&gt;
&lt;p&gt;é¢å¤–çš„ç‰¹æ€§åŒ…æ‹¬ï¼šå¯¹CSRF(è¯‘æ³¨ï¼šCross Site Request Forgeryï¼Œè·¨ç«™è¯·æ±‚ä¼ªé€ )ä¿æŠ¤çš„ä¸€ç­‰(first-class)æ”¯æŒï¼Œä»¥åŠä¿¡æ¯æç¤º(Pyramidï¼ŒFlaskï¼ŒDjango)ã€‚å»é˜…è¯»æ–‡æ¡£å§ã€‚&lt;/p&gt;
&lt;p&gt;æé†’ä¸€å¥ï¼šå¦‚æœä½ ä½¿ç”¨Beakerä¼šè¯(Pyramidé‡‡ç”¨è¿™ä¸ªç‹¬ç«‹çš„åº“)ï¼Œç¹ççš„ä¸œè¥¿ä¼šé€æ¸ç§¯ç´¯ã€‚é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸ºæ¯ä¸ªä¼šè¯åœ¨ç£ç›˜ä¸Šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨æ•°æ®åº“æ”¯æŒä¼šè¯ï¼Œä½ å°†å¾—åˆ°ä¸€ä¸ªå­˜å‚¨äº†å¤§é‡ä¼šè¯çš„æ•°æ®è¡¨ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°æ®è¡¨åªå¢ä¸å‡ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸ç³Ÿç³•å´ä¸æ˜æ˜¾çš„é—®é¢˜ï¼Œä¸»è¦çš„ä¿®å¤æ–¹æ³•æ˜¯æ‰‹å·¥æ“ä½œã€‚æ·±è¡¨é—æ†¾ã€‚&lt;/p&gt;
&lt;h2&gt;éƒ¨ç½²&lt;/h2&gt;
&lt;p&gt;å•Šå“ˆï¼Œä½ æ˜ç™½æˆ‘çš„æ„æ€çš„ï¼Œéƒ¨ç½²æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œåº”è¯¥èŠ±æ›´å¤šçš„æ—¶é—´æ¥è®²è¿°ï¼Œä½†è¿™é‡Œæˆ‘æ²¡æ³•èŠ±é‚£ä¹ˆå¤šçš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå¯èƒ½ï¼Œè¿˜æ˜¯å®æ„¿èŠ±äº›é’±å§ã€‚æä¾›æœåŠ¡è‚¯å®šæ˜¯è¦æœ‰ä»£ä»·çš„ã€‚å¦‚æœä½ æœ‰è‡ªå·±çš„ä¸“ç”¨(è™šæ‹Ÿçš„æˆ–è€…ä¸æ˜¯)æœºå™¨éšä½ æ‘†å¼„ï¼Œé‚£ä¹ˆè¿™æ˜¯éƒ¨ç½²åº”ç”¨æœ€ç®€å•çš„æ–¹å¼---æ‰‹å¤´æœ‰å°æœåŠ¡å™¨æ˜¯ä»¶å¾ˆé…·çš„äº‹æƒ…ã€‚ä½ å¯ä»¥æ¯æœˆèŠ±è´¹$20è€Œè·å¾—ä¸€ä¸ªåŸºæœ¬çš„&lt;a href="http://www.linode.com/?r=c5316aa7d1cfce6f5fe611bb455ef1548cc1946c"&gt;Linode&lt;/a&gt;ï¼Œè¿˜å­˜åœ¨æ›´ä¾¿å®œçš„æ‰˜ç®¡æœåŠ¡æä¾›å•†(ä½†æ˜¯æ²¡é‚£ä¹ˆé…·äº†)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.heroku.com/"&gt;Heroku&lt;/a&gt;ä¹Ÿæ˜¯å€¼å¾—é€‰æ‹©çš„ï¼Œå…¶æ”¶è´¹ç­‰çº§ä¸­æœ‰ä¸€ä¸ªå…è´¹çº§ï¼Œåªæä¾›ä¸€ä¸ªå·¥ä½œè¿›ç¨‹(workerï¼Œè¯‘æ³¨ï¼šHerokuå®˜ç½‘è§£é‡Š"A worker dyno is a single background process running your code and processing jobs from a queue.")(ç±»ä¼¼äºæœ€ä½çº§Linode)ï¼Œä½†æ˜¯æ¯ä¸ªé¢å¤–çš„å·¥ä½œè¿›ç¨‹éƒ½éœ€è¦ä½ å¦å¤–æ”¯ä»˜$36/æ¯æœˆã€‚(å¯ä»¥åŒæ—¶å¤„ç†çš„è¯·æ±‚æ•°ç›®æ­£æ¯”äºä½ æŒæœ‰çš„å·¥ä½œè¿›ç¨‹æ•°ç›®ã€‚å…·ä½“éœ€è¦å¤šå°‘å·¥ä½œè¿›ç¨‹åˆ™è¦çœ‹ä½ çš„åº”ç”¨ä»¥åŠä½ å¦‚ä½•è¿è¡Œå®ƒã€‚)ä¼˜ç‚¹æ˜¯ä½ çš„åº”ç”¨ä¼šè¢«éƒ¨ç½²å¾—å¾ˆä¸“ä¸šã€‚Herokuç°åœ¨è¿˜æ”¯æŒå¤šä¸ªåº”ç”¨å‰¯æœ¬ã€‚&lt;/p&gt;
&lt;p&gt;æ­£å¦‚ä»–ä»¬æ‰€è¯´ï¼Œéƒ¨ç½²æ˜¯ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼šå› ä¸ºè¿™æ„å‘³ç€ä½ ç¡®å®æ„å»ºäº†æœ‰ç”¨çš„ä¸œè¥¿ã€‚é‚£ä¹ˆåœ¨æˆ‘åŠªåŠ›å†™ä¸€ç¯‡å…³äºéƒ¨ç½²é€‰é¡¹çš„æ–‡ç« ä¹‹æ—¶ï¼Œä½ èµ¶ç´§å»æ„å»ºæŸä¸ªåº”ç”¨å§ã€‚&lt;/p&gt;
&lt;h2&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;Webæ˜¯å¤æ‚çš„ï¼Œæ¶‰åŠå¾ˆå¤šæ´»åŠ¨ä»¶(moving parts)ã€‚èªæ˜çš„äººä»¬å·²ç»ä¸ºä½ è§£å†³äº†å¾ˆå¤šé—®é¢˜ã€‚å»æ£é¼“å§ã€‚&lt;/p&gt;
&lt;p&gt;å¸Œæœ›æœ¬æ–‡è¶³å¤Ÿè®©ä½ å¼€å§‹Webå¼€å‘äº†ï¼&lt;/p&gt;
&lt;p&gt;ä¸€å¦‚æ—¢å¾€ï¼Œæˆ‘å¹¶ä¸çŸ¥é“è‡ªå·±åšå¾—æ€ä¹ˆæ ·ï¼Œæ‰€ä»¥è¯·ä½ å‘Šè¯‰æ€æ ·åšå¾—æ›´å¥½ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category><category term="ç¿»è¯‘"></category></entry><entry><title>å…³äºæŠ€æœ¯çš„å­¦ä¹ æ–¹æ³•</title><link href="http://youngsterxyf.github.io/2012/05/11/about-method-of-learning-technology/" rel="alternate"></link><published>2012-05-11T00:00:00+08:00</published><updated>2012-05-11T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-05-11:/2012/05/11/about-method-of-learning-technology/</id><summary type="html">&lt;p&gt;å…³äºå­¦ä¹ ï¼Œæ—¶é—´çŸ­ä¸æ•ˆæœå¥½å§‹ç»ˆæ˜¯ä¸€å¯¹çŸ›ç›¾çš„ç»Ÿä¸€ä½“ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šæ—¶å€™ï¼Œè¦æƒ³åœ¨æœ€çŸ­çš„æ—¶é—´å†…å®Œæˆä¸€ä»¶äº‹æƒ…ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯ä¾è‘« â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;å…³äºå­¦ä¹ ï¼Œæ—¶é—´çŸ­ä¸æ•ˆæœå¥½å§‹ç»ˆæ˜¯ä¸€å¯¹çŸ›ç›¾çš„ç»Ÿä¸€ä½“ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šæ—¶å€™ï¼Œè¦æƒ³åœ¨æœ€çŸ­çš„æ—¶é—´å†…å®Œæˆä¸€ä»¶äº‹æƒ…ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯ä¾è‘«èŠ¦ç”»ç“¢ï¼Œä½†è¿™æ ·çš„è¯ï¼Œå³ä½¿å®Œæˆäº†äº‹æƒ…ï¼Œä¹Ÿåªæ˜¯çŸ¥å…¶ç„¶è€Œä¸çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œé•¿ä¹…æ¥çœ‹ï¼Œå¯¹äºå­¦ä¹ è€…çš„èƒ½åŠ›ä¸ä¼šæœ‰å¤šå¤§çš„æé«˜ã€‚&lt;/p&gt;
&lt;p&gt;ä»é•¿è¿œæ¥çœ‹ï¼Œè¦æƒ³è‡ªå·±åŸºç¡€æ‰å®ï¼Œèƒ½åŠ›å¼ºï¼Œé‚£å°±å¾—ä¸€æ­¥ä¸€æ­¥çš„æ¥ï¼Œä»åŸºç¡€çŸ¥è¯†å¼€å§‹ï¼Œä¸€ç‚¹ä¸€ç‚¹çš„ææ‡‚ï¼Œä½†è¿™ç§æ–¹å¼éœ€è¦èŠ±è´¹å¾ˆå¤šæ—¶é—´ï¼ŒçŸ­æ—¶é—´å†…æ•ˆæœä¸æ˜æ˜¾ã€‚è€Œä¸”ï¼Œå¯èƒ½æ•ˆæœæ²¡æœ‰é¢„æœŸçš„é‚£ä¹ˆå¥½ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œå¦‚æœåšä¸ªæƒè¡¡å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³ï¼Œä¹Ÿè®¸æœ€å¥½çš„å­¦ä¹ æ–¹å¼æ˜¯ï¼šå…ˆä¾è‘«èŠ¦ç”»ç“¢åœ°å®è·µï¼Œè·å¾—ä¸€äº›ç›´è§‚æ„Ÿå—ï¼Œæœ€å¥½è¿˜æœ‰ä¸€äº›ç–‘é—®ã€‚åœ¨å®è·µå®Œæˆä¹‹åï¼Œåœ¨æ•´ç†è‡ªå·±çš„ç–‘é—®ï¼Œä»¥åŠå®è·µä¸­æ¶‰åŠçš„çŸ¥è¯†è¦ç‚¹ï¼Œé€šè¿‡æŸ¥é˜…å›¾ä¹¦æˆ–è€…ç½‘ç»œèµ„æ–™ï¼Œé€ä¸ªçŸ¥è¯†ç‚¹å·©å›ºï¼Œé€ä¸ªè§£å†³ç–‘é—®ï¼Œå¹¶æ•´ç†æˆæ–‡ã€‚è¿™ä¸ªæ•´ç†æ€»ç»“çš„è¿‡ç¨‹å¯èƒ½éœ€è¦è¾ƒé•¿çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹å¼çš„ä¼˜åŠ¿åœ¨äºï¼š1.èƒ½è®©ä½ å¿«é€Ÿåœ°å®Œæˆäº‹æƒ…ï¼›2.å®è·µä¸­ç”¨åˆ°çš„çŸ¥è¯†å¤šåŠä¼šåœ¨ä»¥åçš„å®è·µä¸­ç»å¸¸ç”¨åˆ°ï¼ŒæŒæ¡çš„å°±æ˜¯ä¸€äº›æœ€é‡è¦çš„ä¸œè¥¿ï¼Œè€Œä¸ä¼šå­¦ä¹ ä¸€äº›å¾ˆå°‘ä½¿ç”¨çš„æ·±å¥¥åé—¨çŸ¥è¯†ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æŠ€æœ¯"></category><category term="å­¦ä¹ æ–¹æ³•"></category></entry><entry><title>ubuntu12.04+ngnix+php-fastcgi+mysql+memcachedç½‘ç«™å¼€å‘æµ‹è¯•ç¯å¢ƒæ­å»º</title><link href="http://youngsterxyf.github.io/2012/05/10/ubuntu12.04-nginx-php-factcgi-mysql-memcached/" rel="alternate"></link><published>2012-05-10T00:00:00+08:00</published><updated>2012-05-10T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-05-10:/2012/05/10/ubuntu12.04-nginx-php-factcgi-mysql-memcached/</id><summary type="html">&lt;p&gt;1.
å®‰è£…å¿…è¦çš„è½¯ä»¶&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt-get install nginx php5-cli php5-cgi spawn-fcgi psmisc mysql-server &lt;span style="color: #a31515"&gt;\&lt;/span&gt;
mysql-client php5-mysql memcached php5-memcache php5-curl php5-gd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.
æ‰“å¼€æµè§ˆå™¨è®¿é—®: 127.0.0.1ã€‚å°±èƒ½çœ‹åˆ°è¡¨ç¤ºnginxå®‰è£…æˆåŠŸçš„é¡µé¢ã€‚ä½†è¿™æ—¶è®¿é—®phpæ–‡ä»¶é¡µé¢è¿˜ä¸è¡Œã€‚
ï¼ˆæ³¨ï¼šngnixçš„é…ç½®æ–‡ä»¶ç›®å½•ä¸º â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;1.
å®‰è£…å¿…è¦çš„è½¯ä»¶&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo apt-get install nginx php5-cli php5-cgi spawn-fcgi psmisc mysql-server &lt;span style="color: #a31515"&gt;\&lt;/span&gt;
mysql-client php5-mysql memcached php5-memcache php5-curl php5-gd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.
æ‰“å¼€æµè§ˆå™¨è®¿é—®: 127.0.0.1ã€‚å°±èƒ½çœ‹åˆ°è¡¨ç¤ºnginxå®‰è£…æˆåŠŸçš„é¡µé¢ã€‚ä½†è¿™æ—¶è®¿é—®phpæ–‡ä»¶é¡µé¢è¿˜ä¸è¡Œã€‚
ï¼ˆæ³¨ï¼šngnixçš„é…ç½®æ–‡ä»¶ç›®å½•ä¸º/etc/ngnix/ï¼Œé»˜è®¤ç½‘ç«™æ ¹ç›®å½•ä¸º/usr/share/ngnix/www/ï¼›phpé…ç½®æ–‡ä»¶ç›®å½•ä¸º/etc/php5/ï¼‰&lt;/p&gt;
&lt;p&gt;3.
ç¼–è¾‘æ–‡ä»¶/etc/ngnix/sites-available/defaultï¼Œå†…å®¹å¦‚ä¸‹(å¯ä»¥å…ˆæŠŠåŸæ–‡ä»¶å¤‡ä»½ä¸€ä¸‹)ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;server {
    #listen   80; ## listen for ipv4; this line is default and implied
    #listen   [::]:80 default ipv6only=on; ## listen for ipv6

    root /usr/share/nginx/www;
    server_name localhost;

    location / {

        index   index.html index.htm;
    }

    location ~ \.php$ {

        fastcgi_pass    localhost:9000;
        fastcgi_index   index.php;
        fastcgi_param   SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include         fastcgi_params;
        try_files $uri $uri/ /index.html;
    }

    error_page 404 /404.html;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;4.
ä¿®æ”¹æ–‡ä»¶/etc/php5/cgi/php.iniã€‚å»é™¤&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;#cgi.fix_pathinfo=1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸€è¡Œå‰é¢çš„&lt;code&gt;#&lt;/code&gt;ã€‚å…·ä½“ä¿¡æ¯è¯·çœ‹php.iniçš„ç›¸å…³æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;5.
åˆ›å»ºæ–‡ä»¶/usr/bin/php-fastcgi :&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;#!/bin/bash&lt;/span&gt;

FASTCGI_USER=www-data
FASTCGI_GROUP=www-data

ADDRESS=127.0.0.1
PORT=9000

PIDFILE=/var/run/php-fastcgi/php-fastcgi.pid
CHILDREN=6

PHP5=/usr/bin/php5-cgi
/usr/bin/spawn-fcgi -a $ADDRESS -p $PORT -P $PIDFILE -C $CHILDREN -u $FASTCGI_USER -g $FASTCGI_GROUP -f $PHP5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;6.
è®¾ç½®/usr/bin/php-fastcgiä¸ºå¯æ‰§è¡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo chmod +x /usr/bin/php-fastcgi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;7.
åˆ›å»ºæ–‡ä»¶/etc/init.d/php-fastcgiï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #008000"&gt;#!/bin/bash&lt;/span&gt;

PHP_SCRIPT=/usr/bin/php-fastcgi

FASTCGI_USER=www-data
FASTCGI_GROUP=www-data

PID_DIR=/var/run/php-fastcgi
PID_FILE=/var/run/php-fastcgi/php-fastcgi.pid
RET_VAL=0

&lt;span style="color: #0000ff"&gt;case&lt;/span&gt; &lt;span style="color: #a31515"&gt;&amp;quot;&lt;/span&gt;$1&lt;span style="color: #a31515"&gt;&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;in&lt;/span&gt;
    start)
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [[ ! -d $PID_DIR ]]
        &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
            mkdir $PID_DIR
            chown $FASTCGI_USER:$FASTCGI_GROUP $PID_DIR
            chmod 0770 $PID_DIR
        &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [[ -r $PID_FILE ]]
        &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
            echo &lt;span style="color: #a31515"&gt;&amp;quot;php-fastcgi already running with PID `cat &lt;/span&gt;$PID_FILE&lt;span style="color: #a31515"&gt;`&amp;quot;&lt;/span&gt;
            RET_VAL=1
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
            $PHP_SCRIPT
            RET_VAL=$?
        &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
    ;;
    stop)
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [[ -r $PID_FILE ]]
        &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
            kill &lt;span style="color: #a31515"&gt;`&lt;/span&gt;cat $PID_FILE&lt;span style="color: #a31515"&gt;`&lt;/span&gt;
            rm $PID_FILE
            RET_VAL=$?
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
            echo &lt;span style="color: #a31515"&gt;&amp;quot;Could not find PID file &lt;/span&gt;$PID_FILE&lt;span style="color: #a31515"&gt;&amp;quot;&lt;/span&gt;
            RET_VAL=1
        &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
    ;;
    restart)
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [[ -r $PID_FILE ]]
        &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
            kill &lt;span style="color: #a31515"&gt;`&lt;/span&gt;cat $PID_FILE&lt;span style="color: #a31515"&gt;`&lt;/span&gt;
            rm $PID_FILE
            RET_VAL=$?
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
            echo &lt;span style="color: #a31515"&gt;&amp;quot;Could not find PID file &lt;/span&gt;$PID_FILE&lt;span style="color: #a31515"&gt;&amp;quot;&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
        $PHP_SCRIPT
        RET_VAL=$?
    ;;
    status)
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; [[ -r $PID_FILE ]]
        &lt;span style="color: #0000ff"&gt;then&lt;/span&gt;
            echo &lt;span style="color: #a31515"&gt;&amp;quot;php-fastcgi running with PID `cat &lt;/span&gt;$PID_FILE&lt;span style="color: #a31515"&gt;`&amp;quot;&lt;/span&gt;
            RET_VAL=$?
        &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
            echo &lt;span style="color: #a31515"&gt;&amp;quot;Could not find PID file &lt;/span&gt;$PID_FILE&lt;span style="color: #a31515"&gt;, php-fastcgi does not appear to be running&amp;quot;&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;fi&lt;/span&gt;
    ;;
    *)
        echo &lt;span style="color: #a31515"&gt;&amp;quot;Usage: php-fastcgi {start|stop|restart|status}&amp;quot;&lt;/span&gt;
        RET_VAL=1
    ;;
&lt;span style="color: #0000ff"&gt;esac&lt;/span&gt;
exit $RET_VAL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;8.
æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼Œä»¥åŠè®¾ç½®ä¸ºå¼€æœºå¯åŠ¨&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo chmod +x /etc/init.d/php-fastcgi
sudo update-rc.d php-fastcgi defaults
sudo /etc/init.d/php-fastcgi start
sudo /etc/init.d/nginx start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;9.
åˆ›å»ºæ–‡ä»¶/usr/share/nginx/www/test.php, å†…å®¹å¦‚ä¸‹:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;?php&lt;/span&gt;
    phpinfo();
&lt;span style="color: #0000ff"&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;10.
æ‰“å¼€æµè§ˆå™¨è®¿é—®127.0.0.1/test.phpï¼Œå°±èƒ½çœ‹åˆ°å…³äºphpä¿¡æ¯çš„è¡¨æ ¼é¡µé¢äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒèµ„æ–™&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://library.linode.com/web-servers/nginx/php-fastcgi/ubuntu-10.04-lucid"&gt;Nginx and PHP-FastCGI on Ubuntu 10.04 LTS (Lucid)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="Nginx"></category><category term="PHP"></category></entry><entry><title>Pythonå¯¹è±¡åˆ›å»ºè¿‡ç¨‹ï¼ˆè¯‘ï¼‰</title><link href="http://youngsterxyf.github.io/2012/04/26/python-object-creation-sequence/" rel="alternate"></link><published>2012-04-26T00:00:00+08:00</published><updated>2012-04-26T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-04-26:/2012/04/26/python-object-creation-sequence/</id><summary type="html">&lt;p&gt;åŸæ–‡ï¼š &lt;a href="http://eli.thegreenplace.net/2012/04/16/python-object-creation-sequence/"&gt;Python object creation sequence&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š &lt;a href="http://xiayf.blogspot.com/"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[æœ¬æ–‡è®¨è®ºçš„Pythonç‰ˆæœ¬ä¸º3.x]&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ—¨åœ¨æ¢ç©¶Pythonä¸­æ–°å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ã€‚æ­£å¦‚æˆ‘åœ¨&lt;a href="&amp;lt;http://eli.thegreenplace.net/2012/03/23/python-internals-how-callables-work/"&gt;å‰ä¸€ç¯‡æ–‡ç« &lt;/a&gt;ä¸­æ‰€è§£é‡Šçš„ï¼Œå¯¹è±¡çš„åˆ›å»ºåªæ˜¯è°ƒç”¨å¯è°ƒç”¨å¯¹ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŸæ–‡ï¼š &lt;a href="http://eli.thegreenplace.net/2012/04/16/python-object-creation-sequence/"&gt;Python object creation sequence&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯‘è€…ï¼š &lt;a href="http://xiayf.blogspot.com/"&gt;youngsterxyf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[æœ¬æ–‡è®¨è®ºçš„Pythonç‰ˆæœ¬ä¸º3.x]&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ—¨åœ¨æ¢ç©¶Pythonä¸­æ–°å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ã€‚æ­£å¦‚æˆ‘åœ¨&lt;a href="&amp;lt;http://eli.thegreenplace.net/2012/03/23/python-internals-how-callables-work/"&gt;å‰ä¸€ç¯‡æ–‡ç« &lt;/a&gt;ä¸­æ‰€è§£é‡Šçš„ï¼Œå¯¹è±¡çš„åˆ›å»ºåªæ˜¯è°ƒç”¨å¯è°ƒç”¨å¯¹è±¡çš„ä¸€ç§ç‰¹ä¾‹ã€‚è€ƒè™‘è¿™æ ·çš„ä¸€æ®µPythonä»£ç ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Joe&lt;/span&gt;:
    &lt;span style="color: #0000ff"&gt;pass&lt;/span&gt;

j = Joe()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å½“j = Joe()è¢«æ‰§è¡Œæ—¶å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼ŸPythonæŠŠå®ƒçœ‹ä½œå¯¹å¯è°ƒç”¨çš„Joeçš„ä¸€æ¬¡è°ƒç”¨ï¼Œå¹¶ä¸”å°†å®ƒè·¯ç”±åˆ°å†…éƒ¨å‡½æ•° &lt;code&gt;PyObject_Call&lt;/code&gt; ï¼Œå°†Joeä½œä¸ºPyObject_Callçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ &lt;code&gt;PyObject_Call&lt;/code&gt; æ ¹æ®å…¶ç¬¬ä¸€ä¸ªå‚æ•°çš„ç±»å‹æŠ½å–è¿™ä¸ªå‚æ•°ç±»å‹çš„ &lt;code&gt;tp_call&lt;/code&gt; å±æ€§ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼ŒJoeçš„ç±»å‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ— è®ºä½•æ—¶æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ–°çš„Pythonç±»(class)ï¼Œå®ƒçš„ç±»å‹éƒ½æ˜¯ &lt;code&gt;type&lt;/code&gt; ï¼Œé™¤éæˆ‘ä»¬æ˜ç¡®åœ°ä¸ºå®ƒæŒ‡å®šä¸€ä¸ª &lt;a href="http://eli.thegreenplace.net/2011/08/14/python-metaclasses-by-example/"&gt;metaclass&lt;/a&gt;ã€‚å› æ­¤ï¼Œå½“ &lt;code&gt;PyObject_Call&lt;/code&gt; è¯•å›¾æŸ¥çœ‹Joeçš„ç±»å‹ï¼Œå°†å¾—åˆ°ç±»å‹ &lt;code&gt;type&lt;/code&gt; ï¼Œç„¶åé€‰æ‹© &lt;code&gt;type&lt;/code&gt; çš„ &lt;code&gt;tp_call&lt;/code&gt; å±æ€§ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯è°ƒç”¨ &lt;code&gt;Objects/typeobject.c&lt;/code&gt; æ–‡ä»¶ä¸­çš„å‡½æ•° &lt;code&gt;type_call&lt;/code&gt; [1]ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£å¹¶ä¸”çŸ­å°çš„å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘å°†å®ƒæ•´ä¸ªåœ°ç²˜è´´åˆ°è¿™é‡Œï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;static&lt;/span&gt; PyObject *
type_call(PyTypeObject *type, PyObject *args, PyObject *kwds)
{
    PyObject *obj;

    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (type-&amp;gt;to_new == NULL) {
        PyErr_Format(PyExc_TypeError,
                    &lt;span style="color: #a31515"&gt;&amp;quot;cannot create &amp;#39;%.100s&amp;#39; instances&amp;quot;&lt;/span&gt;,
                    type-&amp;gt;tp_name);
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; NULL;
    }

    obj = type-&amp;gt;tp_new(type, args, kwds);
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (obj != NULL) {
        &lt;span style="color: #008000"&gt;/* Ugly exception: when the call was type(something),&lt;/span&gt;
&lt;span style="color: #008000"&gt;            don&amp;#39;t call tp_init on the result. */&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (type == &amp;amp;PyType_Type &amp;amp;&amp;amp;
            PyTuple_Check(args) &amp;amp;&amp;amp; PyTuple_GET_SIZE(args) == 1 &amp;amp;&amp;amp;
            (kwds == NULL ||
                (PyDict_Check(kwds) &amp;amp;&amp;amp; PyDict_Size(kwds) == 0)))
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; obj;
        &lt;span style="color: #008000"&gt;/* If the returned object is not an instance of type,&lt;/span&gt;
&lt;span style="color: #008000"&gt;            it won&amp;#39;t be initialized. */&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (!PyType_IsSubtype(Py_TYPE(obj), type))
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; obj;
        type = Py_TYPE(obj);
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (type-&amp;gt;tp_init != NULL &amp;amp;&amp;amp;
            type-&amp;gt;tp_init(obj, args, kwds) &amp;lt; 0) {
            Py_DECREF(obj);
            obj = NULL;
        }
    }
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; obj; 
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ä¼ ç»™ &lt;code&gt;type_call&lt;/code&gt; çš„å‚æ•°æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç¬¬ä¸€ä¸ªæ˜¯Joeè‡ªå·±---å®ƒæ˜¯å¦‚ä½•è¡¨ç¤ºçš„å‘¢ï¼Ÿå¥½å§ï¼ŒJoeæ˜¯ä¸€ä¸ªç±»(class)ï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ª &lt;em&gt;ç±»å‹(type)&lt;/em&gt; (&lt;a href="http://eli.thegreenplace.net/2012/03/30/python-objects-types-classes-and-instances-a-glossary/"&gt;Python3ä¸­æ‰€æœ‰ç±»éƒ½æ˜¯ç±»å‹&lt;/a&gt;)ã€‚è€Œç±»å‹åœ¨CPythonè™šæ‹Ÿæœºå†…éƒ¨æ˜¯é€šè¿‡ &lt;code&gt;PyTypeObject&lt;/code&gt; å¯¹è±¡æ¥è¡¨ç¤ºçš„[2]ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;type_call&lt;/code&gt; é¦–å…ˆè°ƒç”¨ç»™å®šç±»å‹çš„ &lt;code&gt;tp_new&lt;/code&gt; å±æ€§ã€‚ç„¶åï¼Œæ£€æµ‹ä¸€ä¸ªç‰¹æ®Šçš„æƒ…å†µ(ä¸ºç®€å•èµ·è§å¯å¿½è§†å…ˆ)ä»¥ç¡®ä¿ &lt;code&gt;tp_new&lt;/code&gt; è¿”å›çš„æ˜¯é¢„æœŸç±»å‹çš„å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ &lt;code&gt;tp_init&lt;/code&gt; ã€‚å¦‚æœè¿”å›çš„æ˜¯ä¸€ä¸ªä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œåˆ™ä¸å°†å…¶åˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;ä»Pythonä»£ç æ¥çœ‹ï¼Œå°±æ˜¯å‘ç”Ÿäº†è¿™äº›äº‹æƒ…ï¼šå¦‚æœä½ çš„ç±»ä¸­å®šä¹‰äº†ç‰¹æ®Šæ–¹æ³• &lt;code&gt;__new__&lt;/code&gt; ï¼Œå½“åˆ›å»ºç±»çš„ä¸€ä¸ªæ–°å®ä¾‹æ—¶ï¼Œé¦–å…ˆè°ƒç”¨è¿™ä¸ªç‰¹æ®Šæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å¿…é¡»è¿”å›æŸä¸ªå¯¹è±¡ã€‚é€šå¸¸ï¼Œè¿”å›çš„å³æ˜¯é¢„æœŸç±»å‹çš„å¯¹è±¡ï¼Œä½†æ˜¯å¹¶éå¿…é¡»å¦‚æ­¤ã€‚æ‰€éœ€ç±»å‹çš„å¯¹è±¡å¯¹å…¶è‡ªèº«è°ƒç”¨ &lt;code&gt;__init__&lt;/code&gt; ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Joe&lt;/span&gt;:
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __new__(cls, *args, **kwargs):
        obj = super(Joe, cls).__new__(cls)
        print (&lt;span style="color: #a31515"&gt;&amp;#39;__new__ called. got new obj id=0x%x&amp;#39;&lt;/span&gt; % id(obj))
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; obj

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __init__(self, arg):
        print (&lt;span style="color: #a31515"&gt;&amp;#39;__init__ called (self=0x%x) with arg=%s&amp;#39;&lt;/span&gt; % (id(self), arg))
        self.arg=arg

j = Joe(12)
print(type(j))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;__new__ called. got new obj id=0x7f88e7218290
__init__ called (self=0x7f88e7218290) with arg=12
&amp;lt;class &amp;#39;__main__.Joe&amp;#39;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;è‡ªå®šä¹‰è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;å¦‚ä¸Šæ‰€ç¤ºï¼ŒJoeçš„ç±»å‹ä¸º &lt;code&gt;type&lt;/code&gt; ï¼Œæ‰€ä»¥è°ƒç”¨å‡½æ•° &lt;code&gt;type_call&lt;/code&gt; å®šä¹‰Joeå®ä¾‹çš„åˆ›å»ºè¿‡ç¨‹ã€‚å¯ä»¥é€šè¿‡ä¸ºJoeæŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰çš„ç±»å‹æ¥æ”¹å˜è¿™ä¸ªè¿‡ç¨‹---æ¢å¥è¯æ¥è¯´ï¼Œè¿™ç§è‡ªå®šä¹‰çš„ç±»å‹å°±æ˜¯ä¸€ä¸ªmetaclassã€‚è®©æˆ‘ä»¬ä¿®æ”¹å‰é¢çš„ç¤ºä¾‹æ¥ä¸ºJoeæŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰çš„metaclassï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;MetaJoe&lt;/span&gt;(type):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __call__(cls, *args, **kwargs):
        print(&lt;span style="color: #a31515"&gt;&amp;#39;MetaJoe.__call__&amp;#39;&lt;/span&gt;)
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;None&lt;/span&gt;

&lt;span style="color: #0000ff"&gt;class&lt;/span&gt; &lt;span style="color: #2b91af"&gt;Joe&lt;/span&gt;(metaclass=MetaJoe):
    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __new__(cls, *args, **kwargs):
        obj = super(Joe, cls).__new__(cls)
        print(&lt;span style="color: #a31515"&gt;&amp;#39;__new__ called. got new obj id=0x%x&amp;#39;&lt;/span&gt; % id(obj))
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; obj

    &lt;span style="color: #0000ff"&gt;def&lt;/span&gt; __init__(self, arg):
        print(&lt;span style="color: #a31515"&gt;&amp;#39;__init__ called (self=0x%x) with arg=%s&amp;#39;&lt;/span&gt; % (id(self), arg))
        self.arg = arg

j = Joe(12)
print(type(j))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç°åœ¨Joeçš„ç±»å‹ä¸æ˜¯ &lt;code&gt;type&lt;/code&gt; ï¼Œè€Œæ˜¯ &lt;code&gt;MetaJoe&lt;/code&gt; ã€‚å› æ­¤ï¼Œå½“ &lt;code&gt;PyObject_Call&lt;/code&gt; ä¸º &lt;code&gt;j = Joe(12)&lt;/code&gt; é€‰æ‹©è¦æ‰§è¡Œçš„è°ƒç”¨å‡½æ•°ï¼Œå®ƒé€‰æ‹©çš„æ˜¯ &lt;code&gt;MetaJoe.__call__&lt;/code&gt; ã€‚åè€…å…ˆæ‰“å°ä¸€æ¡å…³äºè‡ªå·±çš„æç¤ºï¼Œç„¶åè¿”å›Noneï¼Œæ‰€ä»¥æˆ‘ä»¬æ ¹æœ¬ä¸è¦æœŸæœ›è°ƒç”¨Joeçš„æ–¹æ³• &lt;code&gt;__new__&lt;/code&gt; å’Œ &lt;code&gt;__init__&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;äº‹å®ä¸Šï¼Œè¾“å‡ºæ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;MetaJoe.__call__
&amp;lt;class &amp;#39;NoneType&amp;#39;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;æ›´æ·±çš„æŒ–æ˜ - tp_new&lt;/h2&gt;
&lt;p&gt;å¾ˆå¥½ï¼Œç°åœ¨æˆ‘ä»¬å¯¹äºå¯¹è±¡åˆ›å»ºè¿‡ç¨‹æœ‰äº†ä¸€ä¸ªæ›´å¥½çš„ç†è§£ï¼Œä½†æ˜¯è¿™ä¸€é—®é¢˜çš„ä¸€ä¸ªå…³é”®éƒ¨åˆ†è¿˜æ²¡æœ‰å¾—åˆ°è§£é‡Šã€‚è™½ç„¶æˆ‘ä»¬å‡ ä¹æ€»ä¼šä¸ºç±»å®šä¹‰æ–¹æ³• &lt;code&gt;__init__&lt;/code&gt; ï¼Œä½†å´å¾ˆå°‘å®šä¹‰ &lt;code&gt;__new__&lt;/code&gt; [3]ã€‚æ­¤å¤–ï¼Œå¿«é€Ÿæµè§ˆä¸€ä¸‹ä»£ç å°±èƒ½æ˜æ˜¾åœ°å‘ç°ä»æŸç§ç¨‹åº¦ä¸Š &lt;code&gt;__new__&lt;/code&gt; æ›´ä¸ºé‡è¦ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯è¢«ç”¨æ¥åˆ›å»ºå¯¹è±¡çš„ã€‚æ¯ä¸ªå®ä¾‹ä»…è°ƒç”¨å®ƒä¸€æ¬¡ã€‚å¦ä¸€æ–¹é¢ï¼Œè°ƒç”¨ &lt;code&gt;__init__&lt;/code&gt; æ—¶å·²ç»å¾—åˆ°äº†ä¸€ä¸ªæ„é€ å¥½çš„å¯¹è±¡ï¼Œä¸” &lt;code&gt;__init__&lt;/code&gt; å¯èƒ½æ ¹æœ¬ä¸ä¼šè¢«è°ƒç”¨ï¼›è€Œä¸”å®ƒä¹Ÿå¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œä¼ é€’ç»™ &lt;code&gt;type_call&lt;/code&gt; çš„å‚æ•°typeæ˜¯Joeï¼Œè€ŒJoeå¹¶æ²¡æœ‰è‡ªå®šä¹‰çš„ &lt;code&gt;__new__&lt;/code&gt; æ–¹æ³•ï¼Œé‚£ä¹ˆ &lt;code&gt;type-&amp;gt;tp_new&lt;/code&gt; çš„å·¥ä½œå°†äº¤äºˆåŸºæœ¬ç±»å‹(the base type)çš„ç»“æ„æˆå‘˜(slot) &lt;code&gt;tp_new&lt;/code&gt; ã€‚Joe(&lt;a href="http://eli.thegreenplace.net/2012/04/03/the-fundamental-types-of-python-a-diagram/"&gt;ä»¥åŠæ‰€æœ‰å…¶ä»–çš„Pythonå¯¹è±¡&lt;/a&gt; ï¼Œé™¤äº†objectè‡ªå·±)çš„åŸºæœ¬ç±»å‹æ˜¯objectã€‚CPythonå†…éƒ¨æ˜¯é€šè¿‡Objects/typeobject.cä¸­çš„object_newå‡½æ•°æ¥å®ç°object.tp_newç»“æ„æˆå‘˜çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;object_new&lt;/code&gt; å®é™…ä¸Šéå¸¸ç®€å•ï¼šå…ˆæ£€æŸ¥æŸäº›å‚æ•°ï¼Œæ ¸å®æ­£å°è¯•å®ä¾‹åŒ–çš„ç±»å‹ä¸æ˜¯&lt;a href="http://docs.python.org/dev/library/abc.html"&gt;æŠ½è±¡&lt;/a&gt;çš„ï¼Œç„¶åï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #0000ff"&gt;return&lt;/span&gt; type-&amp;gt;tp_alloc(type, 0)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;tp_alloc&lt;/code&gt; æ˜¯CPythonå†…éƒ¨ç±»å‹å¯¹è±¡çš„ä¸€ä¸ªä½å±‚æ¬¡ç»“æ„æˆå‘˜ï¼Œä¸å¯ä»¥åœ¨Pythonä»£ç ä¸­ç›´æ¥è®¿é—®å®ƒï¼Œä½†æ˜¯Cæ‰©å±•å¼€å‘äººå‘˜åº”è¯¥å¯¹å®ƒæ¯”è¾ƒç†Ÿæ‚‰ã€‚Cæ‰©å±•ç¨‹åºä¸­çš„è‡ªå®šä¹‰ç±»å‹(custom type)å¯èƒ½ä¼šé‡è½½è¿™ä¸ªç»“æ„æˆå‘˜ä»è€Œä¸ºè‡ªå·±çš„å®ä¾‹æä¾›ä¸€ä¸ªè‡ªå®šä¹‰çš„å†…å­˜åˆ†é…æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°çš„Cæ‰©å±•ç±»å‹ä¼šå°†å…¶å®ä¾‹çš„å†…å­˜åˆ†é…å·¥ä½œäº¤äºˆ &lt;code&gt;PyType_GenericAlloc&lt;/code&gt; å‡½æ•°å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå‡½æ•°æ˜¯CPythonçš„å…¬å…±C APIçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ°å¥½å°†å®ƒèµ‹å€¼ç»™äº†objectçš„ç»“æ„æˆå‘˜ &lt;code&gt;tp_alloc&lt;/code&gt; (åœ¨Objects/typeobject.cä¸­å®šä¹‰)ã€‚å®ƒå…ˆç®—å‡ºæ–°å¯¹è±¡éœ€è¦å¤šå°‘å†…å­˜ç©ºé—´[4]ï¼Œä»CPythonçš„å†…å­˜åˆ†é…å™¨ä¸­åˆ†é…ä¸€ä¸ªå†…å­˜å—ï¼Œå°†åˆ†é…å¾—çš„æ‰€æœ‰å†…å­˜å•å…ƒéƒ½åˆå§‹åŒ–ä¸º0ï¼Œç„¶åä»…åˆå§‹åŒ–åŸºæœ¬çš„PyObjectåŸŸ(ç±»å‹ä¸å¼•ç”¨è®¡æ•°)ï¼Œåšäº›åƒåœ¾æ”¶é›†ç°¿è®°(GC bookkeeping)çš„å·¥ä½œå¹¶è¿”å›ã€‚å…¶ç»“æœæ˜¯ä¸€ä¸ªåˆšåˆ†é…çš„å®ä¾‹ã€‚&lt;/p&gt;
&lt;h2&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†é¿å…åªè§æ ‘æœ¨ä¸è§æ£®æ—ï¼Œè®©æˆ‘ä»¬ä¸€èµ·å›é¡¾ä¸€ä¸‹æ–‡ç« å¼€å§‹çš„é‚£ä¸ªé—®é¢˜ã€‚å½“CPythonæ‰§è¡Œj = Joe()æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;gt;&amp;gt; ç”±äºJoeæ²¡æœ‰æ˜ç¡®çš„metaclassï¼Œtypeå°±æ˜¯å®ƒçš„ç±»å‹ï¼Œå› æ­¤è°ƒç”¨typeçš„tp_callæ¥å£ï¼Œå³æ˜¯ï¼Œtype_callã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;gt;&amp;gt; ç”±äºJoeæ²¡æœ‰æ˜ç¡®çš„åŸºç±»(base class)ï¼Œå®ƒçš„åŸºç±»(base)å°±æ˜¯object(è¯‘æ³¨:æ„æ€å°±æ˜¯Joeç»§æ‰¿è‡ªobject)ï¼Œå› æ­¤ï¼Œè°ƒç”¨object_newã€‚&lt;br /&gt;
&amp;gt;&amp;gt; ç”±äºJoeæ˜¯ä¸€ä¸ªPythonä»£ç å®šä¹‰çš„ç±»ï¼Œå®ƒæ²¡æœ‰è‡ªå®šä¹‰çš„tp_allocæ¥å£ã€‚å› æ­¤ï¼Œobject_newè°ƒç”¨PyType_GenericAllocã€‚&lt;br /&gt;
&amp;gt;&amp;gt; PyType_GenericAllocåˆ†é…å¹¶åˆå§‹åŒ–ä¸€å—è¶³å¤Ÿå¤§çš„å†…å­˜ç©ºé—´ç”¨æ¥å­˜å‚¨Joeã€‚
&amp;gt;&amp;gt; ç„¶åtype_callç»§ç»­æ‰§è¡Œå¹¶åœ¨åˆšåˆ›å»ºå¯¹è±¡ä¸Šè°ƒç”¨Joe.&lt;strong&gt;init&lt;/strong&gt;ã€‚
&amp;gt;&amp;gt; ç”±äºJoeæ²¡æœ‰å®šä¹‰__init__ï¼Œæ‰€ä»¥è°ƒç”¨å®ƒçš„åŸºç±»çš„__init__ï¼Œå³object_initã€‚&lt;br /&gt;
&amp;gt;&amp;gt; object_initå•¥äº‹éƒ½æ²¡å¹²ã€‚
&amp;gt;&amp;gt; ä»type_callè¿”å›æ–°çš„å¯¹è±¡å¹¶å°†å…¶ç»‘å®šåˆ°åå­—jã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚ä¸Šï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ªç±»çš„å¯¹è±¡çš„ä¹å‘³çš„æµç¨‹ï¼Œè¿™ä¸ªç±»æ²¡æœ‰è‡ªå®šä¹‰çš„metaclassï¼Œæ²¡æœ‰æ˜ç¡®çš„åŸºç±»ï¼Œä¹Ÿæ²¡æœ‰å®šä¹‰å®ƒè‡ªå·±çš„__new__å’Œ__init__æ–¹æ³•ã€‚ç„¶è€Œï¼Œæœ¬æ–‡åº”è¯¥å·²ç»è§£é‡Šæ¸…æ¥šäº†å¦‚ä½•æ’å…¥è‡ªå®šä¹‰åŠŸèƒ½ä»è€Œæ”¹å˜å¯¹è±¡åˆ›å»ºè¿‡ç¨‹ã€‚æ­£å¦‚ä½ æ‰€è§çš„ï¼ŒPythonçµæ´»å¾—ä»¤äººæƒŠè®¶ï¼Œå‡ ä¹å¯ä»¥è‡ªå®šä¹‰ä¸Šè¿°è¿‡ç¨‹çš„æ¯ä¸ªæ­¥éª¤ï¼Œç”šè‡³å¯¹äºPythonä»£ç å®ç°çš„ç”¨æˆ·å®šä¹‰çš„ç±»å‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚Cæ‰©å±•ä¸­å®ç°çš„ç±»å‹å¯ä»¥è¿›è¡Œæ›´å¤šçš„è‡ªå®šä¹‰ï¼Œæ¯”å¦‚ï¼šç”¨äºåˆ›å»ºç±»å‹å®ä¾‹çš„ç¡®åˆ‡çš„å†…å­˜åˆ†é…ç­–ç•¥ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;[1] typeçš„PyTypeObjectç»“æ„å®šä¹‰å³ä¸ºObjects/typeobject.cä¸­çš„PyType_Typeã€‚ä½ å¯ä»¥çœ‹åˆ°type_callè¢«èµ‹å€¼ç»™äº†å®ƒçš„ç»“æ„æˆå‘˜tp_callã€‚&lt;/p&gt;
&lt;p&gt;[2] ä»¥åçš„æ–‡ç« ä¼šè§£è¯´:å½“åˆ›å»ºä¸€ä¸ªæ–°ç±»æ—¶è¿™æ˜¯æ€ä¹ˆå®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;[3] ç”šè‡³å½“åœ¨ç±»ä¸­æ˜ç¡®åœ°é‡è½½äº†__new__ï¼Œæˆ‘ä»¬ä¹Ÿå‡ ä¹å¯ä»¥è‚¯å®šå®é™…çš„å¯¹è±¡åˆ›å»ºè¢«æ¨è¿Ÿåˆ°åŸºç±»çš„__new__ã€‚&lt;/p&gt;
&lt;p&gt;[4] ä»»ä½•ç±»å‹çš„PyObjectå¤´éƒ¨éƒ½æœ‰è¿™ä¸ªä¿¡æ¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;è¯‘æ³¨:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;sequenceç›´è¯‘æˆ"åºåˆ—ï¼Œé¡ºåº"ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸å®¹æ˜“ç†è§£æ–‡ç« çš„æ„æ€ï¼Œæ‰€ä»¥ç¿»è¯‘æˆ" &lt;strong&gt;è¿‡ç¨‹&lt;/strong&gt; "æ›´åˆé€‚ä¸€äº›ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CPythonä¸­ç”¨Cè¯­è¨€çš„ç»“æ„(struct)æ¥å®šä¹‰å¯¹è±¡(ç±»å‹ä¹Ÿæ˜¯å¯¹è±¡)ï¼Œä¸€ä¸ªå¯¹è±¡æ‰€å…·æœ‰çš„æ–¹æ³•æˆ–è€…å±æ€§éƒ½æ˜¯ç»“æ„çš„æˆå‘˜ï¼Œæ‰€ä»¥æŠŠslotç¿»è¯‘æˆ" &lt;strong&gt;ç»“æ„æˆå‘˜&lt;/strong&gt; "åº”è¯¥æ¯”è¾ƒåˆé€‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category><category term="ç¿»è¯‘"></category></entry><entry><title>å…³äºæŒ‡é’ˆçš„ä¸€é“ç¬”è¯•é¢˜</title><link href="http://youngsterxyf.github.io/2012/04/20/an-exercise-about-pointer/" rel="alternate"></link><published>2012-04-20T00:00:00+08:00</published><updated>2012-04-20T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-04-20:/2012/04/20/an-exercise-about-pointer/</id><summary type="html">&lt;p&gt;åŒå­¦æ‰¾å®ä¹ ï¼Œé‡åˆ°è¿™æ ·ä¸€é“ç¬”è¯•é¢˜:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; *a[2][3];
&lt;span style="color: #0000ff"&gt;sizeof&lt;/span&gt;(a) = ?
&lt;span style="color: #0000ff"&gt;sizeof&lt;/span&gt;(*a) = ?
&lt;span style="color: #0000ff"&gt;sizeof&lt;/span&gt;(**a) = ?
&lt;span style="color: #0000ff"&gt;sizeof&lt;/span&gt;(***a) = ?
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™é¢˜è¿˜æ˜¯æœ‰ç‚¹å°æ„æ€çš„ã€‚é‡åˆ°è¿™ç§é¢˜ï¼Œè„‘å­ä¸€å®šè¦æ¸…æ¥šï¼Œæ³¨æ„ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åŒå­¦æ‰¾å®ä¹ ï¼Œé‡åˆ°è¿™æ ·ä¸€é“ç¬”è¯•é¢˜:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span style="color: #2b91af"&gt;int&lt;/span&gt; *a[2][3];
&lt;span style="color: #0000ff"&gt;sizeof&lt;/span&gt;(a) = ?
&lt;span style="color: #0000ff"&gt;sizeof&lt;/span&gt;(*a) = ?
&lt;span style="color: #0000ff"&gt;sizeof&lt;/span&gt;(**a) = ?
&lt;span style="color: #0000ff"&gt;sizeof&lt;/span&gt;(***a) = ?
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™é¢˜è¿˜æ˜¯æœ‰ç‚¹å°æ„æ€çš„ã€‚é‡åˆ°è¿™ç§é¢˜ï¼Œè„‘å­ä¸€å®šè¦æ¸…æ¥šï¼Œæ³¨æ„åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºint *a[2][3]åº”è¯¥è¿™ä¹ˆç†è§£ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;aæ˜¯ä¸ªæ•°ç»„ï¼Œæœ‰ä¸¤ä¸ªå…ƒç´ ï¼›å…ƒç´ ä¹Ÿæ˜¯æ•°ç»„ï¼Œå…¶æœ‰3ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯æŒ‡å‘intç±»å‹çš„æŒ‡é’ˆã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŒ‡é’ˆçš„é•¿åº¦å›ºå®šä¸º4ä¸ªå­—èŠ‚ï¼ŒCè¯­è¨€çš„intç±»å‹ä¹Ÿæ˜¯4ä¸ªå­—èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ä¸€åˆ†æï¼Œè¿™é¢˜å°±ç®€å•äº†ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sizeof(a)æ„æ€æ˜¯æ±‚aæ•°ç»„çš„é•¿åº¦ï¼Œæ•°ç»„çš„é•¿åº¦=æ•°ç»„å…ƒç´ çš„ä¸ªæ•°*å…ƒç´ çš„é•¿åº¦ï¼Œæ‰€ä»¥sizeof(a) = 2 * 3 * 4 = 24ä¸ªå­—èŠ‚
sizeof(*a)ä¸­çš„*aæ˜¯æŒ‡açš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥sizeof(*a)å°±æ˜¯æ±‚aæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„é•¿åº¦ï¼Œå³sizeof(*a) = 3 * 4 = 12ä¸ªå­—èŠ‚
sizeof(**a)åˆ™æ˜¯æ±‚açš„ç¬¬ä¸€ä¸ªå…ƒç´ (ä¹Ÿæ˜¯æ•°ç»„)çš„ç¬¬ä¸€ä¸ªå…ƒç´ (æ˜¯æŒ‡å‘intç±»å‹çš„æŒ‡é’ˆ)çš„é•¿åº¦ï¼Œæ‰€ä»¥sizeof(**a) = 4ä¸ªå­—èŠ‚(å³ä¸ºä¸€ä¸ªæŒ‡é’ˆçš„é•¿åº¦)
sizeof(***a)ï¼Œå› ä¸º**aæ˜¯ä¸€ä¸ªæŒ‡é’ˆç±»å‹ï¼Œé‚£ä¹ˆ***aå³ä¸º*(**a)ï¼Œé‚£ä¸ºæŒ‡é’ˆæŒ‡å‘çš„å€¼ï¼Œè¿™é‡Œä¸ºintç±»å‹ï¼Œæ‰€ä»¥sizeof(***a) = 4ä¸ªå­—èŠ‚(intç±»å‹çš„é•¿åº¦)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="ç¬”è¯•"></category><category term="C/C++"></category></entry><entry><title>å­¦ä¹ çš„"é“"ä¸"æœ¯"</title><link href="http://youngsterxyf.github.io/2012/03/31/dao-and-shu-about-learning/" rel="alternate"></link><published>2012-03-31T00:00:00+08:00</published><updated>2012-03-31T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-03-31:/2012/03/31/dao-and-shu-about-learning/</id><summary type="html">&lt;p&gt;è¯»ç ”ä»¥æ¥ï¼Œä¸€ç›´è§‰å¾—è‡ªå·±çš„å­¦ä¹ æ–¹æ³•ä¸å¤Ÿé«˜æ•ˆã€‚è¯•å›¾å°†è¦å­¦ä¹ çš„ä¸œè¥¿è¿›è¡Œåˆ†ç±»ï¼Œç„¶åä»¥ä¸åŒçš„æ–¹æ³•å­¦ä¹ ä¹‹ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•åˆ†ç±» â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;è¯»ç ”ä»¥æ¥ï¼Œä¸€ç›´è§‰å¾—è‡ªå·±çš„å­¦ä¹ æ–¹æ³•ä¸å¤Ÿé«˜æ•ˆã€‚è¯•å›¾å°†è¦å­¦ä¹ çš„ä¸œè¥¿è¿›è¡Œåˆ†ç±»ï¼Œç„¶åä»¥ä¸åŒçš„æ–¹æ³•å­¦ä¹ ä¹‹ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•åˆ†ç±»å‘¢ï¼Ÿæˆ‘è§‰å¾—ä»¥"é“"ä¸"æœ¯"åŒºåˆ†ä¹‹æ¯”è¾ƒåˆé€‚ã€‚&lt;/p&gt;
&lt;p&gt;ä½•ä¸º"é“ "ï¼Ÿæ±‰è¯­è¾å…¸ä¸­æœ‰ä¸¤æ¡è§£é‡Šï¼š&lt;strong&gt;1.æŒ‡æ³•åˆ™ã€è§„å¾‹ï¼›2.å­¦æœ¯æˆ–å®—æ•™çš„æ€æƒ³ä½“ç³»&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½•ä¸º"æœ¯"ï¼Ÿï¼š&lt;strong&gt;æŠ€è‰º&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å­—é¢ç†è§£ï¼Œâ€œæœ¯â€æ›´ä¸ºå…·ä½“ï¼Œæ˜¯å®Œæˆä¸€ä»¶äº‹æƒ…çš„å…·ä½“è¿‡ç¨‹ã€‚è€Œâ€œé“â€è€…åˆ™æ˜¯æŒ‡å¯¼å®è·µçš„æ€æƒ³ï¼Œæ˜¯èƒ½å¤Ÿä¸¾ä¸€åä¸‰çš„äº‹ç‰©è§„å¾‹ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ˜¯å¦â€œé“â€æ¯”â€œæœ¯â€æ›´é‡è¦å‘¢ï¼Ÿæˆ‘æƒ³æœªå¿…ã€‚ä»»ä½•ç†è®ºï¼Œä»»ä½•â€œé“â€éƒ½æœ€ç»ˆæ¥æºäºâ€œæœ¯â€çš„å®è·µè¿‡ç¨‹ï¼Œä¹Ÿæœ€ç»ˆéœ€è¦åœ¨â€œæœ¯â€ä¸Šå¾—åˆ°å®æ–½ï¼Œæ‰èƒ½ä½“ç°å…¶ä»·å€¼ã€‚â€œé“â€ä¸â€œæœ¯â€ä¸¤è€…ç›¸è¾…ç›¸æˆã€‚é‚£ä¹ˆåœ¨æˆ‘ä»¬å­¦ä¹ ä¸€é—¨å­¦é—®çš„è¿‡ç¨‹ä¸­ï¼Œå°±å­˜åœ¨ä¸€ä¸ªâ€œé“â€ä¸â€œæœ¯â€ä½•è€…ä¸ºå…ˆçš„é—®é¢˜ï¼Œå³ä»â€œé“â€è¿˜æ˜¯â€œæœ¯â€å…¥æ‰‹å­¦ä¹ ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å­Ÿå²©è¯´è¿‡è¿™ä¹ˆä¸€æ®µè¯ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä¸»å¼ ,åœ¨å…·å¤‡åŸºç¡€ä¹‹å,å­¦ä¹ ä»»ä½•æ–°ä¸œè¥¿,éƒ½è¦æŠ“ä½ä¸»çº¿,çªå‡ºé‡ç‚¹ã€‚å¯¹äºå…³é”®ç†è®ºçš„å­¦ä¹ ,è¦é›†ä¸­ç²¾åŠ›,é€Ÿæˆ˜é€Ÿå†³ã€‚è€Œæ—ææœ«èŠ‚å’Œéæœ¬è´¨æ€§çš„çŸ¥è¯†å†…å®¹,å®Œå…¨å¯ä»¥ç•™ç»™å®è·µå»é›¶æ•²ç¢æ‰“ã€‚
åŸå› æ˜¯è¿™æ ·çš„,ä»»ä½•ä¸€ä¸ªé«˜çº§çš„çŸ¥è¯†å†…å®¹,å…¶ä¸­éƒ½åªæœ‰ä¸€å°éƒ¨åˆ†æ˜¯æœ‰æ€æƒ³åˆ›æ–°ã€æœ‰é‡å¤§å½±å“çš„,è€Œå…¶å®ƒå¾ˆå¤šä¸œè¥¿éƒ½æ˜¯çç¢çš„ã€éæœ¬è´¨çš„ã€‚å› æ­¤,é›†ä¸­å­¦ä¹ æ—¶å¿…é¡»æŠŠæ¡ä½çœŸæ­£é‡è¦é‚£éƒ¨åˆ†,æŠŠå…¶å®ƒä¸œè¥¿ç•™ç»™å®è·µã€‚å¯¹äºé‡ç‚¹çŸ¥è¯†,åªæœ‰é›†ä¸­å­¦ä¹ å…¶ç†è®º,æ‰èƒ½ç¡®ä¿ä½“ç³»æ€§ã€è¿è´¯æ€§ã€æ­£ç¡®æ€§,è€Œå¯¹äºé‚£äº›æ—ææœ«èŠ‚,åªæœ‰è¾¹å¹²è¾¹å­¦èƒ½å¤Ÿè®©ä½ äº†è§£å®ƒä»¬çš„çœŸå®ä»·å€¼æ˜¯å¤§æ˜¯å°,æ‰èƒ½è®©ä½ ç•™ä¸‹æ›´ç”ŸåŠ¨çš„å°è±¡ã€‚å¦‚æœä½ æŠŠç²¾åŠ›ç”¨é”™äº†åœ°æ–¹,æ¯”å¦‚ç”¨é›†ä¸­å¤§å—çš„æ—¶é—´æ¥å­¦ä¹ é‚£äº›æœ¬æ¥åªéœ€è¦æŸ¥æŸ¥æ‰‹å†Œå°±å¯ä»¥æ˜ç™½çš„å°æŠ€å·§,è€Œå¯¹äºçœŸæ­£é‡è¦çš„ã€æ€æƒ³æ€§ä¸œè¥¿æ”¾åœ¨å¹³æ—¶é›¶æ•²ç¢æ‰“,é‚£ä¹ˆè‚¯å®šæ˜¯äº‹å€åŠŸåŠ,ç”šè‡³é€‚å¾—å…¶åã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è™½ç„¶è¿™æ®µè¯å¹¶æ²¡æœ‰æ˜ç¡®åŒºåˆ†å­¦ä¹ çš„â€œé“â€ä¸â€œæœ¯â€ï¼Œä»¥åŠä½•è€…ä¸ºå…ˆçš„é—®é¢˜ã€‚ä½†å´å¤§è‡´è¯´æ˜äº†ä½•ä¸ºæ­£ç¡®çš„å­¦ä¹ æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä»â€œé“â€ä¸â€œæœ¯â€çš„è§’åº¦æ¥ç†è§£ï¼Œé‚£å…³é”®çš„ï¼Œæ ¸å¿ƒçš„ï¼Œåˆ›æ–°çš„éƒ¨åˆ†å³ä¸ºâ€œé“â€ï¼Œâ€œå¤§é“â€ã€‚è€Œé‚£ç»†èŠ‚çš„åˆ™æ˜¯â€œæœ¯â€çš„éƒ¨åˆ†ï¼Œæ˜¯éœ€è¦é•¿æ—¶é—´çš„å®è·µçš„ï¼Œä¹Ÿè®¸åªæœ‰åœ¨å®è·µä¸­é‡åˆ°çš„ç»†èŠ‚æ‰æ˜¯æœ‰æ„ä¹‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½†é‚£â€œå…·å¤‡åŸºç¡€ä¹‹åâ€çš„â€œåŸºç¡€â€æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘æƒ³åº”è¯¥æ˜¯ï¼š1.æ˜ç¡®é—®é¢˜æ˜¯ä»€ä¹ˆã€‚è¿™ä¸€ç‚¹æ˜¯å†æ€ä¹ˆå¼ºè°ƒéƒ½ä¸ä¸ºè¿‡çš„ã€‚è¦è§£å†³ä¸€ä¸ªé—®é¢˜å´æ²¡æœ‰çœŸæ­£æ˜ç¡®é—®é¢˜åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œé‚£ä½ åŠªåŠ›å¤šåŠæ˜¯ç™½è´¹çš„ã€‚2.è¿™ä¸œè¥¿æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆç”¨çš„ï¼Œæ˜¯ç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜çš„ï¼Ÿå¯¹äºå·¥ç§‘å­¦ç”Ÿæ¥è¯´ï¼Œå­¦ä¹ æ–°ä¸œè¥¿çš„æ—¶å€™ï¼Œè¿™ä¸€ç‚¹æ˜¯éœ€è¦é¦–å…ˆæ˜ç¡®çš„ï¼Œåªæœ‰æ˜ç¡®äº†â€œå¹²ä»€ä¹ˆç”¨çš„â€ï¼Œæ‰èƒ½æŠ“ä½å­¦ä¹ çš„é‡ç‚¹ï¼Œæé«˜å­¦ä¹ çš„æ•ˆç‡ã€‚3. ä¸ä»¥å‰çš„ç±»ä¼¼çš„ä¸œè¥¿ç›¸æ¯”ï¼Œå…¶åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿä¸€æ ·ä¸œè¥¿ï¼Œä¸€ç§ç†è®ºå…¶ä»·å€¼å¾€å¾€åœ¨äºå¯¹å‰äººçš„çªç ´ï¼Œè¿™çªç ´çš„åœ°æ–¹æ‰æ˜¯æˆ‘ä»¬çœŸæ­£è¦æŒæ¡çš„ã€‚åœ¨å­¦ä¹ ä¸€æ ·ä¸œè¥¿ä¹‹å‰ï¼Œä¸å¦¨å¤šé—®é—®è‡ªå·±ä¸ºä»€ä¹ˆè¦å­¦è¿™ä¸ªï¼Œè¿™ä¸œè¥¿å¯¹è‡ªå·±æœ‰å¤šå¤§çš„æå‡ï¼Ÿä¸æ–­åœ°é‡å¤å­¦ä¹ ç±»ä¼¼çš„ä¸œè¥¿ï¼Œå¤šåŠæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…·å¤‡äº†åŸºç¡€ä¹‹åï¼Œå¯¹äºå…³é”®ç†è®ºçš„å­¦ä¹ ï¼Œæ˜¯ä¸æ˜¯åªè¦æŠ±ç€ä¹¦æœ¬ï¼Œç†è®ºå¯¹ç†è®ºçš„å­¦ä¹ å°±è¡Œå‘¢ï¼Ÿæˆ‘æƒ³è¿™æ˜¯ä¸‡ä¸‡ä¸å¯çš„ã€‚ç‰¹åˆ«æ˜¯å¯¹äºç€é‡äºå®è·µæ€§çš„å­¦é—®ï¼Œæ¯”å¦‚ç¼–ç¨‹ï¼Œç†è®ºå¯¹ç†è®ºåœ°å­¦ä¹ ï¼Œåªä¼šè®©ä½ åƒåŠ›ä¸è®¨å¥½ã€‚ç»å¤§å¤šæ•°çš„åˆ›æ–°ç†è®ºï¼Œæ ¸å¿ƒç†è®ºï¼Œéƒ½ä¸æ˜¯ä¸€ä¸‹å­å°±èƒ½ç†è§£çš„ï¼Œç‰¹åˆ«æ˜¯å½“ä½ å¯¹è¿™ä¸€é¢†åŸŸçš„å­¦é—®å¹¶ä¸ç†Ÿæ‚‰çš„æƒ…å†µä¸‹ï¼Œå®ƒéœ€è¦åœ¨åå¤çš„å®è·µä¸­é€æ­¥åœ°åŠ æ·±ç†è§£ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå¯¹äºå…³é”®å†…å®¹çš„å­¦ä¹ ï¼Œæˆ‘è§‰å¾—è¿™æ ·å­¦ä¹ ä¼šæ¯”è¾ƒåˆé€‚ï¼šå…ˆå¿«é€Ÿåœ°ï¼Œåœ¨å°½å¯èƒ½çŸ­çš„æ—¶é—´å†…æŠŠå…³é”®å†…å®¹æµ‘æ²¦åæ£åœ°è¿‡ä¸€éï¼Œèƒ½ç†è§£å¤šå°‘æ˜¯å¤šå°‘ï¼Œç›®çš„æ˜¯ä¸ºäº†è·å¾—ä¸€ä¸ªç†è®ºçš„ä¸€ä¸ªBig Pictureï¼Œæ˜ç¡®ç†è®ºçš„å„ä¸ªéƒ¨åˆ†ä¹‹é—´çš„å¤§è‡´å…³ç³»ã€‚ç„¶åå¯¹äºæ¯ä¸ªéƒ¨åˆ†ï¼Œä»¥åŠéƒ¨åˆ†ä¹‹é—´çš„å…³ç³»ï¼Œé€ä¸ªåœ°é€šè¿‡å®è·µæ¥éªŒè¯ä½ çš„ç†è§£ï¼Œä½†è¿™ä¸ªå®è·µè¿‡ç¨‹å¹¶ä¸å±äºâ€œæœ¯â€ï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸ºäº†æŠ€è‰ºï¼Œè€Œåªæ˜¯ä¸ºäº†éªŒè¯è‡ªå·±å¯¹ç†è®ºçš„ç†è§£ã€‚è¿™ä¸€éªŒè¯è¿‡ç¨‹ç»“æŸä¹‹åï¼Œä½ åº”è¯¥å°±èƒ½å¤Ÿå¯¹å…³é”®ç†è®ºæœ‰ä¸ªæ•´ä½“çš„æ­£ç¡®çš„ç†è§£äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œä½ å°±æ”¾å¼€æ‰‹å»å¹²å§ï¼Œå»è§£å†³é‚£äº›ç°å®ä¸­çš„é—®é¢˜ï¼&lt;/p&gt;
&lt;p&gt;ä¹Ÿè®¸ï¼Œä½ ä¼šè¯´ï¼Œä¸ç”¨è¿™ä¹ˆå¤æ‚å§ï¼Ÿæ˜¯çš„ï¼Œå¦‚æœä½ åªæ˜¯ä¸ºäº†è§£å†³ä¸€ä¸ªå®é™…çš„é—®é¢˜ï¼Œè€Œè¿™ä¸ªé—®é¢˜ä¹Ÿå­˜åœ¨ç›¸è¿‘çš„è§£å†³æ–¹æ¡ˆï¼Œä½ ä¸æƒ³ä¹Ÿä¸éœ€è¦å¼„æ‡‚è¿™ä¸ªé—®é¢˜ï¼Œå¥½å§ï¼Œé‚£ä½ å°±ç›´æ¥å»æ‰¾è§£å†³æ–¹æ¡ˆå§ã€‚ä½†ä½ è§£å†³è¿™ä¸ªé—®é¢˜ä¹‹åï¼Œä½ å­¦åˆ°äº†ä»€ä¹ˆå‘¢ï¼Ÿå½“ä½ å†æ¬¡é‡åˆ°ä¸€ä¸ªæœ¬è´¨ä¸Šä¸€æ ·çš„é—®é¢˜çš„æ—¶å€™ï¼Œä½ è¿˜æ˜¯èƒ½å¿«é€Ÿåœ°è§£å†³ä¹ˆï¼Ÿæ²¡æœ‰çœŸæ­£å¼„æ‡‚é—®é¢˜ï¼Œæ²¡æœ‰å¼„æ‡‚é—®é¢˜èƒŒåçš„çŸ¥è¯†ï¼Œé‚£ä½ å°±å‡†å¤‡ç€ä¸ºç±»ä¼¼çš„é—®é¢˜é‡å¤åœ°å»å¯»æ‰¾è§£å†³æ–¹æ¡ˆå§ã€‚æ©ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹å‚»å“¦ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="å­¦ä¹ æ–¹æ³•"></category></entry><entry><title>Pythonå­¦ä¹ è·¯çº¿(é’ˆå¯¹å…·å¤‡ä¸€å®šç¼–ç¨‹ç»éªŒè€…)</title><link href="http://youngsterxyf.github.io/2012/02/21/the-path-of-learning-python/" rel="alternate"></link><published>2012-02-21T00:00:00+08:00</published><updated>2012-02-21T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-02-21:/2012/02/21/the-path-of-learning-python/</id><summary type="html">&lt;p&gt;ç›¸æ¯”C,C++,JAVAç­‰ç¼–ç¨‹è¯­è¨€ï¼ŒPythonæ˜¯æ˜“å­¦çš„ã€‚ä½†è¦æƒ³æ·±å…¥åœ°ç†è§£Pythonï¼Œå¹¶ç†Ÿç»ƒåœ°ç¼–å†™Pythoné£æ ¼çš„Pythonä»£ç ã€‚æˆ‘æƒ³è¿˜æ˜¯æœ‰ä¸€é•¿æ®µè·¯ç¨‹è¦èµ°çš„ã€‚ä¸‹é¢å³æ˜¯æˆ‘çš„ä¸€ç‚¹ç»éªŒæ€»ç»“ï¼Œä¸»è¦æ˜¯ â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;ç›¸æ¯”C,C++,JAVAç­‰ç¼–ç¨‹è¯­è¨€ï¼ŒPythonæ˜¯æ˜“å­¦çš„ã€‚ä½†è¦æƒ³æ·±å…¥åœ°ç†è§£Pythonï¼Œå¹¶ç†Ÿç»ƒåœ°ç¼–å†™Pythoné£æ ¼çš„Pythonä»£ç ã€‚æˆ‘æƒ³è¿˜æ˜¯æœ‰ä¸€é•¿æ®µè·¯ç¨‹è¦èµ°çš„ã€‚ä¸‹é¢å³æ˜¯æˆ‘çš„ä¸€ç‚¹ç»éªŒæ€»ç»“ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ•´ç†è‡ªå·±å­¦ä¹ çš„æ€è·¯ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;èŠ±1-2å¤©çš„æ—¶é—´é˜…è¯»ä¸€æœ¬å¥½çš„Pythonå…¥é—¨ä¹¦ç±ï¼Œå¹¶åœ¨äº²æ‰‹å®è·µä¹¦ä¸­çš„ä»£ç ã€‚æ¨èå…¥é—¨ä¹¦ç±ï¼šã€ŠA byte of Pythonã€‹(ä¸­æ–‡ç¿»è¯‘ã€Šç®€æ˜Pythonæ•™ç¨‹ã€‹)æˆ–ã€ŠPractical Programming:An Introduction to Computer Science Using Pythonã€‹(ä¸­æ–‡ç¿»è¯‘ã€ŠPythonå®è·µæ•™ç¨‹ã€‹)æˆ–è€…å…¶ä»–çš„æ¯”è¾ƒè–„çš„å…¥é—¨ä¹¦ç±ã€‚&lt;/li&gt;
&lt;li&gt;æŠ›å¼€ä¹¦ç±ï¼Œç”¨Pythonå»å†™ä¸€åˆ‡ä½ æƒ³å†™çš„ç¨‹åºã€‚è¿™æ—¶æœ€å¥½çš„å‚è€ƒæ–‡æ¡£å³ä¸ºï¼š(1).Pythonå‘½ä»¤è§£é‡Šå™¨ä¸­çš„help(),dir()è¾…åŠ©æ–¹æ³•ï¼›(2).Pythonå®˜ç½‘æ–‡æ¡£ï¼š&lt;a href="http://docs.python.org/"&gt;http://docs.python.org/&lt;/a&gt; ã€‚é‡åˆ°ä¸æ¸…æ¥šçš„åœ°æ–¹å°±ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•æŸ¥ï¼Œå†ä¸è¡Œå°±å»googleä¸€ä¸‹ã€‚&lt;/li&gt;
&lt;li&gt;ä¸¤ä¸‰ä¸ªæœˆä¹‹åï¼Œç§¯ç´¯ä¸€ç‚¹çš„ä»£ç é‡ï¼Œå†é‡æ–°æ‰¾æœ¬è®²è§£æ¯”è¾ƒè¯¦ç»†çš„ä¹¦ï¼Œé‡æ–°æ¢³ç†ä¸€ä¸‹è‡ªå·±å¯¹Pythonçš„ç†è§£ï¼Œçº æ­£è‡ªå·±å®è·µä¸­ä¸€äº›ä¸å¥½çš„æ–¹å¼ã€‚æ¨èä¹¦ç±ï¼šã€ŠBeginning Python: From Novice to Professionalã€‹(ä¸­æ–‡ç¿»è¯‘ã€ŠPythonåŸºç¡€æ•™ç¨‹ã€‹)ï¼Œã€ŠLearning Pythonã€‹(ä¸­æ–‡ç¿»è¯‘ã€ŠPythonå­¦ä¹ æ‰‹å†Œã€‹)ï¼Œã€ŠDive into Pythonã€‹ï¼Œã€ŠCore Python Programmingã€‹ç­‰ã€‚å¦å¤–ï¼Œä¹Ÿåº”è¯¥åœ¨ç¼–ç çš„è¿‡ç¨‹ä¸­é‡å¤åœ°å»æŸ¥é˜…Pythonæ ‡å‡†å‡½æ•°åº“ï¼Œæ ‡å‡†åº“é‡Œå·²æœ‰æ¨¡å—å®ç°çš„åŠŸèƒ½å°±ä¸è¦è‡ªå·±å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;ä¹‹åï¼Œæ ¹æ®å®é™…éœ€è¦ï¼Œå»äº†è§£ä½¿ç”¨ä¸€ä¸‹Pythonçš„å„ä¸ªæ–¹é¢çš„å‡½æ•°åº“(æ¯”å¦‚http://docs.python.org/modindex.htmlä¸­ç½—åˆ—å‡ºæ¥çš„ï¼Œä»¥åŠmatplotlib, numpyç­‰ç”¨äºç§‘å­¦è®¡ç®—ï¼Œå›¾å½¢å›¾åƒå¤„ç†çš„)ï¼Œç‰¹åˆ«æ˜¯è¯¸å¤šçš„Webæ¡†æ¶(django, web2py, cherrypy, tornadoç­‰)ï¼Œå¯ä»¥å…ˆä»ç®€å•çš„å¼€å§‹ã€‚å¦‚æœæ˜¯å¯¹Pythonçš„åº•å±‚å®ç°æ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆå°±è¯¥å»çœ‹çœ‹Pythonæºç ï¼Œé˜…è¯»ä¸€ä¸‹ã€ŠPythonæºç å‰–æã€‹; å¦‚æœå¯¹æ–‡æœ¬å¤„ç†æ„Ÿå…´è¶£ï¼Œå¯ä»¥é˜…è¯»ä¸€ä¸‹ã€ŠText processing in Pythonã€‹ç­‰ï¼› å¦‚æœå¯¹ç½‘ç»œæ„Ÿå…´è¶£ï¼Œå¯ä»¥é˜…è¯»ã€ŠFoundations of Python Network Programmingã€‹ï¼Œå°è¯•å®ç°ä¸€ä¸ªç®€å•çš„web server ...&lt;/li&gt;
&lt;li&gt;Pythonç›¸å…³çš„å¼€æºå‡½æ•°åº“éå¸¸éå¸¸çš„å¤šï¼Œå„ä¸ªæ–¹é¢çš„éƒ½æœ‰ï¼Œæ‰€ä»¥å­¦ä¹ è€…åº”è¯¥å°è¯•ç€å»ç”¨å®ƒä»¬ï¼Œäº†è§£å®ƒä»¬ï¼Œè€Œä¸æ˜¯å•¥éƒ½è¦è‡ªå·±æ¥å®ç°ã€‚å› ä¸ºPythonæ“…é•¿çš„å°±æ˜¯å¿«é€Ÿå¼€å‘ï¼Œè€Œä¸”ç«™åœ¨å‰äººçš„è‚©è†€ä¸Šï¼Œæˆ‘ä»¬æ‰èƒ½ç«™å¾—æ›´é«˜ï¼Œçœ‹å¾—æ›´è¿œã€‚å½“ç„¶å¦‚æœä½ æƒ³åŠ æ·±è‡ªå·±å¯¹æŸä¸ªæ–¹é¢çš„ç†è§£ï¼Œä¹Ÿå¯ä»¥å°è¯•å»å®ç°ä¸€äº›ç®€å•çš„æ¨¡å—ã€‚&lt;/li&gt;
&lt;li&gt;æ€»ä¹‹ä¸€å¥è¯ï¼šå­¦ä¹ Pythonçš„å…³é”®å°±æ˜¯ç”¨ï¼è€Œä¸”æ˜¯è¦å¤šç”¨åˆ«äººçš„ã€‚åŠ¨æ‰‹å®è·µæ‰æ˜¯ç‹é“ï¼é‚£ä¹ˆå¤šä¼˜ç§€çš„å¼€æºå‡½æ•°åº“ä¸è¦æµªè´¹äº†ï¼&lt;/li&gt;
&lt;/ol&gt;</content><category term="å…¶ä»–"></category><category term="Python"></category></entry><entry><title>Linuxå‘½ä»¤ä¹ é¢˜</title><link href="http://youngsterxyf.github.io/2012/02/15/Linux-Command-Excercise/" rel="alternate"></link><published>2012-02-15T00:00:00+08:00</published><updated>2012-02-15T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-02-15:/2012/02/15/Linux-Command-Excercise/</id><summary type="html">&lt;p&gt;For each of the outputs listed below, find one sequence of commands connected by pipes that produces the output. For each problem, turn in the command sequence that you used to generate the requested output. (Do NOT turn in the output itself.)&lt;/p&gt;
&lt;p&gt;1.
A listing of all processes that you â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;For each of the outputs listed below, find one sequence of commands connected by pipes that produces the output. For each problem, turn in the command sequence that you used to generate the requested output. (Do NOT turn in the output itself.)&lt;/p&gt;
&lt;p&gt;1.
A listing of all processes that you are currently running on the machine you are using, sorted by the command name in alphabetical order (i.e. a process running acroread should be listed before a process running bash). The output should consist only of the processes you are running, and nothing else (i.e. if you are running 6 processes, the output should only have 6 lines). &lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ps -e --sort cmd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.
he number of words in the file /usr/share/dict/words (*) which start with the letter a.&lt;/p&gt;
&lt;p&gt;* Note: On some Unix/Linux systems, the dictionary has the filename /usr/dict/words&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cat /usr/share/words | grep ^a.* | wc -l
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;3.
A "long" listing of the smallest 5 files in the /etc directory whose name contains the string ".conf", sorted by increasing file size. &lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ls -lSrp | grep [^/]$ | grep [&lt;span style="color: #a31515"&gt;\.&lt;/span&gt;]conf$ | head -n 5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category></entry><entry><title>2011å¹´ç»ˆ-å›é¡¾ä¸å±•æœ›</title><link href="http://youngsterxyf.github.io/2012/01/01/2011-summary/" rel="alternate"></link><published>2012-01-01T00:00:00+08:00</published><updated>2012-01-01T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2012-01-01:/2012/01/01/2011-summary/</id><summary type="html">&lt;p&gt;æ˜¨æ™šå®éªŒå®¤èšé¤ï¼Œå’Œå¸ˆå…„ä»¬å–é†‰äº†ï¼Œæ˜å¹´çš„è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä¹Ÿå°±å’Œä»–ä»¬ä¸€æ ·å°†è¦æ¯•ä¸šã€‚æ—¶é—´ï¼Œæ€»æ˜¯å¾€å‰çœ‹è§‰å¾—å¾ˆæ¼«é•¿ï¼Œå¯å›è¿‡å¤´å» â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;æ˜¨æ™šå®éªŒå®¤èšé¤ï¼Œå’Œå¸ˆå…„ä»¬å–é†‰äº†ï¼Œæ˜å¹´çš„è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä¹Ÿå°±å’Œä»–ä»¬ä¸€æ ·å°†è¦æ¯•ä¸šã€‚æ—¶é—´ï¼Œæ€»æ˜¯å¾€å‰çœ‹è§‰å¾—å¾ˆæ¼«é•¿ï¼Œå¯å›è¿‡å¤´å»çœ‹çœ‹ï¼Œä¸€å¹´ä¹Ÿå°±æ˜¯ç¬é—´çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;2011ï¼Œæˆ‘ä»ç ”ä¸€èµ°å‘ç ”äºŒï¼Œ2012ï¼Œæˆ‘å°†ä»ç ”äºŒèµ°å‘ç ”ä¸‰ï¼Œç»§è€Œæ¯•ä¸šï¼Œå·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;å›é¡¾è¿‡å»ä¸€å¹´ï¼Œäºæˆ‘è‡ªå·±è€Œè¨€ï¼Œè¿‡å¾—å¾ˆå¹³æ·¡ï¼Œä¹Ÿè®¸æ˜¯å¤§å­¦ä»¥æ¥æœ€å¹³æ·¡çš„ä¸€å¹´ï¼Œåªèƒ½è¯´ä¹Ÿè®¸ï¼Œå› ä¸ºå¯¹äº2011ï¼Œæˆ‘è®°ä¸å¾—å¤ªå¤šçš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¹´é‡Œï¼Œæˆ‘ï¼Œä¸€ä¸ªæŠ€æœ¯ç”·ï¼Œæ¯”ä»¥å‰æ›´å®…ï¼Œè¯ä¹Ÿç›¸å¯¹å°‘äº†å¾ˆå¤šï¼Œç›´æ¥è¡¨ç°ä¸ºQQç©ºé—´æˆ–è€…æ ¡å†…ä¸Šçš„æ–‡å­—å†™å¾—å¾ˆå°‘ã€‚å¾ˆå°‘å’Œåˆ«äººè°ˆè®ºè‡ªå·±ï¼Œå› ä¸ºæˆ‘è§‰å¾—çº ç»“äºé‚£ä¸ªâ€œå°æˆ‘â€æ˜¯ä»¶å¾ˆâ€œå°é’å¹´â€çš„äº‹æƒ…ã€‚äººä¸äººä¹‹é—´ä¸å¯é¿å…çš„éš”è†œå¯¼è‡´äº†ä¸ªäººçš„äº‹æƒ…ä¸ç®¡å¤šå¤§åœ¨åˆ«äººçœ¼é‡Œéƒ½æ˜¯å¾®ä¸è¶³é“çš„ï¼Œåœ¨åˆ«äººçš„å¿ƒé‡Œæ€ä¸èµ·åŠç‚¹æ³¢æ¾œï¼Œè¯´è¿‡äº†ä¹Ÿå°±å¿˜äº†ã€‚æ‰€ä»¥é‚£äº›å…³äºè‡ªå·±çš„ï¼Œè¿˜æ˜¯æ”¾åœ¨å¿ƒé‡Œæ¯”è¾ƒå¥½ï¼Œæ¯‹é¡»è¯´äº›æ²¡æ„ä¹‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¹´é‡Œï¼Œæˆ‘æƒ³å¾—æŒºå¤šï¼Œä½†çœŸæ­£åšäº†æˆ–è€…è¯´åšå¥½çš„å´å¾ˆå°‘ã€‚è¿™æ˜¯ä»¶ä¸¥é‡çš„äº‹æƒ…ã€‚ç‰¹åˆ«åœ¨æŠ€æœ¯ä¸Šï¼Œä¸œçœ‹è¥¿çœ‹ï¼Œä¸œå­¦è¥¿å­¦ï¼Œçœ¼ç•Œç¡®å®å¼€é˜”å¾ˆå¤šï¼Œä¹Ÿå…»æˆäº†è¾ƒä¸ºè‰¯å¥½çš„æŠ€æœ¯è¶£å‘³ã€‚ä½†ä»æŠ€æœ¯èƒ½åŠ›ä¸Šæ¥è¯´ï¼ŒçœŸä¸å¥½è¯´ï¼Œæˆ‘éƒ½ä¸çŸ¥é“è‡ªå·±æœ‰å‡ æ–¤å‡ ä¸¤ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¹´é‡Œï¼Œæœ€å¤§çš„æ”¶è·ï¼Œä¹Ÿè®¸æ˜¯å¯¹â€œå­¦ä¹ â€çš„é‡æ–°è®¤è¯†ï¼Œä»¥åŠè¯•å›¾ä»â€œå­¦çŸ¥è¯†â€å‘â€œåšäº‹æƒ…â€è½¬å˜(è¿™é‡Œçš„â€œåšäº‹æƒ…â€ç‰¹æŒ‡â€œè§£å†³å®é™…é—®é¢˜â€)ï¼Œä»¥å‰çš„è‡ªå·±å¤ªå–œæ¬¢å¤ªæ²‰è¿·äºå­¦ä¸œè¥¿ï¼Œè€Œå¿½ç•¥äº†è‡ªä¸»åœ°åšäº‹æƒ…ã€‚â€œç”Ÿæœ‰æ¶¯ï¼Œè€ŒçŸ¥æ— æ¶¯â€çš„æ— å¥ˆæ˜¯å¿…é¡»é¢å¯¹çš„ï¼Œå¯¹äºæœ‰é™çš„äººç”Ÿæ¥è¯´ï¼ŒçŸ¥è¯†å¿…é¡»å¯¹è‡ªå·±æœ‰ç”¨æ‰å€¼å¾—å­¦ï¼Œç‰¹åˆ«æ˜¯æŠ€æœ¯ç›¸å…³çš„çŸ¥è¯†ï¼Œé‚£æ€ä¹ˆçŸ¥é“å“ªäº›çŸ¥è¯†å¯¹è‡ªå·±æœ‰ç”¨å‘¢ï¼Ÿå¾—â€œè¾¹ç”¨è¾¹å­¦â€ï¼Œéœ€è¦ç”¨çš„æ—¶å€™å†å­¦ã€‚æ‰€ä»¥åº”å¤šåšäº‹æƒ…ï¼Œåº”æ‰¾å®é™…çš„é—®é¢˜ï¼Œå°è¯•å»è§£å†³ï¼Œåœ¨è§£å†³é—®é¢˜çš„è¿‡ç¨‹ä¸­å­¦ä¹ ã€‚è§£å†³å®é™…é—®é¢˜æ‰æ˜¯æ ¹æœ¬ï¼Œæ‰æ˜¯ç›®çš„ï¼Œè€Œä¸æ˜¯å­¦ä¹ ã€‚å­¦ç”Ÿæ—¶ä»£ä¹ æƒ¯äº†å­¦ï¼Œä¹ æƒ¯äº†è¾¹å­¦è¾¹ç”¨ï¼Œä½†å¯¹äºç ”ç©¶ç”Ÿï¼Œå¯¹äºä»¥åçš„å·¥ä½œæ¥è¯´ï¼Œå…‰é¡¾ç€å­¦æ˜¯æ²¡ç”¨çš„ï¼Œè€Œä¸”ä¸€å‘³çš„å­¦ä¹Ÿæ˜¯éå¸¸éš¾ä»¥æ·±å…¥çš„ï¼Œè¦å¯¹æŸä¸ªæ–¹é¢æœ‰ä¸ªæ·±å…¥çš„ç†è§£ï¼Œå¿…é¡»é€šè¿‡åšäº‹æƒ…ï¼Œå‘ç°é—®é¢˜ï¼Œè§£å†³é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€è½¬å˜è¿‡ç¨‹è®©æˆ‘éå¸¸çº ç»“ï¼Œè€Œä¸”åˆ°ç›®å‰ä¸ºæ­¢è¿˜ç®—ä¸ä¸ŠæˆåŠŸã€‚å¯èƒ½å¯¹äºå¾ˆå¤šäººæ¥è¯´ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½å¾ˆç®€å•ï¼Œä½†å¯¹äºæˆ‘æ¥è¯´ï¼Œå¥½å¥‡å¿ƒå¼ºï¼Œå–œæ¬¢å­¦ä¸œè¥¿çš„æ¥è¯´ï¼Œç¡®å®æå…¶è‰°éš¾çš„ã€‚æ¯åšä¸€ä»¶äº‹æƒ…ï¼Œéƒ½å¾ˆå¯èƒ½é™·å…¥å­¦ä¹ çš„çŠ¶æ€ï¼Œè€Œä¸ä¼šåŠæ—¶åœ°é€‚å¯è€Œæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€è¿‡ç¨‹å¸Œæœ›åœ¨2012å¹´æœ‰ä¸ªå¾ˆå¥½çš„è¿›å±•ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¹´é‡Œï¼Œæˆ‘é€æ­¥æ„è¯†åˆ°è‡ªå·±å­˜åœ¨çš„å¦ä¸€ä¸ªå¤§é—®é¢˜---ä¸å¤Ÿè‡ªä¿¡ï¼Œå…¶å¤–åœ¨è¡¨ç°ä¸ºå’Œåˆ«äººä¸€èµ·æ—¶ï¼Œæå…¶å®¹æ˜“å°†è‡ªå·±çš„è§‚ç‚¹è®©ä½äºåˆ«äººçš„è§‚ç‚¹ï¼Œå³ä½¿æˆ‘å¹¶ä¸è®¤ä¸ºè‡ªå·±çš„è§‚ç‚¹å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Œæˆ–è€…åˆ«äººçš„è§‚ç‚¹æ¯”æˆ‘çš„æ›´æ­£ç¡®ã€‚æˆ‘åªæ˜¯ä¸æƒ³å‡Œé©¾äºåˆ«äººä¹‹ä¸Šï¼Œä¸æƒ³è®©è‡ªå·±å½±å“åˆ°åˆ«äººã€‚è¿™å¬èµ·æ¥ä¼¼ä¹ä¸å…³ä¹è‡ªä¿¡ï¼Œä½†æˆ‘æƒ³æœ¬è´¨ä¸Šæ˜¯çš„ã€‚â€œä¸å¤Ÿè‡ªä¿¡â€è¿™çœ‹èµ·æ¥ä¹Ÿä¼¼ä¹ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ï¼Œä½†æˆ‘æƒ³å¯¹äºä¸€ä¸ªæˆå¹´äººï¼Œç‰¹åˆ«æ˜¯ä¸€ä¸ªç”·äººï¼Œè‡ªä¿¡æ˜¯éå¸¸é‡è¦çš„ï¼Œå¯¹äºäº‹ä¸šä¹Ÿæ˜¯ä»¶éå¸¸é‡è¦çš„äº‹æƒ…ã€‚ä»¥å‰è‡ªå·±æ´»å¾—å¤ªè°¨æ…ï¼Œä¸å–œæ¬¢åœ¨å…¬å…±åœºåˆè¡¨ç°è‡ªå·±ï¼Œè§‰å¾—æé«˜è‡ªå·±çš„å†…åœ¨ä¿®ä¸ºæ‰æ˜¯é‡è¦çš„ã€‚ä½†å…¶å®æ´»åœ¨ç¤¾ä¼šä¸­ï¼Œé€‚æ—¶é€‚å½“åœ°è¡¨ç°è‡ªå·±ï¼Œè¡¨è¾¾è‡ªå·±çš„è§‚ç‚¹ï¼ŒåšæŒè‡ªå·±çš„çœ‹æ³•æ˜¯éå¸¸é‡è¦çš„ã€‚æœ‰ä¸ªè¯å«â€œå†…åœ£å¤–ç‹â€ï¼Œä»¥åæˆ‘å¾—æ›´åŠ æ³¨é‡â€œå¤–ç‹â€ï¼Œå†…å¤–å…¼ä¿®ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¹´é‡Œï¼Œæˆ‘æ´»å¾—åˆå¾ˆéšæ€§(å’Œâ€œæ´»å¾—è°¨æ…â€çŸ›ç›¾è€Œå…±å­˜)ï¼Œä¸å¤ªæ³¨æ„è‡ªå·±çš„è¨€è¡Œï¼Œè„è¯å£å¤´ç¦…ä¹Ÿæ¯”è¾ƒå¤šï¼Œè™½ç„¶åœ¨æˆ‘çœ‹æ¥ï¼Œæˆ‘çš„è„è¯å…¨æ˜¯åœ¨è¡¨è¾¾ä¸€ç§æƒ…ç»ªï¼Œä»…æ­¤è€Œå·²ã€‚ä½†æˆ‘æƒ³åœ¨åˆ«äººæ¥çœ‹ï¼Œå…¶æ„Ÿå—ä¹Ÿè®¸å¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚æˆ‘ä»¬å¹´è½»äººè¿˜æ˜¯è¦æ³¨æ„è‡ªå·±çš„å½¢è±¡çš„ï¼Œå‘µå‘µã€‚å¦å¤–ï¼Œå°½é‡å°‘è¯„è®ºåˆ«äººï¼Œç‰¹åˆ«æ˜¯åˆ«äººçš„ç¼ºç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¹´é‡Œï¼Œæˆ‘å¾ˆæ‡’æ•£ï¼Œè‡ªå·±éƒ½æœ‰äº›çœ‹ä¸è¿‡å»äº†ï¼Œâ€œè¿™æ ·çš„æ—¥å­ï¼Œå†å¥½çš„ï¼Œæ²¡æœ‰äº†â€ï¼Œæˆ‘æƒ³ä¸æ˜¯ä»¶å¥½äº‹æƒ…ã€‚èƒ½å¤Ÿè‡ªæˆ‘å®‰æ…°ç‚¹æ˜¯è¿˜è¯»äº†ç‚¹ä¹¦ï¼Œæ•´ç†ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤¾ç§‘æ–‡è‰ºç±»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½›ç¥–åœ¨ä¸€å·çº¿&lt;/li&gt;
&lt;li&gt;ä¹¦è™«å°æœ­&lt;/li&gt;
&lt;li&gt;å¤æ‚æ€§æ€æƒ³å¯¼è®º&lt;/li&gt;
&lt;li&gt;äººç”Ÿ&lt;/li&gt;
&lt;li&gt;ç»™ç ”ç©¶ç”Ÿçš„å­¦æœ¯å»ºè®®&lt;/li&gt;
&lt;li&gt;è¾¹åŸ&lt;/li&gt;
&lt;li&gt;æœ±é••åŸºç­”è®°è€…é—®&lt;/li&gt;
&lt;li&gt;çª—é‡Œçª—å¤–&lt;/li&gt;
&lt;li&gt;è”å¤§å…«å¹´&lt;/li&gt;
&lt;li&gt;ç¬‘è°ˆå¤§å…ˆç”Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æŠ€æœ¯ç±»&lt;/strong&gt; (éƒ¨åˆ†æ˜¯æŒ‰éœ€é€‰å–ç« èŠ‚é˜…è¯»)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Shellè„šæœ¬å­¦ä¹ æŒ‡å—&lt;/li&gt;
&lt;li&gt;Linuxå†…æ ¸è®¾è®¡ä¸å®ç°&lt;/li&gt;
&lt;li&gt;é¸Ÿå“¥çš„Linuxç§æˆ¿èœ&lt;/li&gt;
&lt;li&gt;PHPå’ŒMySQL Webå¼€å‘ï¼ˆåŸä¹¦ç¬¬3ç‰ˆï¼‰&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼å¤„ç†å®è·µ&lt;/li&gt;
&lt;li&gt;Java Collections&lt;/li&gt;
&lt;li&gt;å¯çˆ±çš„Python&lt;/li&gt;
&lt;li&gt;æµªæ½®ä¹‹å·… &lt;/li&gt;
&lt;li&gt;CSS Webè®¾è®¡å¿«é€Ÿä¸Šæ‰‹&lt;/li&gt;
&lt;li&gt;ç¼–ç¨‹äººç”Ÿ&lt;/li&gt;
&lt;li&gt;Cé™·é˜±ä¸ç¼ºé™·&lt;/li&gt;
&lt;li&gt;è°ƒè¯•ä¹æ³•&lt;/li&gt;
&lt;li&gt;é»‘å®¢ä¸ç”»å®¶&lt;/li&gt;
&lt;li&gt;Python UNIX å’ŒLinux ç³»ç»Ÿç®¡ç†æŒ‡å—&lt;/li&gt;
&lt;li&gt;ç‰ˆæœ¬æ§åˆ¶ä¹‹é“&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¯”è¾ƒè€Œè¨€ï¼Œæ•°é‡ä¸Šä¸ç®—å°‘ï¼Œä¹Ÿä¸ç®—å¤šï¼Œä½†ä¸»è¦é—®é¢˜è¿˜æ˜¯è´¨é‡ä¸Šï¼Œè§‰å¾—è‡ªå·±æœ‰äº›æµ‘æ²¦åæ£ï¼Œè¯»å¾—å¤ªåŒ†å¿™ã€‚è¿™æ˜¯ä»¥åçš„é˜…è¯»éœ€è¦æ³¨æ„çš„ï¼Œå…‹åˆ¶ç„¦èºçš„å¿ƒç†ï¼Œæ…¢æ…¢é˜…è¯»æ¶ˆåŒ–ã€‚&lt;/p&gt;
&lt;p&gt;æ–°çš„ä¸€å¹´ï¼Œå…·ä½“æ¥è¯´ï¼Œæˆ‘éœ€è¦é¢å¯¹çš„å‡ ä»¶å¤§äº‹æƒ…ï¼Œå¤§è‡´åŒ…æ‹¬:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°è®ºæ–‡&lt;/li&gt;
&lt;li&gt;å®ä¹ &lt;/li&gt;
&lt;li&gt;æ¯•ä¸šè®ºæ–‡ï¼ŒåŒ…æ‹¬ç­”è¾©&lt;/li&gt;
&lt;li&gt;æ‰¾å·¥ä½œ&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2012å¹´åº•ï¼Œæˆ‘å°†è¦æ¯•ä¸šäº†(è™½ç„¶ï¼Œå½¢å¼ä¸Šæ˜¯2013å¹´æ¯•ä¸š)ï¼Œæˆ‘å°±è¦å·¥ä½œäº†ï¼Œè¿™ä¹Ÿè®¸æ˜¯å’Œé«˜è€ƒç›¸å½“çš„ä¸€ä»¶å¤§äº‹ï¼Œå¸Œæœ›è‡ªå·±èƒ½å¤Ÿä¸¾é‡è‹¥è½»ï¼Œè¸å®å‡†å¤‡ï¼Œé¡ºåˆ©åº”å¯¹ã€‚(å†å…·ä½“ç‚¹æ˜¯ä¸æ˜¯åº”è¯¥è¯´å¤šå¤šcodingï¼Œå¤šåšäº‹æƒ…ï¼å“ˆå“ˆ)&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="æ€»ç»“"></category></entry><entry><title>ã€ŠClassic Shell Scriptingã€‹ï¼šls, locate, type, find, df, du, diff, patch</title><link href="http://youngsterxyf.github.io/2011/12/23/classic-shell-scripting-ls-locate-and-so-on/" rel="alternate"></link><published>2011-12-23T00:00:00+08:00</published><updated>2011-12-23T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2011-12-23:/2011/12/23/classic-shell-scripting-ls-locate-and-so-on/</id><summary type="html">&lt;h4&gt;ä¸€.ls&lt;/h4&gt;
&lt;p&gt;è¯­æ³•&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ls [ options ] [ file(s) ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç”¨é€”&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;åˆ—å‡ºæ–‡ä»¶ç›®å½•çš„å†…å®¹
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸»è¦é€‰é¡¹&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-1 : æ•°å­—1.å¼ºåˆ¶ä¸ºå•æ è¾“å‡ºã€‚åœ¨äº¤äº’å¼æ¨¡å¼ä¸‹ï¼Œlsä¸€èˆ¬ä¼šä»¥é€‚äºå½“å‰çª—å£çš„æœ€å°å®½åº¦ï¼Œä½¿ç”¨å¤šä¸ªåˆ—
-a : æ˜¾ç¤º â€¦&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h4&gt;ä¸€.ls&lt;/h4&gt;
&lt;p&gt;è¯­æ³•&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ls [ options ] [ file(s) ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç”¨é€”&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;åˆ—å‡ºæ–‡ä»¶ç›®å½•çš„å†…å®¹
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸»è¦é€‰é¡¹&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-1 : æ•°å­—1.å¼ºåˆ¶ä¸ºå•æ è¾“å‡ºã€‚åœ¨äº¤äº’å¼æ¨¡å¼ä¸‹ï¼Œlsä¸€èˆ¬ä¼šä»¥é€‚äºå½“å‰çª—å£çš„æœ€å°å®½åº¦ï¼Œä½¿ç”¨å¤šä¸ªåˆ—
-a : æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶(æ–‡ä»¶åä»¥ç‚¹å·èµ·å§‹çš„æ–‡ä»¶)
-d : æ˜¾ç¤ºä¸ç›®å½•æœ¬èº«ç›¸å…³çš„ä¿¡æ¯ï¼Œè€Œéå®ƒä»¬åŒ…å«çš„æ–‡ä»¶çš„ä¿¡æ¯ã€‚
-F : ä½¿ç”¨ç‰¹æ®Šç»“å°¾å­—ç¬¦ï¼Œæ ‡è®°ç‰¹å®šçš„æ–‡ä»¶ç±»å‹
-g : ä»…é€‚ç”¨äºç»„ï¼šçœç•¥æ‰€æœ‰è€…åç§°(éšå«-lï¼Œå°å†™Lé€‰é¡¹)
-i : åˆ—å‡ºinodeç¼–å·
-L : ç´§æ¥ç€ç¬¦å·æ€§è¿æ¥ï¼Œåˆ—å‡ºå®ƒä»¬æŒ‡å‘çš„æ–‡ä»¶
-l : å°å†™çš„Lã€‚ä»¥å†—é•¿å½¢å¼åˆ—å‡ºï¼Œå¸¦æœ‰ç±»å‹ï¼Œæƒé™ä¿æŠ¤ï¼Œæ‰€æœ‰è€…ï¼Œç»„ï¼Œå­—èŠ‚è®¡æ•°ï¼Œæœ€åä¿®æ”¹æ—¶é—´å’Œæ–‡ä»¶å
-r : å€’ç½®é»˜è®¤çš„æ’åºé¡ºåº
-R : é€’å½’åˆ—å‡ºï¼Œä¸‹å»¶è¿›å…¥æ¯ä¸ªå­ç›®å½•
-S : æŒ‰ç…§ç”±å¤§åˆ°å°çš„æ–‡ä»¶å¤§å°è®¡æ•°æ’åºã€‚ä»…GNUç‰ˆæœ¬æ”¯æŒ
-s : ä»¥å—(ä¸ç³»ç»Ÿæœ‰å…³)ä¸ºå•ä½ï¼Œåˆ—å‡ºæ–‡ä»¶çš„å¤§å°
-t : æŒ‰ç…§æœ€åä¿®æ”¹æ—¶é—´æˆ³æ’åº
--full-time : æ˜¾ç¤ºå®Œæ•´çš„æ—¶é—´æˆ³ï¼Œä»…GNUç‰ˆæœ¬æ”¯æŒ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;äºŒ.locate&lt;/h4&gt;
&lt;p&gt;locateå°†æ–‡ä»¶ç³»ç»Ÿé‡Œçš„æ‰€æœ‰æ–‡ä»¶åå‹ç¼©æˆæ•°æ®åº“ï¼Œä»¥è¿…é€Ÿæ‰¾åˆ°åŒ¹é…ç±»Shellé€šé…å­—ç¬¦çš„æ–‡ä»¶åï¼Œä¸å¿…å®é™…æŸ¥æ‰¾æ•´ä¸ªåºå¤§çš„ç›®å½•ç»“æ„&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;locate gcc-3.3.tar
locate &lt;span style="color: #a31515"&gt;&amp;#39;*gcc-3.3*.tar*&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;ä¸‰.type&lt;/h4&gt;
&lt;p&gt;å¶å°”ä½ ä¹Ÿå¯èƒ½ä¼šæƒ³çŸ¥é“ï¼Œè°ƒç”¨ä¸€ä¸ªæ²¡æœ‰è·¯å¾„çš„å‘½ä»¤æ—¶ï¼Œå®ƒåœ¨æ–‡ä»¶ç³»ç»Ÿçš„ä½ç½®å¦‚ä½•ã€‚Bourne-Shellå®¶æ—é‡Œçš„typeå‘½ä»¤å¯ä»¥å‘Šè¯‰ä½ ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;type gcc             &lt;span style="color: #008000"&gt;#gccåœ¨å“ªï¼Ÿ&lt;/span&gt;
type type            &lt;span style="color: #008000"&gt;#typeæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¯·æ³¨æ„:typeæ˜¯Shellå†…ç½®å‘½ä»¤ï¼Œæ‰€ä»¥å®ƒè®¤å¾—åˆ«åä¸å‡½æ•°ã€‚&lt;/p&gt;
&lt;h4&gt;å››.find&lt;/h4&gt;
&lt;p&gt;å‡å®šä½ æƒ³é€‰æ‹©å¤§äºæŸä¸ªå¤§å°çš„æ–‡ä»¶ï¼Œæˆ–æ˜¯ä¸‰å¤©å‰ä¿®æ”¹è¿‡ï¼Œå±äºä½ çš„æ–‡ä»¶ï¼Œæˆ–è€…æ‹¥æœ‰ä¸‰ä¸ªæˆ–ä¸‰ä¸ªä»¥ä¸Šç›´æ¥é“¾æ¥çš„æ–‡ä»¶ï¼Œå°±ä¼šéœ€è¦UNIXå·¥å…·é›†é‡Œæœ€å¼ºåŠ›çš„findå‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;è¯­æ³•&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find [ files-or-directories ] [ options ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç”¨é€”&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;å¯»æ‰¾ä¸æŒ‡å®šåç§°æ¨¡å¼åŒ¹é…æˆ–å…·æœ‰ç»™å®šå±æ€§çš„æ–‡ä»¶
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸»è¦é€‰é¡¹&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-atime n : é€‰å®šnå¤©å‰è®¿é—®çš„æ–‡ä»¶
-ctime n : é€‰å®šnå¤©å‰æ”¹è¿‡inodeçš„æ–‡ä»¶
-follow : æ¥ç€ç¬¦å·æ€§è¿æ¥
-group g : é€‰å®šç»„gå†…çš„æ–‡ä»¶(gä¸ºç”¨æˆ·ç»„IDåç§°æˆ–æ•°å­—)
-links n : é€‰å®šæ‹¥æœ‰nä¸ªç›´æ¥é“¾æ¥çš„æ–‡ä»¶
-ls : äº§ç”Ÿç±»ä¼¼lså†—é•¿å½¢å¼çš„åˆ—è¡¨ï¼Œè€Œä¸æ˜¯åªæœ‰æ–‡ä»¶å
-mtime n : é€‰å®šnå¤©å‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶
-name &amp;#39;pattern&amp;#39; : é€‰å®šæ–‡ä»¶åä¸Shellé€šé…å­—ç¬¦æ¨¡å¼åŒ¹é…çš„æ–‡ä»¶(é€šé…å­—ç¬¦æ¨¡ä¼šä½¿ç”¨æ‹¬å·æ¡†èµ·æ¥ï¼Œå¯é¿å…Shellè§£é‡Š)
-perm mask : é€‰å®šä¸æŒ‡å®šå…«è¿›åˆ¶æƒé™æ©ç åŒ¹é…çš„æ–‡ä»¶
-prune : ä¸å‘ä¸‹é€’å½’åˆ°ç›®å½•æ ‘çŠ¶ç»“æ„é‡Œ
-size n : é€‰æ‹©å¤§å°ä¸ºnçš„æ–‡ä»¶
-type t : é€‰å®šç±»å‹tçš„æ–‡ä»¶ï¼Œç±»å‹æ˜¯å•ä¸€å­—æ¯:dä¸ºç›®å½•ï¼Œfä¸ºæ–‡ä»¶ï¼Œlä¸ºç¬¦å·æ€§è¿æ¥
-user u : é€‰å®šç”¨æˆ·uæ‹¥æœ‰çš„æ–‡ä»¶(uä¸ºç”¨æˆ·IDåç§°æˆ–ç¼–å·)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è­¦å‘Š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;findè¾“å‡ºçš„æ˜¯æœªæ’åºçš„ç»“æœ
findæä¾›é¢å¤–çš„é€‰é¡¹ï¼Œå¯å¯¹é€‰å®šçš„æ–‡ä»¶æ‰§è¡Œä»»æ„æ“ä½œã€‚ç”±äºè¿™æ˜¯ä¸€ä¸ªæ½œåœ¨çš„å±é™©ï¼Œæˆ‘ä»¬ä¸å»ºè®®ä½¿ç”¨è¿™ç±»é€‰é¡¹ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;findä¸åŒäºlsä¸Shellçš„åœ°æ–¹æ˜¯ï¼šå®ƒæ²¡æœ‰éšè—æ–‡ä»¶çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šå°±ç®—æ˜¯ç‚¹å·å¼€å¤´çš„æ–‡ä»¶åï¼Œfindè¿˜æ˜¯èƒ½æ‰¾åˆ°å®ƒã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ç‚¹ä¸åŒäºlsçš„æ˜¯ï¼šfindä¸æ’åºæ–‡ä»¶åã€‚å®ƒåªæ˜¯ä»¥å®ƒè¯»åˆ°ç›®å½•çš„é¡ºåºä¾æ¬¡æ˜¾ç¤ºï¼Œäº‹å®ä¸Šè¿™ä¸ªæ’åºåº”æ˜¯éšæœºçš„ã€‚å› æ­¤ï¼Œä½ å¯èƒ½å¾—åœ¨findå‘½ä»¤åï¼Œé€šè¿‡ç®¡é“åŠ å…¥sortæ­¥éª¤ã€‚&lt;/p&gt;
&lt;p&gt;-sizeé€‰é¡¹å¿…é¡»æ¥ä¸Šä¸€ä¸ªæ•°å­—å‚æ•°ã€‚é»˜è®¤å€¼æ˜¯ä»¥512å­—èŠ‚ä¸ºå•ä½çš„å¤§å°ï¼Œä¸è¿‡å¾ˆå¤šfindå®ä¾‹ï¼Œå…è®¸åœ¨æ•°å­—ä¹‹ååŠ ä¸Šcè¡¨ç¤ºå­—ç¬¦(å­—èŠ‚)ï¼Œæˆ–kè¡¨ç¤ºkilobyte(KB)ã€‚å¦‚æœæ•°å­—æœªå¸¦æœ‰æ­£è´Ÿå·ï¼Œåˆ™æŒ‡çš„æ˜¯å¿…é¡»ç¡®å®åŒ¹é…äºè¯¥æ–‡ä»¶å¤§å°ã€‚å¦‚æœä¸ºè´Ÿï¼Œåˆ™åªæœ‰å°äºè¯¥æ•°å­—(ç»å¯¹å€¼)çš„æ–‡ä»¶å¤§å°æ˜¯åŒ¹é…çš„ã€‚å¦åˆ™ï¼Œå¸¦æœ‰æ­£å·ï¼Œåˆ™åªæœ‰å¤§äºè¯¥å®¹é‡çš„æ–‡ä»¶æ‰åŒ¹é…ã€‚-links,-atime,-ctime,-mtimeé€‰é¡¹ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;h4&gt;äº”.df&lt;/h4&gt;
&lt;p&gt;df(disk freeï¼Œç£ç›˜å¯ç”¨ç©ºé—´)æä¾›å•è¡Œæ‘˜è¦ï¼Œä¸€è¡Œæ˜¾ç¤ºä¸€ä¸ªåŠ è½½çš„æ–‡ä»¶ç³»ç»Ÿçš„å·²ä½¿ç”¨çš„å’Œå¯ç”¨çš„ç©ºé—´ã€‚å¤§éƒ¨åˆ†ç°ä»£å®ç°éƒ½æ”¯æŒ-ké€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯å¼ºåˆ¶ä½¿ç”¨kilobyteå•ä½ï¼Œä»¥åŠ-l(å°å†™L)é€‰é¡¹ï¼Œä»…æ˜¾ç¤ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œæ’é™¤ç½‘ç»œæŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;dfçš„è¾“å‡ºæ˜¯æœªæ’åºçš„ã€‚&lt;/p&gt;
&lt;h4&gt;å…­.du&lt;/h4&gt;
&lt;p&gt;dfä¼šæ‘˜è¦æ–‡ä»¶ç³»ç»Ÿçš„å¯ç”¨ç©ºé—´ï¼Œä½†å®ƒå¹¶ä¸ä¼šå‘Šè¯‰ä½ æŸä¸ªç‰¹å®šçš„ç›®å½•æ ‘éœ€è¦å¤šå°‘ç©ºé—´ï¼Œè¿™æ˜¯du(disk usageï¼Œç£ç›˜ç”¨é‡)çš„å·¥ä½œã€‚duå°±åƒdfä¸€æ ·ï¼Œæœ‰ä¸¤ä¸ªå¸¸è§çš„é€‰é¡¹å®ç°ï¼š-k(kilobyteå•ä½)ä¸-s(æ‘˜è¦)ã€‚&lt;/p&gt;
&lt;p&gt;duä¼šé’ˆå¯¹æ¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•å‚æ•°---å¦‚æœæ— æä¾›è¿™ç±»å‚æ•°åˆ™ä¸ºå½“å‰ç›®å½•ï¼Œäº§ç”Ÿä¸€ä¸ªè¾“å‡ºè¡Œã€‚&lt;/p&gt;
&lt;h4&gt;ä¸ƒ.diff and patch&lt;/h4&gt;
&lt;p&gt;å¦‚æœä½ æƒ³çŸ¥é“ä¸¤ä¸ªç›¸ä¼¼çš„æ–‡ä»¶æœ‰ä½•ä¸åŒï¼Œå¯ä½¿ç”¨diffã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨diffçš„æƒ¯ä¾‹æ˜¯ï¼šå°†æ—§æ–‡ä»¶ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œä¸diffç³»å‡ºåŒé—¨çš„diff3ä¹Ÿæ˜¯ç›¸å½“å¥½ç”¨çš„å·¥å…·ï¼Œå®ƒçš„ä»»åŠ¡ä¸diffç¨æœ‰ä¸åŒï¼šdiff3æ¯”è¾ƒçš„æ˜¯ä¸‰ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚åŸºæœ¬ç‰ˆä¸ç”±ä¸¤ä¸ªä¸åŒçš„äººæ‰€åšå‡ºæ¥çš„ä¸¤ä¸ªä¿®æ”¹æ–‡ä»¶ï¼Œå®ƒè¿˜ä¼šäº§ç”Ÿä¸€ä¸ªedå‘½ä»¤çš„è„šæœ¬ï¼Œè®©ç”¨æˆ·å°†ä¸¤ç»„ä¿®æ”¹æ–‡ä»¶åˆå¹¶åˆ°åŸºæœ¬ç‰ˆé‡Œã€‚&lt;/p&gt;
&lt;p&gt;patchå·¥å…·ç¨‹åºå¯åˆ©ç”¨diffçš„è¾“å‡ºï¼Œç»“åˆåŸå§‹æ–‡ä»¶ï¼Œä»¥é‡å»ºå¦ä¸€ä¸ªæ–‡ä»¶ã€‚å› ä¸ºç›¸å¼‚çš„éƒ¨åˆ†ï¼Œé€šå¸¸æ¯”åŸå§‹æ–‡ä»¶å°å¾ˆå¤šï¼Œè½¯ä»¶å¼€å‘äººå‘˜å¸¸ä¼šé€šè¿‡emailäº¤æ¢ç›¸å¼‚å¤„çš„åˆ—è¡¨ï¼Œå†ä½¿ç”¨patchåº”ç”¨å®ƒã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;diff -c test.[12] &amp;gt; test.dif   #å°†ç›¸å¼‚å¤„çš„ç›¸å…³å†…æ–‡ï¼Œå­˜å‚¨åˆ°test.dif
patch &amp;lt; test.dif               #åº”ç”¨ä¸åŒä¹‹å¤„
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;patchå°½å¯èƒ½å¥—ç”¨ä¸åŒä¹‹å¤„ï¼Œç„¶åæŠ¥å‘Šå¤±è´¥çš„éƒ¨åˆ†ï¼Œç”±ä½ è‡ªè¡Œæ‰‹åŠ¨å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶patchå¯ä½¿ç”¨diffçš„ä¸€èˆ¬è¾“å‡ºï¼Œä½†è¾ƒé€šç”¨çš„æ–¹å¼åº”æ˜¯ä½¿ç”¨diffçš„-cé€‰é¡¹ï¼Œä»¥å–å¾—ä¸Šä¸‹æ–‡å·®å¼‚å¤„ã€‚è¿™ä¹ˆåšä¼šäº§ç”Ÿè¾ƒè¯¦ç»†å†—é•¿çš„æŠ¥å‘Šï¼Œè®©patchçŸ¥é“æ–‡ä»¶åï¼Œå…è®¸å®ƒéªŒè¯å˜æ›´ä½ç½®ï¼Œå¹¶å›å¤ä¸åŒ¹é…ä¹‹å¤„ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="Shell"></category></entry><entry><title>ArchLinuxä¸Šå®‰è£…Consolaså­—ä½“</title><link href="http://youngsterxyf.github.io/2011/12/23/install-Consolas-font-on-ArchLinux/" rel="alternate"></link><published>2011-12-23T00:00:00+08:00</published><updated>2011-12-23T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2011-12-23:/2011/12/23/install-Consolas-font-on-ArchLinux/</id><summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä»&lt;a href="http://www.iplaysoft.com/consolas.html"&gt;http://www.iplaysoft.com/consolas.html&lt;/a&gt;ä¸‹è½½Consolaså­—ä½“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶å&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo mkdir -p /usr/share/fonts/yahei
sudo cp YaHei.Consolas.1.11b.ttf /usr/share/fonts/yahei/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ”¹å˜æƒé™ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo chmod 644 /usr/share/fonts/yahei/YaHei.Consolas.1.11b.ttf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cd /usr â€¦&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä»&lt;a href="http://www.iplaysoft.com/consolas.html"&gt;http://www.iplaysoft.com/consolas.html&lt;/a&gt;ä¸‹è½½Consolaså­—ä½“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶å&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo mkdir -p /usr/share/fonts/yahei
sudo cp YaHei.Consolas.1.11b.ttf /usr/share/fonts/yahei/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ”¹å˜æƒé™ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo chmod 644 /usr/share/fonts/yahei/YaHei.Consolas.1.11b.ttf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cd /usr/share/fonts/yahei/
sudo mkfontscale
sudo mkfontdir
sudo fc-cache -fv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;/li&gt;
&lt;/ol&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="å­—ä½“"></category></entry><entry><title>ã€ŠClassic Shell Scriptingã€‹ï¼šæ–‡ä»¶æè¿°ç¬¦å¤„ç†</title><link href="http://youngsterxyf.github.io/2011/12/22/classic-shell-scripting-file-descriptors/" rel="alternate"></link><published>2011-12-22T00:00:00+08:00</published><updated>2011-12-22T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2011-12-22:/2011/12/22/classic-shell-scripting-file-descriptors/</id><summary type="html">&lt;p&gt;åœ¨ç³»ç»Ÿå†…éƒ¨ï¼ŒUNIXæ˜¯ä»¥ä¸€ä¸ªå°çš„æ•´æ•°æ•°å­—ï¼Œç§°ä¸ºæ–‡ä»¶æè¿°ç¬¦(file descriptors)ï¼Œè¡¨ç¤ºæ¯ä¸ªè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ã€‚æ•°å­—ç”±é›¶å¼€å§‹ï¼Œè‡³å¤šåˆ°ç³»ç»Ÿå®šä¹‰çš„æ‰“å¼€æ–‡ä»¶æ•°ç›®çš„é™åˆ¶ã€‚ä¼  â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åœ¨ç³»ç»Ÿå†…éƒ¨ï¼ŒUNIXæ˜¯ä»¥ä¸€ä¸ªå°çš„æ•´æ•°æ•°å­—ï¼Œç§°ä¸ºæ–‡ä»¶æè¿°ç¬¦(file descriptors)ï¼Œè¡¨ç¤ºæ¯ä¸ªè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ã€‚æ•°å­—ç”±é›¶å¼€å§‹ï¼Œè‡³å¤šåˆ°ç³»ç»Ÿå®šä¹‰çš„æ‰“å¼€æ–‡ä»¶æ•°ç›®çš„é™åˆ¶ã€‚ä¼ ç»Ÿä¸Šï¼ŒShellå…è®¸ä½ ç›´æ¥å¤„ç†è‡³å¤š10ä¸ªæ‰“å¼€æ–‡ä»¶ï¼šæ–‡ä»¶æè¿°ç¬¦ä»0è‡³9ï¼ˆPOSIXæ ‡å‡†å°†æ˜¯å¦å¯ä»¥å¤„ç†å¤§äº9çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œä¿ç•™ç»™å„å®ç°è‡ªè¡Œå®šä¹‰ï¼Œbashå¯ä»¥ï¼Œä½†kshåˆ™å¦ï¼‰&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶æè¿°ç¬¦0,1ä¸2ï¼Œå„è‡ªå¯¹åº”åˆ°æ ‡å‡†è¾“å…¥ï¼Œæ ‡å‡†è¾“å‡ºä»¥åŠæ ‡å‡†é”™è¯¯è¾“å‡ºã€‚æœ€å¸¸è§çš„æ“ä½œä¾¿æ˜¯å˜æ›´è¿™ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦å…¶ä¸­ä¸€ä¸ªçš„ä½ç½®ï¼Œä¸è¿‡ä¹Ÿå¯èƒ½å¤„ç†å…¶ä»–çš„å˜åŠ¨ã€‚é¦–å…ˆæ¥çœ‹çš„æ˜¯ï¼šå°†ç¨‹åºçš„æ ‡å‡†è¾“å‡ºä¼ é€åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶å°†èµ·æ ‡å‡†é”™è¯¯ä¿¡æ¯ä¼ åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;make 1&amp;gt; results 2&amp;gt; ERRS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„å‘½ä»¤æ˜¯å°†makeçš„æ ‡å‡†è¾“å‡º(æ–‡ä»¶æè¿°ç¬¦ä¸º1)ä¼ ç»™results,å¹¶å°†æ ‡å‡†é”™è¯¯è¾“å‡º(æ–‡ä»¶æè¿°ç¬¦ä¸º2)ä¼ ç»™ERRSã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;make 1&amp;gt; results 2&amp;gt; /dev/null
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;1&amp;gt; results&lt;/code&gt;é‡Œçš„1å…¶å®æ²¡æœ‰å¿…è¦ï¼Œä¾›è¾“å‡ºé‡å®šå‘çš„é»˜è®¤æ–‡ä»¶æè¿°ç¬¦æ˜¯æ ‡å‡†è¾“å‡ºï¼šä¹Ÿå°±æ˜¯æ–‡ä»¶æè¿°ç¬¦1ã€‚ä¸‹ä¸ªä¾‹å­ä¼šå°†è¾“å‡ºä¸é”™è¯¯ä¿¡æ¯é€ç»™ç›¸åŒçš„æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;make &amp;gt; results 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;éœ€ç‰¹åˆ«ç•™æ„çš„ä¸€ç‚¹æ˜¯:åœ¨å‘½ä»¤è¡Œä¸Šï¼Œè¿™4ä¸ªå­—ç¬¦2&amp;gt;&amp;amp;1å¿…é¡»è¿åœ¨ä¸€èµ·ï¼Œä¸­é—´ä¸èƒ½æœ‰ä»»ä½•ç©ºæ ¼ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ­¤ï¼Œé¡ºåºæ ¼å¤–é‡è¦ï¼ŒShellå¤„ç†é‡å®šå‘æ—¶ï¼Œç”±å·¦è‡³å³ã€‚&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="Shell"></category></entry><entry><title>ã€ŠClassic Shell Scriptingã€‹ï¼šsed and cut</title><link href="http://youngsterxyf.github.io/2011/12/22/classic-shell-scripting-sed-and-cut/" rel="alternate"></link><published>2011-12-22T00:00:00+08:00</published><updated>2011-12-22T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2011-12-22:/2011/12/22/classic-shell-scripting-sed-and-cut/</id><summary type="html">&lt;h4&gt;ä¸€. sed&lt;/h4&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œæ‰§è¡Œæ–‡æœ¬æ›¿æ¢çš„æ­£ç¡®ç¨‹åºåº”è¯¥æ˜¯sed --- æµç¼–è¾‘å™¨(Stream Editor)ã€‚sedçš„è®¾è®¡å°±æ˜¯ç”¨æ¥ä»¥æ‰¹å¤„ç†çš„æ–¹å¼è€Œä¸æ˜¯äº¤äº’çš„æ–¹å¼æ¥ç¼–è¾‘æ–‡ä»¶ã€‚å½“ä½ çŸ¥é“è¦åšå¥½å‡ ä¸ªå˜æ›´ --- ä¸ç®¡æ˜¯å¯¹ä¸€ä¸ªè¿˜æ˜¯æ•°ä¸ªæ–‡ â€¦&lt;/p&gt;</summary><content type="html">&lt;h4&gt;ä¸€. sed&lt;/h4&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œæ‰§è¡Œæ–‡æœ¬æ›¿æ¢çš„æ­£ç¡®ç¨‹åºåº”è¯¥æ˜¯sed --- æµç¼–è¾‘å™¨(Stream Editor)ã€‚sedçš„è®¾è®¡å°±æ˜¯ç”¨æ¥ä»¥æ‰¹å¤„ç†çš„æ–¹å¼è€Œä¸æ˜¯äº¤äº’çš„æ–¹å¼æ¥ç¼–è¾‘æ–‡ä»¶ã€‚å½“ä½ çŸ¥é“è¦åšå¥½å‡ ä¸ªå˜æ›´ --- ä¸ç®¡æ˜¯å¯¹ä¸€ä¸ªè¿˜æ˜¯æ•°ä¸ªæ–‡ä»¶æ—¶ï¼Œæ¯”è¾ƒç®€å•çš„æ–¹å¼æ˜¯å°†è¿™äº›å˜æ›´éƒ¨åˆ†å†™åˆ°ä¸€ä¸ªç¼–è¾‘ä¸­çš„è„šæœ¬é‡Œï¼Œå†å°†æ­¤è„šæœ¬åº”ç”¨åˆ°æ‰€æœ‰éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶ã€‚
ä½ å¯èƒ½ä¼šå¸¸åœ¨ç®¡é“ä¸­é—´ä½¿ç”¨sedï¼Œä»¥æ‰§è¡Œæ›¿æ¢æ“ä½œã€‚åšæ³•æ˜¯ä½¿ç”¨så‘½ä»¤ --- è¦æ±‚æ­£åˆ™è¡¨è¾¾å¼å¯»æ‰¾ï¼Œç”¨æ›¿ä»£æ–‡æœ¬æ›¿æ¢åŒ¹é…çš„æ–‡æœ¬ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sed &lt;span style="color: #a31515"&gt;&amp;#39;s/:.*//&amp;#39;&lt;/span&gt; /etc/passwd       &lt;span style="color: #008000"&gt;#åˆ é™¤ç¬¬ä¸€ä¸ªå†’å·ä¹‹åçš„æ‰€æœ‰ä¸œè¥¿&lt;/span&gt;
sort -u                          &lt;span style="color: #008000"&gt;#æ’åºåˆ—è¡¨å¹¶åˆ é™¤é‡å¤éƒ¨åˆ†&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨è¿™é‡Œï¼Œ/å­—ç¬¦æ‰®æ¼”å®šç•Œç¬¦(delimiter)çš„è§’è‰²ï¼Œä»è€Œåˆ†éš”æ­£åˆ™è¡¨è¾¾å¼ä¸æ›¿ä»£æ–‡æœ¬ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæ›¿ä»£æ–‡æœ¬æ˜¯ç©ºçš„ï¼Œå®é™…ä¸Šä¼šæœ‰æ•ˆåœ°åˆ é™¤åŒ¹é…çš„æ–‡æœ¬ã€‚è™½ç„¶/æ˜¯æœ€å¸¸ç”¨çš„å®šç•Œç¬¦ï¼Œä½†ä»»ä½•å¯æ˜¾ç¤ºçš„å­—ç¬¦éƒ½èƒ½ä½œä¸ºå®šç•Œç¬¦ã€‚åœ¨å¤„ç†æ–‡ä»¶åç§°ï¼Œé€šå¸¸éƒ½ä¼šä»¥æ ‡ç‚¹ç¬¦å·å­—ç¬¦ä½œä¸ºå®šç•Œç¬¦(ä¾‹å¦‚åˆ†å·ï¼Œå†’å·æˆ–é€—ç‚¹)ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;find /home/tolstoy -type d -print    &lt;span style="color: #008000"&gt;#å¯»æ‰¾æ‰€æœ‰ç›®å½•&lt;/span&gt;
sed &lt;span style="color: #a31515"&gt;&amp;#39;s;/home/tolstoy/;/home/lt/;&amp;#39;&lt;/span&gt;    &lt;span style="color: #008000"&gt;#ä¿®æ”¹åç§°ï¼›&lt;/span&gt;
sed &lt;span style="color: #a31515"&gt;&amp;#39;s/^/mkdir /&amp;#39;&lt;/span&gt;                    &lt;span style="color: #008000"&gt;#æ’å…¥mkdirå‘½ä»¤&lt;/span&gt;
sh -x                                 &lt;span style="color: #008000"&gt;#ä»¥Shellè·Ÿè¸ªæ¨¡å¼æ‰§è¡Œ&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;â€œ&lt;/p&gt;
&lt;p&gt;è¯­æ³•&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sed [-n] &amp;#39;editing command&amp;#39; [file ...]
sed [-n] -e &amp;#39;editing command&amp;#39; ... [file ...]
sed [-n] -f script-file ... [file ...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸»è¦é€‰é¡¹&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-e &amp;#39;editing command&amp;#39; : å°†editing commandåº”ç”¨äºè¾“å…¥æ•°æ®ä¸Šã€‚å½“æœ‰å¤šä¸ªå‘½ä»¤éœ€è¦åº”ç”¨æ—¶ï¼Œå°±å¿…é¡»ä½¿ç”¨-eäº†ã€‚
-f script-file : è‡ªscript-fileä¸­è¯»å–ç¼–è¾‘å‘½ä»¤ã€‚å½“æœ‰å¤šä¸ªå‘½ä»¤éœ€è¦æ‰§è¡Œæ—¶ï¼Œæ­¤é€‰é¡¹ç›¸å½“æœ‰ç”¨ã€‚
-n : ä¸æ˜¯æ¯ä¸ªæœ€åå·²ä¿®æ”¹ç»“æœè¡Œéƒ½æ­£å¸¸æ‰“å°ï¼Œè€Œæ˜¯æ˜¾ç¤ºä»¥pæŒ‡å®š(å¤„ç†è¿‡)çš„è¡Œã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¡Œä¸ºæ¨¡å¼&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;è¯»å–æ¯ä¸ªè¾“å…¥æ–‡ä»¶çš„æ¯ä¸€è¡Œï¼Œå‡å¦‚æ²¡æœ‰æ–‡ä»¶çš„è¯ï¼Œåˆ™æ˜¯æ ‡å‡†è¾“å…¥ã€‚ä»¥æ¯ä¸€è¡Œæ¥è¯´ï¼Œsedä¼šæ‰§è¡Œæ¯ä¸€ä¸ªåº”ç”¨åˆ°è¾“å…¥è¡Œçš„editing commandã€‚ç»“æœä¼šå†™åˆ°æ ‡å‡†è¾“å‡º(é»˜è®¤çŠ¶æ€ä¸‹ï¼Œæˆ–æ˜¯æ˜¾ç¤ºåœ°ä½¿ç”¨på‘½ä»¤åŠ-né€‰é¡¹)ã€‚è‹¥æ— -eæˆ–-fé€‰é¡¹ï¼Œåˆ™sedä¼šæŠŠç¬¬ä¸€ä¸ªå‚æ•°çœ‹ä½œæ˜¯è¦ä½¿ç”¨çš„editing commandã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;â€&lt;/p&gt;
&lt;h4&gt;äºŒ. cut&lt;/h4&gt;
&lt;p&gt;cutå‘½ä»¤æ˜¯ç”¨æ¥å‰ªä¸‹æ–‡æœ¬æ–‡ä»¶é‡Œçš„æ•°æ®ï¼Œæ–‡æœ¬æ–‡ä»¶å¯ä»¥æ˜¯å­—æ®µç±»å‹æˆ–æ˜¯å­—ç¬¦ç±»å‹ã€‚åä¸€ç§æ•°æ®ç±»å‹åœ¨é‡åˆ°éœ€è¦ä»æ–‡ä»¶é‡Œå‰ªä¸‹ç‰¹å®šçš„åˆ—æ—¶ï¼Œç‰¹åˆ«æ–¹ä¾¿ã€‚è¯·æ³¨æ„ï¼šä¸€ä¸ªåˆ¶è¡¨ç¬¦åœ¨æ­¤è¢«è§†ä¸ºå•ä¸ªå­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹æ¥è¯´ï¼Œä¸‹é¢çš„å‘½ä»¤å¯æ˜¾ç¤ºç³»ç»Ÿä¸Šæ¯ä¸ªç”¨æˆ·çš„ç™»å½•åç§°åŠå…¶å…¨å:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cut -d : -f 1,5 /etc/passwd     &lt;span style="color: #008000"&gt;#å–å‡ºå­—æ®µ&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸‹é¢çš„å‘½ä»¤å–å‡ºå‘½ä»¤ls -lçš„è¾“å‡ºç»“æœä¸­çš„æ–‡ä»¶æƒé™å­—æ®µ:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ls -l | cut -c 1-10
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;"&lt;/p&gt;
&lt;p&gt;è¯­æ³•&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cut -c list [ file ...]
cut -f list [ -d delim ] [ file ...]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç”¨é€”&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ä»è¾“å…¥æ–‡ä»¶ä¸­é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µæˆ–è€…ä¸€ç»„å­—ç¬¦ï¼Œé…åˆç®¡é“ï¼Œå¯å†åšè¿›ä¸€æ­¥å¤„ç†ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸»è¦é€‰é¡¹&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-c list ï¼š ä»¥å­—ç¬¦ä¸ºä¸»ï¼Œæ‰§è¡Œå‰ªä¸‹çš„æ“ä½œã€‚listä¸ºå­—ç¬¦ç¼–å·æˆ–ä¸€æ®µèŒƒå›´çš„åˆ—è¡¨(ä»¥é€—ç‚¹éš”å¼€)ï¼Œä¾‹å¦‚1,3,5-12,42ã€‚
-d delim : é€šè¿‡-fé€‰é¡¹ï¼Œä½¿ç”¨delimä½œä¸ºå®šç•Œç¬¦ã€‚é»˜è®¤çš„å®šç•Œç¬¦ä¸ºåˆ¶è¡¨å­—ç¬¦(Tab)
-f list : ä»¥å­—æ®µä¸ºä¸»ï¼Œåšå‰ªä¸‹æ“ä½œã€‚listä¸ºå­—æ®µç¼–å·æˆ–ä¸€æ®µèŒƒå›´çš„åˆ—è¡¨(ä»¥é€—ç‚¹éš”å¼€)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;"&lt;/p&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="Shell"></category></entry><entry><title>ã€ŠClassic Shell Scriptingã€‹ï¼šsort, uniq, wc, head, tail</title><link href="http://youngsterxyf.github.io/2011/12/22/classic-shell-scripting-sort-uniq-wc-head-tail/" rel="alternate"></link><published>2011-12-22T00:00:00+08:00</published><updated>2011-12-22T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2011-12-22:/2011/12/22/classic-shell-scripting-sort-uniq-wc-head-tail/</id><summary type="html">&lt;h4&gt;ä¸€.sort&lt;/h4&gt;
&lt;p&gt;å°±åƒawk,cutä¸joinä¸€æ ·ï¼Œsortå°†è¾“å…¥çœ‹ä½œå…·æœ‰å¤šæ¡è®°å½•çš„æ•°æ®æµï¼Œè€Œè®°å½•æ˜¯ç”±å¯å˜å®½åº¦çš„å­—æ®µç»„æˆï¼Œè®°å½•æ˜¯ä»¥æ¢è¡Œç¬¦ä½œä¸ºå®šç•Œç¬¦ï¼Œå­—æ®µçš„å®šç•Œç¬¦åˆ™æ˜¯ç©ºç™½å­—ç¬¦æˆ–æ˜¯ç”¨æˆ·æŒ‡ â€¦&lt;/p&gt;</summary><content type="html">&lt;h4&gt;ä¸€.sort&lt;/h4&gt;
&lt;p&gt;å°±åƒawk,cutä¸joinä¸€æ ·ï¼Œsortå°†è¾“å…¥çœ‹ä½œå…·æœ‰å¤šæ¡è®°å½•çš„æ•°æ®æµï¼Œè€Œè®°å½•æ˜¯ç”±å¯å˜å®½åº¦çš„å­—æ®µç»„æˆï¼Œè®°å½•æ˜¯ä»¥æ¢è¡Œç¬¦ä½œä¸ºå®šç•Œç¬¦ï¼Œå­—æ®µçš„å®šç•Œç¬¦åˆ™æ˜¯ç©ºç™½å­—ç¬¦æˆ–æ˜¯ç”¨æˆ·æŒ‡å®šçš„å•ä¸ªå­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;è¯­æ³•&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sort [ options ] [ file(s)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç”¨é€”&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;å°†è¾“å…¥è¡ŒæŒ‰ç…§é”®å€¼å­—æ®µä¸æ•°æ®ç±»å‹é€‰é¡¹ä»¥åŠlocaleæ’åº
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸»è¦é€‰é¡¹&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-b : å¿½ç•¥å¼€å¤´çš„ç©ºç™½
-c : æ£€æŸ¥è¾“å…¥æ˜¯å¦å·²æ­£ç¡®åœ°æ’åºã€‚å¦‚è¾“å…¥æœªç»æ’åºï¼Œä½†é€€å‡ºç (exit code)ä¸ºéé›¶å€¼ï¼Œåˆ™ä¸ä¼šæœ‰ä»»ä½•è¾“å‡º
-d : å­—å…¸é¡ºåºï¼Œä»…æ–‡å­—æ•°å­—ä¸ç©ºç™½æ‰æœ‰æ„ä¹‰
-g : ä¸€èˆ¬æ•°å€¼ï¼Œä»¥æµ®ç‚¹æ•°å­—ç±»å‹æ¯”è¾ƒå­—æ®µ
-f : å°†æ··ç”¨çš„å­—æ¯éƒ½çœ‹ä½œç›¸åŒå¤§å°å†™ï¼Œä¹Ÿå°±æ˜¯ä»¥ä¸ç®¡å­—æ¯å¤§å°å†™çš„æ–¹å¼æ’åºã€‚
-i : å¿½ç•¥æ— æ³•æ‰“å°çš„å­—ç¬¦
-k : å®šä¹‰æ’åºé”®å€¼å­—æ®µ
-m : å°†å·²æ’åºçš„è¾“å…¥æ–‡ä»¶ï¼Œåˆå¹¶ä¸ºä¸€ä¸ªæ’åºåçš„è¾“å‡ºæ•°æ®æµ
-n : ä»¥æ•´æ•°ç±»å‹æ¯”è¾ƒå­—æ®µ
-o outfile : å°†è¾“å‡ºå†™åˆ°æŒ‡å®šçš„æ–‡ä»¶ï¼Œè€Œéæ ‡å‡†è¾“å‡ºã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸ºè¾“å…¥æ–‡ä»¶ä¹‹ä¸€ï¼Œåˆ™sortåœ¨è¿›è¡Œæ’åºä¸å†™åˆ°è¾“å‡ºæ–‡ä»¶ä¹‹å‰ï¼Œä¼šå…ˆå°†å®ƒå¤åˆ¶åˆ°ä¸€ä¸ªä¸´æ—¶çš„æ–‡ä»¶ã€‚
-r : å€’ç½®æ’åºçš„é¡ºåºä¸ºç”±å¤§åˆ°å°ï¼Œè€Œéé»˜è®¤çš„ç”±å°åˆ°å¤§ã€‚
-t char : ä½¿ç”¨å•ä¸ªå­—ç¬¦charä½œä¸ºé»˜è®¤çš„å­—æ®µåˆ†éš”å­—ç¬¦ï¼Œå–ä»£é»˜è®¤çš„ç©ºç™½å­—ç¬¦
-u : åªæœ‰æƒŸä¸€çš„è®°å½•ï¼šä¸¢å¼ƒæ‰€æœ‰å…·æœ‰ç›¸åŒé”®å€¼çš„è®°å½•ï¼Œåªç•™å…¶ä¸­çš„ç¬¬ä¸€æ¡ã€‚åªæœ‰é”®å€¼å­—æ®µæ˜¯é‡è¦çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¢«ä¸¢å¼ƒçš„è®°å½•å…¶ä»–éƒ¨åˆ†å¯èƒ½æ˜¯ä¸åŒå€¼ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¡Œä¸ºæ¨¡å¼&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sortä¼šè¯»å–æŒ‡å®šçš„æ–‡ä»¶ï¼Œå¦‚æœæœªç»™å®šæ–‡ä»¶ï¼Œåˆ™è¯»å–æ ‡å‡†è¾“å…¥ï¼Œå†å°†æ’åºå¥½çš„æ•°æ®å†™è‡³æ ‡å‡†è¾“å‡ºã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ä¸¾ä¾‹å¦‚ä¸‹&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sort -t: -k1,1 /etc/passwd    &lt;span style="color: #008000"&gt;#ä»¥ç”¨æˆ·åç§°æ’åº&lt;/span&gt;
sort -t: -k3nr /etc/passwd    &lt;span style="color: #008000"&gt;#åå‘UIDçš„æ’åº&lt;/span&gt;
sort -t: -k4n -k3n /etc/passwd   &lt;span style="color: #008000"&gt;#å…ˆä»¥GIDæ’åºï¼Œå†ä»¥UIDæ’åº&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;sortæ’åºç®—æ³•å¹¶ä¸ç¨³å®šï¼Œå¹¸å¥½GNUå®ç°äº†coreutilså¼¥è¡¥ä¸è¶³ï¼Œå®ƒå¯ä»¥é€šè¿‡--stableé€‰é¡¹è¡¥æ•‘æ­¤é—®é¢˜ã€‚&lt;/p&gt;
&lt;h4&gt;äºŒ.uniq&lt;/h4&gt;
&lt;p&gt;uniqå¸¸ç”¨äºç®¡é“ä¸­ï¼Œç”¨æ¥åˆ é™¤å·²ä½¿ç”¨sortæ’åºå®Œæˆçš„é‡å¤è®°å½•ï¼šsort ... | uniq | ...&lt;/p&gt;
&lt;p&gt;èŒƒä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sort latin-numbers | uniq     &lt;span style="color: #008000"&gt;#æ˜¾ç¤ºå”¯ä¸€çš„ï¼Œæ’åºåçš„è®°å½•ï¼Œé‡å¤åˆ™ä»…å–å”¯ä¸€è¡Œã€‚&lt;/span&gt;
sort latin-numbers | uniq -c  &lt;span style="color: #008000"&gt;#è®¡æ•°å”¯ä¸€çš„ï¼Œæ’åºåçš„è®°å½•&lt;/span&gt;
sort latin-numbers | uniq -d  &lt;span style="color: #008000"&gt;#ä»…æ˜¾ç¤ºé‡å¤çš„è®°å½•&lt;/span&gt;
sort latin-numbers | uniq -u  &lt;span style="color: #008000"&gt;#ä»…æ˜¾ç¤ºæœªé‡å¤çš„è®°å½•&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;ä¸‰.wc&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;echo Testing one two three | wc -c  &lt;span style="color: #008000"&gt;#è®¡ç®—å­—èŠ‚æ•°&lt;/span&gt;
echo Testing one two three | wc -l  &lt;span style="color: #008000"&gt;#è®¡ç®—è¡Œæ•°&lt;/span&gt;
echo Testing one two three | wc -w  &lt;span style="color: #008000"&gt;#è®¡ç®—å­—æ•°/å•è¯æ•°&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;-cé€‰é¡¹åŸæœ¬æ˜¯è¡¨ç¤ºå­—ç¬¦æ•°ï¼Œä½†å› ä¸ºæœ‰å¤šå­—èŠ‚å­—ç¬¦é›†çš„ç¼–ç å­˜åœ¨---åƒUTF-8ï¼Œå› æ­¤åœ¨å½“å‰ç³»ç»Ÿä¸Šï¼Œå­—èŠ‚æ•°å·²ä¸å†ç­‰äºå­—ç¬¦æ•°äº†ï¼Œä¹Ÿå› æ­¤ï¼ŒPOSIXå‡ºç°äº†-mé€‰é¡¹ï¼Œç”¨ä»¥è®¡ç®—å¤šå­—èŠ‚å­—ç¬¦ï¼Œå¯¹8ä½å­—ç¬¦æ•°æ®è€Œè¨€ï¼Œå®ƒç­‰åŒäº-cã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶wcæœ€å¸¸å¤„ç†çš„æ˜¯æ¥è‡ªäºç®¡é“çš„è¾“å…¥æ•°æ®ï¼Œä½†å®ƒä¹Ÿæ¥å—å‘½ä»¤è¡Œçš„æ–‡ä»¶å‚æ•°ï¼Œå¯ä»¥ç”Ÿæˆä¸€è¡Œä¸€ä¸ªç»“æœ: wc /etc/passwd /etc/group&lt;/p&gt;
&lt;h4&gt;å››.head and tail&lt;/h4&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œä½ ä¼šéœ€è¦ä»æ–‡æœ¬æ–‡ä»¶é‡ŒæŠŠå‡ è¡Œå­—---å¤šåŠæ˜¯é è¿‘å¼€å¤´æˆ–ç»“å°¾çš„å‡ è¡Œï¼Œæå–å‡ºæ¥ã€‚&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;head [-n] n [ file(s) ]    #å–å‡ºæ–‡ä»¶çš„å‰nè¡Œ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åŒæ ·åŠŸèƒ½çš„å‘½ä»¤æœ‰:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;awk &amp;#39;FNR &amp;lt;= n&amp;#39; [ file(s) ]
sed [-e] nq    [ file(s) ]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;tail&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;tail [-n] n [ file(s) ]   #å–å‡ºæ–‡ä»¶çš„ånè¡Œ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="Shell"></category></entry><entry><title>ã€ŠClassic Shell Scriptingã€‹ç¬¬ä¸€ã€äºŒç« é˜…è¯»ç¬”è®°</title><link href="http://youngsterxyf.github.io/2011/12/09/classic-shell-scripting-1-2/" rel="alternate"></link><published>2011-12-09T00:00:00+08:00</published><updated>2011-12-09T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2011-12-09:/2011/12/09/classic-shell-scripting-1-2/</id><summary type="html">&lt;h4&gt;ç¬¬ä¸€ç« ï¼šèƒŒæ™¯çŸ¥è¯†&lt;/h4&gt;
&lt;p&gt;è½¯ä»¶å·¥å…·çš„åŸåˆ™&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ä¸€æ¬¡åšå¥½ä¸€ä»¶äº‹

å¤„ç†æ–‡æœ¬è¡Œï¼Œä¸è¦å¤„ç†äºŒè¿›åˆ¶æ•°æ®

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼šæ­£åˆ™è¡¨è¾¾å¼(regular expression)æ˜¯ â€¦&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;h4&gt;ç¬¬ä¸€ç« ï¼šèƒŒæ™¯çŸ¥è¯†&lt;/h4&gt;
&lt;p&gt;è½¯ä»¶å·¥å…·çš„åŸåˆ™&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ä¸€æ¬¡åšå¥½ä¸€ä»¶äº‹

å¤„ç†æ–‡æœ¬è¡Œï¼Œä¸è¦å¤„ç†äºŒè¿›åˆ¶æ•°æ®

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼šæ­£åˆ™è¡¨è¾¾å¼(regular expression)æ˜¯å¾ˆå¼ºçš„æ–‡æœ¬å¤„ç†æœºåˆ¶ã€‚äº†è§£å®ƒçš„è¿ä½œæ¨¡å¼å¹¶åŠ ä»¥ä½¿ç”¨ï¼Œå¯é€‚åº¦ç®€åŒ–ç¼–å†™å‘½ä»¤è„šæœ¬çš„å·¥ä½œã€‚

é»˜è®¤ä½¿ç”¨æ ‡å‡†è¾“å…¥/è¾“å‡ºï¼šåœ¨æœªæ˜ç¡®æŒ‡å®šæ–‡ä»¶åçš„æƒ…å†µä¸‹ï¼Œç¨‹åºé»˜è®¤ä¼šä»å®ƒçš„æ ‡å‡†è¾“å…¥è¯»å–æ•°æ®ï¼Œå°†æ•°æ®å†™åˆ°å®ƒçš„æ ‡å‡†è¾“å‡ºï¼Œè‡³äºé”™è¯¯ä¿¡æ¯åˆ™ä¼šä¼ é€åˆ°æ ‡å‡†é”™è¯¯è¾“å‡ºã€‚ä»¥è¿™æ ·çš„æ–¹å¼æ¥ç¼–å†™ç¨‹åºï¼Œå¯ä»¥è½»æ¾åœ°è®©å®ƒä»¬ç§°ä¸ºæ•°æ®è¿‡æ»¤å™¨(filter)ã€‚

é¿å…å–‹å–‹ä¸ä¼‘

è¾“å‡ºæ ¼å¼å¿…é¡»ä¸å¯æ¥å—çš„è¾“å…¥æ ¼å¼ä¸€è‡´ï¼šä¸“ä¸šçš„å·¥å…·ç¨‹åºè®¤ä¸ºéµå¾ªæŸç§æ ¼å¼çš„è¾“å…¥æ•°æ®ï¼Œä¾‹å¦‚æ ‡é¢˜è¡Œä¹‹åæ¥ç€æ•°æ®è¡Œï¼Œæˆ–åœ¨è¡Œä¸Šä½¿ç”¨æŸç§å­—æ®µåˆ†éš”ç¬¦ç­‰ï¼Œæ‰€äº§ç”Ÿçš„è¾“å‡ºä¹Ÿåº”éµå¾ªä¸è¾“å…¥ä¸€è‡´çš„è§„åˆ™ã€‚è¿™ä¹ˆåšçš„å¥½å¤„æ˜¯ï¼Œå®¹æ˜“å°†ä¸€ä¸ªç¨‹åºçš„æ‰§è¡Œç»“æœäº¤ç»™å¦ä¸€ä¸ªç¨‹åºå¤„ç†ã€‚

è®©å·¥å…·å»åšå›°éš¾çš„éƒ¨åˆ†ï¼šè™½ç„¶UNIXç¨‹åºå¹¶éå®Œå…¨ç¬¦åˆä½ çš„éœ€æ±‚ï¼Œä½†æ˜¯ç°æœ‰çš„å·¥å…·æˆ–è®¸å·²ç»å¯ä»¥ä¸ºä½ å®Œæˆ90%çš„å·¥ä½œã€‚æ¥ä¸‹æ¥ï¼Œè‹¥æœ‰éœ€è¦ï¼Œä½ å¯ä»¥ç¼–å†™ä¸€ä¸ªåŠŸèƒ½ç‰¹å®šçš„å°å‹ç¨‹åºæ¥å®Œæˆå‰©ä¸‹çš„å·¥ä½œã€‚

æ„å»ºç‰¹å®šå·¥å…·å‰ï¼Œå…ˆæƒ³æƒ³ï¼šä½ æ‰€è¦åšçš„äº‹æƒ…ï¼Œæ˜¯å¦æœ‰å…¶ä»–äººä¹Ÿéœ€è¦åšï¼Ÿè¿™ä¸ªç‰¹æ®Šçš„å·¥ä½œæ˜¯å¦æœ‰å¯èƒ½æ˜¯æŸä¸ªä¸€èˆ¬é—®é¢˜çš„ä¸€ä¸ªç‰¹ä¾‹ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œè¯·é’ˆå¯¹ä¸€èˆ¬é—®é¢˜æ¥ç¼–å†™ç¨‹åºã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;ç¬¬äºŒç« ï¼šå…¥é—¨&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Shellè„šæœ¬æœ€å¸¸ç”¨äºç³»ç»Ÿç®¡ç†å·¥ä½œï¼Œæˆ–æ˜¯ç”¨äºç»“åˆç°æœ‰çš„ç¨‹åºä»¥å®Œæˆå°å‹çš„ï¼Œç‰¹å®šçš„å·¥ä½œã€‚ä¸€æ—¦ä½ æ‰¾å‡ºå®Œæˆå·¥ä½œçš„æ–¹æ³•ï¼Œå¯ä»¥æŠŠç”¨åˆ°çš„å‘½ä»¤ä¸²åœ¨ä¸€èµ·ï¼Œæ”¾è¿›ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºæˆ–è„šæœ¬é‡Œï¼Œæ­¤ååªè¦ç›´æ¥æ‰§è¡Œè¯¥ç¨‹åºä¾¿èƒ½å®Œæˆå·¥ä½œã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨è„šæœ¬ç¼–ç¨‹è¯­è¨€çš„å¥½å¤„æ˜¯ï¼Œå®ƒä»¬å¤šåŠè¿è¡Œåœ¨æ¯”ç¼–è¯‘å‹è¯­è¨€è¿˜é«˜çš„å±‚çº§ï¼Œèƒ½å¤Ÿè½»æ˜“å¤„ç†æ–‡ä»¶ä¸ç›®å½•ä¹‹ç±»çš„å¯¹è±¡ã€‚ç¼ºç‚¹æ˜¯ï¼šå®ƒä»¬çš„æ•ˆç‡é€šå¸¸ä¸å¦‚ç¼–è¯‘å‹è¯­è¨€ã€‚&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Shellçš„åŸºæœ¬å…ƒç´ ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‘½ä»¤ä¸å‚æ•°&lt;/li&gt;
&lt;li&gt;å˜é‡&lt;/li&gt;
&lt;li&gt;ç®€å•çš„echoè¾“å‡º&lt;/li&gt;
&lt;li&gt;åä¸½çš„printfè¾“å‡º&lt;/li&gt;
&lt;li&gt;åŸºæœ¬çš„I/Oé‡å®šå‘&lt;ul&gt;
&lt;li&gt;é‡å®šå‘ä¸ç®¡é“&lt;/li&gt;
&lt;li&gt;ç‰¹æ®Šæ–‡ä»¶:/dev/nullä¸/dev/tty&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åŸºæœ¬å‘½ä»¤æŸ¥æ‰¾&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤è¡Œä¸­ï¼Œåˆ†å·(;)å¯ç”¨æ¥åˆ†éš”åŒä¸€è¡Œé‡Œçš„å¤šæ¡å‘½ä»¤ã€‚Shellä¼šä¾æ¬¡æ‰§è¡Œè¿™äº›å‘½ä»¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Shellè¯†åˆ«ä¸‰ç§å‘½ä»¤ï¼šå†…å»ºå‘½ä»¤ï¼ŒShellå‡½æ•°ä»¥åŠå¤–éƒ¨å‘½ä»¤ï¼š&lt;ol&gt;
&lt;li&gt;å†…å»ºå‘½ä»¤å°±æ˜¯ç”±Shellæœ¬èº«æ‰€æ‰§è¡Œçš„å‘½ä»¤ã€‚æœ‰äº›å‘½ä»¤æ˜¯ç”±äºå…¶å¿…è¦æ€§æ‰å†…å»ºçš„ï¼Œä¾‹å¦‚cdç”¨æ¥æ”¹å˜ç›®å½•ï¼Œreadä¼šå°†æ¥è‡ªç”¨æˆ·(æˆ–æ–‡ä»¶)çš„è¾“å…¥æ•°æ®ä¼ ç»™Shellå˜é‡ã€‚å¦ä¸€ç§å†…å»ºå‘½ä»¤çš„å­˜åœ¨åˆ™æ˜¯ä¸ºäº†æ•ˆç‡ï¼Œå…¶ä¸­æœ€å…¸å‹çš„å°±æ˜¯testå‘½ä»¤ï¼Œç¼–å†™è„šæœ¬æ—¶ä¼šç»å¸¸ç”¨åˆ°å®ƒã€‚å¦å¤–è¿˜æœ‰I/Oå‘½ä»¤ï¼Œä¾‹å¦‚echoä¸printfã€‚&lt;/li&gt;
&lt;li&gt;Shellå‡½æ•°æ˜¯åŠŸèƒ½å¥å…¨çš„ä¸€ç³»åˆ—ç¨‹åºä»£ç ï¼Œä»¥Shellè¯­è¨€å†™æˆï¼Œå®ƒä»¬å¯ä»¥åƒå‘½ä»¤é‚£æ ·å¼•ç”¨ã€‚ ï¼Ÿï¼Ÿï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¤–éƒ¨å‘½ä»¤å°±æ˜¯ç”±Shellçš„å‰¯æœ¬(æ–°çš„è¿›ç¨‹)æ‰€æ‰§è¡Œçš„å‘½ä»¤ï¼ŒåŸºæœ¬çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;ol&gt;
&lt;li&gt;å»ºç«‹ä¸€ä¸ªæ–°çš„è¿›ç¨‹ã€‚æ­¤è¿›ç¨‹å³ä¸ºShellçš„ä¸€ä¸ªå‰¯æœ¬ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ–°çš„è¿›ç¨‹é‡Œï¼Œåœ¨PATHå˜é‡å†…æ‰€åˆ—å‡ºçš„ç›®å½•ä¸­ï¼Œå¯»æ‰¾ç‰¹å®šçš„å‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ–°çš„è¿›ç¨‹é‡Œï¼Œä»¥æ‰€æ‰¾åˆ°çš„æ–°ç¨‹åºå–ä»£æ‰§è¡Œä¸­çš„Shellç¨‹åºå¹¶æ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;ç¨‹åºå®Œæˆåï¼Œæœ€åˆçš„Shellä¼šæ¥ç€ä»ç»ˆç«¯è¯»å–ä¸‹ä¸€æ¡å‘½ä»¤ï¼Œæˆ–æ‰§è¡Œè„šæœ¬é‡Œçš„ä¸‹ä¸€æ¡å‘½ä»¤ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Shellå˜é‡åç§°çš„å¼€å¤´æ˜¯ä¸€ä¸ªå­—æ¯æˆ–ä¸‹åˆ’çº¿ç¬¦å·ï¼Œåé¢å¯ä»¥æ¥ç€ä»»æ„é•¿åº¦çš„å­—æ¯ï¼Œæ•°å­—æˆ–ä¸‹åˆ’çº¿ç¬¦å·ã€‚&lt;/li&gt;
&lt;li&gt;é‡å®šå‘ä¸ç®¡é“:&lt;ul&gt;
&lt;li&gt;ä»¥&amp;lt;æ”¹å˜æ ‡å‡†è¾“å…¥&lt;/li&gt;
&lt;li&gt;ä»¥&amp;gt;æ”¹å˜æ ‡å‡†è¾“å‡ºï¼Œ&amp;gt;é‡å®šå‘ç¬¦(redirector)åœ¨ç›®çš„æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œä¼šæ–°å»ºä¸€ä¸ªã€‚ç„¶è€Œï¼Œå¦‚æœç›®çš„æ–‡ä»¶å­˜åœ¨ï¼Œå®ƒå°±ä¼šç›´æ¥è¦†ç›–æ‰ï¼ŒåŸæœ¬çš„æ•°æ®éƒ½ä¼šä¸¢å¤±&lt;/li&gt;
&lt;li&gt;ä»¥&amp;gt;&amp;gt;æ”¹å˜æ ‡å‡†è¾“å‡ºé™„åŠ åˆ°æ–‡ä»¶,å¦‚åŒ&amp;gt;ï¼Œå¦‚æœç›®çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œ&amp;gt;&amp;gt;é‡å®šå‘ç¬¦ä¾¿ä¼šæ–°å»ºä¸€ä¸ªã€‚ç„¶è€Œï¼Œå¦‚æœç›®çš„æ–‡ä»¶å­˜åœ¨ï¼Œå®ƒä¸ä¼šç›´æ¥è¦†ç›–æ‰æ–‡ä»¶ï¼Œè€Œæ˜¯å°†ç¨‹åºäº§ç”Ÿçš„æ•°æ®é™„åŠ åˆ°æ–‡ä»¶ç»“å°¾å¤„ã€‚&lt;/li&gt;
&lt;li&gt;ä»¥|å»ºç«‹ç®¡é“ï¼Œç®¡é“å¯ä»¥ä½¿å¾—æ‰§è¡Œé€Ÿåº¦æ¯”ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶å¿«ä¸Šåå€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;trå‘½ä»¤&lt;/li&gt;
&lt;li&gt;æ„é€ ç®¡é“æ—¶ï¼Œåº”è¯¥è¯•ç€è®©æ¯ä¸ªé˜¶æ®µçš„æ•°æ®é‡å˜å¾—æ›´å°‘ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ æœ‰ä¸¤ä¸ªè¦å®Œæˆçš„æ­¥éª¤ä¸å…ˆåæ¬¡åºæ— å…³ï¼Œä½ å¯ä»¥æŠŠä¼šè®©æ•°æ®é‡å˜å°‘çš„é‚£ä¸€ä¸ªæ­¥éª¤æ”¾åœ¨ç®¡é“çš„å‰é¢ã€‚è¿™ä¹ˆåšå¯ä»¥æå‡è„šæœ¬çš„æ•´ä½“æ€§èƒ½ï¼Œå› ä¸ºUNIXåªéœ€è¦åœ¨ä¸¤ä¸ªç¨‹åºé—´ç§»åŠ¨å°‘çš„æ•°æ®é‡ï¼Œæ¯ä¸ªç¨‹åºè¦åšçš„äº‹æƒ…ä¹Ÿæ¯”è¾ƒå°‘ï¼Œä¾‹å¦‚ï¼šä½¿ç”¨sortæ’åºä¹‹å‰ï¼Œå…ˆä»¥grepæ‰¾å‡ºç›¸å…³çš„è¡Œï¼Œè¿™æ ·å¯ä»¥è®©sortå°‘åšäº›äº‹ã€‚&lt;/li&gt;
&lt;li&gt;ç‰¹æ®Šæ–‡ä»¶/dev/nullä¸/dev/tty&lt;/li&gt;
&lt;li&gt;ç®€å•çš„æ‰§è¡Œè·Ÿè¸ª:&lt;ul&gt;
&lt;li&gt;ä¸¤ç§æ–¹æ³•ï¼š&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨"sh -x scriptname"æ¥æ‰§è¡Œè„šæœ¬scriptnameï¼›&lt;/li&gt;
&lt;li&gt;åœ¨è„šæœ¬ä¸­éœ€è¦è·Ÿè¸ªçš„å‘½ä»¤ç‰‡æ®µå‰åŠ ä¸€å¥set -xæ‰“å¼€æ‰§è¡Œè·Ÿè¸ªçš„åŠŸèƒ½ï¼Œç„¶ååœ¨è¿™ä¸ªå‘½ä»¤ç‰‡æ®µåå†ç”¨set +xå‘½ä»¤å…³é—­å®ƒã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category><category term="Shell"></category></entry><entry><title>Linuxæ·»åŠ å®šæ—¶ä»»åŠ¡</title><link href="http://youngsterxyf.github.io/2011/12/07/cron-usage/" rel="alternate"></link><published>2011-12-07T00:00:00+08:00</published><updated>2011-12-07T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2011-12-07:/2011/12/07/cron-usage/</id><summary type="html">&lt;p&gt;åœ¨Linuxä¸‹å¦‚æœå¸Œæœ›æŸä¸ªä»»åŠ¡å®šæ—¶åœ°æ‰§è¡Œï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨cronæœåŠ¡å™¨ï¼Œå°†ä»»åŠ¡æ·»åŠ åˆ°cronä»»åŠ¡åˆ—è¡¨ä¸­ã€‚&lt;/p&gt;
&lt;h4&gt;å¯åŠ¨ï¼Œå…³é—­ï¼Œé‡å¯cron(éœ€è¶…çº§ç”¨æˆ·æƒé™)&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/etc/init.d/cron start
/etc/init.d/cron stop
/etc/init.d/cron restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ³¨:archlinuxä¸‹ä¸º/etc/rc.d/crond â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;åœ¨Linuxä¸‹å¦‚æœå¸Œæœ›æŸä¸ªä»»åŠ¡å®šæ—¶åœ°æ‰§è¡Œï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨cronæœåŠ¡å™¨ï¼Œå°†ä»»åŠ¡æ·»åŠ åˆ°cronä»»åŠ¡åˆ—è¡¨ä¸­ã€‚&lt;/p&gt;
&lt;h4&gt;å¯åŠ¨ï¼Œå…³é—­ï¼Œé‡å¯cron(éœ€è¶…çº§ç”¨æˆ·æƒé™)&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/etc/init.d/cron start
/etc/init.d/cron stop
/etc/init.d/cron restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ³¨:archlinuxä¸‹ä¸º/etc/rc.d/crond start|stop|restart&lt;/p&gt;
&lt;h4&gt;æŸ¥çœ‹ç”¨æˆ·è®¾ç½®çš„å®šæ—¶ä»»åŠ¡åˆ—è¡¨&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;crontab [-u xxx] -l       #  xxxä¸ºç”¨æˆ·å
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;ç¼–è¾‘ç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡åˆ—è¡¨(è¶…çº§ç”¨æˆ·æƒé™)&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;crontab -u xxx -e
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;åˆ é™¤ç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡åˆ—è¡¨(è¶…çº§ç”¨æˆ·æƒé™)&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;crontab -u xxx -r
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;å®šæ—¶ä»»åŠ¡çš„ç¼–è¾‘è§„åˆ™&lt;/h4&gt;
&lt;p&gt;cronçš„å®šæ—¶ä»»åŠ¡ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šï¼ˆ1ï¼‰è®¾ç½®çš„æ—¶é—´ï¼ˆ2ï¼‰è¯¥æ—¶é—´ä¸‹è¦æ‰§è¡Œçš„ä»»åŠ¡å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;æ—¶é—´åˆ†5ä¸ªéƒ¨åˆ†ï¼Œä¾æ¬¡ä¸ºï¼š&lt;/p&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;minute              0-59
hour                0-23 
day of month        1-31
month               1-12
day of week         0-7 (0 or 7 is Sun, or use names)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;ç¤ºä¾‹ï¼ˆæ¯å¤©ä¸´æ™¨2ç‚¹å¤‡ä»½æ•°æ®åº“ï¼‰&lt;/h4&gt;
&lt;div class="highlight" style="background: #ffffff"&gt;&lt;pre style="line-height: 125%;"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;0 2 * * * mysqldump -hhostname -uusername -ppassword databasename &amp;gt; backupfile.sql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;ä½¿è®¾ç½®ç”Ÿæ•ˆ&lt;/h4&gt;
&lt;p&gt;è®¾ç½®å®Œæˆåï¼Œé‡å¯cronå³å¯ä½¿è®¾ç½®çš„è®¡åˆ’ä»»åŠ¡å®šæ—¶æ‰§è¡Œäº†&lt;/p&gt;
&lt;h3&gt;è¯¦ç»†å†…å®¹å‚è€ƒ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://fanqiang.chinaunix.net/system/linux/2005-06-13/3306.shtml"&gt;http://fanqiang.chinaunix.net/system/linux/2005-06-13/3306.shtml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://fanqiang.chinaunix.net/adm/storage/2005-03-23/2985.shtml"&gt;http://fanqiang.chinaunix.net/adm/storage/2005-03-23/2985.shtml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://now-code.com/archives/196"&gt;http://now-code.com/archives/196&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category></entry><entry><title>Linuxæ·»åŠ sudoç”¨æˆ·æƒé™</title><link href="http://youngsterxyf.github.io/2011/12/07/linux-add-sudo-user/" rel="alternate"></link><published>2011-12-07T00:00:00+08:00</published><updated>2011-12-07T00:00:00+08:00</updated><author><name>youngsterxyf</name></author><id>tag:youngsterxyf.github.io,2011-12-07:/2011/12/07/linux-add-sudo-user/</id><summary type="html">&lt;p&gt;Linuxä¸­å¾ˆå¤šå‘½ä»¤éœ€è¦ä½¿ç”¨è¶…çº§ç”¨æˆ·æƒé™ï¼Œåœ¨è¿™äº›å‘½ä»¤å‰æ·»åŠ sudoç„¶åç›´æ¥æ‰§è¡Œæ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå°±å…ˆè¦å°†è‡ªå·±çš„ç”¨æˆ·åæ·»åŠ åˆ°sudoersä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨suå‘½ä»¤åˆ‡æ¢åˆ°è¶…çº§ç”¨æˆ·(åœ¨æç¤ºåè¾“å…¥rootçš„å¯†ç )&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨visudoå‘½ä»¤(ç¼–è¾‘/etc/sudoersæ–‡ä»¶)ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ â€¦&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;Linuxä¸­å¾ˆå¤šå‘½ä»¤éœ€è¦ä½¿ç”¨è¶…çº§ç”¨æˆ·æƒé™ï¼Œåœ¨è¿™äº›å‘½ä»¤å‰æ·»åŠ sudoç„¶åç›´æ¥æ‰§è¡Œæ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå°±å…ˆè¦å°†è‡ªå·±çš„ç”¨æˆ·åæ·»åŠ åˆ°sudoersä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨suå‘½ä»¤åˆ‡æ¢åˆ°è¶…çº§ç”¨æˆ·(åœ¨æç¤ºåè¾“å…¥rootçš„å¯†ç )&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨visudoå‘½ä»¤(ç¼–è¾‘/etc/sudoersæ–‡ä»¶)ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ç¼–è¾‘å™¨ç¼–è¾‘&lt;/li&gt;
&lt;li&gt;æ‰¾åˆ°root ALL=(ALL) ALL è¿™ä¸€è¡Œï¼Œåœ¨å…¶ä¸‹é¢ä¸€è¡Œæ·»åŠ xxx ALL=(ALL) ALLï¼Œå…¶ä¸­xxxä¸ºä½ çš„ç”¨æˆ·å&lt;/li&gt;
&lt;li&gt;ä¿å­˜å³å¯èµ·æ•ˆ&lt;/li&gt;
&lt;/ul&gt;</content><category term="å…¶ä»–"></category><category term="Linux"></category></entry></feed>