<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="352px" preserveAspectRatio="none" style="width:368px;height:352px;background:#FFFFFF;" version="1.1" viewBox="0 0 368 352" width="368px" zoomAndPan="magnify"><defs/><g><!--class DBImpl::Writer--><g id="elem_DBImpl::Writer"><rect codeLine="4" fill="#F1F1F1" height="120" id="DBImpl::Writer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.995" x="81.76" y="7"/><ellipse cx="106.2842" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M108.2017,28.1851 Q107.689,28.4487 107.1251,28.5806 Q106.5611,28.7124 105.9385,28.7124 Q103.7266,28.7124 102.5621,27.2549 Q101.3975,25.7974 101.3975,23.0435 Q101.3975,20.2822 102.5621,18.8247 Q103.7266,17.3672 105.9385,17.3672 Q106.5611,17.3672 107.1324,17.499 Q107.7037,17.6309 108.2017,17.8945 L108.2017,20.2969 Q107.6451,19.7842 107.1214,19.5461 Q106.5977,19.3081 106.0411,19.3081 Q104.8546,19.3081 104.2503,20.2493 Q103.6461,21.1904 103.6461,23.0435 Q103.6461,24.8892 104.2503,25.8303 Q104.8546,26.7715 106.0411,26.7715 Q106.5977,26.7715 107.1214,26.5334 Q107.6451,26.2954 108.2017,25.7827 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="100.83" x="122.4007" y="28.25">DBImpl::Writer</text><line style="stroke:#181818;stroke-width:0.5;" x1="82.76" x2="234.755" y1="39" y2="39"/><ellipse cx="92.76" cy="53.5" fill="#FFFFFF" fill-opacity="0.00000" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="127.995" x="101.76" y="57.25">WriteBatch* batch</text><ellipse cx="92.76" cy="71.5" fill="#FFFFFF" fill-opacity="0.00000" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="66.015" x="101.76" y="75.25">bool sync</text><ellipse cx="92.76" cy="89.5" fill="#FFFFFF" fill-opacity="0.00000" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="69.255" x="101.76" y="93.25">bool done</text><ellipse cx="92.76" cy="107.5" fill="#FFFFFF" fill-opacity="0.00000" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="117.72" x="101.76" y="111.25">port::CondVar cv</text><line style="stroke:#181818;stroke-width:0.5;" x1="82.76" x2="234.755" y1="119" y2="119"/></g><!--class WriteBatch--><g id="elem_WriteBatch"><rect codeLine="11" fill="#F1F1F1" height="48" id="WriteBatch" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109.52" x="7" y="252"/><ellipse cx="22" cy="268" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M23.9175,273.1851 Q23.4048,273.4487 22.8408,273.5806 Q22.2769,273.7124 21.6543,273.7124 Q19.4424,273.7124 18.2778,272.2549 Q17.1133,270.7974 17.1133,268.0435 Q17.1133,265.2822 18.2778,263.8247 Q19.4424,262.3672 21.6543,262.3672 Q22.2769,262.3672 22.8481,262.499 Q23.4194,262.6309 23.9175,262.8945 L23.9175,265.2969 Q23.3608,264.7842 22.8372,264.5461 Q22.3135,264.3081 21.7568,264.3081 Q20.5703,264.3081 19.9661,265.2493 Q19.3618,266.1904 19.3618,268.0435 Q19.3618,269.8892 19.9661,270.8303 Q20.5703,271.7715 21.7568,271.7715 Q22.3135,271.7715 22.8372,271.5334 Q23.3608,271.2954 23.9175,270.7827 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="77.52" x="36" y="273.25">WriteBatch</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="115.52" y1="284" y2="284"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="115.52" y1="292" y2="292"/></g><!--class port::CondVar--><g id="elem_port::CondVar"><rect codeLine="12" fill="#F1F1F1" height="138" id="port::CondVar" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209.735" x="151.89" y="207"/><ellipse cx="203.87" cy="223" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M205.7875,228.1851 Q205.2748,228.4487 204.7108,228.5806 Q204.1469,228.7124 203.5243,228.7124 Q201.3124,228.7124 200.1478,227.2549 Q198.9833,225.7974 198.9833,223.0435 Q198.9833,220.2822 200.1478,218.8247 Q201.3124,217.3672 203.5243,217.3672 Q204.1469,217.3672 204.7181,217.499 Q205.2894,217.6309 205.7875,217.8945 L205.7875,220.2969 Q205.2308,219.7842 204.7072,219.5461 Q204.1835,219.3081 203.6268,219.3081 Q202.4403,219.3081 201.8361,220.2493 Q201.2318,221.1904 201.2318,223.0435 Q201.2318,224.8892 201.8361,225.8303 Q202.4403,226.7715 203.6268,226.7715 Q204.1835,226.7715 204.7072,226.5334 Q205.2308,226.2954 205.7875,225.7827 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="97.275" x="224.37" y="228.25">port::CondVar</text><line style="stroke:#181818;stroke-width:0.5;" x1="152.89" x2="360.625" y1="239" y2="239"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="159.89" y="250.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="183.735" x="171.89" y="257.25">std::condition_variable cv_</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="159.89" y="268.5"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="125.67" x="171.89" y="275.25">Mutex* const mu_</text><line style="stroke:#181818;stroke-width:0.5;" x1="152.89" x2="360.625" y1="283" y2="283"/><ellipse cx="162.89" cy="297.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="77.805" x="171.89" y="301.25">void Wait()</text><ellipse cx="162.89" cy="315.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="87.525" x="171.89" y="319.25">void Signal()</text><ellipse cx="162.89" cy="333.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="104.445" x="171.89" y="337.25">void SignalAll()</text></g><!--link DBImpl::Writer to WriteBatch--><g id="link_DBImpl::Writer_WriteBatch"><path codeLine="20" d="M130.96,127.32 C111.59,168.65 86.8,221.57 72.76,251.53 " fill="#FFFFFF" fill-opacity="0.00000" id="DBImpl::Writer-WriteBatch" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="30" x="117.07" y="172.25">&#20851;&#32852;</text></g><!--link DBImpl::Writer to port::CondVar--><g id="link_DBImpl::Writer_port::CondVar"><path codeLine="21" d="M186.84,127.32 C198.55,152.05 212.22,180.92 224.35,206.54 " fill="#FFFFFF" fill-opacity="0.00000" id="DBImpl::Writer-port::CondVar" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><text fill="#000000" font-family="Albert Sans" font-size="15" lengthAdjust="spacing" textLength="30" x="208.76" y="172.25">&#20851;&#32852;</text></g><!--SRC=[RK_BIWD14BpFLpGvnOWX7WIPMn8HSj3BWZaklJDZqZYFPQPtZOOSFFW7_edV9FWPpaeMJSYfgwkAwkhqHBx6Y0wqUSJ6yctmV8_Em61gAnCP2lHf8D8fNq6l1YwlH59e3JZSmFLa0i-aUIsKnPJWPhPmjPLo6ObDXAquXryuGrRh4LJTo5mLWeNqubMFTV0cupf4bd8Ul7x02AeLEx4F_ak1xMxF7RgxMsqW3Kia7fxrMq4hZ_PudzgE4XUGM4kfSWGn1L-s60ch_9ngowpUDMms8yXwOd1DcViSVJWU_wicuUlzy_ljuuJfe6ll-m40]--></g></svg>