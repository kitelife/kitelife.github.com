<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="913.0988px" preserveAspectRatio="none" style="width:800px;height:913px;background:#FFFFFF;" version="1.1" viewBox="0 0 800 913" width="800.431px" zoomAndPan="magnify"><defs/><g><!--class WriteBatch--><g id="elem_WriteBatch"><rect codeLine="4" fill="#F1F1F1" height="117.5664" id="WriteBatch" rx="2.4493" ry="2.4493" style="stroke:#181818;stroke-width:0.4899;" width="335.7304" x="6.858" y="6.858"/><ellipse cx="132.5855" cy="22.5336" fill="#ADD1B2" rx="10.7769" ry="10.7769" style="stroke:#181818;stroke-width:0.9797;"/><path d="M134.4641,27.6135 Q133.9618,27.8718 133.4093,28.0009 Q132.8567,28.1301 132.2468,28.1301 Q130.0798,28.1301 128.9388,26.7021 Q127.7979,25.2742 127.7979,22.5761 Q127.7979,19.8709 128.9388,18.4429 Q130.0798,17.015 132.2468,17.015 Q132.8567,17.015 133.4164,17.1441 Q133.9761,17.2733 134.4641,17.5316 L134.4641,19.8852 Q133.9187,19.383 133.4057,19.1497 Q132.8926,18.9165 132.3473,18.9165 Q131.1848,18.9165 130.5928,19.8386 Q130.0008,20.7607 130.0008,22.5761 Q130.0008,24.3844 130.5928,25.3065 Q131.1848,26.2286 132.3473,26.2286 Q132.8926,26.2286 133.4057,25.9953 Q133.9187,25.7621 134.4641,25.2598 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="75.9479" x="152.6698" y="27.6771">WriteBatch</text><line style="stroke:#181818;stroke-width:0.4899;" x1="7.8378" x2="341.6087" y1="38.2091" y2="38.2091"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="5.8783" style="stroke:#C82930;stroke-width:0.9797;" width="5.8783" x="14.6958" y="49.4758"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="100.8132" x="26.4524" y="56.089">std::string rep_</text><line style="stroke:#181818;stroke-width:0.4899;" x1="7.8378" x2="341.6087" y1="63.6818" y2="63.6818"/><ellipse cx="17.635" cy="77.8877" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="310.2577" x="26.4524" y="81.5617">void Put(const Slice&amp; key, const Slice&amp; value)</text><ellipse cx="17.635" cy="95.5227" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="200.6564" x="26.4524" y="99.1966">void Delete(const Slice&amp; key)</text><ellipse cx="17.635" cy="113.1576" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="256.471" x="26.4524" y="116.8316">Status Iterate(Handler* handler) const</text></g><!--class Slice--><g id="elem_Slice"><rect codeLine="11" fill="#F1F1F1" height="223.3761" id="Slice" rx="2.4493" ry="2.4493" style="stroke:#181818;stroke-width:0.4899;" width="219.6923" x="29.6071" y="202.802"/><ellipse cx="119.2711" cy="218.4775" fill="#ADD1B2" rx="10.7769" ry="10.7769" style="stroke:#181818;stroke-width:0.9797;"/><path d="M121.1497,223.5574 Q120.6474,223.8157 120.0948,223.9449 Q119.5423,224.0741 118.9324,224.0741 Q116.7653,224.0741 115.6244,222.6461 Q114.4835,221.2181 114.4835,218.5201 Q114.4835,215.8148 115.6244,214.3869 Q116.7653,212.9589 118.9324,212.9589 Q119.5423,212.9589 120.102,213.0881 Q120.6617,213.2172 121.1497,213.4756 L121.1497,215.8292 Q120.6043,215.3269 120.0912,215.0937 Q119.5782,214.8605 119.0328,214.8605 Q117.8704,214.8605 117.2784,215.7826 Q116.6864,216.7046 116.6864,218.5201 Q116.6864,220.3283 117.2784,221.2504 Q117.8704,222.1725 119.0328,222.1725 Q119.5782,222.1725 120.0912,221.9393 Q120.6043,221.7061 121.1497,221.2038 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="32.0368" x="139.3553" y="223.621">Slice</text><line style="stroke:#181818;stroke-width:0.4899;" x1="30.5868" x2="248.3197" y1="234.153" y2="234.153"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="5.8783" style="stroke:#C82930;stroke-width:0.9797;" width="5.8783" x="37.4449" y="245.4198"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="123.3271" x="49.2015" y="252.0329">const char* data_;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="5.8783" style="stroke:#C82930;stroke-width:0.9797;" width="5.8783" x="37.4449" y="263.0547"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="80.7387" x="49.2015" y="269.6679">size_t size_;</text><line style="stroke:#181818;stroke-width:0.4899;" x1="30.5868" x2="248.3197" y1="277.2607" y2="277.2607"/><ellipse cx="40.384" cy="291.4666" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="194.2196" x="49.2015" y="295.1406">Slice(const char* d, size_t n)</text><ellipse cx="40.384" cy="309.1016" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="173.5132" x="49.2015" y="312.7755">Slice(const std::string&amp; s)</text><ellipse cx="40.384" cy="326.7365" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="133.0704" x="49.2015" y="330.4105">Slice(const char* s)</text><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="4.1148" x="49.2015" y="348.0454">&#160;</text><ellipse cx="40.384" cy="362.0064" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="165.0338" x="49.2015" y="365.6804">const char* data() const</text><ellipse cx="40.384" cy="379.6414" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="122.4454" x="49.2015" y="383.3153">size_t size() const</text><ellipse cx="40.384" cy="397.2763" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="173.6014" x="49.2015" y="400.9503">const char* begin() const</text><ellipse cx="40.384" cy="414.9113" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="160.9043" x="49.2015" y="418.5853">const char* end() const</text></g><!--class WriteBatch::Handler--><g id="elem_WriteBatch::Handler"><rect codeLine="25" fill="#F1F1F1" height="82.2965" id="WriteBatch::Handler" rx="2.4493" ry="2.4493" style="stroke:#181818;stroke-width:0.4899;" width="408.4893" x="283.9914" y="273.3418"/><ellipse cx="416.3981" cy="289.0173" fill="#ADD1B2" rx="10.7769" ry="10.7769" style="stroke:#181818;stroke-width:0.9797;"/><path d="M418.2767,294.0972 Q417.7744,294.3555 417.2218,294.4847 Q416.6693,294.6139 416.0594,294.6139 Q413.8923,294.6139 412.7514,293.1859 Q411.6104,291.758 411.6104,289.0599 Q411.6104,286.3547 412.7514,284.9267 Q413.8923,283.4987 416.0594,283.4987 Q416.6693,283.4987 417.229,283.6279 Q417.7887,283.7571 418.2767,284.0154 L418.2767,286.369 Q417.7313,285.8667 417.2182,285.6335 Q416.7052,285.4003 416.1598,285.4003 Q414.9974,285.4003 414.4054,286.3224 Q413.8134,287.2444 413.8134,289.0599 Q413.8134,290.8682 414.4054,291.7902 Q414.9974,292.7123 416.1598,292.7123 Q416.7052,292.7123 417.2182,292.4791 Q417.7313,292.2459 418.2767,291.7436 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="135.3483" x="436.4823" y="294.1608">WriteBatch::Handler</text><line style="stroke:#181818;stroke-width:0.4899;" x1="284.9711" x2="691.5009" y1="304.6928" y2="304.6928"/><line style="stroke:#181818;stroke-width:0.4899;" x1="284.9711" x2="691.5009" y1="312.5306" y2="312.5306"/><ellipse cx="294.7683" cy="326.7365" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="383.0166" x="303.5858" y="330.4105">virtual void Put(const Slice&amp; key, const Slice&amp; value) = 0</text><ellipse cx="294.7683" cy="344.3715" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="273.4153" x="303.5858" y="348.0454">virtual void Delete(const Slice&amp; key) = 0</text></g><!--class MemTableInserter--><g id="elem_MemTableInserter"><rect codeLine="30" fill="#F1F1F1" height="117.5664" id="MemTableInserter" rx="2.4493" ry="2.4493" style="stroke:#181818;stroke-width:0.4899;" width="335.7304" x="320.3683" y="504.5557"/><ellipse cx="422.7295" cy="520.2312" fill="#ADD1B2" rx="10.7769" ry="10.7769" style="stroke:#181818;stroke-width:0.9797;"/><path d="M424.6081,525.3111 Q424.1058,525.5694 423.5533,525.6986 Q423.0007,525.8277 422.3908,525.8277 Q420.2237,525.8277 419.0828,524.3998 Q417.9419,522.9718 417.9419,520.2737 Q417.9419,517.5685 419.0828,516.1406 Q420.2237,514.7126 422.3908,514.7126 Q423.0007,514.7126 423.5604,514.8418 Q424.1201,514.9709 424.6081,515.2292 L424.6081,517.5829 Q424.0627,517.0806 423.5497,516.8474 Q423.0366,516.6142 422.4913,516.6142 Q421.3288,516.6142 420.7368,517.5362 Q420.1448,518.4583 420.1448,520.2737 Q420.1448,522.082 420.7368,523.0041 Q421.3288,523.9262 422.4913,523.9262 Q423.0366,523.9262 423.5497,523.693 Q424.0627,523.4598 424.6081,522.9575 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="122.6805" x="442.8137" y="525.3747">MemTableInserter</text><line style="stroke:#181818;stroke-width:0.4899;" x1="321.3481" x2="655.119" y1="535.9067" y2="535.9067"/><ellipse cx="331.1453" cy="550.1126" fill="#FFFFFF" fill-opacity="0.00000" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="198.3198" x="339.9627" y="553.7866">SequenceNumber sequence_</text><ellipse cx="331.1453" cy="567.7476" fill="#FFFFFF" fill-opacity="0.00000" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="124.7232" x="339.9627" y="571.4215">MemTable* mem_</text><line style="stroke:#181818;stroke-width:0.4899;" x1="321.3481" x2="655.119" y1="579.0144" y2="579.0144"/><ellipse cx="331.1453" cy="593.2203" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="310.2577" x="339.9627" y="596.8942">void Put(const Slice&amp; key, const Slice&amp; value)</text><ellipse cx="331.1453" cy="610.8552" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="200.6564" x="339.9627" y="614.5292">void Delete(const Slice&amp; key)</text></g><!--class MemTable--><g id="elem_MemTable"><rect codeLine="37" fill="#F1F1F1" height="205.7411" id="MemTable" rx="2.4493" ry="2.4493" style="stroke:#181818;stroke-width:0.4899;" width="611.7762" x="182.3454" y="700.4996"/><ellipse cx="448.359" cy="716.1751" fill="#ADD1B2" rx="10.7769" ry="10.7769" style="stroke:#181818;stroke-width:0.9797;"/><path d="M450.2376,721.255 Q449.7353,721.5133 449.1827,721.6425 Q448.6302,721.7717 448.0203,721.7717 Q445.8532,721.7717 444.7123,720.3437 Q443.5714,718.9158 443.5714,716.2177 Q443.5714,713.5125 444.7123,712.0845 Q445.8532,710.6565 448.0203,710.6565 Q448.6302,710.6565 449.1899,710.7857 Q449.7496,710.9149 450.2376,711.1732 L450.2376,713.5268 Q449.6922,713.0245 449.1791,712.7913 Q448.6661,712.5581 448.1207,712.5581 Q446.9583,712.5581 446.3663,713.4802 Q445.7743,714.4022 445.7743,716.2177 Q445.7743,718.026 446.3663,718.948 Q446.9583,719.8701 448.1207,719.8701 Q448.6661,719.8701 449.1791,719.6369 Q449.6922,719.4037 450.2376,718.9014 Z " fill="#000000"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="71.4216" x="468.4432" y="721.3186">MemTable</text><line style="stroke:#181818;stroke-width:0.4899;" x1="183.3252" x2="793.142" y1="731.8506" y2="731.8506"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="5.8783" style="stroke:#C82930;stroke-width:0.9797;" width="5.8783" x="190.1832" y="743.1174"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="201.3324" x="201.9398" y="749.7305">KeyComparator comparator_;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="5.8783" style="stroke:#C82930;stroke-width:0.9797;" width="5.8783" x="190.1832" y="760.7524"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="58.357" x="201.9398" y="767.3655">int refs_;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="5.8783" style="stroke:#C82930;stroke-width:0.9797;" width="5.8783" x="190.1832" y="778.3873"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="92.657" x="201.9398" y="785.0004">Arena arena_;</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="5.8783" style="stroke:#C82930;stroke-width:0.9797;" width="5.8783" x="190.1832" y="796.0223"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="86.5435" x="201.9398" y="802.6354">Table table_;</text><line style="stroke:#181818;stroke-width:0.4899;" x1="183.3252" x2="793.142" y1="810.2282" y2="810.2282"/><ellipse cx="193.1224" cy="824.4341" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="67.4684" x="201.9398" y="828.1081">void Ref()</text><ellipse cx="193.1224" cy="842.0691" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="82.0907" x="201.9398" y="845.7431">void Unref()</text><ellipse cx="193.1224" cy="859.7041" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="151.4843" x="201.9398" y="863.378">Iterator* NewIterator()</text><ellipse cx="193.1224" cy="877.339" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="586.3035" x="201.9398" y="881.013">void Add(SequenceNumber seq, ValueType type, const Slice&amp; key, const Slice&amp; value)</text><ellipse cx="193.1224" cy="894.974" fill="#84BE84" rx="2.9392" ry="2.9392" style="stroke:#038048;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="413.3046" x="201.9398" y="898.6479">bool Get(const LookupKey&amp; key, std::string* value, Status* s)</text></g><!--link WriteBatch to WriteBatch::Handler--><g id="link_WriteBatch_WriteBatch::Handler"><path codeLine="50" d="M248.6235,124.8163 C306.5543,170.4418 385.6667,232.7422 436.857,273.0479 " fill="#FFFFFF" fill-opacity="0.00000" id="WriteBatch-WriteBatch::Handler" style="stroke:#181818;stroke-width:0.9797;stroke-dasharray:7.0,7.0;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="29.3916" x="304.3793" y="168.7567">&#20851;&#32852;</text></g><!--link WriteBatch to Slice--><g id="link_WriteBatch_Slice"><path codeLine="51" d="M166.4054,124.8163 C163.0939,148.0552 159.1555,175.6246 155.3248,202.4003 " fill="#FFFFFF" fill-opacity="0.00000" id="WriteBatch-Slice" style="stroke:#181818;stroke-width:0.9797;stroke-dasharray:7.0,7.0;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="29.3916" x="162.2612" y="168.7567">&#20851;&#32852;</text></g><!--reverse link WriteBatch::Handler to MemTableInserter--><g id="link_WriteBatch::Handler_MemTableInserter"><path codeLine="52" d="M488.2335,373.5965 C488.2335,413.9512 488.2335,458.6852 488.2335,504.3107 " fill="#FFFFFF" fill-opacity="0.00000" id="WriteBatch::Handler-backto-MemTableInserter" style="stroke:#181818;stroke-width:0.9797;"/><polygon fill="#FFFFFF" fill-opacity="0.00000" points="488.2335,355.9616,482.3552,373.5965,494.1118,373.5965,488.2335,355.9616" style="stroke:#181818;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="63.4711" x="489.2132" y="470.5104">&#32487;&#25215;/&#23454;&#29616;</text></g><!--reverse link MemTableInserter to MemTable--><g id="link_MemTableInserter_MemTable"><path codeLine="53" d="M488.2335,634.3097 C488.2335,657.7152 488.2335,673.6455 488.2335,700.1959 " fill="#FFFFFF" fill-opacity="0.00000" id="MemTableInserter-backto-MemTable" style="stroke:#181818;stroke-width:0.9797;"/><polygon fill="#181818" points="488.2335,622.5531,484.3146,628.4314,488.2335,634.3097,492.1524,628.4314,488.2335,622.5531" style="stroke:#181818;stroke-width:0.9797;"/><text fill="#000000" font-family="Albert Sans" font-size="14.6958" lengthAdjust="spacing" textLength="29.3916" x="489.2132" y="666.4543">&#32452;&#21512;</text></g><!--SRC=[hLFDRjD04BxxAKOzL4cQb710GYuS0WYeW0YH0aThOa-QLTRhi3jkIQ67IY311N7Wp9KRGkB8WQS9vJ5Os-lOZLCa92wxE__Vp7vZPaBDKMCC4KqmbNmtKJp4c61h8CUa6KQep9PdDlcDn0d1rMkU2L4InFWIhlVxS2mYddgXH6FWkHPCjv33ARpoTk0e4H4yJhaL9ihOr5A4j0qpMdJXWkO8PKhjCk0EIM9gn6Js4IEd1lQPD5gN-wWYIRe3q-BHBj9wFJ0S-RvXBTGXQ9e7tgdd8EO9StJvovK9fsZJH5qmjiU0GRNN76e9jy6qDuPRjTLVI8YChHBLJfaykshQUi2O3eMwn4OgMbbiY-jrWZs0hFEgHh1NjLtzZE-xiHLV93IdAF_ng-0czDU3B_kst7U5un751pYMjA-CPLi9uh_pX5waf48Qfh4bDHWd1jPK0kX0J77G15O1UaAJrghOKwMTM90liLCVqd4fL8w3A6erotVXMORzO34dO7kiDVQNLiT98k4UbRDvc2IpTFw05YwenijE4THrMrBmiGVMztOIPyjiSTeYvTFnHIYs6p8nJXneKWYOdKvJJ8Mpio1KRSbtTpSHouVbs- -_ppwjUUQTRR1LXBpnkjThCCI7ynzVVht_UMNvzVFvXszUWq6TMb3c_6RvyTqV]--></g></svg>