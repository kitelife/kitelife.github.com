<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>启动流程 | Xiayf的技术笔记</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.3.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../../gitbook/style.css">
    
    

        
    
    
    <link rel="next" href="../../../language/go/beego/handle-request.html" />
    
    
    <link rel="prev" href="../../../language/go/beego/summary.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="3.3.3.2" data-basepath="../../.." data-revision="Mon Jan 18 2016 13:29:53 GMT+0800 (CST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="arch/index.html">
            
                
                    <a href="../../../arch/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        架构
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="arch/tumblr-arch.html">
            
                
                    <a href="../../../arch/tumblr-arch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Tumblr架构设计
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="arch/latency-output-cost.html">
            
                
                    <a href="../../../arch/latency-output-cost.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        &lt;延迟、吞吐、成本那些事&gt;课程笔记
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="arch/reference.html">
            
                
                    <a href="../../../arch/reference.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        资料
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="basic/index.html">
            
                
                    <a href="../../../basic/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        基础
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="basic/system.html">
            
                
                    <a href="../../../basic/system.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        系统编程
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="basic/system/tlpi.html">
            
                
                    <a href="../../../basic/system/tlpi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.1.</b>
                        
                        读书笔记：Linux/UNIX系统编程手册
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="basic/algorithm.html">
            
                
                    <a href="../../../basic/algorithm.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        算法
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="basic/algorithm/introduction-to-algorithm.html">
            
                
                    <a href="../../../basic/algorithm/introduction-to-algorithm.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.</b>
                        
                        读书笔记：算法导论
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="basic/network.html">
            
                
                    <a href="../../../basic/network.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        网络
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="basic/compiler.html">
            
            <span><b>2.4.</b> 编译</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="basic/compiler/flex-bison.html">
            
                
                    <a href="../../../basic/compiler/flex-bison.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.1.</b>
                        
                        读书笔记：flex与bison
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="basic/storage.html">
            
            <span><b>2.5.</b> 存储</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="language/index.html">
            
                
                    <a href="../../../language/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        编程语言
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="language/python.html">
            
                
                    <a href="../../../language/python.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Python
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="language/python/flask.html">
            
                
                    <a href="../../../language/python/flask.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.</b>
                        
                        Flask
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="language/python/tornado.html">
            
                
                    <a href="../../../language/python/tornado.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.2.</b>
                        
                        Tornado
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="language/python/django.html">
            
                
                    <a href="../../../language/python/django.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.3.</b>
                        
                        Django
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="language/php.html">
            
                
                    <a href="../../../language/php.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        PHP
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="language/php/yii.html">
            
            <span><b>3.2.1.</b> Yii</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="language/php/symfony.html">
            
            <span><b>3.2.2.</b> Symfony</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="language/php/internal.html">
            
                
                    <a href="../../../language/php/internal.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.3.</b>
                        
                        读书笔记：深入理解PHP内核
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="language/go.html">
            
                
                    <a href="../../../language/go.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Go
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="language/go/effective-go.html">
            
                
                    <a href="../../../language/go/effective-go.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.1.</b>
                        
                        Effective Go
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="language/go/learning-go.html">
            
                
                    <a href="../../../language/go/learning-go.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.2.</b>
                        
                        读书笔记：Go学习笔记
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="language/go/reading-beego.html">
            
                
                    <a href="../../../language/go/reading-beego.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.3.</b>
                        
                        Beego源码阅读
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.3.1" data-path="language/go/beego/summary.html">
            
                
                    <a href="../../../language/go/beego/summary.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.3.1.</b>
                        
                        概述
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="3.3.3.2" data-path="language/go/beego/run.html">
            
                
                    <a href="../../../language/go/beego/run.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.3.2.</b>
                        
                        启动流程
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.3.3" data-path="language/go/beego/handle-request.html">
            
                
                    <a href="../../../language/go/beego/handle-request.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.3.3.</b>
                        
                        请求处理
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="language/js.html">
            
                
                    <a href="../../../language/js.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        JavaScript
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.1" data-path="language/js/frontend-dv.html">
            
                
                    <a href="../../../language/js/frontend-dv.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.1.</b>
                        
                        前端数据可视化
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.2" data-path="language/js/modular.html">
            
                
                    <a href="../../../language/js/modular.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.2.</b>
                        
                        前端模块化
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.3" data-path="language/js/tools.html">
            
                
                    <a href="../../../language/js/tools.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.3.</b>
                        
                        前端工具
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.4" data-path="language/js/hybrid-mobile.html">
            
                
                    <a href="../../../language/js/hybrid-mobile.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.4.</b>
                        
                        混合移动开发
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.5" data-path="language/js/node.html">
            
                
                    <a href="../../../language/js/node.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.5.</b>
                        
                        NodeJS
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.5.1" data-path="language/js/node/reading-node.html">
            
                
                    <a href="../../../language/js/node/reading-node.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.5.1.</b>
                        
                        NodeJS源码阅读笔记
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="language/css.html">
            
                
                    <a href="../../../language/css.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        CSS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="language/c.html">
            
                
                    <a href="../../../language/c.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        C
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.1" data-path="language/c/learning-c.html">
            
                
                    <a href="../../../language/c/learning-c.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.1.</b>
                        
                        读书笔记：C学习笔记
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="language/lua.html">
            
                
                    <a href="../../../language/lua.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Lua
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="language/java.html">
            
                
                    <a href="../../../language/java.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        Java/Scala
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.8.1" data-path="language/java/play.html">
            
                
                    <a href="../../../language/java/play.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.1.</b>
                        
                        Play
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8.2" data-path="language/java/spring.html">
            
                
                    <a href="../../../language/java/spring.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.2.</b>
                        
                        Spring
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8.3" data-path="language/java/spark.html">
            
                
                    <a href="../../../language/java/spark.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.3.</b>
                        
                        Spark
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="language/others.html">
            
                
                    <a href="../../../language/others.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.9.</b>
                        
                        others
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="operation/index.html">
            
                
                    <a href="../../../operation/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        运维
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="operation/os.html">
            
                
                    <a href="../../../operation/os.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        操作系统
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="operation/sql.html">
            
                
                    <a href="../../../operation/sql.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        SQL
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="operation/sql/mysql.html">
            
                
                    <a href="../../../operation/sql/mysql.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.1.</b>
                        
                        MySQL
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="operation/sql/high-performance-mysql.html">
            
                
                    <a href="../../../operation/sql/high-performance-mysql.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.2.</b>
                        
                        读书笔记：高性能MySQL
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="operation/sql/sqlite.html">
            
                
                    <a href="../../../operation/sql/sqlite.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.3.</b>
                        
                        SQLite
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="operation/nosql.html">
            
                
                    <a href="../../../operation/nosql.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        NoSQL
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="operation/nosql/redis-design-implementation.html">
            
                
                    <a href="../../../operation/nosql/redis-design-implementation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.</b>
                        
                        读书笔记：Redis设计与实现
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="operation/mq.html">
            
                
                    <a href="../../../operation/mq.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        MQ
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="operation/nginx.html">
            
                
                    <a href="../../../operation/nginx.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Nginx
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.1" data-path="operation/nginx/openresty.html">
            
                
                    <a href="../../../operation/nginx/openresty.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.1.</b>
                        
                        OpenResty
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="operation/haproxy.html">
            
                
                    <a href="../../../operation/haproxy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        HAProxy
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.6.1" data-path="operation/haproxy/conf-manual.html">
            
                
                    <a href="../../../operation/haproxy/conf-manual.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.1.</b>
                        
                        HAProxy文档精简翻译版
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="operation/others.html">
            
                
                    <a href="../../../operation/others.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        其他
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="others/index.html">
            
                
                    <a href="../../../others/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        其他
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="others/refactoring.html">
            
                
                    <a href="../../../others/refactoring.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        读书笔记：重构
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="others/sicp.html">
            
                
                    <a href="../../../others/sicp.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        读书笔记：计算机程序的构造与解释
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="others/quotes.html">
            
                
                    <a href="../../../others/quotes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        启示语录
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="others/web.html">
            
                
                    <a href="../../../others/web.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Web开发
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="others/ds.html">
            
                
                    <a href="../../../others/ds.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        分布式系统
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="others/security.html">
            
                
                    <a href="../../../others/security.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        信息安全
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="others/stackoverflow-collection.html">
            
                
                    <a href="../../../others/stackoverflow-collection.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                        StackOverflow问答精选
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="others/other.html">
            
                
                    <a href="../../../others/other.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                        碎碎念
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.8.1" data-path="others/other/inspired.html">
            
                
                    <a href="../../../others/other/inspired.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.1.</b>
                        
                        启示录
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.8.2" data-path="others/other/taobao-ten-years.html">
            
                
                    <a href="../../../others/other/taobao-ten-years.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.2.</b>
                        
                        读书笔记：淘宝技术这十年
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../../" >Xiayf的技术笔记</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B">&#x542F;&#x52A8;&#x6D41;&#x7A0B;</h1>
<p>&#x5148;&#x6765;&#x770B;&#x770B;Go&#x7684;import&#x903B;&#x8F91;&#xFF0C;&#x56E0;&#x4E3A;Beego&#xFF08;&#x6216;&#x8005;&#x5176;&#x4ED6;Go&#x8BED;&#x8A00;&#x9879;&#x76EE;&#xFF09;&#x7684;&#x542F;&#x52A8;&#x6D41;&#x7A0B;&#x90FD;&#x4F9D;&#x8D56;&#x4E8E;import&#x7684;&#x903B;&#x8F91;&#x3002;</p>
<p><img src="media/init.png" alt="init"></p>
<hr>
<p>&#x5728;Bee&#x5DE5;&#x5177;&#x751F;&#x6210;&#x7684;Beego&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;<code>main.go</code>&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code class="lang-go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    _ <span class="hljs-string">&quot;hello/routers&quot;</span>
    <span class="hljs-string">&quot;github.com/astaxie/beego&quot;</span>
)

<span class="hljs-keyword">func</span> main() {
    beego.Run()
}
</code></pre>
<p><code>routers/router.go</code>&#x5185;&#x5BB9;&#xFF1A;</p>
<pre><code class="lang-go"><span class="hljs-keyword">package</span> routers

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">&quot;hello/controllers&quot;</span>
    <span class="hljs-string">&quot;github.com/astaxie/beego&quot;</span>
)

<span class="hljs-keyword">func</span> init() {
    beego.Router(<span class="hljs-string">&quot;/&quot;</span>, &amp;controllers.MainController{})
}
</code></pre>
<p>&#x4ECE;&#x4EE3;&#x7801;&#x76F4;&#x89C2;&#x6765;&#x770B;&#xFF0C;&#x4E00;&#x4E2A;Beego&#x5E94;&#x7528;&#x7684;&#x542F;&#x52A8;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</p>
<ol>
<li>&#x5F15;&#x5165;beego&#x5305;</li>
<li>&#x6CE8;&#x518C;&#x8DEF;&#x7531;</li>
<li>&#x6267;&#x884C;beego&#x5305;&#x7684;Run&#x65B9;&#x6CD5;</li>
</ol>
<hr>
<p>&#x4ECE;Beego&#x672C;&#x8EAB;&#x7684;&#x5DE5;&#x7A0B;&#x76EE;&#x5F55;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x5C5E;&#x4E8E;&#x5305;<code>beego</code>&#x7684;&#x6587;&#x4EF6;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x5176;&#x4E2D;Run&#x65B9;&#x6CD5;&#x5728;&#x6587;&#x4EF6;<code>beego.go</code>&#x4E2D;&#xFF0C;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-go"><span class="hljs-comment">// Run beego application.</span>
<span class="hljs-comment">// beego.Run() default run on HttpPort</span>
<span class="hljs-comment">// beego.Run(&quot;:8089&quot;)</span>
<span class="hljs-comment">// beego.Run(&quot;127.0.0.1:8089&quot;)</span>
<span class="hljs-keyword">func</span> Run(params ...<span class="hljs-typename">string</span>) {
   <span class="hljs-comment">// &#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x65F6;&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x5730;&#x5740;&#x7AEF;&#x53E3;&#x53C2;&#x6570;&#xFF0C;&#x4F46;&#x8FD9;&#x91CC;&#x7684;&#x5B9E;&#x73B0;&#x6BD4;&#x8F83;&#x4E11;</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(params) &gt; <span class="hljs-number">0</span> &amp;&amp; params[<span class="hljs-number">0</span>] != <span class="hljs-string">&quot;&quot;</span> {
        strs := strings.Split(params[<span class="hljs-number">0</span>], <span class="hljs-string">&quot;:&quot;</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(strs) &gt; <span class="hljs-number">0</span> &amp;&amp; strs[<span class="hljs-number">0</span>] != <span class="hljs-string">&quot;&quot;</span> {
            HttpAddr = strs[<span class="hljs-number">0</span>]
        }
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(strs) &gt; <span class="hljs-number">1</span> &amp;&amp; strs[<span class="hljs-number">1</span>] != <span class="hljs-string">&quot;&quot;</span> {
            HttpPort, _ = strconv.Atoi(strs[<span class="hljs-number">1</span>])
        }
    }
    initBeforeHttpRun()

   <span class="hljs-comment">// &#x5982;&#x679C;&#x914D;&#x7F6E;&#x542F;&#x7528;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF08;&#x5176;&#x5B9E;&#x662F;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x540E;&#x53F0;&#xFF09;</span>
    <span class="hljs-keyword">if</span> EnableAdmin {
        <span class="hljs-keyword">go</span> beeAdminApp.Run()
    }

    BeeApp.Run()
}
</code></pre>
<p>&#x5176;&#x4E2D; <code>initBeforeHttpRun()</code> &#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-go"><span class="hljs-keyword">func</span> initBeforeHttpRun() {
   <span class="hljs-comment">/* &#x4ECE;&#x8FD9;&#x91CC;&#x770B;&#x51FA;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x914D;&#x7F6E;&#x6709;&#x4E24;&#x5904;&#xFF1A;
   - filepath.Join(AppPath, &quot;conf&quot;, &quot;app.conf&quot;)
   - filepath.Join(workPath, &quot;conf&quot;, &quot;app.conf&quot;)
   */</span>
    <span class="hljs-comment">// if AppConfigPath not In the conf/app.conf reParse config</span>
    <span class="hljs-keyword">if</span> AppConfigPath != filepath.Join(AppPath, <span class="hljs-string">&quot;conf&quot;</span>, <span class="hljs-string">&quot;app.conf&quot;</span>) {
        err := ParseConfig()
        <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> &amp;&amp; AppConfigPath != filepath.Join(workPath, <span class="hljs-string">&quot;conf&quot;</span>, <span class="hljs-string">&quot;app.conf&quot;</span>) {
            <span class="hljs-comment">// configuration is critical to app, panic here if parse failed</span>
            <span class="hljs-built_in">panic</span>(err)
        }
    }

    <span class="hljs-comment">//init mime</span>
    <span class="hljs-comment">// AddAPPStartHook&#x51FD;&#x6570;&#x53EF;&#x7528;&#x4E8E;&#x5728;&#x5E94;&#x7528;&#x542F;&#x52A8;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x4E00;&#x4E9B;hook</span>
    <span class="hljs-comment">// &#x6700;&#x540E;&#x4E00;&#x4E2A;hook&#x662F;initMime</span>
    AddAPPStartHook(initMime)

    <span class="hljs-comment">// do hooks function</span>
    <span class="hljs-comment">// &#x9010;&#x4E2A;&#x6267;&#x884C;hook</span>
    <span class="hljs-keyword">for</span> _, hk := <span class="hljs-keyword">range</span> hooks {
        err := hk()
        <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
            <span class="hljs-built_in">panic</span>(err)
        }
    }

   <span class="hljs-comment">// &#x5982;&#x679C;&#x914D;&#x7F6E;&#x542F;&#x7528;session</span>
    <span class="hljs-keyword">if</span> SessionOn {
        <span class="hljs-keyword">var</span> err error
        sessionConfig := AppConfig.String(<span class="hljs-string">&quot;sessionConfig&quot;</span>)
        <span class="hljs-keyword">if</span> sessionConfig == <span class="hljs-string">&quot;&quot;</span> {
            sessionConfig = <span class="hljs-string">`{&quot;cookieName&quot;:&quot;`</span> + SessionName + <span class="hljs-string">`&quot;,`</span> +
                <span class="hljs-string">`&quot;gclifetime&quot;:`</span> + strconv.FormatInt(SessionGCMaxLifetime, <span class="hljs-number">10</span>) + <span class="hljs-string">`,`</span> +
                <span class="hljs-string">`&quot;providerConfig&quot;:&quot;`</span> + filepath.ToSlash(SessionSavePath) + <span class="hljs-string">`&quot;,`</span> +
                <span class="hljs-string">`&quot;secure&quot;:`</span> + strconv.FormatBool(EnableHttpTLS) + <span class="hljs-string">`,`</span> +
                <span class="hljs-string">`&quot;enableSetCookie&quot;:`</span> + strconv.FormatBool(SessionAutoSetCookie) + <span class="hljs-string">`,`</span> +
                <span class="hljs-string">`&quot;domain&quot;:&quot;`</span> + SessionDomain + <span class="hljs-string">`&quot;,`</span> +
                <span class="hljs-string">`&quot;cookieLifeTime&quot;:`</span> + strconv.Itoa(SessionCookieLifeTime) + <span class="hljs-string">`}`</span>
        }
        GlobalSessions, err = session.NewManager(SessionProvider,
            sessionConfig)
        <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
            <span class="hljs-built_in">panic</span>(err)
        }
        <span class="hljs-keyword">go</span> GlobalSessions.GC()
    }

   <span class="hljs-comment">// &#x52A0;&#x8F7D;&#x6240;&#x6709;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;</span>
    <span class="hljs-comment">// ViewsPath&#x9ED8;&#x8BA4;&#x4E3A;views&#x5B50;&#x76EE;&#x5F55;</span>
    err := BuildTemplate(ViewsPath)
    <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
        <span class="hljs-keyword">if</span> RunMode == <span class="hljs-string">&quot;dev&quot;</span> {
            Warn(err)
        }
    }

   <span class="hljs-comment">// &#x6CE8;&#x518C;&#x9ED8;&#x8BA4;&#x7684;&#x9519;&#x8BEF;&#x5904;&#x7406;&#x65B9;&#x6CD5;</span>
    registerDefaultErrorHandler()

    <span class="hljs-keyword">if</span> EnableDocs {
        Get(<span class="hljs-string">&quot;/docs&quot;</span>, serverDocs)
        Get(<span class="hljs-string">&quot;/docs/*&quot;</span>, serverDocs)
    }
}
</code></pre>
<p><code>BeeApp.Run</code> &#x4E00;&#x53E5;&#x4E2D;&#x7684;BeeApp&#x6765;&#x81EA; <code>config.go</code> &#x6587;&#x4EF6;&#x7684; <code>init</code> &#x65B9;&#x6CD5;&#xFF0C;&#x8C03;&#x7528; <code>NewApp()</code> &#x6765;&#x521D;&#x59CB;&#x5316;&#xFF1A;</p>
<pre><code class="lang-go"><span class="hljs-comment">// NewApp returns a new beego application.</span>
<span class="hljs-keyword">func</span> NewApp() *App {
   <span class="hljs-comment">// &#x8FD9;&#x73A9;&#x610F;&#x6BD4;&#x8F83;&#x5173;&#x952E;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x8DEF;&#x7531;&#x5168;&#x5728;&#x91CC;&#x9762;&#x4E86;</span>
    cr := NewControllerRegister()
    app := &amp;App{Handlers: cr, Server: &amp;http.Server{}}
    <span class="hljs-keyword">return</span> app
}
</code></pre>
<p><code>BeeApp.Run</code> &#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code class="lang-go"><span class="hljs-comment">// Run beego application.</span>
<span class="hljs-keyword">func</span> (app *App) Run() {
    addr := HttpAddr

    <span class="hljs-keyword">if</span> HttpPort != <span class="hljs-number">0</span> {
        addr = fmt.Sprintf(<span class="hljs-string">&quot;%s:%d&quot;</span>, HttpAddr, HttpPort)
    }

    <span class="hljs-keyword">var</span> (
        err error
        l   net.Listener
    )
    endRunning := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-typename">bool</span>, <span class="hljs-number">1</span>)

   <span class="hljs-comment">// &#x4F7F;&#x7528;FastCGI&#x6765;&#x63D0;&#x4F9B;&#x670D;&#x52A1;</span>
    <span class="hljs-keyword">if</span> UseFcgi {
        <span class="hljs-keyword">if</span> UseStdIo {
            err = fcgi.Serve(<span class="hljs-constant">nil</span>, app.Handlers) <span class="hljs-comment">// standard I/O</span>
            <span class="hljs-keyword">if</span> err == <span class="hljs-constant">nil</span> {
                BeeLogger.Info(<span class="hljs-string">&quot;Use FCGI via standard I/O&quot;</span>)
            } <span class="hljs-keyword">else</span> {
                BeeLogger.Info(<span class="hljs-string">&quot;Cannot use FCGI via standard I/O&quot;</span>, err)
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> HttpPort == <span class="hljs-number">0</span> {
                <span class="hljs-comment">// remove the Socket file before start</span>
                <span class="hljs-keyword">if</span> utils.FileExists(addr) {
                    os.Remove(addr)
                }
                l, err = net.Listen(<span class="hljs-string">&quot;unix&quot;</span>, addr)
            } <span class="hljs-keyword">else</span> {
                l, err = net.Listen(<span class="hljs-string">&quot;tcp&quot;</span>, addr)
            }
            <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
                BeeLogger.Critical(<span class="hljs-string">&quot;Listen: &quot;</span>, err)
            }
            err = fcgi.Serve(l, app.Handlers)
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// &#x4F18;&#x96C5;&#x5730;&#x542F;&#x52A8;&#x5173;&#x95ED;&#x670D;&#x52A1;</span>
        <span class="hljs-keyword">if</span> Graceful {
            app.Server.Addr = addr
            app.Server.Handler = app.Handlers
            app.Server.ReadTimeout = time.Duration(HttpServerTimeOut) * time.Second
            app.Server.WriteTimeout = time.Duration(HttpServerTimeOut) * time.Second
            <span class="hljs-keyword">if</span> EnableHttpTLS {
                <span class="hljs-keyword">go</span> <span class="hljs-keyword">func</span>() {
                    time.Sleep(<span class="hljs-number">20</span> * time.Microsecond)
                    <span class="hljs-keyword">if</span> HttpsPort != <span class="hljs-number">0</span> {
                        addr = fmt.Sprintf(<span class="hljs-string">&quot;%s:%d&quot;</span>, HttpAddr, HttpsPort)
                        app.Server.Addr = addr
                    }
                    <span class="hljs-comment">// &#x770B;&#x5230;app.Handlers&#x6CA1;&#xFF1F;</span>
                    server := grace.NewServer(addr, app.Handlers)
                    server.Server = app.Server
                    err := server.ListenAndServeTLS(HttpCertFile, HttpKeyFile)
                    <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
                        BeeLogger.Critical(<span class="hljs-string">&quot;ListenAndServeTLS: &quot;</span>, err, fmt.Sprintf(<span class="hljs-string">&quot;%d&quot;</span>, os.Getpid()))
                        time.Sleep(<span class="hljs-number">100</span> * time.Microsecond)
                        endRunning &lt;- <span class="hljs-constant">true</span>
                    }
                }()
            }
            <span class="hljs-keyword">if</span> EnableHttpListen {
                <span class="hljs-keyword">go</span> <span class="hljs-keyword">func</span>() {
                    <span class="hljs-comment">// &#x770B;&#x5230;&#x6CA1;&#xFF1F;</span>
                    server := grace.NewServer(addr, app.Handlers)
                    server.Server = app.Server
                    <span class="hljs-keyword">if</span> ListenTCP4 &amp;&amp; HttpAddr == <span class="hljs-string">&quot;&quot;</span> {
                        server.Network = <span class="hljs-string">&quot;tcp4&quot;</span>
                    }
                    err := server.ListenAndServe()
                    <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
                        BeeLogger.Critical(<span class="hljs-string">&quot;ListenAndServe: &quot;</span>, err, fmt.Sprintf(<span class="hljs-string">&quot;%d&quot;</span>, os.Getpid()))
                        time.Sleep(<span class="hljs-number">100</span> * time.Microsecond)
                        endRunning &lt;- <span class="hljs-constant">true</span>
                    }
                }()
            }
        } <span class="hljs-keyword">else</span> {
            app.Server.Addr = addr
            <span class="hljs-comment">//</span>
            app.Server.Handler = app.Handlers
            app.Server.ReadTimeout = time.Duration(HttpServerTimeOut) * time.Second
            app.Server.WriteTimeout = time.Duration(HttpServerTimeOut) * time.Second

            <span class="hljs-keyword">if</span> EnableHttpTLS {
                <span class="hljs-keyword">go</span> <span class="hljs-keyword">func</span>() {
                    time.Sleep(<span class="hljs-number">20</span> * time.Microsecond)
                    <span class="hljs-keyword">if</span> HttpsPort != <span class="hljs-number">0</span> {
                        app.Server.Addr = fmt.Sprintf(<span class="hljs-string">&quot;%s:%d&quot;</span>, HttpAddr, HttpsPort)
                    }
                    BeeLogger.Info(<span class="hljs-string">&quot;https server Running on %s&quot;</span>, app.Server.Addr)
                    err := app.Server.ListenAndServeTLS(HttpCertFile, HttpKeyFile)
                    <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
                        BeeLogger.Critical(<span class="hljs-string">&quot;ListenAndServeTLS: &quot;</span>, err)
                        time.Sleep(<span class="hljs-number">100</span> * time.Microsecond)
                        endRunning &lt;- <span class="hljs-constant">true</span>
                    }
                }()
            }

            <span class="hljs-keyword">if</span> EnableHttpListen {
                <span class="hljs-keyword">go</span> <span class="hljs-keyword">func</span>() {
                    app.Server.Addr = addr
                    BeeLogger.Info(<span class="hljs-string">&quot;http server Running on %s&quot;</span>, app.Server.Addr)
                    <span class="hljs-keyword">if</span> ListenTCP4 &amp;&amp; HttpAddr == <span class="hljs-string">&quot;&quot;</span> {
                        ln, err := net.Listen(<span class="hljs-string">&quot;tcp4&quot;</span>, app.Server.Addr)
                        <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
                            BeeLogger.Critical(<span class="hljs-string">&quot;ListenAndServe: &quot;</span>, err)
                            time.Sleep(<span class="hljs-number">100</span> * time.Microsecond)
                            endRunning &lt;- <span class="hljs-constant">true</span>
                            <span class="hljs-keyword">return</span>
                        }
                        err = app.Server.Serve(ln)
                        <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
                            BeeLogger.Critical(<span class="hljs-string">&quot;ListenAndServe: &quot;</span>, err)
                            time.Sleep(<span class="hljs-number">100</span> * time.Microsecond)
                            endRunning &lt;- <span class="hljs-constant">true</span>
                            <span class="hljs-keyword">return</span>
                        }
                    } <span class="hljs-keyword">else</span> {
                        err := app.Server.ListenAndServe()
                        <span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
                            BeeLogger.Critical(<span class="hljs-string">&quot;ListenAndServe: &quot;</span>, err)
                            time.Sleep(<span class="hljs-number">100</span> * time.Microsecond)
                            endRunning &lt;- <span class="hljs-constant">true</span>
                        }
                    }
                }()
            }
        }

    }
    &lt;-endRunning
}
</code></pre>
<p>&#x5BF9;&#x4E8E;&#x4E09;&#x79CD;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x65B9;&#x5F0F;&#xFF0C;&#x8FD9;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x90FD;&#x8981;&#x6C42;<code>app.Handlers</code>&#x5B9E;&#x73B0;&#x4E86;<code>http.Handler</code>&#x63A5;&#x53E3;&#xFF1A;</p>
<pre><code class="lang-go"><span class="hljs-keyword">type</span> Handler <span class="hljs-keyword">interface</span> {
    ServeHTTP(ResponseWriter, *Request)
}
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../../language/go/beego/summary.html" class="navigation navigation-prev " aria-label="Previous page: 概述"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../../language/go/beego/handle-request.html" class="navigation navigation-next " aria-label="Next page: 请求处理"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
